



<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="zh">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>4.2.模块 - Python笔记</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.0284f74d.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#_1" tabindex="1" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Python笔记" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Python笔记
            </span>
            <span class="md-header-nav__topic">
              
                4.2.模块
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/example/repository/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Python笔记" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Python笔记
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/example/repository/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      计算机基础
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        计算机基础
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../计算机基础/1.1.计算机与程序结构.html" title="1.1.计算机与程序结构" class="md-nav__link">
      1.1.计算机与程序结构
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../计算机基础/1.2.基本概念.html" title="1.2.基本概念" class="md-nav__link">
      1.2.基本概念
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../计算机基础/1.3.编译型语言和解释型语言的优缺点对比.html" title="1.3.编译型语言和解释型语言的优缺点对比" class="md-nav__link">
      1.3.编译型语言和解释型语言的优缺点对比
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../计算机基础/1.4.命名空间与作用域.html" title="1.4.命名空间与作用域" class="md-nav__link">
      1.4.命名空间与作用域
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../计算机基础/1.5.字符编码.html" title="1.5.字符编码" class="md-nav__link">
      1.5.字符编码
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Python 基础
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Python 基础
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="2.1.python基本语法.html" title="2.1.python基本语法" class="md-nav__link">
      2.1.python基本语法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="2.2.语句.html" title="2.2.语句" class="md-nav__link">
      2.2.语句
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="2.3.List.html" title="2.3.List" class="md-nav__link">
      2.3.List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="2.4.String.html" title="2.4.String" class="md-nav__link">
      2.4.String
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="2.5.Tuple.html" title="2.5.Tuple" class="md-nav__link">
      2.5.Tuple
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="2.6.Dict.html" title="2.6.Dict" class="md-nav__link">
      2.6.Dict
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="3.1.异常.html" title="3.1.异常" class="md-nav__link">
      3.1.异常
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="3.2.浅拷贝_深拷贝.html" title="3.2.浅拷贝_深拷贝" class="md-nav__link">
      3.2.浅拷贝_深拷贝
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="4.1.类.html" title="4.1.类" class="md-nav__link">
      4.1.类
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        4.2.模块
      </label>
    
    <a href="4.2.模块.html" title="4.2.模块" class="md-nav__link md-nav__link--active">
      4.2.模块
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" title="为什么需要模块" class="md-nav__link">
    为什么需要模块
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" title="模块搜索路径" class="md-nav__link">
    模块搜索路径
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" title="添加搜索路径" class="md-nav__link">
    添加搜索路径
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syspathappend" title="添加临时路径——sys.path.append" class="md-nav__link">
    添加临时路径——sys.path.append
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" title="修改环境变量" class="md-nav__link">
    修改环境变量
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pth" title="添加永久搜索路径——增加.pth文件" class="md-nav__link">
    添加永久搜索路径——增加.pth文件
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" title="模块的导入" class="md-nav__link">
    模块的导入
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" title="注意" class="md-nav__link">
    注意
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" title="模块的识别" class="md-nav__link">
    模块的识别
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" title="作用域" class="md-nav__link">
    作用域
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" title="作为脚本来执行模块" class="md-nav__link">
    作为脚本来执行模块
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-pyc" title="“编译的” Python 文件——pyc 文件" class="md-nav__link">
    “编译的” Python 文件——pyc 文件
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Numpy笔记
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Numpy笔记
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../numpy笔记/5.1.创建数组.html" title="5.1.创建数组" class="md-nav__link">
      5.1.创建数组
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../numpy笔记/5.2.索引.html" title="5.2.索引" class="md-nav__link">
      5.2.索引
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../numpy笔记/5.3.属性.html" title="5.3.属性" class="md-nav__link">
      5.3.属性
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../numpy笔记/5.5.常量.html" title="5.5.常量" class="md-nav__link">
      5.5.常量
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../numpy笔记/5.6.打印数组.html" title="5.6.打印数组" class="md-nav__link">
      5.6.打印数组
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../numpy笔记/5.7.形状操纵.html" title="5.7.形状操纵" class="md-nav__link">
      5.7.形状操纵
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../numpy笔记/5.8.ufunc函数.html" title="5.8.ufunc函数" class="md-nav__link">
      5.8.ufunc函数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../numpy笔记/5.9.函数库.html" title="5.9.函数库" class="md-nav__link">
      5.9.函数库
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" title="为什么需要模块" class="md-nav__link">
    为什么需要模块
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" title="模块搜索路径" class="md-nav__link">
    模块搜索路径
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" title="添加搜索路径" class="md-nav__link">
    添加搜索路径
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syspathappend" title="添加临时路径——sys.path.append" class="md-nav__link">
    添加临时路径——sys.path.append
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" title="修改环境变量" class="md-nav__link">
    修改环境变量
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pth" title="添加永久搜索路径——增加.pth文件" class="md-nav__link">
    添加永久搜索路径——增加.pth文件
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" title="模块的导入" class="md-nav__link">
    模块的导入
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" title="注意" class="md-nav__link">
    注意
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" title="模块的识别" class="md-nav__link">
    模块的识别
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" title="作用域" class="md-nav__link">
    作用域
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" title="作为脚本来执行模块" class="md-nav__link">
    作为脚本来执行模块
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-pyc" title="“编译的” Python 文件——pyc 文件" class="md-nav__link">
    “编译的” Python 文件——pyc 文件
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/example/repository/edit/master/docs/Python基础/4.2.模块.md" title="编辑此页" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>4.2.模块</h1>
                
                <h2 id="_1">为什么需要模块</h2>
<p>如果你想要编写一些更大的程序，肯定不想定义重复的函数、类，想让代码可以重复使用。随着程序变得越来越大，你可能想要将它分割成几个更易于维护的文件。为了满足这些需要，Python 提供了一个方法可以从文件中获取定义，在脚本或者解释器的一个交互式实例中使用。这样的文件被称为模块。</p>
<h2 id="_2">模块搜索路径</h2>
<p><strong>Python 怎样知道从何处找到模块文件？</strong></p>
<p>如果你熟悉命令行，那么这个问题对你来说就不难理解。在命令行中执行的任何命令，实际上背后都对应了一个可执行文件。命令行解释器（比如 cmd, bash）会从一个全局的环境变量 PATH 中读取一个有序的列表。这个列表包含了一系列的路径，而命令行解释器，会依次在这些路径里，搜索需要的可执行文件。</p>
<p>Python 搜寻模块文件，也遵循了类似的思路。比如，用户在 Python 中尝试导入 import foobar，那么</p>
<ul>
<li>
<p>首先，Python 会在内建模块中搜寻 foobar；</p>
</li>
<li>
<p>若未找到，则 Python 会在当前工作路径（当前脚本所在路径，或者执行 Python 解释器的路径）中搜寻 foobar；</p>
</li>
<li>
<p>若仍未找到，则 Python 会在环境变量 <code>PYTHONPATH</code> 中指示的路径中搜寻 foobar；</p>
</li>
<li>
<p>若依旧未能找到，则 Python 会在安装时指定的路径中搜寻 foobar；</p>
</li>
<li>
<p>若仍旧失败，则 Python 会报错，提示找不到 foobar 这个模块。</p>
</li>
</ul>
<h2 id="_3">添加搜索路径</h2>
<p>当我们使用import加载自己编写的py代码时，必须放在python的默认路径下才可以import。</p>
<h3 id="syspathappend">添加临时路径——<code>sys.path.append</code></h3>
<p>在python中引入<code>sys</code>，<code>sys</code>中的<code>path</code>是一个列表类型的对象，内容就是路径的列表，我们将sys引入后查看就可以清楚的知道了：</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">))</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">&lt;class &#39;list&#39;&gt;</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">[&#39;G:\\1.User\\Desktop 2\\Wiki\\04.Python&#39;,</span>
<span class="err"> &#39;C:\\Users\\Android\\Desktop&#39;,</span>
<span class="err"> &#39;G:\\Installed\\Anaconda3\\python37.zip&#39;,</span>
<span class="err"> &#39;G:\\Installed\\Anaconda3\\DLLs&#39;,</span>
<span class="err"> &#39;G:\\Installed\\Anaconda3\\lib&#39;,</span>
<span class="err"> &#39;G:\\Installed\\Anaconda3&#39;,</span>
<span class="err"> &#39;C:\\Users\\Android\\AppData\\Roaming\\Python\\Python37\\site-</span>
<span class="err">packages&#39;,</span>
<span class="err"> &#39;G:\\Installed\\Anaconda3\\lib\\site-packages&#39;,</span>
<span class="err"> &#39;G:\\Installed\\Anaconda3\\lib\\site-packages\\win32&#39;,</span>
<span class="err"> &#39;G:\\Installed\\Anaconda3\\lib\\site-packages\\win32\\lib&#39;,</span>
<span class="err"> &#39;G:\\Installed\\Anaconda3\\lib\\site-packages\\Pythonwin&#39;,</span>
<span class="err"> &#39;G:\\Installed\\Anaconda3\\lib\\site-packages\\IPython\\extensions&#39;]</span>
</pre></div>


<p>既然是list对象，那么使用append可以向列表添加新的元素，假设我们要添加的路径是r"C:\Users\Android\Desktop"：</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\Android\Desktop&quot;</span><span class="p">)</span>
</pre></div>


<p>但这只是临时添加路径，如果重启编译器，添加的路径就会消失。</p>
<h3 id="_4">修改环境变量</h3>
<p>在Windows10中，选择<strong>-&gt;控制面板\系统和安全\系统-&gt;高级系统设置-&gt;环境变量</strong>，</p>
<div class="codehilite"><pre><span></span><span class="c1"># 找到path后选择编辑，添加新的路径。</span>
</pre></div>


<p>但这种方法不能适用所有python的功能，因为这种方法并未将要查找的路径添加到python的Path系统环境中，在sys.path的列表中找不到相关路径的元素。也就是说这样做并没有将路径添加到python的搜索路径中。</p>
<h3 id="pth">添加永久搜索路径——增加.pth文件</h3>
<p>在site-packages文件夹添加path文件，可以实现搜索路径的永久添加。方法如下：</p>
<p>先编辑一个扩展名为<code>.pth</code>的文本文件，在这个文本文件里面写上要添加的path就可以了，例如：</p>
<p>文本文件的文件名是：test.pth</p>
<p><code>test.pth</code>文件的内容是：</p>
<div class="codehilite"><pre><span></span><span class="c">C:\Users\Android\Desktop</span>
</pre></div>


<p>接着获取python的site-packages文件夹的路径：</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">site</span>
<span class="n">site</span><span class="o">.</span><span class="n">getsitepackages</span><span class="p">()</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">[&#39;G:\\Installed\\Anaconda3&#39;, &#39;G:\\Installed\\Anaconda3\\lib\\site-</span>
<span class="err">packages&#39;]</span>
</pre></div>


<p>然后将<code>test.pth</code>文件放进<code>G:\Installed\Anaconda3\lib\site-packages</code>里面即可。</p>
<h2 id="_5">模块的导入</h2>
<p>在 python 用 <code>import</code> 或者 <code>from...import</code> 来导入相应的模块。</p>
<p><strong>将整个模块(module)导入:</strong></p>
<p>例如，我们要使用使用<code>sys</code>模块，那么首先要导入该模块：</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
</pre></div>


<p>导入<code>sys</code>模块后，我们就有了<strong>变量<code>sys</code>指向该模块，利用<code>sys</code>这个变量，就可以访问<code>sys</code>模块的所有功能。</strong>也就是说导入整个模块的做法会导致命名空间的修改。</p>
<p>也可以一次性导入多个module：</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">time</span>
</pre></div>


<p>通过<code>as</code>关键字，可以在导入module的时候，给module定义别名：</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span> <span class="k">as</span> <span class="nn">system</span>
</pre></div>


<p><strong>从某个模块中导入函数：</strong></p>
<p>从某个模块中导入某个函数</p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">somemodule</span> <span class="kn">import</span> <span class="n">somefunction</span>
</pre></div>


<p>从某个模块中导入多个函数</p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">somemodule</span> <span class="kn">import</span> <span class="n">firstfunc</span><span class="p">,</span> <span class="n">secondfunc</span><span class="p">,</span> <span class="n">thirdfunc</span>
</pre></div>


<p>将某个模块中的全部函数导入</p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">somemodule</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>


<p>一般而言，除了实验、排查，不推荐导入模块内的所有公开符号（没有前缀 _ 的那些）。因为导入模块会修改namespace，而通常你不知道模块定义了哪些符号、是否与当前的namespace有重名的符号。一旦有重名，那么，就会覆盖掉当前namespace的值。从而造成难以排查的错误</p>
<h2 id="_6">注意</h2>
<p>出于性能考虑，每个模块在每个解释器会话中只导入一遍。因此，如果修改了的模块，需要重启解释器；
或者，如果你就是想交互式的测试这么一个模块，可以用 imp.reload() 重新加载，例如</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">imp</span>
<span class="n">imp</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">modulename</span><span class="p">)</span><span class="err">。</span>
</pre></div>


<h2 id="_7">模块的识别</h2>
<p>和 Python 中的其它对象一样，Python 也为模块定义了一些形如 <code>__foo__</code> 的变量。对于模块来说，最重要的就是它的名字 <code>__name__</code> 了。每当 Python 执行脚本，它就会为该脚本赋予一个名字。对于「主程序」来说，这一脚本的 <code>__name__</code> 被定义为 <code>"__main__"</code>；对于被 <code>import</code> 进主程序的模块来说，这一脚本的 <code>__name__</code> 被定义为脚本的文件名（base filename）。因此，我们可以用 <code>if __name__ == "__main__":</code> 在模块代码中定义一些测试代码。</p>
<p>例如：当我们在命令行运行<code>hello</code>模块文件时，Python解释器把一个特殊变量<code>__name__</code>置为<code>__main__</code>，而如果在其他地方导入该<code>hello</code>模块时，<code>if</code>判断将失败。因此，这种<code>if</code>测试可以让一个模块通过命令行运行时执行一些额外的代码，最常见的就是运行测试，例如下面的示例脚本。</p>
<blockquote>
<p>参考：(Python 中的黑暗角落（三）：模块与包)[https://liam0205.me/2017/07/23/modules-and-packages-of-python/]</p>
</blockquote>
<div class="codehilite"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
</pre></div>


<p>-<em>- coding: utf-8 -</em>-</p>
<div class="codehilite"><pre><span></span><span class="s1">&#39; a test module &#39;</span>

<span class="n">__author__</span> <span class="o">=</span> <span class="s1">&#39;Michael Liao&#39;</span>

<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hello, world!&#39;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hello, </span><span class="si">%s</span><span class="s1">!&#39;</span> <span class="o">%</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Too many arguments!&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span><span class="o">==</span><span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">test</span><span class="p">()</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">Hello, world!</span>
</pre></div>


<h2 id="_8">作用域</h2>
<p>在一个模块中，我们可能会定义很多函数和变量，但有的函数和变量我们希望给别人使用，有的函数和变量我们希望仅仅在模块内部使用，在Python中，是通过<code>_</code>前缀来实现的。</p>
<p>正常的函数和变量名是公开的（public），可以被直接引用，比如：<code>abc</code>，<code>x123</code>，<code>PI</code>等；</p>
<p>类似<code>__xxx__</code>这样的变量是特殊变量，可以被直接引用，但是有特殊用途，比如上面的<code>__author__</code>，<code>__name__</code>就是特殊变量，<code>hello</code>模块定义的文档注释也可以用特殊变量<code>__doc__</code>访问，我们自己的变量一般不要用这种变量名；</p>
<p>类似<code>_xxx</code>和<code>__xxx</code>这样的函数或变量就是非公开的（private），不应该被直接引用，比如<code>_abc</code>，<code>__abc</code>等；</p>
<p>之所以我们说，private函数和变量“不应该”被直接引用，而不是“不能”被直接引用，是因为Python并没有一种方法可以完全限制访问private函数或变量，但是，从编程习惯上不应该引用private函数或变量。</p>
<p>private函数或变量不应该被别人引用，那它们有什么用呢？请看例子</p>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">_private_1</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;Hello, </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">name</span>

<span class="k">def</span> <span class="nf">_private_2</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;Hi, </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">name</span>

<span class="k">def</span> <span class="nf">greeting</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_private_1</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_private_2</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>


<p>我们在模块里公开<code>greeting()</code>函数，而把内部逻辑用private函数隐藏起来了，这样，调用<code>greeting()</code>函数不用关心内部的private函数细节，这也是一种非常有用的代码封装和抽象的方法，即：</p>
<p>外部不需要引用的函数全部定义成private，只有外部需要引用的函数才定义为public。</p>
<h2 id="_9">作为脚本来执行模块</h2>
<p>当你使用以下方式运行 Python 模块时，模块中的代码便会被执行:</p>
<div class="codehilite"><pre><span></span><span class="err">python fibo.py &lt;arguments&gt;</span>
</pre></div>


<p>模块中的代码会被执行，就像导入它一样，不过<strong>此时 <code>__name__</code> 被设置为 <code>"__main__"</code>。</strong>这相当于，如果你在模块后加入如下代码:</p>
<div class="codehilite"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">sys</span>
    <span class="n">fib</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>


<p>就可以让此文件像作为模块导入时一样作为脚本执行。此代码只有在模块作为 “main” 文件执行时才被调用:</p>
<div class="codehilite"><pre><span></span><span class="err">$</span> <span class="n">python</span> <span class="n">fibo</span><span class="o">.</span><span class="n">py</span> <span class="mi">50</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">8</span> <span class="mi">13</span> <span class="mi">21</span> <span class="mi">34</span>
</pre></div>


<p>如果模块被导入，不会执行这段代码:</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">fibo</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>


<p>这通常用来为模块提供一个便于测试的用户接口（将模块作为脚本执行测试需求）。</p>
<h2 id="python-pyc">“编译的” Python 文件——<code>pyc</code> 文件</h2>
<p>和 LaTeX 中遇到的问题一样：装载大量文本文件（<code>.py</code>文件）是很慢的。因此 Python 也采用了类似 LaTeX 的解决方案：将模块编译成容易装载的文件，并在 <code>__pycache__</code> 目录下以 <code>module.*version*.pyc</code> 名字缓存这些文件。（相当于 LaTeX 中的 dump 格式文件 <code>.fmt</code>）。</p>
<blockquote>
<p>这里的版本编制了编译后文件的格式。它通常会包含 Python 的版本号。例如，在 CPython 3.3 版中，spam.py 编译后的版本将缓存为 <code>__pycache__/spam.cpython-33.pyc</code>。这种命名约定允许由不同发布和不同版本的 Python 编译的模块同时存在。</p>
</blockquote>
<p>当 Python 编译好模块之后，下次载入时，Python 就会读取相应的 <code>.pyc</code> 文件，而不是 <code>.py</code> 文件。而装载 <code>.pyc</code>文件会比装载 <code>.py</code> 文件更快。</p>
<p><strong>Python 会检查源文件与编译版的修改日期以确定它是否过期并需要重新编译。</strong>这是完全自动化的过程。同时，编译后的模块是跨平台的，所以同一个库可以在不同架构的系统之间共享。</p>
<p>Python 不检查在两个不同环境中的缓存。首先，它会永远重新编译而且不会存储直接从命令行加载的模块。其次，如果没有源模块它不会检查缓存。若要支持没有源文件（只有编译版）的发布，编译后的模块必须在源目录下，并且必须没有源文件的模块。</p>
<p>部分高级技巧:</p>
<ul>
<li>
<p>为了减少一个编译模块的大小，你可以在 Python 命令行中使用 <a href="https://docs.python.org/3/using/cmdline.html#cmdoption-O">-O</a>或者 <a href="https://docs.python.org/3/using/cmdline.html#cmdoption-OO">-OO</a>。<a href="https://docs.python.org/3/using/cmdline.html#cmdoption-O">-O</a>参数删除了断言语句，<a href="https://docs.python.org/3/using/cmdline.html#cmdoption-OO">-OO</a> 参数删除了断言语句和 <strong>doc</strong> 字符串。</p>
<p>因为某些程序依赖于这些变量的可用性，你应该只在确定无误的场合使用这一选项。“优化的” 模块有一个 <code>.pyo</code> 后缀而不是 <code>.pyc</code> 后缀。未来的版本可能会改变优化的效果。</p>
</li>
<li>
<p>来自 <code>.pyc</code> 文件或 <code>.pyo</code> 文件中的程序不会比来自 <code>.py</code> 文件的运行更快；<code>.pyc</code> 或 <code>.pyo</code> 文件只是在它们加载的时候更快一些。</p>
</li>
<li>
<p><a href="https://docs.python.org/3/library/compileall.html#module-compileall">compileall</a>模块可以为指定目录中的所有模块创建 <code>.pyc</code> 文件（或者使用 <a href="https://docs.python.org/3/using/cmdline.html#cmdoption-O">-O</a> 参数创建 <code>.pyo</code> 文件）。</p>
</li>
<li>
<p>在 PEP 3147 中有很多关这一部分内容的细节，并且包含了一个决策流程。</p>
</li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="4.1.类.html" title="4.1.类" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  上一页
                </span>
                4.1.类
              </span>
            </div>
          </a>
        
        
          <a href="../numpy笔记/5.1.创建数组.html" title="5.1.创建数组" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  下一页
                </span>
                5.1.创建数组
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.245445c6.js"></script>
      
        
        
          
          <script src="../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="../javascript/extra.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>