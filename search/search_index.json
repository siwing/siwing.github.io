{"config":{"lang":["ja"],"separator":"[\\s\\-\uff0c\u3002]+","pipeline":["stemmer"]},"docs":[{"location":"index.html","title":"Math Resource","text":""},{"location":"index.html#math-notes","title":"Math Notes","text":"<p>These are math notes written in $\\LaTeX$ (commercial use prohibited):</p> <ol> <li>\u7ebf\u6027\u4ee3\u6570</li> <li>\u6570\u7406\u7edf\u8ba1</li> <li>\u673a\u5668\u5b66\u4e60</li> </ol>"},{"location":"C%23/1.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html","title":"1.\u6570\u636e\u7c7b\u578b","text":"<p>\u7c7b\u578b\u4e2d\u53ef\u5b58\u50a8\u4ee5\u4e0b\u4fe1\u606f\uff1a</p> <ol> <li> <p>\u7c7b\u578b\u53d8\u91cf\u6240\u9700\u7684\u5185\u5b58\u7a7a\u95f4\u3002</p> </li> <li> <p>\u53ef\u4ee5\u8868\u793a\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u3002</p> </li> <li> <p>\u5728\u8fd0\u884c\u65f6\u5206\u914d\u53d8\u91cf\u5185\u5b58\u7684\u4f4d\u7f6e\u3002</p> </li> <li> <p>\u5305\u542b\u7684\u6210\u5458\uff08\u65b9\u6cd5\u3001\u5b57\u6bb5\u3001\u4e8b\u4ef6\u7b49\uff09\u3002</p> </li> <li> <p>\u7ee7\u627f\u81ea\u7684\u57fa\u7c7b\u578b\u3002</p> </li> <li> <p>\u5141\u8bb8\u6267\u884c\u7684\u8fd0\u7b97\u79cd\u7c7b\u3002</p> </li> </ol>"},{"location":"C%23/1.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#_1","title":"\u6570\u503c\u7c7b\u578b","text":""},{"location":"C%23/1.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#_2","title":"\u6574\u578b","text":"C# \u7c7b\u578b/\u5173\u952e\u5b57 \u8303\u56f4 \u5927\u5c0f .NET \u7c7b\u578b <code>sbyte</code> -128 \u5230 127 8 \u4f4d\u5e26\u7b26\u53f7\u6574\u6570 System.SByte <code>byte</code> 0 \u5230 255 \u65e0\u7b26\u53f7\u7684 8 \u4f4d\u6574\u6570 System.Byte <code>short</code> -32,768 \u5230 32,767 \u6709\u7b26\u53f7 16 \u4f4d\u6574\u6570 System.Int16 <code>ushort</code> 0 \u5230 65,535 \u65e0\u7b26\u53f7 16 \u4f4d\u6574\u6570 System.UInt16 <code>int</code> -2,147,483,648 \u5230 2,147,483,647 \u5e26\u7b26\u53f7\u7684 32 \u4f4d\u6574\u6570 System.Int32 <code>uint</code> 0 \u5230 4,294,967,295 \u65e0\u7b26\u53f7\u7684 32 \u4f4d\u6574\u6570 System.UInt32 <code>long</code> -9,223,372,036,854,775,808 \u5230 9,223,372,036,854,775,807 64 \u4f4d\u5e26\u7b26\u53f7\u6574\u6570 System.Int64 <code>ulong</code> 0 \u5230 18,446,744,073,709,551,615 \u65e0\u7b26\u53f7 64 \u4f4d\u6574\u6570 System.UInt64 <p>\u5728\u4e0a\u8868\u4e2d\uff0c\u6700\u5de6\u4fa7\u5217\u4e2d\u7684\u6bcf\u4e2a C# \u7c7b\u578b\u5173\u952e\u5b57\u90fd\u662f\u76f8\u5e94 .NET \u7c7b\u578b\u7684\u522b\u540d\u3002\u5b83\u4eec\u662f\u53ef\u4e92\u6362\u7684\u3002 \u4f8b\u5982\uff0c\u4ee5\u4e0b\u58f0\u660e\u58f0\u660e\u4e86\u76f8\u540c\u7c7b\u578b\u7684\u53d8\u91cf\uff1a</p> <pre><code>int a = 8;\nSystem.Int32 b = 8;\n</code></pre> <p>\u6bcf\u4e2a\u6574\u578b\u7c7b\u578b\u7684\u9ed8\u8ba4\u503c\u90fd\u4e3a\u96f6 0\u3002</p> <pre><code>int int_var;\nConsole.WriteLine(int_var)\n</code></pre> <pre><code>0\n</code></pre> <p>\u6bcf\u4e2a\u6574\u578b\u7c7b\u578b\u90fd\u6709 MinValue \u548c MaxValue \u5e38\u91cf\uff0c\u63d0\u4f9b\u8be5\u7c7b\u578b\u7684\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\u3002</p> <pre><code>int.MinValue\n</code></pre> <pre><code>-2147483648\n</code></pre>"},{"location":"C%23/1.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#_3","title":"\u6d6e\u70b9\u578b","text":"<p>C# \u652f\u6301\u4ee5\u4e0b\u9884\u5b9a\u4e49\u6d6e\u70b9\u7c7b\u578b\uff1a</p> C# \u7c7b\u578b/\u5173\u952e\u5b57 \u5927\u81f4\u8303\u56f4 \u7cbe\u5ea6 \u5927\u5c0f .NET \u7c7b\u578b <code>float</code> \u00b11.5 x 10\u221245 \u81f3 \u00b13.4 x 1038 \u5927\u7ea6 6-9 \u4f4d\u6570\u5b57 4 \u4e2a\u5b57\u8282 System.Single <code>double</code> \u00b15.0 \u00d7 10\u2212324 \u5230 \u00b11.7 \u00d7 10308 \u5927\u7ea6 15-17 \u4f4d\u6570\u5b57 8 \u4e2a\u5b57\u8282 System.Double <code>decimal</code> \u00b11.0 x 10-28 \u81f3 \u00b17.9228 x 1028 28-29 \u4f4d 16 \u4e2a\u5b57\u8282 System.Decimal <p>\u6bcf\u4e2a\u6d6e\u70b9\u7c7b\u578b\u7684\u9ed8\u8ba4\u503c\u90fd\u4e3a\u96f6\uff0c0\u3002 \u6bcf\u4e2a\u6d6e\u70b9\u7c7b\u578b\u90fd\u6709 MinValue \u548c MaxValue \u5e38\u91cf\uff0c\u63d0\u4f9b\u8be5\u7c7b\u578b\u7684\u6700\u5c0f\u503c\u548c\u6700\u5927\u6709\u9650\u503c\u3002 float and double \u7c7b\u578b\u8fd8\u63d0\u4f9b\u53ef\u8868\u793a\u975e\u6570\u5b57\u548c\u65e0\u7a77\u5927\u503c\u7684\u5e38\u91cf\u3002 \u4f8b\u5982\uff0cdouble \u7c7b\u578b\u63d0\u4f9b\u4ee5\u4e0b\u5e38\u91cf\uff1aDouble.NaN\u3001Double.NegativeInfinity \u548c Double.PositiveInfinity\u3002</p> <pre><code>Console.WriteLine(double.NaN);\nConsole.WriteLine(double.NegativeInfinity);\nConsole.WriteLine(double.PositiveInfinity);\nConsole.WriteLine(\"----------\");\nConsole.WriteLine(float.NaN);\nConsole.WriteLine(float.NegativeInfinity);\nConsole.WriteLine(float.PositiveInfinity);\n</code></pre> <pre><code>NaN\n-\u221e\n\u221e\n----------\nNaN\n-\u221e\n\u221e\n</code></pre> <p>\u5728\u521d\u59cb\u5316\u6216\u8d4b\u503c\u7684\u65f6\u5019\uff0c\u771f\u5b9e\u6d6e\u70b9\u7c7b\u578b\u7531\u5176\u540e\u7f00\u786e\u5b9a\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <ul> <li>\u4e0d\u5e26\u540e\u7f00\u7684\u6587\u672c\u6216\u5e26\u6709 <code>d</code> \u6216 <code>D</code> \u540e\u7f00\u7684\u6d6e\u70b9\u6570\u7684\u7c7b\u578b\u4e3a <code>double</code></li> <li>\u5e26\u6709 <code>f</code> \u6216 <code>F</code> \u540e\u7f00\u7684\u6d6e\u70b9\u6570\u7684\u7c7b\u578b\u4e3a <code>float</code></li> <li>\u5e26\u6709 <code>m</code> \u6216 <code>M</code> \u540e\u7f00\u7684\u6d6e\u70b9\u6570\u7684\u7c7b\u578b\u4e3a <code>decimal</code></li> </ul> <p>\u5982\u679c\u58f0\u660e\u4e00\u4e2a<code>float</code>\u6216<code>decimal</code>\u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u4f46\u521d\u59cb\u5316\u65f6\u4e0d\u5e26\u6709\u76f8\u5e94\u7684\u540e\u7f00\uff0c\u5219\u7f16\u8bd1\u65f6\u4f1a\u51fa\u9519\u3002</p> <pre><code>float myMoney = 123.123;\nConsole.WriteLine(myMoney.GetType());\n</code></pre> <pre><code>(1,17): error CS0664: Literal of type double cannot be implicitly converted to type 'float'; use an 'F' suffix to create a literal of this type\n</code></pre>"},{"location":"C%23/1.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#_4","title":"\u8fdb\u5236\u8868\u793a","text":"<p>C# \u4e2d\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7684\u8fdb\u5236\u7cfb\u7edf\u6709\u4e8c\u8fdb\u5236\u3001\u5341\u8fdb\u5236\u3001\u5341\u516d\u8fdb\u5236\u3002</p> <pre><code>// \u4e8c\u8fdb\u5236\nsbyte base_8 = 0b10;\nConsole.WriteLine(base_8);\n\n// \u5341\u516d\u8fdb\u5236 0x \u4f5c\u4e3a\u524d\u7f00\nsbyte base_16 = -0x12;\nConsole.WriteLine(base_16);\n</code></pre> <pre><code>2\n-18\n</code></pre>"},{"location":"C%23/1.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#bool","title":"bool\u7c7b\u578b","text":"<p>bool \u7c7b\u578b\u5173\u952e\u5b57\u662f .NET System.Boolean \u7ed3\u6784\u7c7b\u578b\u7684\u522b\u540d\uff0c\u5b83\u8868\u793a\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u53ef\u4e3a true \u6216 false\u3002</p>"},{"location":"C%23/1.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#_5","title":"\u5b57\u7b26\u7c7b\u578b","text":"<p><code>char</code> \u7c7b\u578b\u5173\u952e\u5b57\u662f .NET System.Char \u7ed3\u6784\u7c7b\u578b\u7684\u522b\u540d\uff0c\u5b83\u8868\u793a \u5355\u4e2aUnicode UTF-16 \u5b57\u7b26\u3002</p> \u7c7b\u578b \u8303\u56f4 \u5927\u5c0f .NET \u7c7b\u578b <code>char</code> U+0000 \u5230 U+FFFF 16 \u4f4d System.Char <p><code>char</code> \u7c7b\u578b\u7684\u9ed8\u8ba4\u503c\u4e3a <code>\\0</code>\uff0c\u5373 U+0000\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6307\u5b9a <code>char</code> \u503c\uff1a</p> <ul> <li>\u5b57\u7b26\u6587\u672c\u3002</li> <li>Unicode \u8f6c\u4e49\u5e8f\u5217\uff0c\u5b83\u662f <code>\\u</code> \u540e\u8ddf\u5b57\u7b26\u4ee3\u7801\u7684\u5341\u516d\u8fdb\u5236\u8868\u793a\u5f62\u5f0f\uff08\u56db\u4e2a\u7b26\u53f7\uff09\u3002</li> <li>\u5341\u516d\u8fdb\u5236\u8f6c\u4e49\u5e8f\u5217\uff0c\u5b83\u662f <code>\\x</code> \u540e\u8ddf\u5b57\u7b26\u4ee3\u7801\u7684\u5341\u516d\u8fdb\u5236\u8868\u793a\u5f62\u5f0f\u3002</li> </ul> <p>\u6ce8\u610f\uff1a\u5355\u5f15\u53f7\u8868\u793a<code>char</code>\u7c7b\u578b\uff0c\u53cc\u5f15\u53f7\u8868\u793a<code>string</code>\u7c7b\u578b\u3002</p> <pre><code>char unicode_string = '\\x4e2d';\nConsole.WriteLine(unicode_string);\nunicode_string = '\\u4e2d';\nConsole.WriteLine(unicode_string);\n</code></pre> <pre><code>\u4e2d\n\u4e2d\n</code></pre>"},{"location":"C%23/1.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#_6","title":"\u5f15\u7528\u7c7b\u578b","text":""},{"location":"C%23/1.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#_7","title":"\u5b57\u7b26\u4e32\u7c7b\u578b","text":"<p>string \u7c7b\u578b\u8868\u793a\u96f6\u4e2a\u6216\u591a\u4e2a Unicode \u5b57\u7b26\u7684\u5e8f\u5217\u3002 string \u662f System.String \u5728 .NET \u4e2d\u7684\u522b\u540d\u3002\u5c3d\u7ba1 string \u4e3a\u5f15\u7528\u7c7b\u578b\uff0c\u4f46\u662f\u5b9a\u4e49\u76f8\u7b49\u8fd0\u7b97\u7b26 == \u548c != \u662f\u4e3a\u4e86\u6bd4\u8f83 string \u5bf9\u8c61\uff08\u800c\u4e0d\u662f\u5f15\u7528\uff09\u7684\u503c\u3002</p> <p>\u6ce8\u610f\uff1a\u5355\u5f15\u53f7\u8868\u793a<code>char</code>\u7c7b\u578b\uff0c\u53cc\u5f15\u53f7\u8868\u793a<code>string</code>\u7c7b\u578b\u3002</p> <p>\u867d\u7136\u5b57\u7b26\u4e32\u65f6\u5f15\u7528\u7c7b\u578b\uff0c\u4f46\u5b57\u7b26\u4e32\u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u8fd9\u548cPython\u662f\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u5728C#\u4e2d\u65e0\u6cd5\u5bf9\u5b57\u7b26\u4e32\u53d8\u91cf\u8d4b\u503c\u3002</p> <pre><code>string str_1 = \"string_1\";\nConsole.WriteLine(str_1);\nstr_1 = \"string_2\"\nConsole.WriteLine(str_1);\n</code></pre> <pre><code>(3,19): error CS1002: ; expected\n</code></pre> <p>\u5c3d\u7ba1\u6709\u4e9b\u8bed\u6cd5\u4e0a\u770b\u4f3c\u4e4e\u53ef\u4ee5\u66f4\u6539\u5b57\u7b26\u4e32\u7684\u5185\u5bb9\uff0c\u4f46\u4e8b\u5b9e\u4e0a\u5e76\u4e0d\u53ef\u884c\u3002\u4f8b\u5982\uff0c\u7f16\u5199\u6b64\u4ee3\u7801\u65f6\uff0c\u7f16\u8bd1\u5668\u5b9e\u9645\u4e0a\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5b57\u7b26\u4e32\u5bf9\u8c61\u6765\u4fdd\u5b58\u65b0\u7684\u5b57\u7b26\u5e8f\u5217\uff0c\u4e14\u8be5\u65b0\u5bf9\u8c61\u5c06\u8d4b\u7ed9<code>str_2</code>\u3002 \u5df2\u4e3a <code>str_2</code> \u5206\u914d\u7684\u5185\u5b58\uff08\u5f53\u5b83\u5305\u542b\u5b57\u7b26\u4e32\u201ch\u201d\u65f6\uff09\u53ef\u7528\u4e8e\u5783\u573e\u56de\u6536\u3002</p> <pre><code>string str_2 = \"h\";\nstr_2 += \"ello\";\n</code></pre>"},{"location":"C%23/1.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#_8","title":"\u9010\u5b57\u5b57\u7b26\u4e32","text":"<p>\u548cPython\u4e00\u6837\uff0cC# \u4f7f\u7528\u53cd\u659c\u6760<code>\\</code>\u8868\u793a\u8f6c\u4e49\uff0c\u5982\u679c\u60f3\u8ba9\u4e00\u4e2a\u5e26\u6709\u8f6c\u4e49\u5b57\u7b26\u7684\u5b57\u7b26\u4e32\u4e0d\u8fdb\u884c\u8f6c\u4e49\uff0c\u53ef\u4ee5\u4e3a\u5b57\u7b26\u4e32\u6dfb\u52a0\u524d\u7f00<code>@</code>\uff0c\u8fd9\u79f0\u4e3a\u9010\u5b57\u5b57\u7b26\u4e32\u3002\u9010\u5b57\u5b57\u7b26\u4e32\u7684\u4f18\u70b9\u662f\u4e0d\u5904\u7406\u8f6c\u4e49\u5e8f\u5217\uff0c\u8fd9\u6837\u5c31\u53ef\u8f7b\u677e\u7f16\u5199\u5b8c\u5168\u9650\u5b9a\u7684 Windows \u6587\u4ef6\u540d\uff1a</p> <pre><code>@\"c:\\Docs\\Source\\a.txt\"  // rather than \"c:\\\\Docs\\\\Source\\\\a.txt\"\n</code></pre> <pre><code>c:\\Docs\\Source\\a.txt\n</code></pre> <p>\u82e5\u8981\u5728 @-quoted \u5b57\u7b26\u4e32\u4e2d\u5305\u542b\u53cc\u5f15\u53f7\uff0c\u53cc\u500d\u6dfb\u52a0\u5373\u53ef\uff1a</p> <pre><code>@\"\"\"Ahoy!\"\" cried the captain.\" // \"Ahoy!\" cried the captain.\n</code></pre> <pre><code>\"Ahoy!\" cried the captain.\n</code></pre>"},{"location":"C%23/1.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#_9","title":"\u5fae\u8f6f\u5b98\u65b9\u6587\u6863","text":"<p>\u7c7b\u578b\u3001\u53d8\u91cf\u548c\u503c</p> <p>.NET \u7c7b\u5e93\u6982\u8ff0</p> <pre><code>var tmp123 = \"string\";\nConsole.WriteLine(tmp123.GetType());\n</code></pre> <pre><code>System.String\n</code></pre> <pre><code>\n</code></pre> <pre><code>\n</code></pre> <pre><code>\n</code></pre> <pre><code>\n</code></pre> <pre><code>\n</code></pre> <pre><code>\n</code></pre> <pre><code>\n</code></pre> <pre><code>\n</code></pre> <pre><code>\n</code></pre> <pre><code>\n</code></pre> <pre><code>\n</code></pre>"},{"location":"Flutter/Vivo%20phone%20system%20log%20output%20problem.html","title":"Flutter app stuck on the Observatory Listening on <code>*********************</code> , on VIVO Devices","text":"<p>When debugging Flutter app on my vivo mobile phone (android 13), the app is stuck on the startup page and Android Studio is stuck on \"Observatory Listening on <code>*********************</code>\". Meanwhile, the Flutter app does not support hot reloading.</p> <p>The problem is caused by VIVO hiding some private information log with **** wrap.</p> <p>To solve this problem, you need to enable one-click authorization in bbklog. Enabling one-click authorization requires the official assistance of VIVO. You can contact the local VIVO after-sales service, or try the following steps.</p> <p>Add VIVO technical support as contact on QQ.</p> <p>VIVO technical support QQ ID: 3002261823</p> <p>You can note the following content in the QQ verification information:</p> <p>VIVO mobile phone, bbklog Enabling one-click authorization (VIVO\u624b\u673a \u65e5\u5fd7\u4fe1\u606f\u91c7\u96c6 \u5f00\u542f\u4e00\u952e\u6388\u6743)</p> <p>If you have never used QQ, you can refer to this article: How to use Chinese qq \u2013 China Help.</p> <p></p> <p>VIVO technical support will ask you some vivo phone information (OS version, bbklog version, imei1 code). The following is the original text of the first dialogue:</p> <p>\u65e5\u5fd7\u6253\u5370\u6388\u6743</p> <ol> <li>\u786e\u8ba4\u4e00\u4e0b\u624b\u673a\u662f\u56fd\u5185\u7cfb\u7edf\u8fd8\u662f\u56fd\u5916\u7cfb\u7edf\uff08OriginOS\u662f\u56fd\u5185\u7cfb\u7edf\uff09</li> <li>\u9996\u5148\u9700\u8981\u786e\u8ba4\u8c03\u8bd5\u673a\u5668\u5185bbklog\u7248\u672c\u9ad8\u4e8e7.2.6.2 [ \u901a\u8fc7<code>*#*#112#*#*</code>\u8fdb\u5165bbklog\uff0c\u53f3\u4e0a\u89d2\u8bbe\u7f6e\u91cc\u53ef\u4ee5\u770b\u5230\uff0c\u7248\u672c\u504f\u4f4e\u8bf7\u63d0\u51fa\u6765\uff0c\u53ef\u4ee5\u63d0\u4f9b\u53ef\u6388\u6743\u7684\u7248\u672c ]</li> <li>\u7136\u540e\u63d0\u4f9b\u6587\u672c\u5f62\u5f0f\u7684\u8c03\u8bd5\u673a\u5668imei1\u7801\u7ed9\u6211\uff0c\u6211\u8fd9\u8fb9\u4f1a\u627e\u4eba\u5e2e\u5fd9\u7ed9\u5f00\u53d1\u8005\u914d\u7f6e\u6388\u6743\uff08\u62e8\u53f7\u76d8\u8f93\u5165<code>*#06#</code> \u53ef\u4ee5\u83b7\u53d6\uff09</li> <li>\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u9700\u8981\u624b\u52a8\u8fdb\u5165bbklog\u53f3\u4e0a\u89d2\u66f4\u591a\u754c\u9762\uff0c\u70b9\u51fb\u4e00\u952e\u6388\u6743\uff0c\u6388\u6743\u540e\u518d\u5c1d\u8bd5\u4e00\u4e0b\u770b\u770b\u5462</li> </ol> <p>The following is the English translation of the first dialogue:</p> <ol> <li>Confirm whether the mobile phone is a Chinese version system or a global version system (OriginOS is Chinese version system, Funtouch OS is global version system).</li> <li>First, you need to confirm that the version of bbklog in vivo machine is higher than 7.2.6.2. You can enter bbklog via inputting <code>*#*#112#*#*</code> on the dial pad. You can see the bbklog version in the settings in the upper right corner. If the bbklog version is lower than 7.2.6.2, please bring it up, and I will provide another version of bbklog which can be authorized.</li> <li>Then provide me with the imei1 code of the vivo machine in text form, and I will ask a colleague to help configure the authorization for you. You can get imei1 by entering <code>*#06#</code> on the dial pad.</li> <li>After the configuration is complete, you need to manually enter bbklog and click \u201cthe more\u201d option in the upper right corner of bbklog, then click \u201cone-click authorization\u201d option.</li> </ol> <p>The following GIF shows how to enter the bbklog of vivo mobile phone(OriginOS):</p>"},{"location":"JavaScriptNote/index.html","title":"JavaScript Resource","text":""},{"location":"JavaScriptNote/index.html#online-reference","title":"Online Reference","text":"<ol> <li>JavaScript | MDN</li> </ol>"},{"location":"JavaScriptNote/index.html#book","title":"Book","text":"<ol> <li>JavaScript \u6743\u5a01\u6307\u5357 \u7b2c\u4e03\u7248</li> </ol>"},{"location":"JavaScriptNote/index.html#online-ide","title":"Online IDE","text":"<ol> <li>StackBlitz</li> </ol>"},{"location":"JavaScriptNote/index.html#awesome-project","title":"Awesome Project","text":"<ol> <li>vanilla web projects</li> <li> <p>Wiki.js</p> </li> <li> <p>FrontendMasters Video Course Downloader</p> </li> </ol>"},{"location":"JavaScriptNote/1.1.JS%E5%9F%BA%E7%A1%80_%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html","title":"\u57fa\u672c\u8bed\u6cd5","text":""},{"location":"JavaScriptNote/1.1.JS%E5%9F%BA%E7%A1%80_%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#ecmascript","title":"ECMAScript","text":"<p>JavaScript \u5728 1995 \u5e74\u7531 Netscape \u516c\u53f8\uff08\u7f51\u666f\u516c\u53f8\uff09\u7684 Brendan Eich \u5728\u7f51\u666f\u5bfc\u822a\u8005\u6d4f\u89c8\u5668\u4e0a\u9996\u6b21\u8bbe\u8ba1\u5b9e\u73b0\u30021996 \u5e74 11 \u6708\uff0cNetscape \u516c\u53f8\u5e0c\u671b\u80fd\u5c06\u8fd9\u95e8\u8bed\u8a00\u5236\u5b9a\u6210\u56fd\u9645\u6807\u51c6\uff0c\u4e8e\u662f\u5c06 JavaScript \u63d0\u4ea4\u81f3\u56fd\u9645\u6807\u51c6\u5316\u7ec4\u7ec7 ECMA\uff08Ecma International\uff09\u3002\u6b21\u5e74\uff0cECMA \u53d1\u5e03\u4e86ECMA-262\u53f7\u6807\u51c6\u6587\u4ef6\u7684\u7b2c\u4e00\u7248\uff0c\u89c4\u5b9a\u4e86 JavaScript \u7684\u6807\u51c6\u5316\u89c4\u8303\uff0c\u5e76\u5c06\u8fd9\u95e8\u6807\u51c6\u5316\u7684\u811a\u672c\u8bed\u8a00\u79f0\u4e3a ECMAScript\u3002</p> <p>\u65e2\u7136 ECMAScript \u4ece\u59cb\u81f3\u7ec8\u5c31\u662f\u9488\u5bf9 JavaScript \u8bed\u8a00\u5236\u5b9a\u7684\uff0c\u90a3\u4e3a\u4ec0\u4e48\u4e0d\u76f4\u63a5\u53eb\u505a JavaScript \u5462\uff1f\u8003\u8651\u4ee5\u4e0b\u4e24\u70b9\u539f\u56e0\uff1a</p> <ol> <li>\u7248\u6743\u539f\u56e0\uff1aJava \u662f Sun \u516c\u53f8\u7684\u5546\u6807\uff0c\u6839\u636e\u6388\u6743\u534f\u8bae\uff0c\u53ea\u6709 Netscape \u516c\u53f8\u53ef\u4ee5\u5408\u6cd5\u5730\u4f7f\u7528 JavaScript \u8fd9\u4e2a\u540d\u5b57\uff0c\u800c\u4e14 JavaScript \u65e9\u5df2\u88ab Netscape \u516c\u53f8\u6ce8\u518c\u4e3a\u5546\u6807\u3002</li> <li>ECMA \u4e5f\u5e0c\u671b\u4f53\u73b0\u8fd9\u95e8\u8bed\u8a00\u7684\u89c4\u8303\u662f\u7531 ECMA \u5236\u5b9a\uff0c\u800c\u4e0d\u662f Netscape\uff0c\u8fd9\u6837\u4e5f\u80fd\u66f4\u597d\u5730\u4fdd\u8bc1\u8fd9\u95e8\u8bed\u8a00\u7684\u5f00\u653e\u6027\u548c\u4e2d\u7acb\u6027\u3002</li> </ol> <p>\u56e0\u6b64\uff0cECMAScript \u662f JavaScript \u7684\u89c4\u8303\uff0c\u800c JavaScript \u662f ECMAScript \u7684\u5176\u4e2d\u4e00\u79cd\u5b9e\u73b0\u3002</p>"},{"location":"JavaScriptNote/1.1.JS%E5%9F%BA%E7%A1%80_%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_1","title":"\u4fdd\u7559\u5b57","text":"<p>ECMAScript 2015 (ES6) \u89c4\u5b9a\u7684\u5173\u952e\u5b57\u5982\u4e0b\uff1a</p> <pre><code>as      const      export     get         null     target   void\nasync   continue   extends    if          of       this     while\nawait   debugger   false      import      return   throw    with\nbreak   default    finally    in          set      true     yield\ncase    delete     for        instanceof  static   try\ncatch   do         from       let         super    typeof\nclass   else       function   new         switch   var\n</code></pre> <p>JavaScript \u8fd8\u9884\u7559\u6216\u9650\u5236\u4f7f\u7528\u67d0\u4e9b\u5173\u952e\u5b57\uff0c\u76ee\u524d\u6ca1\u6709\u4f7f\u7528\uff0c\u4f46\u53ef\u80fd\u4f1a\u5728\u672a\u6765\u7684\u7248\u672c\u4e2d\u4f7f\u7528\uff1a</p> <pre><code>enum  implements  interface  package  private  protected  public\n</code></pre> <p>\u7531\u4e8e\u5386\u53f2\u539f\u56e0\uff0c<code>arguments</code>  \u548c <code>eval</code> \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u4e0d\u5141\u8bb8\u4f5c\u4e3a\u6807\u8bc6\u7b26\uff0c\u6700\u597d\u5b8c\u5168\u907f\u514d\u4f7f\u7528\u3002</p>"},{"location":"JavaScriptNote/1.1.JS%E5%9F%BA%E7%A1%80_%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_2","title":"\u6807\u8bc6\u7b26\u547d\u540d\u89c4\u5219","text":"<p>JavaScript \u662f\u4e00\u79cd\u5927\u5c0f\u5199\u654f\u611f\u7684\u8bed\u8a00\u3002JavaScript \u6807\u8bc6\u7b26\u53ef\u4ee5\u7531\u6570\u5b57\u3001\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf\u3001\u7f8e\u5143\u7b26\u53f7\u7ec4\u6210\uff0c\u4f46\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\u3002</p> <p>\u6ce8\u610f\uff0c\u4e00\u822c\u5e94\u907f\u514d\u4f7f\u7528\u4ee5\u4e0b\u5212\u7ebf\u5f00\u5934\u7684\u6807\u8bc6\u7b26\uff08\u8fd9\u548c C \u8bed\u8a00\u4e00\u6837\uff09\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0cJavaScript \u7a0b\u5e8f\u662f\u4f7f\u7528 Unicode \u5b57\u7b26\u96c6\u7f16\u5199\u7684\uff0c\u8be5\u8bed\u8a00\u5141\u8bb8\u5728\u6807\u8bc6\u7b26\u4e2d\u4f7f\u7528 Unicode \u5b57\u6bcd\u3001\u6570\u5b57\u548c\u8868\u610f\u6587\u5b57\uff08\u4f46\u4e0d\u5141\u8bb8\u4f7f\u7528\u8868\u60c5\u7b26\u53f7\uff09\u3002\u4e3a\u4e86\u4fbf\u4e8e\u79fb\u690d\u548c\u7f16\u8f91\uff0c\u901a\u5e38\u5728\u6807\u8bc6\u7b26\u4e2d\u53ea\u4f7f\u7528 ASCII \u5b57\u6bcd\u548c\u6570\u5b57\uff0c\u4f46\u8fd9\u53ea\u662f\u4e00\u79cd\u7f16\u7a0b\u7ea6\u5b9a\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u6570\u5b66\u7b26\u53f7\u548c\u5355\u8bcd\u4f5c\u4e3a\u5e38\u91cf\u548c\u53d8\u91cf\uff1a</p> <pre><code>const \u03c0 = 3.14;\nconst s\u00ed = true;\n</code></pre> <p>\u8981\u6ce8\u610f\u7684\u662f\uff1a\u76f8\u540c\u7684 Unicode \u5b57\u7b26\u53ef\u80fd\u4f1a\u6709\u591a\u79cd\u4e0d\u540c\u7684 Unicode \u7f16\u7801\u65b9\u5f0f\uff0c\u4f8b\u5982\u5b57\u7b26 <code>\u00e9</code> \u7684 Unicode \u5e8f\u5217\u53ef\u4ee5\u4e3a <code>\\u00E9</code>\uff0c\u4e5f\u53ef\u4ee5\u662f <code>e\\u0301</code>\u3002\u8fd9\u4e24\u79cd\u7f16\u7801\u5728\u6587\u672c\u7f16\u8f91\u5668\u4e2d\u663e\u793a\u65f6\u770b\u8d77\u6765\u662f\u5b8c\u5168\u4e00\u6837\u7684\uff0c\u4f46\u662f\u5b83\u4eec\u6709\u4e0d\u540c\u7684\u4e8c\u8fdb\u5236\u7f16\u7801\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u4eec\u88ab JavaScript \u8ba4\u4e3a\u662f\u4e0d\u540c\u7684\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u975e\u5e38\u6df7\u4e71\u7684\u7a0b\u5e8f:</p> <pre><code>const caf\u00e9 = 1;  // This constant is named \"caf\\u{e9}\"\nconst cafe\u0301 = 2;  // This constant is different: \"cafe\\u{301}\"\ncaf\u00e9  // =&gt; 1: this constant has one value\ncafe\u0301  // =&gt; 2: this indistinguishable constant has a different value\n</code></pre> <p>Unicode \u6807\u51c6\u5b9a\u4e49\u4e86\u6240\u6709\u5b57\u7b26\u7684\u9996\u9009\u7f16\u7801\uff0c\u5e76\u6307\u5b9a\u4e86\u4e00\u4e2a\u6807\u51c6\u5316\u8fc7\u7a0b\u5c06\u6587\u672c\u8f6c\u6362\u4e3a\u9002\u5408\u4e8e\u6bd4\u8f83\u7684\u89c4\u8303\u5f62\u5f0f\u3002JavaScript \u5047\u8bbe\u5b83\u8981\u89e3\u91ca\u7684\u6e90\u4ee3\u7801\u5df2\u7ecf\u88ab\u89c4\u8303\u5316\u4e86\uff0c\u5b83\u81ea\u5df1\u4e0d\u505a\u4efb\u4f55\u89c4\u8303\u5316\u3002\u5982\u679c\u60a8\u8ba1\u5212\u5728 JavaScript \u7a0b\u5e8f\u4e2d\u4f7f\u7528 Unicode \u5b57\u7b26\uff0c\u90a3\u4e48\u5e94\u8be5\u786e\u4fdd\u60a8\u7684\u7f16\u8f91\u5668\u6216\u5176\u4ed6\u5de5\u5177\u5bf9\u6e90\u4ee3\u7801\u6267\u884c Unicode \u89c4\u8303\u5316\uff0c\u4ee5\u9632\u6b62\u51fa\u73b0\u4e0d\u540c\u4f46\u89c6\u89c9\u4e0a\u65e0\u6cd5\u533a\u5206\u7684\u6807\u8bc6\u7b26\u3002</p>"},{"location":"JavaScriptNote/1.1.JS%E5%9F%BA%E7%A1%80_%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_3","title":"\u6ce8\u91ca","text":"<p>\u591a\u884c\u6ce8\u91ca\u4e2d\u4e0d\u80fd\u5d4c\u5957\u591a\u884c\u6ce8\u91ca\u3002</p> <pre><code>// \u5355\u884c\u6ce8\u91ca\n\n/* \u591a\u884c\u6ce8\u91ca */\n</code></pre>"},{"location":"JavaScriptNote/1.1.JS%E5%9F%BA%E7%A1%80_%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_4","title":"\u8bed\u53e5\u5206\u9694\u7b26\u548c\u8bed\u53e5\u7ec8\u6b62\u7b26","text":"<p>JavaScript \u4ee5\u534a\u89d2\u5206\u53f7 <code>;</code> \u4f5c\u4e3a\u8bed\u53e5\u5206\u9694\u7b26\u548c\u8bed\u53e5\u7ec8\u6b62\u7b26\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u867d\u7136\u7a7a\u884c\u4e0d\u662f JavaScript \u8bed\u6cd5\u7684\u4e00\u90e8\u5206\uff0c\u4f46 \u6362\u884c\u7b26\u662f JavaScript \u8bed\u6cd5\u7684\u4e00\u90e8\u5206 \u3002 JavaScript \u8bc6\u522b\u6362\u884c\u7b26\u3001\u56de\u8f66\u7b26\u548c\u56de\u8f66/\u6362\u884c\u5e8f\u5217\u4f5c\u4e3a\u8bed\u53e5\u7ec8\u6b62\u7b26\uff0c\u56e0\u6b64\u5728 JavaScript \u4ee3\u7801\u4e2d\uff0c\u6709\u65f6\u5019\u53ef\u4ee5\u7701\u7565\u5206\u9694\u7b26 <code>;</code>\uff1a</p> <ol> <li>\u5982\u679c\u4e24\u4e2a\u8bed\u53e5\u5199\u5728\u4e0d\u540c\u7684\u884c\u4e0a\uff0c\u901a\u5e38\u53ef\u4ee5\u7701\u7565\u8fd9\u4e24\u4e2a\u8bed\u53e5\u4e4b\u95f4\u7684\u5206\u53f7\u3002</li> <li>\u82e5\u8bed\u53e5\u88ab\u82b1\u62ec\u53f7 <code>{}</code> \u62ec\u8d77\u6765\uff0c\u53ef\u4ee5\u7701\u7565\u53f3\u82b1\u62ec\u53f7 <code>}</code>\u540e\u9762\u7684\u5206\u53f7\u3002</li> </ol> <p>\u8bf7\u6ce8\u610f\uff0c JavaScript \u5e76\u4e0d\u628a\u6bcf\u4e2a\u6362\u884c\u7b26\u90fd\u5f53\u4f5c\u5206\u53f7\u6765\u5904\u7406\uff1a\u5b83\u901a\u5e38\u53ea\u5728\u4e0d\u6dfb\u52a0\u9690\u5f0f\u5206\u53f7\u800c\u65e0\u6cd5\u89e3\u6790\u4ee3\u7801\u65f6\u624d\u628a\u65ad\u884c\u7b26\u5f53\u4f5c\u5206\u53f7\u6765\u5904\u7406\u3002 \u66f4\u6b63\u5f0f\u7684\u8bf4\u6cd5\u662f\uff0c\u5982\u679c\u4e0b\u4e00\u4e2a\u975e\u7a7a\u683c\u5b57\u7b26\u4e0d\u80fd\u89e3\u91ca\u4e3a\u5f53\u524d\u8bed\u53e5\u7684\u5ef6\u7eed\uff0cJavaScript\u5c06\u6362\u884c\u7b26\u89c6\u4e3a\u5206\u53f7\u3002\u8003\u8651\u4ee5\u4e0b\u4ee3\u7801\uff1a</p> <pre><code>let a\na\n=\n3\nconsole.log(a)\n</code></pre> <p>JavaScript \u8fd9\u6837\u89e3\u91ca\u8fd9\u6bb5\u4ee3\u7801\uff1a</p> <pre><code>let a; a = 3; console.log(a);\n</code></pre> <p>\u8fd9\u4e9b\u8bed\u53e5\u7ec8\u6b62\u89c4\u5219\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u5947\u602a\u7684\u60c5\u51b5\u3002\u8fd9\u6bb5\u4ee3\u7801\u770b\u8d77\u6765\u50cf\u7528\u6362\u884c\u7b26\u5206\u9694\u7684\u4e24\u4e2a\u5355\u72ec\u7684\u8bed\u53e5\uff1a</p> <pre><code>let y = x + f\n(a+b).toString()\n</code></pre> <p>\u4f46 JavaScript \u662f\u8fd9\u6837\u89e3\u91ca\u7684\uff1a</p> <pre><code>let y = x + f(a+b).toString();\n</code></pre> <p>\u5f88\u53ef\u80fd\uff0c\u8fd9\u4e0d\u662f\u4ee3\u7801\u4f5c\u8005\u60f3\u8981\u7684\u89e3\u91ca\u3002\u4e3a\u4e86\u4f5c\u4e3a\u4e24\u4e2a\u72ec\u7acb\u7684\u8bed\u53e5\u5de5\u4f5c\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u9700\u8981\u663e\u5f0f\u7684\u5206\u53f7\u3002</p> <p>\u5f53 JavaScript \u65e0\u6cd5\u5c06\u7b2c\u4e8c\u884c\u89e3\u6790\u4e3a\u7b2c\u4e00\u884c\u8bed\u53e5\u7684\u5ef6\u7eed\u65f6\uff0cJavaScript \u5c06\u6362\u884c\u7b26\u89e3\u91ca\u4e3a\u5206\u53f7\uff0c\u4f46\u8fd9\u4e2a\u89c4\u5219\u6709\u4e09\u79cd\u4f8b\u5916\u3002</p> <p> \u7b2c\u4e00\u79cd\u60c5\u51b5\u6d89\u53ca <code>return</code>\u3001<code>throw</code>\u3001<code>yield</code>\u3001<code>break</code>\u548c <code>continue</code> \u8bed\u53e5\uff0c\u8fd9\u4e9b\u8bed\u53e5\u901a\u5e38\u662f\u5355\u72ec\u7684\uff0c\u4f46\u6709\u65f6\u5019\uff0c\u5b83\u4eec\u540e\u9762\u4f1a\u8ddf\u4e00\u4e2a\u6807\u8bc6\u7b26\u6216\u8868\u8fbe\u5f0f\u3002JavaScript \u603b\u662f\u5c06\u5b83\u4eec\u540e\u9762\u51fa\u73b0\u7684\u7b2c\u4e00\u4e2a\u6362\u884c\u7b26\u89e3\u91ca\u4e3a\u5206\u53f7\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u5199\uff1a</p> <pre><code>return\ntrue;\n</code></pre> <p>JavaScript \u5047\u8bbe\u60a8\u7684\u610f\u601d\u662f\uff1a</p> <pre><code>return; true;\n</code></pre> <p>\u4e0d\u8fc7\uff0c\u4f60\u7684\u610f\u601d\u53ef\u80fd\u662f\uff1a</p> <pre><code>return true;\n</code></pre> <p>\u8fd9\u610f\u5473\u7740\u4e0d\u80fd\u5728 <code>return</code>\u3001<code>break</code>\u6216 <code>continue</code>\u548c\u5173\u952e\u5b57\u540e\u9762\u7684\u8868\u8fbe\u5f0f\u4e4b\u95f4\u63d2\u5165\u6362\u884c\u7b26\u3002\u5982\u679c\u60a8\u786e\u5b9e\u63d2\u5165\u4e86\u4e00\u4e2a\u6362\u884c\u7b26\uff0c\u90a3\u4e48\u60a8\u7684\u4ee3\u7801\u5f88\u53ef\u80fd\u4f1a\u9677\u5165\u4e00\u79cd\u96be\u4ee5\u8c03\u8bd5\u4e14\u4e0d\u660e\u663e\u7684\u9519\u8bef\u4e2d\u3002</p> <p> \u6709\u4e9b\u64cd\u4f5c\u7b26\u53ef\u4ee5\u4f5c\u4e3a\u524d\u7f00\u64cd\u4f5c\u7b26\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u540e\u7f00\u64cd\u4f5c\u7b26\uff0c\u4f8b\u5982<code>++</code>\u548c<code>--</code>\u3002\u5982\u679c\u8981\u8ba9\u8fd9\u4e9b\u64cd\u4f5c\u7b26\u4e2d\u4f5c\u4e3a\u540e\u7f00\u64cd\u4f5c\u7b26\uff0c\u5219\u5b83\u4eec\u5fc5\u987b\u4e0e\u5e94\u7528\u5b83\u4eec\u7684\u8868\u8fbe\u5f0f\u51fa\u73b0\u5728\u540c\u4e00\u884c\u3002</p> <p> \u7b2c\u4e09\u79cd\u4f8b\u5916\u6d89\u53ca\u201c\u7bad\u5934\u51fd\u6570\u201d\uff0c<code>=&gt;</code> \u7bad\u5934\u672c\u8eab\u5fc5\u987b\u4e0e\u53c2\u6570\u5217\u8868\u51fa\u73b0\u5728\u540c\u4e00\u884c\u3002</p>"},{"location":"JavaScriptNote/1.1.JS%E5%9F%BA%E7%A1%80_%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_5","title":"\u7a7a\u683c","text":"<p>\u7a7a\u683c\u4e5f\u4e0d\u662f JavaScript \u8bed\u6cd5\u7684\u4e00\u90e8\u5206\uff0cJavaScript \u4f1a\u5ffd\u7565\u6240\u6709\u7a7a\u683c\u3002\u9664\u4e86\u5e38\u89c4\u7684\u7a7a\u683c\u5b57\u7b26\uff08<code>\\u0020</code>\uff09\u4e4b\u5916\uff0cJavaScript \u8fd8\u5c06\u5236\u8868\u7b26\u3001\u5404\u79cd ASCII \u63a7\u5236\u5b57\u7b26\u548c\u5404\u79cd Unicode \u7a7a\u683c\u5b57\u7b26\u8bc6\u522b\u4e3a\u7a7a\u683c\u3002 </p>"},{"location":"JavaScriptNote/1.1.JS%E5%9F%BA%E7%A1%80_%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_6","title":"\u5b57\u7b26\u8f6c\u4e49","text":"<p>\u548c C\u3001Python \u4e00\u81f4\uff0c\u4ee5\u53cd\u659c\u6760 <code>\\</code> \u4f5c\u4e3a\u8f6c\u4e49\u7b26\u3002\u8f6c\u4e49\u7b26\u7528\u4e8e\u5904\u7406\u4e00\u4e9b\u8ba1\u7b97\u673a\u786c\u4ef6\u548c\u8f6f\u4ef6\u4e0d\u80fd\u663e\u793a\u3001\u8f93\u5165\u6216\u6b63\u786e\u5904\u7406\u5b8c\u6574\u7684 Unicode \u5b57\u7b26\u96c6\u3002</p> <p>\u4e3a\u4e86\u652f\u6301\u4f7f\u7528\u8f83\u65e7\u6280\u672f\u7684\u7a0b\u5e8f\u5458\u548c\u7cfb\u7edf\uff0cJavaScript \u5b9a\u4e49\u4e86\u8f6c\u4e49\u5e8f\u5217\uff0c\u5141\u8bb8\u6211\u4eec\u4ec5\u4f7f\u7528 ASCII \u5b57\u7b26\u7f16\u5199 Unicode \u5b57\u7b26\u3002\u8fd9\u4e9b Unicode \u8f6c\u4e49\u4ee5\u5b57\u7b26 <code>\\u</code> \u5f00\u59cb\uff0c\u540e\u8ddf\u56db\u4e2a 16 \u8fdb\u5236\u6570\u5b57\uff08\u4f7f\u7528\u5927\u5199\u6216\u5c0f\u5199\u5b57\u6bcdA-F\uff09\uff0c\u6216\u8005\u7528\u5927\u62ec\u53f7\u62ec\u8d77\u6765\u7684\u4e00\u5230\u516d\u4e2a 16 \u8fdb\u5236\u6570\u5b57\u3002\u8fd9\u4e9b Unicode \u8f6c\u4e49\u53ef\u80fd\u4ee5 JavaScript \u5b57\u7b26\u4e32\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u548c\u6807\u8bc6\u7b26\u7684\u5f62\u5f0f\u51fa\u73b0\uff08\u4f46\u4e0d\u4f1a\u4ee5\u8bed\u8a00\u5173\u952e\u5b57\u7684\u5f62\u5f0f\u51fa\u73b0\uff09\u3002</p> <p>\u4f8b\u5982\uff0cUnicode \u5b57\u7b26 \u201c<code>\u00e9,</code>\u201d \u7684\u8f6c\u4e49\u662f<code>\\u00E9</code>\uff1b\u8fd9\u91cc\u6709\u4e09\u79cd\u4e0d\u540c\u7684\u65b9\u5f0f\u6765\u5199\u4e00\u4e2a\u53d8\u91cf\u540d\uff0c\u5305\u62ec\u8fd9\u4e2a\u5b57\u7b26\uff1a</p> <pre><code>let caf\u00e9 = 1; // Define a variable using a Unicode character\ncaf\\u00e9     // =&gt; 1; access the variable using an escape sequence\ncaf\\u{E9}     // =&gt; 1; another form of the same escape sequence\n</code></pre> <p>\u65e9\u671f\u7248\u672c\u7684 JavaScript \u53ea\u652f\u6301\u56db\u4f4d\u6570\u8f6c\u4e49\u5e8f\u5217\u3002\u5e26\u82b1\u62ec\u53f7\u7684\u7248\u672c\u662f\u5728 ES6 \u4e2d\u5f15\u5165\u7684\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u66f4\u597d\u5730\u652f\u6301\u9700\u8981\u8d85\u8fc716\u4f4d\u5143\u7684 Unicode \u7801\u70b9\uff0c\u6bd4\u5982\u8868\u60c5\u7b26\u53f7:</p> <pre><code>console.log(\"\\u{1F600}\");  // Prints a smiley face emoji \ud83d\ude00\n</code></pre>"},{"location":"JavaScriptNote/1.1.JS%E5%9F%BA%E7%A1%80_%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_7","title":"\u58f0\u660e\u548c\u521d\u59cb\u5316","text":"<p>\u5728\u73b0\u4ee3 JavaScript (ES6\u53ca\u4ee5\u540e\u7684\u7248\u672c) \u4e2d\uff0c\u53d8\u91cf\u662f\u7528 <code>let</code> \u5173\u952e\u5b57\u58f0\u660e\u7684\uff0c\u5c31\u50cf\u8fd9\u6837\uff1a</p> <pre><code>let i;\nlet sum;\n</code></pre> <p>\u4f60\u4e5f\u53ef\u4ee5\u5728\u4e00\u4e2a <code>let</code> \u8bed\u53e5\u4e2d\u58f0\u660e\u591a\u4e2a\u53d8\u91cf\uff1a</p> <pre><code>let i, sum;\n</code></pre> <p>\u5728\u58f0\u660e\u53d8\u91cf\u65f6\uff0c\u53ef\u4ee5\u540c\u65f6\u7ed9\u5b83\u4eec\u8d4b\u4e00\u4e2a\u521d\u59cb\u503c\uff1a</p> <pre><code>let message = \"hello\";\nlet i = 0, j = 0, k = 0;\nlet x = 2, y = x*x; // Initializers can use previously declared variables\n</code></pre> <p>\u5982\u679c\u4ec5\u58f0\u660e\u53d8\u91cf\uff0c\u800c\u4e0d\u8d4b\u521d\u59cb\u503c\uff0c\u5219\u5728\u4ee3\u7801\u4e3a\u5176\u8d4b\u503c\u4e4b\u524d\uff0c\u53d8\u91cf\u7684\u503c\u662f\u672a\u5b9a\u4e49\u7684\u3002</p> <p>\u4f7f\u7528 <code>const</code> \u5173\u952e\u5b57\u58f0\u660e\u5e38\u91cf\u3002<code>const</code> \u7684\u5de5\u4f5c\u65b9\u5f0f\u4e0e <code>let</code> \u7c7b\u4f3c\uff0c\u53ea\u662f\u5728\u58f0\u660e\u5e38\u91cf\u65f6\u5fc5\u987b\u521d\u59cb\u5316\u5b83\uff1a</p> <pre><code>const H0 = 74;         // Hubble constant (km/s/Mpc)\nconst C = 299792.458;  // Speed of light in a vacuum (km/s)\nconst AU = 1.496E8;    // Astronomical Unit: distance to the sun (km)\n</code></pre> <p>\u987e\u540d\u601d\u4e49\uff0c\u5e38\u91cf\u4e0d\u80fd\u6539\u53d8\u5b83\u4eec\u7684\u503c\uff0c\u4efb\u4f55\u8d4b\u503c\u7684\u5c1d\u8bd5\u90fd\u4f1a\u5f15\u53d1 <code>TypeError</code>\u3002</p> <pre><code>try {\nconst a = 1;\na = 2\n} catch (error) {\nconsole.log(error);\n}\n</code></pre> <pre><code>TypeError: Assignment to constant variable.\n</code></pre> <p>\u901a\u5e38\u7ea6\u5b9a\u662f\u4f7f\u7528\u5168\u5927\u5199\u5b57\u6bcd\u7684\u540d\u79f0\u6765\u58f0\u660e\u5e38\u91cf\uff0c\u4ee5\u5c06\u5b83\u4eec\u4e0e\u53d8\u91cf\u533a\u5206\u5f00\u6765\u3002</p> <p>\u4f60\u53ef\u80fd\u4f1a\u89c9\u5f97\u5947\u602a\uff0c\u4f46\u662f\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>const</code> \u6765\u58f0\u660e <code>for/in</code> \u548c <code>for/of</code> \u5faa\u73af\u7684\u5faa\u73af\u201c\u53d8\u91cf\u201d\uff0c\u53ea\u8981\u5faa\u73af\u4f53\u4e0d\u91cd\u65b0\u8d4b\u503c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c<code>const</code> \u58f0\u660e\u53ea\u662f\u8868\u793a\u8be5\u503c\u5728\u5faa\u73af\u8fed\u4ee3\u7684\u6301\u7eed\u65f6\u95f4\u5185\u4e3a\u5e38\u91cf\uff1a</p> <pre><code>data = [1, 2, 3];\nfor (const datum of data) {\nconsole.log(datum);\n}\n</code></pre> <pre><code>1\n2\n3\n</code></pre> <p>\u5728 ES6 \u4e4b\u524d\u7684 JavaScript \u7248\u672c\u4e2d\uff0c\u58f0\u660e\u53d8\u91cf\u7684\u552f\u4e00\u65b9\u6cd5\u662f\u4f7f\u7528 <code>var</code> \u5173\u952e\u5b57\uff0c\u4e14\u4e0d\u652f\u6301\u58f0\u660e\u5e38\u91cf\u3002<code>var</code> \u7684\u8bed\u6cd5\u5c31\u50cf <code>let</code> \u7684\u8bed\u6cd5\u4e00\u6837\uff0c\u4f46\u5b83\u4eec\u6709\u4e00\u4e9b\u672c\u8d28\u7684\u533a\u522b\uff1a</p> <ol> <li> <p>\u7528 <code>var</code> \u58f0\u660e\u7684\u53d8\u91cf\u6ca1\u6709\u5757\u4f5c\u7528\u57df\uff0c\u56e0\u6b64\u5982\u679c\u4f60\u5728\u51fd\u6570\u4f53\u4e4b\u5916\u4f7f\u7528 <code>var</code>\uff0c\u5b83\u4f1a\u58f0\u660e\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u3002</p> </li> <li> <p>\u7528 <code>var</code> \u58f0\u660e\u7684\u5168\u5c40\u53d8\u91cf\u4e0e\u7528 <code>let</code> \u58f0\u660e\u7684\u5168\u5c40\u53d8\u91cf\u5728\u4e00\u4e2a\u91cd\u8981\u7684\u65b9\u9762\u4e0d\u540c\uff1a\u7528<code>var</code>\u58f0\u660e\u7684\u5168\u5c40\u53d8\u91cf\u662f\u4f5c\u4e3a\u5168\u5c40\u5bf9\u8c61\u7684\u5c5e\u6027\u5b9e\u73b0\u7684\u3002\u5168\u5c40\u5bf9\u8c61\u53ef\u4ee5\u5f15\u7528\u4e3a<code>globalThis</code>\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u901a\u8fc7 <code>var x = 2</code> \u521d\u59cb\u5316\u53d8\u91cf<code>x</code>\uff0c\u5c31\u50cf\u4f60\u901a\u8fc7 <code>globalThis.x = 2;</code> \u521d\u59cb\u5316\u53d8\u91cf<code>x</code>\uff08\u8fd9\u4e2a\u7c7b\u6bd4\u5e76\u4e0d\u5b8c\u7f8e\uff09\u3002\u7528 <code>var</code> \u58f0\u660e\u7684\u5c5e\u6027\u4e0d\u80fd\u7528 <code>delete</code> \u64cd\u4f5c\u7b26\u5220\u9664\u3002\u7528 <code>let</code> \u548c <code>const</code> \u58f0\u660e\u7684\u5168\u5c40\u53d8\u91cf\u548c\u5e38\u91cf\u4e0d\u662f\u5168\u5c40\u5bf9\u8c61\u7684\u5c5e\u6027\u3002</p> </li> <li> <p>\u7528 <code>var</code> \u591a\u6b21\u58f0\u660e\u540c\u4e00\u4e2a\u53d8\u91cf\u662f\u5408\u6cd5\u7684\uff0c\u800c\u7528 <code>let</code> \u4e0d\u80fd\u91cd\u590d\u58f0\u660e\u53d8\u91cf\u3002JavaScript \u7f16\u8bd1\u5668\u5728\u89e3\u6790\u4ee3\u7801\u65f6\uff0c\u9047\u5230 <code>var</code> \u58f0\u660e\u7684\u53d8\u91cf\uff0c\u5148\u5728\u5f53\u524d\u4f5c\u7528\u57df\u5224\u65ad\u8be5\u53d8\u91cf\u662f\u5426\u5df2\u7ecf\u5b58\u5728\uff0c\u82e5\u4e0d\u5b58\u5728\uff0c\u5219\u5728\u5f53\u524d\u4f5c\u7528\u57df\u58f0\u660e\u4e00\u4e2a\u65b0\u53d8\u91cf\uff0c\u5426\u5219\u5ffd\u7565 <code>var</code> \u7ee7\u7eed\u5f80\u4e0b\u7f16\u8bd1\u3002<code>var</code> \u7684\u91cd\u58f0\u660e\u5b9e\u9645\u4e0a\u662f\u5f88\u5e38\u89c1\u7684\u3002\u53d8\u91cf<code>i</code>\u7ecf\u5e38\u88ab\u7528\u6765\u8868\u793a\u5faa\u73af\u53d8\u91cf\uff0c\u5728\u6709\u591a\u4e2a<code>for</code>\u5faa\u73af\u7684\u51fd\u6570\u4e2d\uff0c\u6bcf\u4e2a\u5faa\u73af\u90fd\u53ef\u4ee5\u4e3a<code>for(var i = 0;...</code>\uff0c\u56e0\u4e3a <code>var</code> \u6ca1\u6709\u5c06\u8fd9\u4e9b\u53d8\u91cf\u4f5c\u7528\u57df\u9650\u5b9a\u5728\u5faa\u73af\u4f53\u4e2d\uff0c\u6240\u4ee5\u6bcf\u4e2a\u5faa\u73af\u90fd (\u65e0\u5bb3\u5730) \u91cd\u65b0\u58f0\u660e\u5e76\u521d\u59cb\u5316\u540c\u4e00\u4e2a\u53d8\u91cf\u3002</p> </li> <li> <p><code>var</code> \u58f0\u660e\u6700\u4e0d\u5bfb\u5e38\u7684\u7279\u6027\u4e4b\u4e00\u662f hoisting\uff08\u53d8\u91cf\u63d0\u5347\uff09\uff1a\u5f53\u7528 <code>var</code> \u58f0\u660e\u4e00\u4e2a\u53d8\u91cf\u65f6\uff0c\u8fd9\u4e2a\u58f0\u660e\u4f1a\u88ab\u63d0\u5347\u5230\u5f53\u524d\u4f5c\u7528\u57df\u7684\u9876\u90e8\uff0c\u4f46\u53d8\u91cf\u7684\u521d\u59cb\u5316\u4fdd\u6301\u5728\u539f\u6765\u7684\u5730\u65b9\u3002\u4f8b\u5982\uff1a</p> </li> </ol> <p><pre><code>console.log(a); // undefined \n</code></pre>    \u4e0a\u8ff0\u4ee3\u7801\u5728\u7f16\u8bd1\u540e\u4f1a\u53d8\u6210    <pre><code>var a\nconsole.log(a); // undefined\na = 'hoisting';\n</code></pre>    \u56e0\u6b64\uff0c\u7528 <code>var</code> \u58f0\u660e\u7684\u53d8\u91cf\u53ef\u4ee5\u5728\u58f0\u660e\u7684\u4f4d\u7f6e\u4e4b\u524d\u4f7f\u7528\uff0c\u800c\u4e0d\u4f1a\u51fa\u9519\u3002\u5982\u679c\u521d\u59cb\u5316\u4ee3\u7801\u8fd8\u6ca1\u6709\u8fd0\u884c\uff0c\u90a3\u4e48\u53d8\u91cf\u7684\u503c\u4f1a\u662f<code>undefined</code>\u3002\u8fd9\u53ef\u80fd\u662fbug\u7684\u6765\u6e90\uff0c\u4e5f\u662f <code>let</code>\u7ea0\u6b63\u7684\u91cd\u8981\u9519\u8bef\u7279\u6027\u4e4b\u4e00\uff1a\u5982\u679c\u4f60\u7528 <code>let</code> \u58f0\u660e\u4e86\u4e00\u4e2a\u53d8\u91cf\uff0c\u4f46\u8bd5\u56fe\u5728 <code>let</code> \u8bed\u53e5\u8fd0\u884c\u4e4b\u524d\u4f7f\u7528\u5b83\uff0c\u7a0b\u5e8f\u5c06\u629b\u51fa\u9519\u8bef\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u5f97\u5230\u4e00\u4e2a\u672a\u5b9a\u4e49\u7684\u503c\u3002</p>"},{"location":"JavaScriptNote/1.1.JS%E5%9F%BA%E7%A1%80_%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_8","title":"\u590d\u5408\u58f0\u660e\u548c\u8d4b\u503c*","text":"<p>ES6 \u5b9e\u73b0\u4e86\u4e00\u79cd\u590d\u5408\u58f0\u660e\u548c\u8d4b\u503c\u8bed\u6cd5\uff0c\u79f0\u4e3a\u89e3\u6784\u8d4b\u503c\u3002\u5728\u89e3\u6784\u8d4b\u503c\u4e2d\uff0c\u7b49\u53f7\u53f3\u8fb9\u7684\u503c\u662f\u4e00\u4e2a\u6570\u7ec4\u6216\u5bf9\u8c61\uff08\u201c\u7ed3\u6784\u5316\u7684\u201d\u503c\uff09\uff0c\u5de6\u8fb9\u4f7f\u7528\u6a21\u4eff\u6570\u7ec4\u548c\u5bf9\u8c61\u5b57\u9762\u91cf\u8bed\u6cd5\u7684\u8bed\u6cd5\u6307\u5b9a\u4e00\u4e2a\u6216\u591a\u4e2a\u53d8\u91cf\u540d\u3002\u5f53\u53d1\u751f\u89e3\u6784\u8d4b\u503c\u65f6\uff0c\u5c06\u4ece\u53f3\u8fb9\u7684\u503c\u4e2d\u63d0\u53d6\u4e00\u4e2a\u6216\u591a\u4e2a\u503c\uff08\u201c\u89e3\u6784\u201d\uff09\uff0c\u5e76\u5b58\u50a8\u5230\u5de6\u8fb9\u547d\u540d\u7684\u53d8\u91cf\u4e2d\u3002\u89e3\u6784\u8d4b\u503c\u53ef\u80fd\u5e38\u7528\u6765\u521d\u59cb\u5316<code>const</code>\u3001<code>let</code> \u6216 <code>var</code> \u7684\u58f0\u660e\uff0c\u4f46\u5b83\u4e5f\u53ef\u4ee5\u7528\u5728\u6b63\u5219\u8d4b\u503c\u8868\u8fbe\u5f0f\u4e2d\uff08\u4f7f\u7528\u5df2\u7ecf\u58f0\u660e\u7684\u53d8\u91cf\uff09\u3002\u800c\u4e14\uff0c\u6211\u4eec\u5c06\u5728 \u00a78.3.5 \u4e2d\u770b\u5230\u7684\uff0c\u89e3\u6784\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5b9a\u4e49\u51fd\u6570\u7684\u5f62\u53c2\u3002</p> <pre><code>let [x,y] = [1,2];  // Same as let x=1, y=2\n[x,y] = [x+1,y+1];  // Same as x = x + 1, y = y + 1\n[x,y] = [y,x];      // Swap the value of the two variables\n[x,y]               // =&gt; [3,2]: the incremented and swapped values\n</code></pre>"},{"location":"JavaScriptNote/1.1.JS%E5%9F%BA%E7%A1%80_%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_9","title":"\u547d\u540d\u7a7a\u95f4\u548c\u4f5c\u7528\u57df","text":"<pre><code>flowchart LR\n   B[Global Scope] &amp; C[Local Scope]\n    C[Local Scope] --&gt; D[Function Scope] &amp; E[Block Scope]</code></pre> <p>\u5168\u5c40\u4f5c\u7528\u57df\uff08Global Scope\uff09</p> <p>JavaScript \u6587\u4ef6\u4e2d\u53ea\u6709\u4e00\u4e2a\u5168\u5c40\u8303\u56f4\u3002\u6240\u6709\u51fd\u6570\u4e4b\u5916\u7684\u533a\u57df\u88ab\u8ba4\u4e3a\u662f\u5168\u5c40\u8303\u56f4\uff0c\u5728\u5168\u5c40\u8303\u56f4\u5185\u5b9a\u4e49\u7684\u53d8\u91cf\u53ef\u4ee5\u5728\u4efb\u4f55\u8303\u56f4\u5185\u8bbf\u95ee\u548c\u66f4\u6539\u3002</p> <p>\u5c40\u90e8\u4f5c\u7528\u57df\uff08Local Scope\uff09</p> <p>\u5c40\u90e8\u4f5c\u7528\u57df\u662f\u76f8\u5bf9\u4e8e\u5168\u5c40\u4f5c\u7528\u57df\u7684\u6982\u5ff5\uff0c\u5c40\u90e8\u4f5c\u7528\u57df\u5305\u62ec\u51fd\u6570\u4f5c\u7528\u57df\u548c\u5757\u4f5c\u7528\u57df\u3002\u5404\u4e2a\u5c40\u90e8\u4f5c\u7528\u57df\u662f\u72ec\u7acb\u7684\uff0c\u76f8\u540c\u7684\u53d8\u91cf\u540d\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u5c40\u90e8\u4f5c\u7528\u57df\u4e2d\u4f7f\u7528\uff0c\u800c\u4e0d\u4f1a\u76f8\u4e92\u5f71\u54cd\u3002</p> <p>\u51fd\u6570\u4f5c\u7528\u57df\uff08Function Scope\uff09</p> <p>\u5728\u51fd\u6570\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\u4ec5\u5728\u51fd\u6570\u5185\u53ef\u7528\uff0c\u60a8\u65e0\u6cd5\u5728\u51fd\u6570\u4e4b\u5916\u8bbf\u95ee\u5b83\u3002</p> <p>\u5757\u4f5c\u7528\u57df\uff08Block Scope\uff09</p> <p>\u5757\u4f5c\u7528\u57df\u662f <code>if</code>\u3001<code>switch</code>\u3001<code>for</code> \u548c <code>while</code> \u4ee3\u7801\u5757\u7684\u533a\u57df\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u53ea\u8981\u4f60\u770b\u5230\u82b1\u62ec\u53f7<code>{}</code>\uff0c\u5b83\u5c31\u662f\u4e00\u4e2a\u5757\u3002ES6 \u5f15\u5165\u4e86\u5757\u4f5c\u7528\u57df\u7684\u6982\u5ff5\uff0c\u4e14\u63d0\u4f9b\u4e86\u65b0\u5173\u952e\u5b57 <code>const</code> \u548c <code>let</code> \u8ba9\u5f00\u53d1\u4eba\u5458\u5728\u5757\u4f5c\u7528\u57df\u5185\u58f0\u660e\u53d8\u91cf\uff0c\u8fd9\u610f\u5473\u7740\u8fd9\u4e9b\u53d8\u91cf\u53ea\u5b58\u5728\u4e8e\u76f8\u5e94\u7684\u4ee3\u7801\u5757\u4e2d\u3002</p> <pre><code>function foo() {\nif (true) {\nvar fruit1 = 'apple';        //exist in function scope\nconst fruit2 = 'banana';     //exist in block scope\nlet fruit3 = 'strawberry';   //exist in block scope\n}\nconsole.log(fruit1);\nconsole.log(fruit2);  // ReferenceError: fruit2 is not defined\nconsole.log(fruit3);  // ReferenceError: fruit3 is not defined\n}\n\nconsole.log(fruit1);  // ReferenceError: fruit1 is not defined\n\n{\nvar txt1 = \"defined in global scope\";\nlet txt2 = \"defined in block scope\";\n}\nconsole.log(txt1);\nconsole.log(txt2);    // ReferenceError: txt is not defined\n</code></pre> <p>\u4ece\u4ee5\u4e0a\u4ee3\u7801\u53ef\u4ee5\u770b\u51fa\uff0c\u867d\u7136\u51fd\u6570\u4ee3\u7801\u5757\u4e5f\u662f\u7528\u82b1\u62ec\u53f7\u62ec\u8d77\u6765\u7684\uff0c\u4f46\u51fd\u6570\u4f5c\u7528\u57df\u548c\u5757\u4f5c\u7528\u57df\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u51fd\u6570\u5185\u5b9a\u4e49\u7684\u53d8\u91cf\u53ea\u80fd\u5728\u51fd\u6570\u5185\u8bbf\u95ee\uff0c\u800c\u901a\u8fc7<code>var</code>\u5173\u952e\u5b57\u5728\u5757\u4f5c\u7528\u57df\u5185\u5b9a\u4e49\u7684\u53d8\u91cf\u80fd\u591f\u5728\u5168\u5c40\u4f5c\u7528\u57df\u8bbf\u95ee\uff0c\u56e0\u4e3a<code>var</code>\u58f0\u660e\u7684\u53d8\u91cf\u662f\u6ca1\u6709\u5757\u4f5c\u7528\u57df\u7684\u3002</p> <p>\u867d\u7136 Python \u548c JavaScript \u90fd\u662f\u52a8\u6001\u68c0\u67e5\u7684\u8bed\u8a00\uff0c\u4f46 Python \u6ca1\u6709\u63d0\u4f9b\u5173\u952e\u5b57\u7528\u6765\u58f0\u660e\u53d8\u91cf\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6211\u4eec\u60f3\u5728\u5c40\u90e8\u4f5c\u7528\u57df\u4fee\u6539\u5168\u5c40\u4f5c\u7528\u57df\u53d8\u91cf\u7684\u503c\uff0c\u8fd9\u4e24\u79cd\u8bed\u8a00\u4f1a\u6709\u4e0d\u540c\u7684\u884c\u4e3a\u3002Python \u9ed8\u8ba4\u4e0d\u80fd\u5728\u5c40\u90e8\u4f5c\u7528\u57df\u4fee\u6539\u5916\u90e8\u4f5c\u7528\u57df\u7684\u53d8\u91cf\uff0c\u9664\u975e\u4f7f\u7528 <code>global</code> \u6216 <code>nonlocal</code> \u5173\u952e\u5b57\u6765\u58f0\u660e\u53d8\u91cf\u6765\u81ea\u5168\u5c40\u4f5c\u7528\u57df\u6216 enclosing \u4f5c\u7528\u57df\u3002</p> <p>JavaScript \u5219\u9ed8\u8ba4\u80fd\u591f\u5728\u5c40\u90e8\u4f5c\u7528\u57df\u4fee\u6539\u5916\u90e8\u4f5c\u7528\u57df\u7684\u53d8\u91cf\uff0c\u9664\u975e\u5728\u5c40\u90e8\u4f5c\u7528\u57df\u91cd\u65b0\u58f0\u660e\u53d8\u91cf\uff0c\u8ba9 JavaScript \u89e3\u6790\u5668\u77e5\u9053\u8be5\u53d8\u91cf\u6765\u81ea\u5c40\u90e8\u4f5c\u7528\u57df\u3002</p> <pre><code>var fruit = 'apple';\nlet txt = 'JavaScript Language';\n\nfunction foo() {\nfruit = 'banana';\nlet txt = 'TypeScript Language';\n}\n\nfoo();\nconsole.log(fruit);\nconsole.log(txt);\n</code></pre> <pre><code>banana\nJavaScript Language\n</code></pre>"},{"location":"JavaScriptNote/1.1.JS%E5%9F%BA%E7%A1%80_%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_10","title":"\u76f8\u7b49\u64cd\u4f5c","text":"<p>JavaScript \u5141\u8bb8\u9690\u5f0f\u8f6c\u6362\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u8fd9\u4e9b\u503c\u7c7b\u578b\u8f6c\u6362\u89c4\u5219\u4f1a\u5f71\u54cd\u76f8\u7b49\u7684\u5b9a\u4e49\uff0c<code>==</code> \u76f8\u7b49\u64cd\u4f5c\u7b26\u5141\u8bb8\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\u3002</p> <pre><code>if (\"1\" == 1){\nconsole.log(\"equal\")\n} </code></pre> <pre><code>equal\n</code></pre> <p>\u5728\u5b9e\u8df5\u4e2d\uff0c<code>==</code> \u76f8\u7b49\u64cd\u4f5c\u7b26\u5df2\u5f03\u7528\uff0c\u800c\u4f7f\u7528\u4e25\u683c\u7684\u76f8\u7b49\u64cd\u4f5c\u7b26 <code>===</code>\uff0c\u5b83\u4e0d\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\u3002</p> <pre><code>if (\"1\" === 1){\nconsole.log(\"equal\")\n}\nelse{\nconsole.log(\"not equal\")\n}\n</code></pre> <pre><code>not equal\n</code></pre>"},{"location":"JavaScriptNote/1.1.JS%E5%9F%BA%E7%A1%80_%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_11","title":"\u5185\u7f6e\u539f\u5b50\u7c7b\u578b\uff08\u57fa\u672c\u7c7b\u578b\uff09","text":"<p>JavaScript \u7684\u57fa\u672c\u7c7b\u578b\u5305\u62ec\uff1a</p> <ol> <li>\u6570\u5b57\uff08\u6574\u578b\u548c\u6d6e\u70b9\u578b\uff09</li> <li>\u5b57\u7b26\u4e32</li> <li>\u5e03\u5c14\u503c</li> <li><code>null</code> </li> <li><code>undefined</code></li> </ol> <p><code>null</code> \u548c <code>undefined</code> \u662f\u7279\u6b8a\u7684 JavaScript \u503c\uff0c\u4f46\u4e0d\u662f\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u6216\u5e03\u5c14\u503c\u3002</p>"},{"location":"JavaScriptNote/1.1.JS%E5%9F%BA%E7%A1%80_%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_12","title":"\u5185\u7f6e\u590d\u5408\u7c7b\u578b\uff08\u5bf9\u8c61\u7c7b\u578b\uff09","text":"<p>\u4e0d\u662f\u5185\u7f6e\u539f\u5b50\u7c7b\u578b\u7684\u5185\u7f6e\u7c7b\u578b\u90fd\u662f\u5bf9\u8c61\u3002</p> <p>\u5bf9\u8c61(\u5373\u7c7b\u578b\u5bf9\u8c61\u7684\u6210\u5458)\u662f\u5c5e\u6027\u7684\u96c6\u5408\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5c5e\u6027\u90fd\u6709\u4e00\u4e2a\u540d\u79f0\u548c\u4e00\u4e2a\u503c(\u539f\u59cb\u503c\u6216\u53e6\u4e00\u4e2a\u5bf9\u8c61)\u3002</p> <p>\u666e\u901a\u7684 JavaScript \u5bf9\u8c61\u662f\u547d\u540d\u503c\u7684\u65e0\u5e8f\u96c6\u5408\u3002\u8be5\u8bed\u8a00\u8fd8\u5b9a\u4e49\u4e86\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u79f0\u4e3a\u6570\u7ec4\uff0c\u5b83\u8868\u793a\u7f16\u53f7\u503c\u7684\u6709\u5e8f\u96c6\u5408\u3002</p>"},{"location":"JavaScriptNote/1.1.JS%E5%9F%BA%E7%A1%80_%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_13","title":"\u51fd\u6570","text":"<p>\u5b9a\u4e49\u51fd\u6570\u7684\u8bed\u6cd5\u683c\u5f0f\uff1a</p> <pre><code>function function_name(parameter1, parameter2){\nstatements\nreturn object;\n}\n</code></pre>"},{"location":"JavaScriptNote/1.2.JS%E5%9F%BA%E7%A1%80_%E5%86%85%E7%BD%AE%E5%8E%9F%E5%AD%90%E7%B1%BB%E5%9E%8B.html","title":"\u5185\u7f6e\u539f\u5b50\u7c7b\u578b","text":""},{"location":"JavaScriptNote/1.2.JS%E5%9F%BA%E7%A1%80_%E5%86%85%E7%BD%AE%E5%8E%9F%E5%AD%90%E7%B1%BB%E5%9E%8B.html#_1","title":"\u6570\u5b57","text":""},{"location":"JavaScriptNote/1.2.JS%E5%9F%BA%E7%A1%80_%E5%86%85%E7%BD%AE%E5%8E%9F%E5%AD%90%E7%B1%BB%E5%9E%8B.html#integer-literals","title":"Integer Literals","text":"<p>\u9664\u4e86\u4ee510\u4e3a\u57fa\u6570\u7684\u6574\u6570\u5b57\u9762\u91cf\u4e4b\u5916\uff0cJavaScript\u8fd8\u53ef\u4ee5\u8bc6\u522b\u5341\u516d\u8fdb\u5236(\u4ee516\u4e3a\u57fa\u6570)\u7684\u503c\u3002\u4ee50x\u62160x\u5f00\u5934\u7684\u5341\u516d\u8fdb\u5236\u6587\u5b57\uff0c\u540e\u9762\u8ddf\u7740\u4e00\u4e32\u5341\u516d\u8fdb\u5236\u6570\u5b57\u300216\u8fdb\u5236\u6570\u5b57\u662f\u6570\u5b570\u52309\u6216\u5b57\u6bcdA(\u6216A)\u5230f(\u6216f)\u4e2d\u7684\u4e00\u4e2a\uff0c\u8868\u793a\u503c10\u523015\u3002\u4ee5\u4e0b\u662f\u5341\u516d\u8fdb\u5236\u6574\u6570\u5b57\u9762\u91cf\u7684\u4f8b\u5b50:</p> <pre><code>0xff       // =&gt; 255: (15*16 + 15)\n0xBADCAFE  // =&gt; 195939070\n</code></pre> <p>\u5728ES6\u53ca\u540e\u7eed\u7248\u672c\u4e2d\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u524d\u7f000b\u548c0o(\u62160b\u548c0o)\u6765\u8868\u793a\u4e8c\u8fdb\u5236(\u4ee52\u4e3a\u57fa\u6570)\u6216\u516b\u8fdb\u5236(\u4ee58\u4e3a\u57fa\u6570)\u7684\u6574\u6570\uff0c\u800c\u4e0d\u662f0x:</p> <pre><code>0b10101  // =&gt; 21:  (1*16 + 0*8 + 1*4 + 0*2 + 1*1)\n0o377    // =&gt; 255: (3*64 + 7*8 + 7*1)\n</code></pre>"},{"location":"JavaScriptNote/1.2.JS%E5%9F%BA%E7%A1%80_%E5%86%85%E7%BD%AE%E5%8E%9F%E5%AD%90%E7%B1%BB%E5%9E%8B.html#floating-point-literals","title":"Floating-Point Literals","text":"<p>\u8868\u793a\u6d6e\u70b9\u6570\u7684\u8bed\u6cd5\uff1a</p> <pre><code>[digits][.digits][(E|e)[(+|-)]digits]\n</code></pre> <p>\u4ee3\u7801\u793a\u4f8b\uff1a</p> <pre><code>3.14\n2345.6789\n.333333333333333333\n6.02e23        // 6.02 \u00d7 10\u00b2\u00b3\n1.4738223E-32  // 1.4738223 \u00d7 10\u207b\u00b3\u00b2\n</code></pre> <p>\u4f60\u53ef\u4ee5\u5728\u6570\u5b57\u5b57\u9762\u503c\u4e2d\u4f7f\u7528\u4e0b\u5212\u7ebf\u5c06\u957f\u5b57\u9762\u503c\u5206\u89e3\u6210\u66f4\u5bb9\u6613\u9605\u8bfb\u7684\u5757:</p> <pre><code>let billion = 1_000_000_000;   // Underscore as a thousands separator.\nlet bytes = 0x89_AB_CD_EF;     // As a bytes separator.\nlet bits = 0b0001_1101_0111;   // As a nibble separator.\nlet fraction = 0.123_456_789;  // Works in the fractional part, too.\n</code></pre> <p>\u57282020\u5e74\u521d\uff0c\u6570\u5b57\u5b57\u9762\u503c\u4e2d\u7684\u4e0b\u5212\u7ebf\u8fd8\u6ca1\u6709\u4f5c\u4e3aJavaScript\u7684\u4e00\u90e8\u5206\u6b63\u5f0f\u6807\u51c6\u5316\u3002\u4f46\u662f\u5b83\u4eec\u5904\u4e8e\u6807\u51c6\u5316\u8fc7\u7a0b\u7684\u9ad8\u7ea7\u9636\u6bb5\uff0c\u6240\u6709\u4e3b\u8981\u6d4f\u89c8\u5668\u548c\u8282\u70b9\u90fd\u5b9e\u73b0\u4e86\u5b83\u4eec\u3002</p>"},{"location":"JavaScriptNote/1.2.JS%E5%9F%BA%E7%A1%80_%E5%86%85%E7%BD%AE%E5%8E%9F%E5%AD%90%E7%B1%BB%E5%9E%8B.html#_2","title":"\u7b97\u672f\u8fd0\u7b97","text":"<p>\u9664\u4e86\u52a0\u3001\u51cf\u3001\u4e58\u3001\u9664\u3001\u53d6\u6a21\u8fd9\u4e9b\u57fa\u672c\u7684\u7b97\u672f\u8fd0\u7b97\u7b26\uff0cJavaScript\u8fd8\u901a\u8fc7\u5b9a\u4e49\u4e3aMath\u5bf9\u8c61\u5c5e\u6027\u7684\u4e00\u7ec4\u51fd\u6570\u548c\u5e38\u91cf\u652f\u6301\u66f4\u590d\u6742\u7684\u6570\u5b66\u8fd0\u7b97:</p> <pre><code>Math.pow(2,53)           // =&gt; 9007199254740992: 2 to the power 53\nMath.round(.6)           // =&gt; 1.0: round to the nearest integer\nMath.ceil(.6)            // =&gt; 1.0: round up to an integer\nMath.floor(.6)           // =&gt; 0.0: round down to an integer\nMath.abs(-5)             // =&gt; 5: absolute value\nMath.max(x,y,z)          // Return the largest argument\nMath.min(x,y,z)          // Return the smallest argument\nMath.random()            // Pseudo-random number x where 0 &lt;= x &lt; 1.0\nMath.PI                  // \u03c0: circumference of a circle / diameter\nMath.E                   // e: The base of the natural logarithm\nMath.sqrt(3)             // =&gt; 3**0.5: the square root of 3\nMath.pow(3, 1/3)         // =&gt; 3**(1/3): the cube root of 3\nMath.sin(0)              // Trigonometry: also Math.cos, Math.atan, etc.\nMath.log(10)             // Natural logarithm of 10\nMath.log(100)/Math.LN10  // Base 10 logarithm of 100\nMath.log(512)/Math.LN2   // Base 2 logarithm of 512\nMath.exp(3)              // Math.E cubed\n</code></pre> <p>ES6\u5728Math\u5bf9\u8c61\u4e0a\u5b9a\u4e49\u4e86\u66f4\u591a\u7684\u51fd\u6570:</p> <pre><code>Math.cbrt(27)    // =&gt; 3: cube root\nMath.hypot(3, 4) // =&gt; 5: square root of sum of squares of all arguments\nMath.log10(100)  // =&gt; 2: Base-10 logarithm\nMath.log2(1024)  // =&gt; 10: Base-2 logarithm\nMath.log1p(x)    // Natural log of (1+x); accurate for very small x\nMath.expm1(x)    // Math.exp(x)-1; the inverse of Math.log1p()\nMath.sign(x)     // -1, 0, or 1 for arguments &lt;, ==, or &gt; 0\nMath.imul(2,3)   // =&gt; 6: optimized multiplication of 32-bit integers\nMath.clz32(0xf)  // =&gt; 28: number of leading zero bits in a 32-bit integer\nMath.trunc(3.9)  // =&gt; 3: convert to an integer by truncating fractional part\nMath.fround(x)   // Round to nearest 32-bit float number\nMath.sinh(x)     // Hyperbolic sine. Also Math.cosh(), Math.tanh()\nMath.asinh(x)    // Hyperbolic arcsine. Also Math.acosh(), Math.atanh()\n</code></pre>"},{"location":"JavaScriptNote/1.2.JS%E5%9F%BA%E7%A1%80_%E5%86%85%E7%BD%AE%E5%8E%9F%E5%AD%90%E7%B1%BB%E5%9E%8B.html#_3","title":"\u975e\u6570\u5b57\u7684\u6570\u5b57\u503c","text":"<p>JavaScript \u4e2d\u7684\u7b97\u672f\u5728\u6ea2\u51fa\u3001\u4e0b\u6ea2\u6216\u9664\u4ee50\u7684\u60c5\u51b5\u4e0b\u4e0d\u4f1a\u5f15\u53d1\u9519\u8bef\u3002\u5f53\u6570\u503c\u64cd\u4f5c\u7684\u7ed3\u679c\u5927\u4e8e\u6700\u5927\u53ef\u8868\u793a\u6570(\u6ea2\u51fa)\u65f6\uff0c\u7ed3\u679c\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u65e0\u7a77\u503c\uff0c\u5373\u65e0\u7a77\u3002\u540c\u6837\uff0c\u5f53\u4e00\u4e2a\u8d1f\u6570\u7684\u7edd\u5bf9\u503c\u5927\u4e8e\u6700\u5927\u53ef\u8868\u793a\u8d1f\u6570\u7684\u7edd\u5bf9\u503c\u65f6\uff0c\u7ed3\u679c\u662f\u8d1f\u65e0\u7a77\uff0c\u8d1f\u65e0\u7a77\u3002\u65e0\u7a77\u503c\u7684\u884c\u4e3a\u4e0e\u60a8\u9884\u671f\u7684\u4e00\u6837:\u52a0\u3001\u51cf\u3001\u4e58\u6216\u9664\u4efb\u4f55\u503c\u90fd\u4f1a\u4ea7\u751f\u65e0\u7a77\u503c(\u53ef\u80fd\u7b26\u53f7\u98a0\u5012)\u3002</p> <p>\u5f53\u6570\u503c\u64cd\u4f5c\u7684\u7ed3\u679c\u6bd4\u6700\u5c0f\u7684\u53ef\u8868\u793a\u6570\u5b57\u66f4\u63a5\u8fd1\u4e8e\u96f6\u65f6\uff0c\u5c31\u4f1a\u53d1\u751f\u4e0b\u6ea2\u3002\u5728\u672c\u4f8b\u4e2d\uff0cJavaScript\u8fd4\u56de0\u3002\u5982\u679c\u4e0b\u6ea2\u53d1\u751f\u5728\u8d1f\u6570\uff0cJavaScript\u5c06\u8fd4\u56de\u4e00\u4e2a\u7279\u6b8a\u7684\u503c\uff0c\u79f0\u4e3a\u201c\u8d1f\u96f6\u201d\u3002\u8fd9\u4e2a\u503c\u4e0e\u666e\u901a\u76840\u51e0\u4e4e\u6ca1\u6709\u533a\u522b\uff0cJavaScript\u7a0b\u5e8f\u5458\u51e0\u4e4e\u4e0d\u9700\u8981\u68c0\u6d4b\u5b83\u3002</p> <p>\u5728 JavaScript \u4e2d\u9664\u4ee50\u4e0d\u662f\u9519\u8bef:\u5b83\u53ea\u662f\u8fd4\u56de\u65e0\u7a77\u5927\u6216\u8d1f\u65e0\u7a77\u5927\u3002\u7136\u800c\uff0c\u6709\u4e00\u4e2a\u4f8b\u5916:0\u9664\u4ee50\u6ca1\u6709\u4e00\u4e2a\u5b9a\u4e49\u826f\u597d\u7684\u503c\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u975e\u6570\u5b57\u503c<code>NaN</code>\u3002\u5982\u679c\u60a8\u8bd5\u56fe\u5c06\u65e0\u7a77\u9664\u4ee5\u65e0\u7a77\uff0c\u53d6\u8d1f\u6570\u7684\u5e73\u65b9\u6839\uff0c\u6216\u4f7f\u7528\u5e26\u6709\u4e0d\u80fd\u8f6c\u6362\u4e3a\u6570\u5b57\u7684\u975e\u6570\u5b57\u64cd\u4f5c\u6570\u7684\u7b97\u672f\u64cd\u4f5c\u7b26\uff0c\u5219\u8fd8\u4f1a\u51fa\u73b0<code>NaN</code>\u3002</p> <p>JavaScript \u9884\u5148\u5b9a\u4e49\u4e86\u5168\u5c40\u5e38\u91cf <code>Infinity</code> \u548c <code>NaN</code> \u6765\u4fdd\u5b58\u6b63\u7684 <code>Infinity</code> \u548c\u975e\u6570\u5b57\u503c\uff0c\u8fd9\u4e9b\u503c\u4e5f\u53ef\u4ee5\u4f5c\u4e3aNumber\u5bf9\u8c61\u7684\u5c5e\u6027:</p> <pre><code>Infinity                    // A positive number too big to represent\nNumber.POSITIVE_INFINITY    // Same value\n1/0                         // =&gt; Infinity\nNumber.MAX_VALUE * 2        // =&gt; Infinity; overflow\n\n-Infinity                   // A negative number too big to represent\nNumber.NEGATIVE_INFINITY    // The same value\n-1/0                        // =&gt; -Infinity\n-Number.MAX_VALUE * 2       // =&gt; -Infinity\n\nNaN                         // The not-a-number value\nNumber.NaN                  // The same value, written another way\n0/0                         // =&gt; NaN\nInfinity/Infinity           // =&gt; NaN\n\nNumber.MIN_VALUE/2          // =&gt; 0: underflow\n-Number.MIN_VALUE/2         // =&gt; -0: negative zero\n-1/Infinity                 // -&gt; -0: also negative 0\n-0\n\n// The following Number properties are defined in ES6\nNumber.parseInt()       // Same as the global parseInt() function\nNumber.parseFloat()     // Same as the global parseFloat() function\nNumber.isNaN(x)         // Is x the NaN value?\nNumber.isFinite(x)      // Is x a number and finite?\nNumber.isInteger(x)     // Is x an integer?\nNumber.isSafeInteger(x) // Is x an integer -(2**53) &lt; x &lt; 2**53?\nNumber.MIN_SAFE_INTEGER // =&gt; -(2**53 - 1)\nNumber.MAX_SAFE_INTEGER // =&gt; 2**53 - 1\nNumber.EPSILON          // =&gt; 2**-52: smallest difference between numbers\n</code></pre> <p>not-a-number \u503c\u5728 JavaScript \u4e2d\u6709\u4e00\u4e2a\u4e0d\u540c\u5bfb\u5e38\u7684\u7279\u6027: \u5b83\u4e0d\u7b49\u4e8e\u4efb\u4f55\u5176\u4ed6\u503c\uff0c\u5305\u62ec\u5b83\u81ea\u5df1\uff0c\u8fd9\u4e0ePython\u4e00\u81f4\u3002</p> <p>\u8fd9\u610f\u5473\u7740\u60a8\u4e0d\u80fd\u7f16\u5199<code>x === NaN</code>\u6765\u786e\u5b9a\u53d8\u91cfx\u7684\u503c\u662f\u5426\u4e3a<code>NaN</code>\u3002\u76f8\u53cd\uff0c\u4f60\u5fc5\u987b\u5199<code>x != x</code>\u6216<code>Number.isNaN(x)</code>\u3002\u5f53\u4e14\u4ec5\u5f53<code>x</code>\u5177\u6709\u4e0e\u5168\u5c40\u5e38\u91cf<code>NaN</code>\u76f8\u540c\u7684\u503c\u65f6\uff0c\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u5c06\u4e3a\u771f\u3002</p> <p>\u5168\u5c40\u51fd\u6570<code>isNaN()</code>\u7c7b\u4f3c\u4e8e<code>Number.isNaN()</code>\u3002\u5982\u679c\u5b83\u7684\u53c2\u6570\u662f<code>NaN</code>\uff0c\u6216\u8005\u8be5\u53c2\u6570\u662f\u4e00\u4e2a\u4e0d\u80fd\u8f6c\u6362\u4e3a\u6570\u5b57\u7684\u975e\u6570\u5b57\u503c\uff0c\u5219\u8fd4\u56detrue\u3002\u76f8\u5173\u51fd\u6570<code>number . isfinite()</code>\u5982\u679c\u53c2\u6570\u4e0d\u662f<code>NaN</code>\u3001<code>Infinity</code>\u6216<code>-Infinity</code>\uff0c\u5219\u8fd4\u56de<code>true</code>\u3002\u5168\u5c40\u7684<code>isFinite()</code>\u51fd\u6570\u5982\u679c\u5b83\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u6709\u9650\u6570\uff0c\u6216\u8005\u53ef\u4ee5\u8f6c\u6362\u4e3a\u4e00\u4e2a\u6709\u9650\u6570\uff0c\u5219\u8fd4\u56de<code>true</code>\u3002</p> <p>\u8d1f\u96f6\u503c\u4e5f\u6709\u4e9b\u4e0d\u5bfb\u5e38\u3002\u5b83\u7b49\u4e8e\u6b630\uff08\u5373\u4f7f\u4f7f\u7528<code>===</code>\u8fdb\u884c\u6bd4\u8f83\uff09\uff0c\u8fd9\u610f\u5473\u7740\u8fd9\u4e24\u4e2a\u503c\u51e0\u4e4e\u65e0\u6cd5\u533a\u5206\uff0c\u9664\u975e\u7528\u4f5c\u9664\u6570:</p> <pre><code>let zero = 0;         // Regular zero\nlet negz = -0;        // Negative zero\nzero === negz         // =&gt; true: zero and negative zero are equal\n1/zero === 1/negz     // =&gt; false: Infinity and -Infinity are not equal\n</code></pre>"},{"location":"JavaScriptNote/1.2.JS%E5%9F%BA%E7%A1%80_%E5%86%85%E7%BD%AE%E5%8E%9F%E5%AD%90%E7%B1%BB%E5%9E%8B.html#date","title":"<code>Date</code>\u7c7b","text":"<p>JavaScript\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7b80\u5355\u7684Date\u7c7b\uff0c\u7528\u4e8e\u8868\u793a\u548c\u64cd\u4f5c\u8868\u793a\u65e5\u671f\u548c\u65f6\u95f4\u7684\u6570\u5b57\u3002JavaScript\u7684\u65e5\u671f\u662f\u5bf9\u8c61\uff0c\u4f46\u5b83\u4eec\u4e5f\u6709\u4e00\u4e2a\u6570\u5b57\u8868\u793a\u5f62\u5f0f\u7684\u65f6\u95f4\u6233\uff0c\u6307\u5b9a\u4e86\u81ea1970\u5e741\u67081\u65e5\u4ee5\u6765\u7ecf\u8fc7\u7684\u6beb\u79d2\u6570:</p> <pre><code>let timestamp = Date.now();  // The current time as a timestamp (a number).\nlet now = new Date();        // The current time as a Date object.\nlet ms = now.getTime();      // Convert to a millisecond timestamp.\nlet iso = now.toISOString(); // Convert to a string in standard format.\n</code></pre>"},{"location":"JavaScriptNote/1.2.JS%E5%9F%BA%E7%A1%80_%E5%86%85%E7%BD%AE%E5%8E%9F%E5%AD%90%E7%B1%BB%E5%9E%8B.html#_4","title":"\u5b57\u7b26\u4e32","text":"<p>\u5b57\u7b26\u4e32\u5728 JavaScript \u4e2d\u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u8fd9\u4e0e C \u548c Python \u4e00\u81f4\u3002\u50cf<code>replace()</code>\u548c<code>toUpperCase()</code>\u8fd9\u6837\u7684\u65b9\u6cd5\u8fd4\u56de\u65b0\u7684\u5b57\u7b26\u4e32:\u5b83\u4eec\u4e0d\u4f1a\u4fee\u6539\u8c03\u7528\u5b83\u4eec\u7684\u5b57\u7b26\u4e32\u3002</p> <p>\u5728ES6\u53ca\u4ee5\u540e\u7684\u7248\u672c\u4e2d\uff0c\u5b57\u7b26\u4e32\u6587\u5b57\u53ef\u4ee5\u7528\u53cd\u5f15\u53f7\u5206\u9694:</p> <pre><code>let s = `hello world`;\n</code></pre> <p>JavaScript\u4f7f\u7528Unicode\u5b57\u7b26\u96c6\u7684UTF-16\u7f16\u7801\uff0cJavaScript\u5b57\u7b26\u4e32\u662f\u65e0\u7b26\u53f7\u768416\u4f4d\u503c\u5e8f\u5217\u3002\u6700\u5e38\u7528\u7684Unicode\u5b57\u7b26(\u6765\u81ea\u201c\u57fa\u672c\u591a\u8bed\u8a00\u5e73\u9762\u201d\u7684\u5b57\u7b26)\u5177\u6709\u9002\u540816\u4f4d\u7684\u4ee3\u7801\u70b9\uff0c\u53ef\u4ee5\u7531\u5b57\u7b26\u4e32\u7684\u4e00\u4e2a\u5143\u7d20\u8868\u793a\u3002\u7f16\u7801\u70b9\u4e0d\u9002\u540816\u4f4d\u7684Unicode\u5b57\u7b26\u5c06\u4f7f\u7528UTF-16\u89c4\u5219\u4f5c\u4e3a\u4e24\u4e2a16\u4f4d\u503c\u7684\u5e8f\u5217(\u79f0\u4e3a\u201c\u4ee3\u7406\u5bf9\u201d)\u8fdb\u884c\u7f16\u7801\u3002\u8fd9\u610f\u5473\u7740\u4e00\u4e2a\u957f\u5ea6\u4e3a2\u7684JavaScript\u5b57\u7b26\u4e32(\u4e24\u4e2a16\u4f4d\u503c)\u53ef\u80fd\u53ea\u4ee3\u8868\u4e00\u4e2aUnicode\u5b57\u7b26:</p> <pre><code>let euro = \"\u20ac\";\nlet love = \"\u2764\";\neuro.length   // =&gt; 1: this character has one 16-bit element\nlove.length   // =&gt; 2: UTF-16 encoding of \u2764 is \"\\ud83d\\udc99\"\n</code></pre> <p>JavaScript\u5b9a\u4e49\u7684\u5927\u591a\u6570\u5b57\u7b26\u4e32\u64cd\u4f5c\u65b9\u6cd5\u64cd\u4f5c\u7684\u662f16\u4f4d\u503c\uff0c\u800c\u4e0d\u662f\u5b57\u7b26\u3002\u5b83\u4eec\u6ca1\u6709\u7279\u522b\u5bf9\u5f85\u4ee3\u7406\u5bf9\uff0c\u5b83\u4eec\u6ca1\u6709\u5bf9\u5b57\u7b26\u4e32\u6267\u884c\u89c4\u8303\u5316\uff0c\u751a\u81f3\u4e0d\u786e\u4fdd\u5b57\u7b26\u4e32\u662f\u683c\u5f0f\u826f\u597d\u7684UTF-16\u3002</p> <p>\u7136\u800c\uff0c\u5728ES6\u4e2d\uff0c\u5b57\u7b26\u4e32\u662f\u53ef\u8fed\u4ee3\u7684\uff0c\u5982\u679c\u4f60\u4f7f\u7528for/of\u5faa\u73af\u6216\u2026\u64cd\u4f5c\u7b26\uff0c\u5b83\u5c06\u8fed\u4ee3\u5b57\u7b26\u4e32\u7684\u5b9e\u9645\u5b57\u7b26\uff0c\u800c\u4e0d\u662f16\u4f4d\u503c\u3002</p>"},{"location":"JavaScriptNote/1.2.JS%E5%9F%BA%E7%A1%80_%E5%86%85%E7%BD%AE%E5%8E%9F%E5%AD%90%E7%B1%BB%E5%9E%8B.html#_5","title":"\u5b57\u7b26\u4e32\u7eed\u884c","text":"<pre><code>// A string representing 2 lines written on one line:\n'two\\nlines'\n\n// A one-line string written on 3 lines:\n\"one\\\n long\\\n line\"\n\n// A two-line string written on two lines:\n`the newline character at the end of this line\nis included literally in this string`\n</code></pre>"},{"location":"JavaScriptNote/1.2.JS%E5%9F%BA%E7%A1%80_%E5%86%85%E7%BD%AE%E5%8E%9F%E5%AD%90%E7%B1%BB%E5%9E%8B.html#api","title":"\u5b57\u7b26\u4e32API","text":"<pre><code>let s = \"Hello, world\"; // Start with some text.\n\ns.length\n\n// Obtaining portions of a string\ns.substring(1,4)        // =&gt; \"ell\": the 2nd, 3rd, and 4th characters.\ns.slice(1,4)            // =&gt; \"ell\": same thing\ns.slice(-3)             // =&gt; \"rld\": last 3 characters\ns.split(\", \")           // =&gt; [\"Hello\", \"world\"]: split at delimiter string\n\n// Searching a string\ns.indexOf(\"l\")          // =&gt; 2: position of first letter l\ns.indexOf(\"l\", 3)       // =&gt; 3: position of first \"l\" at or after 3\ns.indexOf(\"zz\")         // =&gt; -1: s does not include the substring \"zz\"\ns.lastIndexOf(\"l\")      // =&gt; 10: position of last letter l\n\n// Boolean searching functions in ES6 and later\ns.startsWith(\"Hell\")    // =&gt; true: the string starts with these\ns.endsWith(\"!\")         // =&gt; false: s does not end with that\ns.includes(\"or\")        // =&gt; true: s includes substring \"or\"\n\n// Creating modified versions of a string\ns.replace(\"llo\", \"ya\")  // =&gt; \"Heya, world\"\ns.toLowerCase()         // =&gt; \"hello, world\"\ns.toUpperCase()         // =&gt; \"HELLO, WORLD\"\ns.normalize()           // Unicode NFC normalization: ES6\ns.normalize(\"NFD\")      // NFD normalization. Also \"NFKC\", \"NFKD\"\n\n// Inspecting individual (16-bit) characters of a string\ns.charAt(0)             // =&gt; \"H\": the first character\ns.charAt(s.length-1)    // =&gt; \"d\": the last character\ns.charCodeAt(0)         // =&gt; 72: 16-bit number at the specified position\ns.codePointAt(0)        // =&gt; 72: ES6, works for codepoints &gt; 16 bits\n\n// String padding functions in ES2017\n\"x\".padStart(3)         // =&gt; \"  x\": add spaces on the left to a length of 3\n\"x\".padEnd(3)           // =&gt; \"x  \": add spaces on the right to a length of 3\n\"x\".padStart(3, \"*\")    // =&gt; \"**x\": add stars on the left to a length of 3\n\"x\".padEnd(3, \"-\")      // =&gt; \"x--\": add dashes on the right to a length of 3\n\n// Space trimming functions. trim() is ES5; others ES2019\n\" test \".trim()         // =&gt; \"test\": remove spaces at start and end\n\" test \".trimStart()    // =&gt; \"test \": remove spaces on left. Also trimLeft\n\" test \".trimEnd()      // =&gt; \" test\": remove spaces at right. Also trimRight\n\n// Miscellaneous string methods\ns.concat(\"!\")           // =&gt; \"Hello, world!\": just use + operator instead\n\"&lt;&gt;\".repeat(5)          // =&gt; \"&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;\": concatenate n copies. ES6\n</code></pre> <p>\u5b57\u7b26\u4e32\u4e5f\u53ef\u4ee5\u50cf\u53ea\u8bfb\u6570\u7ec4\u4e00\u6837\u5904\u7406\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u65b9\u62ec\u53f7\u800c\u4e0d\u662f<code>charAt()</code>\u65b9\u6cd5\u4ece\u5b57\u7b26\u4e32\u4e2d\u8bbf\u95ee\u5355\u4e2a\u5b57\u7b26(16\u4f4d\u503c):</p>"},{"location":"JavaScriptNote/1.2.JS%E5%9F%BA%E7%A1%80_%E5%86%85%E7%BD%AE%E5%8E%9F%E5%AD%90%E7%B1%BB%E5%9E%8B.html#_6","title":"\u6a21\u677f\u5b57\u7b26\u4e32","text":"<p>\u5728ES6\u53ca\u4ee5\u540e\u7684\u7248\u672c\u4e2d\uff0c\u5b57\u7b26\u4e32\u6587\u5b57\u53ef\u4ee5\u7528\u53cd\u5f15\u53f7\u5206\u9694:</p> <pre><code>let s = `hello world`;\n</code></pre> <p>\u7136\u800c\uff0c\u8fd9\u4e0d\u4ec5\u4ec5\u662f\u53e6\u4e00\u79cd\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u8bed\u6cd5\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u6a21\u677f\u5b57\u9762\u91cf\u53ef\u4ee5\u5305\u542b\u4efb\u610f\u7684JavaScript\u8868\u8fbe\u5f0f\u3002\u53cd\u6487\u53f7\u4e2d\u7684\u5b57\u7b26\u4e32\u5b57\u9762\u503c\u7684\u6700\u7ec8\u503c\u662f\u901a\u8fc7\u8ba1\u7b97\u5305\u542b\u7684\u4efb\u4f55\u8868\u8fbe\u5f0f\u6765\u8ba1\u7b97\u7684\uff0c\u5c06\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u7684\u503c\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\uff0c\u5e76\u5c06\u8fd9\u4e9b\u8ba1\u7b97\u51fa\u6765\u7684\u5b57\u7b26\u4e32\u4e0e\u53cd\u6487\u53f7\u4e2d\u7684\u5b57\u9762\u503c\u5b57\u7b26\u7ec4\u5408\u8d77\u6765:</p> <pre><code>let name = \"Bill\";\nlet greeting = `Hello ${ name }.`;  // greeting == \"Hello Bill.\"\n</code></pre> <p><code>${ and the matching }</code> \u4e4b\u95f4\u7684\u6240\u6709\u5185\u5bb9\u90fd\u88ab\u89e3\u91ca\u4e3aJavaScript\u8868\u8fbe\u5f0f\u3002\u5927\u62ec\u53f7\u4e4b\u5916\u7684\u90fd\u662f\u666e\u901a\u7684\u5b57\u7b26\u4e32\u6587\u672c\u3002\u62ec\u53f7\u5185\u7684\u8868\u8fbe\u5f0f\u88ab\u6c42\u503c\uff0c\u7136\u540e\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u5e76\u63d2\u5165\u5230\u6a21\u677f\u4e2d\uff0c\u66ff\u6362\u7f8e\u5143\u7b26\u53f7\u3001\u82b1\u62ec\u53f7\u4ee5\u53ca\u5b83\u4eec\u4e4b\u95f4\u7684\u6240\u6709\u5185\u5bb9\u3002</p> <p>\u6a21\u677f\u5b57\u9762\u91cf\u53ef\u4ee5\u5305\u542b\u4efb\u610f\u6570\u91cf\u7684\u8868\u8fbe\u5f0f\u3002\u5b83\u53ef\u4ee5\u4f7f\u7528\u666e\u901a\u5b57\u7b26\u4e32\u53ef\u4ee5\u4f7f\u7528\u7684\u4efb\u4f55\u8f6c\u4e49\u5b57\u7b26\uff0c\u5e76\u4e14\u53ef\u4ee5\u8de8\u4efb\u610f\u6570\u91cf\u7684\u884c\uff0c\u4e0d\u9700\u8981\u7279\u6b8a\u8f6c\u4e49\u3002\u4e0b\u9762\u7684\u6a21\u677f\u6587\u5b57\u5305\u542b\u56db\u4e2aJavaScript\u8868\u8fbe\u5f0f\uff0c\u4e00\u4e2aUnicode\u8f6c\u4e49\u5e8f\u5217\uff0c\u4ee5\u53ca\u81f3\u5c11\u56db\u4e2a\u6362\u884c\u7b26(\u8868\u8fbe\u5f0f\u503c\u4e5f\u53ef\u4ee5\u5305\u542b\u6362\u884c\u7b26):</p> <pre><code>let errorMessage = `\\\n\\u2718 Test failure at ${filename}:${linenumber}:\n${exception.message}\nStack trace:\n${exception.stack}\n`;\n</code></pre>"},{"location":"JavaScriptNote/1.2.JS%E5%9F%BA%E7%A1%80_%E5%86%85%E7%BD%AE%E5%8E%9F%E5%AD%90%E7%B1%BB%E5%9E%8B.html#_7","title":"\u6b63\u5219\u5339\u914d","text":"<p>\u4e00\u5bf9\u659c\u6760\u4e4b\u95f4\u7684\u6587\u672c\u6784\u6210\u4e86\u6b63\u5219\u8868\u8fbe\u5f0f\u5b57\u9762\u91cf\u3002\u5bf9\u4e2d\u7684\u7b2c\u4e8c\u4e2a\u659c\u6760\u8fd8\u53ef\u4ee5\u540e\u8ddf\u4e00\u4e2a\u6216\u591a\u4e2a\u5b57\u6bcd\uff0c\u5b83\u4eec\u4fee\u6539\u4e86\u6a21\u5f0f\u7684\u542b\u4e49\u3002\u4f8b\u5982:</p> <pre><code>/^HTML/;             // Match the letters H T M L at the start of a string\n/[1-9][0-9]*/;       // Match a nonzero digit, followed by any # of digits\n/\\bjavascript\\b/i;   // Match \"javascript\" as a word, case-insensitive\n</code></pre> <p>RegExp \u5bf9\u8c61\u5b9a\u4e49\u4e86\u8bb8\u591a\u6709\u7528\u7684\u65b9\u6cd5\uff0c\u5b57\u7b26\u4e32\u4e5f\u6709\u63a5\u53d7 RegExp \u53c2\u6570\u7684\u65b9\u6cd5\u3002\u4f8b\u5982:</p> <pre><code>let text = \"testing: 1, 2, 3\";   // Sample text\nlet pattern = /\\d+/g;            // Matches all instances of one or more digits\npattern.test(text)               // =&gt; true: a match exists\ntext.search(pattern)             // =&gt; 9: position of first match\ntext.match(pattern)              // =&gt; [\"1\", \"2\", \"3\"]: array of all matches\ntext.replace(pattern, \"#\")       // =&gt; \"testing: #, #, #\"\ntext.split(/\\D+/)                // =&gt; [\"\",\"1\",\"2\",\"3\"]: split on nondigits\n</code></pre>"},{"location":"JavaScriptNote/1.2.JS%E5%9F%BA%E7%A1%80_%E5%86%85%E7%BD%AE%E5%8E%9F%E5%AD%90%E7%B1%BB%E5%9E%8B.html#_8","title":"\u5e03\u5c14\u7c7b\u578b","text":"<p>JavaScript \u548c Python \u4e00\u6837\uff0c\u5728\u5fc5\u8981\u65f6\u5019\uff0c\u975e\u5e03\u5c14\u7c7b\u578b\u7684\u503c\u53ef\u4ee5\u9690\u5f0f\u5730\u8f6c\u6362\u4e3a\u5e03\u5c14\u503c\uff0c\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528<code>Boolean()</code>\u8fdb\u884c\u663e\u5f0f\u8f6c\u6362\u3002</p> <ol> <li><code>undefined</code> \u548c <code>null</code> \u4f1a\u88ab\u8f6c\u6362\u4e3a <code>false</code>\u3002</li> <li>\u7a7a\u5b57\u7b26\u4e32\u4f1a\u88ab\u8f6c\u6362\u4e3a <code>false</code>\uff1b\u975e\u7a7a\u5b57\u7b26\u4e32\u4f1a\u88ab\u8f6c\u6362\u4e3a <code>true</code>\u3002</li> <li>\u6570\u5b57\u6b630\u548c\u8d1f0\u4f1a\u88ab\u8f6c\u6362\u4e3a <code>false</code>\uff1b\u5176\u4ed6\u6570\u5b57\u4f1a\u88ab\u8f6c\u6362\u4e3a <code>true</code>\u3002</li> <li><code>NaN</code> \u4f1a\u88ab\u8f6c\u6362\u4e3a <code>false</code>;<code>Infinity</code> \u548c <code>-Infinity</code> \u4f1a\u88ab\u8f6c\u6362\u4e3a <code>true</code>\u3002</li> <li>\u6240\u6709 object \u7c7b\u578b\u4f1a\u88ab\u8f6c\u6362\u4e3a<code>true</code>\uff0c\u5373\u4f7f\u662f\u7a7a\u7684object <code>{}</code> \u6216 <code>[]</code>\u3002</li> <li>\u6240\u6709\u51fd\u6570\u4f1a\u88ab\u8f6c\u6362\u4e3a<code>true</code>\u3002</li> </ol> <p>\u4ee5\u4e0a\u8f6c\u6362\u7684\u89c4\u5219\u548c Python \u51e0\u4e4e\u90fd\u662f\u4e00\u6837\u7684\uff0c\u9664\u4e86\u6ce8\u610f\u4e00\u70b9\uff0cJavaScript \u4f1a\u5c06\u7a7a\u7684\u5bf9\u8c61\u7c7b\u578b <code>{}</code> \u548c <code>[]</code> \u8f6c\u6362\u4e3a <code>true</code>\uff0c\u800c Python \u4f1a\u5c06\u7a7a\u5b57\u5178\u548c\u7a7a\u5217\u8868\u8f6c\u6362\u4e3a<code>false</code>\u3002</p>"},{"location":"JavaScriptNote/1.2.JS%E5%9F%BA%E7%A1%80_%E5%86%85%E7%BD%AE%E5%8E%9F%E5%AD%90%E7%B1%BB%E5%9E%8B.html#symbols","title":"Symbols*","text":""},{"location":"JavaScriptNote/1.3.JS%E5%9F%BA%E7%A1%80_%E5%86%85%E7%BD%AE%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B.html","title":"\u5185\u7f6e\u590d\u5408\u7c7b\u578b","text":"<p>\u4e0d\u662f\u5185\u7f6e\u539f\u5b50\u7c7b\u578b\u7684\u5185\u7f6e\u7c7b\u578b\u90fd\u662f\u5bf9\u8c61\u3002</p> <p>\u5bf9\u8c61(\u5373\u7c7b\u578b\u5bf9\u8c61\u7684\u6210\u5458)\u662f\u5c5e\u6027\u7684\u96c6\u5408\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5c5e\u6027\u90fd\u6709\u4e00\u4e2a\u540d\u79f0\u548c\u4e00\u4e2a\u503c(\u539f\u59cb\u503c\u6216\u53e6\u4e00\u4e2a\u5bf9\u8c61)\u3002</p> <p>\u666e\u901a\u7684JavaScript\u5bf9\u8c61\u662f\u547d\u540d\u503c\u7684\u65e0\u5e8f\u96c6\u5408\u3002\u8be5\u8bed\u8a00\u8fd8\u5b9a\u4e49\u4e86\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u79f0\u4e3a\u6570\u7ec4\uff0c\u5b83\u8868\u793a\u7f16\u53f7\u503c\u7684\u6709\u5e8f\u96c6\u5408\u3002</p>"},{"location":"JavaScriptNote/1.4.JS%E5%9F%BA%E7%A1%80_%E8%AF%AD%E5%8F%A5.html","title":"\u8bed\u53e5","text":""},{"location":"JavaScriptNote/1.4.JS%E5%9F%BA%E7%A1%80_%E8%AF%AD%E5%8F%A5.html#if","title":"<code>if</code> \u8bed\u53e5","text":"<p><code>if</code> \u8bed\u53e5\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>if (statement_A) {\nstatements;\n} else if (statement_B) {\nstatements;\n} else {\nstatements;\n}\n</code></pre> <p>\u6ce8\u610f\uff0cJavaScript \u8bed\u8a00\u89c4\u5b9a\uff0c<code>else</code> \u603b\u662f\u548c\u5b83\u4e0a\u9762\u6700\u8fd1\u7684\u4e00\u4e2a <code>if</code> \u914d\u5bf9\uff0c\u8fd9\u4e0e C \u8bed\u8a00\u4e00\u81f4\u3002\u56e0\u6b64\uff0c\u7c7b\u4f3c\u4e8e<code>if (A) if (B) C; else D;</code> \u5f62\u5f0f\u7684\u8bed\u53e5\u5e94\u8be5\u7406\u89e3\u4e3a\uff1a</p> <pre><code>if (A)\nif (B)\nC;\nelse\nD;\n</code></pre>"},{"location":"JavaScriptNote/1.4.JS%E5%9F%BA%E7%A1%80_%E8%AF%AD%E5%8F%A5.html#switch","title":"<code>switch</code> \u8bed\u53e5","text":"<p><code>switch</code> \u8bed\u53e5\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>switch (\u63a7\u5236\u8868\u8fbe\u5f0f) {\ncase \u8868\u8fbe\u5f0f:\n\u8bed\u53e5\u5217\u8868\ncase \u8868\u8fbe\u5f0f:\n\u8bed\u53e5\u5217\u8868\n...\ndefault\n\u5e38\u91cf\u8868\u8fbe\u5f0f: \u8bed\u53e5\u5217\u8868\n}\n</code></pre> <p><code>switch</code> \u8bed\u53e5\u4f7f\u7528 <code>===</code> \u5224\u65ad\u63a7\u5236\u8868\u8fbe\u5f0f\u7684\u503c\u662f\u5426\u548c\u67d0\u4e2a\u5e38\u91cf\u8868\u8fbe\u5f0f\u76f8\u7b49\u3002\u5206\u652f\u7684\u8868\u8fbe\u5f0f\u53ef\u4ee5\u76f8\u540c\uff0c\u7a0b\u5e8f\u4e0d\u4f1a\u56e0\u6b64\u9a6c\u4e0a\u629b\u51fa\u9519\u8bef\u3002\u5982\u679c\u63a7\u5236\u8868\u8fbe\u5f0f\u4e0d\u7b49\u4e8e\u4efb\u4f55\u4e00\u4e2a\u5e38\u91cf\u8868\u8fbe\u5f0f\uff0c\u5219\u4ece<code>default</code>\u5206\u652f\u5f00\u59cb\u6267\u884c\uff0c\u901a\u5e38\u628a<code>default</code>\u5206\u652f\u5199\u5728\u6700\u540e\uff0c\u4f46\u4e0d\u662f\u5fc5\u9700\u7684\u3002</p> <p>\u4f7f\u7528 <code>switch</code> \u8bed\u53e5\u8981\u6ce8\u610f\u4ee5\u4e0b\u51e0\u70b9\uff1a</p> <ol> <li>\u8fdb\u5165<code>case</code>\u540e\u5982\u679c\u6ca1\u6709\u9047\u5230<code>break</code>\u8bed\u53e5\u5c31\u4f1a\u4e00\u76f4\u5f80\u4e0b\u6267\u884c\uff0c\u540e\u9762\u5176\u4ed6<code>case</code>\u6216<code>default</code>\u5206\u652f\u7684\u8bed\u53e5\u4e5f\u4f1a\u88ab\u6267\u884c\u5230\uff0c\u76f4\u5230\u9047\u5230<code>break</code>\uff0c\u6216\u8005\u6267\u884c\u5230\u6574\u4e2a<code>switch</code>\u8bed\u53e5\u5757\u7684\u672b\u5c3e\u3002\u901a\u5e38\u6bcf\u4e2a<code>case</code>\u540e\u9762\u90fd\u8981\u52a0\u4e0a<code>break</code>\u8bed\u53e5\uff0c\u4f46\u6709\u65f6\u4f1a\u6545\u610f\u4e0d\u52a0<code>break</code>\uff0c\u4f8b\u5982\u5728\u51fd\u6570\u4f53\u4e2d\u4f7f\u7528 <code>switch</code> \u8bed\u53e5\uff0c\u7528 <code>return</code> \u4ee3\u66ff <code>break</code>\u3002</li> <li>\u4e0e C \u8bed\u8a00\u4e0d\u540c\uff0cJavaScript <code>case</code> \u540e\u9762\u7684\u8868\u8fbe\u5f0f\u53ef\u4ee5\u4e0d\u662f\u5e38\u91cf\u8868\u8fbe\u5f0f\uff0c\u8868\u8fbe\u5f0f\u7684\u503c\u4e5f\u53ef\u4ee5\u4e0d\u662f\u6574\u578b\u3002ECMAScript \u6807\u51c6\u5141\u8bb8<code>case</code>\u5b50\u53e5\u540e\u9762\u53ef\u4ee5\u6709\u4efb\u610f\u8868\u8fbe\u5f0f\u3002</li> <li><code>default:</code> \u6807\u7b7e\u901a\u5e38\u51fa\u73b0\u5728 <code>switch</code> \u8bed\u53e5\u7684\u672b\u5c3e\uff0c\u8fd9\u53ea\u662f\u4e00\u4e2a\u903b\u8f91\u4e0a\u901a\u7528\u7684\u5730\u65b9\uff0c\u5b9e\u9645\u4e0a\u5b83\u53ef\u4ee5\u51fa\u73b0\u5728\u8bed\u53e5\u4e3b\u4f53\u5185\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002</li> </ol> <p><code>switch</code> \u8bed\u53e5\u4e0d\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\uff0c\u663e\u7136\u53ef\u4ee5\u7528\u4e00\u7ec4 <code>if...else if...else if...else...</code> \u4ee3\u66ff\uff0c\u4f46\u662f\u4e00\u65b9\u9762\u7528 <code>switch</code> \u8bed\u53e5\u4f1a\u4f7f\u4ee3\u7801\u66f4\u6e05\u6670\u3002</p>"},{"location":"JavaScriptNote/1.4.JS%E5%9F%BA%E7%A1%80_%E8%AF%AD%E5%8F%A5.html#while","title":"<code>while</code> \u8bed\u53e5","text":"<pre><code>initialize;\nwhile(test){\nstatements;\nincrement;\n}\n</code></pre> <p>\u4f8b\u5982\uff1a</p> <pre><code>let count = 0;\nwhile(count &lt; 10) {\nconsole.log(count);\ncount++;\n}\n</code></pre> <p>\u53d8\u91cf<code>count</code>\u662f\u5faa\u73af\u53d8\u91cf(Loop Variable)\uff0c\u6bcf\u6b21\u5faa\u73af\u90fd\u8981\u6539\u53d8\u5b83\u7684\u503c\uff0c\u5728\u63a7\u5236\u8868\u8fbe\u5f0f\u4e2d\u8981\u6d4b\u8bd5\u5b83\u7684\u503c\uff0c\u8fd9\u4e24\u70b9\u5408\u8d77\u6765\u8d77\u5230\u63a7\u5236\u5faa\u73af\u6b21\u6570\u7684\u4f5c\u7528\uff0c\u5728\u8fd9\u4e2a\u4f8b\u5b50 \u4e2d\u7684\u503c\u662f\u9012\u51cf\u7684\uff0c\u4e5f\u6709\u4e9b\u5faa\u73af\u91c7\u7528\u9012\u589e\u7684\u5faa\u73af\u53d8\u91cf\u3002</p>"},{"location":"JavaScriptNote/1.4.JS%E5%9F%BA%E7%A1%80_%E8%AF%AD%E5%8F%A5.html#dowhile","title":"<code>do/while</code> \u8bed\u53e5","text":"<pre><code>initialize;\ndo{\nstatements;\nincrement;\n}while(test)\n</code></pre>"},{"location":"JavaScriptNote/1.4.JS%E5%9F%BA%E7%A1%80_%E8%AF%AD%E5%8F%A5.html#for","title":"<code>for</code> \u8bed\u53e5","text":"<pre><code>for (initialize; test; increment) {\nstatement\n}\n</code></pre> <p><code>for</code> \u5faa\u73af\u7684\u8bed\u6cd5\u683c\u5f0f\u7b49\u4ef7\u4e8e <code>while</code> \u5faa\u73af\u7684\u8bed\u6cd5\u683c\u5f0f\uff0c\u4ece\u8fd9\u79cd\u7b49\u4ef7\u7684\u5f62\u5f0f\u6765\u770b\uff0c<code>initialize</code>\u8868\u8fbe\u5f0f\u548c<code>increment</code>\u8868\u8fbe\u5f0f\u90fd\u53ef\u4ee5\u4e3a\u7a7a\uff0c\u4f46<code>test</code>\u8868\u8fbe\u5f0f\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002\u4f8b\u5982</p> <pre><code>for (;1;){...}\n// \u7b49\u4ef7\u4e8e\nwhile(1){...}\n</code></pre> <p>\u56e0\u6b64\uff0cECMAScript \u6807\u51c6\u89c4\u5b9a\uff0c\u5982\u679c<code>test</code>\u8868\u8fbe\u5f0f\u4e3a\u7a7a\uff0c\u5219\u8ba4\u4e3a<code>test</code>\u8868\u8fbe\u5f0f\u7684\u503c\u4e3a\u771f\uff0c\u56e0\u6b64\u6b7b\u5faa\u73af\u4e5f\u53ef\u4ee5\u5199\u6210</p> <pre><code>for (;;){...}\n</code></pre>"},{"location":"JavaScriptNote/1.4.JS%E5%9F%BA%E7%A1%80_%E8%AF%AD%E5%8F%A5.html#forof","title":"<code>for/of</code> \u8bed\u53e5","text":"<p>ES6 \u5b9a\u4e49\u4e86\u4e00\u4e2a\u65b0\u7684\u5faa\u73af\u8bed\u53e5\uff1a<code>for/of</code>\u3002\u8fd9\u79cd\u65b0\u7684\u5faa\u73af\u4f7f\u7528 <code>for</code> \u5173\u952e\u5b57\uff0c\u4f46\u662f\u4e0e\u5e38\u89c4\u7684 <code>for</code> \u5faa\u73af\u5b8c\u5168\u4e0d\u540c\u3002<code>for/of</code> \u5faa\u73af\u9002\u7528\u4e8e\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3002</p> <pre><code>let data = [1, 2, 3, 4, 5, 6, 7, 8, 9], sum = 0;\nfor(let element of data) {\nsum += element;\ndata.push(sum)\n}\nsum       // =&gt; 45\n</code></pre>"},{"location":"JavaScriptNote/1.4.JS%E5%9F%BA%E7%A1%80_%E8%AF%AD%E5%8F%A5.html#goto","title":"<code>goto</code> \u8bed\u53e5\u548c\u5f02\u5e38\u5904\u7406","text":"<p><code>goto</code> \u8bed\u53e5\u53ef\u4ee5\u5b9e\u73b0\u65e0\u6761\u4ef6\u8df3\u8f6c\u3002\u6211\u4eec\u77e5\u9053break\u53ea\u80fd\u8df3\u51fa\u6700\u5185\u5c42\u7684\u5faa\u73af\uff0c\u5982\u679c\u5728\u4e00\u4e2a\u5d4c\u5957\u5faa\u73af\u4e2d\u9047\u5230\u67d0\u4e2a\u9519\u8bef\u6761\u4ef6\u9700\u8981\u7acb\u5373\u8df3\u51fa\u6700\u5916\u5c42\u5faa\u73af\u505a\u51fa\u9519\u5904\u7406\uff0c\u5c31\u53ef\u4ee5\u7528<code>goto</code>\u8bed\u53e5\uff0c\u4f8b\u5982\uff1a</p> <pre><code>for (...){\nfor (...){\n...\nif (\u51fa\u73b0\u9519\u8bef\u6761\u4ef6)\ngoto error;\n}\n}\nerror:\n\u51fa\u9519\u5904\u7406;\n</code></pre> <p>\u8fd9\u91cc\u7684<code>error:</code>\u53eb\u4f5c\u6807\u53f7(Label)\uff0c\u4efb\u4f55\u8bed\u53e5\u524d\u9762\u90fd\u53ef\u4ee5\u52a0\u82e5\u5e72\u4e2a\u6807\u53f7\uff0c\u6bcf\u4e2a\u6807\u53f7\u7684\u547d\u540d\u4e5f\u8981\u9075\u5faa\u6807\u8bc6\u7b26\u7684\u547d\u540d\u89c4\u5219\u3002</p> <p><code>goto</code> \u8bed\u53e5\u8fc7\u4e8e\u5f3a\u5927\u4e86\uff0c\u4ece\u7a0b\u5e8f\u4e2d\u7684\u4efb\u4f55\u5730\u65b9\u90fd\u53ef\u4ee5\u65e0\u6761\u4ef6\u8df3\u8f6c\u5230\u4efb\u4f55\u5176\u4ed6\u5730\u65b9\uff0c\u53ea\u8981\u5728\u90a3\u4e2a\u5730\u65b9\u5b9a\u4e49\u4e00\u4e2a\u6807\u53f7\u5c31\u884c\uff0c\u552f\u4e00\u7684\u9650\u5236\u662f<code>goto</code> \u53ea\u80fd\u8df3\u8f6c\u5230\u540c\u4e00\u4e2a\u51fd\u6570 \u4e2d\u7684\u67d0\u4e2a\u6807\u53f7\u5904\uff0c\u800c\u4e0d\u80fd\u8df3\u5230\u522b\u7684\u51fd\u6570\u4e2d\u3002\u6ee5\u7528<code>goto</code> \u8bed\u53e5\u4f1a\u4f7f\u7a0b\u5e8f\u7684\u63a7\u5236\u6d41\u7a0b\u975e\u5e38\u590d\u6742\uff0c\u53ef\u8bfb\u6027\u5f88\u5dee\u3002\u8457\u540d\u7684\u8ba1\u7b97\u673a\u79d1\u5b66\u5bb6 Edsger W.Dijkstra \u6700\u65e9\u6307\u51fa\u7f16\u7a0b\u8bed \u8a00\u4e2d<code>goto</code>\u8bed\u53e5\u7684\u5371\u5bb3\uff0c\u63d0\u5021\u53d6\u6d88<code>goto</code> \u8bed\u53e5\u3002<code>goto</code> \u8bed\u53e5\u4e0d\u662f\u5fc5\u987b\u5b58\u5728\u7684\uff0c\u663e\u7136\u53ef\u4ee5\u7528\u522b\u7684\u529e\u6cd5\u66ff\u4ee3\uff0c\u6bd4\u5982\u4e0a\u9762\u7684\u4ee3\u7801\u6bb5\u53ef\u4ee5\u6539\u5199\u4e3a\u4ee5\u4e0b\u5f62\u5f0f\uff1a</p> <pre><code>int cond = 0; /* bool variable indicating error condition */\nfor (...){\nfor (...){\n...\nif (\u51fa\u73b0\u9519\u8bef\u6761\u4ef6){\ncond = 1;\nbreak;\n}\n}\nif (cond)\nbreak;\n}\nif (cond)\n\u9519\u8bef\u5904\u7406;\n</code></pre> <p>\u901a\u5e38<code>goto</code> \u8bed\u53e5\u53ea\u7528\u4e8e\u8fd9\u79cd\u573a\u5408\uff0c\u4e00\u4e2a\u51fd\u6570\u4e2d\u4efb\u4f55\u5730\u65b9\u51fa\u73b0\u4e86\u9519\u8bef\u6761\u4ef6\u90fd\u53ef\u4ee5\u7acb\u5373\u8df3\u8f6c\u5230\u51fd\u6570\u672b\u5c3e\u8fdb\u884c\u51fa\u9519\u5904\u7406\uff08\u4f8b\u5982\u91ca\u653e\u5148\u524d\u5206\u914d\u7684\u8d44\u6e90\u3001\u6062\u590d\u5148\u524d\u6539\u52a8\u8fc7\u7684 \u5168\u5c40\u53d8\u91cf\u7b49\uff09\uff0c\u5904\u7406\u5b8c\u4e4b\u540e\u51fd\u6570\u8fd4\u56de\u3002\u6bd4\u8f83\u7528<code>goto</code> \u548c\u4e0d\u7528<code>goto</code> \u7684\u4e24\u79cd\u5199\u6cd5\uff0c\u7528<code>goto</code> \u8bed\u53e5\u8fd8\u662f\u65b9\u4fbf\u5f88\u591a\u3002\u4f46\u662f\u9664\u6b64\u4e4b\u5916\uff0c\u5728\u4efb\u4f55\u5176\u4ed6\u573a\u5408\u90fd\u4e0d\u8981\u8f7b\u6613\u8003\u8651\u4f7f\u7528<code>goto</code> \u8bed\u53e5\u3002</p> <p>\u6709\u4e9b\u7f16\u7a0b\u8bed\u8a00 (\u5982 C++) \u4e2d\u6709\u5f02\u5e38(Exception)\u5904\u7406\u7684\u8bed\u6cd5\uff0c\u53ef\u4ee5\u4ee3\u66ff<code>goto</code> \u548c<code>setjmp</code>/<code>longjmp</code>\u7684\u8fd9\u79cd\u7528\u6cd5\u3002<code>case</code>\u548c<code>default</code>\u540e\u9762\u4e5f\u8981\u8ddf\u5192\u53f7<code>\uff1a</code>\uff0c\u4e8b\u5b9e\u4e0a\u5b83\u4eec\u662f\u4e24\u79cd\u7279\u6b8a\u7684\u6807\u53f7\u3002</p> <p>C\u6807\u51c6\u5e93\u51fd\u6570<code>setjmp</code>\u548c<code>longjmp</code>\u914d\u5408\u8d77\u6765\u53ef\u4ee5\u5b9e\u73b0\u51fd\u6570\u95f4\u7684\u8df3\u8f6c\uff0c\u4f46\u53ea\u80fd\u4ece\u88ab\u8c03\u7528\u7684\u51fd\u6570\u8df3\u56de\u5230\u5b83\u7684\u76f4\u63a5\u6216\u95f4\u63a5\u8c03\u7528\u8005\uff08\u540c\u65f6\u4ece\u6808\u7a7a\u95f4\u5f39\u51fa\u4e00\u4e2a\u6216\u591a\u4e2a\u6808\u987f\uff09\uff0c\u800c\u4e0d\u80fd\u4ece\u4e00\u4e2a\u51fd\u6570\u8df3\u8f6c\u5230\u53e6\u4e00\u4e2a\u548c\u5b83\u6beb\u4e0d\u76f8\u5e72\u7684\u51fd\u6570\u4e2d\u3002<code>setjmp/longjmp</code>\u51fd\u6570\u4e3b\u8981\u4e5f\u662f\u7528\u4e8e\u51fa\u9519\u5904\u7406\uff0c\u6bd4\u5982\u51fd\u6570<code>A</code>\u8c03\u7528\u51fd\u6570<code>B</code>\uff0c\u51fd\u6570<code>B</code>\u8c03\u7528\u51fd\u6570<code>C</code>\uff0c\u5982\u679c\u5728<code>C</code>\u4e2d\u51fa\u73b0\u67d0\u4e2a\u9519\u8bef\u6761\u4ef6\uff0c\u4f7f\u5f97\u51fd\u6570<code>B</code>\u548c<code>C</code>\u7ee7\u7eed\u6267\u884c\u4e0b\u53bb\u90fd\u6ca1\u6709\u610f\u4e49\u4e86\uff0c\u53ef\u4ee5\u5229\u7528<code>setjmp/longjmp</code>\u673a\u5236\u5feb\u901f\u8fd4\u56de\u5230\u51fd\u6570<code>A</code>\u8fdb\u884c\u51fa\u9519\u5904\u7406\uff0c\u672c\u4e66\u4e0d\u8be6\u7ec6\u4ecb\u7ecd\u8fd9\u79cd\u673a\u5236\uff0c\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u53c2\u8003\u300aAdvanced Programming in the UNIX Environment\u300b\u7684\u7b2c7.10\u8282\u548c\u7b2c10.15\u8282\u3002</p>"},{"location":"Python3/index.html","title":"Python Resource","text":""},{"location":"Python3/index.html#online-ide","title":"Online IDE","text":"<ol> <li>repl.it\uff1a\u652f\u6301\u4e00\u4e9b\u5e38\u7528\u7684\u5e93\uff0c\u4f8b\u5982NumPy\u3001pandas\u7b49\u7b49\u3002</li> </ol>"},{"location":"Python3/index.html#book","title":"Book","text":"<ol> <li>\u300a\u5229\u7528Python\u8fdb\u884c\u6570\u636e\u5206\u6790 2th\u300b</li> <li>\u300aPython Cookbook 3rd Edition\u300b</li> <li>\u300aPython 3 Module of the Week\u300b</li> <li>\u300a\u7b28\u65b9\u6cd5\u5b66Python\u300b#1 #2</li> </ol>"},{"location":"Python3/index.html#reference","title":"Reference","text":"<ol> <li>python\u901f\u67e5\u8bcd\u5178</li> <li>scikit learn\u901f\u67e5\u8bcd\u5178</li> </ol>"},{"location":"Python3/Docker/17.2.Dockerfile.html","title":"17.2.Python3/Dockerfile","text":""},{"location":"Python3/Docker/17.2.Dockerfile.html#dockerfile","title":"Dockerfile \u547d\u4ee4","text":""},{"location":"Python3/Docker/17.2.Dockerfile.html#from","title":"FROM \u6307\u5b9a\u57fa\u7840\u955c\u50cf","text":"<p>FROM \u6307\u4ee4\u7528\u4e8e\u6307\u5b9a\u5176\u540e\u6784\u5efa\u65b0\u955c\u50cf\u6240\u4f7f\u7528\u7684\u57fa\u7840\u955c\u50cf\u3002Dockerfile \u6587\u4ef6\u4e2d\u7684\u7b2c\u4e00\u6761\u547d\u4ee4\u5fc5\u987b\u662fFROM \u6307\u4ee4 \uff0c\u542f\u52a8\u6784\u5efa\u6d41\u7a0b\u540e\uff0cDocker \u5c06\u4f1a\u57fa\u4e8e\u8be5\u955c\u50cf\u6784\u5efa\u65b0\u955c\u50cf\uff0cFROM \u540e\u7684\u547d\u4ee4\u4e5f\u4f1a\u57fa\u4e8e\u8fd9\u4e2a\u57fa\u7840\u955c\u50cf\u3002</p> <p>FROM\u8bed\u6cd5\u683c\u5f0f\u4e3a\uff1a</p> <pre><code>FROM &lt;image&gt;\n# \u6216\u8005\nFROM &lt;image&gt;:&lt;tag&gt;\n# \u6216\u8005\nFROM &lt;image&gt;:&lt;digest&gt;\n</code></pre> <p>\u5728\u4e00\u4e2a Dockerfile \u6587\u4ef6\u4e2d\u521b\u5efa\u591a\u4e2a\u955c\u50cf\u65f6\uff0cFROM \u53ef\u4ee5\u591a\u6b21\u51fa\u73b0\u3002\u53ea\u9700\u5728\u6bcf\u4e2a\u65b0\u547d\u4ee4 FROM \u4e4b\u524d\uff0c\u8bb0\u5f55\u63d0\u4ea4\u4e0a\u6b21\u7684\u955c\u50cf ID\u3002tag \u6216 digest \u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u4e0d\u4f7f\u7528\u8fd9\u4e24\u4e2a\u503c\u65f6\uff0c\u4f1a\u4f7f\u7528 latest \u7248\u672c\u7684\u57fa\u7840\u955c\u50cf\u3002</p>"},{"location":"Python3/Docker/17.2.Dockerfile.html#label","title":"LABEL","text":"<p>LABEL\u7528\u4e8e\u4e3a\u955c\u50cf\u6dfb\u52a0\u5143\u6570\u636e\uff0c\u5143\u6570\u4ee5\u952e\u503c\u5bf9\u7684\u5f62\u5f0f\u6307\u5b9a\uff1a</p> <pre><code>LABEL &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; ...\n</code></pre> <p>\u4f7f\u7528LABEL\u6307\u5b9a\u5143\u6570\u636e\u65f6\uff0c\u4e00\u6761LABEL\u6307\u5b9a\u53ef\u4ee5\u6307\u5b9a\u4e00\u6216\u591a\u6761\u5143\u6570\u636e\uff0c\u6307\u5b9a\u591a\u6761\u5143\u6570\u636e\u65f6\u4e0d\u540c\u5143\u6570\u636e\u4e4b\u95f4\u901a\u8fc7\u7a7a\u683c\u5206\u9694\u3002\u63a8\u8350\u5c06\u6240\u6709\u7684\u5143\u6570\u636e\u901a\u8fc7\u4e00\u6761LABEL\u6307\u4ee4\u6307\u5b9a\uff0c\u4ee5\u514d\u751f\u6210\u8fc7\u591a\u7684\u4e2d\u95f4\u955c\u50cf\u3002 \u5982\uff0c\u901a\u8fc7LABEL\u6307\u5b9a\u4e00\u4e9b\u5143\u6570\u636e\uff1a</p> <pre><code>LABEL version=\"1.0\" description=\"\u8fd9\u662f\u4e00\u4e2aWeb\u670d\u52a1\u5668\" by=\"IT\u7b14\u5f55\"\n</code></pre> <p>\u6307\u5b9a\u540e\u53ef\u4ee5\u901a\u8fc7docker inspect\u67e5\u770b\uff1a</p> <pre><code>docker inspect itbilu/test\n\"Labels\": {\n    \"version\": \"1.0\",\n    \"description\": \"\u8fd9\u662f\u4e00\u4e2aWeb\u670d\u52a1\u5668\",\n    \"by\": \"IT\u7b14\u5f55\"\n},\n</code></pre>"},{"location":"Python3/Docker/17.2.Dockerfile.html#maintainer","title":"MAINTAINER \u8bbe\u7f6e\u7ef4\u62a4\u8005\u4fe1\u606f","text":"<pre><code>MAINTAINR &lt;name&gt;\n</code></pre>"},{"location":"Python3/Docker/17.2.Dockerfile.html#run","title":"RUN \u6267\u884c\u547d\u4ee4","text":"<p>\u5728\u955c\u50cf\u4e2d\u6267\u884c\u7279\u5b9a\u7684\u547d\u4ee4\uff0c\u53e6\u5916\uff0cRUN\u547d\u4ee4\u4f1a\u751f\u6210\u4e2d\u95f4\u955c\u50cf\u3002 </p> <pre><code># shell\u683c\u5f0f\nRUN &lt;command&gt;\n# exec\u683c\u5f0f\nRUN [\"executable\", \"param1\", \"param2\"]\n</code></pre> <ul> <li>RUN \u547d\u4ee4\u5c06\u5728\u5f53\u524d image \u4e2d\u6267\u884c\u4efb\u610f\u5408\u6cd5\u547d\u4ee4\u5e76\u63d0\u4ea4\u6267\u884c\u7ed3\u679c\u3002\u547d\u4ee4\u6267\u884c\u63d0\u4ea4\u540e\uff0c\u5c31\u4f1a\u81ea\u52a8\u6267\u884c Dockerfile \u4e2d\u7684\u4e0b\u4e00\u4e2a\u6307\u4ee4\u3002</li> <li>\u5c42\u7ea7 RUN \u6307\u4ee4\u548c\u751f\u6210\u63d0\u4ea4\u662f\u7b26\u5408 Docker \u6838\u5fc3\u7406\u5ff5\u7684\u505a\u6cd5\u3002\u5b83\u5141\u8bb8\u50cf\u7248\u672c\u63a7\u5236\u90a3\u6837\uff0c\u5728\u4efb\u610f\u4e00\u4e2a\u70b9\uff0c\u5bf9 image \u955c\u50cf\u8fdb\u884c\u5b9a\u5236\u5316\u6784\u5efa\u3002</li> <li>RUN \u6307\u4ee4\u521b\u5efa\u7684\u4e2d\u95f4\u955c\u50cf\u4f1a\u88ab\u7f13\u5b58\uff0c\u5e76\u4f1a\u5728\u4e0b\u6b21\u6784\u5efa\u4e2d\u4f7f\u7528\u3002\u5982\u679c\u4e0d\u60f3\u4f7f\u7528\u8fd9\u4e9b\u7f13\u5b58\u955c\u50cf\uff0c\u53ef\u4ee5\u5728\u6784\u5efa\u65f6\u6307\u5b9a <code>--no-cache</code> \u53c2\u6570\uff0c\u5982\uff1a<code>docker build --no-cache</code>\u3002</li> </ul> <pre><code>RUN apk add --update nginx &amp;&amp; \\ \nrm -rf /var/cache/apk/* &amp;&amp; \\    # \u5220\u9664\u4e34\u65f6\u6587\u4ef6\u6765\u8ba9\u955c\u50cf\u4fdd\u6301\u6700\u5c0f\u5c3a\u5bf8\n    mkdir -p /tmp/nginx/\n</code></pre> <p>\u4ee5\u4e0b\u547d\u4ee4\u548c\u4e0a\u8ff0\u547d\u4ee4\u6709\u540c\u6837\u7684\u6548\u679c\uff0c\u4f46\u8fd9\u662f\u4e00\u79cd\u4e0d\u597d\u7684\u505a\u6cd5\uff0c\u4f1a\u589e\u52a0\u6700\u7ec8\u955c\u50cf\u7684\u5927\u5c0f\u3002</p> <pre><code>RUN apk add --update nginx\nRUN rm -rf /var/cache/apk/*\nRUN mkdir -p /tmp/nginx/\n</code></pre>"},{"location":"Python3/Docker/17.2.Dockerfile.html#copy","title":"COPY \u590d\u5236\u6587\u4ef6","text":"<pre><code>COPY &lt;\u6e90\u8def\u5f84&gt;... &lt;\u76ee\u6807\u8def\u5f84&gt;\nCOPY [\"&lt;\u6e90\u8def\u5f841&gt;\",... \"&lt;\u76ee\u6807\u8def\u5f84&gt;\"]\n</code></pre> <p>\u548c RUN \u6307\u4ee4\u4e00\u6837\uff0c\u4e5f\u6709\u4e24\u79cd\u683c\u5f0f\uff0c\u4e00\u79cd\u7c7b\u4f3c\u4e8e\u547d\u4ee4\u884c\uff0c\u4e00\u79cd\u7c7b\u4f3c\u4e8e\u51fd\u6570\u8c03\u7528\u3002COPY \u6307\u4ee4\u5c06\u4ece\u6784\u5efa\u4e0a\u4e0b\u6587\u76ee\u5f55\u4e2d &lt;\u6e90\u8def\u5f84&gt; \u7684\u6587\u4ef6/\u76ee\u5f55\u590d\u5236\u5230\u65b0\u7684\u4e00\u5c42\u7684\u955c\u50cf\u5185\u7684<code>&lt;\u76ee\u6807\u8def\u5f84&gt;</code>\u4f4d\u7f6e\u3002\u6bd4\u5982\uff1a</p> <pre><code>COPY package.json /usr/src/app/\n</code></pre> <p><code>&lt;\u6e90\u8def\u5f84&gt;</code>\u53ef\u4ee5\u662f\u591a\u4e2a\uff0c\u751a\u81f3\u53ef\u4ee5\u5305\u62ec\u901a\u914d\u7b26\uff0c\u5176\u901a\u914d\u7b26\u89c4\u5219\u8981\u6ee1\u8db3 Go \u7684 filepath.Match \u89c4\u5219\uff0c\u5982\uff1a</p> <pre><code>COPY hom* /mydir/\nCOPY hom?.txt /mydir/\n</code></pre> <p><code>&lt;\u76ee\u6807\u8def\u5f84&gt;</code>\u53ef\u4ee5\u662f\u5bb9\u5668\u5185\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u4e5f\u53ef\u4ee5\u662f\u76f8\u5bf9\u4e8e\u5de5\u4f5c\u76ee\u5f55\u7684\u76f8\u5bf9\u8def\u5f84\uff08\u5de5\u4f5c\u76ee\u5f55\u53ef\u4ee5\u7528 WORKDIR \u6307\u4ee4\u6765\u6307\u5b9a\uff09\u3002\u76ee\u6807\u8def\u5f84\u4e0d\u9700\u8981\u4e8b\u5148\u521b\u5efa\uff0c\u5982\u679c\u76ee\u5f55\u4e0d\u5b58\u5728\u4f1a\u5728\u590d\u5236\u6587\u4ef6\u524d\u5148\u884c\u521b\u5efa\u7f3a\u5931\u76ee\u5f55\u3002</p> <p>\u4f7f\u7528 COPY \u6307\u4ee4\uff0c\u6e90\u6587\u4ef6\u7684\u5404\u79cd\u5143\u6570\u636e\u90fd\u4f1a\u4fdd\u7559\uff0c\u6bd4\u5982\u8bfb\u3001\u5199\u3001\u6267\u884c\u6743\u9650\u3001\u6587\u4ef6\u53d8\u66f4\u65f6\u95f4\u7b49\u3002 \u8fd9\u4e2a\u7279\u6027\u5bf9\u4e8e\u955c\u50cf\u5b9a\u5236\u5f88\u6709\u7528\u3002\u7279\u522b\u662f\u6784\u5efa\u76f8\u5173\u6587\u4ef6\u90fd\u5728\u4f7f\u7528 Git \u8fdb\u884c\u7ba1\u7406\u7684\u65f6\u5019\u3002</p>"},{"location":"Python3/Docker/17.2.Dockerfile.html#add","title":"ADD \u66f4\u9ad8\u7ea7\u7684\u590d\u5236\u6587\u4ef6","text":"<pre><code>ADD &lt;\u6e90\u8def\u5f84&gt;... &lt;\u76ee\u6807\u8def\u5f84&gt;\nADD [\"&lt;\u6e90\u8def\u5f84&gt;\",... \"&lt;\u76ee\u6807\u8def\u5f84&gt;\"]\n</code></pre> <p>ADD \u6307\u4ee4\u548c COPY \u7684\u683c\u5f0f\u548c\u6027\u8d28\u57fa\u672c\u4e00\u81f4\u3002\u4f46\u662f\u5728 COPY \u57fa\u7840\u4e0a\u589e\u52a0\u4e86\u4e00\u4e9b\u529f\u80fd\u3002\u6bd4\u5982<code>&lt;\u6e90\u8def\u5f84&gt;</code>\u53ef\u4ee5\u662f\u4e00\u4e2a URL\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cDocker \u5f15\u64ce\u4f1a\u8bd5\u56fe\u53bb\u4e0b\u8f7d\u8fd9\u4e2a\u94fe\u63a5\u7684\u6587\u4ef6\u653e\u5230<code>&lt;\u76ee\u6807\u8def\u5f84&gt;</code>\u53bb\u3002</p> <p>\u5982\u679c Docker \u53d1\u73b0\u6587\u4ef6\u5185\u5bb9\u88ab\u6539\u53d8\uff0c\u5219\u63a5\u4e0b\u6765\u7684\u6307\u4ee4\u90fd\u4e0d\u4f1a\u518d\u4f7f\u7528\u7f13\u5b58\u3002\u5173\u4e8e\u590d\u5236\u6587\u4ef6\u65f6\u9700\u8981\u5904\u7406\u7684/\uff0c\u57fa\u672c\u8ddf\u6b63\u5e38\u7684 copy \u4e00\u81f4\u3002</p>"},{"location":"Python3/Docker/17.2.Dockerfile.html#env","title":"ENV \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf","text":"<p>\u683c\u5f0f\u6709\u4e24\u79cd\uff1a</p> <pre><code>ENV &lt;key&gt; &lt;value&gt;\nENV &lt;key1&gt;=&lt;value1&gt; &lt;key2&gt;=&lt;value2&gt;...\n</code></pre> <p>\u8fd9\u4e2a\u6307\u4ee4\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u800c\u5df2\uff0c\u65e0\u8bba\u662f\u540e\u9762\u7684\u5176\u5b83\u6307\u4ee4 (\u5982 RUN)\uff0c\u8fd8\u662f\u8fd0\u884c\u65f6\u7684\u5e94\u7528\uff0c\u90fd\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u8fd9\u91cc\u5b9a\u4e49\u7684\u73af\u5883\u53d8\u91cf\u3002</p> <pre><code>ENV VERSION=1.0 DEBUG=on NAME=\"Happy Feet\"\n</code></pre>"},{"location":"Python3/Docker/17.2.Dockerfile.html#arg","title":"ARG \u8bbe\u7f6e\u6784\u5efa\u65f6\u53d8\u91cf","text":"<p>ARG\u7528\u4e8e\u6307\u5b9a\u6784\u5efa\u955c\u50cf\u65f6\u7684\u53d8\u91cf\uff0c\u53ef\u4ee5\u88ab\u540e\u7eed\u6307\u4ee4\u4f7f\u7528\u3002</p> <pre><code>ARG &lt;name&gt;[=&lt;default value&gt;]\n</code></pre> <p>\u4e0eENV\u4e0d\u540c\u7684\u662f\uff0cARG\u8bbe\u7f6e\u7684\u53d8\u91cf\u4ec5\u5728Dockerfile\u5185\u6709\u6548\uff0c\u5373\u53ea\u5728<code>docker build</code>\u7684\u8fc7\u7a0b\u4e2d\u6709\u6548\uff0c\u800c\u6784\u5efa\u597d\u7684\u955c\u50cf\u5185\u4e0d\u5b58\u5728\u6b64\u73af\u5883\u53d8\u91cf\u3002</p> <p>\u5982\uff0c\u901a\u8fc7ARG\u6307\u5b9a\u4e24\u4e2a\u53d8\u91cf\uff1a</p> <pre><code>ARG site\nARG build_user=Mike\n</code></pre> <p>\u4ee5\u4e0a\u6307\u5b9a\u4e86 <code>site</code> \u548c <code>build_user</code> \u4e24\u4e2a\u53d8\u91cf\uff0c\u5176\u4e2d <code>build_user</code> \u6307\u5b9a\u4e86\u9ed8\u8ba4\u503c\u3002\u5728\u4f7f\u7528 <code>docker build</code> \u6784\u5efa\u955c\u50cf\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>--build-arg =</code> \u53c2\u6570\u6765\u6307\u5b9a\u6216\u91cd\u8bbe\u7f6e\u8fd9\u4e9b\u53d8\u91cf\u7684\u503c\u3002</p> <pre><code>docker build --build-arg site=mike.com -t site/test .\n</code></pre> <p>\u4ee5\u4e0a\u547d\u4ee4\u6784\u5efa\u4e86 <code>site/test</code> \u955c\u50cf\uff0c\u5176\u4e2d<code>site</code>\u4f1a\u88ab\u8bbe\u7f6e\u4e3a <code>mike.com</code>\uff0c\u800c<code>build_user</code>\u53d8\u91cf\u5c06\u4f7f\u7528\u9ed8\u8ba4\u503c<code>Mike</code>\u3002</p>"},{"location":"Python3/Docker/17.2.Dockerfile.html#expose","title":"EXPOSE","text":"<p>\u4e3a\u6784\u5efa\u7684\u955c\u50cf\u8bbe\u7f6e\u76d1\u542c\u7aef\u53e3\uff0c\u4f7f\u5bb9\u5668\u5728\u8fd0\u884c\u65f6\u76d1\u542c\u3002\u683c\u5f0f\uff1a</p> <pre><code>EXPOSE &lt;port&gt; [&lt;port&gt;...]\n</code></pre> <p>EXPOSE \u6307\u4ee4\u5e76\u4e0d\u4f1a\u8ba9\u5bb9\u5668\u76d1\u542c host \u7684\u7aef\u53e3\uff0c\u5982\u679c\u9700\u8981\uff0c\u9700\u8981\u5728 docker run \u65f6\u4f7f\u7528 <code>-p</code>\u3001<code>-P</code> \u53c2\u6570\u6765\u53d1\u5e03\u5bb9\u5668\u7aef\u53e3\u5230 host \u7684\u67d0\u4e2a\u7aef\u53e3\u4e0a\u3002</p>"},{"location":"Python3/Docker/17.2.Dockerfile.html#volume","title":"VOLUME \u5b9a\u4e49\u533f\u540d\u6570\u636e\u5377","text":"<p>VOLUME\u7528\u4e8e\u521b\u5efa\u6302\u8f7d\u70b9\uff0c\u5373\u5411\u57fa\u4e8e\u6240\u6784\u5efa\u955c\u50cf\u521b\u59cb\u7684\u5bb9\u5668\u6dfb\u52a0\u5377\uff1a</p> <pre><code>VOLUME [\"/data\"]\n</code></pre> <p>\u4e00\u4e2a\u5377\u53ef\u4ee5\u5b58\u5728\u4e8e\u4e00\u4e2a\u6216\u591a\u4e2a\u5bb9\u5668\u7684\u6307\u5b9a\u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u53ef\u4ee5\u7ed5\u8fc7\u8054\u5408\u6587\u4ef6\u7cfb\u7edf\uff0c\u5e76\u5177\u6709\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ul> <li>\u5377\u53ef\u5728\u4ee5\u5bb9\u5668\u95f4\u5171\u4eab\u548c\u91cd\u7528</li> <li>\u4fee\u6539\u5377\u540e\u4f1a\u7acb\u5373\u751f\u6548</li> <li>\u5bf9\u5377\u7684\u4fee\u6539\u4e0d\u4f1a\u5bf9\u955c\u50cf\u4ea7\u751f\u5f71\u54cd</li> <li>\u5377\u4f1a\u4e00\u76f4\u5b58\u5728\uff0c\u76f4\u5230\u6ca1\u6709\u4efb\u4f55\u5bb9\u5668\u5728\u4f7f\u7528\u5b83</li> </ul> <p>VOLUME \u8ba9\u6211\u4eec\u53ef\u4ee5\u5c06\u6e90\u4ee3\u7801\u3001\u6570\u636e\u6216\u5176\u5b83\u5185\u5bb9\u6dfb\u52a0\u5230\u955c\u50cf\u4e2d\uff0c\u800c\u53c8\u4e0d\u5e76\u63d0\u4ea4\u5230\u955c\u50cf\u4e2d\uff0c\u5e76\u4f7f\u6211\u4eec\u53ef\u4ee5\u591a\u4e2a\u5bb9\u5668\u95f4\u5171\u4eab\u8fd9\u4e9b\u5185\u5bb9\u3002</p>"},{"location":"Python3/Docker/17.2.Dockerfile.html#workdir","title":"WORKDIR \u6307\u5b9a\u5de5\u4f5c\u76ee\u5f55","text":"<p>WORKDIR\u7528\u4e8e\u5728\u5bb9\u5668\u5185\u8bbe\u7f6e\u4e00\u4e2a\u5de5\u4f5c\u76ee\u5f55\uff1a</p> <pre><code>WORKDIR /path/to/workdir\n</code></pre> <p>\u901a\u8fc7WORKDIR\u8bbe\u7f6e\u5de5\u4f5c\u76ee\u5f55\u540e\uff0cDockerfile \u4e2d\u5176\u540e\u7684\u547d\u4ee4 RUN\u3001CMD\u3001ENTRYPOINT\u3001ADD\u3001COPY \u7b49\u547d\u4ee4\u90fd\u4f1a\u5728\u8be5\u76ee\u5f55\u4e0b\u6267\u884c\u3002 \u5982\uff0c\u4f7f\u7528WORKDIR\u8bbe\u7f6e\u5de5\u4f5c\u76ee\u5f55\uff1a</p> <pre><code>WORKDIR /a\nWORKDIR b\nWORKDIR c\nRUN pwd\n</code></pre> <p>\u5728\u4ee5\u4e0a\u793a\u4f8b\u4e2d\uff0cpwd \u6700\u7ec8\u5c06\u4f1a\u5728 <code>/a/b/c</code> \u76ee\u5f55\u4e2d\u6267\u884c\u3002\u5728\u4f7f\u7528 <code>docker run</code> \u8fd0\u884c\u5bb9\u5668\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7<code>-w</code>\u53c2\u6570\u8986\u76d6\u6784\u5efa\u65f6\u6240\u8bbe\u7f6e\u7684\u5de5\u4f5c\u76ee\u5f55\u3002</p>"},{"location":"Python3/Docker/17.2.Dockerfile.html#user","title":"USER \u6307\u5b9a\u5f53\u524d\u7528\u6237","text":"<p>USER \u7528\u4e8e\u6307\u5b9a\u8fd0\u884c\u955c\u50cf\u6240\u4f7f\u7528\u7684\u7528\u6237\uff1a</p> <pre><code>USER daemon\n</code></pre> <p>\u4f7f\u7528USER\u6307\u5b9a\u7528\u6237\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u7528\u6237\u540d\u3001UID \u6216 GID\uff0c\u6216\u662f\u4e24\u8005\u7684\u7ec4\u5408\u3002\u4ee5\u4e0b\u90fd\u662f\u5408\u6cd5\u7684\u6307\u5b9a\u8bd5\uff1a</p> <pre><code>USER user\nUSER user:group\nUSER uid\nUSER uid:gid\nUSER user:gid\nUSER uid:group\n</code></pre> <p>\u4f7f\u7528USER\u6307\u5b9a\u7528\u6237\u540e\uff0cDockerfile \u4e2d\u5176\u540e\u7684\u547d\u4ee4 RUN\u3001CMD\u3001ENTRYPOINT \u90fd\u5c06\u4f7f\u7528\u8be5\u7528\u6237\u3002\u955c\u50cf\u6784\u5efa\u5b8c\u6210\u540e\uff0c\u901a\u8fc7 docker run \u8fd0\u884c\u5bb9\u5668\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>-u</code> \u53c2\u6570\u6765\u8986\u76d6\u6240\u6307\u5b9a\u7684\u7528\u6237\u3002</p>"},{"location":"Python3/Docker/17.2.Dockerfile.html#cmd","title":"CMD","text":"<p>CMD\u7528\u4e8e\u6307\u5b9a\u5728\u5bb9\u5668\u542f\u52a8\u65f6\u6240\u8981\u6267\u884c\u7684\u547d\u4ee4\u3002CMD \u6709\u4ee5\u4e0b\u4e24\u79cd\u683c\u5f0f\uff1a</p> <pre><code>CMD [\"executable\",\"param1\",\"param2\"]\nCMD command param1 param2\n</code></pre> <p>Dockerfile\u53ea\u80fd\u6709\u4e00\u6761\u6709\u6548\u7684CMD\u547d\u4ee4\uff0c\u5982\u679c\u5b58\u5728\u591a\u6761CMD\u547d\u4ee4\uff0c\u6700\u540e\u9762\u7684CMD\u547d\u4ee4\u4f1a\u8986\u76d6\u524d\u9762\u7684CMD\u547d\u4ee4\u3002</p> <p>\u53e6\u5916\uff0cCMD\u547d\u4ee4\u8fd8\u53ef\u4ee5\u7528\u4e8e\u7ed9ENTRYPOINT\u547d\u4ee4\u4f20\u9012\u53c2\u6570\u3002\u6b64\u65f6\uff0cCMD\u662f\u7701\u7565\u53ef\u6267\u884c\u6587\u4ef6\u7684 exec \u683c\u5f0f\uff0cENTRYPOINT\u4e5f\u5e94\u8be5\u662f exec \u683c\u5f0f \uff1a</p> <pre><code>CMD [\"param1\",\"param2\"]\nENTRYPOINT [\"executable\"]\n</code></pre> <p>\u8fd9\u79cd\u5199\u6cd5\u4f7f CMD \u4e2d\u7684\u53c2\u6570\u4f5c\u4e3a ENTRYPOINT \u7684\u9ed8\u8ba4\u53c2\u6570\u3002</p> <p>CMD\u547d\u4ee4\u4e0eRUN\u547d\u4ee4\u4e0d\u540c\uff0cRUN \u5728\u6784\u5efa\u955c\u50cf\u7684\u65f6\u5019\u6267\u884c\uff0c\u5e76\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u955c\u50cf\u5c42\uff0cCMD \u5728\u5bb9\u5668\u8fd0\u884c\u7684\u65f6\u5019\u6267\u884c\uff0c\u5728\u6784\u5efa\u65f6\u4e0d\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c\u3002</p>"},{"location":"Python3/Docker/17.2.Dockerfile.html#entrypoint","title":"ENTRYPOINT","text":"<p>ENTRYPOINT \u7528\u4e8e\u7ed9\u5bb9\u5668\u914d\u7f6e\u4e00\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6bcf\u6b21\u4f7f\u7528\u955c\u50cf\u521b\u5efa\u5bb9\u5668\u65f6\uff0c\u901a\u8fc7 ENTRYPOINT \u6307\u5b9a\u7684\u7a0b\u5e8f\u90fd\u4f1a\u88ab\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u7a0b\u5e8f\u3002 </p> <p>ENTRYPOINT \u6709\u4ee5\u4e0b\u4e24\u79cd\u5f62\u5f0f\uff1a</p> <pre><code>ENTRYPOINT [\"executable\", \"param1\", \"param2\"]\nENTRYPOINT command param1 param2\n</code></pre> <p>Dockerfile\u53ea\u80fd\u6709\u4e00\u6761\u6709\u6548\u7684ENTRYPOINT\u547d\u4ee4\uff0c\u5982\u679c\u5b58\u5728\u591a\u6761ENTRYPOINT\u547d\u4ee4\uff0c\u6700\u540e\u9762\u7684ENTRYPOINT\u547d\u4ee4\u4f1a\u8986\u76d6\u524d\u9762\u7684ENTRYPOINT\u547d\u4ee4\u3002</p> <p>ENTRYPOINT \u4e0e CMD \u975e\u5e38\u7c7b\u4f3c\uff0c\u4e0d\u540c\u7684\u662f\u901a\u8fc7<code>docker run</code>\u6267\u884c\u7684\u547d\u4ee4\u4f1a\u8986\u76d6CMD\u547d\u4ee4\uff0c\u4f46\u4e0d\u4f1a\u8986\u76d6 ENTRYPOINT\uff0c\u800c<code>docker run</code>\u547d\u4ee4\u4e2d\u6307\u5b9a\u7684\u4efb\u4f55\u53c2\u6570\uff0c\u90fd\u4f1a\u88ab\u5f53\u505a\u53c2\u6570\u518d\u6b21\u4f20\u9012ENTRYPOINT\uff0c\u4e14\u4f1a\u8986\u76d6 CMD \u547d\u4ee4\u6307\u5b9a\u7684\u53c2\u6570\u3002\u5982\uff0c\u6267\u884c<code>docker run -d</code>\u65f6\uff0c-d \u53c2\u6570\u5c06\u88ab\u4f20\u9012\u7ed9\u5165\u53e3\u70b9\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7<code>docker run --entrypoint</code>\u8986\u76d6Dockerfile\u4e2d\u7684ENTRYPOINT\u3002</p>"},{"location":"Python3/Docker/17.2.Dockerfile.html#onbuild","title":"ONBUILD","text":"<p>ONBUILD \u547d\u4ee4\u53ef\u4ee5\u8ba9\u955c\u50cf\u5b9e\u73b0\u52a8\u6001\u6784\u5efa\uff0c\u5373\u5728\u955c\u50cf\u88ab\u4f7f\u7528\u65f6\uff0c\u6267\u884c\u4e00\u4e9b\u6784\u5efa\u547d\u4ee4\uff0c\u66f4\u65b0\u955c\u50cf\u3002\u5728\u955c\u50cf\u4f5c\u4e3a\u5176\u4ed6\u955c\u50cf\u7684\u57fa\u7840\u955c\u50cf\u65f6\uff0cONBUILD \u547d\u4ee4\u5f88\u6709\u7528\u3002</p> <pre><code>ONBUILD [INSTRUCTION]\n</code></pre> <p>\u5f53\u6240\u6784\u5efa\u7684\u955c\u50cf\u88ab\u7528\u505a\u5176\u5b83\u955c\u50cf\u7684\u57fa\u7840\u955c\u50cf\uff0c\u8be5\u955c\u50cf\u4e2d\u7684ONBUILD\u6240\u6307\u5b9a\u7684\u547d\u4ee4\u5c06\u4f1a\u89e6\u53d1\u3002\u5982\uff0c\u5f53\u955c\u50cf\u88ab\u4f7f\u7528\u65f6\uff0c\u53ef\u80fd\u9700\u8981\u505a\u4e00\u4e9b\u5904\u7406\uff1a</p> <pre><code>[...]\nONBUILD ADD . /app/src\nONBUILD RUN /usr/local/bin/python-build --dir /app/src\n[...]\n</code></pre> <p>ONBUILD\u6307\u4ee4\u8ba9\u6211\u4eec\u53ef\u4ee5\u5b58\u50a8\u4e00\u7cfb\u5217\u8981\u4f7f\u7528\u7684\u547d\u4ee4\uff0c\u6765\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u5bb9\u5668\u955c\u50cf\u7684\u57fa\u7840\u955c\u50cf\u5728\u4e4b\u540e\u4f7f\u7528\u955c\u50cf\u65f6\u8fdb\u884c\u4f7f\u7528\u3002</p> <p>\u4f8b\u5982\uff0c\u5728\u6211\u4eec\u8981\u7ed9\u5f00\u53d1\u8005\u4e00\u4e2a\u955c\u50cf\uff0c\u4f46\u4ed6\u60f3\u8981\u6d4b\u8bd5\u7684\u4ee3\u7801\u57fa\u7840\u4e0d\u540c\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528ONBUILD\u6307\u4ee4\u6765\u5b9e\u9645\u7528\u5230\u4ee3\u7801\u524d\u5efa\u7acb\u4e00\u4e2a\u57fa\u7840\u3002\u7136\u540e\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u53ea\u9700\u5728\u4f60\u6240\u544a\u8bc9\u4ed6\u4eec\u7684\u76ee\u5f55\u4e2d\u6dfb\u52a0\u4ee3\u7801\uff0c\u8fd9\u6837\u5728\u4ed6\u4eec\u8fd0\u884c\u4e00\u4e2a\u65b0\u7684Docker\u6784\u5efa\u547d\u4ee4\u65f6\uff0c\u5c31\u4f1a\u5c06\u8fd9\u4e9b\u4ee3\u7801\u52a0\u5230\u8fd0\u884c\u7684\u955c\u50cf\u4e2d\u3002</p> <p>ONBUILD\u6307\u4ee4\u53ef\u4ee5\u4e0eADD\u548cRUN\u6307\u4ee4\u4e00\u8d77\u4f7f\u7528\uff0c\u5982\u4e0b\u4f8b\u6240\u793a\uff1a</p> <pre><code>ONBUILD RUN apk update &amp;&amp; apk upgrade &amp;&amp; rm -rf /var/cache/apk/*\n</code></pre> <p>\u8fd9\u6837\u5728\u6bcf\u6b21\u5c06\u6211\u4eec\u7684\u955c\u50cf\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u5bb9\u5668\u955c\u50cf\u7684\u57fa\u7840\u65f6\uff0c\u5c31\u4f1a\u8fd0\u884c\u4e00\u6b21\u66f4\u65b0\u4ee5\u53ca\u5305\u7684\u5347\u7ea7\u3002</p>"},{"location":"Python3/Docker/17.2.Dockerfile.html#stopsignal","title":"STOPSIGNAL","text":"<p>STOPSIGNAL\u7528\u4e8e\u8bbe\u7f6e\u505c\u6b62\u5bb9\u5668\u6240\u8981\u53d1\u9001\u7684\u7cfb\u7edf\u8c03\u7528\u4fe1\u53f7\uff1a</p> <pre><code>STOPSIGNAL signal\n</code></pre> <p>\u6240\u4f7f\u7528\u7684\u4fe1\u53f7\u5fc5\u987b\u662f\u5185\u6838\u7cfb\u7edf\u8c03\u7528\u8868\u4e2d\u7684\u5408\u6cd5\u7684\u503c\uff0c\u5982\uff1aSIGKILL\u3002</p>"},{"location":"Python3/Docker/17.2.Dockerfile.html#shell","title":"SHELL","text":"<p>SHELL\u7528\u4e8e\u8bbe\u7f6e\u6267\u884c\u547d\u4ee4\uff08shell\u547d\u4ee4\u683c\u5f0f\uff09\u6240\u4f7f\u7528\u7684\u7684\u9ed8\u8ba4 shell \u7c7b\u578b\uff1a</p> <pre><code>SHELL [\"executable\", \"parameters\"]\n</code></pre> <p>SHELL\u5728Windows\u73af\u5883\u4e0b\u6bd4\u8f83\u6709\u7528\uff0cWindows \u4e0b\u901a\u5e38\u4f1a\u6709 cmd \u548c powershell \u4e24\u79cd shell\uff0c\u53ef\u80fd\u8fd8\u4f1a\u6709 sh\u3002\u8fd9\u65f6\u5c31\u53ef\u4ee5\u901a\u8fc7 SHELL \u6765\u6307\u5b9a\u6240\u4f7f\u7528\u7684 shell \u7c7b\u578b\u3002</p> <p>SHELL\u6307\u4ee4\u53ef\u4ee5\u51fa\u73b0\u591a\u6b21\u3002\u6bcf\u4e2aSHELL\u6307\u4ee4\u5c06\u8986\u76d6\u6240\u6709\u5148\u524d\u7684SHELL\u6307\u4ee4\uff0c\u5e76\u5f71\u54cd\u6240\u6709\u540e\u7eed\u7684\u6307\u4ee4\u3002\u4f8b\u5982\uff1a</p> <pre><code>FROM microsoft/windowsservercore\n\n# Executed as cmd /S /C echo default\nRUN echo default\n\n# Executed as cmd /S /C powershell -command Write-Host default\nRUN powershell -command Write-Host default\n\n# Executed as powershell -command Write-Host hello\nSHELL [\"powershell\", \"-command\"]\nRUN Write-Host hello\n\n# Executed as cmd /S /C echo hello\nSHELL [\"cmd\", \"/S\"\", \"/C\"]\nRUN echo hello\n</code></pre>"},{"location":"Python3/Docker/17.2.Dockerfile.html#dockerfile_1","title":"Dockerfile \u6700\u4f73\u5b9e\u8df5","text":"<ul> <li>\u4f7f\u7528<code>.dockerignore</code>\u6587\u4ef6\u3002<code>.dockerignore</code>\u6587\u4ef6\u548c<code>.gitignore</code>\u6587\u4ef6\u975e\u5e38\u7684\u7c7b\u4f3c\u3002\u5b83\u4f1a\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u5ffd\u7565\u4f60\u6240\u5728\u6587\u4ef6\u4e2d\u6307\u5b9a\u7684\u5185\u5bb9\u3002</li> <li>\u5728\u4e00\u4e2a\u6587\u4ef6\u5939\u5185\u4ec5\u4f7f\u7528\u4e00\u4e2aDockerfile\u6765\u7ec4\u7ec7\u5bb9\u5668\u3002</li> <li>\u5bf9Dockerfile\u4f7f\u7528\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u5982Git\u3002\u548c\u5176\u5b83\u6587\u672c\u7c7b\u6587\u4ef6\u4e00\u6837\uff0c\u7248\u672c\u63a7\u5236\u6709\u52a9\u4e8e\u5411\u524d\u5f00\u53d1\u4ee5\u53ca\u5728\u5fc5\u8981\u65f6\u5411\u540e\u56de\u9000\u3002</li> <li>\u5c3d\u53ef\u80fd\u51cf\u5c0f\u955c\u50cf\u7684\u5927\u5c0f\uff0c\u51cf\u5c11\u4f9d\u8d56\uff0c\u4ec5\u5b89\u88c5\u9700\u8981\u7684\u8f6f\u4ef6\u5305\uff0c\u4ee5\u53ca\u51cf\u5c11\u955c\u50cf\u7684\u56fe\u5c42\u6570\u91cf\u3002</li> <li>\u6bcf\u4e2a\u5bb9\u5668\u4ec5\u6709\u4e00\u4e2a\u5e94\u7528\u8fdb\u7a0b\uff0c\u5373\u4e00\u4e2a\u5bb9\u5668\u53ea\u505a\u4e00\u4ef6\u4e8b\u3002\u6bcf\u5f53\u9700\u8981\u4e00\u4e2a\u65b0\u7684\u5e94\u7528\u8fdb\u7a0b\u65f6\uff0c\u4f7f\u7528\u4e00\u4e2a\u65b0\u7684\u5bb9\u5668\u6765\u8fd0\u884c\u8be5\u5e94\u7528\u3002</li> <li>\u4fdd\u6301\u7b80\u6d01\uff0c\u8fc7\u5ea6\u590d\u6742\u7684Dockerfile\u4f1a\u5bfc\u81f4\u81c3\u80bf\uff0c\u540c\u65f6\u4e5f\u4f1a\u5728\u4e0d\u65ad\u4f7f\u7528\u4e2d\u5e26\u6765\u4e00\u4e9b\u6f5c\u5728\u7684\u95ee\u9898\u3002</li> <li>\u5bf9\u7eed\u884c\u7684\u53c2\u6570\u6309\u7167\u5b57\u6bcd\u8868\u6392\u5e8f\uff0c\u7279\u522b\u662f\u4f7f\u7528<code>apt-get install -y</code>\u5b89\u88c5\u5305\u7684\u65f6\u5019\u3002</li> <li>\u4f7f\u7528\u6784\u5efa\u7f13\u5b58\u3002\u5982\u679c\u4e0d\u60f3\u4f7f\u7528\u7f13\u5b58\uff0c\u53ef\u4ee5\u5728\u6784\u5efa\u7684\u65f6\u5019\u4f7f\u7528\u53c2\u6570<code>--no-cache=true</code>\u6765\u5f3a\u5236\u91cd\u65b0\u751f\u6210\u4e2d\u95f4\u955c\u50cf\u3002</li> </ul>"},{"location":"Python3/Docker/17.2.Dockerfile.html#dockerfile_2","title":"Dockerfile \u793a\u4f8b","text":"<p>\u6784\u5efaNginx\u8fd0\u884c\u73af\u5883</p> <pre><code># \u6307\u5b9a\u57fa\u7840\u955c\u50cf\nFROM sameersbn/ubuntu:14.04.20161014\n\n# \u7ef4\u62a4\u8005\u4fe1\u606f\nMAINTAINER sameer@damagehead.com\n\n# \u8bbe\u7f6e\u73af\u5883\nENV RTMP_VERSION=1.1.10 \\\nNPS_VERSION=1.11.33.4 \\\nLIBAV_VERSION=11.8 \\\nNGINX_VERSION=1.10.1 \\\nNGINX_USER=www-data \\\nNGINX_SITECONF_DIR=/etc/nginx/sites-enabled \\\nNGINX_LOG_DIR=/var/log/nginx \\\nNGINX_TEMP_DIR=/var/lib/nginx \\\nNGINX_SETUP_DIR=/var/cache/nginx\n\n# \u8bbe\u7f6e\u6784\u5efa\u65f6\u53d8\u91cf\uff0c\u955c\u50cf\u5efa\u7acb\u5b8c\u6210\u540e\u5c31\u5931\u6548\nARG BUILD_LIBAV=false\nARG WITH_DEBUG=false\nARG WITH_PAGESPEED=true\nARG WITH_RTMP=true\n\n# \u590d\u5236\u672c\u5730\u6587\u4ef6\u5230\u5bb9\u5668\u76ee\u5f55\u4e2d\nCOPY setup/ ${NGINX_SETUP_DIR}/\nRUN bash ${NGINX_SETUP_DIR}/install.sh\n\n# \u590d\u5236\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u5230\u5bb9\u5668\u76ee\u5f55\u4e2d\nCOPY nginx.conf /etc/nginx/nginx.conf\nCOPY entrypoint.sh /sbin/entrypoint.sh\n\n# \u8fd0\u884c\u6307\u4ee4\nRUN chmod 755 /sbin/entrypoint.sh\n\n# \u5141\u8bb8\u6307\u5b9a\u7684\u7aef\u53e3\nEXPOSE 80/tcp 443/tcp 1935/tcp\n\n# \u6307\u5b9a\u7f51\u7ad9\u76ee\u5f55\u6302\u8f7d\u70b9\nVOLUME [\"${NGINX_SITECONF_DIR}\"]\n\nENTRYPOINT [\"/sbin/entrypoint.sh\"]\nCMD [\"/usr/sbin/nginx\"]\n</code></pre>"},{"location":"Python3/Docker/17.3.Image.html","title":"17.3.Image","text":"<p>\u5b8c\u6574\u7684\u955c\u50cf\u8868\u793a\u5206\u4e09\u90e8\u5206\uff0c\u7528 <code>/</code> \u5206\u9694\uff1a</p> <pre><code>hub/namespace/name:tag\n</code></pre> <ul> <li>hub\uff1aDocker Hub\u5730\u5740</li> <li>namespace\uff1a\u547d\u540d\u7a7a\u95f4\uff0c\u8868\u793a\u4e00\u4e2a\u7528\u6237\u6216\u7ec4\u7ec7\u4e0b\u7684\u6240\u6709\u955c\u50cf</li> <li>name\uff1a\u955c\u50cf\u540d\u79f0</li> <li>tag\uff1a\u955c\u50cf\u6807\u7b7e</li> </ul> <p>\u5982\u679c\u4eceDocker\u5b98\u65b9\u4ed3\u5e93\u62c9\u53d6\u955c\u50cf\uff0c\u53ef\u4ee5\u7701\u7565<code>hub/namespace</code>\u3002</p>"},{"location":"Python3/Docker/17.3.Image.html#_1","title":"\u83b7\u53d6\u955c\u50cf","text":"<p>\u4f7f\u7528 <code>docker pull</code> \u547d\u4ee4\u4e0b\u8f7d\u955c\u50cf\u3002\u5982\u679c\u4e0d\u6307\u5b9a<code>tag</code>\uff0c\u9ed8\u8ba4\u9009\u62e9latest\u6807\u7b7e\u3002</p> <pre><code>docker pull python:3.7-slim\ndocker image pull python:3.7-slim\n</code></pre> <p><code>pull</code>\u547d\u4ee4\u5b8c\u6574\u7528\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>Usage:  docker pull [OPTIONS] NAME[:TAG|@DIGEST]\n\nPull an image or a repository from a registry\n\nOptions:\n  -a, --all-tags                Download all tagged images in the repository\n      --disable-content-trust   Skip image verification (default true)\n--platform string         Set platform if server is multi-platform capable\n  -q, --quiet                   Suppress verbose output\n</code></pre>"},{"location":"Python3/Docker/17.3.Image.html#_2","title":"\u67e5\u770b\u672c\u5730\u955c\u50cf","text":"<pre><code>docker images\ndocker image ls\n# \u5217\u51fa\u5168\u90e8\u955c\u50cf\uff0c\u5305\u62ec\u9690\u85cf\u7684\u955c\u50cf\ndocker images -a\ndocker image ls -a\n</code></pre>"},{"location":"Python3/Docker/17.3.Image.html#_3","title":"\u7ed9\u955c\u50cf\u6253\u6807\u7b7e","text":"<p>\u4f7f\u7528 <code>docker tag</code> \u547d\u4ee4\u6765\u7ed9\u672c\u5730\u955c\u50cf\u6dfb\u52a0\u65b0\u7684\u6807\u7b7e\u3002</p> <pre><code>docker tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG]\ndocker image tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG]\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u7528image ID\u4ee3\u66ffsource image name\u3002</p>"},{"location":"Python3/Docker/17.3.Image.html#hub","title":"\u641c\u7d22Hub\u955c\u50cf","text":"<p>\u4f7f\u7528 <code>docker search</code> \u547d\u4ee4\u6765\u641c\u7d22Hub\u7684\u955c\u50cf\u3002</p> <pre><code>docker search python\n</code></pre>"},{"location":"Python3/Docker/17.3.Image.html#_4","title":"\u521b\u5efa\u955c\u50cf","text":"<p>\u521b\u5efa\u955c\u50cf\u6709\u4e09\u79cd\u65b9\u5f0f\uff1a</p> <ol> <li>\u5c06\u5df2\u6709\u7684container\u4fdd\u5b58\u4e3aimage</li> <li>\u57fa\u4e8e Dockerfile \u521b\u5efa</li> <li>\u57fa\u4e8e\u672c\u5730\u6a21\u677f\u5bfc\u5165</li> </ol> <pre><code># \u5c06\u5df2\u6709\u7684container\u4fdd\u5b58\u4e3aimage\ndocker commit -a 'Author' -m 'Commit message' container_ID image_name:tag\n# \u57fa\u4e8e\u672c\u5730\u6a21\u677f\u5bfc\u5165\ndocker import\n# docker image build -t image_name:tag .\n</code></pre>"},{"location":"Python3/Docker/17.3.Image.html#_5","title":"\u5220\u9664\u955c\u50cf","text":"<p>\u4f7f\u7528 <code>docker rmi</code> \u547d\u4ee4\u6765\u5220\u9664\u955c\u50cf\uff0c\u5206\u4e24\u79cd\u65b9\u5f0f\uff1a\u4e00\u79cd\u662f\u901a\u8fc7\u955c\u50cf\u540d\u548c\u6807\u7b7e\u6765\u5220\u9664\uff1b\u4e00\u79cd\u662f\u901a\u8fc7\u955c\u50cf ID \u6765\u5220\u9664\u3002\u5e73\u65f6\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u5927\u90e8\u5206\u90fd\u662f\u901a\u8fc7\u955c\u50cf ID \u6765\u5220\u9664\u3002</p> <pre><code>docker rmi image_name:tag\ndocker rmi image_id\ndocker image rmi\n# \u5f3a\u5236\u5220\u9664\ndocker --force rmi\n</code></pre>"},{"location":"Python3/Docker/17.3.Image.html#_6","title":"\u6e05\u7406\u955c\u50cf","text":"<pre><code># \u5220\u9664\u6ca1\u6709\u4f7f\u7528\u7684\u955c\u50cf\ndocker image prune\n</code></pre>"},{"location":"Python3/Docker/17.3.Image.html#_7","title":"\u5bfc\u51fa\u955c\u50cf","text":"<pre><code>docker save -o python.tar python:3.7-slim\ndocker image save\n</code></pre>"},{"location":"Python3/Docker/17.3.Image.html#_8","title":"\u5bfc\u5165\u955c\u50cf","text":"<pre><code>docker load -i python.tar\ndocker load &lt; python.tar\ndocker image load\n</code></pre>"},{"location":"Python3/Docker/17.3.Image.html#_9","title":"\u4e0a\u4f20\u955c\u50cf","text":"<pre><code># \u9ed8\u8ba4\u4e0a\u4f20\u81f3Docker Hub\u5b98\u65b9\u4ed3\u5e93\ndocker push image_name:tag\ndocker image push image:tag\n# \u4e0a\u4f20\u81f3\u6307\u5b9a\u7684hub\u4ed3\u5e93\n## \u9700\u8981\u5148\u5c06 hub/image_name:tag \u4f5c\u4e3a\u955c\u50cf\u7684\u6807\u7b7e\n## \u800c\u4e14\u8fd8\u8981\u4f7f\u7528docker login\u547d\u4ee4\u767b\u5f55 hub\ndocker push hub/image_name:tag\n</code></pre>"},{"location":"Python3/Docker/17.3.Image.html#_10","title":"\u67e5\u770b\u955c\u50cf\u7684\u8be6\u7ec6\u4fe1\u606f","text":"<pre><code>docker history \ndocker inspect\ndocker image history \ndocker image inspect\n</code></pre>"},{"location":"Python3/Linux/18.1.%E7%9B%AE%E5%BD%95%E8%A7%84%E8%8C%83.html","title":"18.1.\u76ee\u5f55\u89c4\u8303","text":"\u76ee\u5f55 \u63cf\u8ff0 / \u6839\u76ee\u5f55\u3002 /bin \u5b58\u653e\u7cfb\u7edf\u547d\u4ee4\u7684\u76ee\u5f55\u3002\u666e\u901a\u7528\u6237\u548c\u8d85\u7ea7\u7528\u6237\u90fd\u53ef\u4ee5\u6267\u884c\uff0c\u5355\u7528\u6237\u6a21\u5f0f\u4e0b\u4e5f\u53ef\u4ee5\u6267\u884c\u3002 /sbin \u5b58\u653e\u7528\u4e8e\u7cfb\u7edf\u7ba1\u7406\u7684\u7a0b\u5e8f\uff0c\u53ea\u6709\u8d85\u7ea7\u7528\u6237\u53ef\u4ee5\u6267\u884c\uff0c\u4f46\u6709\u4e9b\u547d\u4ee4\u5141\u8bb8\u666e\u901a\u7528\u6237\u67e5\u770b\u3002 /usr/bin \u5b58\u653e\u7cfb\u7edf\u547d\u4ee4\u7684\u76ee\u5f55\uff0c\u8fd9\u4e9b\u547d\u4ee4\u548c\u7cfb\u7edf\u542f\u52a8\u65e0\u5173\u3002\u666e\u901a\u7528\u6237\u548c\u8d85\u7ea7\u7528\u6237\u90fd\u53ef\u4ee5\u6267\u884c\uff0c\u5355\u7528\u6237\u6a21\u5f0f\u4e0b\u4e0d\u80fd\u6267\u884c\u3002 /usr/sbin \u5b58\u653e\u975e\u5fc5\u9700\u7684\u7cfb\u7edf\u7ba1\u7406\u547d\u4ee4\uff0c\u53ea\u6709\u8d85\u7ea7\u7528\u6237\u53ef\u4ee5\u6267\u884c\u3002 /dev \u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u5b58\u653e\u7684\u76ee\u5f55\u3002 /etc \u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u5305\u542b\u914d\u7f6e\u6587\u4ef6\u3001\u6709\u6548\u7528\u6237\u5217\u8868\u3001\u7528\u6237\u7684\u7fa4\u7ec4\u3001\u4ee5\u592a\u7f51\u3001\u4e3b\u673a\u7b49\u914d\u7f6e\u3002 /lib \u4fdd\u5b58\u7cfb\u7edf\u8c03\u7528\u7684\u51fd\u6570\u5e93\u3002 /boot \u4fdd\u5b58\u4e0e\u7cfb\u7edf\u542f\u52a8\u76f8\u5173\u7684\u6587\u4ef6\uff0c\u5982\u5f15\u5bfc\u7a0b\u5e8f\u3001\u5185\u6838\u7b49\u3002 /home \u666e\u901a\u7528\u6237\u7684\u5bb6\u76ee\u5f55\u3002 /root \u8d85\u7ea7\u7528\u6237\u7684\u5bb6\u76ee\u5f55\u3002 /mnt \u7528\u4e8e\u6302\u8f7d\u5176\u4ed6\u4e34\u65f6\u6587\u4ef6\u7cfb\u7edf\u3002\u65e9\u671fLinux\u53ea\u6709\u8fd9\u4e2a\u6302\u8f7d\u76ee\u5f55\uff0c\u6ca1\u6709\u7ec6\u5206\uff0c\u73b0\u5728\u8fd9\u4e2a\u6302\u8f7d\u76ee\u5f55\u5efa\u8bae\u6302\u8f7d\u989d\u5916\u8bbe\u5907\uff0c\u5982U\u76d8\u3001\u79fb\u52a8\u786c\u76d8\u3001\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7edf\u7684\u5206\u533a\u3002 /media \u6302\u8f7d\u76ee\u5f55\u3002\u5efa\u8bae\u6302\u8f7d\u5a92\u4f53\u8bbe\u5907\uff0c\u4f8b\u5982\u8f6f\u76d8\u548c\u5149\u76d8\u3002 /misc \u6302\u8f7d\u76ee\u5f55\u3002\u5efa\u8bae\u7528\u6765\u6302\u8f7d NFS \u670d\u52a1\u7684\u5171\u4eab\u76ee\u5f55\u3002 /opt \u7b2c\u4e09\u65b9\u8f6f\u4ef6\u7684\u4fdd\u5b58\u4f4d\u7f6e\u3002 /proc \u865a\u62df\u6587\u4ef6\u7cfb\u7edf\uff0c\u8be5\u76ee\u5f55\u7684\u6570\u636e\u5e76\u4e0d\u4fdd\u5b58\u5728\u786c\u76d8\u4e2d\uff0c\u800c\u662f\u4fdd\u5b58\u5728\u5185\u5b58\u3002\u4e3b\u8981\u4fdd\u5b58\u7cfb\u7edf\u7684\u5185\u6838\u3001\u8fdb\u7a0b\u3001\u5916\u90e8\u8bbe\u5907\u7684\u72b6\u6001\u3001\u7f51\u7edc\u72b6\u6001\u7b49\u7b49 /sys \u865a\u62df\u6587\u4ef6\u7cfb\u7edf\uff0c\u8be5\u76ee\u5f55\u7684\u6570\u636e\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u4e3b\u8981\u4fdd\u5b58\u4e0e\u5185\u6838\u76f8\u5173\u7684\u4fe1\u606f /tmp \u4e34\u65f6\u76ee\u5f55\u3002\u4fdd\u5b58\u7f13\u5b58\u6587\u4ef6\u7b49\u3002 /usr \u4fdd\u5b58\u64cd\u4f5c\u7cfb\u7edf\u8f6f\u4ef6\u8d44\u6e90\u7684\u76ee\u5f55\uff0cusr \u662f Unix Software Resource \u7684\u7f29\u5199\u3002\u53ef\u4ee5\u88ab\u591a\u4e2a\u7528\u6237\u4f7f\u7528\u3002\u7cfb\u7edf\u81ea\u5e26\u7684\u8f6f\u4ef6\u5927\u591a\u6570\u4fdd\u5b58\u5728\u8fd9\u91cc\uff0c\u8fd8\u6709\u5171\u4eab\u6587\u4ef6\u3001\u5e93\u6587\u4ef6\u7b49\u7b49\u3002 /var \u4fdd\u5b58\u5185\u5bb9\u7ecf\u5e38\u53d8\u5316\u7684\u6587\u4ef6\uff0c\u5982\u7f13\u5b58\u3001\u65e5\u5fd7\u3001\u8f6f\u4ef6\u8fd0\u884c\u6240\u4ea7\u751f\u7684\u6587\u4ef6\u7b49\u3002 /lost+found \u5b58\u653e\u56e0\u7cfb\u7edf\u610f\u5916\u5d29\u6e83\u6216\u673a\u5668\u610f\u5916\u5173\u673a\u800c\u4ea7\u751f\u7684\u6587\u4ef6\u788e\u7247\u3002\u7cfb\u7edf\u542f\u52a8\u65f6\uff0cfsck \u5de5\u5177\u4f1a\u68c0\u67e5\u8fd9\u91cc\uff0c\u5e76\u4fee\u590d\u5df2\u7ecf\u635f\u574f\u7684\u6587\u4ef6\u7cfb\u7edf\u3002\u8fd9\u4e2a\u76ee\u5f55\u5728\u6bcf\u4e2a\u5206\u533a\u51fa\u73b0\uff0c\u4f8b\u5982 /1ost+ found \u662f\u6839\u5206\u533a\u7684\u5907\u4efd\u6062\u590d\u76ee\u5f55\uff0c/boot/lost+ found \u662f boot \u5206\u533a\u7684\u5907\u4efd\u6062\u590d\u76ee\u5f55\u3002 /kernel \u5b58\u653e\u7cfb\u7edf\u7684\u5185\u6838\u6587\u4ef6\u3002"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html","title":"18.2.\u5e38\u7528\u547d\u4ee4","text":""},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_1","title":"\u7cfb\u7edf\u7ba1\u7406","text":""},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#shutdown-","title":"shutdown - \u5173\u673a\u3001\u91cd\u542f","text":"shutdown  - \u5173\u95ed\u6216\u91cd\u542f\u3002 <pre><code>shutdown [OPTIONS...] [TIME] [WALL...]\n\nShut down the system.\n\n  -H --halt      \u505c\u673a\n  -P --poweroff  \u5173\u673a\n  -r --reboot    \u91cd\u542f\n  -h             \u7b49\u6548\u4e8e--poweroff, \u4f1a\u88ab--halt\u8986\u76d6\n  -k             \u4e0d\u505c\u673a/\u5173\u673a/\u91cd\u542f, \u53ea\u53d1\u9001\u8b66\u544a\n     --no-wall   \u5728\u505c\u6b62/\u5173\u673a/\u91cd\u65b0\u542f\u52a8\u4e4b\u524d\u4e0d\u53d1\u9001\u8b66\u544a\u6d88\u606f\n  -c             \u53d6\u6d88\u5173\u673a\u4efb\u52a1\n</code></pre> <pre><code>shutdown [options] when [message]\nshutdown -h now\nshutdown -h 21:30\nshutdown -h +10\nshutdown -h +10 \"will reboot\"\nshutdown -r\nshutdown -c\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_2","title":"\u547d\u4ee4\u5e2e\u52a9","text":""},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#man-","title":"man - \u67e5\u770b\u5728\u7ebf\u5e2e\u52a9","text":"man - manual - \u67e5\u770b\u547d\u4ee4\u7684\u5728\u7ebf\u5e2e\u52a9\u3002 <pre><code>man wc\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#whatis-","title":"whatis - \u547d\u4ee4\u7b80\u8ff0","text":"whatis - \u67e5\u8be2\u4e00\u4e2a\u547d\u4ee4\u7684\u7b80\u77ed\u63cf\u8ff0\uff08\u5355\u884c\u63cf\u8ff0\uff09\u3002 <p>whatis \u547d\u4ee4\u5728\u7528 catman -w \u547d\u4ee4\u521b\u5efa\u7684\u6570\u636e\u5e93\u4e2d\u67e5\u627e command \u53c2\u6570\u6307\u5b9a\u7684\u547d\u4ee4\u3001\u7cfb\u7edf\u8c03\u7528\u3001\u5e93\u51fd\u6570\u6216\u7279\u6b8a\u6587\u4ef6\u540d\u3002whatis\u547d\u4ee4\u663e\u793a\u624b\u518c\u90e8\u5206\u7684\u9875\u7709\u884c\u3002whatis\u547d\u4ee4\u7b49\u540c\u4e8e\u4f7f\u7528 man -f \u547d\u4ee4\u3002</p> <pre><code>whatis wc\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#apropos-","title":"apropos - \u67e5\u627e\u547d\u4ee4","text":"apropos - \u5728whatis\u6570\u636e\u5e93\u4e2d\u67e5\u627e\u5b57\u7b26\u4e32\u3002 <p>\u4f7f\u7528man -k\u547d\u4ee4\uff0c\u53ef\u4ee5\u5f97\u5230\u548capropos\u547d\u4ee4\u76f8\u540c\u7684\u7ed3\u679c\uff08\u5b9e\u9645\u4e0a\u662f\u76f8\u540c\u7684\u547d\u4ee4\uff09\u3002</p> <pre><code>-r, -- regex    # \u5c06\u6bcf\u4e2akeyword\u4f5c\u4e3a\u6b63\u5219\u8868\u8fbe\u5f0f\u89e3\u91ca, \u9ed8\u8ba4\u884c\u4e3a\n-w, --wildcard  # \u5c06\u6bcf\u4e2akeyword\u4f5c\u4e3ashell\u6837\u5f0f\u7684\u901a\u914d\u7b26\u89e3\u91ca\n-e, --exact     # \u7cbe\u786e\u5339\u914d\n-a, --and       # \u6240\u6709keyword\u662f\u201c\u5e76\u201d\u7684\u5173\u7cfb\n-s section,     # \u53ea\u67e5\u627e\u6307\u5b9a\u7684\u624b\u518csection\n--section section\n</code></pre> <pre><code>apropos pip\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_3","title":"\u6587\u4ef6\u7ba1\u7406","text":""},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#ls-","title":"ls - \u5217\u51fa\u6587\u4ef6","text":"ls - list - \u5217\u51fa\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528\u901a\u914d\u7b26\u3002 <p>\u5176\u4ed6\u53c2\u6570</p> <pre><code>-F, --classify              # \u6bcf\u4e2a\u6761\u76ee\u540e\u9762\u9644\u52a0\u4e00\u4e2a\u6307\u793a\u7b26\uff0c\u7528\u6765\u8bf4\u660e\u6587\u4ef6\u7684\u7c7b\u578b\u3002\n# \u5168\u90e8\u6307\u793a\u7b26\u6709 */=&gt;@|\n# /\u76ee\u5f55\uff0c*\u53ef\u6267\u884c\u6587\u4ef6\uff0c@\u7b26\u53f7\u94fe\u63a5\uff0c|FIFO\u6587\u4ef6\uff0c=\u5957\u63a5\u5b57\n# \u6ca1\u6709\u6307\u793a\u7b26\u8868\u793a\u666e\u901a\u6587\u4ef6\n\n--file-type                 # \u540c\u4e0a\uff0c\u4f46\u4e0d\u9644\u52a0 '*'\n-p, --indicator-style=slash # \u5c06 / \u6307\u793a\u7b26\u9644\u52a0\u5230\u76ee\u5f55\n--indicator-style=WORD      # \u6307\u793a\u7b26\u98ce\u683c: none (default), slash (-p), \n# file-type (--file-type), classify (-F)\n-R, --recursive             # \u9012\u5f52\u5217\u51fa\n-a, --all                   # \u5217\u51fa\u5168\u90e8\u6587\u4ef6\uff0c\u5305\u62ec\u4ee5'.'\u5f00\u5934\u7684\u9690\u85cf\u6587\u4ef6\n-A, --almost-all            # \u540c\u4e0a\uff0c\u4f46\u4e0d\u5217\u51fa . \u548c ..\n-B, --ignore-backups        # \u4e0d\u5217\u51fa\u4ee5 ~ \u7ed3\u5c3e\u7684\u9690\u85cf\u6587\u4ef6\n-d, --directory             # \u5217\u51fa\u76ee\u5f55\u672c\u8eab\uff0c\u800c\u4e0d\u662f\u5217\u51fa\u5176\u5185\u5bb9\n\n--hide=PATTERN              # \u4e0d\u5217\u51fa\u4e0eshell PATTERN\u5339\u914d\u7684\u9690\u5f0f\u6761\u76ee\uff0c\n# \u4f1a\u88ab-a\u6216-A\u53c2\u6570\u8986\u76d6\n-I, --ignore=PATTERN        # \u4e0d\u5217\u51fa\u4e0eshell PATTERN\u5339\u914d\u7684\u9690\u5f0f\u6761\u76ee\uff0c\n# \u4e0d\u4f1a\u88ab-a\u6216-A\u53c2\u6570\u8986\u76d6\n</code></pre> <p>\u683c\u5f0f\u53c2\u6570</p> <pre><code># \u6392\u5217\u683c\u5f0f\n-C, --format=vertical      # \u591a\u5217\u7eb5\u5411\u6392\u5217\n-x, --format=across,       # \u591a\u5217\u6a2a\u5411\u6392\u5217 \n--format=horizontal\n-l, --format=long,         # \u5355\u5217\u8f93\u51fa\uff0c\u5e76\u663e\u793a\u8be6\u7ec6\u4fe1\u606f\n--format=verbose\n-1, --format=single-column # \u5355\u5217\u8f93\u51fa\uff0c\u5982\u679c\u4e0d\u662f\u8f93\u51fa\u5230\u7ec8\u7aef\uff0c\u6b64\u9009\u9879\u5c31\u662f\u9ed8\u8ba4\u9009\u9879\n-m, --format=commas        # \u6c34\u5e73\u8f93\u51fa\uff0c\u4ee5\u9017\u53f7\u5206\u5272 \n-o                         # \u957f\u683c\u5f0f\u5355\u5217\u8f93\u51fa\uff0c\u7b49\u4ef7\u4e8e\"--format-long --no-group\"\n-w, --width=COLS           # \u5c06\u8f93\u51fa\u5bbd\u5ea6\u8bbe\u7f6e\u4e3aCOLS\u4e2a\u5b57\u7b26\uff0c0\u8868\u793a\u6ca1\u6709\u9650\u5236\n\n# \u5b57\u9762\u503c\u683c\u5f0f\n-b, --escape               # \u4f7f\u7528C\u98ce\u683c\u7684\u8f6c\u4e49\u5e8f\u5217\u8868\u793a\u975e\u53ef\u6253\u5370\u5b57\u7b26\n-Q, --quote-name           # \u6761\u76ee\u540d\u79f0\u4f7f\u7528\u53cc\u5f15\u53f7\n--quoting-style=WORD       # \u4f7f\u7528WORD\u5c06\u6761\u76ee\u540d\u5b57\u62ec\u8d77\u6765\n# WORD \u7684\u6709\u6548\u503c\u4e3a:\n# literal,locale,shell,shell-always, \n# shell-escape, shell-escape-always, c, escape\n-q, --hide-control-chars   # \u4e0d\u53ef\u6253\u5370\u5b57\u7b26\u7528\u95ee\u53f7\u4ee3\u66ff\n--show-control-chars       # \u539f\u6837\u663e\u793a\u4e0d\u53ef\u6253\u5370\u5b57\u7b26\uff0c\n# \u9ed8\u8ba4\u503c\uff0c\u9664\u975e\u7a0b\u5e8f\u4e3a\"ls\"\uff0c\u5e76\u8f93\u51fa\u5230\u7ec8\u7aef\n-N, --literal              # \u6253\u5370\u6587\u4ef6\u7684\u539f\u59cb\u540d\u79f0\uff0c\u4e0d\u7279\u522b\u5904\u7406\u63a7\u5236\u7b26\n\n# \u65f6\u95f4\u683c\u5f0f\n--full-time                # \u7c7b\u4f3c -l --time-style=full-iso\n--time-style=STYLE         # \u548c-l\u4e00\u8d77\u4f7f\u7528\uff0c\u8bbe\u7f6e\u65f6\u95f4\u683c\u5f0f\n# STYLE: full-iso,long-iso,iso,locale,+FORMAT\n# FORMAT\u7684\u89e3\u91ca\u65b9\u5f0f\u7c7b\u4f3c\u4e8e'date'\uff1b\n# \u5982\u679cFORMAT\u662f FORMAT1 &lt;newline&gt; FORMAT2\uff0c\n# \u5219FORMAT1\u9002\u7528\u4e8e\u975e\u6700\u65b0\u6587\u4ef6\uff0cFORMAT2\u9002\u7528\u4e8e\u6700\u65b0\u6587\u4ef6\uff1b\n# \u5982\u679cSTYLE\u5e26\u6709'posix-'\u524d\u7f00\uff0c\n# \u5219STYLE\u4ec5\u5728POSIX\u8bed\u8a00\u73af\u5883\u5916\u751f\u6548\n</code></pre> <p>\u4fe1\u606f\u53c2\u6570</p> <pre><code>-i, --inode           # \u4e3a\u6bcf\u4e2a\u6761\u76ee\u5217\u51fa inode\n-s, --size            # \u5728\u5f00\u5934\u4ee5\u5757\u4e3a\u5355\u4f4d\u6253\u5370\u6bcf\u4e2a\u6587\u4ef6\u7684\u5927\u5c0f\n--author              # \u548c-l\u5171\u7528\uff0c\u6253\u5370\u6bcf\u4e2a\u6587\u4ef6\u7684\u6240\u6709\u8005\n-G, --no-group        # \u548c-l\u5171\u7528\uff0c\u4e0d\u6253\u5370\u7ec4\u540d\n-g                    # \u7c7b\u4f3c-l\uff0c\u4f46\u4e0d\u6253\u5370\u6240\u6709\u8005\n--block-size=SIZE     # \u4ee5 SIZE \u4e3a\u5355\u4f4d\u6253\u5370\u6bcf\u4e2a\u6587\u4ef6\u7684\u5927\u5c0f\uff0c\n# \u4f8b\u5982'--block-size=M'\uff0c\u5219\u4ee5 1024*1024 bytes \u4e3a\u5355\u4f4d\n-k, --kilobytes       # \u6587\u4ef6\u7684\u5927\u5c0f\u4ee5 1024-byte blocks \u4e3a\u5355\u4f4d\n-h, --human-readable  # \u548c-l\u6216-s\u4e00\u8d77\u4f7f\u7528\uff0c\u6587\u4ef6\u7684\u5927\u5c0f\u4ee5\u53ef\u8bfb\u7684\u65b9\u5f0f\u8f93\u51fa\n--si                  # \u7c7b\u4f3c-h\uff0c\u4f46\u4f7f\u75281000\u4f5c\u4e3a\u5e95\u6570\uff0c\u800c\u4e0d\u662f1024    \n-n, --numeric-uid-gid # \u7c7b\u4f3c-l, \u4f46\u7528\u6570\u5b57\u8868\u793aUID\u548cGID\uff0c\u800c\u4e0d\u662f\u7528\u6237\u540d\u548c\u7ec4\u540d\n-L, --dereference     # \u663e\u793a\u7b26\u53f7\u94fe\u63a5\u5f15\u7528\u7684\u6587\u4ef6\u4fe1\u606f\uff0c\u800c\u4e0d\u662f\u94fe\u63a5\u672c\u8eab\n-Z, --context         # \u6253\u5370\u6587\u4ef6\u7684 security context\n</code></pre> <p>\u6392\u5e8f\u53c2\u6570</p> <pre><code>-U, --sort=none           # \u4e0d\u6392\u5e8f\uff0c\u6309\u5b83\u4eec\u5728\u78c1\u76d8\u4e0a\u5b58\u50a8\u7684\u987a\u5e8f\u5217\u51fa\n# \u56e0\u4e3a\u4e0d\u52a0\u6392\u5e8f\uff0c\u76ee\u5f55\u5185\u5bb9\u5f88\u591a\u65f6\uff0c\u80fd\u663e\u8457\u5730\u52a0\u5feb\u901f\u5ea6\n-f                        # \u4e0d\u6392\u5e8f\uff0c\u542f\u7528\"-aU\"\uff0c\u7981\u7528\"-ls --color\"       \n-r, --reverse             # \u9006\u5e8f\u6392\u5e8f\n-t, --sort=time           # \u6309 mtime \u6392\u5e8f\n\n-c, --time=ctime, --time=status         # \u548c-lt\u4e00\u8d77\u4f7f\u7528\uff0c\u6309 ctime \u6392\u5e8f\uff0c\u5e76\u663e\u793a ctime\n# \u548c-l\u4e00\u8d77\u4f7f\u7528\uff0c\u6309\u6587\u4ef6\u540d\u6392\u5e8f\uff0c\u663e\u793a ctime\n# \u5355\u72ec\u4f7f\u7528\uff0c\u6309 ctime \u7eb5\u5411\u6392\u5e8f\uff0c\u65f6\u95f4\u6700\u65b0\u7684\u5728\u6700\u524d\u9762\n\n-u                        # \u548c-lt\u5171\u7528: \u663e\u793a\u5e76\u4ee5access time\u6392\u5e8f\n# \u548c-l\u5171\u7528: \u663e\u793aaccess time\uff0c\u4ee5\u6587\u4ef6\u540d\u6392\u5e8f\n# \u5426\u5219\u4ee5access time\u6392\u5e8f\uff0c\u6700\u65b0\u7684\u4f18\u5148\n\n-S, --sort=size           # \u6309\u6587\u4ef6\u5927\u5c0f\u6392\u5e8f\uff0c\u5927\u6587\u4ef6\u9760\u524d\n-X, --sort=extension      # \u6309\u6587\u4ef6\u6269\u5c55\u540d\u6392\u5e8f\uff0c\u6ca1\u6709\u6269\u5c55\u540d\u7684\u5148\u5217\u51fa\n--sort=WORD               # \u6309 WORD \u6392\u5e8f: none (-U), size (-S), \n# time (-t), version (-v), extension (-X)\n--time=WORD               # \u548c-l\u5171\u7528\uff0c\u663e\u793aWORD\u65f6\u95f4\uff0c\u800c\u4e0d\u662fmodification\u65f6\u95f4\n# WORD: atime or access or use (-u); \n#       ctime or status (-c); \n# \u5f53\u4e0e --sort=time \u5171\u7528\u65f6\uff0cWORD\u662f\u7528\u4e8e\u6392\u5e8f\u7684\u65f6\u95f4\n--group-directories-first # \u5c06\u76ee\u5f55\u6392\u5728\u6587\u4ef6\u524d\u9762\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#cd-","title":"cd - \u8fdb\u5165\u76ee\u5f55","text":"cd - change working directory - \u8fdb\u5165\u6307\u5b9a\u76ee\u5f55\u3002"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#pwd-","title":"pwd - \u6253\u5370\u5f53\u524d\u76ee\u5f55","text":"pwd - print working directory - \u6253\u5370\u5f53\u524d\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84\u3002"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#mkdir-","title":"mkdir - \u521b\u5efa\u76ee\u5f55","text":"mkdir - make directory - \u521b\u5efa\u76ee\u5f55\uff0c\u82e5\u76ee\u5f55\u5df2\u5b58\u5728\uff0c\u9ed8\u8ba4\u62a5\u9519\u3002 <pre><code>-m, --mode=MODE # \u8bbe\u7f6e\u6587\u4ef6\u6743\u9650\uff08\u7c7b\u4f3cchmod\uff09\uff0c\u4e0d\u4f1a\u51cf\u53bbumask\n-p, --parents   # \u5982\u679c\u76ee\u5f55\u5df2\u5b58\u5728\u4e0d\u4f1a\u62a5\u9519\uff1b\u6839\u636e\u9700\u8981\u521b\u5efa\u7236\u76ee\u5f55\n-v, --verbose   # \u4e3a\u521b\u5efa\u7684\u6bcf\u4e2a\u76ee\u5f55\u663e\u793a\u4e00\u6761\u6d88\u606f\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#rm-","title":"rm - \u5220\u9664\u6587\u4ef6\u6216\u76ee\u5f55","text":"rm - remove - \u5220\u9664\u6587\u4ef6\u6216\u76ee\u5f55\u3002 <pre><code>-f, --force          # \u5ffd\u7565\u4e0d\u5b58\u5728\u7684\u6587\u4ef6\u548c\u53c2\u6570\uff0c\u4ece\u4e0d\u63d0\u793a\n-i                   # \u5728\u6bcf\u6b21\u5220\u9664\u4e4b\u524d\u63d0\u793a\uff0c\u9ed8\u8ba4\u884c\u4e3a\n-1                   # \u5728\u5220\u9664\u4e09\u4e2a\u4ee5\u4e0a\u7684\u6587\u4ef6\u4e4b\u524d\u6216\u9012\u5f52\u5220\u9664\u65f6\uff0c\u63d0\u793a1\u6b21\n--interactive[=WHEN] # \u6839\u636eWHEN\u8fdb\u884c\u63d0\u793a: never, once (-I), or always (-i)\n--one-file-system    # \u9012\u5f52\u5220\u9664\u65f6\uff0c\u8df3\u8fc7\u4efb\u4f55\u4e0e\u6307\u5b9a\u6587\u4ef6\u7cfb\u7edf\u4e0d\u540c\u7684\u76ee\u5f55\n--no-preserve-root   # \u4e0d\u4fdd\u62a4'/'\u76ee\u5f55\n--preserve-root      # \u4e0d\u5220\u9664'/' (\u9ed8\u8ba4)\n-r, -R, -recursive   # \u9012\u5f52\u5220\u9664\u76ee\u5f55\u53ca\u5176\u5185\u5bb9\n-d, --dir            # \u5220\u9664\u7a7a\u76ee\u5f55\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#rmdir-","title":"rmdir - \u5220\u9664\u7a7a\u76ee\u5f55","text":"rmdir - remove directory - \u5220\u9664\u7a7a\u76ee\u5f55\u3002 <pre><code>--ignore-fail-on-non-empty # \u5ffd\u7565\u76ee\u5f55\u975e\u7a7a\u5bfc\u81f4\u7684\u5931\u8d25\n-p, --parents              # \u5220\u9664\u76ee\u5f55\u53ca\u5176\u7236\u76ee\u5f55\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#mv-","title":"mv - \u91cd\u547d\u540d / \u79fb\u52a8\u6587\u4ef6\u6216\u76ee\u5f55","text":"mv - \u79fb\u52a8\u6587\u4ef6\u6216\u76ee\u5f55\uff1b\u91cd\u547d\u540d\u3002 <pre><code>--backup[=CONTROL]               # \u5907\u4efd\u6bcf\u4e2a\u73b0\u6709\u76ee\u6807\u6587\u4ef6\n-b                               # \u7c7b\u4f3c--backup\uff0c\u4f46\u4e0d\u63a5\u53d7\u53c2\u6570\n-f, --force                      # \u8986\u76d6\u524d\u4e0d\u63d0\u793a\n-i, --interactive                # \u8986\u76d6\u524d\u63d0\u793a\n-n, --no-clobber                 # \u4e0d\u8986\u76d6\u73b0\u6709\u6587\u4ef6\n--strip-trailing-slashes         # \u4ece\u6bcf\u4e2aSOURCE\u53c2\u6570\u4e2d\u5220\u9664\u6240\u6709\u5c3e\u968f\u659c\u6760\n-S, --suffix=SUFFIX              # \u8986\u76d6\u901a\u5e38\u7684\u5907\u4efd\u540e\u7f00\n-t, --target-directory=DIRECTORY # \u5c06\u6240\u6709\u7684SOURCE\u79fb\u81f3DIRECTORY\n-T, --no-target-directory        # \u5c06DEST\u89c6\u4e3a\u666e\u901a\u6587\u4ef6\n-u, --update                     # \u4ec5\u5728SOURCE\u6bd4DEST\u66f4\u65b0\u65f6\uff0c\u6216DEST\u4e0d\u5b58\u5728\u65f6\u79fb\u52a8\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#cp-","title":"cp - \u590d\u5236\u6587\u4ef6\u6216\u76ee\u5f55\u3002","text":"<p>cp\uff1a\u590d\u5236\u6587\u4ef6\u6216\u76ee\u5f55\u3002</p> <pre><code>-a, --archive         # \u7b49\u6548\u4e8e-dR --preserve=all\n--attributes-only     # \u4e0d\u590d\u5236\u6587\u4ef6\u6570\u636e\uff0c\u4ec5\u590d\u5236\u5c5e\u6027\n--backup[=CONTROL]    # \u5bf9\u6bcf\u4e2a\u5b58\u5728\u7684\u76ee\u6807\u6587\u4ef6\u8fdb\u884c\u5907\u4efd\n-b                    # \u7c7b\u4f3c--backup\uff0c\u4f46\u4e0d\u63a5\u53d7\u53c2\u6570\n--copy-contents       # copy contents of special files when recursive\n-d                    # \u7b49\u6548\u4e8e--no-dereference --preserve=links\n-f, --force           # \u5982\u679c\u5df2\u5b58\u5728\u7684\u76ee\u6807\u6587\u4ef6\u4e0d\u80fd\u6253\u5f00\uff0c\u5220\u9664\u5b83\u5e76\u91cd\u8bd5\n# \u5f53-n\u9009\u9879\u4e5f\u88ab\u4f7f\u7528\u65f6\uff0c\u8be5\u9009\u9879\u5c06\u88ab\u5ffd\u7565 \n-i, --interactive     # \u8986\u76d6\u524d\u63d0\u793a\uff0c\u8be5\u9009\u9879\u4f1a\u88ab-n\u8986\u76d6\n-H                    # follow command-line symbolic links in SOURCE\n-l, --link            # \u521b\u5efa\u786c\u94fe\u63a5\uff0c\u800c\u4e0d\u662f\u590d\u5236\n-L, --dereference     # always follow symbolic links in SOURCE\n-n, --no-clobber      # \u4e0d\u8981\u8986\u76d6\u5df2\u6709\u7684\u6587\u4ef6\n-P, --no-dereference  # never follow symbolic links in SOURCE\n-p                    # \u7b49\u6548\u4e8e--preserve=mode,ownership,timestamps\n--preserve[=ATTR_LIST]# \u5c3d\u53ef\u80fd\u4fdd\u7559\u6307\u5b9a\u7684\u5c5e\u6027(default:mode,ownership,timestamps)\n# additional attributes: context, links, xattr,all\n--no-preserve=ATTR_LIST # \u4e0d\u4fdd\u7559\u6307\u5b9a\u7684\u5c5e\u6027\n--parents             # \u5728\u76ee\u6807\u76ee\u5f55\u4e0b\u4f7f\u7528\u5b8c\u6574\u7684\u6e90\u6587\u4ef6\u540d\n-R, -r, --recursive   # \u9012\u5f52\u590d\u5236\u76ee\u5f55\n--reflink[=WHEN]      # control clone/CoW copies. See below\n--remove-destination  # \u590d\u5236\u524d\uff0c\u76f4\u63a5\u79fb\u9664\u5df2\u5b58\u5728\u7684\u76ee\u6807\u6587\u4ef6\uff0c\u548c--force\u51b2\u7a81\n--sparse=WHEN         # control creation of sparse files. See below\n--strip-trailing-slashes  # \u79fb\u9664\u6e90\u6587\u4ef6\u7684\u5c3e\u968f\u659c\u6760\n-s, --symbolic-link   # \u521b\u5efa\u7b26\u53f7\u94fe\u63a5\uff0c\u800c\u4e0d\u662f\u590d\u5236\n-S, --suffix=SUFFIX   # override the usual backup suffix\n-t, --target-directory=DIRECTORY # \u590d\u5236\u6240\u6709\u6307\u5b9a\u7684SOURCE\u5230DIRECTORY\n-T, --no-target-directory # \u5c06DEST\u89c6\u4e3a\u666e\u901a\u6587\u4ef6\n-u, --update          # \u53ea\u6709SOURCE\u6587\u4ef6\u6bd4\u76ee\u6807\u6587\u4ef6\u66f4\u65b0\uff0c\u6216\u76ee\u6807\u6587\u4ef6\u4e0d\u5b58\u5728\u65f6\u624d\u590d\u5236\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#gzip-","title":"gzip  - \u538b\u7f29\u6587\u4ef6","text":""},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#zcat-gzip","title":"zcat - \u8bfb\u53d6gzip\u6587\u4ef6","text":"<p>zcat\uff1a\u8bfb\u53d6gzip\u6587\u4ef6\uff0c\u800c\u65e0\u9700\u5148\u89e3\u538b\u7f29\u5b83\u4eec\u3002</p>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_4","title":"\u6587\u4ef6\u7f16\u8f91","text":""},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#head-","title":"head - \u67e5\u770b\u6587\u4ef6\u5934\u90e8","text":"<pre><code>-c, --bytes=[-]NUM    # \u6253\u5370\u6bcf\u4e2a\u6587\u4ef6\u7684\u524dNUM\u4e2a\u5b57\u8282\n# \u4ee5'-'\u5f00\u5934, \u6253\u5370\u6240\u6709\u5185\u5bb9\uff0c\u9664\u4e86\u6700\u540e\u4e00\u4e2aNUM bytes\n-n, --lines=[-]NUM    # \u6253\u5370\u524dNUM\u884c\uff0c\u9ed8\u8ba4\u4e3a\u524d10\u884c\n# \u4ee5'-'\u5f00\u5934, \u6253\u5370\u6240\u6709\u5185\u5bb9\uff0c\u9664\u4e86\u6700\u540e\u4e00\u4e2aNUM lines\n-q, --quiet, --silent # \u4e0d\u6253\u5370\u6807\u9898\n-v, --verbose         # \u603b\u662f\u6253\u5370\u6807\u9898\n-z, --zero-terminated # \u884c\u7ec8\u6b62\u7b26\u4e3aNUL\uff0c\u800c\u4e0d\u662f\u6362\u884c\u7b26\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#tail-","title":"tail - \u67e5\u770b\u6587\u4ef6\u5c3e\u90e8","text":"<pre><code>-c, --bytes=[+]NUM  # \u8f93\u51fa\u6700\u540eNUM\u4e2a\u5b57\u8282\uff1b\n# \u6216\u4f7f\u7528-c +NUM\u8f93\u51fa\u4eceNUM\u5b57\u8282\u5f00\u59cb\u7684\u5185\u5bb9\n-f,                 # \u663e\u793a\u6587\u4ef6\u65b0\u8ffd\u52a0\u7684\u5185\u5bb9\uff0c\u67e5\u770b\u65e5\u5fd7\u6587\u4ef6\u6bd4\u8f83\u6709\u7528\n--follow [={name|descriptor}]\n-F                  # \u4e0e--follow=name --retry\u76f8\u540c\n-n, --lines=[+]NUM  # \u8f93\u51fa\u6700\u540eNUM\u884c\uff0c\u9ed8\u8ba4\u4e3a\u6700\u540e10\u884c\uff1b\n# \u6216\u4f7f\u7528-n +NUM\u4eceNUM\u884c\u5f00\u59cb\u8f93\u51fa\n--max-unchanged-stats=N # \u548c--follow=name\u5171\u7528\n# \u91cd\u65b0\u6253\u5f00\u5728N\u6b21\uff08\u9ed8\u8ba45\u6b21\uff09\u8fed\u4ee3\u540e\u672a\u66f4\u6539\u5927\u5c0f\u7684FILE\uff0c\n# \u4ee5\u67e5\u770b\u5176\u662f\u5426\u5df2\u53d6\u6d88\u94fe\u63a5\u6216\u91cd\u547d\u540d\n#\uff08\u8fd9\u662f\u5faa\u73af\u65e5\u5fd7\u6587\u4ef6\u7684\u5e38\u89c1\u60c5\u51b5\uff09\uff1b \n# \u4f7f\u7528inotify\u65f6\uff0c\u6b64\u9009\u9879\u5f88\u5c11\u6709\u7528\n--pid=PID               # \u548c-f\u5171\u7528\uff0c\u5728\u8fdb\u7a0bPID\u7ec8\u6b62\u4e4b\u540e\uff0c\u505c\u6b62\u6253\u5370\n--retry                 # \u5982\u679c\u65e0\u6cd5\u8bbf\u95ee\u6587\u4ef6\uff0c\u4e0d\u65ad\u5c1d\u8bd5\n-s, --sleep-interval=N  # \u548c-f\u5171\u7528\uff0c\u7761\u7720\u5927\u7ea6N\u79d2\uff0c\u9ed8\u8ba4\u503c\u4e3a1.0\uff1b\n# \u548cinotify\u6216--pid=P\u5171\u7528\uff0c\u6bcfN\u79d2\u68c0\u67e5\u8fdb\u7a0bPID\u81f3\u5c11\u4e00\u6b21\n-z, --zero-terminated   # \u884c\u5b9a\u754c\u7b26\u4e3aNUL\uff0c\u800c\u4e0d\u662f\u6362\u884c\u7b26\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#cat-","title":"cat - \u663e\u793a\u6587\u4ef6\u5185\u5bb9","text":"<p>cat\uff1a\u5728\u7ec8\u7aef\u663e\u793a\u6587\u4ef6\u5185\u5bb9\u3001\u5c06\u8f93\u5165\u7ec8\u7aef\u7684\u6587\u672c\u4fdd\u5b58\u8fdb\u6587\u4ef6\u3001\u5c06\u591a\u4e2a\u6587\u672c\u6587\u4ef6\u4fdd\u5b58\u5230\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\u3002</p> <ol> <li>&gt; \uff1a\u8868\u793a\u8986\u76d6\u539f\u5185\u5bb9</li> <li>&gt;&gt; \uff1a\u8868\u793a\u8ffd\u52a0</li> </ol> <pre><code>-A, --show-all          # \u7b49\u6548\u4e8e-vET\n-b, --number-nonblank     # \u7ed9\u975e\u7a7a\u884c\u7f16\u53f7\n-e                      # \u7b49\u6548\u4e8e-vE\n-E, --show-ends         # \u6bcf\u884c\u672b\u5c3e\u663e\u793a$\n-n, --number            # \u7ed9\u6bcf\u884c\u7f16\u53f7\n-s, --squeeze-blank     # \u591a\u4e2a\u8fde\u7eed\u7684\u7a7a\u884c\u66ff\u6362\u4e3a\u4e00\u4e2a\u7a7a\u884c\n-t                      # equivalent to -vT\n-T, --show-tabs         # \u5c06TAB characters\u663e\u793a\u4e3a^I\n-v, --show-nonprinting  # \u4f7f\u7528^\u548cM-\u8868\u793a\u6cd5, LFD\u548cTAB\u9664\u5916\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#less-","title":"less - \u6d4f\u89c8\u6587\u4ef6\u5185\u5bb9","text":"<p>less\uff1a\u5206\u5c4f\u4e0a\u4e0b\u7ffb\u9875\u6d4f\u89c8\u6587\u4ef6\u5185\u5bb9\u3002\u7528PageUp\u952e\u5411\u4e0a\u7ffb\u9875\uff0c\u7528PageDown\u952e\u5411\u4e0b\u7ffb\u9875\u3002\u6309Q\u952e\u9000\u51faless\u7a0b\u5e8f\u3002</p>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#wc-","title":"wc - \u7edf\u8ba1\u6587\u4ef6\u5b57\u6570","text":"<p>wc\uff1a\u7edf\u8ba1\u6587\u4ef6\u7684\u5b57\u8282\u6570\u3001\u5b57\u6570\u3001\u884c\u6570\u3002</p>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#grep-","title":"grep - \u641c\u7d22\u6587\u672c","text":"<p>grep\uff1a\u5728\u6587\u4ef6\u4e2d\u641c\u7d22\u6587\u672c\uff0c\u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u3002</p>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#sort-","title":"sort - \u6392\u5e8f\u6587\u672c","text":"<p>sort\uff1a\u6392\u5e8f\u6587\u672c\uff08\u6587\u672c\u53ef\u4ee5\u6765\u81ea\u7ec8\u7aef\u8f93\u5165\u3001\u4e5f\u53ef\u4ee5\u6765\u81ea\u6587\u4ef6\uff09\u3002</p>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_5","title":"\u7528\u6237\u7ba1\u7406","text":""},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#who-","title":"who - \u5f53\u524d\u6240\u6709\u767b\u9646\u7528\u6237\u7684\u4fe1\u606f","text":"<pre><code>-a, --all      # \u7b49\u4ef7\u4e8e\u8c03\u7528 '-b -d --login -p -r -t -T -u'\n-b, --boot     # \u4e0a\u6b21\u7cfb\u7edf\u542f\u52a8\u7684\u65f6\u95f4\n-d, --dead     # \u6253\u5370 dead \u72b6\u6001\u7684\u8fdb\u7a0b\n-H, --heading  # \u6253\u5370\u5217\u6807\u9898\u884c\n-l, --login    # \u6253\u5370\u7cfb\u7edf\u767b\u5f55\u8fdb\u7a0b\n--lookup       # \u5c1d\u8bd5\u901a\u8fc7 DNS \u89c4\u8303\u4e3b\u673a\u540d\n-m             # \u4ec5\u663e\u793a\u548c\u6807\u51c6\u8f93\u5165\u5173\u8054\u7684\u4e3b\u673a\u540d\u548c\u7528\u6237\n-p, --process  # \u6253\u5370\u7531 init \u751f\u6210\u7684\u6d3b\u52a8\u8fdb\u7a0b\n-q, --count    # \u5217\u51fa\u6240\u6709\u5df2\u767b\u5f55\u7528\u6237\u7684\u540d\u79f0\u548c\u6570\u91cf\n-r, --runlevel # \u6253\u5370\u5f53\u524d\u8fd0\u884c\u7ea7\u522b\n-s, --short    # \u4ec5\u6253\u5370\u540d\u79f0\u3001\u884c\u548c\u65f6\u95f4\uff08\u9ed8\u8ba4\uff09\n-t, --time     # \u6253\u5370\u4e0a\u6b21\u7cfb\u7edf\u65f6\u949f\u66f4\u6539\n-u, --users    # \u5217\u51fa\u767b\u5f55\u7684\u7528\u6237\n-T, -w, --mesg, --message, --writable # \u5c06\"+\u3001-\u3001?\"\u4e2d\u7684\u4e00\u4e2a\u4f5c\u4e3a\u7528\u6237\u7684\u6d88\u606f\u72b6\u6001\u6dfb\u52a0\u5230\u7528\u6237\u540d\u79f0\u540e\u9762\n#   '+'  \u5141\u8bb8\u5199\u5165\u4fe1\u606f\n#   '-'  \u7981\u6b62\u5199\u5165\u4fe1\u606f\n#   '?'  \u4e0d\u80fd\u67e5\u627e\u5230\u7ec8\u7aef\u8bbe\u5907\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#whoami-id","title":"whoami - \u6253\u5370\u4e0e\u5f53\u524d\u6709\u6548\u7528\u6237ID\u5173\u8054\u7684\u7528\u6237\u540d\u3002","text":""},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#chmod-","title":"chmod - \u66f4\u6539\u6743\u9650","text":"<p>change the permissions mode of a file.</p> <ul> <li>\u901a\u8fc7\u7b26\u53f7\u7ec4\u5408\u7684\u65b9\u5f0f\u66f4\u6539\u76ee\u6807\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u6743\u9650\u3002</li> <li>\u901a\u8fc7\u516b\u8fdb\u5236\u6570\u7684\u65b9\u5f0f\u66f4\u6539\u76ee\u6807\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u6743\u9650\u3002</li> <li>\u901a\u8fc7\u53c2\u8003\u6587\u4ef6\u7684\u6743\u9650\u6765\u66f4\u6539\u76ee\u6807\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u6743\u9650\u3002</li> </ul> \u6743\u9650 \u6570\u5b57\u8868\u793a \u6587\u4ef6 \u76ee\u5f55 r 4 - $2^2$ \u53ef\u8bfb\u53d6\u3001\u590d\u5236\u6587\u4ef6 \u53ef\u5217\u51fa\u76ee\u5f55\u7684\u5185\u5bb9 w 2 - $2^1$ \u53ef\u5199\u5165\u3001\u4fee\u6539\u6587\u4ef6 \u53ef\u5728\u76ee\u5f55\u4e2d\u521b\u5efa\u3001\u5220\u9664\u6587\u4ef6 x 1- $2^0$ \u53ef\u6267\u884c\u6587\u4ef6 \u53ef\u8fdb\u5165\u76ee\u5f55 Symbol Meaning u user g group o other a all r read w write (and delete) x execute (and access directory) + add permission - take away permission <pre><code>Usage: chmod [{ugoa}{+-=}{rwx}] [\u6587\u4ef6\u6216\u76ee\u5f55] [mode=421] [\u6587\u4ef6\u6216\u76ee\u5f55]\n-c, --changes      # \u5f53\u6587\u4ef6\u7684\u6743\u9650\u66f4\u6539\u65f6\u8f93\u51fa\u64cd\u4f5c\u4fe1\u606f\n--no-preserve-root # \u4e0d\u4fdd\u62a4\u6839\u76ee\u5f55\uff0c\u9ed8\u8ba4\u9009\u9879\n--preserve-root    # \u4e0d\u80fd\u5728\u6839\u76ee\u5f55\u4e0b\u9012\u5f52\u64cd\u4f5c\n-f, --silent,      # \u6291\u5236\u591a\u6570\u9519\u8bef\u6d88\u606f\u7684\u8f93\u51fa\n--quiet \n-v, --verbose      # \u65e0\u8bba\u6587\u4ef6\u662f\u5426\u66f4\u6539\u4e86\u6743\u9650\uff0c\u4e00\u5f8b\u8f93\u51fa\u64cd\u4f5c\u4fe1\u606f\n--reference=RFILE  # \u4f7f\u7528\u53c2\u8003\u6587\u4ef6\u6216\u53c2\u8003\u76ee\u5f55RFILE\u7684\u6743\u9650\u6765\u8bbe\u7f6e\u76ee\u6807\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u6743\u9650\n-R, --recursive    # \u9012\u5f52\u66f4\u6539\u6743\u9650\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_6","title":"\u7a0b\u5e8f\u7ba1\u7406","text":"<p>ps sleep 10 &amp;  &amp; \u5728\u540e\u53f0\u8fd0\u884c\u4f5c\u4e1a\u5e76\u7acb\u5373\u8fd4\u56de\u63d0\u793a\uff0c\u5141\u8bb8\u60a8\u5728\u7b49\u5f85\u8be5\u4f5c\u4e1a\u5b8c\u6210\u65f6\u8fd0\u884c\u5176\u4ed6\u7a0b\u5e8f\u3002</p>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#bg-","title":"bg - \u540e\u53f0\u6267\u884c","text":"<p>bg\uff1a\u5c06\u4efb\u52a1\u653e\u5230\u540e\u53f0\u6267\u884c\u3002</p>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#fg-","title":"fg - \u524d\u53f0\u6267\u884c","text":"<p>fg\uff1a\u5c06\u540e\u53f0\u4efb\u52a1\u653e\u5230\u524d\u53f0\u7ec8\u7aef\u6267\u884c\u3002</p>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#jobs-","title":"jobs - \u663e\u793a\u4efb\u52a1\u5217\u8868","text":"<p>jobs\uff1a\u663e\u793a\u4efb\u52a1\u5217\u8868\u53ca\u4efb\u52a1\u72b6\u6001</p>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#kill-","title":"kill - \u7ec8\u6b62\u7a0b\u5e8f","text":"<p>kill\uff1a\u5220\u9664\u6267\u884c\u4e2d\u7684\u7a0b\u5e8f\u6216\u5de5\u4f5c\u3002</p>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_7","title":"\u78c1\u76d8\u7ba1\u7406","text":""},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#df-","title":"df  - \u663e\u793a\u78c1\u76d8\u76f8\u5173\u4fe1\u606f","text":"<pre><code>df .\n% \u663e\u793a\u5f53\u524d\u76ee\u5f55\u78c1\u76d8\u76f8\u5173\u4fe1\u606f\uff08\u6587\u4ef6\u7cfb\u7edf\u3001\u6302\u8f7d\u70b9\u7b49\u7b49\uff09\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#du-","title":"du - \u663e\u793a\u6bcf\u4e2a\u5b50\u76ee\u5f55\u4f7f\u7528\u7684\u5343\u5b57\u8282\u6570","text":"<p>du\uff1adu \u547d\u4ee4\u8f93\u51fa\u6bcf\u4e2a\u5b50\u76ee\u5f55\u4f7f\u7528\u7684\u5343\u5b57\u8282\u6570\u3002\u5982\u679c\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\uff0c\u5e0c\u671b\u627e\u51fa\u54ea\u4e2a\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u6700\u591a\uff0c\u5219\u6b64\u9009\u9879\u975e\u5e38\u6709\u7528\u3002</p> <pre><code>du -s *\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#file-","title":"file - \u6587\u4ef6\u5206\u7c7b","text":"<p>file\uff1a\u6839\u636e\u547d\u540d\u6587\u4ef6\u5305\u542b\u7684\u6570\u636e\u7c7b\u578b\u5bf9\u5176\u8fdb\u884c\u5206\u7c7b\uff0c\u4f8b\u5982 ascii\uff08\u6587\u672c\uff09\u3001\u56fe\u7247\u3001\u538b\u7f29\u6570\u636e\u7b49\u3002 </p> <pre><code>file *\n\uff05\u3000\u62a5\u544a\u4e3b\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u6587\u4ef6\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#find-","title":"find - \u67e5\u627e\u6587\u4ef6","text":"<p>find\uff1a\u8fd9\u5c06\u5728\u76ee\u5f55\u4e2d\u641c\u7d22\u5177\u6709\u7ed9\u5b9a\u540d\u79f0\u3001\u65e5\u671f\u3001\u5927\u5c0f\u6216\u4efb\u4f55\u5176\u4ed6\u8981\u6307\u5b9a\u7684\u5c5e\u6027\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u3002\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u547d\u4ee4\uff0c\u4f46\u6709\u8bb8\u591a\u9009\u9879\uff0c\u53ef\u4ee5\u901a\u8fc7\u952e\u5165man find\u6765\u9605\u8bfb\u624b\u518c\u3002</p> <p>\u4f8b\u5982\uff1a\u8981\u641c\u7d22\u6269\u5c55\u540d\u4e3a<code>.txt</code>\u7684\u6240\u6709\u6587\u4ef6\uff0c\u4ece\u5f53\u524d\u76ee\u5f55\uff08.\uff09\u5f00\u59cb\uff0c\u904d\u5386\u6240\u6709\u5b50\u76ee\u5f55\uff0c\u7136\u540e\u5c06\u6587\u4ef6\u540d\u6253\u5370\u5230\u5c4f\u5e55\u4e0a\uff1a</p> <pre><code>find . -name \"*.txt\" -print\n</code></pre> <p>\u641c\u7d22\u5f53\u524d\u76ee\u5f55\u4e2d\u5927\u4e8e\uff11\u5146\u7684\u6587\u4ef6\uff1a</p> <pre><code>find . -size +1M -ls\n</code></pre>"},{"location":"Python3/Linux/18.2.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_8","title":"\u53c2\u8003\u7f51\u5740","text":"<p>https://www.linuxcool.com/</p> <p>http://www.ee.surrey.ac.uk/Teaching/Unix/</p> <p>https://www.runoob.com/linux/linux-command-manual.html</p> <p>http://c.biancheng.net/linux_tutorial/10/</p>"},{"location":"Python3/Matplotlib/10.1.%E6%9E%B6%E6%9E%84.html","title":"10.1.\u67b6\u6784","text":""},{"location":"Python3/Matplotlib/10.1.%E6%9E%B6%E6%9E%84.html#introduction","title":"Introduction","text":"<p>Matplotlib \u662f\u4e00\u4e2a Python 2D\u7ed8\u56fe\u5e93\uff0c\u5b83\u662f\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u5f97\u5230 Python \u79d1\u5b66\u8ba1\u7b97\u793e\u533a\u7684\u5168\u529b\u652f\u6301\u3002\u8be5\u9879\u76ee\u7531\u751f\u7269\u5b66\u5bb6 John Hunter \u4e8e2003\u5e74\u53d1\u8d77\uff0c\u6700\u521d\u7684\u4f5c\u8005\u5927\u90e8\u5206\u90fd\u662f\u5728\u7f16\u7a0b\u9886\u57df\u81ea\u5b66\u6210\u624d\u7684\u79d1\u5b66\u5bb6\uff0c\u73b0\u5728\u9879\u76ee\u7531\u5f00\u6e90\u793e\u533a\u5f00\u53d1\u3002</p> <p>Matplotlib \u73b0\u5728\u5df2\u7ecf\u88ab\u5f88\u591a\u4eba\u7528\u4e8e\u5206\u6790\u548c\u7814\u7a76\u76ee\u7684\uff0c\u751a\u81f3\u88ab NASA \u7528\u4e8e\u51e4\u51f0\u53f7\u706b\u661f\u63a2\u6d4b\u5668\u7684\u6570\u636e\u53ef\u89c6\u5316\u3002\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u4eba\u7c7b\u6355\u6349\u7684\u7b2c\u4e00\u5f20\u9ed1\u6d1e\u7167\u7247\u5b8c\u5168\u4f7f\u7528 Python \u5408\u6210\uff0c\u5176\u4e2d\u5c31\u7528\u5230\u4e86 Matplotlib\u3002</p>"},{"location":"Python3/Matplotlib/10.1.%E6%9E%B6%E6%9E%84.html#origin-of-matplotlib","title":"Origin of matplotlib","text":"<p>Matplotlib \u7684\u8d77\u6e90\u53ef\u4ee5\u8ffd\u6eaf\u5230 John Hunter \u8bd5\u56fe\u628a\u4ed6\u81ea\u5df1\u548c\u7814\u7a76\u766b\u75eb\u7684\u540c\u4e8b\u4ece\u5206\u6790\u76ae\u8d28\u8111\u7535\u56fe(ECoG)\u7684\u4e13\u6709\u8f6f\u4ef6 (Proprietary software) \u4e2d\u89e3\u653e\u51fa\u6765\u3002\u5728\u5f53\u65f6\uff0c\u4e13\u6709\u7684\u6570\u636e\u53ef\u89c6\u5316\u8f6f\u4ef6\u662f\u4e00\u79cd\u6709\u9650\u7684\u8d44\u6e90\u3002John Hunter \u5de5\u4f5c\u7684\u5b9e\u9a8c\u5ba4\u53ea\u6709\u4e00\u4e2a\u8f6f\u4ef6\u8bb8\u53ef\u8bc1\uff0c\u5404\u79cd\u5404\u6837\u7684\u7814\u7a76\u751f\u3001\u533b\u5b66\u751f\u3001\u535a\u58eb\u540e\u3001\u5b9e\u4e60\u751f\u548c\u8c03\u67e5\u4eba\u5458\u8f6e\u6d41\u5206\u4eab\u786c\u4ef6\u5bc6\u94a5\u3002John Hunter \u60f3\u627e\u5230\u4e00\u4e2a\u53ef\u4f9b\u6574\u4e2a\u56e2\u961f\u4f7f\u7528\u7684\u66ff\u4ee3\u5de5\u5177\u3002\u5728\u5f53\u65f6\uff0cMATLAB \u5df2\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5728\u751f\u7269\u533b\u5b66\u754c\u7684\u6570\u636e\u5206\u6790\u548c\u53ef\u89c6\u5316\uff0c\u56e0\u6b64 Hunter \u5f00\u59cb\u7740\u624b\u57fa\u4e8e MATLAB \u5f00\u53d1\u4e00\u4e2a\u5de5\u5177\u7528\u6765\u53d6\u4ee3\u4e13\u7528\u8f6f\u4ef6\uff0c\u5e76\u53d6\u5f97\u4e86\u4e00\u4e9b\u6210\u529f\u3002\u8fd9\u4e2a\u7248\u672c\u53ef\u4ee5\u88ab\u591a\u4e2a\u7814\u7a76\u4eba\u5458\u4f7f\u7528\u548c\u6269\u5c55\u3002\u7136\u800c\uff0c\u766b\u75eb\u624b\u672f\u60a3\u8005\u7684\u771f\u5b9e\u533b\u7597\u6570\u636e\u5177\u6709\u591a\u79cd\u6570\u636e\u6a21\u5f0f (CT\u3001MRI\u3001ECoG\u3001EEG)\uff0c\u5176\u590d\u6742\u6027\u8ba9 MATLAB \u5728\u6570\u636e\u7ba1\u7406\u65b9\u9762\u53d7\u5230\u6311\u6218\u3002\u7531\u4e8e\u4e0d\u6ee1\u610f MATLAB \u5bf9\u8fd9\u9879\u4efb\u52a1\u7684\u9002\u7528\u6027\uff0cHunter \u5f00\u59cb\u5728\u7528\u6237\u754c\u9762\u5de5\u5177\u5305 GTK + \u7684\u57fa\u7840\u4e0a\u5f00\u53d1\u4e00\u4e2a\u65b0\u7684 Python \u5e94\u7528\u7a0b\u5e8f\uff0c\u5728\u5f53\u65f6 GTK + \u662f\u9886\u5148\u7684 Linux \u684c\u9762\u89c6\u7a97\u7cfb\u7edf\u3002</p> <p>GTK\uff08\u539f\u540dGTK+\uff09\u6700\u521d\u662fGIMP\u7684\u4e13\u7528\u5f00\u53d1\u5e93\uff08GIMP Toolkit\uff09\uff0c\u540e\u6765\u53d1\u5c55\u4e3aUnix-like\u7cfb\u7edf\u4e0b\u5f00\u53d1\u56fe\u5f62\u754c\u9762\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u4e3b\u6d41\u5f00\u53d1\u5de5\u5177\u4e4b\u4e00\u3002GTK\u662f\u81ea\u7531\u8f6f\u4ef6\uff0c\u5e76\u4e14\u662fGNU\u8ba1\u5212\u7684\u4e00\u90e8\u5206\u3002\u81ea2019\u5e742\u67086\u65e5\u8d77\uff0cGTK+\u6539\u540d\u4e3aGTK\u3002GTK\u4f7f\u7528C\u8bed\u8a00\u5f00\u53d1\uff0c\u4f46\u662f\u5176\u8bbe\u8ba1\u8005\u4f7f\u7528\u9762\u5411\u5bf9\u8c61\u6280\u672f\uff0c\u4e5f\u63d0\u4f9b\u4e86\u5176\u4ed6\u8bed\u8a00\uff08\u5982Python\uff09\u7684\u63a5\u53e3\u3002</p> <p>Matplotlib \u6700\u521d\u662f\u4e3a\u8fd9\u4e2a GTK+ \u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u7684 EEG/ECoG \u53ef\u89c6\u5316\u5de5\u5177\uff0c\u8fd9\u4e2a\u7528\u4f8b\u6307\u5bfc\u4e86\u5b83\u7684\u539f\u59cb\u67b6\u6784\u3002Matplotlib \u6700\u521d\u7684\u8bbe\u8ba1\u8fd8\u6709\u7b2c\u4e8c\u4e2a\u76ee\u7684\uff1a\u4f5c\u4e3a\u4ea4\u4e92\u5f0f\u547d\u4ee4\u9a71\u52a8\u7684\u56fe\u5f62\u751f\u6210\u5de5\u5177\u7684\u66ff\u4ee3\u54c1\uff0cMATLAB \u5728\u8fd9\u4e00\u70b9\u4e0a\u505a\u5f97\u975e\u5e38\u597d\u3002MATLAB \u7684\u8bbe\u8ba1\u4f7f\u52a0\u8f7d\u6570\u636e\u6587\u4ef6\u548c\u7ed8\u56fe\u7684\u4efb\u52a1\u53d8\u5f97\u975e\u5e38\u7b80\u5355\u76f4\u63a5\uff0c\u7136\u800c\u5b8c\u6574\u7684\u9762\u5411\u5bf9\u8c61 API \u5728\u8bed\u6cd5\u4e0a\u8fc7\u4e8e\u7e41\u91cd\u3002\u56e0\u6b64 matplotlib \u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6709\u72b6\u6001\u7684\u811a\u672c\u63a5\u53e3\uff0c\u7528\u4e8e\u5feb\u901f\u7b80\u5355\u5730\u751f\u6210\u7c7b\u4f3c\u4e8e MATLAB \u7684\u56fe\u5f62\u3002</p>"},{"location":"Python3/Matplotlib/10.1.%E6%9E%B6%E6%9E%84.html#overview-of-matplotlib-architecture","title":"Overview of matplotlib Architecture","text":"<p>Matplotlib \u4e2d\uff0c\u5305\u542b\u548c\u7ba1\u7406\u7ed9\u5b9a\u56fe\u5f62\u4e2d\u6240\u6709\u5143\u7d20\u7684\u9876\u7ea7 matplotlib \u5bf9\u8c61\u79f0\u4e3a <code>Figure</code>\u3002\u5f53\u524d Matplotlib \u4f53\u7cfb\u7ed3\u6784\u56f4\u7ed5\u7740\u7528\u6237\u521b\u5efa\u3001\u8868\u793a\uff08\u6e32\u67d3\uff09\u548c\u66f4\u65b0 <code>Figure</code> \u5bf9\u8c61\u6240\u9700\u7684\u64cd\u4f5c\u5c55\u5f00\u3002\u4ece\u903b\u8f91\u4e0a\u8bb2\uff0c\u5b8c\u6210\u8fd9\u4e00\u7cfb\u5217\u64cd\u4f5c\u7684\u4f53\u7cfb\u7ed3\u6784\u5206\u4e3a\u4e09\u5c42\uff0c\u53ef\u4ee5\u5c06\u5176\u89c6\u4e3a\u5806\u6808\u3002\u8fd9\u4e09\u5c42\u4ece\u4e0b\u5230\u4e0a\u5206\u522b\u662f\uff1abackend\u3001artist \u548cscripting\u3002\u4e0a\u5c42\u77e5\u9053\u5982\u4f55\u4e0e\u4e0b\u9762\u7684\u5c42\u8fdb\u884c\u901a\u4fe1\uff0c\u4f46\u4e0b\u5c42\u5374\u4e0d\u77e5\u9053\u4e0a\u5c42\u3002</p> Fig 1  <ol> <li> <p>Matplotlib \u662f\u4e00\u4e2a\u7ed8\u56fe\u5e93\uff0c\u5b83\u4f9d\u8d56\u4e8e\u67d0\u4e9b\u540e\u7aef\u6765\u6e32\u67d3\u56fe\u7247\u3002backend \u5c42\u53ef\u4ee5\u4e0e\u4e0d\u540c\u7684\u8fd0\u884c\u73af\u5883 (backend) \u76f4\u63a5\u4ea4\u4e92\uff0c\u4e3a\u4e0a\u5c42\u63d0\u4f9b\u7edf\u4e00\u7684\u63a5\u53e3\u3002</p> </li> <li> <p>\u4e00\u4e2a\u56fe\u5f62\u9700\u8981\u7531\u591a\u4e2a\u5bf9\u8c61\u7ec4\u6210\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u5e94\u8be5\u88ab\u5355\u72ec\u4fee\u6539\uff0c\u5e76\u4e14\u4fee\u6539\u7684\u884c\u4e3a\u5bf9\u6574\u4e2a\u56fe\u7247\u7684\u5f71\u54cd\u662f\u6b63\u9762\u7684\u3001\u53ef\u9884\u6d4b\u7684\u3002artist \u5c42\u5305\u542b\u4e86\u4e00\u5f20\u56fe\u4e2d\u6bcf\u4e2a\u53ef\u89c6\u7ec4\u4ef6\u7684\u62bd\u8c61\u3002\u7531\u4e8e\u8fd9\u5c42\u4e0e\u53ef\u89c6\u5316\u9ad8\u5ea6\u76f8\u5173\uff0c\u8be5\u5c42\u88ab\u8ba4\u4e3a\u662f\u521b\u5efa\u89c6\u89c9\u827a\u672f\u7684\u4e00\u822c\u6027\u6982\u5ff5\uff0c\u56e0\u6b64\u88ab\u79f0\u4e3aartist layer\u3002</p> </li> <li> <p>\u6700\u540e\uff0c\u8fd8\u9700\u8981\u652f\u6301\u4ee5\u7f16\u7a0b\u7684\u65b9\u5f0f\u4e0e\u56fe\u7247\u4ea4\u4e92\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u5c3d\u53ef\u80fd\u5e72\u51c0\u3001\u76f4\u89c2\u7684\u8bed\u6cd5\u53bb\u64cd\u4f5c\u56fe\u5f62\u3002\u8fd9\u5c42\u88ab\u79f0\u4e3a\u811a\u672c\u5c42\u3002</p> </li> </ol>"},{"location":"Python3/Matplotlib/10.1.%E6%9E%B6%E6%9E%84.html#backend-layer","title":"Backend layer","text":"<p>matplotlib \u7684\u540e\u7aef\u53ef\u4ee5\u5206\u4e3a\u4e24\u79cd\uff1a</p> <ol> <li>User interface backends (interactive)</li> <li>Hardcopy backends (non-interactive)</li> </ol> <p>\u4f7f\u7528User interface\u540e\u7aef\u65f6\uff0c<code>Figure</code> \u4f1a\u88ab\u6e32\u67d3\u5230\u7528\u6237\u754c\u9762\u7a97\u53e3\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 User interface backend \u7684 GUI \u4e8b\u4ef6\uff08\u5982\u952e\u76d8\u548c\u9f20\u6807\u8f93\u5165\uff09 \u4ea4\u4e92\u5730\u4fee\u6539\u56fe\u7247\u3002\u4f7f\u7528Hardcopy backend\u65f6\uff0c<code>Figure</code>\u4f1a\u88ab\u4fdd\u5b58\u4e3a\u56fe\u7247\u6587\u4ef6\u3002\u5206\u522b\u6709\u5982\u4e0b\u7684User interface backend \u548c Hardcopy backend\uff1a</p> User interface backend Hardcopy backend GTK 2.x and GTK 3.x PS wxWidgets PDF Tk SVG Qt4 and Qt5 PNG Mac OS X Cocoa <p>\u6839\u636e\u662f\u5426\u652f\u6301raster graphics\u548cvector graphics\uff0cHardcopy backend \u53c8\u53ef\u4ee5\u5206\u4e3a\uff1a</p> <ol> <li>\u4ec5\u652f\u6301raster graphics</li> <li>\u4ec5\u652f\u6301vector graphics</li> <li>\u652f\u6301\u4ee5\u4e0a\u4e24\u8005</li> </ol> <p>\u4ea4\u4e92\u5f0f\u540e\u7aef\u548c\u975e\u4ea4\u4e92\u540e\u7aef\u5efa\u7acb\u5728\u4e00\u4e9b\u6838\u5fc3\u7684\u62bd\u8c61\u4e4b\u4e0a\uff0c\u8fd9\u4e9b\u57fa\u7c7b\u5982\u4e0b\u3002\u5bf9\u4e8e\u4e0d\u540c\u7684\u540e\u7aef\uff0c\u8fd9\u4e9b\u57fa\u7c7b\u6709\u4e0d\u540c\u7684\u5177\u4f53\u5b9e\u73b0\u3002</p> <ul> <li><code>FigureCanvasBase</code> and <code>FigureManagerBase</code></li> <li><code>RendererBase</code> and <code>GraphicsContextBase</code></li> <li><code>Event</code>, <code>ShowBase</code>, and <code>Timer</code></li> </ul>"},{"location":"Python3/Matplotlib/10.1.%E6%9E%B6%E6%9E%84.html#figurecanvas","title":"<code>FigureCanvas</code>","text":"<p><code>FigureCanvasBase</code>\u662f User interface backend \u548c Hardcopy backend \u90fd\u4f7f\u7528\u7684\u57fa\u7c7b\uff0c\u5b83\u8868\u793a\u7528\u4e8e\u5448\u73b0\u56fe\u5f62\u7684\u753b\u5e03\u3002\u5176\u804c\u8d23\u5305\u62ec\uff1a</p> <ol> <li> <p>\u6301\u6709Figure\u7684\u5f15\u7528</p> </li> <li> <p>\u4f7f\u7528Figure\u66f4\u65b0\u753b\u5e03</p> </li> <li> <p>\u5b9a\u4e49\u8fd0\u884c\u65f6\u5c06\u88ab\u6ce8\u518c\u7684\u4e8b\u4ef6\u65b9\u6cd5</p> </li> <li> <p>\u5c06\u539f\u751fbackend\u7684\u4e8b\u4ef6\u8f6c\u6362\u4e3a matplotlib \u4e8b\u4ef6\u62bd\u8c61\u6846\u67b6 </p> </li> <li> <p>\u5b9a\u4e49\u7ed8\u5236\u65b9\u6cd5\u7528\u4e8e\u6e32\u67d3\u56fe\u5f62 </p> </li> <li> <p>\u542f\u52a8\u548c\u505c\u6b62\u975e GUI \u4e8b\u4ef6\u5faa\u73af\u7684\u65b9\u6cd5</p> </li> </ol> <p>\u4f7f\u7528 Hardcopy backend \u65f6\uff0c<code>FigureCanvasBase</code> \u53ef\u4ee5\u6ce8\u518c\u540e\u7aef\u652f\u6301\u7684\u56fe\u7247\u6587\u4ef6\u7c7b\u578b\u3002\u5f53\u4f7f\u7528interface backends\u65f6\uff0c<code>FigureCanvasBase</code> \u63d0\u4f9b\u5c06\u753b\u5e03\u63d2\u5165backend \u7a97\u53e3\u7684\u65b9\u6cd5\u3002</p> <p>\u5728 pyplot \u6a21\u5f0f\u4e0b\u8fd0\u884c\u65f6\uff0cmatplotlib \u4f1a\u4f7f\u7528 <code>FigureManagerBase</code> \u7c7b\u3002\u8be5\u7c7b\u5305\u88c5\u4e86<code>FigureCanvasBase</code> \u7c7b\u4ee5\u53ca\u5404\u79cd GUI backend \u7684\u65b9\u6cd5\uff0c\u4ee5\u4fbf\u66f4\u8f7b\u677e\u5730\u5448\u73b0\u56fe\u5f62\u548c\u63a5\u53e3\u3002</p>"},{"location":"Python3/Matplotlib/10.1.%E6%9E%B6%E6%9E%84.html#renderer","title":"<code>Renderer</code>","text":"<p>\u5728 matplotlib \u4e2d\uff0crenderer \u7684\u5de5\u4f5c\u662f\u63d0\u4f9b\u4e00\u4e2a\u5e95\u5c42\u7684\u7ed8\u56fe\u63a5\u53e3\uff0c\u7528\u4e8e\u5728\u753b\u5e03\u4e0a\u6dfb\u52a0\u58a8\u6c34\u3002</p> <p>\u5982\u4e0a\u6240\u8ff0\uff0c\u539f\u59cb matplotlib \u5e94\u7528\u7a0b\u5e8f\u662f GTK+ \u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684 ECoG \u67e5\u770b\u5668\uff0c\u56e0\u6b64\uff0c\u539f\u59cb\u8bbe\u8ba1\u7684\u5927\u90e8\u5206\u7075\u611f\u6765\u81ea\u5f53\u65f6\u53ef\u7528\u7684 gdk/GTK+ API\u3002\u539f\u59cb\u7684 renderer API \u662f\u53d7 GDK Drawable \u63a5\u53e3\u7684\u542f\u53d1\uff0c\u5b83\u5b9e\u73b0\u4e86\u7ed8\u5236\u70b9\u3001\u7ed8\u5236\u7ebf\u3001\u7ed8\u5236\u77e9\u5f62\u3001\u7ed8\u5236\u56fe\u50cf\u3001\u7ed8\u5236\u591a\u8fb9\u5f62\u548c\u7ed8\u5236\u5b57\u5f62\u7b49\u57fa\u672c\u65b9\u6cd5\u3002\u4e00\u5f00\u59cb\uff0cMatplotlib \u4e3a\u6bcf\u4e2a\u989d\u5916\u7684\u540e\u7aef (\u6700\u65e9\u7684\u662f PostScript \u540e\u7aef\u548c GD \u540e\u7aef) \u90fd\u5b9e\u73b0\u4e86 GDK Drawable API\uff0c\u5e76\u5c06\u5b83\u4eec\u8f6c\u6362\u4e3a\u4e0e\u540e\u7aef\u76f8\u5173\u7684\u672c\u5730\u7ed8\u56fe\u547d\u4ee4\u3002\u8fd9\u590d\u6742\u5316\u4e86\u65b0\u540e\u7aef\u7684\u5b9e\u73b0\uff0c\u540e\u9762\u8fd9\u4e2a API \u968f\u540e\u88ab\u7b80\u5316\u4e86\uff0c\u8fd9\u4f7f\u5f97\u5c06 matplotlib \u79fb\u690d\u5230\u4e00\u4e2a\u65b0\u7684\u7528\u6237\u754c\u9762\u5de5\u5177\u5305\u6216\u6587\u4ef6\u89c4\u8303\u7684\u8fc7\u7a0b\u66f4\u52a0\u7b80\u5355\u3002\u901a\u8fc7\u8fd9\u79cd\u62bd\u8c61\uff0cMatplotlib \u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u5e73\u53f0\u6e32\u67d3\u56fe\u50cf\u6216\u8f93\u51fa\u56fe\u50cf\u6587\u4ef6\u3002</p> <p>\u6b64\u5916\uff0c\u8bb8\u591a\u6e32\u67d3\u64cd\u4f5c\u90fd\u4ea4\u7ed9\u4e86\u4e00\u4e2a\u989d\u5916\u7684\u62bd\u8c61\u2014\u2014<code>GraphicsContextBase</code>\u3002\u6b64\u62bd\u8c61\u4e3a\u5904\u7406\u989c\u8272\u3001\u7ebf\u6761\u6837\u5f0f\u3001\u5256\u9762\u7ebf\u6837\u5f0f\u3001\u6df7\u5408\u5c5e\u6027\u548c\u53cd\u952f\u8272\u9009\u9879\u7b49\u7684\u4ee3\u7801\u63d0\u4f9b\u4e86\u5e72\u51c0\u7684\u5206\u9694\u3002</p> <p>Matplotlib \u7684\u4e00\u4e2a\u5f88\u597d\u7684\u8bbe\u8ba1\u51b3\u7b56\u662f\u4f7f\u7528C++ \u6a21\u677f\u5e93 Anti Grain Geometry \u6216 agg \u7684\u57fa\u4e8e\u6838\u5fc3\u50cf\u7d20\u7684 renderer\uff0c\u4ece\u800c\u5b9e\u73b0\u4e0d\u540c\u5e73\u53f0\u4e4b\u95f4\u56fe\u50cf\u7684\u4e00\u81f4\u6027\u3002\u8fd9\u662f\u4e00\u4e2a\u7528\u4e8e\u6e32\u67d3\u6297\u952f\u9f7f\u76842D \u56fe\u5f62\u7684\u9ad8\u6027\u80fd\u5e93\uff0c\u53ef\u4ee5\u751f\u6210\u6709\u5438\u5f15\u529b\u7684\u56fe\u50cf\u3002Matplotlib \u652f\u6301\u5c06 agg \u540e\u7aef\u5448\u73b0\u7684\u50cf\u7d20\u7f13\u51b2\u63d2\u5165\u5230\u5176\u6240\u652f\u6301\u7684\u6bcf\u4e2a\u7528\u6237\u754c\u9762\u5de5\u5177\u5305\u4e2d\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u8de8 UI \u548c\u64cd\u4f5c\u7cfb\u7edf\u83b7\u5f97\u50cf\u7d20\u7cbe\u786e\u7684\u56fe\u5f62\u3002\u56e0\u4e3a\u8f93\u51faPNG\u65f6\uff0cMatplotlib \u4e5f\u4f7f\u7528 agg \u6e32\u67d3\u5668\uff0c\u6240\u4ee5\u786c\u62f7\u8d1d\u548c\u5c4f\u5e55\u663e\u793a\u7684\u6548\u679c\u662f\u4e00\u6837\u7684\uff0c\u56e0\u6b64\u4f60\u6240\u770b\u5230\u7684\u5c31\u662f\u4ece\u7528\u6237\u754c\u9762\u3001\u64cd\u4f5c\u7cfb\u7edf\u548c PNG \u8f93\u51fa\u4e2d\u83b7\u5f97\u7684\u56fe\u50cf\u3002</p>"},{"location":"Python3/Matplotlib/10.1.%E6%9E%B6%E6%9E%84.html#event","title":"<code>Event</code>","text":"<p>Matplotlib \u540e\u7aef\u8fd8\u6709\u4e00\u4e9b\u903b\u8f91\u4e0e\u4e8b\u4ef6\u3001\u4e8b\u4ef6\u5faa\u73af\u548c\u8ba1\u65f6\u6709\u5173\u3002\u8fd9\u4e9b\u903b\u8f91\u5206\u522b\u901a\u8fc7\u4e09\u4e2a\u57fa\u7c7b\uff08\u53ca\u5176\u6d3e\u751f\u7c7b\uff09\u5b9e\u73b0\uff1a</p> <ol> <li><code>Event</code>\uff1a\u8fd9\u662f <code>DrawEvent</code>\u3001<code>MouseEvent</code> \u548c <code>KeyEvent</code> \u7b49\u7684\u57fa\u7c7b</li> <li><code>ShowBase</code>\uff1a\u8fd9\u662f GUI \u540e\u7aef\u7684\u6a21\u5757\u7ea7\u522b\u7684\u5b50\u7c7b</li> <li><code>TimerBase</code>\uff1a\u8fd9\u662f<code>TimerQT</code>\u3001<code>TimerGTK3</code>\u548c<code>TimerWx</code>\u7684\u57fa\u7c7b</li> </ol> <p>Matplotlib Event \u6846\u67b6\u5c06\u8bf8\u5982 key-press-Event \u6216 mouse-motion-Event \u4e4b\u7c7b\u7684 UI \u4e8b\u4ef6\u6620\u5c04\u5230 matplotlib \u7c7b <code>KeyEvent</code> \u6216 <code>MouseEvent</code>\u3002\u7528\u6237\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u4e8b\u4ef6\u8fde\u63a5\u5230\u56de\u8c03\u51fd\u6570\uff0c\u5e76\u4e0e\u56fe\u5f62\u548c\u6570\u636e\u8fdb\u884c\u4ea4\u4e92\uff08\u4f8b\u5982\uff0c\u5728Event\u53d1\u751f\u540e\uff0c\u81ea\u52a8\u9009\u62e9\u4e00\u4e2a\u6570\u636e\u70b9\u6216\u4e00\u7ec4\u70b9\uff0c\u6216\u64cd\u4f5c\u56fe\u5f62\u67d0\u90e8\u5206\uff09\u3002</p> <p>Matplotlib Event\u6846\u67b6\u5bf9\u5404\u4e2d\u5e95\u5c42 UI \u5de5\u5177\u5305\u7684\u4e8b\u4ef6\u6846\u67b6\u8fdb\u884c\u4e86\u62bd\u8c61\uff0c\u8fd9\u5141\u8bb8 matplotlib \u5f00\u53d1\u4eba\u5458\u548c\u6700\u7ec8\u7528\u6237\u4ee5 \u201cwrite once run everywhere\u201d \u7684\u65b9\u5f0f\u7f16\u5199 UI \u4e8b\u4ef6\u5904\u7406\u4ee3\u7801\u3002\u4f8b\u5982\uff0c\u56fe\u5f62\u5728\u6240\u6709\u7528\u6237\u754c\u9762\u5de5\u5177\u5305\u4e2d\u7684\u4ea4\u4e92\u5f0f\u5e73\u79fb\u548c\u7f29\u653e\uff0c\u90fd\u53ef\u4ee5\u5728 matplotlib \u4e8b\u4ef6\u6846\u67b6\u4e2d\u5b9e\u73b0\u3002</p> Fig 2"},{"location":"Python3/Matplotlib/10.1.%E6%9E%B6%E6%9E%84.html#artist-layer","title":"Artist layer","text":"<p>matplotlib \u5927\u90e8\u5206\u4ee3\u7801\u90fd\u4f4d\u4e8eartist layer\u4e4b\u4e2d\uff0c\u5b9e\u9645\u4e0a\uff0c\u5927\u591a\u6570\u7e41\u7410\u7684\u5de5\u4f5c\u90fd\u5728\u6b64\u5c42\u5b8c\u6210\u3002\u4f4d\u4e8e artist layer \u7684 <code>Artist</code> \u5bf9\u8c61\u77e5\u9053\u5982\u4f55\u4f7f\u7528 <code>renderer</code> \u5728\u753b\u5e03 <code>FigureCanvas</code> \u4e0a\u7ed8\u5236\u56fe\u5f62\u3002 </p> <p><code>Artist</code> \u5bf9\u8c61\u548c backend layer \u4e4b\u95f4\u7684\u8026\u5408\u53d1\u751f\u5728 <code>draw</code> \u65b9\u6cd5\u4e2d\u3002\u4f8b\u5982\uff0c\u4e0b\u9762\u521b\u5efa\u4e86\u4e00\u4e2a\u6a21\u62df\u7c7b <code>SomeArtist</code>\uff0c\u5b83\u662f <code>Artist</code> \u7684\u5b50\u7c7b\uff0c<code>SomeArtist</code> \u5fc5\u987b\u5b9e\u73b0\u7684\u57fa\u672c\u65b9\u6cd5\u662f <code>draw</code>\uff0c <code>draw</code>\u65b9\u6cd5\u9700\u8981\u4e00\u4e2a\u53c2\u6570 <code>renderer</code>\uff0c\u8be5\u53c2\u6570\u7531 backend layer \u4f20\u8fc7\u6765\u3002<code>SomeArtist</code>\u4e0d\u77e5\u9053\u6e32\u67d3\u5668\u5c06\u5728\u540e\u7aef (PDF\u3001 SVG\u3001 GTK+ DrawingArea, etc.) \u7ed8\u5236\u56fe\u50cf\uff0c\u4f46\u5b83\u77e5\u9053\u6e32\u67d3\u5668\u7684 API\uff0c\u5e76\u4f1a\u8c03\u7528\u9002\u5f53\u7684API (<code>draw_text</code> \u6216 <code>draw_path</code>)\u3002\u7531\u4e8e\u6e32\u67d3\u5668\u6709\u4e00\u4e2a\u6307\u5411\u753b\u5e03\u7684\u6307\u9488\uff0c\u5e76\u4e14\u77e5\u9053\u5982\u4f55\u5728\u753b\u5e03\u4e0a\u7ed8\u5236\uff0c\u6240\u4ee5 <code>draw</code>\u65b9\u6cd5\u5c06 <code>Artist</code>\u7684\u62bd\u8c61\u8868\u793a\u8f6c\u6362\u4e3a\u50cf\u7d20\u7f13\u51b2\u533a\u4e2d\u7684\u989c\u8272\u3001 SVG \u6587\u4ef6\u4e2d\u7684\u8def\u5f84\u6216\u8005\u5176\u4ed6\u4efb\u4f55\u5177\u4f53\u8868\u793a\u3002</p> <pre><code>class SomeArtist(Artist):\n    'An example Artist that implements the draw method'\n\n    def draw(self, renderer):\n\"\"\"Call the appropriate renderer methods to paint self onto canvas\"\"\"\n        if not self.get_visible():  return\n\n        # create some objects and use renderer to draw self here\n        renderer.draw_path(graphics_context, path, transform)\n</code></pre> <p><code>Figure</code>\u4e2d\u6240\u6709\u53ef\u89c6\u7684\u7ec4\u4ef6\uff08\u4f8b\u5982 lines\u3001shapes\u3001axes\u3001text\u7b49\u7b49\uff09\u90fd\u662f  <code>Artist</code> \u6d3e\u751f\u7c7b\u7684\u5b9e\u4f8b\u3002\u56fe3\u662f\u4e00\u4e2a<code>Figure</code>\u7684\u793a\u610f\u56fe\u3002</p> <p><code>Artist</code> \u57fa\u7c7b\u5305\u542b\u4e86\u6240\u6709 artist \u5171\u4eab\u7684\u5c5e\u6027\uff1a</p> <ul> <li>canvas \u548c artist \u5750\u6807\u7cfb\u7edf\u4e4b\u95f4\u7684\u8f6c\u6362</li> <li>\u53ef\u89c6\u5316</li> <li>\u5b9a\u4e49 artist \u53ef\u7ed8\u5236\u533a\u57df\u7684\u526a\u8f91\u6846</li> <li>\u6807\u7b7e (Labels)</li> <li>\u7528\u4e8e\u5904\u7406\u7528\u6237\u4ea4\u4e92\u4e8b\u4ef6\u7684\u56de\u8c03\u6ce8\u518c\u5b9e\u4f8b\uff08\u6bd4\u5982\uff0c\u9f20\u6807\u5728 artist \u4e0a\u70b9\u51fb\u3001\u6311\u9009\u67d0\u4e9b artist \u7b49\u7b49\uff09</li> </ul>"},{"location":"Python3/Matplotlib/10.1.%E6%9E%B6%E6%9E%84.html#primitives-containers","title":"Primitives &amp; Containers","text":"<p><code>Artist</code> \u5b50\u7c7b\u53ef\u5206\u4e3a\u4e24\u79cd\uff1aPrimitives \u548c Containers\u3002 Primitives \u662f\u57fa\u672c\u7684\u56fe\u5f62\u5bf9\u8c61\uff0cContainers \u7531\u591a\u4e2a Primitives \u5bf9\u8c61\u7ec4\u6210\u3002\u5b83\u4eec\u5206\u522b\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> Primitives Containers (Composite artists) <code>Line2D</code> <code>Figure</code> Shape (patch) class\uff0ce.g. <code>Rectangle</code>, <code>Polygon</code>, <code>Ellipse</code>, <code>Circle</code>, <code>ArcText</code>, <code>Annotation</code>, <code>TextPath</code> <code>XAxis</code> and <code>YAxis</code> <code>AxesImage</code> and <code>FigureImage</code> <code>Axes</code>, <code>PolarAxes</code>, <code>HammerAxes</code>, <code>MollweideAxes</code>, and <code>LambertAxes</code> <code>Subplot</code> Fig 3: A Figure  <p>\u5404\u4e2a Aritist \u5bf9\u8c61\u4ece\u5c5e\u5173\u7cfb</p> Fig 4: The hierarchy of artist instances used to draw  <p>\u901a\u5e38\u6765\u8bf4\uff0c\u5b9e\u4f8b\u5316\u4e00\u4e2a <code>Figure</code> \u5bf9\u8c61\u5e76\u5c06\u5176\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u6216\u591a\u4e2a <code>Axes</code> \u6216 <code>Subplot</code> \u5b9e\u4f8b\u3002<code>Axe</code> \u548c <code>Subplot</code> \u5c06\u6839\u636e\u9700\u8981\u521b\u5efa Primitive \u5bf9\u8c61\uff0c\u56e0\u6b64\u7528\u6237\u4e0d\u5fc5\u624b\u52a8\u8ddf\u8e2a Primitive \u5bf9\u8c61\u7684\u521b\u5efa\uff0c\u5e76\u5c06\u5176\u50a8\u5b58\u5230\u76f8\u5e94\u7684\u5bb9\u5668\u4e2d\u3002</p> <p>\u5728\u6240\u6709 Containers \u4e2d\uff0c<code>Axes</code>\u7c7b\u662f\u6700\u91cd\u8981\u7684\u7c7b\u4e4b\u4e00\uff0c\u56e0\u4e3a <code>Axes</code>\u5b9e\u4f8b\u662f\u5927\u591a\u6570 matplotlib \u5bf9\u8c61\u7684\u76ee\u7684\u5730\uff08Primitives \u548c\u5176\u4ed6 Containers\uff09\uff0c\u5e76\u4e14\u5305\u542b\u8bb8\u591a\u8f85\u52a9\u65b9\u6cd5\u7528\u4e8e\u521b\u5efa Primitive Artist \u5e76\u5c06\u5b83\u4eec\u6dfb\u52a0\u5230 <code>Axes</code> \u5b9e\u4f8b\u4e4b\u4e2d\u3002</p> <p>\u9664\u4e86\u521b\u5efa Primitive \u4e4b\u5916\uff0c<code>Axes</code> \u548c <code>Subplot</code> \u8fd8\u5305\u542b\u4e86\u51c6\u5907 Primitive \u6240\u9700\u6570\u636e\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e9b\u6570\u636e\u5728\u521b\u5efaPrimitive\u65f6\u4f7f\u7528\u3002<code>Axes</code> \u548c <code>Subplot</code> \u4f1a\u5c06\u8fd9\u4e9b\u6570\u636e\u50a8\u5b58\u5230\u5bf9\u5e94\u7684\u5bb9\u5668\u4e2d\u3002\u6b64\u5916\uff0c<code>Axes</code> \u5bf9\u8c61\u4e3a Figure \u8bbe\u7f6e\u4e86\u5750\u6807\u7cfb\uff0c\u5e76\u8ddf\u8e2a\u53ef\u4ee5\u8fde\u63a5\u5230<code>xlim_changed</code>\u548c<code>ylim_changed</code>\u4e8b\u4ef6\u7684\u56de\u8c03\u3002\u56de\u8c03\u5728\u8c03\u7528\u65f6\u5c06 <code>Axes</code>\u5b9e\u4f8b\u4f5c\u4e3a\u53c2\u6570\u3002</p>"},{"location":"Python3/Matplotlib/10.1.%E6%9E%B6%E6%9E%84.html#collections","title":"Collections","text":"<p>artist layer \u7684\u53e6\u4e00\u4e2a\u7ec4\u4ef6\u662f <code>Collections</code>\u3002\u4f7f\u7528 <code>Collections</code> \u7c7b\u53ef\u4ee5\u9ad8\u6548\u5730\u7ed8\u5236\u5927\u91cf\u7c7b\u4f3c\u5bf9\u8c61\u3002\u4f8b\u5982\uff0c\u9700\u8981\u521b\u5efa\u6570\u4e07\u7684 <code>circles</code>, <code>polygons</code>, <code>lines</code>\u7b49\u5bf9\u8c61\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u5c06\u8fd9\u4e9b\u5706\u5708\u3001\u591a\u8fb9\u5f62\u3001\u7ebf\u7b49\u653e\u5165 <code>Collections</code> \u4e2d\uff0c\u53ef\u4ee5\u83b7\u5f97\u66f4\u597d\u7684\u6027\u80fd\u3002\u53ef\u7528\u7684\u7c7b\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e<code>PathCollection</code>\uff0c<code>CircleCollection</code>\uff0c<code>PolyCollection</code>\uff0c<code>EllipseCollection</code>\uff0c<code>LineCollection</code>\u548c<code>EventCollection</code>\u3002</p> Fig 5  <p>\u60a8\u53ef\u80fd\u4f1a\u6ce8\u610f\u5230\uff0c\u57fa\u7c7b\u53ef\u80fd\u81ea\u76f8\u77db\u76fe\u5730\u5305\u542b\u7236\u7c7b\u3002\u8fd9\u771f\u7684\u53ea\u662f\u5bf9\u5728\u521b\u5efa\u57fa\u7c7b\u65f6\u901a\u5e38\u521b\u5efa\u7684\u7236\u7c7b\u7684\u5f15\u7528\u3002\u5728\u8c03\u67e5 matplotlib \u5185\u90e8\u65f6\uff0c\u8bf7\u8bb0\u4f4f\u8fd9\u4e00\u70b9\u975e\u5e38\u6709\u7528\u3002 \u4e0e\u903b\u8f91\u540e\u7aef\u56fe\u4e00\u6837\uff0cmatplotlib \u5185\u90e8\u4e0d\u662f\u8981\u5168\u9762\u7684\u3002\u7136\u800c\uff0c\u5b83\u7684\u76ee\u7684\u662f\u4e3a\u89c6\u89c9\u5bfc\u5411\u7684\u89c6\u89c9\u5bfc\u5411\uff0c\u5f53\u601d\u8003\u5982\u4f55\u7ed3\u5408\u4f4d\u5728\u4e00\u8d77\u7684\u6982\u5ff5\u5e2e\u52a9\u3002 \u6709\u4e86\u8fd9\u4e2a\uff0c\u6211\u4eec\u88ab\u5e26\u5230\u4e86 matplotlib \u67b6\u6784\u7684\u6700\u540e\u4e00\u5c42\u3002</p>"},{"location":"Python3/Matplotlib/10.1.%E6%9E%B6%E6%9E%84.html#scripting-layer","title":"Scripting layer","text":"<p>\u5bf9\u4e8e\u7a0b\u5e8f\u5458\u6765\u8bf4\uff0c\u5728\u7f16\u5199 web \u5e94\u7528\u670d\u52a1\u5668\u3001UI \u5e94\u7528\u7a0b\u5e8f\u6216\u8005\u4e0e\u5176\u4ed6\u5f00\u53d1\u4eba\u5458\u5171\u4eab\u7684\u811a\u672c\u65f6\uff0cbackend layer \u548c artist layer \u7684 API \u662f\u5408\u9002\u7f16\u7a0b\u8303\u578b\u3002\u4f46\u5bf9\u4e8e\u65e5\u5e38\u7528\u9014\uff0c\u7279\u522b\u662f\u5bf9\u4e8e\u5b9e\u9a8c\u5ba4\u79d1\u5b66\u5bb6\u3001\u6570\u636e\u79d1\u5b66\u5bb6\uff08\u975e\u4e13\u4e1a\u7a0b\u5e8f\u5458\uff09\u7684\u4ea4\u4e92\u5f0f\u63a2\u7d22\u6027\u5de5\u4f5c\u6765\u8bf4\uff0c\u8fd9\u4e9b API \u5728\u8bed\u6cd5\u4e0a\u6709\u70b9\u7e41\u91cd\u3002\u5927\u591a\u6570\u7528\u4e8e\u6570\u636e\u5206\u6790\u548c\u53ef\u89c6\u5316\u7684\u7279\u6b8a\u7528\u9014\u8bed\u8a00\u90fd\u63d0\u4f9b\u4e86\u4e00\u4e2a\u66f4\u8f7b\u4fbf\u7684\u811a\u672c\u63a5\u53e3\uff0c\u4ee5\u7b80\u5316\u5e38\u89c1\u4efb\u52a1\u3002Matplotlib \u5728\u5176 <code>matplotlib.pyplot</code> \u63a5\u53e3\u4e2d\u4e5f\u505a\u5230\u4e86\u8fd9\u4e00\u70b9\u3002</p> <p><code>pyplot</code> \u662f\u4e00\u4e2a\u6709\u72b6\u6001\u7684\u63a5\u53e3\uff0c\u5b83\u5904\u7406\u5927\u90e8\u5206\u6837\u677f\u6587\u4ef6\uff0c\u7528\u4e8e\u521b\u5efa\u56fe\u5f62\u548c\u8f74\uff0c\u5e76\u5c06\u5b83\u4eec\u8fde\u63a5\u5230\u60a8\u9009\u62e9\u7684\u540e\u7aef\uff0c\u5e76\u7ef4\u62a4\u8868\u793a\u5f53\u524d\u56fe\u5f62\u548c\u8f74\u7684\u6a21\u5757\u7ea7\u5185\u90e8\u6570\u636e\u7ed3\u6784\uff0c\u4ee5\u6307\u5bfc\u7ed8\u56fe\u547d\u4ee4\u3002</p> <ul> <li><code>pyplot</code>\u6a21\u5757\u88ab\u5bfc\u5165\u65f6\uff0c\u5b83\u5c06\u89e3\u6790\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u3002\u7528\u6237\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u660e\u9ed8\u8ba4\u7684\u540e\u7aef\u4ee5\u53ca\u5176\u4ed6\u8bbe\u7f6e\u3002\u5982\u679c\u662f\u50cf QtAgg \u8fd9\u6837\u7684\u7528\u6237\u754c\u9762\u540e\u7aef\uff0c<code>pyplot</code> \u811a\u672c\u5c06\u5bfc\u5165 GUI \u6846\u67b6\u5e76\u542f\u52a8\u4e00\u4e2a\u53ef\u5d4c\u5165\u7ed8\u56fe\u7684 Qt \u7a97\u53e3\u3002\u5982\u679c\u662f\u50cf Agg \u7684\u7eaf\u56fe\u50cf\u540e\u7aef\uff0c<code>pyplot</code>\u811a\u672c\u5c06\u751f\u6210 hard-copy \u7136\u540e\u9000\u51fa\u3002</li> <li> <p>\u9009\u62e9\u540e\u7aef\u540e\uff0c<code>pyplot</code> \u8c03\u7528\u4e00\u4e2a setup \u51fd\u6570\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ul> <li> <p>\u521b\u5efa figure \u7ba1\u7406\u5de5\u5382\u51fd\u6570\uff0c\u8c03\u7528\u8be5\u51fd\u6570\u65f6\u5c06\u521b\u5efa\u9002\u5408\u6240\u9009\u540e\u7aef\u7684\u65b0 figure \u7ba1\u7406\u5668</p> </li> <li> <p>\u51c6\u5907\u4e0e\u6240\u9009\u540e\u7aef\u5339\u914d\u7684\u7ed8\u56fe\u51fd\u6570</p> <p>e.g. <code>plot</code>, <code>gca</code>, <code>savefig</code>, etc. \u8fd9\u4e9b\u662f\u901a\u8fc7<code>pyploy</code>\u63a5\u53e3\u76f4\u63a5\u8c03\u7528\u7684\u51fd\u6570\uff0c\u5177\u4f53\u53ef\u4ee5\u8c03\u7528\u4ec0\u4e48\u51fd\u6570\u9700\u8981\u8003\u8651\u662f\u4ea4\u4e92\u5f0f\u540e\u7aef\u8fd8\u662f\u975e\u4ea4\u4e92\u540e\u7aef\uff0c\u8fd9\u53d6\u51b3\u4e8e setup \u51fd\u6570\u8fd4\u56de\u7684\u7ed3\u679c\u3002</p> </li> <li> <p>\u6807\u8bc6\u4e0e\u540e\u7aef <code>mainloop</code> \u51fd\u6570\u96c6\u6210\u7684\u53ef\u8c03\u7528\u51fd\u6570</p> </li> <li> <p>\u4e3a\u6240\u9009\u540e\u7aef\u63d0\u4f9b\u6a21\u5757</p> </li> <li>\u5f53\u6267\u884c\u7ed8\u56fe\u547d\u4ee4\u65f6\uff08e.g. <code>plot.plot()</code>, <code>plt.hist()</code>, <code>plt.title()</code>, etc.\uff09\uff0c<code>pyplot</code> \u5c06\u68c0\u67e5\u5176\u5185\u90e8\u6570\u636e\u7ed3\u6784\uff0c\u4ee5\u67e5\u770b\u5f53\u524d\u662f\u5426\u5b58\u5728 <code>Figure</code> \u5b9e\u4f8b\u3002\u5982\u679c\u5b58\u5728\uff0c\u5b83\u5c06\u63d0\u53d6\u5f53\u524d\u7684 <code>Axes</code> \u5b9e\u4f8b\uff0c\u5e76\u8c03\u7528 <code>Axes.plot</code> \u6216 <code>Axes.hist</code> \u4e4b\u7c7b\u7684API\u8fdb\u884c\u7ed8\u56fe\u3002\u5982\u679c\u5f53\u524d\u4e0d\u5b58\u5728 <code>Figure</code> \u5b9e\u4f8b\uff0c\u5b83\u5c06\u521b\u5efa\u4e00\u4e2a  <code>Figure</code> \u5b9e\u4f8b \u548c  <code>Axes</code> \u5b9e\u4f8b\uff0c\u5e76\u5c06\u5b83\u4eec\u8bbe\u7f6e\u4e3a current\uff0c\u7136\u540e\u8c03\u7528 <code>Axes</code> \u7684API\u3002</li> <li>\u5f53\u6267\u884c <code>plt.show()</code> \u547d\u4ee4\u65f6\uff0c\u8fd9\u5c06\u5f3a\u5236\u6e32\u67d3 <code>Figure</code>\uff0c\u5982\u679c\u7528\u6237\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u4e86\u9ed8\u8ba4\u7684 GUI \u540e\u7aef\uff0c\u5c06\u542f\u52a8 GUI mainloop\uff0c\u5e76\u5c06\u6240\u6709\u56fe\u5f62\u521b\u5efa\u5230\u5c4f\u5e55\u3002</li> </ul> </li> </ul> <p>\u4e0b\u9762\u663e\u793a\u4e86 <code>pyplot</code>\u7ecf\u5e38\u4f7f\u7528\u7684 Line \u7ed8\u5236\u51fd\u6570 <code>matplotlib.pyplot.plot</code> \u7684\u7b80\u5316\u7248\u672c\uff0c\u8fd9\u76f4\u89c2\u5730\u8bf4\u660e  <code>matplotlib.pyplot.plot</code> \u51fd\u6570\u5982\u4f55\u5728 matplotlib \u4e2d\u5c01\u88c5\u5bf9\u8c61\u548c\u529f\u80fd\u3002\u6240\u6709\u5176\u4ed6 <code>pyplot</code>\u811a\u672c\u63a5\u53e3\u529f\u80fd\u90fd\u9075\u5faa\u76f8\u540c\u7684\u8bbe\u8ba1\u3002</p> <pre><code>@autogen_docstring(Axes.plot)\ndef plot(*args, **kwargs):\n    ax = gca()\n\n    ret = ax.plot(*args, **kwargs)\n    draw_if_interactive()\n\n    return ret\n</code></pre> Fig 6"},{"location":"Python3/Matplotlib/10.1.%E6%9E%B6%E6%9E%84.html#math-text","title":"Math Text","text":"<p>\u7531\u4e8e Matplotlib \u7684\u7528\u6237\u901a\u5e38\u5177\u6709\u79d1\u5b66\u80cc\u666f\uff0c\u6240\u4ee5\u76f4\u63a5\u5728\u56fe\u4e0a\u653e\u7f6e\u683c\u5f0f\u4e30\u5bcc\u7684\u6570\u5b66\u8868\u8fbe\u5f0f\u662f\u5f88\u6709\u7528\u7684\u3002\u6765\u81ea\u8ba1\u7b97\u673a\u79d1\u5b66\u5bb6 Donald Knuth \u6559\u6388\u7684 $\\TeX$ \u6392\u7248\u7cfb\u7edf\u53ef\u80fd\u662f\u6700\u6d41\u884c\u7684\u6570\u5b66\u6392\u7248\u7cfb\u7edf\uff0c\u56e0\u6b64 Matplotlib \u4e5f\u4f7f\u7528 $\\TeX$ \u8bed\u6cd5\u6765\u8f93\u5165\u516c\u5f0f\u3002</p> <p>Matplotlib \u63d0\u4f9b\u4e86\u4e24\u79cd\u6e32\u67d3\u6570\u5b66\u516c\u5f0f\u7684\u65b9\u6cd5\u3002\u7b2c\u4e00\u4e2a\u662f <code>usetex</code>\uff0c\u5b83\u4f7f\u7528\u7528\u6237\u8ba1\u7b97\u673a\u4e2d\u7684\u5b8c\u6574 TeX \u5f15\u64ce\u6765\u6e32\u67d3\u6570\u5b66\u516c\u5f0f\u3002TeX \u4ee5\u5176\u539f\u59cb\u7684 DVI \uff08\u4e0e\u8bbe\u5907\u65e0\u5173\uff09\u683c\u5f0f\u8f93\u51fa\u516c\u5f0f\u4e2d\u5b57\u7b26\u548c\u884c\u7684\u4f4d\u7f6e\u3002\u7136\u540e  Matplotlib \u89e3\u6790 DVI \u6587\u4ef6\u5e76\u5c06\u5176\u8f6c\u6362\u4e3a\uff08\u7528\u4e8e\u8f93\u51fa\u7684\uff09\u540e\u7aef\u7684\u4e00\u7ec4\u7ed8\u56fe\u547d\u4ee4\uff0c\u7136\u540e\u76f4\u63a5\u6e32\u67d3\u5728\u56fe\u7247\u4e0a\u3002\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5904\u7406\u5927\u91cf\u6666\u6da9\u7684\u6570\u5b66\u516c\u5f0f\u8bed\u6cd5\u3002\u4f46\u662f\uff0c\u5b83\u8981\u6c42\u7528\u6237\u5b8c\u6574\u5b89\u88c5\u4e00\u4e2a\u53ef\u7528\u7684 Tex \u7cfb\u7edf\u3002\u56e0\u6b64\uff0cMatplotlib \u4e5f\u63d0\u4f9b\u5b83\u5185\u90e8\u7684\u6570\u5b66\u6e32\u67d3\u5f15\u64ce\uff0c\u79f0\u4e3a <code>mathtext</code>\u3002<code>mathtext</code> \u662f TeX \u6570\u5b66\u6e32\u67d3\u5f15\u64ce\u7684\u76f4\u63a5\u63a5\u53e3\uff0c\u7531\u4e00\u4e2a\u66f4\u7b80\u5355\u7684\u89e3\u6790\u5668\u63d0\u4f9b\u3002\u8be5\u89e3\u6790\u5668\u4f7f\u7528 <code>pyparsing</code> [McG07] \u89e3\u6790\u6846\u67b6\u7f16\u5199\u3002</p> <p>\u8fd9\u4e2a\u63a5\u53e3\u662f\u57fa\u4e8e TeX \u6e90\u4ee3\u7801 [Knu86] \u7f16\u5199\u7684\u3002\u8fd9\u4e2a\u7b80\u5355\u7684\u89e3\u6790\u5668\u6784\u5efa\u4e00\u4e2a box \u548c glue\uff0c\u7136\u540e\u7531\u5e03\u5c40\u5f15\u64ce\u5e03\u5c40\u3002\u867d\u7136\u5305\u542b\u4e86\u5b8c\u6574\u7684 TeX \u6570\u5b66\u6e32\u67d3\u5f15\u64ce\uff0c\u4f46\u662f\u6ca1\u6709\u5305\u542b\u5927\u91cf\u7684\u7b2c\u4e09\u65b9 TeX \u548c LaTeX \u6570\u5b66\u5e93\u3002<code>mathtext</code> \u6839\u636e\u9700\u8981\u79fb\u690d\u8fd9\u4e9b\u6570\u5b66\u5e93\u7684\u7279\u6027\uff0c\u9996\u8981\u76ee\u6807\u662f\u79fb\u690d\u7ecf\u5e38\u4f7f\u7528\u7684\uff0c\u4f46\u975e\u7279\u5b9a\u5b66\u79d1\u7684\u7279\u6027\u3002\u8fd9\u662f\u4e00\u79cd\u975e\u5e38\u597d\u7684\u3001\u8f7b\u91cf\u7ea7\u7684\u65b9\u6cd5\u7528\u6765\u5448\u73b0\u5927\u90e8\u5206\u6570\u5b66\u516c\u5f0f\u3002</p>"},{"location":"Python3/Matplotlib/10.1.%E6%9E%B6%E6%9E%84.html#references","title":"References","text":"<ol> <li>Matplotlib - The Python 2D Plotting Library </li> <li>The Architecture of Open Source Applications Volume Il. Structure Scale and a Few More Fearless Hacks</li> <li>Hello Matplotlib\uff01</li> <li>Matplotlib 3-tiered architecture ( Class Diagram (UML))</li> <li>Convert Markdown to HTML</li> <li>\u8111\u79d1\u5b66\u535a\u58eb\u7533\u8bf7\u6307\u5357</li> <li>REST IN PEACE: JOHN HUNTER, MATPLOTLIB AUTHOR, FATHER HAS PASSED AWAY.</li> <li>History</li> <li>eht-imaging</li> <li>CASE STUDY: THE FIRST IMAGE OF A BLACK HOLE</li> <li>Matplotlib Tutorial</li> </ol>"},{"location":"Python3/Matplotlib/10.2.plot.html","title":"10.2.plot","text":""},{"location":"Python3/Matplotlib/10.2.plot.html#plot","title":"plot","text":""},{"location":"Python3/Matplotlib/10.2.plot.html#plot_1","title":"plot","text":"<code>plt.plot</code> - \u7ed8\u5236\u6298\u7ebf\u56fe\u6216\u6563\u70b9\u56fe<pre><code>plt.plot(args, scalex=True, scaley=True, data=None, kwargs)\n</code></pre> <p>Plot y versus x as lines and/or markers.</p> <p>\u4f7f\u7528\u683c\u5f0f\u5982\u4e0b\uff0c\u70b9\u6216\u7ebf\u6761\u7684\u5750\u6807\u7cfb\u7531 <code>x</code>\u3001<code>y</code> \u7ed9\u51fa\u3002\uff1a <pre><code>plot([x], y, [fmt], data=None, **kwargs)\nplot([x], y, [fmt], [x2], y2, [fmt2], ..., **kwargs)\n</code></pre></p> <ul> <li><code>fmt</code>\uff1a\u8be5\u53c2\u6570\u662f\u5b9a\u4e49 color\u3001marker\u3001linestyle \u7684\u4fbf\u6377\u65b9\u5f0f\uff0c\u5b83\u4f7f\u7528\u5b57\u7b26\u4e32\u4f5c\u4e3a\u503c\u3002\u4f8b\u5b50\u5982\u4e0b\uff1a <pre><code>plot(x, y, 'bo')  # plot x and y using blue circle markers\nplot(y, 'r+')     # ditto, but with red plusses\n</code></pre></li> </ul> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>.Line2D</code> \u5c5e\u6027\u4f5c\u4e3a\u5173\u952e\u5b57\u53c2\u6570\u6765\u66f4\u597d\u5730\u63a7\u5236\u5916\u89c2\u3002Line properties \u548c fmt \u53ef\u4ee5\u6df7\u5408\u4f7f\u7528\uff1a <pre><code>plot(x, y, 'go--', linewidth=2, markersize=12)\nplot(x, y, color='green', marker='o', linestyle='dashed',\n     linewidth=2, markersize=12)\n</code></pre></p> <p>Line properties \u4e0e fmt \u51b2\u7a81\u65f6\uff0c\u5173\u952e\u5b57\u53c2\u6570\u4f18\u5148\u3002</p> <ul> <li><code>color</code> / <code>c</code>\uff1astr\uff1b\u7ebf\u6761\u989c\u8272\u3002</li> <li><code>linestyle</code> / <code>ls</code>\uff1astr\uff1b\u7ebf\u6761\u6837\u5f0f\u3002</li> <li><code>linewidth</code> / <code>lw</code>\uff1afloat\uff1b\u7ebf\u6761\u5bbd\u5ea6\u3002</li> <li><code>alpha</code>\uff1afloat\uff1b0-1\u6bd4\u4f8b\u7684\u900f\u660e\u5ea6\u3002</li> <li><code>label</code>\uff1astr\uff1b\u56fe\u4f8b\u3002</li> <li><code>dash_capstyle</code>\uff1astr\uff1b['butt' | 'round' | 'projecting']\u3002\u865a\u7ebf\u7684\u7aef\u70b9\u6837\u5f0f\u3002</li> <li><code>dash_joinstyle</code>\uff1astr\uff1b['miter' | 'round' | 'bevel']\u3002\u865a\u7ebf\u7684\u8fde\u63a5\u6837\u5f0f\u3002</li> <li><code>solid_capstyle</code>\uff1astr\uff1b['butt' | 'round' |  'projecting']\u3002\u5b9e\u7ebf\u7684\u7aef\u70b9\u6837\u5f0f\u3002</li> <li> <p><code>solid_joinstyle</code>\uff1astr\uff1b['miter' | 'round' | 'bevel']\u3002\u5b9e\u7ebf\u7684\u8fde\u63a5\u6837\u5f0f\u3002</p> </li> <li> <p><code>marker</code>\uff1astr\uff1bmarker\u7684\u6837\u5f0f\u3002</p> </li> <li><code>markersize</code> / <code>ms</code>\uff1amarker\u7684\u5927\u5c0f\u3002</li> <li><code>fillstyle</code>\uff1astr\uff1b['full' | 'left' | 'right' | 'bottom' | 'top' | 'none']\u3002marker\u80cc\u666f\u8272\u7684\u586b\u5145\u4f4d\u7f6e\u3002</li> <li><code>markeredgecolor</code> / <code>mec</code>\uff1amarker\u7684\u80cc\u666f\u8fb9\u7f18\u989c\u8272\u3002</li> <li><code>markeredgewidth</code> / <code>mew</code>\uff1afloat\uff1bmarker\u7684\u5bbd\u5ea6\u3002</li> <li><code>markerfacecolor</code> / <code>mfc</code>\uff1amarker\u7684\u80cc\u666f\u586b\u5145\u533a\u57df\u7684\u989c\u8272\u3002</li> <li><code>markerfacecoloralt</code> / <code>mfcalt</code>\uff1amarker\u7684\u80cc\u666f\u975e\u586b\u5145\u533a\u57df\u7684\u989c\u8272\uff0c\u586b\u5145\u533a\u57df\u7531<code>fillstyle</code>\u51b3\u5b9a\u3002</li> <li><code>visible</code>\uff1abool\uff1bLine2D\u662f\u5426\u53ef\u89c1\u3002</li> </ul> <code>plt.scatter</code> - \u7ed8\u5236\u6563\u70b9\u56fe<pre><code>plt.scatter(x, y, s=None, c=None, marker=None, cmap=None, norm=None,\n            vmin=None, vmax=None, alpha=None, linewidths=None,\n            verts=&lt;deprecated parameter&gt;, edgecolors=None,\n            plotnonfinite=False, data=None, kwargs)\n</code></pre> <code>plt.xlabel</code> - \u8bbe\u7f6e X \u8f74\u6807\u7b7e<pre><code>plt.xlabel(xlabel, fontdict=None, labelpad=None, loc=None, kwargs)\n</code></pre> <ul> <li><code>loc</code> : {'left', 'center', 'right'}, default::rc:<code>xaxis.labellocation</code></li> </ul> <code>plt.ylabel</code> - \u8bbe\u7f6e Y \u8f74\u6807\u7b7e<pre><code>plt.ylabel(ylabel, fontdict=None, labelpad=None, loc=None, kwargs)\n</code></pre> <ul> <li><code>loc</code> : {'left', 'center', 'right'}, default::rc:<code>yaxis.labellocation</code></li> </ul> <code>plt.xlim</code> - \u8bbe\u7f6e/\u83b7\u53d6 X \u8f74\u8303\u56f4<pre><code>plt.xlim(*args, **kwargs)\n</code></pre> <p><code>xlim(left, right)</code>: set the xlim to left, right</p> <p><code>left, right = xlim()</code>: return the current xlim</p> <code>plt.ylim</code> - \u8bbe\u7f6e/\u83b7\u53d6 Y \u8f74\u8303\u56f4<pre><code>plt.ylim(*args, **kwargs)\n</code></pre> <p><code>ylim(bottom, top)</code>: set the ylim to bottom, top</p> <p><code>bottom, top = ylim()</code>: return the current ylim</p> <code>plt.xticks</code> - \u8bbe\u7f6e/\u83b7\u53d6 X \u8f74\u523b\u5ea6\u7684\u6807\u7b7e<pre><code>plt.xticks(ticks=None, labels=None, kwargs)\n</code></pre> <p><code>xticks(np.arange(3), ['Tom', 'Dick', 'Sue'], rotation=20)</code>: Set text labels and properties.</p> <p><code>xticks([])</code>: Disable xticks.</p> <p><code>locs, labels = xticks()</code>: Get the current locations and labels.</p> <code>plt.yticks</code> - \u8bbe\u7f6e/\u83b7\u53d6 Y \u8f74\u523b\u5ea6\u7684\u6807\u7b7e<pre><code>plt.yticks(ticks=None, labels=None, kwargs)\n</code></pre> <code>plt.legend</code> - \u8bbe\u7f6e\u56fe\u4f8b<pre><code>plt.legend(args, kwargs)\n</code></pre> <p>\u6240\u6709 Artist \u7c7b\u7684 label \u9ed8\u8ba4\u503c\u4e3a None\uff0c\u56e0\u6b64\u5728\u6ca1\u6709 label \u53c2\u6570\u7684\u60c5\u51b5\u4e0b\u8c03\u7528 \u201cAxes.legend\u201d \u4e0d\u7ed8\u5236\u4efb\u4f55\u56fe\u4f8b\u3002</p> <p>\u4f7f\u7528 <code>legend( )</code> \u6dfb\u52a0\u56fe\u4f8b\u6709\u4e09\u79cd\u65b9\u6cd5\uff1a</p> <ol> <li> <p>\u5982\u679c artist \u5bf9\u8c61\u5df2\u7ecf\u8bbe\u7f6e\u4e86 label \u5c5e\u6027\uff0c\u5219\u4f7f\u7528\u5df2\u6709\u7684 label\u3002\u53ef\u4ee5\u5728\u521b\u5efa artist \u5bf9\u8c61\u65f6\u5c31\u6307\u5b9a label\uff0c\u6216\u8005\u8c03\u7528 artist \u5bf9\u8c61\u7684\u65b9\u6cd5 <code>Artist.set_label</code> <pre><code>ine, = ax.plot([1, 2, 3], label='Inline label')\nax.legend()\n\n# Or\nline.set_label('Label via method')\nline, = ax.plot([1, 2, 3])\nax.legend()\n</code></pre></p> </li> <li> <p>\u53ea\u5728<code>legend</code> API \u6807\u8bb0\u73b0\u6709\u7684\u7ed8\u56fe\u5bf9\u8c61\uff0c\u53ea\u4f20\u5165 label\uff0c\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff08\u53ef\u80fd\u5bb9\u6613\u5f04\u9519\u56fe\u4f8b\u7684\u987a\u5e8f\uff09\uff0c <pre><code>ax.plot([1, 2, 3])\nax.legend(['A simple line'])\n\n# Or\nplt.plot(x1, y1, \"g1\", x2, y2, 'r1', x3, y3, \"k1\")\nplt.legend([\"1\",\"2\",\"3\"])\n</code></pre></p> </li> <li> <p>\u53ea\u5728<code>legend</code> API \u6807\u8bb0\u73b0\u6709\u7684\u7ed8\u56fe\u5bf9\u8c61\uff0c\u540c\u65f6\u4f20\u5165 iterable of artists \u548c iterable of labels\u3002 <pre><code>plt.legend((line1, line2, line3), ('label1', 'label2', 'label3'))\nplt.legend(handles=(line1, line2, line3), labels=('label1', 'label2', 'label3'))\n</code></pre></p> </li> </ol> <p>\u4e3b\u8981\u53c2\u6570\u6709\u4e09\u4e2a\uff1a<code>loc</code>\u3001<code>handles</code>\u3001<code>label</code>\u3002</p> <ul> <li> <p><code>loc</code>\uff1aint or string or pair of floats;default: 'upper right'. legeng\u7684\u4f4d\u7f6e\uff1b\u53ef\u7528\u503c\u5982\u4e0b\uff1a <pre><code>    Location String   Location Code   Note\n    ================================================\n    'best'               0           \u81ea\u52a8\u5206\u914d\u6700\u4f73\u4f4d\u7f6e\n    'upper right'        1\n    'upper left'         2\n    'lower left'         3\n    'lower right'        4\n    'right'              5\n    'center left'        6\n    'center right'       7\n    'lower center'       8\n    'upper center'       9\n    'center'             10\n</code></pre></p> </li> <li> <p><code>handles</code>\uff1a\u5305\u542b.Artist\u7c7b\u7684\u5bf9\u8c61\u7684\u5e8f\u5217\uff0c\u8be5\u53c2\u6570\u548c<code>labels</code>\u53c2\u6570\u4e00\u8d77\u4f7f\u7528\u6765\u63a7\u5236\u56fe\u4f8b<code>handle</code>\u7684\u957f\u5ea6\u548c<code>labels</code>\u7684\u957f\u5ea6\u5fc5\u987b\u4e00\u81f4\uff0c\u82e5\u4e0d\u4e00\u81f4\uff0c\u4f1a\u88ab\u622a\u4e3a\u8f83\u77ed\u7684\u3002</p> </li> <li> <p><code>label</code>\uff1a\u5b57\u7b26\u4e32\u7684\u5e8f\u5217\u3002</p> </li> </ul> <p>\u5176\u4ed6\u53c2\u6570\uff08\u4e0d\u662f\u6240\u6709\u7684 artist \u5bf9\u8c61\u90fd\u53ef\u4ee5\u7528 legend \u7684\u6240\u6709\u53c2\u6570\uff09</p> <ul> <li> <p><code>bbox_to_anchor</code>\uff1a<code>.BboxBase</code> or pair of floats. \u5728<code>bbox_transform</code>\u5750\u6807\u7cfb\uff08\u9ed8\u8ba4\u4e3aAxes coordinates\uff09\u4e2d\u6307\u5b9a\u56fe\u4f8b\u7684\u4efb\u610f\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c\u5c06\u539f\u672c\u653e\u5728\u53f3\u4e0a\u89d2\u7684\u56fe\u4f8b\u5c45\u4e2d\u4e8eaxes\uff1a<code>loc='upper right', bbox_to_anchor=(0.5, 0.5)</code></p> </li> <li> <p><code>bbox_transform</code>\uff1aNone or :class:<code>matplotlib.transforms.Transform</code>. \u8fb9\u754c\u6846\u7684\u53d8\u6362\uff08\u4e5f\u5c31\u662f<code>bbox_to_anchor</code>\u7684\u5750\u6807\u7cfb\uff09\u3002</p> </li> <li><code>ncol</code>\uff1ainteger. legend\u7684\u5217\u6570\uff0c\u9ed8\u8ba4\u4e3a1\u3002</li> <li><code>columnspacing</code>\uff1afloat or None. \u5217\u4e4b\u95f4\u7684\u95f4\u8ddd\u3002Measured in font-size units. \u5f53\u53c2\u6570<code>nol</code>\u4e0d\u7b49\u4e8e1\u65f6\u8d77\u4f5c\u7528\u3002</li> <li><code>prop</code>\uff1aNone or :class:<code>matplotlib.font_manager.FontProperties</code> or dict. legend\u7684\u5b57\u4f53\u5c5e\u6027\uff0c\u5982\u679c\u4e3aNone\uff08\u9ed8\u8ba4\uff09\uff0c\u5f53\u524d:data:<code>matplotlib.rcParams</code>\u4f1a\u88ab\u4f7f\u7528\u3002</li> <li><code>fontsize</code>\uff1aint or float or {'xx-small', 'x-small', 'small', 'medium', 'large', 'x-large', 'xx-large'}. \u63a7\u5236legend\u7684\u5b57\u4f53\u5927\u5c0f\u3002\u82e5\u4f7f\u7528\u6570\u503c\uff0c\u5219\u662f\u4ee5 point\u4e3a\u5355\u4f4d\u7684\u7edd\u5bf9\u5927\u5c0f\uff1b\u82e5\u4f7f\u7528 string\uff0c\u5219\u5b57\u4f53\u5927\u5c0f\u76f8\u5bf9\u4e8e\u5f53\u524d\u9ed8\u8ba4\u5b57\u4f53\u3002\u8be5\u53c2\u6570\u5728<code>prop</code>\u53c2\u6570\u4e0d\u6307\u5b9a\u65f6\u8d77\u4f5c\u7528\u3002</li> <li><code>markerscale</code>\uff1aNone or int or float. legend \u56fe\u6807\u7684\u76f8\u5bf9\u5927\u5c0f\uff0c\u4e0e\u539f\u59cb\u7684\u56fe\u6807\u4f5c\u6bd4\u8f83\uff0c\u9ed8\u8ba4\u4e3a None\u3002</li> <li><code>markerfirst</code>\uff1abool. \u82e5\u4e3a True\uff0c\u5219 legend marker \u4f4d\u4e8e legend label \u7684\u5de6\u8fb9\uff0c\u9ed8\u8ba4\u4e3a True\u3002</li> <li><code>numpoints</code>\uff1aNone or int. legend marker\u7684\u6570\u91cf\u3002</li> <li><code>title</code>\uff1a\u56fe\u4f8b\u7684\u6807\u9898\u3002</li> <li><code>shadow</code>\uff1aNone or bool. \u63a7\u5236\u662f\u5426\u5728\u56fe\u4f8b\u540e\u9762\u7ed8\u5236\u9634\u5f71\u3002Default is <code>None</code>, which will take the value from:rc:<code>legend.shadow</code>.</li> <li><code>framealpha</code>\uff1aNone or float. \u56fe\u4f8b\u80cc\u666f\u7684\u900f\u660e\u5ea6\uff08\u5305\u62ec\u56fe\u4f8b\u7684\u8fb9\u6846\uff09Default is <code>None</code>\u3002</li> <li><code>edgecolor</code>\uff1aNone or \"inherit\" or a color spec. \u63a7\u5236\u56fe\u4f8b\u80cc\u666f\u8fb9\u7f18\uff08\u4e5f\u5c31\u662f\u8fb9\u6846\uff09\u7684\u989c\u8272\u3002</li> <li><code>facecolor</code>\uff1aNone or \"inherit\" or a color spec. \u63a7\u5236\u56fe\u4f8b\u7684\u80cc\u666f\u989c\u8272\u3002</li> <li><code>labelspacing</code>\uff1afloat or None. \u56fe\u4f8b\u6761\u76ee\u4e4b\u95f4\u7684\u5782\u76f4\u7a7a\u95f4\uff08vertical space\uff09\u3002\u4ee5\u5b57\u4f53\u5927\u5c0f\u5355\u4f4d\u6d4b\u91cf\u3002</li> <li><code>borderpad</code>\uff1afloat or None. \u56fe\u4f8b\u8fb9\u6846\u5185\u7684\u5c0f\u6570\u7a7a\u767d\uff08\u4e5f\u5c31\u662f\u56fe\u4f8b\u8ddd\u79bb\u8fb9\u6846\u7684\u8ddd\u79bb\uff09\u3002\u4ee5\u5b57\u4f53\u5927\u5c0f\u5355\u4f4d\u6d4b\u91cf\u3002</li> <li><code>handletextpad</code>\uff1afloat or None. legend handle\u548clegend label\u4e4b\u95f4\u7684\u7a7a\u767d\u586b\u5145\u3002\u4ee5\u5b57\u4f53\u5927\u5c0f\u5355\u4f4d\u6d4b\u91cf\u3002</li> <li><code>handlelength</code>\uff1afloat or None. legend handles\u7684\u957f\u5ea6\uff08\u4e5f\u5c31\u662f\uff09\u3002\u4ee5\u5b57\u4f53\u5927\u5c0f\u5355\u4f4d\u6d4b\u91cf\u3002</li> <li><code>borderaxespad</code>\uff1afloat or None. The pad between the axes and legend border.Measured in font-size units.</li> </ul> <code>plt.text</code> - \u6dfb\u52a0\u6587\u672c\u5230 axes<pre><code>plt.text(x, y, s, fontdict=None, kwargs)\n</code></pre> <code>plt.annotate</code> - \u5728\u6307\u5b9a\u70b9\u6dfb\u52a0\u6ce8\u89e3<pre><code>plt.annotate(text, xy, args, kwargs)\n</code></pre> <ul> <li><code>text</code>\uff1a\u6ce8\u89e3\u7684\u6587\u5b57\uff0c<code>s</code>\u662f\u8be5\u53c2\u6570\u5df2\u5f03\u7528\u7684\u540c\u4e49\u8bcd\u3002</li> <li><code>xy</code>\uff1a(float, float). \u6807\u6ce8\u70b9\u7684\u5750\u6807\uff0c\u5750\u6807\u7cfb\u53d6\u51b3\u4e8e <code>xycoords</code>\u53c2\u6570\u3002</li> <li><code>xytext</code>\uff1a(float, float). \u6ce8\u89e3\u6587\u5b57\u7684\u5750\u6807\uff0c\u5750\u6807\u7cfb\u53d6\u51b3\u4e8e <code>textcoords</code>\u53c2\u6570\u3002</li> <li> <p><code>xycoords</code>\uff1astr or <code>.Artist</code> or <code>.Transform</code> or callable or (float, float), default: 'data'. \u4ee5\u4e0b\u662f\u53ef\u7528\u7684\u53c2\u6570\u503c\uff1a <pre><code> =================   =============================================\n Value               Description\n =================   =============================================\n 'figure points'     \u4ee5 figure \u5de6\u4e0b\u89d2\u4e3a\u539f\u70b9, \u4ee5 point \u4e3a\u5355\u4f4d\n 'figure pixels'     \u4ee5 figure \u5de6\u4e0b\u89d2\u4e3a\u539f\u70b9, \u4ee5 pixel \u4e3a\u5355\u4f4d\n 'figure fraction'   \u4ee5 figure \u5de6\u4e0b\u89d2\u4e3a\u539f\u70b9, \u4ee5 fraction \u4e3a\u5355\u4f4d, 0,0 \u5de6\u4e0b\u89d2; 1,1 \u53f3\u4e0a\u89d2\n 'axes points'       \u4ee5 axes \u5de6\u4e0b\u89d2\u4e3a\u539f\u70b9, \u4ee5 point \u4e3a\u5355\u4f4d\n 'axes pixels'       \u4ee5 axes \u5de6\u4e0b\u89d2\u4e3a\u539f\u70b9, \u4ee5 pixel \u4e3a\u5355\u4f4d\n 'axes fraction'     \u4ee5 axes \u5de6\u4e0b\u89d2\u4e3a\u539f\u70b9, \u4ee5 fraction \u4e3a\u5355\u4f4d\uff1b0,0 \u5de6\u4e0b\u89d2; 1,1 \u53f3\u4e0a\u89d2\n 'data'              \u4f7f\u7528\u6570\u636e\u7684\u5750\u6807\u7cfb, \u4ee5\u6570\u636e\u5750\u6807\u7cfb\u7684\u5355\u4f4d\u4e3a\u5355\u4f4d. \u9ed8\u8ba4\u503c\n 'polar'             *(theta, r)* \u6781\u5750\u6807\u7cfb, \u4f8b\u5982 (np.pi/2,3)\n =================   =============================================\n</code></pre></p> </li> <li> <p><code>textcoords</code>\uff1astr or <code>.Artist</code> or <code>.Transform</code> or callable or (float, float), default: value of xycoords. \u6ce8\u89e3\u6587\u672c\u7684\u5750\u6807\u7cfb\u3002<code>xycoords</code> \u7684\u53ef\u9009\u503c\u90fd\u53ef\u4ee5\u7528\u5728 <code>textcoords</code> \u4e2d\u3002\u53e6\u5916 <code>textcoords</code> \u8fd8\u591a\u51fa\u4ee5\u4e0b\u4e24\u4e2a\u53c2\u6570\uff0c\u5f53\u4e14\u4ec5\u5f53 <code>textcoords</code> \u9ed8\u8ba4\u4f7f\u7528 <code>xycoords</code> \u7684\u5750\u6807\u7cfb\u65f6\u751f\u6548\u3002 <pre><code> =================   =========================================\n Value               Description\n =================   =========================================\n 'offset points'     \u504f\u79fb *xy* \u7684\u91cf, \u4ee5 point \u4e3a\u5355\u4f4d\n 'offset pixels'     \u504f\u79fb *xy* \u7684\u91cf, \u4ee5 pixels \u4e3a\u5355\u4f4d\n =================   =========================================\n</code></pre></p> </li> <li> <p><code>annotation_clip</code>\uff1abool. \u5f53\u6ce8\u91ca\u8d85\u51fa\u8f74\u533a\u57df\u65f6\uff0c\u63a7\u5236\u6ce8\u91ca\u7684\u53ef\u89c1\u6027\u3002\u82e5\u4e3a True\uff0c\u5219\u53ea\u6709\u5f53 <code>xy</code> \u4f4d\u4e8e\u8f74\u5185\u65f6\u624d\u4f1a\u7ed8\u5236\u6ce8\u91ca\u3002\u82e5\u4e3a False\uff0c\u5c06\u59cb\u7ec8\u7ed8\u5236\u6ce8\u91ca\u3002\u9ed8\u8ba4\u503c\u4e3a None\uff0c\u4ec5\u5f53 <code>xycoords='data'</code> \u65f6\u624d True\u3002</p> </li> <li> <p><code>arrowprops</code>\uff1adict, optional. \u8bbe\u7f6e <code>xy</code> \u4e0e <code>xytext</code> \u4e4b\u95f4\u7684\u7bad\u5934\u5f62\u72b6\u3002\u7bad\u5934\u7684\u7c7b\u578b\u662f <code>~matplotlib.patches.FancyArrowPatch</code>\u3002\u4e0d\u540c\u7684\u7bad\u5934\u5f62\u72b6\u6709\u4e0d\u540c\u7684\u5c5e\u6027\u3002</p> <ul> <li>\u82e5 <code>arrowwprops=None</code>\uff0c\u5219\u4e0d\u7ed8\u5236\u7bad\u5934\u3002</li> <li> <p>\u5982\u679c <code>arrowprops</code> \u4e0d\u5305\u542b <code>'arrowstyle'</code> \u8fd9\u4e2akey\uff0c\u90a3\u4e48 <code>arrowprops</code> \u4e2d\u5141\u8bb8\u5b58\u5728\u7684key\u5305\u62ec\uff1a <pre><code>==========   ======================================================\nKey          Description\n==========   ======================================================\nwidth        \u7bad\u5934\uff08\u7bad\u5934\u7ebf\uff09\u7684\u5bbd\u5ea6, \u4ee5 point \u4e3a\u5355\u4f4d\nheadwidth    \u7bad\u5934\u7aef\u5e95\u90e8\u7684\u5bbd\u5ea6, \u4ee5 point \u4e3a\u5355\u4f4d\nheadlength   \u7bad\u5934\u7aef\u7684\u957f\u5ea6, \u4ee5 point \u4e3a\u5355\u4f4d\nshrink       \u4ece\u7bad\u5934\u7aef\u5230\u975e\u7bad\u5934\u7aef\u6536\u7f29\u7684\u6bd4\u7387 (fraction), \u6536\u7f29\u7684\u90e8\u5206\u4e0d\u663e\u793a\n?            Any key to :class:`matplotlib.patches.FancyArrowPatch`\n==========   ======================================================\n</code></pre></p> </li> <li> <p>\u5982\u679c <code>arrowprops</code> \u5305\u542b <code>'arrowstyle'</code> \u8fd9\u4e2akey\uff0c\u90a3\u4e48\u4ee5\u4e0a\u7684 key \u4f1a\u88ab\u7981\u6b62\uff0c\u5141\u8bb8\u5b58\u5728\u7684 key \u5305\u62ec\uff1a <pre><code>===============  ==================================================\nKey              Description\n===============  ==================================================\narrowstyle       \u7bad\u5934\u7684\u6837\u5f0f\nconnectionstyle  \u4e24\u7aef\u8fde\u63a5\u8def\u5f84\u7684\u6837\u5f0f\nrelpos           default is (0.5, 0.5)\npatchA           default is bounding box of the text\npatchB           default is None\nshrinkA          default is 2 points\nshrinkB          default is 2 points\nmutation_scale   default is text size (in points)\nmutation_aspect  default is 1.\n?                any key for :class:`matplotlib.patches.PathPatch`\n===============  ==================================================\n</code></pre> <code>'arrowstyle'</code> \u5141\u8bb8\u7684\u503c\u5982\u4e0b\uff08\u5176\u4e2d name \u4e3a\u98ce\u683c\u540d\u79f0\uff0cattrs \u4e3a\u53ef\u8bbe\u7f6e\u7684\u5c5e\u6027\uff09\uff1a <pre><code>============   =============================================\nName           Attrs\n============   =============================================\n'-'            None\n'-&gt;'           head_length=0.4,head_width=0.2\n'-['           widthB=1.0,lengthB=0.2,angleB=None\n'|-|'          widthA=1.0,widthB=1.0\n'-|&gt;'          head_length=0.4,head_width=0.2\n'&lt;-'           head_length=0.4,head_width=0.2\n'&lt;-&gt;'          head_length=0.4,head_width=0.2\n'&lt;|-'          head_length=0.4,head_width=0.2\n'&lt;|-|&gt;'        head_length=0.4,head_width=0.2\n'fancy'        head_length=0.4,head_width=0.4,tail_width=0.4\n'simple'       head_length=0.5,head_width=0.5,tail_width=0.2\n'wedge'        tail_width=0.3,shrink_factor=0.5\n============   =============================================\n</code></pre> fancy\u3001simple\u3001wedge \u4ec5\u9002\u7528\u4e8e\u751f\u6210\u4e8c\u6b21\u6837\u6761\u7ebf\u6bb5\u7684\u8fde\u63a5\u6837\u5f0f\u3002\u5bf9\u4e8e\u8fd9\u4e9b\u7bad\u5934\u6837\u5f0f\uff0c\u5fc5\u987b\u4f7f\u7528 angle3 \u6216 arc3 \u8fde\u63a5\u6837\u5f0f\u3002  <code>'connectionstyle'</code> \u5141\u8bb8\u7684\u503c\u5982\u4e0b\uff1a <pre><code>============   =============================================\nName           Attrs\n============   =============================================\n'angle'        angleA=90,angleB=0,rad=0.0\n'angle3'       angleA=90,angleB=0\n'arc'          angleA=0,angleB=0,armA=None,armB=None,rad=0.0\n'arc3'         rad=0.0\n============   =============================================\n</code></pre> \u6ce8\u610f\uff0c<code>angle3</code>\u548c<code>arc3</code>\u4e2d\u7684<code>3</code>\u610f\u5473\u7740\u6240\u5f97\u5230\u7684\u8def\u5f84\u662f\u4e8c\u6b21\u6837\u6761\u6bb5\uff08\u4e09\u4e2a\u63a7\u5236\u70b9\uff09\u3002 \u5982\u4e0b\u9762\u5c06\u8ba8\u8bba\u7684\uff0c\u5f53\u8fde\u63a5\u8def\u5f84\u662f\u4e8c\u6b21\u6837\u6761\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u7bad\u5934\u6837\u5f0f\u9009\u9879\u3002 </p> </li> </ul> </li> </ul> <pre><code># help(plt.plot)\n# help(plt.annotate)\n</code></pre>"},{"location":"Python3/NumPy/8.1.%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84.html","title":"8.1.\u521b\u5efa\u6570\u7ec4","text":"<pre><code>import numpy as np\nimport pprint\n</code></pre> <pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.16\nnumpy version:  1.20.3\n</code></pre>"},{"location":"Python3/NumPy/8.1.%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84.html#_1","title":"\u5171\u540c\u7684\u53c2\u6570","text":"<p>\u8fd9\u91cc\u6709\u51e0\u4e2a\u5171\u540c\u7684\u53c2\u6570\uff1a</p> <ul> <li> <p><code>a</code> / <code>object</code>\uff1a\u4e00\u4e2a <code>array-like</code> \u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u5b83\u4e0d\u4e00\u5b9a\u662f\u6570\u7ec4\uff0c\u53ef\u4ee5\u4e3a<code>list</code>\u3001<code>tuple</code>\u3001<code>list of tuple</code>\u3001<code>list of list</code>\u3001<code>tuple of list</code>\u3001<code>tuple of tuple</code>\u7b49\u7b49\u3002</p> </li> <li> <p><code>dtype</code>\uff1a\u6570\u7ec4\u7684\u503c\u7c7b\u578b\uff0c\u9ed8\u8ba4\u4e3a<code>float</code>\u3002\u53ef\u4ee5\u6307\u5b9a\u4e3a Python \u7684\u5185\u7f6e\u7684\u503c\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 numpy \u7684\u6570\u503c\u7c7b\u578b\uff0c\u5982<code>numpy.int32</code>\u3001<code>numpy.float64</code>\u7b49\u7b49\u3002</p> </li> <li> <p><code>order</code>\uff1a\u6307\u5b9a\u6570\u7ec4\u7684\u5185\u5b58\u5e03\u5c40\uff0c\u5982\u679c object \u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u5219<code>'C'</code>\u3001<code>'F'</code>\u53c2\u6570\u53ef\u7528\uff0c\u5982\u679c object \u4e0d\u662f\u6570\u7ec4\uff0c\u5219\u4ee5\u4e0b\u56db\u4e2a\u53c2\u6570\u90fd\u53ef\u7528\uff0c\u9ed8\u8ba4\u503c\u4e3a<code>'C'</code>\u3002</p> <ol> <li><code>'C'</code>\uff1a\u6309\u884c\u5b58\u50a8\uff0cC \u98ce\u683c\u3002</li> <li><code>'F'</code>\uff1a\u6309\u5217\u5b58\u50a8\uff0cFortran \u98ce\u683c\u3002</li> <li><code>'A'</code>\uff1a\u4fdd\u7559 F order \u6216 C order\uff0c\u5426\u5219\u4f7f\u7528\u76f8\u4f3c\u7684\u987a\u5e8f\u3002</li> <li><code>'K'</code>\uff1a\u5982\u679c object \u662f F order\uff0c\u5219\u4fdd\u7559 F order\uff0c\u5426\u5219\u4f7f\u7528 C order\u3002</li> </ol> </li> <li> <p><code>subok</code>\uff1a<code>bool</code>. \u5f53<code>subok=True</code>\uff0c\u5982\u679c<code>a</code>\u4e3a<code>ndarray</code>\u7684\u5b50\u7c7b\uff08\u5982<code>matrix</code>\u7c7b\uff09\uff0c\u5219\u65b0\u521b\u5efa\u7684\u6570\u7ec4\u4e0e<code>a</code>\u7c7b\u578b\u76f8\u540c\u3002\u5f53<code>subok=False</code>\uff0c\u65b0\u521b\u5efa\u7684\u6570\u7ec4\u7684\u7c7b\u578b\u59cb\u7ec8\u4e3a<code>ndarray</code>\u3002\u9ed8\u8ba4\u4e3a<code>False</code>\u3002</p> </li> </ul>"},{"location":"Python3/NumPy/8.1.%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84.html#_2","title":"\u4ece\u73b0\u6709\u7684\u6570\u636e\u5bf9\u8c61\u521b\u5efa","text":"<code>np.array(object, dtype=None, *, copy=True, order='K', subok=False, ndmin=0)</code><p>\u4ece <code>object</code> \u521b\u5efa array\u3002</p> <ul> <li><code>object</code>\uff1a\u53ef\u4ee5\u662f\u6570\u7ec4\u5bf9\u8c61\u3001\u5d4c\u5957\u5e8f\u5217\u3001\u4e00\u4e2a\u6709<code>__array__</code>\u65b9\u6cd5\u7684\u5bf9\u8c61\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de array \u6216\u8005 array-like \u5bf9\u8c61\u3002</li> <li><code>copy</code>\uff1a\u9ed8\u8ba4\u4e3a<code>True</code>\uff0c\u8868\u793a\u62f7\u8d1d\u5bf9\u8c61\uff0c\u82e5\u4e3a<code>False</code>\uff0c\u5219\u4ec5\u5f53\u4f20\u5165\u975e array \u5bf9\u8c61\u3001<code>__array__</code>\u65b9\u6cd5\u8fd4\u56de\u526f\u672c\u3001\u9700\u8981\u6ee1\u8db3<code>dtype</code>\u3001<code>order</code>\u53c2\u6570\u65f6\u624d\u4f1a\u62f7\u8d1d\u3002</li> <li><code>ndmin</code>\uff1a\u6307\u5b9a\u7ed3\u679c<code>ndarray</code>\u6700\u5c11\u6709\u591a\u5c11\u4e2a\u7ef4\u5ea6\u3002</li> </ul> <code>np.asarray(a, dtype=None, order=None)</code> - \u5c06 <code>a</code> \u8f6c\u6362\u4e3a <code>ndarray</code><pre><code>return array(a, dtype, copy=False, order=order)\n</code></pre> <code>np.asanyarray(a, dtype=None, order=None)</code> - \u5c06 <code>a</code> \u8f6c\u6362\u4e3a <code>ndarray</code><pre><code>return array(a, dtype, copy=False, order=order, subok=True)\n</code></pre> <p><code>np.asanyarray</code>\u4e0e<code>np.asarray</code>\u7684\u533a\u522b\u5728\u4e8e <code>subok</code> \u53c2\u6570\u3002</p> <code>np.ascontiguousarray(a, dtype=None)</code> - \u8fd4\u56de C \u98ce\u683c\u7684\u8fde\u7eed <code>ndarray</code><pre><code>return array(a, dtype, copy=False, order='C', ndmin=1)\n</code></pre> <p>\u8fd4\u56de\u7684\u6570\u7ec4\u7684 <code>ndim</code> \u81f3\u5c11\u662f1\u7ef4\u7684\uff0c\u5373\u5bf9\u4e8e\u6807\u91cf\uff0c\u4e0d\u4fdd\u7559 0-d \u6570\u7ec4\u3002</p> <code>np.asfortranarray(a, dtype=None)</code> - \u8fd4\u56de Fortran \u98ce\u683c\u7684\u8fde\u7eed <code>ndarray</code><pre><code>return array(a, dtype, copy=False, order='F', ndmin=1)\n</code></pre> <p>\u8fd4\u56de\u7684\u6570\u7ec4\u7684 <code>ndim</code> \u81f3\u5c11\u662f1\u7ef4\u7684\uff0c\u5373\u5bf9\u4e8e\u6807\u91cf\uff0c\u4e0d\u4fdd\u7559 0-d \u6570\u7ec4\u3002</p> <code>np.copy(a, order='K', subok=False)</code> - \u8fd4\u56de <code>a</code> \u7684\u6df1\u62f7\u8d1d<pre><code>return array(a, order=order, copy=True)\n</code></pre> <code>np.asmatrix(data, dtype=None)</code> - \u8fd4\u56de <code>matrix</code><p>\u7b49\u4ef7\u4e8e\u4ee5\u4e0b\u4ee3\u7801 <pre><code>matrix(data, copy=False)\n</code></pre></p> <code>np.asarray_chkfinite(a, dtype=None, order=None)</code> - \u521b\u5efa\u6570\u7ec4\u65f6\u68c0\u67e5\u662f\u5426\u5b58\u5728nan\u6216Infs<pre><code>try:\n    np.asarray_chkfinite([np.nan, 1, 2])\nexcept ValueError as e:\n    print(\"ValueError\", e)\n</code></pre> <pre><code>ValueError array must not contain infs or NaNs\n</code></pre> <code>np.asscalar(a)</code> - \u5c06\u5927\u5c0f\u4e3a1\u7684\u6570\u7ec4\u8f6c\u4e3a\u6807\u91cf<p>NumPy v1.16 \u4e4b\u540e\u5efa\u8bae\u4f7f\u7528<code>a.item()</code>\u4ee3\u66ff\u8be5\u51fd\u6570\u3002</p> <pre><code>print(np.asscalar(np.array([1])))\n</code></pre> <pre><code>1\n&lt;ipython-input-1-3f4c1e63f66b&gt;:2: DeprecationWarning: np.asscalar(a)\nis deprecated since NumPy v1.16, use a.item() instead\n  print(np.asscalar(np.array([1])))\n</code></pre> <code>np.frombuffer(buffer, dtype=float, count=-1, offset=0)</code><p>\u4ece buffer \u4e2d\u8fd4\u56de\u4e00\u7ef4\u7684 <code>ndarray</code>\uff0c\u521b\u5efa\u7684\u6570\u7ec4\u4e0e buffer \u5bf9\u8c61\u5171\u4eab\u5185\u5b58\u3002</p> <ul> <li><code>buffer</code>\uff1a\u4e00\u4e2a\u6709 buffer \u63a5\u53e3\u7684\u5bf9\u8c61\u3002\u5185\u7f6e\u7684 <code>bytes/bytearray/array.array</code> \u7c7b\u578b\u63d0\u4f9b\u4e86\u8be5\u63a5\u53e3\u3002</li> <li><code>count</code>\uff1a\u6307\u5b9a\u8bfb\u53d6\u7684\u6570\u91cf\uff0c<code>-1</code>\u8868\u793a\u8bfb\u53d6 buffer \u7684\u5168\u90e8\u6570\u636e\u3002</li> <li><code>offset</code>\uff1a\u6307\u5b9a\u4ece\u54ea\u91cc\u5f00\u59cb\u8bfb\u53d6\uff0c\u4ee5 bytes \u4e3a\u5355\u4f4d\uff0c\u9ed8\u8ba4\u4e3a 0\u3002</li> </ul> <pre><code># array.array \u63d0\u4f9b\u4e86\u7c7b\u4f3clist\u5bf9\u8c61\u7684\u5185\u5b58\u673a\u5236\nfrom array import array\n\n# \u521b\u5efa\u4e00\u4e2aarray\u6570\u7ec4\na = array(\"d\", [1, 2, 3, 4])\n# \u901a\u8fc7 np.frombuffer \u521b\u5efa\u4e00\u4e2a\u548c a \u5171\u4eab\u5185\u5b58\u7684 NumPy \u6570\u7ec4\nb = np.frombuffer(a, dtype=np.float64)\nprint(\"a:\", a)\nprint(\"b:\", b)\nb[1] = 20       # \u4fee\u6539NumPy\u6570\u7ec4\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\nprint(\"a:\", a)  # array\u6570\u7ec4\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u4e5f\u540c\u65f6\u6539\u53d8\n</code></pre> <pre><code>a: array('d', [1.0, 2.0, 3.0, 4.0])\nb: [1. 2. 3. 4.]\na: array('d', [1.0, 20.0, 3.0, 4.0])\n</code></pre> <code>np.fromfunction(function, shape, *, dtype=float, **kwargs)</code><p><code>function</code> \u4f1a\u83b7\u53d6\u6bcf\u4e00\u4e2a\u5750\u6807\u70b9\u7684\u6570\u636e\uff0c\u4f5c\u4e3a\u8f93\u5165\u53c2\u6570\u3002\u5047\u8bbe <code>shape</code> \u7684\u7ef4\u5ea6\u4e3a <code>N</code>\uff0c\u90a3\u4e48 <code>function</code> \u5c06\u6709 <code>N</code> \u4e2a\u53c2\u6570\uff0c<code>function(x1,x2,...x_N)</code>\u4f5c\u4e3a\u8be5\u5750\u6807\u70b9\u7684\u503c\u3002</p> <pre><code>def fun(x, y):\n    return x + y\n\nnp.fromfunction(fun, shape=(3, 3))\n</code></pre> <pre><code>array([[0., 1., 2.],\n       [1., 2., 3.],\n       [2., 3., 4.]])\n</code></pre> <code>np.fromiter(iterable, dtype, count=-1)</code> - \u4ece\u53ef\u8fed\u4ee3\u5bf9\u8c61\u521b\u5efa 1-d \u7684\u6570\u7ec4<pre><code>np.fromiter(\"123\", dtype=\"int64\")\n</code></pre> <pre><code>array([1, 2, 3])\n</code></pre> <code>np.fromstring(string, dtype=float, count=-1, sep='')</code> - \u4ece\u5b57\u7b26\u4e32\u6216<code>raw binary</code>\u521b\u5efa 1-d \u6570\u7ec4<ul> <li><code>sep</code>\uff1a\u5982\u679c<code>sep=\"\"</code>\uff0c\u5219 <code>string</code> \u5c06\u6309\u7167\u4e8c\u8fdb\u5236\u6570\u636e\u89e3\u91ca\uff08\u5373\u6bcf\u4e2a\u5b57\u7b26\u4f5c\u4e3a<code>ASCII</code>\u7801\u503c\u5bf9\u5f85\uff09\uff0c \u4e0d\u5efa\u8bae \u89e6\u53d1\u4e8c\u8fdb\u5236\u6a21\u5f0f\u3002\u521b\u5efa\u7684\u6570\u7ec4\u6709\u81ea\u5df1\u7684\u6570\u636e\u5b58\u50a8\u533a\u3002</li> </ul> <pre><code>a = \"abcdefg\"\n# \u89e6\u53d1\u4e8c\u8fdb\u5236\u6a21\u5f0f, \u6bcf\u4e2a\u5b57\u7b26\u7684ASCII\u7f16\u7801\u88ab\u89e3\u91ca\u4e3a\u6574\u6570\na = np.fromstring(a, dtype=np.int8)\nprint(a)\n\na = \"1;2;3;4;5\"\na = np.fromstring(a, dtype=np.int8, sep=\";\")\nprint(a)\n</code></pre> <pre><code>[ 97  98  99 100 101 102 103]\n[1 2 3 4 5]\n&lt;ipython-input-1-ad8737ef7b85&gt;:4: DeprecationWarning: The binary mode of fromstring is deprecated, as it behaves surprisingly on unicode inputs. Use frombuffer instead\n  a = np.fromstring(a, dtype=np.int8)\n</code></pre> <code>np.require(a, dtype=None, requirements=None)</code> - \u8fd4\u56de\u6ee1\u8db3\u6307\u5b9a\u6761\u4ef6\u7684\u6570\u7ec4<ul> <li><code>requirements</code>: str or list of str. \u53ef\u53d6\u503c\u5982\u4e0b\uff1a<ol> <li><code>'F'</code> / <code>'F_CONTIGUOUS'</code> - ensure a Fortran-contiguous array</li> <li><code>'C'</code> / <code>'C_CONTIGUOUS'</code> - ensure a C-contiguous array</li> <li><code>'A'</code> / <code>'ALIGNED'</code>      - ensure a data-type aligned array</li> <li><code>'W'</code> / <code>'WRITEABLE'</code>    - ensure a writable array</li> <li><code>'O'</code> / <code>'OWNDATA'</code>      - ensure an array that owns its own data</li> <li><code>'E'</code> / <code>'ENSUREARRAY'</code>  - ensure a base array, instead of a subclass</li> </ol> </li> </ul>"},{"location":"Python3/NumPy/8.1.%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84.html#_3","title":"\u521b\u5efa\u5143\u7d20\u91cd\u590d\u7684\u6570\u7ec4","text":"<code>np.tile(A, reps)</code> - \u91cd\u590dA\u6570\u7ec4\u4ee5\u6784\u5efa\u65b0\u6570\u7ec4<ul> <li><code>reps</code>\uff1a\u5982\u679c\u662f\u6574\u6570\uff0c\u4ee3\u8868\u6bcf\u4e2a\u5143\u7d20\u7684\u91cd\u590d\u6b21\u6570\u3002\u5982\u679c\u662f\u6574\u6570\u6570\u7ec4\uff0c\u5219\u4ee3\u8868\u5bf9\u5e94\u8f74\u7684\u91cd\u590d\u6b21\u6570\u3002</li> </ul> <pre><code>a = np.array([0, 1, 2])\nprint(np.tile(a, 2), \"\\n-----\")\nprint(np.tile(a, (2, 2)), \"\\n-----\")\nprint(np.tile(a, (2, 1, 2)))\n</code></pre> <pre><code>[0 1 2 0 1 2]\n-----\n[[0 1 2 0 1 2]\n [0 1 2 0 1 2]]\n-----\n[[[0 1 2 0 1 2]]\n\n [[0 1 2 0 1 2]]]\n</code></pre> <pre><code>b = np.array([[1, 2], [3, 4]])\nprint(np.tile(b, 2), \"\\n-----\")\nprint(np.tile(b, (2, 1)))\n</code></pre> <pre><code>[[1 2 1 2]\n [3 4 3 4]]\n-----\n[[1 2]\n [3 4]\n [1 2]\n [3 4]]\n</code></pre> <code>np.repeat(a, repeats, axis=None)</code> - \u91cd\u590dA\u6570\u7ec4\u4ee5\u6784\u5efa\u65b0\u6570\u7ec4<ul> <li><code>repeats</code>\uff1a\u5982\u679c\u662f\u6574\u6570\uff0c\u5219\u6bcf\u4e2a\u5143\u7d20\u90fd\u91cd\u590d<code>repeats</code>\u6b21\u3002\u5982\u679c\u662f\u6574\u6570\u6570\u7ec4\uff0c\u5219\u5206\u522b\u6307\u5b9a\u5404\u5143\u7d20\u7684\u91cd\u590d\u6b21\u6570\u3002</li> </ul> <pre><code>a = np.array([0, 1, 2])\nprint(np.repeat(a, 2), \"\\n-----\")\nprint(np.repeat(a, [1, 2, 3]))\n</code></pre> <pre><code>[0 0 1 1 2 2]\n-----\n[0 1 1 2 2 2]\n</code></pre>"},{"location":"Python3/NumPy/8.1.%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84.html#_4","title":"\u4ece\u6587\u4ef6\u52a0\u8f7d","text":"<code>np.fromfile(file, dtype=float, count=-1, sep='', offset=0)</code><p>\u4ece\u4e8c\u8fdb\u5236\u6587\u4ef6\u6216\u8005\u6587\u672c\u6587\u4ef6\u4e2d\u7684\u6570\u636e\u6784\u9020 <code>ndarray</code>\u3002</p> <ul> <li><code>sep</code>\uff1a\u5f53\u4ece\u6587\u672c\u6587\u4ef6\u4e2d\u8bfb\u53d6\u65f6\uff0c\u6570\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26\u3002   \u5982\u679c<code>sep</code>\u662f\u7a7a\u5b57\u7b26\u4e32\u5219\u8868\u793a\u6587\u4ef6\u5e94\u8be5\u4f5c\u4e3a\u4e8c\u8fdb\u5236\u6587\u4ef6\u8bfb\u53d6\uff1b\u5982\u679c<code>sep</code>\u4e3a<code>\" \"</code>\u8868\u793a\u53ef\u4ee5\u5339\u914d0\u4e2a\u6216\u8005\u591a\u4e2a\u7a7a\u767d\u5b57\u7b26\u3002</li> </ul> <code>np.loadtxt</code> - \u4ece\u6587\u672c\u6587\u4ef6\u4e2d\u52a0\u8f7d\u6570\u7ec4<pre><code>np.loadtxt(fname, dtype=&lt;class 'float'&gt;, comments='#', delimiter=None,\n           converters=None, skiprows=0, usecols=None, unpack=False, ndmin=0,\n           encoding='bytes', max_rows=None)\n</code></pre> <p>\u8981\u6c42\u6587\u672c\u6587\u4ef6\u6bcf\u4e00\u884c\u90fd\u6709\u76f8\u540c\u6570\u91cf\u7684\u6570\u503c</p> <ul> <li><code>comments</code>\uff1a\u6307\u793a\u6ce8\u91ca\u884c\u7684\u8d77\u59cb\u5b57\u7b26\uff0c\u53ef\u4ee5\u4e3a\u5355\u4e2a\u5b57\u7b26\u6216\u8005\u5b57\u7b26\u5217\u8868\uff08\u9ed8\u8ba4\u4e3a<code>#</code>\uff09\u3002</li> <li><code>delimiter</code>\uff1a\u6307\u5b9a\u6570\u503c\u4e4b\u95f4\u7684\u5206\u9694\u5b57\u7b26\u4e32\uff0c\u9ed8\u8ba4\u4e3a\u7a7a\u767d\u7b26\u3002</li> <li><code>converters</code>\uff1a\u5c06\u6307\u5b9a\u5217\u53f7 (0,1,2...) \u7684\u5217\u6570\u636e\u6267\u884c\u8f6c\u6362\uff0c\u662f\u4e00\u4e2a<code>map</code>\uff0c\u5982<code>{0:func1}</code>\u8868\u793a\u5bf9\u7b2c\u4e00\u5217\u6570\u636e\u6267\u884c<code>func1(val_0)</code>\u3002</li> <li><code>skiprows</code>\uff1a\u6307\u5b9a\u8df3\u8fc7\u5f00\u5934\u7684\u591a\u5c11\u884c\u3002</li> <li><code>usecols</code>\uff1a\u6307\u5b9a\u8bfb\u53d6\u90a3\u4e9b\u5217\uff080\u8868\u793a\u7b2c\u4e00\u5217\u3002</li> </ul>"},{"location":"Python3/NumPy/8.1.%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84.html#_5","title":"\u4ece\u6570\u503c\u533a\u95f4\u521b\u5efa","text":"<p><code>np.arange([start,] stop[, step,], dtype=None)</code> - \u8fd4\u56de\u5747\u5300\u95f4\u9694\u7684\u503c\u7ec4\u6210\u7684 1-d \u6570\u7ec4</p> <p>\u533a\u95f4\u662f\u534a\u95ed\u534a\u5f00\u7684 <code>[start,stop)</code>\uff0c\u5176\u884c\u4e3a\u7c7b\u4f3c <code>range</code> \u51fd\u6570\u3002<code>start</code>\u4e3a\u5f00\u59cb\u70b9\uff0c<code>stop</code>\u4e3a\u7ec8\u6b62\u70b9\uff0c<code>step</code>\u4e3a\u6b65\u957f\uff0c\u9ed8\u8ba4\u4e3a1\u3002\u8fd9\u4e09\u4e2a\u53c2\u6570\u53ef\u4ee5\u662f\u6574\u6570\u6216\u6d6e\u70b9\u6570\u3002\u5982\u679c<code>step</code>\u4e3a\u6d6e\u70b9\u6570\uff0c\u7ed3\u679c\u53ef\u80fd\u6709\u8bef\u5dee\uff0c\u56e0\u4e3a\u6d6e\u70b9\u6570\u76f8\u7b49\u6bd4\u8f83\u4e0d\u51c6\u786e\uff08\u8ba1\u7b97\u673a\u7cbe\u5ea6\u6709\u9650\uff09\u3002</p> <p><code>np.linspace(start, stop, num=50, endpoint=True, retstep=False, dtype=None, axis=0)</code></p> <p>\u8fd4\u56de<code>num</code>\u4e2a\u5747\u5300\u91c7\u6837\u7684\u6570\u503c\u7ec4\u6210\u7684 1-d \u6570\u7ec4\uff0c\u533a\u95f4\u662f\u95ed\u533a\u95f4<code>[start,stop]</code>\u3002</p> <ul> <li><code>endpoint</code>\uff1a\u662f\u5426\u5305\u542b<code>stop</code>\u3002</li> <li><code>retstep</code>\uff1a\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u8fd4\u56de\u7684\u7ed3\u679c\u5305\u542b\u91c7\u6837\u6b65\u957f <code>step</code>\u3002</li> <li><code>axis</code>\uff1a\u7528\u4e8e\u50a8\u5b58\u91c7\u6837\u70b9\u7684 axis\uff0c\u9ed8\u8ba4\u4e3a 0\uff0c\u4ec5\u5f53 <code>start</code> \u548c <code>stop</code> \u662f array-like \u65f6\u751f\u6548\u3002\u4e8e 1.16.0 \u7248\u672c\u52a0\u5165\u3002</li> </ul> <p><code>np.logspace(start, stop, num=50, endpoint=True, base=10.0, dtype=None, axis=0)</code></p> <p>\u8fd4\u56de<code>num</code>\u4e2a\u5747\u5300\u91c7\u6837\u7684\u5bf9\u6570\u6570\u503c\u7ec4\u6210\u7684 1-d \u6570\u7ec4\uff0c\u91c7\u6837\u70b9\u5f00\u59cb\u4e8e<code>base^start</code>\uff0c\u7ed3\u675f\u4e8e<code>base^stop</code>\u3002\u8f91\u4e0a\u76f8\u5f53\u4e8e\u5148\u6267\u884c<code>arange</code>\u83b7\u53d6\u6570\u7ec4<code>array</code>\uff0c\u7136\u540e\u518d\u6267\u884c<code>base^array[i]</code>\u83b7\u53d6\u91c7\u6837\u70b9\u3002</p> <ul> <li><code>base</code>\uff1a\u5bf9\u6570\u7684\u5e95\u6570\u3002</li> <li><code>axis</code>\uff1a\u7528\u4e8e\u50a8\u5b58\u91c7\u6837\u70b9\u7684 axis\uff0c\u9ed8\u8ba4\u4e3a 0\uff0c\u4ec5\u5f53 <code>start</code> \u548c <code>stop</code> \u662f array-like \u65f6\u751f\u6548\u3002</li> </ul>"},{"location":"Python3/NumPy/8.1.%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84.html#_6","title":"\u4ee5\u586b\u5145\u7684\u65b9\u5f0f\u521b\u5efa","text":"<p><code>np.empty(shape, dtype=numpy.float64, order='C')</code></p> <p>\u6839\u636e\u6307\u5b9a\u7684 <code>shape</code> \u548c <code>dtype</code> \u521b\u5efa array\uff0c\u4f46\u4e0d\u521d\u59cb\u5316\uff0c\u5176\u5143\u7d20\u7684\u503c\u662f\u968f\u673a\u7684\u3002</p> <p><code>np.empty_like(a, dtype=None, order='K', subok=True, shape=None)</code></p> <p>\u6839\u636e <code>a</code> \u7684 <code>shape</code> \u548c <code>dtype</code> \u521b\u5efa array\uff0c\u4f46\u4e0d\u521d\u59cb\u5316\uff0c\u5176\u5143\u7d20\u7684\u503c\u662f\u968f\u673a\u7684\u3002</p> <p><code>np.zeros(shape, ...)</code> - \u7c7b\u4f3c <code>np.empty</code>\uff0c\u4f46\u5143\u7d20\u7684\u521d\u59cb\u503c\u4e3a 0</p> <p><code>np.ones(shape, ...)</code> - \u7c7b\u4f3c <code>np.empty</code>\uff0c\u4f46\u5143\u7d20\u7684\u521d\u59cb\u503c\u4e3a 1</p> <p><code>np.full(shape, fill_value, ...)</code> - \u7c7b\u4f3c <code>np.empty</code>\uff0c\u4f46\u5143\u7d20\u7684\u521d\u59cb\u503c\u4e3a <code>fill_value</code></p> <p><code>np.zeros_like(a, ...)</code> - \u7c7b\u4f3c <code>np.empty_like</code>\uff0c\u4f46\u5143\u7d20\u7684\u521d\u59cb\u503c\u4e3a 0</p> <p><code>np.ones_like(a, ...)</code> - \u7c7b\u4f3c <code>np.empty_like</code>\uff0c\u4f46\u5143\u7d20\u7684\u521d\u59cb\u503c\u4e3a 1</p> <code>np.full_like(a, fill_value, ...)</code> - \u7c7b\u4f3c <code>np.empty_like</code>\uff0c\u4f46\u5143\u7d20\u7684\u521d\u59cb\u503c\u4e3a <code>fill_value</code><pre><code># \u5185\u5b58\u672a\u521d\u59cb\u5316\na = np.empty((3, 2), order=\"C\")\n\n# \u5185\u5b58\u672a\u521d\u59cb\u5316\nnp.empty_like(a)\n</code></pre> <pre><code>array([[0.e+000, 5.e-324],\n       [5.e-324, 1.e-323],\n       [1.e-323, 1.e-323]])\n</code></pre> <code>np.eye(N, M=None, k=0, dtype=float, order='C')</code> - \u8fd4\u56de\u4e00\u4e2a 2-D \u6570\u7ec4\uff0c\u5bf9\u89d2\u7ebf\u5143\u7d201\uff0c\u5176\u4f59\u5143\u7d20\u4e3a0<ul> <li><code>N</code>\uff1a\u884c\u6570</li> <li><code>M</code>\uff1a\u5217\u6570\uff0c\u82e5\u4e0d\u4f20\u5165<code>M</code>\uff0c\u5219<code>N=M</code></li> <li><code>k</code>\uff1a<code>k=0</code>\uff0c\u4e3b\u5bf9\u89d2\u7ebf\u5143\u7d20\u4e3a1\uff1b<code>k</code>\u4e3a\u6b63\u6574\u6570\uff0c\u5bf9\u5e94\u7684\u4e0a\u5bf9\u89d2\u7ebf\u5143\u7d20\u4e3a1\uff1b<code>k</code>\u4e3a\u8d1f\u6574\u6570\uff0c\u5bf9\u5e94\u7684\u4e0b\u5bf9\u89d2\u7ebf\u5143\u7d20\u4e3a1</li> </ul> <pre><code>pprint.pprint(np.eye(N=2, M=3))\nprint()\n# \u53c2\u6570 k \u662f\u53ef\u4ee5\u8d85\u51fa\u8303\u56f4\u7684\npprint.pprint(np.eye(N=2, M=3, k=1))\n</code></pre> <pre><code>array([[1., 0., 0.],\n       [0., 1., 0.]])\n\narray([[0., 1., 0.],\n       [0., 0., 1.]])\n</code></pre> <p><code>np.identity(n, dtype=None)</code> - \u8fd4\u56de\u4e00\u4e2a\u5355\u4f4d\u77e9\u9635</p>"},{"location":"Python3/NumPy/8.10.%E4%BF%9D%E5%AD%98%E5%92%8C%E5%8A%A0%E8%BD%BD.html","title":"8.10.\u4fdd\u5b58\u548c\u52a0\u8f7d","text":"<pre><code>import numpy as np\nimport os\n</code></pre> <pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.18\nnumpy version:  1.20.3\n</code></pre>"},{"location":"Python3/NumPy/8.10.%E4%BF%9D%E5%AD%98%E5%92%8C%E5%8A%A0%E8%BD%BD.html#npy","title":"\u4fdd\u5b58\u4e3a <code>npy</code> \u683c\u5f0f","text":"<p><code>np.save(file, arr, allow_pickle=True, fix_imports=True)</code></p> <p>\u5c06\u4e00\u4e2anumpy\u6570\u7ec4\u50a8\u5b58\u4e3a\u4e00\u4e2a<code>.npy</code>\u683c\u5f0f\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002</p> <ul> <li><code>file</code>\uff1a\u6587\u4ef6\u540d\u6216\u8005\u6587\u4ef6\u5bf9\u8c61\u3002\u5982\u679c\u662f\u6587\u4ef6\u540d\u4e14\u6ca1\u6709\u540e\u7f00\uff0c\u5219\u4f1a\u81ea\u52a8\u6dfb\u52a0\u540e\u7f00<code>.npy</code>\u3002</li> <li><code>arr</code>\uff1a\u88ab\u5b58\u50a8\u7684\u6570\u7ec4\u3002</li> <li><code>allow_pickle</code>\uff1a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u4f7f\u7528Python pickle\u3002\u6709\u65f6\u5019\u4e3a\u4e86\u5b89\u5168\u6027\u548c\u53ef\u79fb\u690d\u6027\u800c\u4e0d\u4f7f\u7528pickle\u3002</li> <li><code>fix_imports</code>\uff1a\u7528\u4e8e Python 3 \u7684\u6570\u7ec4\u5bfc\u5165\u5230 Python 2 \u7684\u60c5\u5f62\u3002</li> </ul> <pre><code>x = np.arange(20).reshape(4, 5)\nsave_path = \"array\"\n# \u4fdd\u5b58\u65f6\u4f1a\u81ea\u52a8\u6dfb\u52a0.npy\u540e\u7f00\nnp.save(save_path, x)\n# npy\u6587\u4ef6\u88ab\u4fdd\u5b58\u5728\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\n[i for i in  os.listdir() if i.endswith(\"npy\")]\n</code></pre> <pre><code>['array.npy']\n</code></pre>"},{"location":"Python3/NumPy/8.10.%E4%BF%9D%E5%AD%98%E5%92%8C%E5%8A%A0%E8%BD%BD.html#npz","title":"\u4fdd\u5b58\u4e3a <code>npz</code> \u683c\u5f0f","text":"<p><code>np.savez(file, *args, **kwds)</code></p> <p>\u5c06\u591a\u4e2anumpy\u6570\u7ec4\u50a8\u5b58\u4e3a\u4e00\u4e2a<code>.npz</code>\u683c\u5f0f\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002</p> <ul> <li><code>file</code>\uff1a\u6587\u4ef6\u540d\u6216\u8005\u6587\u4ef6\u5bf9\u8c61\u3002\u5982\u679c\u662f\u6587\u4ef6\u540d\u4e14\u6ca1\u6709\u540e\u7f00\uff0c\u5219\u4f1a\u81ea\u52a8\u6dfb\u52a0\u540e\u7f00<code>.npz</code>\u3002</li> <li><code>args</code>\uff1a\u88ab\u5b58\u50a8\u7684\u6570\u7ec4\u3002\u8fd9\u4e9b\u6570\u7ec4\u7684\u540d\u5b57\u5c06\u88ab\u81ea\u52a8\u547d\u540d\u4e3a<code>arr_0/arr_1/...</code>\u3002\u5982\u679c\u6ca1\u6709\u540d\u5b57\uff0c\u5219\u5b8c\u5168\u65e0\u6cd5\u77e5\u6653\u8fd9\u4e9b\u6570\u7ec4\u7684\u533a\u522b\u3002</li> <li><code>kwds</code>\uff1a\u5c06\u88ab\u5b58\u50a8\u7684\u6570\u7ec4\uff0c\u8fd9\u4e9b\u5173\u952e\u5b57\u53c2\u6570\u5c31\u662f\u952e\u7684\u540d\u5b57\u3002</li> </ul> <p>\u4fdd\u5b58 .npz \u6587\u4ef6</p> <pre><code>x = np.arange(20).reshape(4, 5)\nsave_path = \"array\"\nnp.savez(save_path, x, x)\n</code></pre> <p><code>np.savez_compressed(file, *args, **kwds)</code></p> <p>\u5c06\u591a\u4e2a NumPy \u6570\u7ec4\u538b\u7f29\u50a8\u5b58\u4e3a\u4e00\u4e2a<code>.npz</code>\u683c\u5f0f\u7684\u6587\u4ef6\u3002</p>"},{"location":"Python3/NumPy/8.10.%E4%BF%9D%E5%AD%98%E5%92%8C%E5%8A%A0%E8%BD%BD.html#npy-npz","title":"\u8bfb\u5165 <code>.npy</code> \u6216 <code>.npz</code> \u6587\u4ef6","text":"<p><code>np.load(file, mmap_mode=None, allow_pickle=False, fix_imports=True, encoding='ASCII')</code></p> <p>\u4ece\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u8bfb\u53d6\u6570\u7ec4\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\u3001\u5143\u7ec4\u6216\u8005\u5b57\u5178\uff08\u5f53\u4e8c\u8fdb\u5236\u6587\u4ef6\u662f<code>savez</code>\u751f\u6210\u65f6\uff09\u3002</p> <ul> <li><code>file</code>\uff1a\u5b58\u653e\u6570\u7ec4\u7684\u6587\u4ef6\u8def\u5f84\u6216\u8005\u6587\u4ef6\u5bf9\u8c61\u3002</li> <li><code>mmap_mode</code>\uff1a\u5982\u679c\u4e0d\u662f<code>None</code>\uff0c\u5219memory-map\u8be5\u6587\u4ef6\u3002\u6b64\u65f6\u5bf9\u6570\u7ec4\u7684\u4fee\u6539\u4f1a\u540c\u6b65\u5230\u6587\u4ef6\u4e0a\u3002\u5f53\u8bfb\u53d6\u5927\u6587\u4ef6\u7684\u4e00\u5c0f\u90e8\u5206\u65f6\u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u5b83\u4e0d\u5fc5\u4e00\u6b21\u8bfb\u53d6\u6574\u4e2a\u6587\u4ef6\u3002\u53ef\u9009\u503c\u4e3a <code>None</code> / <code>'r+'</code> / <code>'r'</code> / <code>'w+'</code> / <code>'c'</code>\u3002</li> <li><code>allow_pickle</code>\uff1a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u4e3a<code>True</code>\uff0c\u00b7\u5219\u4f7f\u7528Python pickle\u3002\u6709\u65f6\u5019\u4e3a\u4e86\u5b89\u5168\u6027\u548c\u53ef\u79fb\u690d\u6027\u800c\u4e0d\u4f7f\u7528pickle\u3002</li> <li><code>fix_imports</code>\uff1a\u7528\u4e8e Python 3 \u7684\u6570\u7ec4\u5bfc\u5165\u5230 Python 2 \u7684\u60c5\u5f62\u3002</li> <li><code>encoding</code>\uff1a\u53ea\u7528\u4e8e Python 2\uff0c\u8bfb\u53d6 Python 2 \u5b57\u7b26\u4e32\u3002</li> </ul> <p>\u8bfb\u5165 .npy \u6587\u4ef6</p> <pre><code>np.load(\"array.npy\", allow_pickle=True)\n</code></pre> <pre><code>array([[ 0,  1,  2,  3,  4],\n       [ 5,  6,  7,  8,  9],\n       [10, 11, 12, 13, 14],\n       [15, 16, 17, 18, 19]])\n</code></pre> <p>\u8bfb\u5165 .npz \u6587\u4ef6</p> <pre><code>np.load(\"array.npz\", allow_pickle=True)\n</code></pre> <pre><code>&lt;numpy.lib.npyio.NpzFile at 0x7f4c44651eb0&gt;\n</code></pre>"},{"location":"Python3/NumPy/8.10.%E4%BF%9D%E5%AD%98%E5%92%8C%E5%8A%A0%E8%BD%BD.html#_1","title":"\u4fdd\u5b58\u4e3a\u6587\u672c\u6587\u4ef6","text":"<p><code>np.savetxt(fname, X, ...)</code></p> <p>\u5c06\u4e00\u4e2a NumPy \u6570\u7ec4\u50a8\u5b58\u4e3a\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\u3002</p> <pre><code>np.savetxt(fname, X, fmt='%.18e', delimiter=' ', newline=' ', header='',\n           footer='', comments='# ', encoding=None)\n</code></pre> <p>\u4fdd\u5b58\u6587\u672c\u6587\u4ef6</p> <pre><code>x = np.arange(20).reshape(4, 5)\nsave_path = \"array\"\nnp.savetxt(save_path, x)\n</code></pre> <p><code>ndarray.tofile(fid, sep=\"\", format=\"%s\")</code></p> <p>\u5c06\u6570\u7ec4\u4fdd\u5b58\u4e3a\u6587\u672c\u6587\u4ef6\u6216\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002</p> <ul> <li><code>fid</code>\uff1a\u4e00\u4e2a file \u5bf9\u8c61\u6216\u8005\u6587\u4ef6\u540d\u3002</li> <li><code>sep</code>\uff1a\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6307\u5b9a\u5206\u9694\u7b26\u3002\u5982\u679c\u4e3a\u7a7a\u6216\u8005\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u6309\u7167\u4e8c\u8fdb\u5236\u7684\u65b9\u5f0f\u5199\u5165\uff0c\u7b49\u4ef7\u4e8e<code>file.write(a.tobytes())</code>\u3002</li> <li><code>format</code>\uff1a\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6307\u5b9a\u4e86\u6570\u503c\u7684\u683c\u5f0f\u5316\u65b9\u5f0f\u3002</li> </ul>"},{"location":"Python3/NumPy/8.10.%E4%BF%9D%E5%AD%98%E5%92%8C%E5%8A%A0%E8%BD%BD.html#_2","title":"\u8bfb\u5165\u6587\u672c\u6587\u4ef6","text":"<p><code>np.loadtxt(fname, dtype, ...)</code></p> <p>\u4ece\u6587\u672c\u6587\u4ef6\u52a0\u8f7d NumPy \u6570\u7ec4\u3002</p> <pre><code>np.loadtxt(fname, dtype=float, comments='#', delimiter=None,\n           converters=None, skiprows=0, usecols=None, unpack=False, ndmin=0,\n           encoding='bytes', max_rows=None, like=None)\n</code></pre> <p>\u8bfb\u5165\u6587\u672c\u6587\u4ef6</p> <pre><code>np.loadtxt(\"array\")\n</code></pre> <pre><code>array([[ 0.,  1.,  2.,  3.,  4.],\n       [ 5.,  6.,  7.,  8.,  9.],\n       [10., 11., 12., 13., 14.],\n       [15., 16., 17., 18., 19.]])\n</code></pre>"},{"location":"Python3/NumPy/8.11.%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E7%BB%84.html","title":"8.11.\u7ed3\u6784\u5316\u6570\u7ec4","text":"<pre><code>import numpy as np\nimport pprint\n</code></pre> <pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.03.28\nnumpy version:  1.18.1\n</code></pre>"},{"location":"Python3/NumPy/8.11.%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E7%BB%84.html#_1","title":"\u7ed3\u6784\u5316\u6570\u7ec4\u5e38\u7528\u64cd\u4f5c","text":"<pre><code>x = np.array([('Rex', 9, 81.0), ('Fido', 3, 27.0)],\n             dtype=[('name', 'U10'), \n                    ('age', 'i4'), \n                    ('weight', 'f4')])\n\npprint.pprint(x)\n</code></pre> <pre><code>array([('Rex', 9, 81.), ('Fido', 3, 27.)],\n      dtype=[('name', '&lt;U10'), ('age', '&lt;i4'), ('weight', '&lt;f4')])\n</code></pre> <p>\u901a\u8fc7\u7d22\u5f15\uff0c\u53ef\u4ee5\u83b7\u5f97\u4e00\u4e2a\u7ed3\u6784 </p> <pre><code>pprint.pprint(x[0])\n\n# \u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 \u5b57\u6bb5\u540d\u79f0 \u5efa\u7acb\u7d22\u5f15\u6765\u8bbf\u95ee\u548c\u4fee\u6539\u7ed3\u6784\u5316\u6570\u7ec4\u7684\u5404\u4e2a \u5b57\u6bb5\uff1a\npprint.pprint(x[\"name\"])\npprint.pprint(x[[\"age\",\"name\"]])\n# \u6839\u636e \u5b57\u6bb5\u540d\u79f0 \u505a\u8fc7\u6ee4\npprint.pprint(x[x[\"age\"]&gt;5][\"name\"])\n# \u4fee\u6539\u5168\u90e8\u6570\u7ec4\u7684age\u5b57\u6bb5\nx[\"age\"] = 20\npprint.pprint(x)\n</code></pre> <pre><code>('Rex', 9, 81.)\narray(['Rex', 'Fido'], dtype='&lt;U10')\narray([(9, 'Rex'), (3, 'Fido')],\n      dtype={'names':['age','name'], 'formats':['&lt;i4','&lt;U10'],\n'offsets':[40,0], 'itemsize':48})\narray(['Rex'], dtype='&lt;U10')\narray([('Rex', 20, 81.), ('Fido', 20, 27.)],\n      dtype=[('name', '&lt;U10'), ('age', '&lt;i4'), ('weight', '&lt;f4')])\n</code></pre>"},{"location":"Python3/NumPy/8.11.%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E7%BB%84.html#_2","title":"\u521b\u5efa\u7ed3\u6784\u5316\u6570\u7ec4","text":""},{"location":"Python3/NumPy/8.11.%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E7%BB%84.html#list-of-tuple","title":"list of tuple","text":"<p>\u53ef\u4ee5\u901a\u8fc7 a list of tuple \u7684\u5f62\u5f0f\u521b\u5efa\u7ed3\u6784\u5316\u6570\u7ec4\u3002</p> <p>Tuple\u7684\u5f62\u5f0f\u662f<code>(fieldname, datatype, Shape)</code>\u3002<code>fieldname</code>\u662f\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u4f7f\u7528title\uff0c\u5219\u4e3a\u5143\u7ec4\u3002<code>fieldname</code>\u3001<code>Shape</code>\u53ef\u4ee5\u7701\u7565\uff0c\u5982\u679c<code>fieldname</code>\u7701\u7565\uff0c\u5219\u7528 <code>f#</code> \u7684\u9ed8\u8ba4\u540d\u79f0\u4ee3\u66ff\uff0c<code>shape</code> \u5982\u679c\u7701\u7565\uff0c\u5219\u9ed8\u8ba4\u4e3a<code>(1,)</code>\u3002</p> <pre><code>np.dtype([('x', 'f4'), ('y', np.float32), ('z', 'f4', (2, 2))])\n</code></pre> <pre><code>dtype([('x', '&lt;f4'), ('y', '&lt;f4'), ('z', '&lt;f4', (2, 2))])\n</code></pre> <p>\u5982\u679c <code>fieldname</code> \u662f\u7a7a\u5b57\u7b26\u4e32 <code>''</code>\uff0c\u5219\u5c06\u4e3a\u5b57\u6bb5\u6307\u5b9a\u683c\u5f0f\u4e3a <code>f#</code> \u7684\u9ed8\u8ba4\u540d\u79f0\uff0c\u5176\u4e2d <code>#</code> \u662f\u5b57\u6bb5\u7684\u6574\u6570\u7d22\u5f15\uff0c\u4ece\u5de6\u4fa7\u5f00\u59cb\u4ece0\u5f00\u59cb\u8ba1\u6570\uff1a</p> <pre><code>np.dtype([('x', 'f4'), ('', 'i4'), ('z', 'i8')])\n</code></pre> <pre><code>dtype([('x', '&lt;f4'), ('f1', '&lt;i4'), ('z', '&lt;i8')])\n</code></pre>"},{"location":"Python3/NumPy/8.11.%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E7%BB%84.html#_3","title":"\u9017\u53f7\u5206\u5272\u7684\u5b57\u7b26\u4e32","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u201cA string of comma-separated dtype specifications\u201d\u521b\u5efa\u7ed3\u6784\u5316\u6570\u7ec4\u3002\u5b57\u7b26\u4e32\u8981\u7b26\u5408\u89c4\u8303\u3002</p> <pre><code>np.dtype('i8, f4, S3')\n\nnp.dtype('3int8, float32, (2, 3)float64')\n</code></pre> <pre><code>dtype([('f0', 'i1', (3,)), ('f1', '&lt;f4'), ('f2', '&lt;f8', (2, 3))])\n</code></pre>"},{"location":"Python3/NumPy/8.11.%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E7%BB%84.html#dict-of-field-parameter-arrays","title":"dict of field parameter arrays","text":"<p>\u901a\u8fc7\u201c\u5173\u952e\u5b57\u53c2\u6570\u7ec4\u6210\u7684\u5b57\u5178\u201d\u521b\u5efa\u7ed3\u6784\u5316\u6570\u7ec4\u3002\u8fd9\u662f\u6700\u7075\u6d3b\u7684\u89c4\u8303\u5f62\u5f0f\uff0c\u56e0\u4e3a\u5b83\u5141\u8bb8\u63a7\u5236\u5b57\u6bb5\u7684\u5b57\u8282\u504f\u79fb\u548c\u7ed3\u6784\u7684\u9879\u76ee\u5927\u5c0f\u3002</p> <p>dict\u6709\u4e24\u4e2a\u5fc5\u9700\u952e<code>names</code>\u548c<code>format</code>\uff0c\u4ee5\u53ca\u56db\u4e2a\u53ef\u9009\u952e <code>offsets</code>\u3001<code>itemsize</code>\u3001<code>Aligned</code> \u548c <code>title</code>\uff1a</p> <ul> <li> <p><code>names</code>\u548c<code>format</code>\u7684\u503c\u5e94\u8be5\u5206\u522b\u662f\u76f8\u540c\u957f\u5ea6\u7684\u5b57\u6bb5\u540d\u5217\u8868\u548cdtype\u89c4\u8303\u5217\u8868\u3002</p> </li> <li> <p>\u53ef\u9009\u7684 <code>offsets</code> \u503c\u5e94\u8be5\u662f\u6574\u6570\u5b57\u8282\u504f\u79fb\u91cf\u7684\u5217\u8868\uff0c\u7ed3\u6784\u4e2d\u7684\u6bcf\u4e2a\u5b57\u6bb5\u90fd\u6709\u4e00\u4e2a\u504f\u79fb\u91cf\u3002\u5982\u679c\u672a\u7ed9\u51fa <code>offsets</code> \uff0c\u5219\u81ea\u52a8\u786e\u5b9a\u504f\u79fb\u91cf\u3002</p> </li> <li> <p>\u53ef\u9009\u7684 <code>itemsize</code> \u503c\u5e94\u8be5\u662f\u4e00\u4e2a\u6574\u6570\uff0c \u63cf\u8ff0<code>dtype</code>\u7684\u603b\u5927\u5c0f\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\uff0c\u5b83\u5fc5\u987b\u8db3\u591f\u5927\u4ee5\u5305\u542b\u6240\u6709\u5b57\u6bb5\u3002</p> </li> <li> <p>\u53ef\u9009\u7684<code>Aligned</code>\u503c\u53ef\u4ee5\u8bbe\u7f6e\u4e3aTrue\uff0c\u4ee5\u4f7f\u81ea\u52a8\u504f\u79fb\u8ba1\u7b97\u4f7f\u7528\u5bf9\u9f50\u7684\u504f\u79fb\u91cf\uff08\u8bf7\u53c2\u9605\u81ea\u52a8\u5b57\u8282\u504f\u79fb\u91cf\u548c\u5bf9\u9f50 \uff09\u3002</p> </li> <li> <p>\u53ef\u9009\u7684<code>titles</code>\u503c\u5e94\u8be5\u662f\u957f\u5ea6\u4e0e<code>names</code>\u76f8\u540c\u7684\u6807\u9898\u5217\u8868\u3002 </p> </li> </ul> <pre><code>np.dtype({'names': ['col1', 'col2'], 'formats': ['i4', 'f4']})\n\nnp.dtype({'names': ['col1', 'col2'],\n          'formats': ['i4', 'f4'],\n          'offsets': [0, 4],'itemsize': 12})\n</code></pre> <pre><code>dtype({'names':['col1','col2'], 'formats':['&lt;i4','&lt;f4'],\n'offsets':[0,4], 'itemsize':12})\n</code></pre>"},{"location":"Python3/NumPy/8.11.%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E7%BB%84.html#dict-of-fieldnam","title":"dict of fieldnam","text":"<p>\u901a\u8fc7 dict of fieldname \u521b\u5efa\u7ed3\u6784\u5316\u6570\u7ec4\u3002\u4e0d\u9f13\u52b1\u4f7f\u7528\u8fd9\u79cd\u5f62\u5f0f\uff0c\u56e0\u4e3aPython\u5b57\u5178\u5728Python 3.6\u4e4b\u524d\u7684Python\u7248\u672c\u4e2d\u4e0d\u4fdd\u7559\u987a\u5e8f\uff0c\u4f46\u7ed3\u6784\u5316dtype\u4e2d\u5b57\u6bb5\u7684\u987a\u5e8f\u6709\u610f\u4e49\u3002</p> <p>\u5b57\u5178\u7684\u5173\u952e\u5b57\u662f\u5b57\u6bb5\u540d\u79f0\uff0c\u503c\u662f\u6307\u5b9a\u7c7b\u578b\u548c\u504f\u79fb\u91cf\u7684\u5143\u7ec4\uff1a </p> <pre><code>np.dtype({'col1': ('i1', 0), 'col2': ('f4', 1)})\n</code></pre> <pre><code>dtype([('col1', 'i1'), ('col2', '&lt;f4')])\n</code></pre>"},{"location":"Python3/NumPy/8.11.%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E7%BB%84.html#_4","title":"\u64cd\u4f5c\u548c\u663e\u793a\u7ed3\u6784\u5316\u6570\u636e\u7c7b\u578b","text":"<pre><code>d = np.dtype([('x', 'i8'), ('y', 'f4')])\n\nprint(d.names)\nprint(d.fields)\n</code></pre> <pre><code>('x', 'y')\n{'x': (dtype('int64'), 0), 'y': (dtype('float32'), 8)}\n</code></pre>"},{"location":"Python3/NumPy/8.11.%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E7%BB%84.html#_5","title":"\u4e3a\u4ec0\u4e48\u9700\u8981\u7ed3\u6784\u5316\u6570\u7ec4","text":"<p>numpy\u7ed3\u6784\u5316\u6570\u7ec4\u4e2d\u7684\u7528\u6cd5\u597d\u50cf\u7c7b\u4f3c\u4e8ePython\u7684dict of list\uff0c\u90a3\u4e3a\u4ec0\u4e48\u8fd8\u8981\u7528numpy\u7ed3\u6784\u5316\u6570\u7ec4\u5462\uff1f</p> <p>\u56e0\u4e3anumpy\u7684\u7ed3\u6784\u5316\u6570\u7ec4\u5e95\u5c42\u662f\u7c7b\u4f3cC\u8bed\u8a00\u7684\u7ed3\u6784\uff0c\u5360\u7528\u4e00\u5757\u8fde\u7eed\u7684\u5185\u5b58\u533a\u57df\uff0c\u5e76\u4e14numpy\u5e95\u5c42\u662fC\u5b9e\u73b0\uff0cnumpy\u6570\u7ec4\u4e2d\u7684\u7c7b\u578b\u90fd\u662f\u9759\u6001\u7c7b\u578b\u7684\uff0c\u6027\u80fd\u597d\u4e8ePython\u7684\u7684\u5b57\u5178\u5217\u8868\u3002</p> <p>\u53ef\u4ee5\u6765\u505a\u4e00\u4e0b\u6027\u80fd\u6bd4\u8f83\u3002</p> <pre><code>import time\n\n### \u5b9a\u4e49\u8ba1\u65f6\u5668\ndef timer(func):\n   def wrapper(self, *args, **kwargs):\n       start = time.process_time()\n       something = func(self, *args, **kwargs)\n       end = time.process_time()\n       type_str = func.__repr__()\n\n       print(\"\u5f53\u524d\u51fd\u6570\uff1a\", type_str, \"\\n\", \"\u7528\u65f6\uff1a\",end - start, \"\u79d2\", sep=\"\")\n\n       return something\n   return wrapper\n\n# numpy\u7248\u672c\u957f\u4e00\u5c81\n@timer\ndef addage_numpy(data, loop):\n    for i in range(loop):\n        data['age'] += 1\n\n# python\u5faa\u73af\u957f\u4e00\u5c81\n@timer\ndef addage_python(data, loop):\n    for j in range(loop):\n        for i in range(4):\n            data[i][\"age\"] += 1\n\n# \u521b\u5efa\u7ed3\u6784\u5316\u6570\u7ec4\nnames = ['Lin', 'Pan', 'Shen', 'Zhou']\nages = [28, 33, 34, 29] \ngrades = [25, 26, 27, 24] \ndata_np = np.zeros(4, dtype={\n    'names':('name', 'age', 'grade'),\n    'formats':('U10', 'i4', 'i4')\n})\ndata_np['name'] = names\ndata_np['age'] = ages\ndata_np['grade'] = grades\n\n\ndata_py = []\nfor i in range(4):\n    person = {\"name\": names[i], \"age\": ages[i], \"grade\": grades[i]}\n    data_py.append(person)\n\n\naddage_numpy(data_np, loop=1000000)\naddage_python(data_py, loop=1000000)\n</code></pre> <pre><code>\u5f53\u524d\u51fd\u6570\uff1a&lt;function addage_numpy at 0x0000021944ECBA60&gt;\n\u7528\u65f6\uff1a4.453125\u79d2\n\u5f53\u524d\u51fd\u6570\uff1a&lt;function addage_python at 0x0000021944ECB9D8&gt;\n\u7528\u65f6\uff1a1.421875\u79d2\n</code></pre>"},{"location":"Python3/NumPy/8.11.%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E7%BB%84.html#_6","title":"\u8bb0\u5f55\u6570\u7ec4","text":"<p>\u8bb0\u5f55\u6570\u7ec4\u548c\u7ed3\u6784\u6570\u7ec4\u6ca1\u6709\u592a\u5927\u533a\u522b\uff0c\u5b83\u4eec\u6240\u4f7f\u7528\u7684\u573a\u666f\u4e5f\u662f\u7c7b\u4f3c\u7684\uff0c\u53ea\u4e0d\u8fc7\u8bb0\u5f55\u6570\u7ec4\u53ef\u4ee5\u901a\u8fc7\u5c5e\u6027\u7684\u65b9\u5f0f\u8bbf\u95ee\u6570\u636e\u3002</p> <p>\u521b\u5efa\u8bb0\u5f55\u6570\u7ec4\u7684\u6700\u7b80\u5355\u65b9\u6cd5\u662f<code>numpy.rec.array</code>\u3002</p> <pre><code>recordarr = np.rec.array([(1, 2., 'Hello'), (2, 3., \"World\")],                  \n                         dtype=[('foo', 'i4'),('bar', 'f4'), ('baz', 'S10')])\nprint(type(recordarr))\n# \u901a\u8fc7\u5c5e\u6027\u8bbf\u95ee\u6570\u636e\nrecordarr.foo\n</code></pre> <pre><code>&lt;class 'numpy.recarray'&gt;\n</code></pre> <pre><code>array([1, 2])\n</code></pre> <p><code>numpy.rec.array</code> \u53ef\u4ee5\u5c06\u5404\u79cd\u53c2\u6570\u8f6c\u6362\u4e3a\u8bb0\u5f55\u6570\u7ec4\uff0c\u5305\u62ec\u7ed3\u6784\u5316\u6570\u7ec4\uff1a</p> <pre><code>arr = np.array([(1, 2., 'Hello'), (2, 3., \"World\")],\n               dtype=[('foo', 'i4'), ('bar', 'f4'), ('baz', 'S10')])\n\nrecordarr = np.rec.array(arr)\npprint.pprint(recordarr)\n</code></pre> <pre><code>rec.array([(1, 2., b'Hello'), (2, 3., b'World')],\n          dtype=[('foo', '&lt;i4'), ('bar', '&lt;f4'), ('baz', 'S10')])\n</code></pre> <p><code>numpy.rec</code>\u6a21\u5757\u63d0\u4f9b\u4e86\u591a\u4e2a\u4fbf\u5229\u7684\u51fd\u6570\u6765\u521b\u5efa\u8bb0\u5f55\u6570\u7ec4\uff0c\u8bf7\u53c2\u9605\u8bb0\u5f55\u6570\u7ec4\u521b\u5efa\u65b9\u6cd5\u5217\u8868\u3002</p> <p>\u6ce8\u610f\uff1a<code>numpy.rec</code>\u662f<code>numpy.core.records</code>\u7684\u9996\u9009\u522b\u540d\u3002</p> <ol> <li> <p><code>core.records.array(obj[, dtype, shape, \u2026])</code>\uff1a\u4ece\u5404\u79cd\u5404\u6837\u7684\u5bf9\u8c61\u6784\u9020\u4e00\u4e2a\u8bb0\u5f55\u6570\u7ec4\u3002</p> </li> <li> <p><code>core.records.fromarrays(arrayList[, dtype, \u2026])</code>\uff1a\u4ece\u4e00\u7ef4\u7684list\u6216array\u521b\u5efa\u8bb0\u5f55\u6570\u7ec4\u3002</p> </li> <li> <p><code>core.records.fromrecords(recList[, dtype, \u2026])</code>\uff1a\u4ece\u6587\u672c\u683c\u5f0f\u7684list\u521b\u5efa\u4e00\u4e2a\u8bb0\u5f55\u6570\u7ec4\u3002</p> </li> <li> <p><code>core.records.fromstring(datastring[, dtype, \u2026])</code>\uff1a\u4ece\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32\u6570\u636e\u521b\u5efa\uff08\u53ea\u8bfb\uff09\u8bb0\u5f55\u6570\u7ec4\u3002</p> </li> <li> <p><code>core.records.fromfile(fd[, dtype, shape, \u2026])</code>\uff1a\u4ece\u4e8c\u8fdb\u5236\u6587\u4ef6\u6570\u636e\u521b\u5efa\u8bb0\u5f55\u6570\u7ec4\u3002</p> </li> </ol>"},{"location":"Python3/NumPy/8.11.%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E7%BB%84.html#_7","title":"\u53c2\u8003","text":"<ol> <li> <p>\u4e00\u6587\u5f7b\u5e95\u641e\u61c2numpy\u7684\u7ed3\u6784\u5316\u6570\u7ec4\u2014\u2014structured array</p> </li> <li> <p>Numpy\u7684\u7ed3\u6784\u5316\u6570\u7ec4</p> </li> <li> <p>\u7ed3\u6784\u5316\u6570\u7ec4</p> </li> <li> <p>\u7ed3\u6784\u5316\u6570\u7ec4</p> </li> </ol>"},{"location":"Python3/NumPy/8.12.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html","title":"8.12.\u6570\u636e\u5904\u7406","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.04.12\nnumpy version:  1.18.1\n</code></pre> <pre><code>ary = copy.deepcopy(np.arange(16).reshape(4,4))\nary\n</code></pre> <pre><code>array([[ 0,  1,  2,  3],\n       [ 4,  5,  6,  7],\n       [ 8,  9, 10, 11],\n       [12, 13, 14, 15]])\n</code></pre>"},{"location":"Python3/NumPy/8.12.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_1","title":"\u83b7\u53d6\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7d20\u7684\u7d22\u5f15","text":""},{"location":"Python3/NumPy/8.12.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_2","title":"\u6700\u5927\u5143\u7d20\u7684\u7d22\u5f15","text":"<pre><code>print(np.argmax(ary))\nprint(np.argmax(ary, axis=1))\nprint(ary.argmax(axis=1))\n</code></pre> <pre><code>15\n[3 3 3 3]\n[3 3 3 3]\n</code></pre> <p>\u5982\u679c\u53ea\u662f\u60f3\u627e\u51fa\u6700\u5927\u503c\uff1a</p> <pre><code>print(np.amax(ary))\n# np.max\u662fnp.amax\u7684\u522b\u540d\nprint(np.max(ary, axis=0))\nprint(ary.max())\nprint(ary.max(axis=0))\n</code></pre> <pre><code>15\n[12 13 14 15]\n15\n[12 13 14 15]\n</code></pre>"},{"location":"Python3/NumPy/8.12.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_3","title":"\u6700\u5c0f\u5143\u7d20\u7684\u7d22\u5f15","text":"<pre><code>np.argmin(ary)\n</code></pre> <pre><code>0\n</code></pre> <p>\u5982\u679c\u53ea\u662f\u60f3\u627e\u51fa\u6700\u5c0f\u503c\uff1a</p> <pre><code>np.amin(ary)\n</code></pre> <pre><code>0\n</code></pre>"},{"location":"Python3/NumPy/8.12.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_4","title":"\u6309\u5927\u5c0f\u6392\u5e8f\u7684\u7d22\u5f15","text":"<pre><code>np.argsort(a, axis=-1, kind=None, order=None)\n</code></pre> <ul> <li> <p><code>kind</code> \uff1a <code>'quicksort', 'mergesort', 'heapsort', 'stable'</code>\u3002\u6307\u5b9a\u6392\u5e8f\u7b97\u6cd5\u3002\u9ed8\u8ba4\u4e3a <code>'quicksort'</code>\u3002</p> </li> <li> <p><code>order</code>\uff1a\u5982\u679c\u662f\u7ed3\u6784\u5316\u6570\u7ec4\uff0c\u53ef\u4ee5\u7528<code>order</code>\u53c2\u6570\u6307\u5b9a\u6309\u7167\u6570\u7ec4\u7684\u5b57\u6bb5\u987a\u5e8f\u6392\u5e8f\u3002</p> </li> </ul> <pre><code>ary2 = np.array([1, 4, 3, 2, 0, 9, 8, 5, 7])\n# \u7531\u5c0f\u5230\u5927\u6392\u5e8f\nary2.argsort()\nary2[ary2.argsort()]\n</code></pre> <pre><code>array([0, 1, 2, ..., 7, 8, 9])\n</code></pre> <pre><code>np.argpartition(a, kth, axis=-1, kind='introselect', order=None)\n</code></pre> <ul> <li> <p><code>kth</code>\uff1a\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\u524d<code>kth</code>\u4e2a\u5143\u7d20\u3002\u56e0\u4e3a\u662f\u4e0d\u5b8c\u5168\u6392\u5e8f\uff0c\u56e0\u6b64\u6bd4<code>argsort</code>\u7684\u6548\u679c\u66f4\u9ad8\u3002</p> </li> <li> <p><code>kind</code>\uff1a <code>'introselect'</code>\u3002\u6307\u5b9a\u6392\u5e8f\u7b97\u6cd5\u3002\u9ed8\u8ba4\u4e3a <code>'introselect'</code>\u3002</p> </li> <li> <p><code>order</code>\uff1a\u5982\u679c\u662f\u7ed3\u6784\u5316\u6570\u7ec4\uff0c\u53ef\u4ee5\u7528<code>order</code>\u53c2\u6570\u6307\u5b9a\u6309\u7167\u6570\u7ec4\u7684\u5b57\u6bb5\u987a\u5e8f\u6392\u5e8f\u3002</p> </li> </ul> <pre><code>ary2 = np.array([1, 4, 3, 2, 0, 9, 8, 5, 7])\n# kth \u4e3a\u975e\u8d1f\u6570: \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\nprint(ary2.argpartition(2))\nprint(ary2[ary2.argpartition(2)])\n# kth \u4e3a\u8d1f\u6570: \u4ece\u5927\u5230\u5c0f\u6392\u5e8f\nprint(ary2[ary2.argpartition(-2)])\n</code></pre> <pre><code>[4 0 3 ... 6 7 8]\n[0 1 2 ... 8 5 7]\n[0 1 5 ... 7 8 9]\n</code></pre>"},{"location":"Python3/NumPy/8.12.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_5","title":"\u975e\u96f6\u6570\u7684\u7d22\u5f15","text":"<p><code>np.nonzero</code>\u4f1a\u8fd4\u56de\u975e\u96f6\u5143\u7d20\u7684\u7d22\u5f15\uff08\u8fd9\u610f\u5473\u7740<code>nan</code>\u7684\u7d22\u5f15\u4e5f\u4f1a\u88ab\u8fd4\u56de\uff09\u3002</p> <pre><code>print(\"\u7b26\u5408\u6761\u4ef6\u7684\u7d22\u5f15\uff1a\")\npprint.pprint(np.nonzero(ary))\n# ary.nonzero()\nary[np.nonzero(ary)]\n</code></pre> <pre><code>\u7b26\u5408\u6761\u4ef6\u7684\u7d22\u5f15\uff1a\n(array([0, 0, 0, ..., 3, 3, 3], dtype=int64),\n array([1, 2, 3, ..., 1, 2, 3], dtype=int64))\n</code></pre> <pre><code>array([ 1,  2,  3, ..., 13, 14, 15])\n</code></pre>"},{"location":"Python3/NumPy/8.12.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_6","title":"\u6307\u5b9a\u6761\u4ef6","text":"<p><code>np.where(condition)</code>\uff0c\u5f53condition\u4e3a\u771f\uff0c\u5219\u8fd4\u56de\u5143\u7d20\u7684\u7d22\u5f15\uff1a</p> <pre><code>print(\"\u7b26\u5408\u6761\u4ef6\u7684\u7d22\u5f15\uff1a\")\npprint.pprint(np.where(ary&gt;5))\nary[np.where(ary&gt;5)]\n</code></pre> <pre><code>\u7b26\u5408\u6761\u4ef6\u7684\u7d22\u5f15\uff1a\n(array([1, 1, 2, ..., 3, 3, 3], dtype=int64),\n array([2, 3, 0, ..., 1, 2, 3], dtype=int64))\n</code></pre> <pre><code>array([ 6,  7,  8, ..., 13, 14, 15])\n</code></pre> <p><code>np.where(condition)</code>\u5b9e\u9645\u4e0a\u662f<code>np.asarray(condition).nonzero()</code>\u7684\u5feb\u6377\u65b9\u5f0f\u3002</p> <pre><code>ary[np.asarray(ary&gt;5).nonzero()]\n</code></pre> <pre><code>array([ 6,  7,  8, ..., 13, 14, 15])\n</code></pre> <p>\u5982\u679c\u53ea\u662f\u60f3\u5f97\u5230\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7d20\uff0c\u4e0d\u9700\u8981\u7d22\u5f15\uff0c\u4f7f\u7528mask\u6570\u7ec4\u662f\u4e00\u4e2a\u65b9\u4fbf\u7684\u65b9\u6cd5\uff1a</p> <pre><code>pprint.pprint(ary&gt;5)\nary[ary&gt;5]\n\n# np.nanargmax(ary)\n</code></pre> <pre><code>array([[False, False, False, False],\n       [False, False,  True,  True],\n       [ True,  True,  True,  True],\n       [ True,  True,  True,  True]])\n</code></pre> <pre><code>array([ 6,  7,  8, ..., 13, 14, 15])\n</code></pre>"},{"location":"Python3/NumPy/8.12.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_7","title":"\u7f3a\u5931\u503c\u5904\u7406","text":"<pre><code>nan_ary = np.arange(16, dtype=np.float32).reshape(4,4)\nnan_ary[3,2] = np.NAN\nnan_ary[1,1] = np.nan\nnan_ary\n</code></pre> <pre><code>array([[ 0.,  1.,  2.,  3.],\n       [ 4., nan,  6.,  7.],\n       [ 8.,  9., 10., 11.],\n       [12., 13., nan, 15.]], dtype=float32)\n</code></pre> <p>\u4f7f\u7528<code>np.isnan</code> ufunc \u51fd\u6570\u5f97\u5230mask\u6570\u7ec4\uff1a</p> <pre><code>np.isnan(nan_ary)\n</code></pre> <pre><code>array([[False, False, False, False],\n       [False,  True, False, False],\n       [False, False, False, False],\n       [False, False,  True, False]])\n</code></pre> <p>\u8fd9\u6837\u5c31\u53ef\u4ee5\u8f7b\u677e\u5730\u5c06<code>nan</code>\u586b\u5145\u4e3a\u5e38\u91cf\uff1a</p> <pre><code>nan_ary[np.isnan(nan_ary)]\n# nan_ary[np.isnan(nan_ary)] = 2\n</code></pre> <pre><code>array([nan, nan], dtype=float32)\n</code></pre> <p>\u5982\u679c\u60f3\u5f97\u5230<code>nan</code>\u503c\u7684\u7d22\u5f15\uff1a</p> <pre><code>np.where(np.isnan(nan_ary))\n</code></pre> <pre><code>(array([1, 3], dtype=int64), array([1, 2], dtype=int64))\n</code></pre> <p>\u5982\u679c\u60f3\u4e22\u5f03\u5b58\u5728<code>nan</code>\u503c\u7684\u884c\uff1a</p> <pre><code>np.delete(nan_ary, np.where(np.isnan(nan_ary))[0], axis=0)\n</code></pre> <pre><code>array([[ 0.,  1.,  2.,  3.],\n       [ 8.,  9., 10., 11.]], dtype=float32)\n</code></pre> <p>\u7edf\u8ba1\u5b58\u5728<code>nan</code>\u503c\u7684\u884c\uff08\u6837\u672c\uff09\u6240\u5360\u7684\u6bd4\u5217\u4e5f\u5f88\u7b80\u5355\uff1a</p> <pre><code>len(np.where(np.isnan(nan_ary))[0]) / nan_ary.shape[0]\n</code></pre> <pre><code>0.5\n</code></pre> <p>\u5982\u679c\u60f3\u5c06<code>nan</code>\u503c\u586b\u5145\u4e3a\u975e\u5e38\u91cf\uff08\u6bd4\u5982\u5e73\u5747\u503c\u3001\u4e2d\u4f4d\u6570\u7b49\uff09\uff0c\u8fd9\u5c31\u8981\u5148\u8ba1\u7b97\u51fa\u5e73\u5747\u503c,\u518d\u5bf9<code>nan</code>\u6570\u636e\u9010\u4e2a\u8fdb\u884c\u586b\u5145\u3002</p>"},{"location":"Python3/NumPy/8.12.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_8","title":"\u586b\u5145\u8fb9\u7f18","text":"<pre><code>np.pad(nan_ary, pad_width=1, mode=\"mean\")\n</code></pre> <pre><code>array([[ nan,  6. ,  nan,  nan,  9. ,  nan],\n       [ 1.5,  0. ,  1. ,  2. ,  3. ,  1.5],\n       [ nan,  4. ,  nan,  6. ,  7. ,  nan],\n       [ 9.5,  8. ,  9. , 10. , 11. ,  9.5],\n       [ nan, 12. , 13. ,  nan, 15. ,  nan],\n       [ nan,  6. ,  nan,  nan,  9. ,  nan]], dtype=float32)\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html","title":"8.14.tensorflow","text":"<pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.20\ntensorflow version:  2.5.0\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#_1","title":"\u521b\u5efa\u5f20\u91cf","text":"<pre><code>tf.constant(value, dtype=None, shape=None, name='Const')\ntf.range(start, limit=None, delta=1, dtype=None, name='range')\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#_2","title":"\u6807\u91cf","text":"<p>\u5728 tensorflow \u4e2d\u521b\u5efa\u4e00\u4e2a\u6807\u91cf</p> <pre><code>scalar = tf.constant(1.2)\n# \u67e5\u770b scalar \u7684\u7c7b\u578b\npprint(type(scalar))\n# \u5224\u65ad\u662f\u5426\u4e3a tensor\npprint(tf.is_tensor(scalar))\npprint(scalar)\n</code></pre> <pre><code>&lt;class 'tensorflow.python.framework.ops.EagerTensor'&gt;\nTrue\n&lt;tf.Tensor: shape=(), dtype=float32, numpy=1.2&gt;\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#_3","title":"\u5411\u91cf","text":"<p>\u4f20\u5165 array-like \u5bf9\u8c61\u7528\u4e8e\u521b\u5efa\u5411\u91cf\uff1a</p> <pre><code>vector = tf.constant([[1.2, 1, 2], [4, 5, 6]], name=\"vanilla\")\npprint(vector)\npprint(vector.dtype)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2, 3), dtype=float32, numpy=\narray([[1.2, 1. , 2. ],\n       [4. , 5. , 6. ]], dtype=float32)&gt;\ntf.float32\n</code></pre> <p>\u67e5\u770b\u5f20\u91cf\u7684\u7ef4\u5ea6\u4fe1\u606f\uff1a</p> <pre><code>pprint(vector.get_shape())\npprint(vector.shape)\npprint(tf.shape(vector))\npprint(vector.ndim)\npprint(tf.size(vector))\n\n# Updates the shape of this tensor.\nvector.set_shape((2, None))\n# It is recommended to use `tf.ensure_shape` instead of `Tensor.set_shape`\n# Updates the shape of a tensor and checks at runtime that the shape holds.\n</code></pre> <pre><code>TensorShape([2, 3])\nTensorShape([2, 3])\n&lt;tf.Tensor: shape=(2,), dtype=int32, numpy=array([2, 3], dtype=int32)&gt;\n2\n&lt;tf.Tensor: shape=(), dtype=int32, numpy=6&gt;\n</code></pre> <p>\u67e5\u770b\u5f20\u91cf\u4f4d\u4e8e\u54ea\u4e2a\u7269\u7406\u8bbe\u5907\u4e2d\uff1a</p> <pre><code>pprint(vector.device)\npprint(vector.backing_device)\n</code></pre> <pre><code>'/job:localhost/replica:0/task:0/device:CPU:0'\n'/job:localhost/replica:0/task:0/device:CPU:0'\n</code></pre> <p>\u5728 CPU \u6216 GPU \u4e2d\u521b\u5efa\u76f8\u540c\u7684\u5f20\u91cf\uff1a</p> <pre><code># Return a copy of this Tensor with contents backed by memory on the GPU.\nvector = vector.gpu()\npprint(vector.device)\n# Return a copy of this Tensor with contents backed by host memory.\nvector = vector.cpu()\npprint(vector.device)\n</code></pre> <pre><code>---------------------------------------------------------------------------RuntimeError\nTraceback (most recent call last)&lt;ipython-input-1-2179804df233&gt; in\n&lt;module&gt;\n      1 # Return a copy of this Tensor with contents backed by memory\non the GPU.\n----&gt; 2 vector = vector.gpu()\n      3 pprint(vector.device)\n      4 # Return a copy of this Tensor with contents backed by host\nmemory.\n      5 vector = vector.cpu()\n~/Installed/miniconda3/envs/blog/lib/python3.9/site-\npackages/tensorflow/python/util/deprecation.py in new_func(*args,\n**kwargs)\n    335               'in a future version' if date is None else\n('after %s' % date),\n    336               instructions)\n--&gt; 337       return func(*args, **kwargs)\n    338\n    339     doc_controls.set_deprecated(new_func)\n~/Installed/miniconda3/envs/blog/lib/python3.9/site-\npackages/tensorflow/python/framework/ops.py in gpu(self, gpu_index)\n   1232       as this Tensor.\n   1233     \"\"\"\n-&gt; 1234     return self._copy(context.context(), \"GPU:\" +\nstr(gpu_index))\n   1235\n   1236   def set_shape(self, shape):\n~/Installed/miniconda3/envs/blog/lib/python3.9/site-\npackages/tensorflow/python/framework/ops.py in _copy(self, ctx,\ndevice_name)\n   1174   def _copy(self, ctx=None, device_name=None):\n   1175     \"\"\"Copies tensor to dest device.\"\"\"\n-&gt; 1176     new_tensor = self._copy_nograd(ctx, device_name)\n   1177     # Record the copy on tape and define backprop copy as\nwell.\n   1178     if context.executing_eagerly():\n~/Installed/miniconda3/envs/blog/lib/python3.9/site-\npackages/tensorflow/python/framework/ops.py in _copy_nograd(self, ctx,\ndevice_name)\n   1167     try:\n   1168       ctx.ensure_initialized()\n-&gt; 1169       new_tensor = self._copy_to_device(device_name)\n   1170     except core._NotOkStatusException as e:\n   1171       six.raise_from(core._status_to_exception(e.code,\ne.message), None)\nRuntimeError: GPU:0 unknown device.\n</code></pre> <p>\u83b7\u53d6\u5f20\u91cf\u7684\u53ef\u6563\u5217\u5bf9\u8c61\uff1a</p> <pre><code># Returns a hashable reference object to this Tensor.\nvector.ref()\ntry:\n    hash(vector)\nexcept TypeError as e:\n    print(e)\n\nprint(hash(vector.ref()))\n</code></pre> <pre><code>Tensor is unhashable. Instead, use tensor.ref() as the key.\n140021237826832\n</code></pre> <p>\u5c06\u5f20\u91cf\u8f6c\u6362\u4e3a NumPy \u7684\u6570\u636e\u7c7b\u578b\uff1a</p> <pre><code>pprint(vector.numpy())\npprint(np.array(vector))\n</code></pre> <pre><code>array([[1.2, 1. , 2. ],\n       [4. , 5. , 6. ]], dtype=float32)\narray([[1.2, 1. , 2. ],\n       [4. , 5. , 6. ]], dtype=float32)\n</code></pre> <p>\u521b\u5efa\u5e8f\u5217</p> <pre><code>tf.range(start=-10, limit=10, delta=2, dtype=None, name='test')\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(10,), dtype=int32, numpy=array([-10,  -8,  -6,  -4,\n-2,   0,   2,   4,   6,   8], dtype=int32)&gt;\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#_4","title":"\u77e9\u9635","text":"<pre><code>tf.constant([[1, 2], [3, 4]])\ntf.constant([1, 2, 3, 4], shape=(2, 2))\n\n# \u5b9a\u4e49\u4e09\u7ef4\u5f20\u91cf\ntf.constant([[[1, 2], [3, 4]]])\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(1, 2, 2), dtype=int32, numpy=\narray([[[1, 2],\n        [3, 4]]], dtype=int32)&gt;\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#_5","title":"\u4ee5\u586b\u5145\u7684\u65b9\u5f0f\u521b\u5efa\u5f20\u91cf","text":"<p>\u5728 TensorFlow \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u591a\u79cd\u65b9\u5f0f\u521b\u5efa\u5f20\u91cf\uff0c\u5982\u4ece Python \u5217\u8868\u5bf9\u8c61\u521b\u5efa\uff0c\u4ece NumPy \u6570\u7ec4\u521b\u5efa\uff0c\u6216\u8005\u521b\u5efa\u91c7\u6837\u81ea\u67d0\u79cd\u5df2\u77e5\u5206\u5e03\u7684\u5f20\u91cf\u7b49\u3002</p> <pre><code>tf.zeros(shape, dtype=&lt;dtype: 'float32'&gt;, name=None)\ntf.ones(shape, dtype=&lt;dtype: 'float32'&gt;, name=None)\ntf.zeros_like(input, dtype=None, name=None)\ntf.ones_like(input, dtype=None, name=None)\n</code></pre> <p>\u521b\u5efa\u5168\u4e3a 0 \u6216\u5168\u4e3a 1 \u7684\u5f20\u91cf</p> <pre><code>print(tf.zeros((2, 2)))\nprint(tf.zeros_like(np.arange(8).reshape((2, 4))))\n\nprint(tf.ones(8))\nprint(tf.ones_like((2, 2)))\n</code></pre> <pre><code>tf.Tensor(\n[[0. 0.]\n [0. 0.]], shape=(2, 2), dtype=float32)\ntf.Tensor(\n[[0 0 0 0]\n [0 0 0 0]], shape=(2, 4), dtype=int64)\ntf.Tensor([1. 1. 1. 1. 1. 1. 1. 1.], shape=(8,), dtype=float32)\ntf.Tensor([1 1], shape=(2,), dtype=int32)\n</code></pre> <p>\u521b\u5efa\u7528\u6307\u5b9a\u6807\u91cf\u586b\u5145\u7684\u5f20\u91cf</p> <pre><code>tf.fill(dims, value, name=None)\n</code></pre> <pre><code>pprint(tf.fill(dims=[], value=8))  # \u6807\u91cf\npprint(tf.fill(dims=(2, 4), value=2))\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(), dtype=int32, numpy=8&gt;\n&lt;tf.Tensor: shape=(2, 4), dtype=int32, numpy=\narray([[2, 2, 2, 2],\n       [2, 2, 2, 2]], dtype=int32)&gt;\n</code></pre> <p>\u521b\u5efa\u5355\u4f4d\u77e9\u9635</p> <pre><code>pprint(tf.eye(4))\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(4, 4), dtype=float32, numpy=\narray([[1., 0., 0., 0.],\n       [0., 1., 0., 0.],\n       [0., 0., 1., 0.],\n       [0., 0., 0., 1.]], dtype=float32)&gt;\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#_6","title":"\u5176\u4ed6\u5185\u5bb9","text":"<p>\u590d\u5236\u4e00\u4e2a\u5f20\u91cf\uff1a</p> <pre><code>tf.identity([[1, 2, 3], [4, 5, 6]])\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2, 3), dtype=int32, numpy=\narray([[1, 2, 3],\n       [4, 5, 6]], dtype=int32)&gt;\n</code></pre> <p>\u6539\u53d8\u5f20\u91cf\u7684\u5f62\u72b6\uff1a</p> <pre><code>tf.reshape(tf.ones(8), shape=(2, 4), name=None)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2, 4), dtype=float32, numpy=\narray([[1., 1., 1., 1.],\n       [1., 1., 1., 1.]], dtype=float32)&gt;\n</code></pre> <p>\u83b7\u53d6\u4e00\u4e9b\u5217\u5f20\u91cf\u7684<code>shape</code>\u4fe1\u606f\uff1a</p> <pre><code>tensor = tf.constant([[1, 2, 3], [4, 5, 6]])\ntf.shape_n([tensor, tensor])\n\ntf.repeat([[1,2], [3,4]], repeats=2)\ny, idx = tf.unique(tf.repeat([[1, 2], [3, 4]], repeats=2))\na, b, c = tf.unique_with_counts(tf.repeat([[1, 2], [3, 4]], repeats=2))\n\n# https://www.tensorflow.org/api_docs/python/tf/squeeze?hl=zh-cn\n# tensor = tf.constant([[1, 2, 3], [4, 5, 6]])\n# tf.squeeze(tensor)\n\n# \u6682\u65f6\u5ffd\u7565\ntf.one_hot(10, 5)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(5,), dtype=float32, numpy=array([0., 0., 0., 0.,\n0.], dtype=float32)&gt;\n</code></pre> <p>\u7d22\u5f15\u65b9\u6cd5</p> <pre><code># https://zhuanlan.zhihu.com/p/45673869\nH.get_param(tf.gather)\nH.get_param(tf.gather_nd)\nH.get_param(tf.where)\n\n\nparams = tf.constant(['p0', 'p1', 'p2', 'p3', 'p4', 'p5'])\nparams[3].numpy()\n\ntf.gather(params, 3).numpy()\n\n# tf.strided_slice\n# tf.slice\n</code></pre> <pre><code>gather_v2(params, indices, validate_indices=None, axis=None,\nbatch_dims=0,\n          name=None)\ngather_nd_v2(params, indices, batch_dims=0, name=None)\nwhere_v2(condition, x=None, y=None, name=None)\n</code></pre> <pre><code>b'p3'\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#_7","title":"\u62fc\u63a5\u5f20\u91cf","text":"<pre><code>tf.stack(values, axis=0, name='stack')\ntf.unstack(value, num=None, axis=0, name='unstack')\ntf.concat(values, axis, name='concat')\n</code></pre> <p>\u6cbf\u7740\u201c\u65b0\u8f74\u201d\u62fc\u63a5\u6570\u636e\uff0c\u76f8\u5f53\u4e8e<code>np.stack</code>\u7684\u6548\u679c\uff1a</p> <pre><code>a = tf.constant([[0, 1, 2], [3, 4, 5]])\nb = tf.constant([[6, 7, 8], [9, 10, 11]])\ntf.stack([a, b], axis=0)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2, 2, 3), dtype=int32, numpy=\narray([[[ 0,  1,  2],\n        [ 3,  4,  5]],\n\n       [[ 6,  7,  8],\n        [ 9, 10, 11]]], dtype=int32)&gt;\n</code></pre> <p>\u6cbf\u7740\u6307\u5b9a\u8f74\u62c6\u5206\u5f20\u91cf\uff1a</p> <pre><code>c = tf.stack([a, b], axis=0)\nprint(tf.unstack(c, axis=0), \"\\n\")\nprint(tf.unstack(c, axis=1), \"\\n\")\n\nd = tf.constant([[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10, 11]])\npprint(tf.unstack(d, num=4, axis=0))\n</code></pre> <pre><code>[&lt;tf.Tensor: shape=(2, 3), dtype=int32, numpy=\narray([[0, 1, 2],\n       [3, 4, 5]], dtype=int32)&gt;, &lt;tf.Tensor: shape=(2, 3),\ndtype=int32, numpy=\narray([[ 6,  7,  8],\n       [ 9, 10, 11]], dtype=int32)&gt;]\n\n[&lt;tf.Tensor: shape=(2, 3), dtype=int32, numpy=\narray([[0, 1, 2],\n       [6, 7, 8]], dtype=int32)&gt;, &lt;tf.Tensor: shape=(2, 3),\ndtype=int32, numpy=\narray([[ 3,  4,  5],\n       [ 9, 10, 11]], dtype=int32)&gt;]\n\n[&lt;tf.Tensor: shape=(3,), dtype=int32, numpy=array([0, 1, 2],\ndtype=int32)&gt;,\n &lt;tf.Tensor: shape=(3,), dtype=int32, numpy=array([3, 4, 5],\ndtype=int32)&gt;,\n &lt;tf.Tensor: shape=(3,), dtype=int32, numpy=array([6, 7, 8],\ndtype=int32)&gt;,\n &lt;tf.Tensor: shape=(3,), dtype=int32, numpy=array([ 9, 10, 11],\ndtype=int32)&gt;]\n</code></pre> <p>\u6cbf\u7740\u4e00\u4e2a\u5df2\u5b58\u5728\u7684\u8f74\u62fc\u63a5\u5f20\u91cf\uff1a</p> <pre><code>a = tf.constant([[0, 1, 2], [3, 4, 5]])\nb = tf.constant([[6, 7, 8], [9, 10, 11]])\npprint(tf.concat([a, b], axis=0, name=\"concat\"))\nprint()\npprint(tf.concat([a, b], axis=1, name=\"concat\"))\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(4, 3), dtype=int32, numpy=\narray([[ 0,  1,  2],\n       [ 3,  4,  5],\n       [ 6,  7,  8],\n       [ 9, 10, 11]], dtype=int32)&gt;\n\n&lt;tf.Tensor: shape=(2, 6), dtype=int32, numpy=\narray([[ 0,  1,  2,  6,  7,  8],\n       [ 3,  4,  5,  9, 10, 11]], dtype=int32)&gt;\n</code></pre> <pre><code>tf.split(value, num_or_size_splits, axis=0, num=None, name='split')\n</code></pre> <pre><code># https://www.tensorflow.org/api_docs/python/tf/split?hl=zh-cn\ntf.split(tf.constant([[1, 2, 3], [4, 5, 6]]), num_or_size_splits=2)\n</code></pre> <pre><code>[&lt;tf.Tensor: shape=(1, 3), dtype=int32, numpy=array([[1, 2, 3]],\ndtype=int32)&gt;,\n &lt;tf.Tensor: shape=(1, 3), dtype=int32, numpy=array([[4, 5, 6]],\ndtype=int32)&gt;]\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#_8","title":"\u521b\u5efa\u5b57\u7b26\u4e32","text":"<pre><code>string = tf.constant(\"Hello, tensorflow.\")\npprint(string)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(), dtype=string, numpy=b'Hello, tensorflow.'&gt;\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#strings","title":"<code>strings</code>\u6a21\u5757\u7684\u51fd\u6570","text":"<p>\u4e00\u4e9b\u793a\u4f8b\uff1a</p> <pre><code>tf.strings.as_string([1, 2, 3, 4])\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(4,), dtype=string, numpy=array([b'1', b'2', b'3',\nb'4'], dtype=object)&gt;\n</code></pre> <p>\u5c06\u5b57\u7b26\u4e32\u6570\u5b57\u8f6c\u6362\u4e3a\u6570\u503c\u578b\u6570\u5b57\uff0c\u53ef\u4ee5\u6307\u5b9a\u7c7b\u578b</p> <pre><code>tmp_str = tf.constant([\"1\", \"2\", \"3\", \"4\"], shape=(2, 2))\ntf.strings.to_number(tmp_str, out_type=tf.dtypes.float32)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2, 2), dtype=float32, numpy=\narray([[1., 2.],\n       [3., 4.]], dtype=float32)&gt;\n</code></pre> <p>\u53c2\u8003</p> <pre><code>tf.strings.split(\"Hello, Python\", sep=\",\")\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2,), dtype=string, numpy=array([b'Hello', b'\nPython'], dtype=object)&gt;\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#n-grams","title":"\u521b\u5efan-grams\u7684\u5f20\u91cf","text":"<pre><code>tf.strings.ngrams(data, ngram_width, separator=' ', pad_values=None,\n                  padding_width=None, preserve_short_sequences=False, name=None)\n</code></pre> <ul> <li><code>ngram_width</code>\uff1a\u8981\u521b\u5efa\u7684ngram\u7684\u5bbd\u5ea6</li> <li><code>separator</code>\uff1a\u95f4\u9694\u5b57\u7b26 ngram_width&gt;1\u65f6\u4f7f\u7528</li> </ul> <pre><code>tf.strings.ngrams([\"I\", \"love\", \"love\", \"you\", \"and\"], ngram_width=1).numpy()\n</code></pre> <pre><code>array([b'I', b'love', b'love', b'you', b'and'], dtype=object)\n</code></pre> <pre><code>tf.strings.ngrams([\"I\", \"love\", \"love\", \"you\", \"and\"], ngram_width=2,\n                  separator='-').numpy()\n</code></pre> <pre><code>array([b'I-love', b'love-love', b'love-you', b'you-and'],\ndtype=object)\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#boolean","title":"boolean \u7c7b\u578b","text":"<pre><code>bool_tensor = tf.constant(True)\npprint(bool_tensor is True)\npprint(bool_tensor == True)\n</code></pre> <pre><code>False\n&lt;tf.Tensor: shape=(), dtype=bool, numpy=True&gt;\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#tfdtypes","title":"\u6570\u503c\u7cbe\u5ea6 tf.dtypes \u6a21\u5757","text":"<p>\u5217\u4e3e Tensorflow \u6240\u6709\u7c7b\u578b</p> <pre><code>[i for i in dir(tf.dtypes) if not i.startswith(\"_\")]\n\n# tf.int8 tf.int16 tf.int32 tf.int64\n# tf.float16 tf.float32 tf.float64(tf.double)\n</code></pre> <pre><code>['DType',\n 'QUANTIZED_DTYPES',\n 'as_dtype',\n 'bfloat16',\n 'bool',\n 'cast',\n 'complex',\n 'complex128',\n 'complex64',\n 'double',\n 'float16',\n 'float32',\n 'float64',\n 'half',\n 'int16',\n 'int32',\n 'int64',\n 'int8',\n 'qint16',\n 'qint32',\n 'qint8',\n 'quint16',\n 'quint8',\n 'resource',\n 'saturate_cast',\n 'string',\n 'uint16',\n 'uint32',\n 'uint64',\n 'uint8',\n 'variant']\n</code></pre> <p>\u4fdd\u5b58\u7cbe\u5ea6\u8fc7\u4f4e\uff0c\u6ea2\u51fa</p> <pre><code>pprint(tf.constant(123456789, dtype=tf.int16))\npprint(tf.constant(123456789, dtype=tf.int32))\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(), dtype=int16, numpy=-13035&gt;\n&lt;tf.Tensor: shape=(), dtype=int32, numpy=123456789&gt;\n</code></pre> <p>\u4fdd\u5b58\u7684\u7cbe\u5ea6\u4f4e\uff0c\u5c0f\u6570\u4f4d\u56db\u820d\u4e94\u5165</p> <pre><code>pprint(np.pi)\npprint(tf.constant(np.pi, dtype=tf.float32))\n</code></pre> <pre><code>3.141592653589793\n&lt;tf.Tensor: shape=(), dtype=float32, numpy=3.1415927&gt;\n</code></pre> <p>\u9ad8\u7cbe\u5ea6\u4fdd\u5b58</p> <pre><code>pprint(tf.constant(np.pi, dtype=tf.float64))\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(), dtype=float64, numpy=3.141592653589793&gt;\n</code></pre> <p>\u83b7\u53d6\u6570\u636e\u7c7b\u578b\u4fe1\u606f</p> <pre><code>a = tf.constant(np.pi, dtype=tf.float64)\na.dtype\n</code></pre> <pre><code>tf.float64\n</code></pre> <p>\u6539\u53d8\u6570\u636e\u7c7b\u578b \u8fd4\u56de\u65b0\u7684\u5bf9\u8c61</p> <pre><code>tf.cast(a, tf.float32)\ntf.dtypes.cast(a, tf.float32)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(), dtype=float32, numpy=3.1415927&gt;\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#tfdtypes_1","title":"tf.dtypes \u6a21\u5757\u7684\u51fd\u6570","text":"<pre><code># https://www.tensorflow.org/api_docs/python/tf/dtypes\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#_9","title":"\u5f85\u4f18\u5316\u5f20\u91cf","text":"<pre><code>a = tf.constant([1, 2])\nb = tf.Variable(a)\n</code></pre> <p><code>nametrainable</code> \u662f <code>Variable</code> \u7279\u6709\u7684\u5c5e\u6027\u3002<code>name</code>\u5c5e\u6027\u7528\u4e8e\u547d\u540d\u8ba1\u7b97\u56fe\u4e2d\u7684\u53d8\u91cf\u3002<code>trainable</code> \u5c5e\u6027\u8868\u793a\u5f53\u524d\u5f20\u91cf\u662f\u90fd\u9700\u8981\u88ab\u4f18\u5316\uff0c\u521b\u5efa<code>Variable</code>\u9ed8\u8ba4\u5f00\u542f\u4f18\u5316\u3002</p> <pre><code>b.trainable\nb.name\n</code></pre> <pre><code>'Variable:0'\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#_10","title":"\u521b\u5efa\u5df2\u77e5\u5206\u5e03\u7684\u5f20\u91cf","text":""},{"location":"Python3/NumPy/8.14.tensorflow.html#_11","title":"\u6b63\u6001\u5206\u5e03","text":"<pre><code>tf.random.normal(shape, mean=0.0, stddev=1.0, dtype=&lt;dtype: 'float32'&gt;,\n                 seed=None, name=None)\n</code></pre> <pre><code>## \u5747\u503c\u4e3a0 \u6807\u51c6\u5dee\u4e3a1\ntf.random.normal((2, 2))\n## \u5747\u503c\u4e3a1 \u6807\u51c6\u5dee\u4e3a10\ntf.random.normal((2, 2), mean=1, stddev=10)\n\ntf.random.normal((2, 2), mean=[1, 2], stddev=[10, 20])\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2, 2), dtype=float32, numpy=\narray([[ 7.343336, 31.604218],\n       [ 1.216535,  9.457108]], dtype=float32)&gt;\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#_12","title":"\u5747\u5300\u5206\u5e03","text":"<pre><code>tf.random.uniform(shape, minval=0, maxval=None, dtype=&lt;dtype: 'float32'&gt;,\n                  seed=None, name=None)\n</code></pre> <pre><code>## \u533a\u95f4[0,1]\u7684\u5747\u5300\u5206\u5e03\ntf.random.uniform((2, 2))\n## \u533a\u95f4[-1,1]\u7684\u5747\u5300\u5206\u5e03\ntf.random.uniform((2, 2), minval=-1, maxval=1)\n## \u5747\u5300\u91c7\u6837int\u578b\u6570\u636e\ntf.random.uniform((2, 2), minval=-10, maxval=100, dtype=tf.int32)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2, 2), dtype=int32, numpy=\narray([[-5, 63],\n       [10, 80]], dtype=int32)&gt;\n</code></pre>"},{"location":"Python3/NumPy/8.14.tensorflow.html#gamma","title":"gamma\u5206\u5e03","text":"<pre><code>tf.random.gamma(shape, alpha, beta=None, dtype=&lt;dtype: 'float32'&gt;,\n                seed=None, name=None)\n</code></pre> <pre><code>tf.random.gamma((2, 2), alpha=1, beta=2)\n\n## poisson\u5206\u5e03\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2, 2), dtype=float32, numpy=\narray([[0.3690009 , 0.6148905 ],\n       [0.26223135, 0.04579793]], dtype=float32)&gt;\n</code></pre> <pre><code>tf.random.poisson(shape, lam, dtype=&lt;dtype: 'float32'&gt;,\n                  seed=None, name=None)\n</code></pre> <pre><code>tf.random.poisson((2, 2), lam=[2, 3])\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2, 2, 2), dtype=float32, numpy=\narray([[[0., 3.],\n        [4., 2.]],\n\n       [[4., 4.],\n        [1., 7.]]], dtype=float32)&gt;\n</code></pre>"},{"location":"Python3/NumPy/8.15.create%20tensor.html","title":"8.15.create tensor","text":"<pre><code># from toolkit import H\nfrom pprint import pprint\nimport tensorflow as tf\nfrom tensorflow import keras\nimport numpy as np\nimport copy\n</code></pre> <pre><code>---------------------------------------------------------------------------ModuleNotFoundError\nTraceback (most recent call last)&lt;ipython-input-1-5d84de4d2491&gt; in\n&lt;module&gt;\n      1 # from toolkit import H\n      2 from pprint import pprint\n----&gt; 3 import tensorflow as tf\n      4 from tensorflow import keras\n      5 import numpy as np\nModuleNotFoundError: No module named 'tensorflow'\n</code></pre> <pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.16\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-5ca00c9eb193&gt; in\n&lt;module&gt;\n      5 print(\"Python\" + \" \" + platform.python_version(), \"@\",\nplatform.python_compiler())\n      6 print(\"Latest build date\", time.strftime(\"%Y.%m.%d\",\ntime.localtime()))\n----&gt; 7 print(\"tensorflow version: \", tf.__version__)\n      8 sys.path.append(\"/home/allen/tmp/pycharm_project_762\")\n      9 from toolkit import H\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/NumPy/8.15.create%20tensor.html#_1","title":"\u521b\u5efa\u5f20\u91cf","text":"<code>tf.constant(value, dtype=None, shape=None, name='Const')</code><p>\u521b\u5efa\u6807\u91cf</p> <pre><code>scalar = tf.constant(1.2)\n# \u67e5\u770b scalar \u7684\u7c7b\u578b\nprint(type(scalar))\n# \u5224\u65ad\u662f\u5426\u4e3a tensor\nprint(tf.is_tensor(scalar))\nprint(scalar)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-c13f32ec0faf&gt; in\n&lt;module&gt;\n      1 #= indent=4,3\n----&gt; 2 scalar = tf.constant(1.2)\n      3 # \u67e5\u770b scalar \u7684\u7c7b\u578b\n      4 print(type(scalar))\n      5 # \u5224\u65ad\u662f\u5426\u4e3a tensor\nNameError: name 'tf' is not defined\n</code></pre> <p>\u521b\u5efa\u5411\u91cf\u548c\u77e9\u9635</p> <pre><code>vector = tf.constant([1.2, 1, 2], name=\"vanilla\")\npprint(vector)\nprint()\nmatrix = tf.constant([[1, 2], [3, 4]])\nmatrix = tf.constant([1, 2, 3, 4], shape=(2, 2))\npprint(matrix)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-245d3068998c&gt; in\n&lt;module&gt;\n      1 #= indent=4\n----&gt; 2 vector = tf.constant([1.2, 1, 2], name=\"vanilla\")\n      3 pprint(vector)\n      4 print()\n      5 matrix = tf.constant([[1, 2], [3, 4]])\nNameError: name 'tf' is not defined\n</code></pre> <p>\u521b\u5efa\u66f4\u9ad8\u7ef4\u5ea6\u7684\u5f20\u91cf</p> <pre><code>tensor = tf.constant([[[1, 2], [3, 4]], [[5, 6], [7, 8]]])\nprint(tensor)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-59bdc64a8953&gt; in\n&lt;module&gt;\n      1 #= indent=4\n----&gt; 2 tensor = tf.constant([[[1, 2], [3, 4]], [[5, 6], [7, 8]]])\n      3 print(tensor)\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.range(start, limit=None, delta=1, dtype=None, name='range')</code><pre><code>tf.range(start=-5, limit=5, delta=2, dtype=None, name='test')\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)&lt;ipython-input-1-eed97553dfe4&gt; in &lt;module&gt;\n      1 #= indent=4\n----&gt; 2 tf.range(start=-5, limit=5, delta=2, dtype=None, name='test')\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.zeros(shape, dtype=dtypes.float32, name=None)</code><pre><code>print(tf.zeros((2, 3)))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)&lt;ipython-input-1-2f2597791e89&gt; in &lt;module&gt;\n      1 #= indent=4\n----&gt; 2 print(tf.zeros((2, 3)))\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.zeros_like(input, dtype=None, name=None)</code><pre><code>print(tf.zeros_like((2, 3)))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)&lt;ipython-input-1-a83a23399be9&gt; in &lt;module&gt;\n      1 #= indent=4\n----&gt; 2 print(tf.zeros_like((2, 3)))\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.ones(shape, dtype=dtypes.float32, name=None)</code><pre><code>print(tf.ones((2, 3)))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)&lt;ipython-input-1-6e40036e3758&gt; in &lt;module&gt;\n      1 #= indent=4\n----&gt; 2 print(tf.ones((2, 3)))\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.ones_like(input, dtype=None, name=None)</code><pre><code>print(tf.ones_like((2, 3)))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)&lt;ipython-input-1-7e49d4e74701&gt; in &lt;module&gt;\n      1 #= indent=4\n----&gt; 2 print(tf.ones_like((2, 3)))\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.fill(dims, value, name=None)</code><pre><code>print(tf.fill(dims=[], value=8))  # \u6807\u91cf\nprint(tf.fill(dims=(2, 3), value=2))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)&lt;ipython-input-1-7c44cb788f73&gt; in &lt;module&gt;\n      1 #= indent=4\n----&gt; 2 print(tf.fill(dims=[], value=8))  # \u6807\u91cf\n      3 print(tf.fill(dims=(2, 3), value=2))\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.eye(num_rows, num_columns=None, batch_shape=None, dtype=dtype.float32, name=None)</code><pre><code>print(tf.eye(4), \"\\n\")\nprint(tf.eye(4, 2), \"\\n\")\nprint(tf.eye(2, 2, (2, 3)), \"\\n\")\nprint(tf.eye(2, 2, (2, 3)).shape)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)&lt;ipython-input-1-6f12707e13d0&gt; in &lt;module&gt;\n      1 #= indent=4\n----&gt; 2 print(tf.eye(4), \"\\n\")\n      3 print(tf.eye(4, 2), \"\\n\")\n      4 print(tf.eye(2, 2, (2, 3)), \"\\n\")\n      5 print(tf.eye(2, 2, (2, 3)).shape)\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.tile(input, multiples, name=None)</code><pre><code>a = tf.constant([[1, 2, 3], [4, 5, 6]], tf.int32)\nb = tf.constant([1, 2], tf.int32)\ntf.tile(a, b)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)&lt;ipython-input-1-4eeac5b32e57&gt; in &lt;module&gt;\n      1 #= indent=4\n----&gt; 2 a = tf.constant([[1, 2, 3], [4, 5, 6]], tf.int32)\n      3 b = tf.constant([1, 2], tf.int32)\n      4 tf.tile(a, b)\nNameError: name 'tf' is not defined\n</code></pre> <pre><code>c = tf.constant([2, 1], tf.int32)\ntf.tile(a, c)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)&lt;ipython-input-1-366bec84275f&gt; in &lt;module&gt;\n      1 #= indent=4\n----&gt; 2 c = tf.constant([2, 1], tf.int32)\n      3 tf.tile(a, c)\nNameError: name 'tf' is not defined\n</code></pre> <pre><code>d = tf.constant([2, 2], tf.int32)\ntf.tile(a, d)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)&lt;ipython-input-1-d55ec4d6fc9f&gt; in &lt;module&gt;\n      1 #= indent=4\n----&gt; 2 d = tf.constant([2, 2], tf.int32)\n      3 tf.tile(a, d)\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.repeat(input, repeats, axis=None, name=None)</code><pre><code>a = tf.constant([[1, 2], [3, 4]], tf.int32)\nprint(tf.repeat(a, 2))\nprint(tf.repeat(a, (2, 2, 3, 1)))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)&lt;ipython-input-1-a7b918fd5b7d&gt; in &lt;module&gt;\n      1 #= indent=4\n----&gt; 2 a = tf.constant([[1, 2], [3, 4]], tf.int32)\n      3 print(tf.repeat(a, 2))\n      4 print(tf.repeat(a, (2, 2, 3, 1)))\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.convert_to_tensor(value, dtype=None, dtype_hint=None, name=None)</code><pre><code>tf.convert_to_tensor([1, 2])\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)&lt;ipython-input-1-bf3c55b01ac5&gt; in &lt;module&gt;\n      1 #= indent=4\n----&gt; 2 tf.convert_to_tensor([1, 2])\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.one_hot(indices, depth, on_value=None, off_value=None, axis=None, dtype=None, name=None)</code>"},{"location":"Python3/NumPy/8.15.create%20tensor.html#_2","title":"\u62fc\u63a5\u5f20\u91cf","text":"<code>tf.concat(values, axis, name='concat')</code><pre><code>a = tf.ones((2, 3))\nb = tf.zeros((2, 3))\nprint(tf.concat([a, b], axis=0))\nprint(\"shape\", tf.concat([a, b], axis=0).shape)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-0e881de7edf6&gt; in\n&lt;module&gt;\n      1 #= indent=4\n----&gt; 2 a = tf.ones((2, 3))\n      3 b = tf.zeros((2, 3))\n      4 print(tf.concat([a, b], axis=0))\n      5 print(\"shape\", tf.concat([a, b], axis=0).shape)\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.stack(values, axis=0, name='stack')</code><pre><code>a = tf.ones((2, 3))\nb = tf.zeros((2, 3))\ntf.stack([a, b], axis=0)\nprint(\"shape\", tf.stack([a, b], axis=0))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-f6bd6fd1aae9&gt; in\n&lt;module&gt;\n      1 #= indent=4\n----&gt; 2 a = tf.ones((2, 3))\n      3 b = tf.zeros((2, 3))\n      4 tf.stack([a, b], axis=0)\n      5 print(\"shape\", tf.stack([a, b], axis=0))\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.tuple(tensors, control_inputs=None, name=None)</code><pre><code>a = tf.ones((2, 3))\nb = tf.zeros((2, 3))\nprint(tf.tuple([a, b]))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-4c483273f6a3&gt; in\n&lt;module&gt;\n      1 #= indent=4\n----&gt; 2 a = tf.ones((2, 3))\n      3 b = tf.zeros((2, 3))\n      4 print(tf.tuple([a, b]))\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/NumPy/8.15.create%20tensor.html#_3","title":"\u62c6\u5206\u5f20\u91cf","text":"<code>tf.unstack(value, num=None, axis=0, name='unstack')</code><pre><code>a = tf.ones((2, 3))\nb = tf.zeros((2, 3))\nc = tf.stack([a, b], axis=0)\nprint(tf.unstack(c, axis=0))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-a0b00e519bf6&gt; in\n&lt;module&gt;\n      1 #= indent=4\n----&gt; 2 a = tf.ones((2, 3))\n      3 b = tf.zeros((2, 3))\n      4 c = tf.stack([a, b], axis=0)\n      5 print(tf.unstack(c, axis=0))\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.split(value, num_or_size_splits, axis=0, num=None, name='split')</code><pre><code>a = tf.ones((2, 3))\nb = tf.zeros((2, 3))\nc = tf.concat([a, b], axis=0)\nprint(tf.split(c, num_or_size_splits=2, axis=0))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-2db8630b40e4&gt; in\n&lt;module&gt;\n      1 #= indent=4\n----&gt; 2 a = tf.ones((2, 3))\n      3 b = tf.zeros((2, 3))\n      4 c = tf.concat([a, b], axis=0)\n      5 print(tf.split(c, num_or_size_splits=2, axis=0))\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/NumPy/8.15.create%20tensor.html#_4","title":"\u83b7\u53d6\u5f20\u91cf\u5c5e\u6027\u4fe1\u606f","text":"<code>tf.shape(input, out_type=tf.int32, name=None)</code><pre><code>a = tf.ones((2, 3))\nprint(tf.shape(a))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-444ba08abb96&gt; in\n&lt;module&gt;\n      1 #= indent=4\n----&gt; 2 a = tf.ones((2, 3))\n      3 print(tf.shape(a))\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.shape_n(input, out_type=tf.int32, name=None)</code><pre><code>a = tf.ones((2, 3))\nb = tf.zeros((2, 4))\nprint(tf.shape_n([a, b]))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-d77f4a1c7732&gt; in\n&lt;module&gt;\n      1 #= indent=4\n----&gt; 2 a = tf.ones((2, 3))\n      3 b = tf.zeros((2, 4))\n      4 print(tf.shape_n([a, b]))\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.size(input, out_type=tf.int32, name=None)</code><pre><code>a = tf.ones((2, 3))\nprint(tf.size(a))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-3ecb8158bbaa&gt; in\n&lt;module&gt;\n      1 #= indent=4\n----&gt; 2 a = tf.ones((2, 3))\n      3 print(tf.size(a))\nNameError: name 'tf' is not defined\n</code></pre> <code>tf.rank(input, name=None)</code><pre><code>a = tf.ones((2, 3, 5))\nprint(tf.rank(a))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-c51eeb48eba8&gt; in\n&lt;module&gt;\n      1 #= indent=4\n----&gt; 2 a = tf.ones((2, 3, 5))\n      3 print(tf.rank(a))\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/NumPy/8.15.create%20tensor.html#_5","title":"\u5f62\u72b6\u64cd\u7eb5","text":"<code>tf.expand_dims(input, axis, name=None)</code> <code>tf.reshape(tensor, shape, name=None)</code> <code>tf.reverse(tensor, axis, name=None)</code> <code>tf.squeeze(input, axis=None, name=None)</code> <code>tf.transpose(a, perm=None, conjugate=False, name='transpose')</code> <code>tf.roll(input, shift, axis, name=None)</code>"},{"location":"Python3/NumPy/8.16.char.html","title":"8.16.char","text":"<pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.18\nNumPy version:  1.20.3\nnp.char.replace(a, old, new, count=None)\nadd\narray\narray_function_dispatch\nasarray\nasbytes\nbool_\ncharacter\nchararray\ncompare_chararrays\ndecode\nequal\nfunctools\ngreater\ngreater_equal\nint_\ninteger\nless\nless_equal\nmod\nmultiply\nnarray\nndarray\nnot_equal\nnumpy\nobject_\noverrides\nset_module\nstr_len\nstring_\nsys\nunicode_\n</code></pre>"},{"location":"Python3/NumPy/8.2.%E7%B4%A2%E5%BC%95.html","title":"8.2.\u7d22\u5f15","text":"<pre><code>import numpy as np\nimport copy\nimport pprint\n</code></pre> <pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.03.03\nnumpy version:  1.20.1\n</code></pre>"},{"location":"Python3/NumPy/8.2.%E7%B4%A2%E5%BC%95.html#_1","title":"\u7d22\u5f15\u89c4\u5219","text":"<p>NumPy \u6570\u7ec4\u7684\u7d22\u5f15\u529f\u80fd\u5f88\u5f3a\u5927\uff0c\u4f46\u591a\u6837\u7684\u7d22\u5f15\u4e5f\u5e26\u6765\u4e86\u590d\u6742\u6027\u548c\u6df7\u4e71\u6027\u3002\u65b0\u624b\u53ef\u4ee5\u5f88\u5feb\u5730\u5f00\u59cb\u4f7f\u7528 NumPy \u7d22\u5f15\uff0c\u4f46\u53ef\u80fd\u96be\u4ee5\u533a\u5206\u5404\u79cd\u7d22\u5f15\u7684\u60c5\u51b5\u3002\u867d\u7136\uff0c\u7f51\u4e0a\u6709\u5f88\u591a\u5173\u4e8e NumPy \u6570\u7ec4\u7d22\u7684\u8d44\u6599\uff0c\u4e5f\u6709\u5f88\u591a\u4ee3\u7801\u793a\u4f8b\uff0c\u4f46\u51e0\u4e4e\u90fd\u662f\u6bd4\u8f83\u7b80\u5355\u7684\u8bf4\u660e\uff0c\u5927\u90e8\u5206\u4ee3\u7801\u793a\u4f8b\u53ea\u4f1a\u8ba9\u4eba\u5728\u7b80\u5355\u4e0e\u6df7\u4e71\u4e4b\u95f4\u5f98\u5f8a\u3002NumPy \u7d22\u5f15\u7684\u5b98\u65b9\u7528\u6237\u6307\u5357\u5f53\u7136\u662f\u5f88\u597d\u7684\u8d44\u6599\uff0c\u4f46\u5927\u591a\u90fd\u662f\u5fc5\u8981\u6216\u7ec6\u8282\u6027\u7684\u8bf4\u660e\u3002\u8fd9\u91cc\u5c1d\u8bd5\u5bf9\u6240\u6709\u60c5\u51b5\u505a\u4e00\u4e2a\u7b80\u5355\u4f46\u4e0d\u5931\u5168\u9762\u6027\u7684\u603b\u7ed3\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528 Python \u7684 <code>array[index]</code> \u8bed\u6cd5\u5bf9 ndarray \u8fdb\u884c\u7d22\u5f15\u3002\u5047\u8bbe ndarray \u662f N \u7ef4\u6570\u7ec4\uff0c\u5176\u7d22\u5f15\u7684\u5f62\u5f0f\u4e3a <code>array[idx1, idx2, ..., idxN]</code>\uff0c\u5373\u6bcf\u4e2a\u8f74\u90fd\u6709\u4e00\u4e2a\u7d22\u5f15\u3002</p> <p>\u5728 Python \u4e2d\uff0c<code>x[(exp1, exp2, ..., EXPN)]</code> \u7b49\u540c\u4e8e <code>x[exp1, exp2, ..., EXPN]</code>\u3002\u540e\u8005\u53ea\u662f\u524d\u8005\u7684\u8bed\u6cd5\u7cd6\u3002</p> <p>\u8fd9\u91cc\u5c06 <code>(idx1\uff0cidx2\uff0c.\uff0cidxN)</code> \u79f0\u4e3a\u7d22\u5f15\u5143\u7ec4\uff0c<code>idxN</code>\u76f4\u63a5\u79f0\u4e3a\u7d22\u5f15\u6216\u7d22\u5f15\u5bf9\u8c61\u3002NumPy \u6570\u7ec4\u7684\u7d22\u5f15 <code>idxN</code> \u53ef\u4ee5\u662f\u4ee5\u4e0b 7 \u79cd\u5bf9\u8c61\uff08\u5f62\u5f0f\uff09\uff1a</p> <ol> <li>\u6574\u6570</li> <li>\u5207\u7247\uff08<code>slice</code>\u3001<code>:</code>\uff09</li> <li>\u6574\u6570\u5e8f\u5217</li> <li>\u6574\u6570\u6570\u7ec4</li> <li>\u5e03\u5c14\u6570\u7ec4</li> <li><code>None</code>\u3001<code>np.newaxis</code></li> <li>Ellipsis\uff08<code>...</code>\uff09</li> </ol> <p>\u5e8f\u5217\u7d22\u5f15\u548c\u6570\u7ec4\u7d22\u5f15\u7684\u6807\u91cf\u5143\u7d20\u53ea\u80fd\u4e3a\u6574\u6570\uff0c\u56e0\u6b64\u4e0b\u9762\u5c06\u5b83\u4eec\u7b80\u79f0\u4e3a\u5e8f\u5217\u7d22\u5f15\u548c\u6570\u7ec4\u7d22\u5f15\u3002</p> <p>\u5047\u8bbe <code>A</code> \u662f\u4e00\u4e2a <code>N</code> \u7ef4\u6570\u7ec4\uff0c\u4e0d\u540c\u7684\u7d22\u5f15\u5bf9\u8c61\u5177\u6709\u4e0d\u540c\u7684\u89c4\u5219\uff1a</p> <ol> <li>\u6574\u6570\u7d22\u5f15\u610f\u5473\u7740\u4ece\u5bf9\u5e94\u7684\u8f74\u53d6\u51fa 1 \u4e2a\u5143\u7d20\uff0c\u56e0\u6b64\uff0c\u6bcf\u591a 1 \u4e2a\u6574\u6570\u7d22\u5f15\uff0c\u7d22\u5f15\u7ed3\u679c\u5c31\u51cf\u5c11 1 \u4e2a\u7ef4\u5ea6\u3002</li> <li>N \u7ef4\u6570\u7ec4\u6700\u591a\u53ef\u4ee5\u6307\u5b9a N \u4e2a\u7d22\u5f15\u5bf9\u8c61\uff0c\u4f46 <code>None</code> \u53ef\u4ee5\u7a81\u7834\u8fd9\u4e2a\u9650\u5236\uff1b\u5141\u8bb8\u6700\u591a\u7701\u7565 N-1 \u4e2a\u7d22\u5f15\u5bf9\u8c61\uff0c\u5373\u81f3\u5c11\u6307\u5b9a 1 \u4e2a\u7d22\u5f15\uff0c\u7701\u7565\u7684\u7d22\u5f15\u9ed8\u8ba4\u8865\u5145\u4e3a\u5207\u7247 <code>:</code>\u3002</li> <li>\u7d22\u5f15\u5143\u7ec4\u6700\u591a\u53ea\u80fd\u5305\u542b\u4e00\u4e2a <code>...</code>\uff0c<code>...</code> \u4ee3\u8868\u5176\u4f59\u8f74\u7684\u7d22\u5f15\u90fd\u4e3a\u5207\u7247 <code>:</code>\uff0c\u5982<code>A[1,...,2]</code>\u3002\u8fd9\u662f NumPy \u7684\u4e00\u4e2a\u5feb\u6377\u65b9\u5f0f\u3002</li> <li> <p><code>np.newaxis</code> \u662f <code>None</code> \u7684\u522b\u540d\uff0c\u7d22\u5f15\u7ed3\u679c\u4f1a\u5728\u7d22\u5f15\u5143\u7ec4\u4e2d\u51fa\u73b0 <code>None</code> \u7684\u5730\u65b9\u521b\u5efa\u4e00\u4e2a\u65b0\u8f74\uff0c\u8be5\u8f74\u957f\u5ea6\u4e3a 1\u3002<code>None</code> \u7684\u6570\u91cf\u4e0d\u53d7 <code>N</code> \u7684\u9650\u5236\uff0c\u4f46\u4e0d\u80fd\u65e0\u9650\u591a\uff0c\u56e0\u4e3a NumPy \u6570\u7ec4\u6700\u591a\u53ea\u80fd\u6709 32 \u4e2a\u7ef4\u5ea6\u3002</p> </li> <li> <p>\u5e8f\u5217\u7d22\u5f15\u57fa\u4e8e\u6574\u6570\u7d22\u5f15\uff1a</p> <ul> <li>\u7ed9 <code>A</code> \u6307\u5b9a 1 \u4e2a\u6574\u6570\u5e8f\u5217\u7d22\u5f15\uff0c\u5373 <code>A[[i, j, z]]</code>\uff0c\u8fd9\u76f8\u5f53\u4e8e <code>np.array([A[i], A[j], A[z]])</code>\uff1b</li> <li>\u7ed9 <code>A</code> \u6307\u5b9a 2 \u4e2a\u6574\u6570\u5e8f\u5217\u7d22\u5f15\uff0c\u5373\u4f7f<code>A[[a, b, c], [i, j, z]]</code>\uff0c\u8fd9\u76f8\u5f53\u4e8e <code>np.array([A[a, i], A[b, j], A[c, z]])</code>\uff1b</li> <li>\u4ee5\u6b64\u7c7b\u63a8 n \u4e2a\u5e8f\u5217\u7d22\u5f15\u7684\u60c5\u51b5\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\u6307\u5b9a n \u4e2a\u5e8f\u5217\u7d22\u5f15\u4f1a\u5bfc\u81f4\u7d22\u5f15\u7ed3\u679c\u51cf\u5c11 n-1 \u4e2a\u7ef4\u5ea6\u3002</li> </ul> </li> <li> <p>\u5207\u7247\u7c7b\u4f3c\u4e8e\u5e8f\u5217\u7d22\u5f15\uff0c\u4f46\u5207\u7247\u4e0d\u4f1a\u6539\u53d8\u7ed3\u679c\u6570\u7ec4\u7684\u7ef4\u5ea6\uff0c\u56e0\u4e3a\u591a\u4e2a\u5e8f\u5217\u7d22\u5f15\u4e4b\u95f4\u662f\u5185\u79ef\uff0c\u800c\u591a\u4e2a\u5207\u7247\u4e4b\u95f4\u662f\u7b1b\u5361\u513f\u79ef\u3002<code>A[0:2:1]</code> \u76f8\u5f53\u4e8e <code>A[[0, 1]]</code>\uff1b<code>A[0:2:1, 0:2:1]</code> \u76f8\u5f53\u4e8e <code>np.array([[A[0, 0], A[0, 1]], [A[1, 0], A[1, 1]]])</code>\u3002</p> </li> <li> <p>\u6570\u7ec4\u7d22\u5f15\u57fa\u4e8e\u5e8f\u5217\u7d22\u5f15\uff0c\u5047\u8bbe <code>A.shape=(s1, s2, ..., sN)</code>\uff1a</p> <ul> <li>\u7ed9 <code>A</code> \u6307\u5b9a 1 \u4e2a\u6574\u6570\u6570\u7ec4\u7d22\u5f15\uff0c\u5373 <code>A[I]</code>\uff0c\u5e76\u4e14 <code>I.shape=(a, b)</code>\uff0c \u8fd9\u76f8\u5f53\u4e8e <code>A[I.flatten()].reshape(a, b, s2, ..., sN)</code>\uff0c<code>I.flatten()</code>\u662f\u6574\u6570\u5e8f\u5217\uff1b</li> <li>\u7ed9 <code>A</code> \u6307\u5b9a 2 \u4e2a\u6574\u6570\u6570\u7ec4\u7d22\u5f15\uff0c\u5373 <code>A[I, J]</code>\uff0c<ul> <li>\u5982\u679c <code>I.shape=J.shape=(a, b)</code>\uff0c\u8fd9\u76f8\u5f53\u4e8e <code>A[I.flatten(), J.flatten()].reshape(a, b, s3, ..., sN)</code>\uff0c \u4e24\u4e2a\u5e8f\u5217\u7d22\u5f15\u9996\u5148\u4f1a\u5bfc\u81f4\u539f\u6570\u7ec4\u51cf\u5c11 1 \u4e2a\u7ef4\u5ea6\uff1b</li> <li>\u5982\u679c <code>I.shape=(a, b)</code>\u3001<code>J.shape=(c, d)</code>\uff0c\u90a3\u4e48 <code>I</code> \u548c <code>J</code> \u4f1a\u8fdb\u884c\u5e7f\u64ad\uff0c\u5f97\u5230 <code>shape=(e, f)</code> \u65b0\u7684\u6570\u7ec4\u7d22\u5f15 <code>I2</code> \u548c <code>J2</code>\uff0c \u8fd9\u76f8\u5f53\u4e8e <code>A[I2.flatten(), J2.flatten()].reshape(e, f, s3, ..., sN)</code>\uff1b</li> </ul> </li> <li>\u4ee5\u6b64\u7c7b\u63a8 n \u4e2a\u6570\u7ec4\u7d22\u5f15\u7684\u60c5\u51b5\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\u6570\u7ec4\u7d22\u5f15\u9996\u5148\u4f1a\u5f97\u5230\u548c\u5e8f\u5217\u7d22\u5f15\u4e00\u81f4\u7684\u7ed3\u679c\uff0c\u4f46\u7ed3\u679c\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u7ef4\u5ea6\u4f1a\u88ab\u66ff\u6362\u4e3a\u7d22\u5f15\u6570\u7ec4\u7684 <code>shape</code>\u3002</li> <li>\u5047\u8bbe\u539f\u6570\u7ec4\u7684\u7ef4\u5ea6\u6570\u4e3a n\uff0c\u6709 m \u6574\u6570\u6570\u7ec4\u7d22\u5f15\uff0c\u5176\u5e7f\u64ad\u540e\u7684\u7ef4\u5ea6\u6570\u4e3a y\uff0c\u5219\u7ed3\u679c\u6570\u7ec4\u7684\u7ef4\u5ea6\u6570\u4e3a n - (m-1) + (y-1)\u3002</li> </ul> </li> <li> <p>\u5e03\u5c14\u6570\u7ec4\u7d22\u5f15\u7684\u7ef4\u5ea6\u4e0d\u5fc5\u548c\u539f\u6570\u7ec4\u7684\u7ef4\u5ea6\u4e00\u81f4\uff0c\u4f46\u4e0d\u80fd\u8d85\u51fa\u539f\u6570\u7ec4\u7684\u7ef4\u5ea6\uff0c\u5e76\u4e14\u5bf9\u5e94\u7ef4\u5ea6\u7684\u5927\u5c0f\u5fc5\u987b\u548c\u539f\u6570\u7ec4\u4e00\u81f4\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u662f\u5e03\u5c14\u6570\u7ec4\u4e2d <code>True</code> \u5bf9\u5e94\u7684\u5143\u7d20\u3002</p> </li> </ol> \u521b\u5efa\u793a\u4f8b\u6570\u7ec4\u6574\u6570\u7d22\u5f15\u5e8f\u5217\u7d22\u5f15\u5207\u7247\u6570\u7ec4\u7d22\u5f15\u5e03\u5c14\u6570\u7ec4 <pre><code>A = copy.deepcopy(np.arange(90).reshape((10, 3, 3)))\nprint(f\"A shape = {A.shape}\")\npprint.pprint(A)\n</code></pre> <pre><code>A shape = (10, 3, 3)\narray([[[ 0,  1,  2],\n        [ 3,  4,  5],\n        [ 6,  7,  8]],\n\n       [[ 9, 10, 11],\n        [12, 13, 14],\n        [15, 16, 17]],\n\n       [[18, 19, 20],\n        [21, 22, 23],\n        [24, 25, 26]],\n\n       [[27, 28, 29],\n        [30, 31, 32],\n        [33, 34, 35]],\n\n       [[36, 37, 38],\n        [39, 40, 41],\n        [42, 43, 44]],\n\n       [[45, 46, 47],\n        [48, 49, 50],\n        [51, 52, 53]],\n\n       [[54, 55, 56],\n        [57, 58, 59],\n        [60, 61, 62]],\n\n       [[63, 64, 65],\n        [66, 67, 68],\n        [69, 70, 71]],\n\n       [[72, 73, 74],\n        [75, 76, 77],\n        [78, 79, 80]],\n\n       [[81, 82, 83],\n        [84, 85, 86],\n        [87, 88, 89]]])\n</code></pre> <pre><code>print(A[0, 1, 2])\nprint(A[(0, 1, 2)])\nprint(A[0][1][2])\npprint.pprint(A[0])\npprint.pprint(A[0, ...])\n</code></pre> <pre><code>5\n5\n5\narray([[0, 1, 2],\n       [3, 4, 5],\n       [6, 7, 8]])\narray([[0, 1, 2],\n       [3, 4, 5],\n       [6, 7, 8]])\n</code></pre> <pre><code>pprint.pprint(A[[0, 1]])\npprint.pprint(np.array([A[0], A[1]]))\nprint()\npprint.pprint(A[[0, 1], [0, 1]])\npprint.pprint(np.array([A[0, 0], A[1, 1]]))\n</code></pre> <pre><code>array([[[ 0,  1,  2],\n        [ 3,  4,  5],\n        [ 6,  7,  8]],\n\n       [[ 9, 10, 11],\n        [12, 13, 14],\n        [15, 16, 17]]])\narray([[[ 0,  1,  2],\n        [ 3,  4,  5],\n        [ 6,  7,  8]],\n\n       [[ 9, 10, 11],\n        [12, 13, 14],\n        [15, 16, 17]]])\n\narray([[ 0,  1,  2],\n       [12, 13, 14]])\narray([[ 0,  1,  2],\n       [12, 13, 14]])\n</code></pre> <pre><code>pprint.pprint(A[1, :])\nprint()\npprint.pprint(A[slice(0, 3, 2), 0:3:2])\npprint.pp(np.array([[A[0, 0], A[0, 2]], [A[2, 0], A[2, 2]]]))\n# \u4e0e\u5e8f\u5217\u7d22\u5f15\u7684\u533a\u522b\nprint()\npprint.pprint(A[[0,2], [0,2]])\n</code></pre> <pre><code>array([[ 9, 10, 11],\n       [12, 13, 14],\n       [15, 16, 17]])\n\narray([[[ 0,  1,  2],\n        [ 6,  7,  8]],\n\n       [[18, 19, 20],\n        [24, 25, 26]]])\narray([[[ 0,  1,  2],\n        [ 6,  7,  8]],\n\n       [[18, 19, 20],\n        [24, 25, 26]]])\n\narray([[ 0,  1,  2],\n       [24, 25, 26]])\n</code></pre> <pre><code>print(f\"A shape = {A.shape}\")\nindex = np.array([0, 1, 2])\nprint(f\"index shape = {index.shape}\")\npprint.pprint(A[index])\nprint(f\"result shape = {A[index].shape}\")\nprint()\nprint(f\"A shape = {A.shape}\")\nindex = np.array([[[0, 1], [0, 1], [0, 1]]])\nprint(f\"index shape = {index.shape}\")\npprint.pprint(A[index])\nprint(f\"result shape = {A[index].shape}\")\n</code></pre> <pre><code>A shape = (10, 3, 3)\nindex shape = (3,)\narray([[[ 0,  1,  2],\n        [ 3,  4,  5],\n        [ 6,  7,  8]],\n\n       [[ 9, 10, 11],\n        [12, 13, 14],\n        [15, 16, 17]],\n\n       [[18, 19, 20],\n        [21, 22, 23],\n        [24, 25, 26]]])\nresult shape = (3, 3, 3)\n\nA shape = (10, 3, 3)\nindex shape = (1, 3, 2)\narray([[[[[ 0,  1,  2],\n          [ 3,  4,  5],\n          [ 6,  7,  8]],\n\n         [[ 9, 10, 11],\n          [12, 13, 14],\n          [15, 16, 17]]],\n\n\n        [[[ 0,  1,  2],\n          [ 3,  4,  5],\n          [ 6,  7,  8]],\n\n         [[ 9, 10, 11],\n          [12, 13, 14],\n          [15, 16, 17]]],\n\n\n        [[[ 0,  1,  2],\n          [ 3,  4,  5],\n          [ 6,  7,  8]],\n\n         [[ 9, 10, 11],\n          [12, 13, 14],\n          [15, 16, 17]]]]])\nresult shape = (1, 3, 2, 3, 3)\n</code></pre> <pre><code>B = A[0:2]\nbool_index = B &gt; 10\nprint(f\"B shape = {B.shape}\")\nprint(f\"bool index shape = {bool_index.shape}\")\npprint.pprint(bool_index)\npprint.pprint(B[bool_index])\nprint()\nprint(f\"A shape = {A.shape}\")\nbool_index = np.array([True, False, False, False, False,\n                       False, False, False, True, False])\nprint(f\"bool index shape = {bool_index.shape}\")\npprint.pprint(A[bool_index])\n</code></pre> <pre><code>B shape = (2, 3, 3)\nbool index shape = (2, 3, 3)\narray([[[False, False, False],\n        [False, False, False],\n        [False, False, False]],\n\n       [[False, False,  True],\n        [ True,  True,  True],\n        [ True,  True,  True]]])\narray([11, 12, 13, 14, 15, 16, 17])\n\nA shape = (10, 3, 3)\nbool index shape = (10,)\narray([[[ 0,  1,  2],\n        [ 3,  4,  5],\n        [ 6,  7,  8]],\n\n       [[72, 73, 74],\n        [75, 76, 77],\n        [78, 79, 80]]])\n</code></pre>"},{"location":"Python3/NumPy/8.2.%E7%B4%A2%E5%BC%95.html#_2","title":"\u7d22\u5f15\u7ed3\u679c\u4e0e\u89c6\u56fe","text":"<p>\u6574\u6570\u7d22\u5f15\u548c\u5207\u7247\u5f97\u5230\u7684\u7ed3\u679c\u6570\u7ec4\u662f\u89c6\u56fe\uff0c\u800c\u5176\u4ed6\u7d22\u5f15\u5bf9\u8c61\u5f97\u5230\u7684\u7ed3\u679c\u6570\u7ec4\u90fd\u62e5\u6709\u81ea\u5df1\u7684\u6570\u636e\u3002</p> <p>\u4f7f\u7528\u6574\u6570\u7d22\u5f15\u65f6\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u662f\u5355\u4e2a\u5143\u7d20\uff0c\u81ea\u7136\u53ef\u4ee5\u76f4\u63a5\u5f15\u7528\u539f\u6570\u7ec4\u7684\u6570\u636e\uff0c\u800c\u65e0\u9700\u590d\u5236\u6570\u636e\u3002\u4f7f\u7528\u5207\u7247\u65f6\uff0c\u5f97\u5230\u7684\u6570\u636e\u5728\u539f\u6570\u7ec4\u5b58\u50a8\u533a\u57df\u4e2d\u662f\u7b49\u95f4\u9694\u5206\u5e03\u7684\u3002\u56e0\u6b64\uff0c\u53ea\u9700\u8981\u4fee\u6539\u6570\u7ec4\u7684 ndim/shape/strides \u7b49\u5c5e\u6027\u4ee5\u53ca\u6307\u5411\u6570\u636e\u5b58\u50a8\u533a\u57df\u7684 data \u6307\u9488\u5c31\u80fd\u591f\u5b9e\u73b0\u5207\u7247\u7d22\u5f15\u3002\u89c6\u56fe\u548c\u539f\u6570\u7ec4\u5171\u4eab\u6570\u636e\u5b58\u50a8\u533a\u57df\u3002</p> <p>\u4f7f\u7528\u5e8f\u5217\u7d22\u5f15\u3001\u6570\u7ec4\u7d22\u5f15\u548c\u5e03\u5c14\u6570\u7ec4\u65f6\uff0c\u4e0d\u80fd\u4fdd\u8bc1\u6240\u53d6\u5f97\u7684\u6570\u636e\u5728\u539f\u6570\u7ec4\u5b58\u50a8\u533a\u4e2d\u662f\u7b49\u95f4\u9694\u7684\uff0c\u56e0\u6b64\u65e0\u6cd5\u548c\u539f\u6570\u7ec4\u5171\u4eab\u6570\u636e\uff0c\u53ea\u80fd\u5bf9\u6570\u636e\u8fdb\u884c\u62f7\u8d1d\u3002</p> <pre><code>print(\"\u6574\u6570\u7d22\u5f15\", A[1].flags[\"OWNDATA\"])\nprint(\"\u5207\u7247\u7d22\u5f15\", A[0:2].flags[\"OWNDATA\"])\nprint(\"\u5e8f\u5217\u7d22\u5f15\", A[[0, 1]].flags[\"OWNDATA\"])\nprint(\"\u6570\u7ec4\u7d22\u5f15\", A[np.array([[0, 1],\n                          [0, 1]])].flags[\"OWNDATA\"])\nprint(\"\u5e03\u5c14\u6570\u7ec4\", A[A &gt; 50].flags[\"OWNDATA\"])\n</code></pre> <pre><code>\u6574\u6570\u7d22\u5f15 False\n\u5207\u7247\u7d22\u5f15 False\n\u5e8f\u5217\u7d22\u5f15 True\n\u6570\u7ec4\u7d22\u5f15 True\n\u5e03\u5c14\u6570\u7ec4 True\n</code></pre>"},{"location":"Python3/NumPy/8.3.%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80.html","title":"8.3.\u5185\u5b58\u5e03\u5c40","text":"<pre><code>import numpy as np\nimport pprint\nimport copy\n</code></pre> <pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.03.02\nnumpy version:  1.20.1\n</code></pre>"},{"location":"Python3/NumPy/8.3.%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80.html#ndarray","title":"ndarray \u5bf9\u8c61","text":"<p>NumPy \u63d0\u4f9b\u4e86\u4e00\u4e2a N \u7ef4\u6570\u7ec4\u5bf9\u8c61 ndarray\uff0c\u5b83\u63cf\u8ff0\u4e86\u540c\u4e00\u7c7b\u578b\u7684\u5143\u7d20\u7684\u96c6\u5408\u3002</p> <p>ndarray \u4e2d\u6240\u6709\u5143\u7d20\u90fd\u662f\u540c\u8d28\u76841\uff1a\u6bcf\u4e2a\u5143\u7d20\u5360\u7528\u76f8\u540c\u5927\u5c0f\u7684\u5185\u5b58\u5757\uff0c\u5e76\u4e14\u6240\u6709\u5185\u5b58\u5757\u7684\u89e3\u91ca\u65b9\u5f0f\u5b8c\u5168\u76f8\u540c\u3002ndarray \u5185\u5b58\u5757\uff08\u6570\u7ec4\u4e2d\u5404\u5143\u7d20\uff09\u89e3\u91ca\u4e3a\u7279\u5b9a\u6570\u636e\u7c7b\u578b\u6240\u9700\u7684\u4fe1\u606f\u5305\u542b\u5728 data-type \u5bf9\u8c61\uff08<code>dtype</code>\uff09\u4e4b\u4e2d\u3002</p> <p>\u56fe\u4e2d\u663e\u793a\u4e86\u7528\u4e8e\u63cf\u8ff0\u6570\u7ec4\u4e2d\u6570\u636e\u7684\u4e09\u4e2a\u57fa\u672c\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb\uff1a</p> <ol> <li> <p>ndarray \u672c\u8eab</p> </li> <li> <p>\u63cf\u8ff0\u6570\u7ec4\u4e2d\u5355\u4e2a\u56fa\u5b9a\u5927\u5c0f\u5143\u7d20\u7684\u5185\u5b58\u5e03\u5c40\u7684 data-type \u5bf9\u8c61</p> </li> <li> <p>\u8bbf\u95ee\u6570\u7ec4\u7684\u5355\u4e2a\u5143\u7d20\u65f6\u8fd4\u56de\u7684\u6570\u7ec4\u6807\u91cf Python \u5bf9\u8c61</p> </li> </ol> <p>Numpy \u6587\u6863\u5bf9 ndarray \u7684\u63cf\u8ff0</p> <p>ndarray \u7c7b\u7684\u5b9e\u4f8b\u7531\u4e00\u4e2a\u8fde\u7eed\u7684\u4e00\u7ef4\u8ba1\u7b97\u673a\u5185\u5b58\u5757\uff08\u7531\u6570\u7ec4\u6216\u5176\u4ed6\u5bf9\u8c61\u62e5\u6709\uff09\u548c\u4e00\u4e2a\u7d22\u5f15\u65b9\u6848\u7ec4\u5408\u800c\u6210\uff0c\u8be5\u7d22\u5f15\u65b9\u6848\u5c06N\u4e2a\u6574\u6570\u5206\u522b\u6620\u5c04\u5230\u5185\u5b58\u5757\u4e2dN\u4e2a\u5143\u7d20\u7684\u4f4d\u7f6e\u3002\u8fd9\u79cd\u7d22\u5f15\u65b9\u6848\u7531\u6570\u7ec4\u7684 shape \u548c data type \u5b9a\u4e49\uff0c\u7d22\u5f15\u7684\u8303\u56f4\u53d7\u5230 shape \u7684\u9650\u5236\u3002</p>"},{"location":"Python3/NumPy/8.3.%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80.html#numpy","title":"\u4e3a\u4ec0\u4e48\u9700\u8981 NumPy \u6570\u7ec4","text":"<p> \u6570\u636e\u7c7b\u578b</p> <p>Python \u7684 <code>list</code> \u6216 <code>tuple</code> \u5e8f\u5217\u53ef\u4ee5\u50a8\u5b58\u540c\u8d28\u7684\u5143\u7d20\uff0c\u4e5f\u53ef\u4ee5\u50a8\u5b58\u5f02\u6784\u7684\u5143\u7d20\uff0c\u4f46\u5982\u300e\u6570\u636e\u7c7b\u578b\u300f\u4e2d\u6240\u8bf4\uff0c\u8fd9\u79cd\u7075\u6d3b\u6027\u662f\u6709\u4ee3\u4ef7\u7684\u3002<code>list</code> \u5e8f\u5217\u5305\u542b\u7684\u5143\u7d20\u90fd\u662f\u5b8c\u6574\u7684 Python \u5bf9\u8c61\uff0c\u8fd9\u610f\u5473\u7740\u6bcf\u4e00\u4e2a\u5143\u7d20\u4e0d\u4ec5\u5305\u542b\u4e86\u201c\u539f\u59cb\u7684\u201d\u503c\uff0c\u8fd8\u5305\u542b\u4e86\u5404\u81ea\u7684\u989d\u5916\u4fe1\u606f\uff0c\u4f8b\u5982\uff1a\u5f15\u7528\u8ba1\u6570<code>ob_refcnt</code>\u3001\u503c\u7684\u8303\u56f4<code>ob_size</code>\u3001\u503c\u7684\u7c7b\u578b<code>ob_type</code>\u7b49\u3002\u989d\u5916\u4fe1\u606f\u5e26\u6765\u4e86\u66f4\u591a\u7684\u5f00\u9500\uff0c\u8fd9\u5728\u5305\u542b\u4e86\u8bb8\u591a\u5143\u7d20\u7684 Python \u5bb9\u5668\u5bf9\u8c61\u4e2d\u5c24\u5176\u660e\u663e\u3002\u5728\u6240\u6709\u53d8\u91cf\u90fd\u5177\u6709\u76f8\u540c\u7c7b\u578b\u7684\u7279\u6b8a\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e9b\u4fe1\u606f\u5927\u90e8\u5206\u662f\u5197\u4f59\u7684\uff0c\u6b64\u65f6\uff0c\u5c06\u6570\u636e\u5b58\u50a8\u5728\u56fa\u5b9a\u7c7b\u578b\u7684\u6570\u7ec4\u4e2d\u66f4\u6709\u6548\u3002</p> <p>Python \u5217\u8868\u548c\u56fa\u5b9a\u7c7b\u578b\u7684 NumPy \u6570\u7ec4\u7684\u533a\u522b\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p>\u5728\u5177\u4f53\u5b9e\u73b0\u65b9\u9762\uff0c\u6570\u7ec4\u5b9e\u9645\u4e0a\u5305\u542b\u4e00\u4e2a\u6307\u5411\u4e00\u4e2a\u8fde\u7eed\u6570\u636e\u5757\u7684\u6307\u9488\uff1b\u800c Python \u5217\u8868\u5305\u542b\u4e00\u4e2a\u6307\u5411\u6307\u9488\u5757\u7684\u6307\u9488\uff0c\u6bcf\u4e2a\u6307\u9488\u53c8\u6307\u5411\u4e00\u4e2a\u5b8c\u6574\u7684 Python \u5bf9\u8c61\u3002</p> <p>\u5217\u8868\u7684\u4f18\u70b9\u662f\u7075\u6d3b\u6027\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u5217\u8868\u5143\u7d20\u90fd\u662f\u5305\u542b\u6570\u636e\u548c\u7c7b\u578b\u4fe1\u606f\u7684\u5b8c\u6574\u7ed3\u6784\uff0c\u6240\u4ee5\u5217\u8868\u53ef\u4ee5\u586b\u5145\u4efb\u4f55\u6240\u9700\u7c7b\u578b\u7684\u6570\u636e\u3002\u56fa\u5b9a\u7c7b\u578b\u7684 NumPy \u6570\u7ec4\u7f3a\u4e4f\u8fd9\u79cd\u7075\u6d3b\u6027\uff0c\u4f46\u5728\u5b58\u50a8\u548c\u64cd\u4f5c\u6570\u636e\u65b9\u9762\u8981\u9ad8\u6548\u5f97\u591a\u3002</p> <p>Python \u63d0\u4f9b\u4e86\u51e0\u79cd\u4e0d\u540c\u7684\u9009\u62e9\uff0c\u7528\u4e8e\u5728 \u9ad8\u6548\u7684\u56fa\u5b9a\u7c7b\u578b\u7684\u6570\u636e\u7f13\u51b2\u533a \u4e2d\u5b58\u50a8\u6570\u636e\u3002\u4f8b\u5982\uff0c\u5185\u7f6e\u7684<code>array</code> \u6a21\u5757\uff08Python 3.3+\uff09\u53ef\u7528\u4e8e\u521b\u5efa\u7edf\u4e00\u7c7b\u578b\u7684\u5bc6\u96c6\u6570\u7ec4\u3002</p> <pre><code>import array\n\nL = list(range(10))\nA = array.array('i', L)\nA\n</code></pre> <pre><code>array('i', [0, 1, 2, 3, 4, 5, 6, 7, 8, 9])\n</code></pre> <p>\u8fd9\u91cc\u7684 <code>'i'</code> \u662f\u4e00\u4e2a\u7c7b\u578b\u4ee3\u7801\uff0c\u6307\u793a\u5185\u5bb9\u662f\u6574\u6570\u3002</p> <p>\u4f46\u66f4\u6709\u7528\u7684\u8fd8\u662f NumPy \u6570\u7ec4\u3002\u867d\u7136 Python \u7684 <code>array</code> \u5bf9\u8c61\u63d0\u4f9b\u4e86\u57fa\u4e8e\u6570\u7ec4\u6570\u636e\u7684\u9ad8\u6548\u5b58\u50a8\uff0c\u4f46 NumPy \u8fd8\u63d0\u4f9b\u4e86\u5bf9\u6570\u7ec4\u6570\u636e\u7684\u9ad8\u6548\u64cd\u4f5c\u3002</p>"},{"location":"Python3/NumPy/8.3.%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80.html#_1","title":"\u5185\u5b58\u5e03\u5c40","text":"<p>ndarray \u770b\u4e0a\u53bb\u4f3c\u4e4e\u53ef\u4ee5\u662f\u591a\u7ef4\u7684\uff0c\u4f46\u5728\u5185\u5b58\u4e2d\uff0cndarray \u662f\u4e00\u7ef4\u50a8\u5b58\u7684\u3002\u6709\u8bb8\u591a\u65b9\u6848\u5c06N\u7ef4\u6570\u7ec4\u4ee5\u4e00\u7ef4\u6570\u7ec4\u7684\u5f62\u5f0f\u50a8\u5b58\u5728\u5185\u5b58\u4e2d\u3002\u5176\u4e2d Numpy \u6709\u4e24\u79cd\u50a8\u5b58\u65b9\u5f0f\uff1a</p> <ul> <li> <p>\u5143\u7d20\u6309\u884c\u987a\u5e8f\u50a8\u5b58\uff08C\u8bed\u8a00\u98ce\u683c\uff09</p> </li> <li> <p>\u6216\u8005\u6309\u5217\u987a\u5e8f\u50a8\u5b58\uff08Fortran\u8bed\u8a00\u98ce\u683c\uff09</p> </li> </ul> <p>\u56e0\u6b64\uff0c\u5982\u679c\u8981\u5bf9\u4e00\u4e2a ndarray \u4ee5\u884c\u4e3a\u5355\u4f4d\u8fdb\u884c\u64cd\u4f5c\uff0c\u6700\u597d\u4ee5 C \u7684\u65b9\u5f0f\u521b\u5efa ndarray\uff1b\u5982\u679c\u8981\u5bf9\u4e00\u4e2a ndarray \u4ee5\u5217\u4e3a\u5355\u4f4d\u8fdb\u884c\u64cd\u4f5c\uff0c\u5219\u7528 Fortran \u65b9\u5f0f\u3002</p> <pre><code>A = copy.deepcopy(np.arange(9, dtype=np.int16).reshape(3,3))\npprint.pprint(A)\n</code></pre> <pre><code>array([[0, 1, 2],\n       [3, 4, 5],\n       [6, 7, 8]], dtype=int16)\n</code></pre> <p>\u6570\u7ec4 <code>A</code> \u4e0e\u5185\u5b58\u5e03\u5c40\u76f8\u5173\u7684\u5c5e\u6027\u5982\u4e0b\uff1a</p> \u5c5e\u6027 A\u7684\u5c5e\u6027\u503c \u63cf\u8ff0 A.dtype <code>dtype('int16')</code> \u5143\u7d20\u6570\u636e\u7c7b\u578b\u3002A\u7684\u6bcf\u4e2a\u5143\u7d20\u662f16bit\u5927\u5c0f\u7684int\u578b\u6570\u636e\u3002 A.ndim <code>2</code> \u8f74\uff08\u7ef4\u5ea6\uff09\u7684\u4e2a\u6570\u3002A\u6709\u4e24\u4e2a\u8f74\uff1a0\u8f74\u30011\u8f74\u3002 A.shape <code>(3, 3)</code> \u5404\u4e2a\u8f74\u7684\u5927\u5c0f\u30020\u8f74\u67093\u4e2a\u5143\u7d20\uff0c1\u8f74\u67093\u4e2a\u5143\u7d20\u3002 A.size <code>9</code> \u6570\u7ec4\u7684\u5927\u5c0f\uff0c\u6709\u591a\u5c11\u4e2a\u5143\u7d20\u3002 A.data <code>&lt;memory address&gt;</code> \u6307\u5411\u6570\u7ec4\u7684\u6570\u636e\u7684\u5b58\u50a8\u533a\u3002 A.itemsize <code>2</code> \u4e00\u4e2a\u5143\u7d20\u7684\u957f\u5ea6\uff0c\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u300216bit\u7b49\u4e8e2\u5b57\u8282\u3002 A.nbytes <code>18</code> \u6570\u7ec4\u5143\u7d20\u5360\u636e\u7684\u603b\u5b57\u8282\u6570\u3002 A.base <code>None</code> \u5982\u679c\u5185\u5b58\u6765\u81ea\u5176\u4ed6\u5bf9\u8c61\uff0c\u5219\u4ee5\u6b64\u4e3a\u57fa\u7840\u5bf9\u8c61\u3002 A.flags \u6709\u5173\u6570\u7ec4\u5185\u5b58\u5e03\u5c40\u7684\u4fe1\u606f\u3002 A.strides <code>(6, 2)</code> \u4e00\u4e2a\u6574\u6570\u5143\u7ec4\uff0c\u6bcf\u4e2a\u5143\u7d20\u4fdd\u5b58\u7740\u6bcf\u4e2a\u8f74\u4e0a\u76f8\u90bb\u4e24\u4e2a\u5143\u7d20\u7684\u5730\u5740\u5dee\u3002 \u5373\u5f53\u67d0\u4e2a\u8f74\u7684\u4e0b\u6807\u589e\u52a01 \u65f6\uff0c\u6570\u636e\u5b58\u50a8\u533a\u4e2d\u7684\u6307\u9488\u589e\u52a0\u7684\u5b57\u8282\u6570\u3002 <p>\u53ef\u4ee5\u4ece\u4e0d\u540c\u7684\u89d2\u5ea6\u89c2\u5bdf\u8be5 array\uff1a</p> <pre><code>               shape[1]\n                 (=3)\n            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\n         \u250c  \u250c---\u252c---\u252c---\u2510  \u2510\n         \u2502  \u2502 0 \u2502 1 \u2502 2 \u2502  \u2502\n         \u2502  \u251c---\u253c---\u253c---\u2524  \u2502\nshape[0] \u2502  \u2502 3 \u2502 4 \u2502 5 \u2502  \u2502 len(Z)\n (=3)    \u2502  \u251c---\u253c---\u253c---\u2524  \u2502  (=3)\n         \u2502  \u2502 6 \u2502 7 \u2502 8 \u2502  \u2502\n         \u2514  \u2514---\u2534---\u2534---\u2518  \u2518\n</code></pre> <p>\u5c55\u5f00\u7684 item layout</p> <pre><code>\u250c---\u252c---\u252c---\u252c---\u252c---\u252c---\u252c---\u252c---\u252c---\u2510\n\u2502 0 \u2502 1 \u2502 2 \u2502 3 \u2502 4 \u2502 5 \u2502 6 \u2502 7 \u2502 8 \u2502\n\u2514---\u2534---\u2534---\u2534---\u2534---\u2534---\u2534---\u2534---\u2534---\u2518\n\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               A.size\n                (=9)\n</code></pre> <p>\u5185\u5b58\u5e03\u5c40(C\u987a\u5e8f)</p> <pre><code>                         strides[1]\n                           (=2)\n                  \u250c---------------------\u2510\n\n          \u250c       \u250c----------\u252c----------\u2510 \u2510\n          \u2502 p+00: \u2502 00000000 \u2502 00000000 \u2502 \u2502\n          \u2502       \u251c----------\u253c----------\u2524 \u2502\n          \u2502 p+02: \u2502 00000000 \u2502 00000001 \u2502 \u2502 strides[0]\n          \u2502       \u251c----------\u253c----------\u2524 \u2502   (=2x3)\n          \u2502 p+04  \u2502 00000000 \u2502 00000010 \u2502 \u2502\n          \u2502       \u251c----------\u253c----------\u2524 \u2518\n          \u2502 p+06  \u2502 00000000 \u2502 00000011 \u2502\n          \u2502       \u251c----------\u253c----------\u2524\nA.nbytes  \u2502 p+08: \u2502 00000000 \u2502 00000100 \u2502\n(=3x3x2)  \u2502       \u251c----------\u253c----------\u2524\n          \u2502 p+10: \u2502 00000000 \u2502 00000101 \u2502\n          \u2502       \u251c----------\u253c----------\u2524\n          \u2502 p+12: \u2502 00000000 \u2502 00000110 \u2502\n          \u2502       \u251c----------\u253c----------\u2524\n          \u2502 p+14: \u2502 00000000 \u2502 00000111 \u2502\n          \u2502       \u251c----------\u253c----------\u2524\n          \u2502 p+16: \u2502 00000000 \u2502 00001000 \u2502\n          \u2514       \u2514----------\u2534----------\u2518\n\n                  \u2514---------------------\u2518\n                        A.itemsize\n                     A.dtype.itemsize\n                           (=2)\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u73b0\u5728\u53d6\u4e00A\u7684\u5207\u7247\uff0c\u7ed3\u679c\u662fA\u7684\u57fa\u672c\u6570\u7ec4\u7684\u4e00\u4e2a\u89c6\u56fe\uff1a</p> <pre><code>V = A[::2,::2]\n</code></pre> <p>\u8fd9\u6837\u7684\u89c6\u56fe\u662f\u7531shape\uff0cdtype \u548cstrides\u6307\u5b9a\u7684\uff0c\u56e0\u4e3a\u4ec5\u51eddtype\u548cshape\u4e0d\u80fd\u63a8\u65ad\u51fastrides:</p> <p>\u5982\u679c\u6211\u4eec\u73b0\u5728\u53d6\u4e00A\u7684\u5207\u7247\uff0c\u7ed3\u679c\u662fA\u7684\u57fa\u672c\u6570\u7ec4\u7684\u4e00\u4e2a\u89c6\u56fe\uff1a</p> <pre><code>V = A[::2,::2]\n</code></pre> <p>\u8fd9\u6837\u7684\u89c6\u56fe\u662f\u7531shape\uff0cdtype \u548cstrides\u6307\u5b9a\u7684\uff0c\u56e0\u4e3a\u4ec5\u51eddtype\u548cshape\u4e0d\u80fd\u63a8\u65ad\u51fastrides:</p> <p>Item layout</p> <pre><code>               shape[1]\n                 (=2)\n            \u250c-----------\u2510\n\n         \u250c  \u250c---\u252c---\u252c---\u2510  \u2510\n         \u2502  \u2502 0 \u2502   \u2502 2 \u2502  \u2502             \u250c---\u252c---\u2510\n         \u2502  \u251c---\u253c---\u253c---\u2524  \u2502             | 0 \u2502 2 \u2502\nshape[0] \u2502  \u2502   \u2502   \u2502   \u2502  \u2502 len(A) --&gt;  \u251c---\u253c---\u2524\n (=2)    \u2502  \u251c---\u253c---\u253c---\u2524  \u2502  (=2)       | 6 \u2502 8 \u2502\n         \u2502  \u2502 6 \u2502   \u2502 8 \u2502  \u2502             \u2514---\u2534---\u2518\n         \u2514  \u2514---\u2534---\u2534---\u2518  \u2518\n</code></pre> <p>\u5c55\u5f00\u7684item layout</p> <pre><code>\u250c---\u252c---\u252c---\u252c---\u252c---\u252c---\u252c---\u252c---\u252c---\u2510   \u250c---\u252c---\u252c---\u252c---\u2510\n\u2502 0 \u2502 1 \u2502 2 \u2502 3 \u2502 4 \u2502 5 \u2502 6 \u2502 7 \u2502 8 \u2502 \u2192 \u2502 0 \u2502 2 \u2502 6 \u2502 8 \u2502\n\u2514---\u2534---\u2534---\u2534---\u2534---\u2534---\u2534---\u2534---\u2534---\u2518   \u2514---\u2534---\u2534---\u2534---\u2518\n\u2514-\u252c-\u2518   \u2514-\u252c-\u2518           \u2514-\u252c-\u2518   \u2514-\u252c-\u2518\n  \u2514---\u252c---\u2518               \u2514---\u252c---\u2518\n      \u2514-----------\u252c-----------\u2518\n               A.size\n                (=4)\n</code></pre> <p>\u5185\u5b58\u5e03\u5c40(C\u987a\u5e8f\uff0c\u5927\u7aef\u5e8f)</p> <pre><code>              \u250c        \u250c----------\u252c----------\u2510 \u2510             \u2510\n            \u250c-\u2524  p+00: \u2502 00000000 \u2502 00000000 \u2502 \u2502             \u2502\n            \u2502 \u2514        \u251c----------\u253c----------\u2524 \u2502 strides[1]  \u2502\n          \u250c-\u2524    p+02: \u2502          \u2502          \u2502 \u2502   (=4)      \u2502\n          \u2502 \u2502 \u250c        \u251c----------\u253c----------\u2524 \u2518             \u2502\n          \u2502 \u2514-\u2524  p+04  \u2502 00000000 \u2502 00000010 \u2502               \u2502\n          \u2502   \u2514        \u251c----------\u253c----------\u2524               \u2502 strides[0]\n          \u2502      p+06: \u2502          \u2502          \u2502               \u2502   (=12)\n          \u2502            \u251c----------\u253c----------\u2524               \u2502\nA.nbytes -\u2524      p+08: \u2502          \u2502          \u2502               \u2502\n  (=8)    \u2502            \u251c----------\u253c----------\u2524               \u2502\n          \u2502      p+10: \u2502          \u2502          \u2502               \u2502\n          \u2502   \u250c        \u251c----------\u253c----------\u2524               \u2518\n          \u2502 \u250c-\u2524  p+12: \u2502 00000000 \u2502 00000110 \u2502\n          \u2502 \u2502 \u2514        \u251c----------\u253c----------\u2524\n          \u2514-\u2524    p+14: \u2502          \u2502          \u2502\n            \u2502 \u250c        \u251c----------\u253c----------\u2524\n            \u2514-\u2524  p+16: \u2502 00000000 \u2502 00001000 \u2502\n              \u2514        \u2514----------\u2534----------\u2518\n\n                       \u2514---------------------\u2518\n                             A.itemsize\n                          A.dtype.itemsize\n                                (=2)\n</code></pre> <p>\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539<code>ndarray</code>\u5bf9\u8c61\u7684<code>strides</code>\u5c5e\u6027\uff0c\u6539\u53d8<code>ndarray</code>\u7684\u5185\u5b58\u5e03\u5c40\uff0c\u4f46\u6b64\u65f6\u4f1a\u4fee\u6539\u539f\u6570\u7ec4\u3002</p> <pre><code>A = copy.deepcopy(np.arange(9, dtype=np.int16).reshape(3, 3))\nA.strides = (2, 4)\npprint.pprint(A)\n</code></pre> <pre><code>array([[0, 2, 4],\n       [1, 3, 5],\n       [2, 4, 6]], dtype=int16)\n</code></pre>"},{"location":"Python3/NumPy/8.3.%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80.html#_2","title":"\u89c6\u56fe\u548c\u526f\u672c","text":"<p>\u89c6\u56fe\u548c\u526f\u672c\u662f\u4f18\u5316\u6570\u503c\u8ba1\u7b97\u7684\u91cd\u8981\u6982\u5ff5\u3002</p> <p>\u5728 NumPy \u4e2d\uff0c\u53ef\u4ee5\u7528\u5207\u7247\u548c\u82b1\u5f0f\u7d22\u5f15\uff08\u6574\u6570\u6570\u7ec4\u7d22\u5f15\uff09\u6765\u7d22\u5f15\u6570\u636e\u3002\u5207\u7247\u5c06\u59cb\u7ec8\u8fd4\u56de\u89c6\u56fe\uff0c\u800c\u6574\u6570\u6570\u7ec4\u7d22\u5f15\u5c06\u8fd4\u56de\u4e00\u4e2a\u526f\u672c\u3002\u8fd9\u79cd\u5dee\u5f02\u5f88\u91cd\u8981\uff0c\u56e0\u4e3a\u5728\u5207\u7247\u60c5\u51b5\u4e0b\uff0c\u4fee\u6539\u89c6\u56fe\u4f1a\u4fee\u6539\u539f\u6570\u7ec4\uff0c\u800c\u5728\u6574\u6570\u6570\u7ec4\u7d22\u5f15\u60c5\u51b5\u4e0b\u5219\u4e0d\u662f\u8fd9\u6837\uff1a</p> <pre><code>Z = np.zeros(9)\nZ_view = Z[:3]\nZ_view[...] = 1\nprint(Z)\n</code></pre> <pre><code>[1. 1. 1. 0. 0. 0. 0. 0. 0.]\n</code></pre> <pre><code>Z = np.zeros(9)\nZ_copy = Z[[0, 1, 2]]\nZ_copy[...] = 1\nprint(Z)\n</code></pre> <pre><code>[0. 0. 0. 0. 0. 0. 0. 0. 0.]\n</code></pre> <p>\u56e0\u6b64\uff0c\u5982\u679c\u9700\u8981\u53cd\u590d\u7528\u5230\u67d0\u4e2a\u82b1\u5f0f\u7d22\u5f15\uff0c\u6700\u597d\u4fdd\u7559\u5b83\u7684\u526f\u672c\uff08\u7279\u522b\u662f\u5982\u679c\u8ba1\u7b97\u5b83\u5f88\u590d\u6742\uff09\u3002\u5982\u679c\u4e0d\u786e\u5b9a\u7d22\u5f15\u7684\u7ed3\u679c\u662f\u89c6\u56fe\u8fd8\u662f\u526f\u672c\uff0c\u5219\u53ef\u4ee5\u68c0\u67e5base\u7684\u7ed3\u679c\u3002\u5982\u679c\u662fNone\uff0c\u90a3\u4e48\u7ed3\u679c\u5c31\u662f\u526f\u672c\uff1a</p> <pre><code>Z = np.random.uniform(0, 1, (5, 5))\nZ1 = Z[:3, :]\nZ2 = Z[[0, 1, 2], :]\nprint(\"Z1 is equal to Z2:\", np.allclose(Z1, Z2))\nprint(\"Z1's view is Z:\", Z1.base is Z)\nprint(\"Z2's view is Z:\", Z2.base is Z)\nprint(\"Z2 has no view:\", Z2.base is None)\n</code></pre> <pre><code>Z1 is equal to Z2: True\nZ1's view is Z: True\nZ2's view is Z: False\nZ2 has no view: True\n</code></pre> <p>\u8bf7\u6ce8\u610f\uff0c\u4e00\u4e9b Numpy \u51fd\u6570\u5728\u53ef\u80fd\u7684\u60c5\u51b5\u4e0b\u8fd4\u56de\u89c6\u56fe (\u4f8b\u5982\uff0cravel)\uff0c\u800c\u53e6\u4e00\u4e9b\u51fd\u6570\u603b\u662f\u8fd4\u56de\u526f\u672c (\u4f8b\u5982\uff0cflatten):</p> <pre><code>Z = np.zeros((5, 5))\nprint(Z.ravel().base is Z)\n</code></pre> <pre><code>True\n</code></pre> <pre><code>print(Z[::2, ::2].ravel().base is Z)\n</code></pre> <pre><code>False\n</code></pre> <pre><code>print(Z.flatten().base is Z)\n</code></pre> <pre><code>False\n</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7<code>ndarray.view()</code>\u65b9\u6cd5\uff0c\u4ece\u540c\u4e00\u5757\u5185\u5b58\u533a\uff08\u50a8\u5b58\u7740numpy\u6570\u7ec4\u7684\u5185\u5b58\u533a\uff09\u521b\u5efa\u4e0d\u540c\u7684dtype\u6570\u7ec4\u3002\u5373\u7528\u4e0d\u540c\u7684\u6570\u503c\u7c7b\u578b\u67e5\u770b\u540c\u4e00\u6bb5\u5185\u5b58\u4e2d\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u3002\u5b83\u4eec\u4f7f\u7528\u7684\u662f\u540c\u4e00\u5757\u5185\u5b58\u3002 \u5b9e\u9645\u4e0a\uff0c<code>ndarray.view()</code>\u65b9\u6cd5\u662f\u521b\u5efa\u4e86\u4e00\u4e2a\u89c6\u56fe\u3002</p> <pre><code>A = np.array([[0, 1, 2], [3, 4, 5], [6, 7, 8]])\nA_view = A.view(np.int32)  # A_view \u662f\u89c6\u56fe\nA_view.flags\n</code></pre> <pre><code>  C_CONTIGUOUS : True\n  F_CONTIGUOUS : False\n  OWNDATA : False\n  WRITEABLE : True\n  ALIGNED : True\n  WRITEBACKIFCOPY : False\n  UPDATEIFCOPY : False\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u76f4\u63a5\u4fee\u6539\u539f\u59cb\u6570\u7ec4\u7684<code>dtype</code>\uff0c\u4f1a\u8fbe\u5230\u540c\u6837\u7684\u6548\u679c\uff0c\u4f46\u6b64\u65f6\u76f4\u63a5\u4fee\u6539\u539f\u59cb\u6570\u7ec4\u3002</p> <pre><code>A.dtype = np.float32\n</code></pre> <p>Caution</p> <p>\u901a\u5e38\u5e94\u907f\u514d\u6539\u53d8\u7531\u5207\u7247\u3001transposes\u3001fortran\u6392\u5e8f\u7b49\u5b9a\u4e49\u7684\u6570\u7ec4\u7684<code>dtype</code> \u7684\u5927\u5c0f\uff0c\u53ef\u80fd\u4f1a\u5f15\u53d1\u9519\u8bef\uff0c\u5982\u4e0b\uff1a</p> <pre><code>A = copy.deepcopy(np.arange(9, dtype=np.int16).reshape(3, 3))\n\ntry:\n    A_view = A.view(np.int32)\nexcept ValueError as e:\n    print(\"ValueError:\", e)\n</code></pre> <pre><code>ValueError: When changing to a larger dtype, its size must be a\ndivisor of the total size in bytes of the last axis of the array.\n</code></pre>"},{"location":"Python3/NumPy/8.3.%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80.html#numpy_1","title":"NumPy \u6570\u636e\u7c7b\u578b","text":"<p>NumPy \u6bd4 Python \u652f\u6301\u66f4\u591a\u79cd\u7c7b\u7684\u6570\u503c\u7c7b\u578b\u3002\u56e0\u4e3a NumPy \u662f\u7528 C \u8bed\u8a00\u6784\u5efa\u7684\uff0c\u5176\u57fa\u672c\u7c7b\u578b\u4e0e C \u8bed\u8a00\u4e2d\u7684\u57fa\u672c\u7c7b\u578b\u7d27\u5bc6\u76f8\u8fde\u3002C\u3001Fortran \u548c\u5176\u4ed6\u76f8\u5173\u8bed\u8a00\u7684\u7528\u6237\u90fd\u5f88\u719f\u6089\u8fd9\u4e9b\u7c7b\u578b\u3002\u4f46\u5bf9\u4e8e\u65b0\u624b\u6765\u8bf4\uff0c\u8bb0\u4e0d\u4f4f\u8fd9\u4e9b NumPy \u7684 dtype \u4e5f\u6ca1\u5173\u7cfb\u3002\u901a\u5e38\u53ea\u9700\u8981\u77e5\u9053\u6240\u5904\u7406\u7684\u6570\u636e\u7684\u5927\u81f4\u7c7b\u578b\u662f\u6574\u6570\u3001\u6d6e\u70b9\u6570\u3001\u590d\u6570\u3001\u5e03\u5c14\u503c\u3001\u5b57\u7b26\u4e32\uff0c\u8fd8\u662f\u666e\u901a\u7684Python\u5bf9\u8c61\u5373\u53ef\u3002\u5982\u679c\u9700\u8981\u63a7\u5236\u6570\u636e\u5728\u5185\u5b58\u548c\u78c1\u76d8\u4e2d\u7684\u5b58\u50a8\u65b9\u5f0f\uff08\u5c24\u5176\u662f\u5bf9\u5927\u6570\u636e\u96c6\uff09\uff0c\u90a3\u5c31\u5f97\u4e86\u89e3\u5982\u4f55\u63a7\u5236\u5b58\u50a8\u7c7b\u578b\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 Data types\u3002</p> \u7c7b\u578b \u7c7b\u578b\u4ee3\u7801 \u8bf4\u660e int8\u3001 uint8 i1\u3001u1 \u6709\u7b26\u53f7\u548c\u65e0\u7b26\u53f7\u76848\u4f4d\uff081\u4e2a\u5b57\u8282\uff09\u6574\u578b int16\u3001uint16 i2\u3001u2 \u6709\u7b26\u53f7\u548c\u65e0\u7b26\u53f7\u768416\u4f4d\uff082\u4e2a\u5b57\u8282\uff09\u6574\u578b int32\u3001uint32 i4\u3001u4 \u6709\u7b26\u53f7\u548c\u65e0\u7b26\u53f7\u768432\u4f4d\uff084\u4e2a\u5b57\u8282\uff09\u6574\u578b int64\u3001uint64 i8\u3001u8 \u6709\u7b26\u53f7\u548c\u65e0\u7b26\u53f7\u768464\u4f4d\uff088\u4e2a\u5b57\u8282\uff09\u6574\u578b float16 f2 \u534a\u7cbe\u5ea6\u6d6e\u70b9\u6570 float32 f4\u6216f \u6807\u51c6\u7684\u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570\u3002\u4e0eC\u7684float\u517c\u5bb9 float64 f8\u6216d \u6807\u51c6\u7684\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\u3002\u4e0eC\u7684double\u548cPython \u7684float\u5bf9\u8c61\u517c\u5bb9 float128 f16 \u6216 g \u6269\u5c55\u7cbe\u5ea6\u6d6e\u70b9\u6570 complex64\u3001complex128\u3001 c8\u3001 c16\u3001 \u5206\u522b\u7528\u4e24\u4e2a32\u4f4d\u300164\u4f4d\u6216128\u4f4d\u6d6e\u70b9\u6570\u8868\u793a\u7684 complex256 c32 \u590d\u6570 bool ? \u5b58\u50a8True\u548cFalse\u503c\u7684\u5e03\u5c14\u7c7b\u578b object O Python\u5bf9\u8c61\u7c7b\u578b string_ S \u56fa\u5b9a\u957f\u5ea6\u7684\u5b57\u7b26\u4e32\u7c7b\u578b\uff08\u6bcf\u4e2a\u5b57\u7b261\u4e2a\u5b57\u8282\uff09\u3002 \u4f8b\u5982\uff0c\u8981\u521b\u5efa\u4e00\u4e2a\u957f\u5ea6\u4e3a10\u7684\u5b57\u7b26\u4e32\uff0c\u5e94\u4f7f\u7528 S10 unicode_ U \u56fa\u5b9a\u957f\u5ea6\u7684Unicode\u7c7b\u578b\uff08\u5b57\u8282\u6570\u7531\u5e73\u53f0\u51b3\u5b9a\uff09\u3002 \u8ddf\u5b57\u7b26\u4e32\u7684\u5b9a\u4e49\u65b9\u5f0f\u4e00\u6837\uff08\u5982U10) <ol> <li> <p>\u4f8b\u5916\uff1aNumpy\u7684\u7ed3\u6784\u6570\u7ec4\u7684\u5143\u7d20\u53ef\u4ee5\u4e0d\u540c\u8d28\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"Python3/NumPy/8.4.%E5%B9%BF%E6%92%AD.html","title":"8.4.\u5e7f\u64ad","text":"<pre><code>import numpy as np\nimport copy\n</code></pre> <pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.03.22\nnumpy version:  1.18.1\n</code></pre>"},{"location":"Python3/NumPy/8.4.%E5%B9%BF%E6%92%AD.html#_1","title":"\u5e7f\u64ad\u89c4\u5219","text":"<p>\u5f53\u4f7f\u7528ufunc\u51fd\u6570\u5bf9\u4e24\u4e2a\u6570\u7ec4\u8fdb\u884c\u8ba1\u7b97\u65f6\uff0cufunc\u51fd\u6570\u4f1a\u5bf9\u8fd9\u4e24\u4e2a\u6570\u7ec4\u7684\u5bf9\u5e94\u5143\u7d20\u8fdb\u884c\u8ba1\u7b97\u3002\u8fd9\u8981\u6c42\u8fd9\u4e24\u4e2a\u6570\u7ec4\u7684\u5f62\u72b6\u76f8\u540c\u3002\u5982\u679c\u8fd9\u4e24\u4e2a\u6570\u7ec4\u7684\u5f62\u72b6\u4e0d\u540c\uff0c\u5c31\u901a\u8fc7\u5e7f\u64adbroadcasting\u8fdb\u884c\u5904\u7406\uff1a</p> <ul> <li> <p>\u9996\u5148\u8ba9\u6240\u6709\u8f93\u5165\u6570\u7ec4\u90fd\u5411\u5176\u4e2d\u7ef4\u5ea6\u6700\u9ad8\u7684\u6570\u7ec4\u770b\u9f50\u3002\u770b\u9f50\u65b9\u5f0f\u4e3a\uff1a\u5728shape\u5c5e\u6027\u7684\u5de6\u4fa7\u63d2\u5165\u6570\u5b571</p> <ul> <li>\u6700\u540e\u8f93\u51fa\u6570\u7ec4\u7684shape\u5c5e\u6027\u662f\u8f93\u5165\u6570\u7ec4\u7684shape\u5c5e\u6027\u7684\u5404\u8f74\u4e0a\u7684\u6700\u5927\u503c</li> </ul> </li> <li> <p>\u5982\u679c\u8f93\u5165\u6570\u7ec4\u7684\u67d0\u4e2a\u8f74\u7684\u957f\u5ea6\u4e3a 1\uff0c\u6216\u8005\u4e0e\u8f93\u51fa\u6570\u7ec4\u7684\u5404\u5bf9\u5e94\u8f74\u7684\u957f\u5ea6\u76f8\u540c\uff0c\u8be5\u6570\u7ec4\u80fd\u6b63\u786e\u5e7f\u64ad\u3002\u5426\u5219\u8ba1\u7b97\u51fa\u9519</p> </li> <li> <p>\u5f53\u8f93\u5165\u6570\u7ec4\u7684\u67d0\u4e2a\u8f74\u7684\u957f\u5ea6\u4e3a 1\u65f6\uff0c\u6cbf\u7740\u6b64\u8f74\u8fd0\u7b97\u65f6\u90fd\u7528\u6b64\u8f74\u4e0a\u7684\u7b2c\u4e00\u7ec4\u503c\u3002</p> </li> </ul>"},{"location":"Python3/NumPy/8.4.%E5%B9%BF%E6%92%AD.html#_2","title":"\u5e7f\u64ad\u89c4\u5219\u793a\u610f\u56fe","text":"<p>The code to produce the figures is part of the AstroML book</p> <p></p>"},{"location":"Python3/NumPy/8.4.%E5%B9%BF%E6%92%AD.html#_3","title":"\u4e0e\u5e7f\u64ad\u76f8\u5173\u7684\u51fd\u6570","text":"<ul> <li> <p><code>ny.broadcast_arrays()</code>\uff1a\u67e5\u770b\u5e7f\u64ad\u4e4b\u540e\u7684\u6570\u7ec4 \u3002</p> </li> <li> <p><code>np.broadcast_to(array, shape, subok=False)</code>\uff1a\u5c06array\u5e7f\u64ad\u4e3a\u6307\u5b9a\u7684shape\uff0c\u5982\u679c\u6307\u5b9a\u7684shape\u4e0d\u6ee1\u8db3\u5e7f\u64ad\u8981\u6c42\uff0c\u5219\u62a5\u9519\u3002</p> </li> <li> <p><code>ndarray.repeat(repeats, axis=None)</code>\uff1a\u91cd\u590d\u67d0\u4e2a\u8f74\u4e0a\u7684\u503c\u3002repeats\u4e3a\u91cd\u590d\u6b21\u6570\u3002axis\u6307\u5b9a\u88ab\u91cd\u590d\u7684\u8f74\uff0c\u5373\u6cbf\u7740\u54ea\u4e00\u8f74\u91cd\u590d\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5219\u5c06\u6570\u7ec4\u5c55\u5e73\u7136\u540e\u91cd\u590d\u3002\u8fd4\u56de\u7684\u4e5f\u662f\u4e00\u4e2a\u5c55\u5e73\u7684\u6570\u7ec4</p> </li> </ul> <pre><code>a = copy.deepcopy(np.arange(10).reshape(5,2))\nb = np.arange(5)\n\nc = b[:,None]\nd = np.ones((5,3))\n</code></pre> <pre><code>a = [[0 1]      b = [0 1 2 3 4]\n     [2 3]\n     [4 5]\n     [6 7]\n     [8 9]]\n\nc = [[0]        d = [[1. 1. 1.]\n     [1]             [1. 1. 1.]\n     [2]             [1. 1. 1.]\n     [3]             [1. 1. 1.]\n     [4]]            [1. 1. 1.]]\n</code></pre> <pre><code>np.broadcast_arrays(d,c)\n</code></pre> <pre><code>[array([[1., 1., 1.],\n        [1., 1., 1.],\n        [1., 1., 1.],\n        [1., 1., 1.],\n        [1., 1., 1.]]),\n array([[0, 0, 0],\n        [1, 1, 1],\n        [2, 2, 2],\n        [3, 3, 3],\n        [4, 4, 4]])]\n</code></pre> <pre><code>np.broadcast_to(b[:,None], (5,2))\n</code></pre> <pre><code>array([[0, 0],\n       [1, 1],\n       [2, 2],\n       [3, 3],\n       [4, 4]])\n</code></pre> <pre><code>a.repeat(3, axis=1)\n</code></pre> <pre><code>array([[0, 0, 0, 1, 1, 1],\n       [2, 2, 2, 3, 3, 3],\n       [4, 4, 4, 5, 5, 5],\n       [6, 6, 6, 7, 7, 7],\n       [8, 8, 8, 9, 9, 9]])\n</code></pre>"},{"location":"Python3/NumPy/8.5.%E5%B8%B8%E9%87%8F.html","title":"8.5.\u5e38\u91cf","text":"<pre><code>import numpy as np\n</code></pre> <pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.03.09\nnumpy version:  1.20.1\n</code></pre> <p>NumPy \u5b9a\u4e49\u4e86\u51e0\u4e2a\u5e38\u91cf\uff08\u90fd\u662fIEEE 754 \u6d6e\u70b9\u8868\u793a\uff09\uff1a</p> <pre><code>| Attributes         |Values                 |Annotations           \n| :--------------    |:------------------    |:-------------------  \n| np.inf             |inf                    |\u6b63\u65e0\u7a77\u5927              \n| np.Inf             |inf                    |alias of inf          \n| np.infty           |inf                    |alias of inf          \n| np.Infinity        |inf                    |alias of inf          \n| np.PINF            |inf                    |alias of inf          \n| np.NINF            |-inf                   |\u8d1f\u65e0\u7a77\u5927              \n| np.nan             |nan                    |\u975e\u6570\u5b57: Not a Number     \n| np.NAN             |nan                    |alias of nan          \n| np.NaN             |nan                    |alias of nan          \n| np.NZERO           |-0.0                   |\u8d1f\u96f6                    \n| np.PZERO           |0.0                    |\u6b63\u96f6                    \n| np.e               |2.718281828459045      |\u81ea\u7136\u5e95\u6570/\u7eb3\u76ae\u5c14\u5e38\u6570    \n| np.euler_gamma     |0.5772156649015329     |\u6b27\u62c9\u5e38\u6570              \n| np.pi              |3.141592653589793      |\u5706\u5468\u7387                   \n| np.newaxis         |None                   |\u65b0\u8f74/None\u522b\u540d\n</code></pre>"},{"location":"Python3/NumPy/8.6.%E6%89%93%E5%8D%B0%E6%95%B0%E7%BB%84.html","title":"8.6.\u6253\u5370\u6570\u7ec4","text":"<pre><code>import numpy as np\n</code></pre> <pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.06.09\nnumpy version:  1.20.1\n</code></pre>"},{"location":"Python3/NumPy/8.6.%E6%89%93%E5%8D%B0%E6%95%B0%E7%BB%84.html#_1","title":"\u6570\u7ec4\u6253\u5370\u7684\u89c4\u5219","text":"<p>\u6253\u5370ndarray\u65f6\uff0cNumPy\u6309\u7167Python\u7684\u5d4c\u5957list\u7684\u683c\u5f0f\u6253\u5370\u8f93\u51fa\u6309\uff0c\u5e76\u6309\u7167\u4ee5\u4e0b\u987a\u5e8f\u6253\u5370\uff1a</p> <ol> <li>\u6700\u5e95\u5c42\u7684axis\u6309\u7167\u4ece\u5de6\u5230\u53f3\u7684\u987a\u5e8f\u8f93\u51fa</li> <li>\u6b21\u5e95\u5c42\u7684axis\u6309\u7167\u4ece\u4e0a\u5230\u4e0b\u7684\u987a\u5e8f\u8f93\u51fa</li> <li>\u5176\u4ed6\u5c42\u7684axis\u4e5f\u662f\u6309\u7167\u4ece\u4e0a\u5230\u4e0b\u7684\u987a\u5e8f\u8f93\u51fa\uff0c\u4f46\u662f\u6bcf\u4e2aslice\u4e2d\u95f4\u95f4\u9694\u4e00\u6761\u7a7a\u884c</li> </ol> <p>\u5982\uff1a\u4e00\u7ef4\u7684ndarray\u6309\u884c\u6253\u5370\uff1b\u4e8c\u7ef4\u7684ndarray\u6309\u7167\u77e9\u9635\u6253\u5370\uff1b\u4e09\u7ef4\u7684ndarray\u6309\u7167\u77e9\u9635\u7684list\u6253\u5370</p> <p>\u5982\u679cndarray\u592a\u5927\uff0c\u90a3\u4e48 NumPy \u9ed8\u8ba4\u8df3\u8fc7\u4e2d\u95f4\u90e8\u5206\u7684\u6570\u636e\u800c\u53ea\u662f\u8f93\u51fa\u56db\u4e2a\u89d2\u843d\u7684\u6570\u636e\u3002\u8981\u60f3\u4efb\u4f55\u65f6\u5019\u90fd\u6253\u5370\u5168\u90e8\u6570\u636e\uff0c\u53ef\u4ee5\u5728<code>print(array)</code>\u4e4b\u524d\u8bbe\u7f6e\u9009\u9879\uff1a</p> <pre><code>np.set_printoptions(threshold=50)\n#= wrap=100\nnp.arange(30)\n</code></pre> <pre><code>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,\n       17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29])\n</code></pre> <p>\u8fd9\u6837\u540e\u7eed\u7684\u6253\u5370ndarray\u5c31\u4e0d\u4f1a\u7701\u7565\u4e2d\u95f4\u6570\u636e\u3002</p> <pre><code>np.set_printoptions(threshold=20)\nnp.arange(30)\n</code></pre> <pre><code>array([ 0,  1,  2, ..., 27, 28, 29])\n</code></pre>"},{"location":"Python3/NumPy/8.7.%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C.html","title":"8.7.\u6570\u7ec4\u64cd\u4f5c","text":"<pre><code>import numpy as np\nimport copy\n</code></pre> <pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.16\nnumpy version:  1.20.3\n</code></pre> <p>\u521b\u5efa\u793a\u4f8b\u6570\u636e</p> <pre><code>data = copy.deepcopy(np.arange(50).reshape(10, 5))\n</code></pre>"},{"location":"Python3/NumPy/8.7.%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C.html#shape","title":"\u6539\u53d8\u6570\u7ec4\u5f62\u72b6(<code>shape</code>)","text":"<code>array.shape</code><pre><code># \u521b\u5efa\u793a\u4f8b\u6570\u636e\narray = copy.deepcopy(data)\nprint(f\"Original shape = {array.shape}\")\n\n# \u4f1a\u76f4\u63a5\u4fee\u6539\u539f\u59cb\u6570\u7ec4\narray.shape = (5, 10)\nprint(f\"New shape = {array.shape}\")\n# \u53ef\u4ee5\u8bbe\u7f6e\u67d0\u4e2a\u7ef4\u5ea6\u4e3a -1\uff0c\u6b64\u65f6\u8be5\u7ef4\u5ea6\u7684\u957f\u5ea6\u4f1a\u88ab\u81ea\u52a8\u8ba1\u7b97\narray.shape = (25, -1)\nprint(f\"New shape = {array.shape}\")\n</code></pre> <pre><code>Original shape = (10, 5)\nNew shape = (5, 10)\nNew shape = (25, 2)\n</code></pre> <code>np.reshape(a, newshape, order='C')</code><p><code>array.reshape</code>\u4e0d\u4f1a\u76f4\u63a5\u4fee\u6539\u539f\u59cb\u6570\u7ec4\uff0c\u800c\u662f\u8fd4\u56de\u526f\u672c\uff1a</p> <pre><code>array.reshape(5, 10)\nnp.reshape(array, (5, 10))\narray.reshape(5, -1)\n</code></pre> <pre><code>array([[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9],\n       [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],\n       [20, 21, 22, 23, 24, 25, 26, 27, 28, 29],\n       [30, 31, 32, 33, 34, 35, 36, 37, 38, 39],\n       [40, 41, 42, 43, 44, 45, 46, 47, 48, 49]])\n</code></pre> <code>np.resize(a, newshape)</code><p><code>array.resize</code>\u4f1a\u5c31\u5730\u4fee\u6539\u539f\u59cb\u6570\u7ec4\uff0c<code>np.resize</code>\u4f1a\u8fd4\u56de\u526f\u672c\uff1a</p> <pre><code>array.resize(25, 2)\nnew_array = np.resize(array, (5, 10))\nprint(new_array.shape)\n</code></pre> <pre><code>(5, 10)\n</code></pre> <p><code>.resize</code>/<code>.reshape</code>\u6709\u53ef\u80fd\u4f1a\u6539\u53d8\u6570\u7ec4\u7684<code>ndim</code>\u5c5e\u6027\uff1a</p> <pre><code>print(f\"Original ndim = {array.ndim}\")\narray.resize(5, 5, 2)\nprint(f\"New ndim = {array.ndim}\")\n</code></pre> <pre><code>Original ndim = 2\nNew ndim = 3\n</code></pre> <code>array.flatten()</code> / <code>array.reval()</code><p><code>array.flatten</code>\u65b9\u6cd5\u5c06\u591a\u7ef4\u6570\u7ec4\u8f6c\u4e3a\u4e00\u7ef4\u6570\u7ec4\uff0c\u603b\u662f\u8fd4\u56de\u526f\u672c\uff1a</p> <pre><code>array.flatten()\n</code></pre> <pre><code>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,\n       17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33,\n       34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49])\n</code></pre> <p><code>array.ravel</code>\u65b9\u6cd5\u5c06\u591a\u7ef4\u6570\u7ec4\u8f6c\u4e3a\u4e00\u7ef4\u6570\u7ec4\uff0c\u975e\u5fc5\u8981\u60c5\u51b5\u4e0b\u4e0d\u4f1a\u8fd4\u56de\u526f\u672c\uff0c\u4e00\u822c\u4f1a\u8fd4\u56de\u89c6\u56fe\uff1a</p> <pre><code>array.ravel()\n</code></pre> <pre><code>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,\n       17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33,\n       34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49])\n</code></pre> <pre><code>print(array.flatten().flags[\"OWNDATA\"])\nprint(array.ravel().flags[\"OWNDATA\"])\nprint(array.ravel(order=\"F\").flags[\"OWNDATA\"])\n</code></pre> <pre><code>True\nFalse\nTrue\n</code></pre> <code>array.T</code><p>\u8f6c\u7f6e\u3002</p> <pre><code>array = np.arange(12).reshape(3, 4)\nprint(array.T)\n</code></pre> <pre><code>[[ 0  4  8]\n [ 1  5  9]\n [ 2  6 10]\n [ 3  7 11]]\n</code></pre>"},{"location":"Python3/NumPy/8.7.%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C.html#ndim","title":"\u66f4\u6539\u7ef4\u5ea6\u6570(<code>ndim</code>)","text":"<code>np.squeeze(a, axis=None)</code> / <code>array.squeeze()</code><p>\u5c06\u5927\u5c0f\u7b49\u4e8e1\u7684\u8f74\u5220\u9664\uff0c\u8fd4\u56de\u526f\u672c\uff1a</p> <pre><code>array = data.reshape(1, 25, 2)\nprint(np.squeeze(array).shape)\n\narray = data.reshape(25, 2, 1)\nprint(array.squeeze(axis=2).shape)\n</code></pre> <pre><code>(25, 2)\n(25, 2)\n</code></pre> <code>np.atleast_1d(*arys)</code><p>\u5c06\u8f93\u5165\u8f6c\u6362\u4e3a\u81f3\u5c11\u4e00\u7ef4\u7684\u6570\u7ec4\u3002</p> <pre><code>print(np.atleast_1d(1))\nprint(np.atleast_1d(1, 2))\n</code></pre> <pre><code>[1]\n[array([1]), array([2])]\n</code></pre> <code>np.atleast_2d(*arys)</code><p>\u5c06\u8f93\u5165\u8f6c\u6362\u4e3a\u81f3\u5c11\u4e8c\u7ef4\u7684\u6570\u7ec4\u3002</p> <pre><code>print(np.atleast_2d([1, 2, 3, 4]))\n</code></pre> <pre><code>[[1 2 3 4]]\n</code></pre> <code>np.atleast_3d(*arys)</code><p>\u5c06\u8f93\u5165\u8f6c\u6362\u4e3a\u81f3\u5c11\u4e09\u7ef4\u7684\u6570\u7ec4\u3002</p> <pre><code>print(np.atleast_3d([[1, 2], [3, 4]]))\n</code></pre> <pre><code>[[[1]\n  [2]]\n\n [[3]\n  [4]]]\n</code></pre> <code>np.expand_dims()</code><p>\u5728\u6307\u5b9a\u4f4d\u7f6e\u63d2\u5165\u5927\u5c0f\u4e3a1\u7684\u65b0\u8f74\u3002</p> <pre><code>print(data.shape)\nprint(np.expand_dims(data, 1).shape)\n</code></pre> <pre><code>(10, 5)\n(10, 1, 5)\n</code></pre>"},{"location":"Python3/NumPy/8.7.%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C.html#axis","title":"\u8f74\u64cd\u4f5c(<code>axis</code>)","text":"<code>np.swapaxes(a, axis1, axis2)</code> / <code>array.swapaxes()</code><p>\u4ea4\u6362\u6307\u5b9a\u7684\u4e24\u4e2a\u8f74\uff08<code>axis1</code>\u548c<code>axis2</code>\uff09\uff0c\u8fd4\u56de\u89c6\u56fe\uff1a</p> <pre><code>print(data.shape)\nprint(data.swapaxes(0, 1).shape)\nprint(data.swapaxes(0, 1).shape)\nprint(data.swapaxes(0, 1).flags[\"OWNDATA\"])\n</code></pre> <pre><code>(10, 5)\n(5, 10)\n(5, 10)\nFalse\n</code></pre> <code>np.transpose(a, axes=None)</code> / <code>array.transpose()</code><p>\u6539\u53d8\u8f74\u7684\u987a\u5e8f\uff0c\u8fd4\u56de\u89c6\u56fe\u3002\u5982\u679c<code>axes=None</code>\uff0c\u5219\u9ed8\u8ba4\u5c06\u8f74\u5e8f\u6539\u4e3a\u9006\u5e8f\uff0c\u4f8b\u5982\u539f\u8f74\u5e8f<code>shape=(1,2,3)</code>\uff0c\u9006\u5e8f\u5219\u4e3a<code>(3,2,1\uff09</code>\u3002</p> <pre><code>array = data.reshape((5, 5, 2))\nprint(array.transpose().shape)\nprint(array.transpose(0, 2, 1).shape)\n</code></pre> <pre><code>(2, 5, 5)\n(5, 2, 5)\n</code></pre> <code>np.moveaxis(a, source, destination)</code><p>\u5c06<code>a</code>\u7684<code>source</code>\u8f74\u79fb\u52a8\u5230\u4f4d\u7f6e<code>destination</code>\u3002<code>source</code>\u3001<code>destination</code>\u53ef\u4ee5\u662f<code>int of list</code>\uff0c\u4e00\u6b21\u6027\u79fb\u52a8\u591a\u4e2a\u8f74\u3002</p> <pre><code>x = np.zeros((3, 4, 5))\nprint(np.moveaxis(x, 0, -1).shape)\nprint(np.moveaxis(x, -1, 0).shape)\n</code></pre> <pre><code>(4, 5, 3)\n(5, 3, 4)\n</code></pre> <p>\u4ee5\u4e0b\u4ee3\u7801\u7684\u6548\u679c\u4e00\u6837\uff1a</p> <pre><code>x = np.zeros((3, 4, 5))\nprint(np.transpose(x).shape)\nprint(np.swapaxes(x, 0, -1).shape)\nprint(np.moveaxis(x, [0, 2], [-1, -2]).shape)\nprint(np.moveaxis(x, [0, 1, 2], [-1, -2, -3]).shape)\n</code></pre> <pre><code>(5, 4, 3)\n(5, 4, 3)\n(4, 5, 3)\n(5, 4, 3)\n</code></pre> <code>np.rollaxis(a, axis, start=0)</code><p>\u5411\u540e\u6eda\u52a8\u6307\u5b9a\u7684\u8f74\uff0c\u76f4\u5230\u5b83\u4f4d\u4e8e\u7ed9\u5b9a\u4f4d\u7f6e\u3002\u4f7f\u7528<code>np.moveaxis</code>\u4ee3\u66ff<code>np.rollaxis</code>\u53ef\u80fd\u66f4\u597d\u3002</p> <pre><code>a = np.ones((3, 4, 5, 6))\nprint(\"np.rollaxis(a, 2).shape\", \"--&gt;\", np.rollaxis(a, 2).shape)\nprint(\"np.rollaxis(a, 3, 1).shape\", \"--&gt;\", np.rollaxis(a, 3, 1).shape)\nprint(\"np.rollaxis(a, 1, 4).shape\", \"--&gt;\", np.rollaxis(a, 1, 4).shape)\n</code></pre> <pre><code>np.rollaxis(a, 2).shape --&gt; (5, 3, 4, 6)\nnp.rollaxis(a, 3, 1).shape --&gt; (3, 6, 4, 5)\nnp.rollaxis(a, 1, 4).shape --&gt; (3, 5, 6, 4)\n</code></pre>"},{"location":"Python3/NumPy/8.7.%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C.html#_1","title":"\u62fc\u63a5\u6570\u7ec4","text":"<code>np.concatenate(arrays, axis=None, out=None, *, dtype=None, casting=None)</code><p>\u6cbf\u7740\u6307\u5b9a\u7684\u8f74\u62fc\u63a5\u4e00\u7cfb\u5217\u6570\u7ec4\u3002</p> <ul> <li><code>arrays</code>\uff1a\u5305\u542b\u6570\u7ec4\u7684\u5e8f\u5217\u3002\u5f85\u8fde\u63a5\u7684\u6570\u7ec4\u9664\u4e86<code>axis</code>\u8f74\u4e4b\u5916\uff0c\u5176\u4ed6\u8f74\u7684\u5927\u5c0f\u5fc5\u987b\u76f8\u540c\u3002</li> </ul> <pre><code>a = np.arange(8).reshape(4, 2)\nb = np.arange(6).reshape(3, 2)\n\n# \u6cbf\u7740\u884c\u65b9\u5411\u7eb5\u5411\u62fc\u63a5\narray = np.concatenate((a, b), axis=0)\nprint(array)\n\n# \u5176\u4ed6\u8f74\u5927\u5c0f\u4e0d\u4e00\u81f4\uff0c\u5c06\u51fa\u9519\ntry:\n    np.concatenate((a, b), axis=1)\nexcept ValueError as e:\n    print(\"ValueError\", e)\n</code></pre> <pre><code>[[0 1]\n [2 3]\n [4 5]\n [6 7]\n [0 1]\n [2 3]\n [4 5]]\nValueError all the input array dimensions for the concatenation axis must match exactly, but along dimension 0, the array at index 0 has size 4 and the array at index 1 has size 3\n</code></pre> <code>np.stack(arrays, axis=0, out=None)</code><p>\u6cbf\u7740\u201c\u65b0\u8f74\u201d\u62fc\u63a5\u6570\u7ec4\u3002\u6ce8\u610f\uff0c<code>np.hstack</code>\u548c<code>np.vstack</code>\u662f\u6cbf\u7740\u5df2\u5b58\u5728\u7684\u8f74\u62fc\u63a5\u6570\u7ec4\u3002</p> <ul> <li><code>out</code>\uff1a\u50a8\u5b58\u7ed3\u679c\u7684\u53d8\u91cf\u3002</li> </ul> <code>np.vstack(tup)</code><p>\u6cbf 0 \u8f74\u62fc\u63a5\uff08\u5782\u76f4\u62fc\u63a5\uff09\uff0c\u589e\u52a0\u884c\u6570\u3002</p> <pre><code>a = np.arange(8).reshape(4, 2)\nb = np.arange(6).reshape(3, 2)\n\n# \u6cbf\u7740\u884c\u65b9\u5411\u7eb5\u5411\u62fc\u63a5\narray = np.vstack([a, b])\nprint(array)\n</code></pre> <pre><code>[[0 1]\n [2 3]\n [4 5]\n [6 7]\n [0 1]\n [2 3]\n [4 5]]\n</code></pre> <code>np.hstack(tup)</code><p>\u6cbf 1 \u8f74\u62fc\u63a5\uff08\u6c34\u5e73\u62fc\u63a5\uff09\uff0c\u589e\u52a0\u5217\u6570\u3002</p> <pre><code>a = np.arange(3).reshape(3, 1)\nb = np.arange(6).reshape(3, 2)\n\n# \u6cbf\u7740\u5217\u65b9\u5411\u6a2a\u5411\u62fc\u63a5\narray = np.hstack([a, b])\nprint(array)\n</code></pre> <pre><code>[[0 0 1]\n [1 2 3]\n [2 4 5]]\n</code></pre> <code>np.dstack(tup)</code><p>\u6cbf\u77403\u8f74\u5806\u53e0\u6570\u7ec4\u3002</p> <code>np.column_stack(tup)</code><p>\u7c7b\u4f3c\u4e8e<code>hstack</code>\uff0c\u4f46\u662f\u5982\u679c\u88ab\u62fc\u63a5\u7684\u6570\u7ec4\u662f\u4e00\u7ef4\u7684\uff0c\u5219\u5c06\u5176\u5f62\u72b6\u4fee\u6539\u4e3a\u4e8c\u7ef4\u7684 $(N, 1)$\u3002</p> <code>np.c_[]</code><p>\u7c7b\u4f3c\u4e8e<code>hstack</code>\uff0c\u4f46\u662f\u5982\u679c\u88ab\u62fc\u63a5\u7684\u6570\u7ec4\u662f\u4e00\u7ef4\u7684\uff0c\u5219\u5c06\u5176\u5f62\u72b6\u4fee\u6539\u4e3a\u4e8c\u7ef4\u7684$(N, 1)$\uff0c\u8fd9\u548c<code>np.column_stack</code>\u7684\u6548\u679c\u4e00\u6837\u3002</p> <pre><code>a = np.arange(3).reshape(3, 1)\nb = np.arange(6).reshape(3, 2)\nprint(np.c_[a, b] == np.hstack([a, b]))\nprint(np.c_[a, b])\n</code></pre> <pre><code>[[ True  True  True]\n [ True  True  True]\n [ True  True  True]]\n[[0 0 1]\n [1 2 3]\n [2 4 5]]\n</code></pre> <p><code>column_stack</code>\u3001<code>np.c_</code>\u548c<code>hstack</code>\u7684\u533a\u522b</p> <pre><code>a = np.arange(3)\n\nprint(np.hstack((a, a)), \"\\n\")\nprint(np.column_stack((a, a)), \"\\n\")\nprint(np.c_[a, a])\n</code></pre> <pre><code>[0 1 2 0 1 2]\n\n[[0 0]\n [1 1]\n [2 2]]\n\n[[0 0]\n [1 1]\n [2 2]]\n</code></pre>"},{"location":"Python3/NumPy/8.7.%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C.html#_2","title":"\u62c6\u5206\u6570\u7ec4","text":"<code>np.split(ary, indices_or_sections, axis=0)</code><p>\u6cbf\u7740\u6307\u5b9a\u7684\u8f74\u62c6\u5206\u6570\u7ec4<code>ary</code>\u3002</p> <ul> <li> <p><code>indices_or_sections</code>\uff1a\u6307\u5b9a\u4e86\u62c6\u5206\u70b9\uff1a</p> <ol> <li> <p>\u5982\u679c\u4e3a\u6574\u6570 N\uff0c\u5219\u8868\u793a\u5e73\u5747\u62c6\u5206\u6210 N \u4efd\u3002\u5982\u679c\u4e0d\u80fd\u5e73\u5747\u62c6\u5206\uff0c\u5219\u62a5\u9519\u3002</p> </li> <li> <p>\u5982\u679c\u4e3a\u5e8f\u5217\uff0c\u5219\u8be5\u5e8f\u5217\u6307\u5b9a\u4e86\u5212\u5206\u533a\u95f4\uff08\u8d77\u70b9\u548c\u7ec8\u70b9\u65e0\u9700\u6307\u5b9a\uff09\uff0c\u5982<code>[1,3]</code>\u6307\u5b9a\u4e86\u533a\u95f4\uff1a<code>[0,1],[1,3],[3:]</code>\u3002</p> </li> </ol> </li> </ul> <pre><code>array = np.arange(50).reshape(10, 5)\n\ntry:\n    np.split(array, 2, axis=0)\nexcept ValueError as e:\n    print(\"ValueError\", e)\n\n# [0,1) [1,3) [3:]\narrays = np.split(array, [1, 3], axis=1)\nprint(type(arrays))\nprint(len(arrays))\n</code></pre> <pre><code>&lt;class 'list'&gt;\n3\n</code></pre> <code>np.array_split(ary, indices_or_sections, axis=0)</code><p>\u4f5c\u7528\u4e0e<code>.split()</code>\u7c7b\u4f3c\u3002\u552f\u4e00\u7684\u533a\u522b\u5728\u4e8e\uff1a\u5f53indices_or_sections\u4e3a\u6574\u6570\uff0c\u4e14\u65e0\u6cd5\u5e73\u5747\u62c6\u5206\u65f6\uff0c\u5e76\u4e0d\u62a5\u9519\uff0c\u800c\u662f\u5c3d\u53ef\u80fd\u7684\u7ef4\u6301\u5e73\u5747\u62c6\u5206\u3002</p> <pre><code>array = np.arange(50).reshape(10, 5)\narrays = np.array_split(array, 2, axis=1)\nprint(type(arrays))\nprint(len(arrays))\n</code></pre> <pre><code>&lt;class 'list'&gt;\n2\n</code></pre> <code>np.vsplit(ary, indices_or_sections)</code><p>\u6cbf\u7740\u884c\u65b9\u5411\uff08\u5782\u76f4\u65b9\u5411\uff09\u5c06\u6570\u7ec4\u62c6\u5206\u4e3a\u591a\u4e2a\u5b50\u6570\u7ec4\u3002</p> <pre><code>array = np.arange(4).reshape(4, 1)\nnp.vsplit(array, 2)\n</code></pre> <pre><code>[array([[0],\n        [1]]),\n array([[2],\n        [3]])]\n</code></pre> <code>np.hsplit(ary, indices_or_sections)</code><p>\u6cbf\u7740\u5217\u65b9\u5411\uff08\u6c34\u5e73\u65b9\u5411\uff09\u5c06\u6570\u7ec4\u62c6\u5206\u4e3a\u591a\u4e2a\u5b50\u6570\u7ec4\u3002</p> <pre><code>array = np.arange(4).reshape(1, 4)\nnp.hsplit(array, 2)\n</code></pre> <pre><code>[array([[0, 1]]), array([[2, 3]])]\n</code></pre> <code>np.dsplit(ary, indices_or_sections)</code><p>\u6cbf\u7b2c3\u8f74\u5c06\u6570\u7ec4\u62c6\u5206\u4e3a\u591a\u4e2a\u5b50\u6570\u7ec4\u3002</p>"},{"location":"Python3/NumPy/8.7.%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C.html#_3","title":"\u6dfb\u52a0\u548c\u5220\u9664\u6570\u7ec4\u5143\u7d20","text":"<code>np.delete(arr, obj, axis=None)</code><p>\u6cbf\u6307\u5b9a\u8f74\u5220\u9664\u6307\u5b9a\u7684\u5143\u7d20\uff0c\u8fd4\u56de\u672a\u5220\u9664\u7684\u6570\u7ec4\u3002</p> <pre><code>a = np.arange(6).reshape((3, 2))\nnp.delete(a, 1, axis=0)\n</code></pre> <pre><code>array([[0, 1],\n       [4, 5]])\n</code></pre> <code>np.insert(arr, values, axis=None)</code><p>\u6cbf\u6307\u5b9a\u8f74\u5728\u6307\u5b9a\u7d22\u5f15\u4e4b\u524d\u63d2\u5165\u503c\u3002</p> <pre><code>a = np.arange(4).reshape((2, 2))\n# obj \u662f\u7d22\u5f15\nnp.insert(a, obj=1, values=[10, 11], axis=0)\n</code></pre> <pre><code>array([[ 0,  1],\n       [10, 11],\n       [ 2,  3]])\n</code></pre> <code>np.append(arr, obj, values, axis=None)</code><p>\u5c06\u503c\u9644\u52a0\u5230\u6570\u7ec4\u7684\u672b\u5c3e\u3002</p> <pre><code>a = np.arange(4).reshape((2, 2))\nnp.append(a, [[4, 5], [6, 7]], axis=0)\n</code></pre> <pre><code>array([[0, 1],\n       [2, 3],\n       [4, 5],\n       [6, 7]])\n</code></pre> <code>np.trim_zeros(filt, trim='fb')</code><p>\u5220\u9664\u4e00\u7ef4\u6570\u7ec4\u6216\u5e8f\u5217\u4e2d\u5f00\u5934\u6216\u7ed3\u5c3e\u7684\u96f6\u3002</p> <ul> <li><code>trim</code>\uff1a<code>trim='f'</code>\uff0c\u4ece\u524d\u9762\u88c1\u526a\uff1b<code>trim='b'</code>\uff0c\u4ece\u540e\u9762\u88c1\u526a\u3002\u9ed8\u8ba4<code>trim='fb'</code>\u3002</li> </ul> <pre><code>a = np.array([0, 0, 1, 2, 3, 0, 0])\nnp.trim_zeros(a, trim='fb')\n</code></pre> <pre><code>array([1, 2, 3])\n</code></pre> <code>np.unique(ar, return_index=False, return_inverse=False, return_counts=False, axis=None)</code><p>\u8fd4\u56de\u6ca1\u6709\u91cd\u590d\u5143\u7d20\u7684\u6570\u7ec4 \u3002</p> <p>\u9ed8\u8ba4\u8fd4\u56de\u4e00\u7ef4\u6570\u7ec4\uff1a</p> <pre><code>a = np.array([[1, 2], [1, 2], [2, 3]])\nprint(np.unique(a))\n</code></pre> <pre><code>[1 2 3]\n</code></pre> <p>\u8bbe\u7f6e<code>axis</code>\u53c2\u6570\uff1a</p> <pre><code>a = np.array([[1, 2], [1, 2], [2, 3]])\nprint(np.unique(a, axis=0))\n</code></pre> <pre><code>[[1 2]\n [2 3]]\n</code></pre> <p>\u540c\u65f6\u8fd4\u56de<code>unique</code>\u6570\u7ec4\u5143\u7d20\u5728\u539f\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15\uff1a</p> <pre><code>a = np.array([[1, 2], [1, 2], [2, 3]])\nprint(np.unique(a, return_index=True, axis=0))\n</code></pre> <pre><code>(array([[1, 2],\n       [2, 3]]), array([0, 2]))\n</code></pre> <p>\u540c\u65f6\u8fd4\u56de\u539f\u6570\u7ec4\u5143\u7d20\u5728unique\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15\uff0c\u53ef\u7528\u4e8e\u91cd\u5efa\u539f\u6570\u7ec4\uff1a</p> <pre><code>a = np.array([[1, 2], [1, 2], [2, 3]])\nnp.unique(a, return_inverse=True, axis=0)\n</code></pre> <pre><code>(array([[1, 2],\n        [2, 3]]),\n array([0, 0, 1]))\n</code></pre> <p>\u540c\u65f6\u8fd4\u56de\u8ba1\u6570</p> <pre><code>a = np.array([[1, 2], [1, 2], [2, 3]])\nprint(np.unique(a, return_counts=True, axis=0))\n</code></pre> <pre><code>(array([[1, 2],\n       [2, 3]]), array([2, 1]))\n</code></pre>"},{"location":"Python3/NumPy/8.7.%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C.html#_4","title":"\u91cd\u6392\u5217\u5143\u7d20","text":"<code>np.flip(m, axis=None)</code><p>\u6cbf\u7ed9\u5b9a\u8f74\u53cd\u8f6c\u6570\u7ec4\u4e2d\u5143\u7d20\u7684\u987a\u5e8f\uff0c\u6570\u7ec4\u7684 shape \u4e0d\u53d8\u3002</p> <ul> <li><code>axis</code>\uff1a\u6307\u5b9a\u9700\u8981\u53cd\u8f6c\u5143\u7d20\u987a\u5e8f\u7684\u8f74\uff0c\u53ef\u4ee5\u662f\u6574\u6570\u6216\u6574\u6570\u5e8f\u5217\u3002</li> </ul> <pre><code>A = np.arange(8).reshape((2, 2, 2))\nprint(A)\n</code></pre> <pre><code>array([[[0, 1], [2, 3]], [[4, 5], [6, 7]]])\n</code></pre> <pre><code>np.flip(A, 0)\n</code></pre> <pre><code>array([[[4, 5], [6, 7]], [[0, 1], [2, 3]]])\n</code></pre> <pre><code>np.flip(A, 1)\n</code></pre> <pre><code>array([[[2, 3], [0, 1]], [[6, 7], [4, 5]]])\n</code></pre> <pre><code>np.flip(A, 2)\n</code></pre> <pre><code>array([[[1, 0], [3, 2]], [[5, 4], [7, 6]]])\n</code></pre> <p>\u9ed8\u8ba4\u53cd\u8f6c\u6240\u6709\u8f74\u7684\u5143\u7d20\u987a\u5e8f\uff1a</p> <pre><code>np.flip(A)\n</code></pre> <pre><code>array([[[7, 6], [5, 4]], [[3, 2], [1, 0]]])\n</code></pre> <p>\u540c\u65f6\u6307\u5b9a\u53cd\u8f6c\u591a\u4e2a\u8f74\u7684\u5143\u7d20\u987a\u5e8f\uff1a</p> <pre><code>np.flip(A, (0, 2))\n</code></pre> <pre><code>array([[[5, 4], [7, 6]], [[1, 0], [3, 2]]])\n</code></pre> <code>np.fliplr(m)</code><p>\u5de6\u53f3\u65b9\u5411\u7ffb\u8f6c\u6570\u7ec4\uff0c\u8f93\u5165\u6570\u7ec4\u81f3\u5c11\u662f2\u7ef4\u7684\u3002</p> <pre><code>A = np.diag([1., 2., 3.])\nprint(A, \"\\n------\")\nprint(np.fliplr(A))\nnp.all(np.fliplr(A) == A[:, ::-1, ...])\n</code></pre> <pre><code>[[1. 0. 0.]\n [0. 2. 0.]\n [0. 0. 3.]]\n------\n[[0. 0. 1.]\n [0. 2. 0.]\n [3. 0. 0.]]\n</code></pre> <pre><code>True\n</code></pre> <code>np.flipud(m)</code><p>\u4e0a\u4e0b\u65b9\u5411\u7ffb\u8f6c\u6570\u7ec4\u3002</p> <pre><code>A = np.diag([1., 2., 3.])\nprint(A, \"\\n------\")\nprint(np.flipud(A))\nnp.all(np.flipud(A) == A[::-1, ...])\n</code></pre> <pre><code>[[1. 0. 0.]\n [0. 2. 0.]\n [0. 0. 3.]]\n------\n[[0. 0. 3.]\n [0. 2. 0.]\n [1. 0. 0.]]\n</code></pre> <pre><code>True\n</code></pre> <code>np.rot90(m, k=1, axes=(0, 1))</code><p>\u5728\u8f74\u6307\u5b9a\u7684\u5e73\u9762\u4e2d\u5c06\u6570\u7ec4\u65cb\u8f6c 90 \u5ea6\u3002\u7684\u65cb\u8f6c\u65b9\u5411\u662f\u4ece 0 \u8f74\u5230 1 \u8f74\u3002</p> <pre><code>m = np.array([[1, 2], [3, 4]], int)\nm\n</code></pre> <pre><code>array([[1, 2],\n       [3, 4]])\n</code></pre> <pre><code>print(np.rot90(m), \"\\n-----\")\nprint(np.rot90(m, 2))\n</code></pre> <pre><code>[[2 4]\n [1 3]]\n-----\n[[4 3]\n [2 1]]\n</code></pre> <pre><code>print(np.rot90(m, k=1, axes=(1, 0)), \"\\n-----\")\nprint(np.rot90(m, k=-1, axes=(0, 1)))\n</code></pre> <pre><code>[[3 1]\n [4 2]]\n-----\n[[3 1]\n [4 2]]\n</code></pre> <pre><code>m = np.arange(8).reshape((2, 2, 2))\nprint(m)\nnp.rot90(m, 1, (1, 2))\n</code></pre> <pre><code>[[[0 1]\n  [2 3]]\n\n [[4 5]\n  [6 7]]]\n</code></pre> <pre><code>array([[[1, 3],\n        [0, 2]],\n\n       [[5, 7],\n        [4, 6]]])\n</code></pre> <code>np.roll(a, shift, axis=None)</code><p>\u6cbf\u7ed9\u5b9a\u8f74\u6eda\u52a8\u6570\u7ec4\u5143\u7d20\u3002</p> <pre><code>x = np.arange(10)\nprint(np.roll(x, 2))\nprint(np.roll(x, -2))\n</code></pre> <pre><code>[8 9 0 1 2 3 4 5 6 7]\n[2 3 4 5 6 7 8 9 0 1]\n</code></pre> <pre><code>x2 = np.reshape(x, (2, 5))\nprint(x2)\nprint()\nprint(np.roll(x2, 1))\nprint()\nprint(np.roll(x2, -1))\n</code></pre> <pre><code>[[0 1 2 3 4]\n [5 6 7 8 9]]\n\n[[9 0 1 2 3]\n [4 5 6 7 8]]\n\n[[1 2 3 4 5]\n [6 7 8 9 0]]\n</code></pre> <pre><code>print(np.roll(x2, 1, axis=0))\nprint()\nprint(np.roll(x2, -1, axis=0))\n</code></pre> <pre><code>[[5 6 7 8 9]\n [0 1 2 3 4]]\n\n[[5 6 7 8 9]\n [0 1 2 3 4]]\n</code></pre> <pre><code>print(np.roll(x2, 1, axis=1))\nprint()\nprint(np.roll(x2, -1, axis=1))\n</code></pre> <pre><code>[[4 0 1 2 3]\n [9 5 6 7 8]]\n\n[[1 2 3 4 0]\n [6 7 8 9 5]]\n</code></pre>"},{"location":"Python3/NumPy/8.8.ufunc%E5%87%BD%E6%95%B0.html","title":"8.8.ufunc\u51fd\u6570","text":"<pre><code>import numpy as np\nnp.set_printoptions(threshold=40)\n</code></pre> <pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.16\nnumpy version:  1.20.3\n</code></pre> <p>\u901a\u7528\u51fd\u6570\uff08\u5373ufunc\uff09\u662f\u4e00\u79cd\u5bf9ndarray\u4e2d\u7684\u6570\u636e\u6267\u884c\u5143\u7d20\u7ea7\u8fd0\u7b97\u7684\u51fd\u6570\u3002\u53ef\u4ee5\u5c06\u5176\u770b\u505a\u7b80\u5355\u51fd\u6570\uff08\u63a5\u53d7\u4e00\u4e2a\u6216\u591a\u4e2a\u6807\u91cf\u503c\uff0c\u5e76\u4ea7\u751f\u4e00\u4e2a\u6216\u591a\u4e2a\u6807\u91cf\u503c\uff09\u7684\u77e2\u91cf\u5316\u5305\u88c5\u5668\u3002</p> <ul> <li> <p>\u4e00\u5143\uff08unary\uff09ufunc\uff1a\u63a5\u53d71\u4e2a\u6570\u7ec4\u7684\u8f93\u5165\u3002</p> </li> <li> <p>\u4e8c\u5143\uff08binary\uff09ufunc\uff1a\u63a5\u53d72\u4e2a\u6570\u7ec4\u7684\u8f93\u5165\u3002</p> </li> </ul>"},{"location":"Python3/NumPy/8.8.ufunc%E5%87%BD%E6%95%B0.html#_1","title":"\u56db\u5219\u8fd0\u7b97","text":"<pre><code>a = np.arange(1, 6)\nb = np.arange(5, 10)\n\n# \u8868\u8fbe\u5f0f\u5f62\u5f0f\na + a\na - a\na * a # \u5143\u7d20\u76f8\u4e58\na / a\nb // a # \u53d6\u6574\u9664\u6cd5\nb % a # \u53d6\u6a21\n\n# ufunc\u51fd\u6570\u5f62\u5f0f\nnp.add(a, a)\nnp.subtract(a, a)\nnp.multiply(a, a)  # \u5143\u7d20\u76f8\u4e58\n## \u5728python3 divide\u3001true_divide\u6ca1\u6709\u5dee\u522b\nnp.true_divide(b, a)\nnp.divide(b, a)\n## \u76f8\u5f53\u4e8e\u5148\u8c03\u7528divide\u51fd\u6570 \u518d\u8c03\u7528floor\u51fd\u6570\nnp.floor_divide(b, a)  # \u53d6\u6574\u9664\u6cd5\nnp.mod(b, a)  # \u5143\u7d20\u7ea7\u6c42\u6a21\n</code></pre> <pre><code>array([0, 0, 1, 0, 4])\n</code></pre>"},{"location":"Python3/NumPy/8.8.ufunc%E5%87%BD%E6%95%B0.html#_2","title":"\u6bd4\u8f83\u8fd0\u7b97","text":"<pre><code>a = np.arange(20).reshape(2,10)\nb = np.arange(10,30).reshape(2,10)\n\n# \u8868\u8fbe\u5f0f\u5f62\u5f0f\na == b\na != b\na &lt; b\na &lt;= b\na &gt; b\na &gt;= b\n\n# ufunc\u51fd\u6570\u5f62\u5f0f\nnp.equal(a,b)\nnp.not_equal(a,b)\nnp.less(a,b)\nnp.less_equal(a,b)\nnp.greater(a,b)\nnp.greater_equal(a,b)\n</code></pre> <pre><code>array([[False, False, False, False, False, False, False, False, False,\n        False],\n       [False, False, False, False, False, False, False, False, False,\n        False]])\n</code></pre>"},{"location":"Python3/NumPy/8.8.ufunc%E5%87%BD%E6%95%B0.html#_3","title":"\u903b\u8f91\u8fd0\u7b97","text":"<pre><code>a = np.arange(20).reshape(2, 10)\nb = np.arange(10, 30).reshape(2, 10)\n\n# \u4e0e\nnp.logical_and(a, b)\n# \u6216\nnp.logical_or(a, b)\n# \u975e\nnp.logical_not(b)\n# \u5f02\u6216\nnp.logical_xor(a, b)\n# \u4efb\u610f\u4e00\u4e2a\u5143\u7d20\nnp.any(a)\n# \u5168\u90e8\u5143\u7d20\nnp.all(a)\n</code></pre> <pre><code>False\n</code></pre>"},{"location":"Python3/NumPy/8.8.ufunc%E5%87%BD%E6%95%B0.html#_4","title":"\u4f4d\u8fd0\u7b97","text":"<pre><code>a = np.arange(20).reshape(2, 10)\nb = np.arange(10, 30).reshape(2, 10)\n\na &amp; b\na | b\n~a\na^b\n\n# \u6309\u4f4d\u4e0e\nnp.bitwise_and(a, b)\n# \u6309\u4f4d\u6216\nnp.bitwise_or(a, b)\n# \u6309\u4f4d\u53d6\u53cd\nnp.bitwise_not(a)\n# \u6309\u4f4d\u5f02\u6216\nnp.bitwise_xor(a, b)\n</code></pre> <pre><code>array([[10, 10, 14, 14, 10, 10, 22, 22, 26, 26],\n       [30, 30, 26, 26, 22, 22, 10, 10, 14, 14]])\n</code></pre>"},{"location":"Python3/NumPy/8.8.ufunc%E5%87%BD%E6%95%B0.html#ufunc","title":"\u81ea\u5b9a\u4e49 ufunc \u51fd\u6570","text":"<p>\u53ef\u4ee5\u901a\u8fc7<code>frompyfunc()</code>\u5c06\u8ba1\u7b97\u5355\u4e2a\u5143\u7d20\u7684\u51fd\u6570\u8f6c\u6362\u6210ufunc\u51fd\u6570\u3002\u8c03\u7528\u683c\u5f0f\u4e3a\u5982\u4e0b\uff1a</p> <pre><code>numpy.frompyfunc(func, nin, nout)\n\n# func\uff1a\u8ba1\u7b97\u5355\u4e2a\u5143\u7d20\u7684\u51fd\u6570\n# nin\uff1afunc\u7684\u8f93\u5165\u53c2\u6570\u7684\u4e2a\u6570 The number of input\n# nout\uff1afunc\u8fd4\u56de\u503c\u7684\u4e2a\u6570 The number of output\n</code></pre> <pre><code>def my_add(x, y):\n    z = x + y + 1\n    return z\n\nmyufunc = np.frompyfunc(my_add, 2, 1)\n\na = np.arange(5)\nb = np.arange(5,10)\nmyufunc(a, b)\n</code></pre> <pre><code>array([6, 8, 10, 12, 14], dtype=object)\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>vectorize()</code>\u51fd\u6570\u6765\u5b9e\u73b0<code>frompyfunc()</code>\u7684\u529f\u80fd\u3002</p> <pre><code>np.vectorize(func, otypes='', doc=None, excluded=None)\u3002\n\n# func\uff1a\u8ba1\u7b97\u5355\u4e2a\u5143\u7d20\u7684\u51fd\u6570\n# otypes\uff1a\u53ef\u4ee5\u662f\u4e00\u4e2a\u8868\u793a\u7ed3\u679c\u6570\u7ec4\u5143\u7d20\u7c7b\u578b\u7684\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u7c7b\u578b\u5217\u8868\u3002\u5982\u679c\u4f7f\u7528\u7c7b\u578b\u5217\u8868\uff0c\u53ef\u4ee5\u63cf\u8ff0\u591a\u4e2a\u8fd4\u56de\u6570\u7ec4\u7684\u5143\u7d20\u7c7b\u578b\n# doc\uff1a\u51fd\u6570\u7684\u63cf\u8ff0\u5b57\u7b26\u4e32\u3002\u82e5\u672a\u7ed9\u5b9a\uff0c\u5219\u4f7f\u7528func.__doc__\n# excluded\uff1a\u6307\u5b9afunc\u4e2d\u54ea\u4e9b\u53c2\u6570\u672a\u88ab\u5411\u91cf\u5316\u3002\u4f60\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u5b57\u7b26\u4e32\u548c\u6574\u6570\u7684\u96c6\u5408\uff0c\u5176\u4e2d\u5b57\u7b26\u4e32\u4ee3\u8868\u5173\u952e\u5b57\u53c2\u6570\uff0c\u6574\u6570\u4ee3\u8868\u4f4d\u7f6e\u53c2\u6570\u3002\n</code></pre> <pre><code>a = np.arange(5)\nb = np.arange(5,10)\n\ndef my_add(x, num):\n    z = x + num\n    return z\n\nmyufunc = np.vectorize(my_add, doc=\"\u6bcf\u4e00\u4e2a\u5143\u7d20\u52a0\u4e0a\u4e00\u4e2a\u6307\u5b9a\u7684\u6570\")\nprint(myufunc.__doc__)\nmyufunc(a, 1)\n</code></pre> <pre><code>\u6bcf\u4e00\u4e2a\u5143\u7d20\u52a0\u4e0a\u4e00\u4e2a\u6307\u5b9a\u7684\u6570\n</code></pre> <pre><code>array([1, 2, 3, 4, 5])\n</code></pre> <pre><code>def my_add(x, y, list_num):\n    z = x + y\n    for i in list_num:\n        z = z + i\n    return z\n\nmyufunc = np.vectorize(my_add, excluded=[2])\nmyufunc(a, b, [1, 2, 3])  # list_num \u4f5c\u4e3a\u4e00\u4e2alist\uff0c\u800c\u4e0d\u662f\u5411\u91cf\u5316\u6210\u4e00\u4e2a\u4e2a\u5143\u7d20\n</code></pre> <pre><code>array([11, 13, 15, 17, 19])\n</code></pre> <pre><code>def my_add(x, num):\n    z = x + num\n    return z, z\n\nmyufunc = np.vectorize(my_add, otypes=[np.float, int])\nmyufunc(a, 1)\n</code></pre> <pre><code>&lt;ipython-input-1-4753d7c47f71&gt;:5: DeprecationWarning: `np.float` is a\ndeprecated alias for the builtin `float`. To silence this warning, use\n`float` by itself. Doing this will not modify any behavior and is\nsafe. If you specifically wanted the numpy scalar type, use\n`np.float64` here.\nDeprecated in NumPy 1.20; for more details and guidance:\nhttps://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\n  myufunc = np.vectorize(my_add, otypes=[np.float, int])\n</code></pre> <pre><code>(array([1., 2., 3., 4., 5.]), array([1, 2, 3, 4, 5]))\n</code></pre>"},{"location":"Python3/NumPy/8.8.ufunc%E5%87%BD%E6%95%B0.html#ufunc_1","title":"ufunc \u5bf9\u8c61\u7684\u65b9\u6cd5","text":"<p>ufunc\u51fd\u6570\u5bf9\u8c61\u672c\u8eab\u8fd8\u6709\u4e00\u4e9b\u65b9\u6cd5\u3002</p> <p>\u8fd9\u4e9b\u65b9\u6cd5\u53ea\u5bf9\u4e8e\u4e24\u4e2a\u8f93\u5165\u3001\u4e00\u4e2a\u8f93\u51fa\u7684ufunc\u51fd\u6570\u51fd\u6570\u6709\u6548\u3002\u5bf9\u4e8e\u5176\u4ed6\u7684ufunc\u51fd\u6570\u5bf9\u8c61\u8c03\u7528\u8fd9\u4e9b\u65b9\u6cd5\u65f6\uff0c\u4f1a\u629b\u51fa<code>ValueError</code>\u5f02\u5e38\u3002</p>"},{"location":"Python3/NumPy/8.8.ufunc%E5%87%BD%E6%95%B0.html#ufuncreduce","title":"<code>ufunc.reduce()</code>","text":"<p><code>ufunc.reduce</code>\u65b9\u6cd5\uff1a\u7c7b\u4f3c\u4e8ePython\u7684<code>reduce</code>\u51fd\u6570\uff0c\u5b83==\u6cbf\u7740==<code>axis</code>\u53c2\u6570\u6307\u5b9a\u7684\u8f74\uff0c\u5bf9\u6570\u7ec4\u8fdb\u884c\u64cd\u4f5c\u3002\u7ecf\u8fc7\u4e00\u6b21reduce\uff0c\u7ed3\u679c\u6570\u7ec4\u7684\u7ef4\u5ea6\u964d\u4f4e\u4e00\u7ef4\u3002</p> <p>\u5047\u8bbe<code>&lt;op&gt;</code>\u662f\u4e00\u4e2aufunc\u51fd\u6570\uff0c<code>ufunc.reduce</code>\u7528\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>&lt;op&gt;.reduce(array,axis=0,dtype=None)\n</code></pre> <pre><code>a = np.arange(20).reshape(5, 4)\nprint(a)\n</code></pre> <pre><code>[[ 0  1  2  3]\n [ 4  5  6  7]\n [ 8  9 10 11]\n [12 13 14 15]\n [16 17 18 19]]\n</code></pre> <pre><code>np.add.reduce(a, axis=1)  # \u6cbf\u7740 \u5217\u65b9\u5411\n</code></pre> <pre><code>array([ 6, 22, 38, 54, 70])\n</code></pre> <pre><code>np.add.reduce(a, axis=0)  # \u6cbf\u7740 \u884c\u65b9\u5411\n</code></pre> <pre><code>array([40, 45, 50, 55])\n</code></pre> <p>\u76f8\u5f53\u4e8e\u5c06\u8fd0\u7b97\u7b26\u63d2\u5165\u5230\u6cbf\u7740axis\u8f74\u7684\u6240\u6709\u5143\u7d20\u4e4b\u95f4\uff1a <pre><code>a = np.arange(20).reshape(5, 4)\nprint(a)\n\ndef fun(a,b):\n    z = a + b + 1\n    return z\n\nfun2 = np.frompyfunc(fun, 2, 1)\nfun2.reduce(a, axis=1)\n</code></pre> <pre><code>[[ 0  1  2  3]\n [ 4  5  6  7]\n [ 8  9 10 11]\n [12 13 14 15]\n [16 17 18 19]]\n</code></pre> <pre><code>array([9, 25, 41, 57, 73], dtype=object)\n</code></pre>"},{"location":"Python3/NumPy/8.8.ufunc%E5%87%BD%E6%95%B0.html#ufuncaccumulate","title":"<code>ufunc.accumulate()</code>","text":"<p><code>ufunc.accumulate</code>\u65b9\u6cd5\uff1a\u5b83\u7c7b\u4f3c\u4e8ereduce()\u7684\u8ba1\u7b97\u8fc7\u7a0b\uff0c\u4f46\u662f\u5b83\u4f1a\u4fdd\u5b58\u6240\u6709\u7684\u4e2d\u95f4\u8ba1\u7b97\u7ed3\u679c\uff0c\u4ece\u800c\u4f7f\u5f97\u8fd4\u56de\u6570\u7ec4\u7684\u5f62\u72b6\u548c\u8f93\u5165\u6570\u7ec4\u7684\u5f62\u72b6\u76f8\u540c\uff1a </p> <pre><code>a = np.arange(20).reshape(5, 4)\nprint(a)\n</code></pre> <pre><code>[[ 0  1  2  3]\n [ 4  5  6  7]\n [ 8  9 10 11]\n [12 13 14 15]\n [16 17 18 19]]\n</code></pre> <pre><code>np.add.accumulate(a, axis=1)\n</code></pre> <pre><code>array([[ 0,  1,  3,  6],\n       [ 4,  9, 15, 22],\n       [ 8, 17, 27, 38],\n       [12, 25, 39, 54],\n       [16, 33, 51, 70]])\n</code></pre>"},{"location":"Python3/NumPy/8.8.ufunc%E5%87%BD%E6%95%B0.html#ufuncouter","title":"<code>ufunc.outer()</code>","text":"<p><code>ufunc.outer</code>\u65b9\u6cd5\uff1a\u76f8\u5f53\u4e8e\u5c06\u8fd0\u7b97\u7b26\u5bf9\u8f93\u5165\u6570\u7ec4A\u548c\u8f93\u5165\u6570\u7ec4B\u7684\u6bcf\u4e00\u5bf9\u5143\u7d20\u5bf9(a,b)\u8d77\u4f5c\u7528\u3002\u8bbeA\u7684shape=(4,5)\uff0cB\u7684shape\u4e3a(4,)\uff0c\u5219\u7ed3\u679c\u6570\u7ec4\u7684shape=(4,5,4) <p>\u4e00\u7ef4\u6570\u7ec4\u548c\u4e00\u7ef4\u6570\u7ec4\u7684outer\u64cd\u4f5c\u4e3a\u4e8c\u7ef4\u6570\u7ec4</p> <pre><code>a = np.arange(1, 6)\nb = np.arange(1, 5)\nnp.add.outer(a, b)\n</code></pre> <pre><code>array([[2, 3, 4, 5],\n       [3, 4, 5, 6],\n       [4, 5, 6, 7],\n       [5, 6, 7, 8],\n       [6, 7, 8, 9]])\n</code></pre> <p>\u591a\u7ef4\u6570\u7ec4\u7684outer\u62c6\u5206\u6210\u5404\u81ea\u7684\u4e00\u7ef4\u64cd\u4f5c</p> <pre><code>a = np.arange(1, 7).reshape(2, 3)\nb = np.arange(1, 5)\nnp.add.outer(a, b)\n</code></pre> <pre><code>array([[[ 2,  3,  4,  5],\n        [ 3,  4,  5,  6],\n        [ 4,  5,  6,  7]],\n\n       [[ 5,  6,  7,  8],\n        [ 6,  7,  8,  9],\n        [ 7,  8,  9, 10]]])\n</code></pre>"},{"location":"Python3/NumPy/8.8.ufunc%E5%87%BD%E6%95%B0.html#_5","title":"\u6570\u5b66\u51fd\u6570","text":"<p>\u4e0b\u9762\u662f\u4e00\u5143\u7684\u6570\u5b66\u51fd\u6570\uff1a</p> <ol> <li> <p><code>abs/fabs</code>\uff1a\u8ba1\u7b97\u6574\u6570\u3001\u6d6e\u70b9\u6570\u6216\u8005\u590d\u6570\u7684\u7edd\u5bf9\u503c\u3002\u5bf9\u4e8e\u975e\u590d\u6570\u503c\uff0c\u53ef\u4ee5\u4f7f\u7528\u66f4\u5feb\u7684fabs</p> </li> <li> <p><code>sqrt</code>\uff1a\u8ba1\u7b97\u5e73\u65b9\u6839\uff0c\u76f8\u5f53\u4e8e$a^{0.5}$</p> </li> <li> <p><code>square</code>\uff1a\u8ba1\u7b97\u5e73\u65b9\uff0c\u76f8\u5f53\u4e8e$a^2$</p> </li> <li> <p><code>exp</code>\uff1a\u8ba1\u7b97\u6307\u6570$e^x$</p> </li> <li> <p><code>log/log10/log2/log1p</code>\uff1a\u5206\u522b\u4e3a$log_{e}(a), log_{10}(a), log_2(a), log_e(1+x)$</p> </li> <li> <p><code>sign</code>\uff1a\u8ba1\u7b97$sign(a)$</p> </li> <li> <p><code>ceil</code>\uff1a\u8ba1\u7b97\u5404\u5143\u7d20\u7684ceiling\u503c\uff1a\u5927\u4e8e\u7b49\u4e8e\u8be5\u503c\u7684\u6700\u5c0f\u6574\u6570</p> </li> <li> <p><code>floor</code>\uff1a\u8ba1\u7b97\u4e2a\u5143\u7d20\u7684floor\u503c\uff1a\u5c0f\u4e8e\u7b49\u4e8e\u8be5\u503c\u7684\u6700\u5927\u6574\u6570</p> </li> <li> <p><code>rint</code>\uff1a\u5c06\u5404\u5143\u7d20\u56db\u820d\u4e94\u5165\u5230\u6700\u63a5\u8fd1\u7684\u6574\u6570\uff0c\u4fdd\u7559<code>dtype</code></p> </li> <li> <p><code>modf</code>\uff1a\u5c06\u6570\u7ec4\u7684\u5c0f\u6570\u548c\u6574\u6570\u90e8\u5206\u4ee5\u4e24\u4e2a\u72ec\u7acb\u6570\u7ec4\u7684\u5f62\u5f0f\u8fd4\u56de</p> </li> <li> <p><code>cos/cosh/sin/sinh/tan/tanh</code>\uff1a\u666e\u901a\u548c\u53cc\u66f2\u578b\u4e09\u89d2\u51fd\u6570</p> </li> <li> <p><code>arccos/arcsosh/arcsin/arcsinh/arctan/arctanh</code>:\u53cd\u4e09\u89d2\u51fd\u6570</p> </li> <li> <p><code>isnan</code>\uff1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u6570\u7ec4\uff0c\u8be5\u6570\u7ec4\u6307\u793a\u90a3\u4e9b\u662f<code>NaN</code></p> </li> <li> <p><code>isfinite/isinf</code>\uff1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u6570\u7ec4\uff0c\u8be5\u6570\u7ec4\u6307\u793a\u54ea\u4e9b\u662f\u6709\u9650\u7684/\u65e0\u9650\u6570</p> </li> </ol>"},{"location":"Python3/NumPy/8.8.ufunc%E5%87%BD%E6%95%B0.html#_6","title":"\u7edf\u8ba1\u51fd\u6570","text":"\u65b9\u6cd5 \u8bf4\u660e <code>sum</code> \u5bf9\u6570\u7ec4\u4e2d\u5168\u90e8\u6216\u67d0\u8f74\u5411\u7684\u5143\u7d20\u6c42\u548c\u3002\u96f6\u957f\u5ea6\u7684\u6570\u7ec4\u7684sum\u4e3a0 <code>mean</code> \u7b97\u672f\u5e73\u5747\u6570\u3002\u96f6\u957f\u5ea6\u7684\u6570\u7ec4\u7684mean\u4e3a<code>NaN</code> <code>std</code>\u3001<code>var</code> \u5206\u522b\u4e3a\u6807\u51c6\u5dee\u548c\u65b9\u5dee\uff0c\u81ea\u7531\u5ea6\u53ef\u8c03\uff08\u9ed8\u8ba4\u4e3an\uff09 <code>min</code>\u3001<code>max</code> \u6700\u5927\u503c\u548c\u6700\u5c0f\u503c <code>argmin</code>\u3001<code>argmax</code> \u5206\u522b\u4e3a\u6700\u5927\u548c\u6700\u5c0f\u5143\u7d20\u7684\u7d22\u5f15 <code>cumsum</code> \u6240\u6709\u5143\u7d20\u7684\u7d2f\u8ba1\u548c <code>cumprod</code> \u6240\u6709\u5143\u7d20\u7684\u7d2f\u8ba1\u79ef <p>\u4ee5\u4e0a\u51fd\u6570\u6709\u4e00\u4e9b\u5171\u540c\u7684\u53c2\u6570\uff1a<code>(a, axis=None, dtype=None, out=None)</code></p> <ul> <li> <p><code>axis</code>\uff1a<code>None</code> \u3001\u6574\u6570\u3001\u6574\u6570\u5143\u7ec4\u3002\u6309\u987a\u5e8f\u5bf9<code>axis</code>\u6307\u5b9a\u7684\u8f74\u8fdb\u884c\u8ba1\u7b97\u3002\u4f8b\u5982\uff0c\u6307\u5b9a\u6240\u6709\u7684\u8f74\uff0c\u6700\u540e\u5219\u8f93\u51fa\u4e00\u4e2a\u6807\u91cf\u3002</p> </li> <li> <p><code>out</code>\uff1andarray\u3002\u5c06\u7ed3\u679c\u8f93\u51fa\u5230\u8be5\u6570\u7ec4\u3002\u5b83\u5fc5\u987b\u6709\u4e0e\u9884\u671f\u8f93\u51fa\u5f62\u72b6\u76f8\u540c\uff0c\u4f46\u8f93\u51fa\u7c7b\u578b\u5fc5\u8981\u65f6\u5c06\u5f3a\u5236\u8f6c\u6362\u503c\u3002</p> </li> </ul>"},{"location":"Python3/NumPy/8.8.ufunc%E5%87%BD%E6%95%B0.html#_7","title":"\u96c6\u5408\u8fd0\u7b97","text":"\u65b9\u6cd5 \u8bf4\u660e <code>unique(x)</code> \u8ba1\u7b97x\u4e2d\u7684\u552f\u4e00\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u6709\u5e8f\u7ed3\u679c <code>intersect1d(x, y)</code> \u8ba1\u7b97X\u548cy\u4e2d\u7684\u516c\u5171\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u6709\u5e8f\u7ed3\u679c <code>union1d(x, y)</code> \u8ba1\u7b97X\u548cy\u7684\u5e76\u96c6\uff0c\u5e76\u8fd4\u56de\u6709\u5e8f\u7ed3\u679c <code>in1d(x,y)</code> \u5f97\u5230\u4e00\u4e2a\u8868\u793a\u201cX\u7684\u5143\u7d20\u662f\u5426\u5305\u542b\u4e8ey\u201d\u7684\u5e03\u5c14\u578b\u6570\u7ec4 <code>setdiff1d(x, y)</code> \u96c6\u5408\u7684\u5dee\uff0c\u5373\u5143\u7d20\u5728x\u4e2d\u4e14\u4e0d\u5728y\u4e2d <code>setxor1d(x, y)</code> \u96c6\u5408\u7684\u5bf9\u79f0\u5dee\uff0c\u5373\u5b58\u5728\u4e8e\u4e00\u4e2a\u6570\u7ec4\u4e2d\u4f46\u4e0d\u540c\u65f6\u5b58\u5728\u4e8e\u4e24\u4e2a\u6570\u7ec4\u4e2d\u7684\u5143\u7d20 <pre><code>a = np.arange(0, 5)\nb = np.arange(3, 8)\n\nprint(np.unique(a))\nprint(np.intersect1d(a, b))\nprint(np.union1d(a, b))\nprint(np.in1d(a, b))\nprint(np.setdiff1d(a, b))\nprint(np.setxor1d(a, b))\n</code></pre> <pre><code>[0 1 2 3 4]\n[3 4]\n[0 1 2 3 4 5 6 7]\n[False False False  True  True]\n[0 1 2]\n[0 1 2 5 6 7]\n</code></pre>"},{"location":"Python3/NumPy/8.9.%E5%87%BD%E6%95%B0%E5%BA%93.html","title":"8.9.\u51fd\u6570\u5e93","text":"<pre><code>import numpy as np\n</code></pre> <pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.04.11\nnumpy version:  1.18.1\n</code></pre>"},{"location":"Python3/NumPy/8.9.%E5%87%BD%E6%95%B0%E5%BA%93.html#_1","title":"\u968f\u673a\u6570\u5e93","text":"\u51fd\u6570 \u8bf4\u660e <code>seed</code> \u786e\u5b9a\u968f\u673a\u6570\u751f\u6210\u5668\u7684\u79cd\u5b50 <code>permutation</code> \u8fd4\u56de\u4e00\u4e2a\u5e8f\u5217\u7684\u968f\u673a\u6392\u5217\u6216\u8fd4\u56de\u4e00\u4e2a\u968f\u673a\u6392\u5217\u7684\u8303\u56f4 <code>shuffle</code> \u5bf9\u4e00\u4e2a\u5e8f\u5217\u5c31\u5730\u968f\u673a\u6392\u5217 <code>rand</code> \u4ea7\u751f\u5747\u5300\u5206\u5e03\u7684\u6837\u672c\u503c <code>randint</code> \u4ece\u7ed9\u5b9a\u7684\u4e0a\u4e0b\u9650\u8303\u56f4\u5185\u968f\u673a\u9009\u53d6\u6574\u6570 <code>randn</code> \u4ea7\u751f\u6b63\u6001\u5206\u5e03\uff08\u5e73\u5747\u503c\u4e3a0,\u6807\u51c6\u5dee\u4e3a1)\u7684\u6837\u672c\u503c\uff0c\u7c7b\u4f3c\u4e8eMATLAB\u63a5\u53e3 <code>binomial</code> \u4ea7\u751f_\u9879\u5206\u5e03\u7684\u6837\u672c\u503c <code>normal</code> \u4ea7\u751f\u6b63\u6001\uff08\u9ad8\u65af\uff09\u5206\u5e03\u7684\u6837\u672c\u503c <code>beta</code> \u4ea7\u751fBeta\u5206\u5e03\u7684\u6837\u672c\u503c <code>chisquare</code> \u4ea7\u751f\u5361\u65b9\u5206\u5e03\u7684\u6837\u672c\u503c <code>gamma</code> \u4ea7\u751fGamma\u5206\u5e03\u7684\u6837\u672c\u503c <code>uniform</code> \u4ea7\u751f\u5728[0,1)\u4e2d\u5747\u5300\u5206\u5e03\u7684\u6837\u672c\u503c"},{"location":"Python3/NumPy/8.9.%E5%87%BD%E6%95%B0%E5%BA%93.html#_2","title":"\u968f\u673a\u62bd\u6837","text":"<ul> <li><code>np.random.choice(a, size=None, replace=True, p=None)</code>\uff1a\u4ece\u4e00\u7ef4\u6570\u7ec4<code>a</code>\u4e2d\u968f\u673a\u62bd\u53d6\u6837\u672c\u91cf\u4e3a<code>size</code>\u7684\u6837\u672c\u3002<code>a</code>\u5fc5\u987b\u662f\u4e00\u7ef4\u7684\u3002<code>replace</code>\u63a7\u5236\u662f\u5426\u91cd\u590d\u62bd\u6837\uff0c<code>p</code>\u662fa\u7684\u6982\u7387\u5206 \u5e03\uff0c<code>p</code>\u548c<code>a</code>\u5fc5\u987b\u6709\u76f8\u540c\u7684size\u3002</li> </ul> <pre><code>a = [1,2,3,4,5,6,7,8,9]\nnp.random.choice(a, size=(2,2), replace=False, p=None)\n</code></pre> <pre><code>array([[1, 8],\n       [3, 7]])\n</code></pre>"},{"location":"Python3/NumPy/8.9.%E5%87%BD%E6%95%B0%E5%BA%93.html#_3","title":"\u7ebf\u6027\u4ee3\u6570","text":"<p>\u5e38\u7528\u7684<code>numpy.linalg</code>\u51fd\u6570\uff1a</p> \u51fd\u6570 \u8bf4\u660e <code>diag</code> \u4ee5\u4e00\u7ef4\u6570\u7ec4\u7684\u5f62\u5f0f\u8fd4\u56de\u65b9\u9635\u7684\u5bf9\u89d2\u7ebf\uff08\u6216\u975e\u5bf9\u89d2\u7ebf\uff09\u5143\u7d20\uff0c\u6216\u5c06\u4e00\u7ef4\u6570\u7ec4 \u8f6c\u6362\u4e3a\u65b9\u9635\uff08\u975e\u5bf9\u89d2\u7ebf\u5143\u7d20\u4e3a0) <code>dot</code> \u77e9\u9635\u4e58\u6cd5 <code>trace</code> \u8ba1\u7b97\u5bf9\u89d2\u7ebf\u5143\u7d20\u7684\u548c <code>det</code> \u8ba1\u7b97\u77e9\u9635\u884c\u5217\u5f0f <code>eig</code> \u8ba1\u7b97\u65b9\u9635\u7684\u672c\u5f81\u503c\u548c\u672c\u5f81\u5411\u91cf <code>inv</code> \u8ba1\u7b97\u65b9\u9635\u7684\u9006 <code>pinv</code> \u8ba1\u7b97\u77e9\u9635\u7684Moore-Penrose\u4f2a\u9006 <code>qr</code> \u8ba1\u7b97QR\u5206\u89e3 <code>svd</code> \u8ba1\u7b97\u5947\u5f02\u503c\u5206\u89e3\uff08SVD) <code>solve</code> \u89e3\u7ebf\u6027\u65b9\u7a0b\u7ec4$Ax = b$\uff0c\u5176\u4e2d$A$\u4e3a\u4e00\u4e2a\u65b9\u9635 <code>Istsq</code> \u8ba1\u7b97$Ax = b$\u7684\u6700\u5c0f\u4e8c\u4e58\u89e3"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html","title":"2.1.Python\u57fa\u672c\u8bed\u6cd5","text":"<p>\ufeff``` Windows 10 Python 3.8.5 @ MSC v.1916 64 bit (AMD64) Latest build date 2020.11.22 <pre><code>??? note \"Python\u7b80\u53f2\"\n\n    1982\u5e74\uff0cGuido \u4ece\u963f\u59c6\u65af\u7279\u4e39\u5927\u5b66 (University of Amsterdam) \u83b7\u5f97\u4e86\u6570\u5b66\u548c\u8ba1\u7b97\u673a\u7855\u58eb\u5b66\u4f4d\u3002\u90a3\u65f6\uff0c\u4ed6\u5c31\u5df2\u7ecf\u63a5\u89e6\u5e76\u4f7f\u7528\u8fc7 Fortran\u3001Pascal\u3001C \u7b49\u9ad8\u7ea7\u8bed\u8a00\uff0c\u4f46 Guido \u8fd8\u6ca1\u627e\u5230\u4e00\u95e8\u6613\u7528\u6027\u5f3a\u3001\u751f\u4ea7\u6548\u7387\u9ad8\u7684\u8bed\u8a00\u3002\u4e2a\u4eba\u8ba1\u7b97\u673a\u5728\u90a3\u65f6\u624d\u521a\u5f00\u59cb\u53d1\u5c55\uff0c\u76f8\u8f83\u4e8e\u73b0\u5728\uff0c\u5f53\u65f6\u4e2a\u4eba\u8ba1\u7b97\u673a\u7684\u914d\u7f6e\u8fd8\u5f88\u4f4e\u3002\u4e8e1981\u5e74\u95ee\u4e16\u7684\u7b2c\u4e00\u53f0\u4e2a\u4eba\u8ba1\u7b97\u673a IBM5150 \u5c31\u53ea\u5177\u6709 4.77MHz \u4e3b\u9891\u7684 CPU \u548c 16KB \u7684 RAM\u3002\u800c\u5f53\u65f6\u61c2\u5f97\u7f16\u7a0b\u7684\u4eba\u5f80\u5f80\u90fd\u7cbe\u901a\u8ba1\u7b97\u673a\uff0c\u6240\u4ee5\u4ed6\u4eec\u4e00\u822c\u66f4\u5173\u5fc3\u7a0b\u5e8f\u7684\u6027\u80fd\uff0c\u800c\u4e0d\u662f\u7f16\u7a0b\u7684\u6548\u7387\u548c\u8bed\u8a00\u7684\u6613\u7528\u6027\u3002\u4e3a\u4e86\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6027\u80fd\uff0c\u8bed\u8a00\u4e0d\u5f97\u4e0d\u903c\u8feb\u7a0b\u5e8f\u5458\u50cf\u8ba1\u7b97\u673a\u4e00\u6837\u601d\u8003\uff0c\u8fd9\u8ba9 Guido \u611f\u5230\u82e6\u607c\uff0c\u5373\u4f7f\u4ed6\u5df2\u7ecf\u51c6\u786e\u77e5\u9053\u5982\u4f55\u7528 C \u8bed\u8a00\u5b9e\u73b0\u4e00\u4e2a\u529f\u80fd\uff0c\u4f46\u4ed6\u4ecd\u7136\u4e0d\u5f97\u4e0d\u82b1\u5927\u91cf\u65f6\u95f4\u53bb\u7f16\u5199\u4ee3\u7801\u3002\n\n    \u5f53\u65f6\u4e00\u4e2a\u53ef\u7528\u7684\u9009\u62e9\u662f shell\uff0cBourne shell \u4f5c\u4e3a Unix \u7cfb\u7edf\u7684\u547d\u4ee4\u89e3\u91ca\u5668\u5728 1978 \u5e74\u5c31\u5df2\u7ecf\u53d1\u5e03\u3002shell \u53ef\u4ee5\u50cf\u80f6\u6c34\u4e00\u6837\uff0c\u5c06 Unix \u7684\u8bb8\u591a\u529f\u80fd\u8fde\u63a5\u5728\u4e00\u8d77\u3002\u8bb8\u591a\u9700\u8981 C \u8bed\u8a00\u5199\u4e0a\u767e\u884c\u4ee3\u7801\u624d\u80fd\u5b9e\u73b0\u7684\u529f\u80fd\uff0c\u5728 shell \u4e2d\u8f93\u5165\u51e0\u884c\u547d\u4ee4\u5c31\u53ef\u4ee5\u5b8c\u6210\u3002\u4f46 shell \u672c\u8d28\u4e0a\u662f\u8c03\u7528\u5176\u4ed6\u7a0b\u5e8f\u6267\u884c\u547d\u4ee4\uff0c\u5b83\u5e76\u4e0d\u662f\u4e00\u4e2a\u771f\u6b63\u7684\u7f16\u7a0b\u8bed\u8a00\u3002\u56e0\u6b64\uff0cshell \u5e76\u4e0d\u80fd\u5168\u9762\u8c03\u7528\u64cd\u4f5c\u7cfb\u7edf\u7684\u63a5\u53e3\u3002\n\n    Guido \u5e0c\u671b\u6709\u4e00\u79cd\u8bed\u8a00\uff0c\u8fd9\u79cd\u8bed\u8a00\u80fd\u591f\u50cf C \u8bed\u8a00\u90a3\u6837\uff0c\u80fd\u591f\u5168\u9762\u8c03\u7528\u8ba1\u7b97\u673a\u7684\u8d44\u6e90\uff0c\u53c8\u53ef\u4ee5\u50cf shell \u4e00\u6837\u8f7b\u677e\u5730\u7f16\u7a0b\u3002\u5f53\u65f6\u7684 ABC \u8bed\u8a00\u8ba9 Guido \u770b\u5230\u5e0c\u671b\u3002ABC \u7531\u8377\u5170\u7684 CWI (Centrum Wiskunde &amp; Informatica, \u6570\u5b66\u548c\u8ba1\u7b97\u673a\u7814\u7a76\u6240) \u5f00\u53d1\uff0c\u4e8e 1987 \u5e74\u53d1\u5e03\u7b2c\u4e00\u4e2a\u7248\u672c\u300280\u5e74\u4ee3\u4e2d\u671f\uff0cGuido \u66fe\u5728 CWI \u5de5\u4f5c\uff0c\u5e76\u53c2\u4e0e\u4e86 ABC \u8bed\u8a00\u7684\u5f00\u53d1\u3002\n\n    \u4e0e\u5f53\u65f6\u7684\u5927\u90e8\u5206\u8bed\u8a00\u4e0d\u540c\uff0cABC\u662f\u4ea4\u4e92\u5f0f\u7684\uff0c\u5176\u91cd\u70b9\u662f\u8bed\u8a00\u7684\u53cb\u597d\u6027\u3002\u5b83\u7684\u4e00\u4e9b\u4e3b\u8981\u8bbe\u8ba1\u8ba9\u8bed\u8a00\u53d8\u5f97\u5bb9\u6613\u9605\u8bfb\u3001\u5bb9\u6613\u4f7f\u7528\uff1a\n\n    - \u8bed\u53e5\u6309\u7f29\u8fdb\u5206\u7ec4\u3002\n    - \u53ea\u6709\u4e94\u79cd\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3002\n    - \u5f3a\u52a8\u6001\u7c7b\u578b\u7cfb\u7edf\u3002\n    - \u62e5\u6709\u4ea4\u4e92\u5f0f\u89e3\u91ca\u5668\uff08\u4f7f\u7528`&gt;&gt;&gt;`\u63d0\u793a\uff09\u3002\n\n    \u8bed\u6cd5\u793a\u4f8b\uff1a\n\n    ```ABC\n    &gt;&gt;&gt; WRITE 2**1000\n    1071....\n    &gt;&gt;&gt; PUT 1/(2*1000) in x\n    &gt;&gt;&gt; WRITE 1 + 1/x\n    ```\n\n    \u7136\u800c ABC \u4e3b\u8981\u76ee\u7684\u662f\u7528\u4e8e\u6559\u5b66\u6216\u8bed\u8a00\u7814\u7a76\uff0c\u800c\u4e0d\u662f\u4f5c\u4e3a\u7cfb\u7edf\u7f16\u7a0b\u8bed\u8a00\u3002\u76f8\u5bf9\u4e8e\u5176\u4ed6\u7cfb\u7edf\u7f16\u7a0b\u8bed\u8a00\uff0cABC \u8fc7\u4e8e\u4e25\u683c\u3001\u7eaf\u51c0\uff0c\u5b58\u5728\u4e00\u4e9b\u4e25\u91cd\u7684\u8bbe\u8ba1\u7f3a\u9677\uff1a\n\n    - \u53ea\u80fd\u901a\u8fc7 STDIN/STDOUT \u8f93\u51fa\u6587\u672c\uff0c\u6ca1\u6709\u4e0e\u5916\u754c\u7684\u63a5\u53e3\uff0c\u5373\u6ca1\u6709\u6587\u4ef6 I/O\uff0c\u8fd9\u662f\u81f4\u547d\u7684\u3002\n    - \u4e0d\u80fd\u4e0e\u5916\u90e8\u8bbe\u5907\u4ea4\u4e92\u3002\n    - \u53ef\u62d3\u5c55\u6027\u5dee\u3002ABC\u4e0d\u662f\u6a21\u5757\u5316\u7684\u8bed\u8a00\uff0c\u5982\u679c\u60f3\u5728ABC\u4e2d\u6dfb\u52a0\u65b0\u529f\u80fd\uff0c\u5219\u9700\u8981\u6539\u52a8\u5f88\u591a\u5730\u65b9\u3002\n    - \u53ea\u5177\u6709\u4e00\u4e2a\u5355\u4e00\u7684\u547d\u540d\u7a7a\u95f4\uff0c\u800c\u4e0d\u662f\u6bcf\u4e2a\u51fd\u6570\u6216\u6a21\u5757\u53ef\u4ee5\u5177\u6709\u5355\u72ec\u7684\u547d\u540d\u7a7a\u95f4\u3002\n    - \u8fc7\u5ea6\u521b\u65b0\u3002ABC \u4f7f\u7528\u81ea\u7136\u8bed\u8a00\u6765\u8868\u8fbe\u7a0b\u5e8f\u7684\u542b\u4e49\uff0c\u4f8b\u5982\u4f7f\u7528 `HOW TO` \u5b9a\u4e49\u51fd\u6570\uff0c\u4f7f\u7528 `PUT` \u4e3a\u53d8\u91cf\u8d4b\u503c\u3002\u4f46\u56e0\u4e3a Fortran \u548c C \u8bed\u8a00\u7684\u6d41\u884c\uff0c\u5927\u5bb6\u66f4\u4e60\u60ef\u4e8e\u4f7f\u7528 function \u6216 define \u5b9a\u4e49\u51fd\u6570\uff0c\u4f7f\u7528\u7b49\u53f7\u8d4b\u503c\u3002\u5c3d\u7ba1\u8fd9\u8ba9ABC\u53d8\u5f97\u7279\u522b\uff0c\u4f46\u5b9e\u9645\u4e0a\u589e\u52a0\u4e86\u7a0b\u5e8f\u5458\u7684\u5b66\u4e60\u96be\u5ea6\u3002\n\n    \u867d\u7136 ABC \u5e76\u4e0d\u662f\u4e00\u95e8\u6210\u529f\u7684\u8bed\u8a00\uff0c\u4f46\u8fd9\u7ed9\u4e86 Guido \u8bbe\u8ba1 Python \u7684\u7075\u611f\u30021989 \u5e74\u5de6\u53f3\uff0cGuido \u53c2\u52a0\u4e86 CWI \u4e00\u9879\u5f00\u53d1\u65b0\u64cd\u4f5c\u7cfb\u7edf\u7684\u5de5\u4f5c\u3002Guido \u4ed6\u4eec\u9700\u8981\u4e3a\u7528\u6237\u5199\u5f88\u591a\u5e94\u7528\u7a0b\u5e8f\uff0c\u8fd9\u4e9b\u7a0b\u5e8f\u4e00\u822c\u53ea\u662f\u5076\u5c14\u8fd0\u884c\u4e00\u5c0f\u6bb5\u65f6\u95f4\uff0c\u4f46\u53ef\u80fd\u4f7f\u7528\u590d\u6742\u7684\u903b\u8f91\uff0c\u7528 C \u8bed\u8a00\u5b8c\u6210\u8fd9\u4e9b\u5de5\u4f5c\u6548\u7387\u6781\u4f4e\u3002\u8fd9\u8ba9 Guido \u60f3\u4f7f\u7528 ABC \u4e4b\u7c7b\u7684\u8bed\u8a00\u3002ABC \u7684\u751f\u4ea7\u529b\u8981\u6bd4 C \u9ad8\u5f97\u591a\uff0c\u4f46\u4ee3\u4ef7\u662f\u8fd0\u884c\u65f6\u7684\u6027\u80fd\u635f\u5931\u3002\u867d\u7136\uff0cABC \u8bed\u8a00\u9762\u4e16\u65f6\uff0c\u4e2a\u4eba\u8ba1\u7b97\u673a\u7684\u6027\u80fd\u8fd8\u5f88\u4f4e\uff0c\u4f46\u8ba1\u7b97\u673a\u884c\u4e1a\u4ee5\u60ca\u4eba\u7684\u901f\u5ea6\u53d1\u5c55\u300290 \u5e74\u4ee3\u521d\uff0c\u4e2a\u4eba\u8ba1\u7b97\u673a\u5f00\u59cb\u8d70\u8fdb\u666e\u901a\u5bb6\u5ead\uff0c\u4e2a\u4eba\u8ba1\u7b97\u673a\u7684\u6027\u80fd\u8d8a\u6765\u8d8a\u9ad8\u3002\u56e0\u6b64\uff0cGuido \u8ba4\u4e3a\u4ee5\u6027\u80fd\u6362\u6548\u7387\u5df2\u7ecf\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\u6298\u8877\u65b9\u6848\u3002Guido \u8ba4\u4e3a\u4ed6\u53ef\u4ee5\u8bbe\u8ba1\u4e00\u79cd\u7c7b\u4f3c ABC\uff0c\u4f46\u4e0e\u4e4b\u53c8\u4e0d\u4e00\u6837\u7684\u8bed\u8a00\uff0c\u8fd9\u79cd\u8bed\u8a00\u53ef\u4ee5\u4fdd\u7559 ABC \u9ad8\u6548\u7684\u751f\u4ea7\u529b\uff0c\u5e76\u4e14\u514b\u670d ABC \u7684\u7f3a\u9677\u3002\n\n    \u4e8e\u662f\uff0c\u5728 1989 \u5e74\u7684\u5723\u8bde\u8282\u524d\u540e\uff0cGuido \u5f00\u59cb\u4f7f\u7528 C \u8bed\u8a00\u5f00\u53d1 Python \u8bed\u8a00\u7684\u7f16\u8bd1\u5668/\u89e3\u91ca\u5668\uff0c\u5e76\u5728 1991 \u5e74\u521d\u53d1\u5e03\u4e86\u7b2c\u4e00\u4e2a\u5f00\u6e90\u7248\u672c\u3002Python \u7684\u540d\u5b57\u6765\u6e90\u4e8e Guido \u6240\u631a\u7231\u7684\u7535\u89c6\u5267 Monty Python's Flying Circus\uff0cPython \u7684\u6587\u732e\u8d44\u6599\u4e2d\u4e5f\u7ecf\u5e38\u5f15\u7528\u8be5\u7535\u89c6\u5267\u7684\u53f0\u8bcd\u3002\u800c Python \u4e0e\u5de8\u87d2\u7684\u5173\u8054\u5219\u662f\u51fa\u7248\u5546\u5f3a\u52a0\u7684\uff0c\u56e0\u4e3a\u4ed6\u4eec\u4e0d\u60f3\u4e3a\u4e66\u7c4d\u5c01\u9762\u8d2d\u4e70 Monty-Python \u63d2\u753b\u7684\u8bb8\u53ef\u3002\n\n    Python \u53d7\u5230 ABC \u7684\u5f3a\u70c8\u5f71\u54cd\uff0c\u4e0e ABC \u5177\u6709\u4e00\u4e9b\u76f8\u4f3c\u4e4b\u5904\uff1a\n\n    1. \u4f7f\u7528\u5192\u53f7 `:` \u4f5c\u4e3a\u4ee3\u7801\u5757\u7684\u8d77\u70b9\n    2. \u4f7f\u7528\u7f29\u8fdb\u5212\u5206\u4ee3\u7801\u5757\n    3. \u65e0\u9700\u58f0\u660e\u53d8\u91cf\u7c7b\u578b\n    4. \u652f\u6301\u4ea4\u4e92\u5f0f\u7f16\u7a0b\uff0c\u4e5f\u4f7f\u7528 `&gt;&gt;&gt;` \u4f5c\u4e3a\u63d0\u793a\u7b26\n    5. \u63d0\u4f9b\u53ef\u4ee5\u7ec4\u5408\u7684\u9ad8\u7ea7\u6570\u636e\u7ed3\u6784\uff08list\u3001dictionary\uff09\n    6. \u81ea\u52a8\u5783\u573e\u6536\u96c6\uff08GC\uff09\n    7. \u91cd\u89c6\u53ef\u8bfb\u6027\uff0c\u4f7f\u7528\u7b80\u6d01\u7684\u8bed\u6cd5\n    8. \u7531 C \u8bed\u8a00\u5b9e\u73b0\u5b57\u8282\u7801\u7684\u7f16\u8bd1\uff0c\u5b57\u8282\u7801\u7531\u66f4\u9ad8\u7ea7\u7684VM\u8fdb\u884c\u89e3\u91ca\u3002\n\n    \u53e6\u4e00\u65b9\u9762\uff0cPython\u629b\u5f03\u4e86 ABC \u7684\u539f\u6559\u65e8\u4e3b\u4e49\uff1a\n\n    1. \u4f7f\u7528\u7c7b\u4f3c C \u8bed\u8a00\u7684\u672f\u8bed\u548c\u7b26\u53f7\u3002\u4f8b\u5982\u4f7f\u7528 `= ` \u8868\u793a\u8d4b\u503c\uff0c\u4f7f\u7528 `def` \u5b9a\u4e49\u51fd\u6570\u3002Guido \u8ba4\u4e3a\u5982\u679c\u4e00\u4e9b\u4e1c\u897f\u5df2\u7ecf\u6210\u4e3a\u4e00\u79cd\u5e38\u8bc6\uff0c\u5219\u6ca1\u6709\u5fc5\u8981\u8fc7\u5ea6\u7ea0\u6b63[^10]\u3002\n\n    2. \u4ee5\u6a21\u5757\u4e3a\u57fa\u7840\u7684\u62d3\u5c55\u673a\u5236\u3002Guido \u8ba4\u4e3a ABC \u8bed\u8a00\u6ca1\u6709\u6210\u529f\u7684\u4e00\u4e2a\u91cd\u8981\u539f\u56e0\u662f\u7f3a\u4e4f\u6269\u5c55\u6027\uff0c\u56e0\u6b64 Python \u4ece\u4e00\u5f00\u59cb\u5c31\u7279\u522b\u5728\u610f\u53ef\u62d3\u5c55\u6027\u3002Python \u53ef\u4ee5\u5728\u591a\u4e2a\u5c42\u6b21\u4e0a\u62d3\u5c55\u3002\u5728\u9ad8\u5c42\uff0c\u53ef\u4ee5\u5bfc\u5165 `.py` \u6587\u4ef6\uff08\u5373 import \u6a21\u5757\uff0c\u8fd9\u4e2a\u7075\u611f\u6765\u81ea Modula-3 \u8bed\u8a00\uff09\u3002\u5728\u5e95\u5c42\uff0c\u53ef\u4ee5\u5bfc\u5165C\u8bed\u8a00\u7684\u5e93\u3002\u56e0\u6b64\uff0c\u5f53\u9700\u8981\u6ce8\u91cd\u6027\u80fd\u65f6\uff0cPython \u7a0b\u5e8f\u5458\u53ef\u4ee5\u7f16\u5199 C \u7a0b\u5e8f\uff0c\u5e76\u7f16\u8bd1\u4e3a `.so` \u6587\u4ef6\uff0c\u5c06\u5176\u5bfc\u5165 Python \u4e2d\u4f7f\u7528\u3002\n    3. \u4f7f\u7528\u7c7b\u4f3c Modula-3 \u8bed\u8a00\u7684\u5f02\u5e38\u5904\u7406\u673a\u5236\uff0c\u53ea\u662f\u6dfb\u52a0\u4e86 else \u5b50\u53e5\u3002\n    4. \u652f\u6301 OO\uff08Smalltalk\uff09\n    5. \u652f\u6301\u6587\u4ef6 I/O\n\n    Python \u6210\u529f\u5730\u4ece\u5176\u4ed6\u8bed\u8a00\u4e2d\u501f\u9274\u4e86\u5f88\u591a\u4e1c\u897f\uff0c\u9664\u4e86\u4ee5\u5df2\u5217\u51fa\u7684 ABC\u3001C\u7b49\uff0c\u8fd8\u5305\u62ec\u4e86\u8bb8\u591a\u672a\u5217\u51fa\u7684\u8bed\u8a00\u3002\u6b63\u5982 Tim Peters \u5728Python \u6240\u8bf4\uff1a\n\n    &lt;center&gt; \u201c\u5728\u8bb8\u591a\u65b9\u9762\uff0c\u5b83\u662f\u4e00\u79cd\u67af\u71e5\u7684\u8bed\u8a00\uff0c\u5b83\u4ece\u8bb8\u591a\u5176\u4ed6\u8bed\u8a00\u548c\u6837\u5f0f\u4e2d\u501f\u9274\u4e86\u56fa\u6709\u7684\u6982\u5ff5\uff1a &lt;/center&gt;&lt;center&gt; \u65e0\u804a\u7684\u8bed\u6cd5\uff0c\u6beb\u4e0d\u5947\u602a\u7684\u8bed\u4e49\uff0c\u5f88\u5c11\u7684\u9690\u5f0f\u8f6c\u6362\u7b49\uff0c\u4f46\u8fd9\u5c31\u662f\u6211\u559c\u6b22\u5b83\u7684\u539f\u56e0\u4e4b\u4e00\u3002\u201d&lt;/center&gt;\n\n    \u53ef\u4ee5\u8bf4 Python \u7684\u6210\u529f\u4ee3\u8868\u4e86\u5b83\u501f\u7528\u7684\u6240\u6709\u8bed\u8a00\u7684\u6210\u529f\u3002\u540c\u6837\uff0cRuby \u501f\u9274\u4e86 Python\uff0c\u5b83\u7684\u6210\u529f\u4e5f\u4ee3\u8868\u4e86 Python \u67d0\u4e9b\u65b9\u9762\u7684\u6210\u529f\u3002\u6bcf\u79cd\u8bed\u8a00\u90fd\u662f\u6df7\u5408\u8bed\u8a00\uff0c\u5b83\u4eec\u5177\u6709\u4e00\u4e9b\u4f18\u8d8a\u7684\u65b9\u9762\uff0c\u4f46\u662f\u4e5f\u5b58\u5728\u5404\u79cd\u7f3a\u9677\u3002\u5bf9\u8bed\u8a00 \u201c\u597d\u4e0e\u574f\u201d \u7684\u5224\u65ad\u901a\u5e38\u53d7\u5e73\u53f0\u3001\u786c\u4ef6\u548c\u65f6\u95f4\u7b49\u5916\u90e8\u56e0\u7d20\u7684\u5f71\u54cd\u3002\u7a0b\u5e8f\u5458\u9047\u5230\u4e86\u8bb8\u591a\u5173\u4e8e\u8bed\u8a00\u7684\u4e89\u8bae\uff0c\u4f46\u5b9e\u9645\u4e0a\u5f88\u591a\u4e89\u8bba\u90fd\u5728\u6d6a\u8d39\u65f6\u95f4\uff0c\u4f7f\u7528\u5f00\u653e\u7684\u601d\u60f3\u548c\u5ba2\u89c2\u7684\u5206\u6790\u6765\u533a\u5206\u6bcf\u79cd\u8bed\u8a00\u7684\u7279\u5b9a\u4f18\u7f3a\u70b9\uff0c\u4ee5\u533a\u5206\u5185\u90e8\u548c\u5916\u90e8\u56e0\u7d20\uff0c\u80fd\u66f4\u597d\u5730\u5e2e\u6211\u4eec\u770b\u6e05\u672c\u8d28\u3002\n\n\n[^10]: *If something* is *established* on \"*common sense*,\" *there* is *no need* to *over*-*entangle*.\n\n\n\n\n\n\u7531\u4e8e\u6570\u636e\u79d1\u5b66\u7684\u5174\u8d77\uff0cPython\u53d8\u5f97\u66f4\u52a0\u6d41\u884c\uff0c\u53ef\u80fd\u60a8\u521a\u542c\u8bf4Python\u8fd9\u79cd\u8bed\u8a00\uff0c\u4f46\u5b9e\u9645\u4e0aPython\u5e76\u4e0d\u662f\u4e00\u4e2a\u5e74\u8f7b\u7684\u8bed\u8a00\uff0cPython\u7684\u7b2c\u4e00\u4e2a\u7248\u672c\u53d1\u5e03\u4e8e1991\u5e74\uff0c\u7531Guido von Rossum\u8bbe\u8ba1\u3002\n\n1990\u5e74\u4ee3\u521d\uff0c\u4e2a\u4eba\u8ba1\u7b97\u673a\u5f00\u59cb\u8fdb\u5165\u666e\u901a\u5bb6\u5ead\uff0c\u8ba1\u7b97\u673a\u7684\u6027\u80fd\u5927\u5927\u63d0\u9ad8\u3002\u7a0b\u5e8f\u5458\u5f00\u59cb\u5173\u6ce8\u8ba1\u7b97\u673a\u7684\u6613\u7528\u6027\u3002\u8bde\u751f\u4e8e\u8be5\u65f6\u4ee3\u80cc\u666f\u4e0b\u7684 Python \u6b63\u662f\u4e00\u95e8\u6781\u5177\u6613\u7528\u6027\u7684\u7f16\u7a0b\u8bed\u8a00\u3002\n\n\u5728\u8bed\u6cd5\u65b9\u9762\uff0cPython\u6cbf\u7528\u4e86C\u8bed\u8a00\u7684\u5f88\u591a\u60ef\u4f8b\uff0c\u4f8b\u5982\u4f7f\u7528\u7b49\u53f7\u8d4b\u503c\uff0c\u4f7f\u7528`def`\u5b9a\u4e49\u51fd\u6570\uff0c\u540c\u65f6\u53c8\u53d7\u5230\u4e86ABC \u8bed\u8a00\u7684\u5f3a\u70c8\u5f71\u54cd\u3002\u6765\u81ea ABC \u8bed\u8a00\u7684\u4e00\u4e9b\u89c4\u5b9a\u65f6\u81f3\u4eca\u65e5\u8fd8\u5bcc\u6709\u4e89\u8bae\uff0c\u4f8b\u5982\u5f3a\u5236\u7f29\u8fdb\u3002\u4f46\u8fd9\u4e9b\u8bed\u6cd5\u89c4\u5b9a\u786e\u5b9e\u8ba9 Python \u5bb9\u6613\u8bfb\u3002\n\nPython\u7684\u6838\u5fc3\u7406\u5ff5\u5728 [Zen of Python](https://en.wikipedia.org/wiki/Zen_of_Python)\uff08PEP 20\uff09\u6587\u6863\u4e2d\u8fdb\u884c\u4e86\u603b\u7ed3\uff0c\u5176\u4e2d\u5305\u62ec\u5982\u4e0b\u683c\u8a00\uff1a\n\n- \u7f8e\u4e3d\u80dc\u4e8e\u4e11\u964b\n\n- \u663e\u5f0f\u80dc\u4e8e\u9690\u5f0f\n\n- \u7b80\u5355\u80dc\u4e8e\u7e41\u591a\n\n- \u7e41\u591a\u80dc\u4e8e\u6666\u6da9\n\n- \u53ef\u8bfb\u6027\u5f88\u91cd\u8981\n\n## \u4ea4\u4e92\u6a21\u5f0f\n\nPython\u662f\u4e00\u79cd\u89e3\u91ca\u578b\u8bed\u8a00\uff0cPython\u89e3\u91ca\u5668\u901a\u8fc7\u4e00\u6b21\u6267\u884c\u4e00\u6761\u8bed\u53e5\u7684\u65b9\u5f0f\u8fd0\u884c\u7a0b\u5e8f\u3002\u4ece tty\uff08\u7ec8\u7aef\uff09 \u8bfb\u53d6\u547d\u4ee4\u65f6, \u6211\u4eec\u79f0\u89e3\u91ca\u5668\u5de5\u4f5c\u4e8e\u4ea4\u4e92\u6a21\u5f0f (interactive mode)\u3002\u6240\u8c13\u7684\u4ea4\u4e92\u6a21\u5f0f\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff1a\u5728\u7ec8\u7aef\u8f93\u5165\u7684Python\u8bed\u53e5\u4f1a\u7acb\u5373\u88ab\u6267\u884c\uff0c\u6267\u884c\u5b8c\u4e4b\u540e\uff0c\u7ec8\u7aef\u663e\u793a\u63d0\u793a\u7b26\u3002\u7b49\u5f85\u4e0b\u4e00\u6b21\u547d\u4ee4\u7684\u8f93\u5165\u3002\u53ef\u4ee5\u5728cmd\u7a97\u53e3\u901a\u8fc7`python`\u547d\u4ee4\u542f\u52a8CPython\u89e3\u91ca\u5668\u7684\u4ea4\u4e92\u6a21\u5f0f\uff0c\u4ea4\u4e92\u6a21\u5f0f\u4e0bCPython\u901a\u8fc7\u4e3b\u63d0\u793a\u7b26 (primary prompt) `&gt;&gt;&gt;`\u63d0\u793a\u4e0b\u4e00\u6761\u547d\u4ee4\uff0c\u800c\u4ece\u63d0\u793a\u7b26`\u00b7\u00b7\u00b7`\u63d0\u793a\u4e00\u6761\u547d\u4ee4\u7684\u7eed\u884c\u3002\n\n\u52a0\u5f3a\u7684\u4ea4\u4e92\u5f0f\u89e3\u91ca\u5668(IPython)\u7684\u63d0\u793a\u7b26\u662f\u4e00\u79cd\u5e26\u7f16\u53f7\u7684\u98ce\u683c\uff0c\u5982`In[2]`\uff0c\u800c\u4e0d\u662f\u6807\u51c6\u7684`&gt;&gt;&gt;`\u3002\n\n## \u4fdd\u7559\u5b57\n\n\u4fdd\u7559\u5b57\uff08\u53c8\u79f0\u4e3a\u5173\u952e\u5b57\uff09\uff0c**\u4e0d\u80fd\u628a\u5b83\u4eec\u7528\u4f5c\u4efb\u4f55\u6807\u8bc6\u7b26\u540d\u79f0**\u3002Python\u7684\u6807\u51c6\u5e93\u63d0\u4f9b\u4e86\u4e00\u4e2akeyword\u6a21\u5757\uff0c\u53ef\u4ee5\u8f93\u51fa\u5f53\u524d\u7248\u672c\u7684\u6240\u6709\u5173\u952e\u5b57\uff1a\n\n```python\nimport keyword\nprint(keyword.kwlist)\n</code></pre></p> <pre><code>['False', 'None', 'True', 'and', 'as', 'assert', 'async', 'await',\n'break', 'class', 'continue', 'def', 'del', 'elif', 'else', 'except',\n'finally', 'for', 'from', 'global', 'if', 'import', 'in', 'is',\n'lambda', 'nonlocal', 'not', 'or', 'pass', 'raise', 'return', 'try',\n'while', 'with', 'yield']\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_1","title":"\u53d8\u91cf\u547d\u540d\u89c4\u5219","text":"<p>Python \u7684\u6807\u8bc6\u7b26\u662f\u5927\u5c0f\u5199\u654f\u611f\u7684\uff0c\u7531\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf\u548c\u6570\u5b57\u7ec4\u6210\uff0c\u4e14\u5f00\u5934\u4e0d\u80fd\u662f\u6570\u5b57\u3002</p> <p>\u54ea\u4e9b\u5b57\u6bcd\u53ef\u7528\u4f5c\u6807\u8bc6\u7b26\uff1f</p> <p>\u5bf9\u4e8e Python 3 \u6765\u8bf4\uff0c\u8fd9\u91cc\u7684\u5b57\u6bcd\u5b9e\u9645\u4e0a\u4e0d\u9650\u4e8e\u82f1\u6587\u5b57\u6bcd\uff0c\u4e5f\u53ef\u4ee5\u662f\u975eASCII\u7801\u7684\u5b57\u6bcd\uff0c\u4f8b\u5982\u5e0c\u814a\u5b57\u6bcd\u3001\u897f\u91cc\u5c14\u5b57\u6bcd\u3001\u6c49\u5b57\u7b49\u7b49\uff0c\u53c2\u89c1 PEP 3131\u3002\u4f46 Python 2 \u53ea\u652f\u6301\u82f1\u6587\u5b57\u6bcd\uff0c\u81f3\u5c11 Python 2 \u7684 CPython \u5b9e\u73b0\u662f\u8fd9\u6837\u3002\u5176\u4ed6\u7684 Python 2 \u5b9e\u73b0\u6709\u53ef\u80fd\u4e5f\u652f\u6301\u975eASCII\u5b57\u7b26\u4f5c\u4e3a\u6807\u8bc6\u7b26\uff0c\u4f8b\u5982 IronPython\u3002</p> \u4e3a\u4ec0\u4e48\u6807\u8bc6\u7b26\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\uff1f<ol> <li>\u5982\u679c\u6807\u8bc6\u7b26\u4ee5\u6570\u5b57\u5f00\u5934\uff0c\u90a3\u4e48\u50cf\"0o10\"\u3001\"1e5\"\u8fd9\u6837\u7684\u4ee3\u7801\u5c31\u4f1a\u5e26\u6765\u6b67\u4e49\uff0c\u751a\u81f3\u5bf9\u4e8e\"123\"\u8fd9\u6837\u7684\u4ee3\u7801\uff0c\u673a\u5668\u4e5f\u65e0\u6cd5\u786e\u5b9a\u8fd9\u5230\u5e95\u662f\u6570\u5b57\u8fd8\u662f\u6807\u8bc6\u7b26\u3002\u5f53\u7136\u53ef\u4ee5\u901a\u8fc7\u8ffd\u52a0\u89c4\u5219\u6765\u6d88\u9664\u6b67\u4e49\uff0c\u4f8b\u5982\u89c4\u5b9a\u53d8\u91cf\u8d4b\u503c\u65f6\uff0c\u7b49\u53f7\u5de6\u8fb9\u7684\u662f\u6807\u5fd7\u7b26\u3002\u4f46\u5982\u679c\u771f\u7684\u8fd9\u6837\u505a\u7684\u8bdd\uff0c\u4ee3\u7801\u5fc5\u5b9a\u4f1a\u5b58\u5728\u5b89\u5168\u6027\u95ee\u9898\uff0c\u4f8b\u5982\"1e5\"\u5728\u524d\u9762\u5df2\u7ecf\u7528\u4f5c\u53d8\u91cf\u540d\u4e86\uff0c\u5728\u540e\u9762\u53c8\u60f3\u4f7f\u7528\"1e5\"\u8fd9\u4e2a\u6570\u5b57\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u65e2\u7136\u9700\u8981\u901a\u8fc7\u8ffd\u52a0\u89c4\u5219\u6765\u6d88\u9664\u6b67\u4e49\uff0c\u90a3\u76f4\u63a5\u89c4\u5b9a\u6570\u5b57\u4e0d\u80fd\u7528\u4e8e\u5f00\u5934\u4e0d\u5c31\u597d\u4e86\uff0c\u6bd5\u7adf\u6570\u5b57\u4f5c\u4e3a\u6807\u8bc6\u7b26\u7684\u5f00\u5934\u597d\u50cf\u6ca1\u4ec0\u4e48\u5fc5\u8981\u3002</li> <li>\u8fd9\u4f1a\u8ba9\u7f16\u8bd1\u5668\u7684\u8bcd\u6cd5\u5206\u6790\u66f4\u52a0\u590d\u6742\uff0c\u4ece\u800c\u964d\u4f4e\u7f16\u8bd1\u5668\u7684\u6027\u80fd\u3002\u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u4ee5\u6570\u5b57\u5f00\u5934\uff0c\u90a3\u4e48\u8bcd\u6cd5\u5206\u6790\u5668\u5c31\u5fc5\u987b\u5728\u9047\u5230\u7b2c\u4e00\u4e2a\u6216\u7b2c\u4e8c\u4e2a\u82f1\u6587\u5b57\u7b26\u7684\u65f6\u5019\u8fdb\u884c\u56de\u6eaf\uff0c\u4ee5\u786e\u5b9a\u662f\u5426\u4e3a\u6570\u5b57\u3002</li> <li>\u5b9e\u9645\u4e0a\uff0c\u6709\u4e9b\u8bed\u8a00\u5141\u8bb8\u6807\u8bc6\u7b26\u4ee5\u6570\u5b57\u5f00\u5934\uff0c\u4f46\u6709\u4e00\u4e9b\u9650\u5236\uff0c\u4f8b\u5982 Common Lisp\u3002</li> </ol> <p>Python \u4e60\u60ef\u4e8e\u4f7f\u7528\u86c7\u5f62\u547d\u540d\u6cd5\uff08snake case\uff09\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u7c7b\u540d\u63a8\u8350\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\u6cd5\uff0c\u800c\u5bf9\u4e8e\u666e\u901a\u53d8\u91cf\u540d\u3001\u51fd\u6570\u540d\u3001\u6a21\u5757\u540d\u3001\u5305\u540d\uff0c\u5219\u63a8\u8350\u4f7f\u7528\u86c7\u5f62\u547d\u540d\u6cd5\u3002</p> <p>\u81f3\u4e8e Python \u4e3a\u4ec0\u4e48\u504f\u7231\u86c7\u5f62\u547d\u540d\u6cd5\uff0c\u6700\u53ef\u80fd\u7684\u539f\u56e0\u662f\u501f\u9274\u4e86 C \u8bed\u8a00\u7684\u89c4\u8303\u3002\u86c7\u5f62\u547d\u540d\u6cd5\u8d77\u6e90\u4e8e 1960 \u5e74\u4ee3\u540e\u671f\uff0c\u5b83\u4e0e C \u8bed\u8a00\u5173\u7cfb\u5bc6\u5207\uff0cThe C Programming Language \u7684 2.1 \u8282\u4e2d\u5c31\u6709\u63d0\u5230\u4f7f\u7528\u4e0b\u5212\u7ebf\u53ef\u4ee5\u63d0\u9ad8\u957f\u53d8\u91cf\u540d\u7684\u53ef\u8bfb\u6027\u3002\u4e00\u5f00\u59cb\uff0c\u86c7\u5f62\u547d\u540d\u6cd5\u5e76\u6ca1\u6709\u5982\u4eca\u7279\u5b9a\u7684\u540d\u79f0\u3002Python \u4ece C \u8bed\u8a00\u4e2d\u501f\u9274\u8fc7\u6765\u540e\uff0c\u5728 PEP 8 \u4e2d\u5c06\u5176\u7b80\u79f0\u4e3a \"lower_case_with_underscores\"\u3002\u76f4\u5230 21 \u4e16\u7eaa\u521d\uff0c\u5728 Intel \u548c Ruby \u793e\u533a\u4e2d\uff0c\u624d\u6709\u4eba\u5f00\u59cb\u4ee5 \"snake case\" \u6765\u79f0\u547c\u5b83\u3002</p> <p>\u73b0\u4eca\u6709\u4e0d\u5c11\u7f16\u7a0b\u8bed\u8a00\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\u4f1a\u63a8\u8350\u4f7f\u7528\u86c7\u5f62\u547d\u540d\u6cd5\uff0c\u5305\u62ecR\u8bed\u8a00\uff0c\u800c Python \u5219\u662f\u6700\u65e9\u8fd9\u4e48\u505a\u7684\u5176\u4e2d\u4e4b\u4e00\uff0c\u5e76\u4e14\u662f\u4f7f\u7528 snake case \u573a\u666f\u6700\u591a\u7684\u8bed\u8a00\u4e4b\u4e00\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_2","title":"\u6ce8\u91ca","text":"<p>\u7f16\u7a0b\u8bed\u8a00\u7684\u6ce8\u91ca\u7b26\u4e00\u822c\u6709\u4e24\u79cd\uff1a\u884c\u6ce8\u91ca\u4e0e\u5757\u6ce8\u91ca\uff08inline/block\uff09\u3002\u7531\u4e8e\u5386\u53f2\u539f\u56e0\uff0cC\u8bed\u8a00\u5bb6\u65cf\u9009\u62e9<code>\\\\</code>\u4f5c\u4e3a\u884c\u6ce8\u91ca\u7b26\uff0c\u800c\u811a\u672c\u8bed\u8a00\uff08\u5982shell\uff09\u5927\u591a\u4f7f\u7528<code>#</code>\u4f5c\u4e3a\u884c\u6ce8\u91ca\u7b26\u3002Python \u6cbf\u7528\u4e86\u811a\u672c\u8bed\u8a00\u7684\u4f20\u7edf\uff0c\u5355\u884c\u6ce8\u91ca\u4ee5<code>#</code>\u5f00\u5934\uff0c\u5e76\u4ee5\u7269\u7406\u884c\u7684\u672b\u5c3e\u7ed3\u675f\u3002</p> <pre><code># \u8fd9\u662f\u5355\u884c\u6ce8\u91ca\n</code></pre> <p>Python \u5e76\u6ca1\u6709\u5757\u6ce8\u91ca\u7b26\uff0c\u56e0\u6b64\uff0c\u6709\u65f6\u591a\u884c\u5b57\u7b26\u4e32\u4f1a\u88ab\u7528\u4f5c\u5757\u6ce8\u91ca\u3002</p> <pre><code>\"\"\"\n\u8fd9\u662f\u591a\u884c\u6ce8\u91ca\n\u8fd9\u662f\u591a\u884c\u6ce8\u91ca\n\"\"\"\n</code></pre> <p>\u867d\u7136\u591a\u884c\u5b57\u7b26\u4e32\u7528\u4e8e\u591a\u884c\u6ce8\u91ca\u65f6\uff0cPython \u89e3\u91ca\u5668\u5e76\u4e0d\u4f1a\u4e3a\u6b64\u751f\u6210\u4ee3\u7801\uff08\u591a\u884c\u6ce8\u91ca\u4f5c\u4e3a\u6587\u6863\u5b57\u7b26\u4e32\u65f6\u9664\u5916\uff09\uff0c\u4e5f\u6ca1\u6709\u8d1f\u4f5c\u7528\uff08negative effects\uff09\uff0c\u4f46\u8fd9\u5374\u662f\u4e00\u79cd\u526f\u4f5c\u7528\uff08side effects\uff09\u3002\u57fa\u4e8e\u6b64\uff0cPEP-8 \u5efa\u8bae\u591a\u884c\u6ce8\u91ca\u5747\u4ee5<code>#</code>\u53f7\u548c\u7a7a\u683c\u5f00\u5934\uff1a</p> <p>Each line of a block comment starts with a # and a single space (unless it is indented text inside the comment).</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_3","title":"\u7f29\u8fdb","text":"<p>\u4f4d\u4e8e\u903b\u8f91\u884c\u5f00\u59cb\u524d\u7684\u7a7a\u767d\uff08\u7a7a\u683c\u548c\u5236\u8868\u7b26\uff09\u7528\u4e8e\u8ba1\u7b97\u884c\u7684\u7f29\u8fdb\u5c42\u6b21\uff0c\u8be5\u5c42\u6b21\u7528\u4e8e\u8bed\u53e5\u7684\u5206\u7ec4\u3002\u4e0d\u80fd\u4f7f\u7528<code>\\</code>\u8fde\u63a5\u4e24\u4e2a\u7269\u7406\u884c\u7684\u7f29\u8fdb\u3002</p> <p>\u76f8\u540c\u5c42\u6b21\u7684\u4ee3\u7801\u5fc5\u987b\u4fdd\u6301\u76f8\u540c\u7684\u7f29\u8fdb\u91cf\uff0c\u7f29\u8fdb\u91cf\u5219\u53ef\u4ee5\u968f\u610f\u3002\u5f53\u6e90\u7801\u6587\u4ef6\u6df7\u7528\u5236\u8868\u7b26\u548c\u7a7a\u683c\u65f6\uff0c\u8fd0\u884c\u65f6\u4f1a\u89e6\u53d1 <code>TabError</code>\u3002 \u7531\u4e8e\u975eUnix\u5e73\u53f0\u7684\u6587\u672c\u7f16\u8f91\u5668\u7684\u7279\u6027\uff0c\u6700\u597d\u4e0d\u8981\u7528\u5236\u8868\u7b26\u8868\u793a\u7f29\u8fdb\u3002\u4e00\u822c\u7ea6\u5b9a\u4fd7\u6210\u4f7f\u75284\u4e2a\u7a7a\u683c\u7684\u7f29\u8fdb\u3002</p> inputoutput <pre><code>if True:\n    print(\"True\")\nelse:\n    print(\"False\")\n</code></pre> <pre><code>True\n</code></pre> <p>\u4f7f\u7528\u7f29\u8fdb\u5212\u5206\u4ee3\u7801\u5757\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u5927\u62ec\u53f7<code>{}</code>\uff0c\u662f Python \u6700\u5177\u7279\u8272\u7684\u5730\u65b9\uff0c\u4f46\u8fd9\u4e5f\u662f Python \u65f6\u5e38\u88ab\u8bdf\u75c5\u7684\u5730\u65b9\u3002</p> <p>\u4e00\u65b9\u9762\uff0c\u5f53\u4ee3\u7801\u5f88\u957f\u7684\u65f6\u5019\uff0c\u53ef\u80fd\u4f1a\u4e0d\u5c0f\u5fc3\u5f04\u9519\u90e8\u5206\u884c\u7684\u7f29\u8fdb\u5c42\u7ea7\u3002\u4f46\u5f88\u957f\u7684\u4ee3\u7801\u5757\u672c\u8eab\u5c31\u6709\u574f\u4ee3\u7801\u7684\u5473\u9053\uff0c\u8fd9\u964d\u4f4e\u4e86\u53ef\u8bfb\u6027\uff0c\u5e76\u6697\u793a\u4e86\u4ee3\u7801\u53ef\u80fd\u5b58\u5728\u8fc7\u5ea6\u7684\u8026\u5408\uff0c\u8fd9\u662f\u8981\u5c3d\u91cf\u907f\u514d\u7684\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u5982\u679c\u4ee3\u7801\u662f\u4ece\u7f51\u4e0a\u590d\u5236\u7684\uff0c\u7c98\u8d34\u5230\u6e90\u6587\u4ef6\u4e2d\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5236\u8868\u7b26\u548c\u7a7a\u683c\u6df7\u7528\uff0c\u6216\u8005\u4e22\u5931\u7f29\u8fdb\u683c\u5f0f\u3002\u5982\u679c\u5927\u5bb6\u90fd\u4e0d\u9002\u7528\u5236\u8868\u7b26\u8868\u793a\u7f29\u8fdb\uff0c\u7b2c\u4e00\u4e2a\u95ee\u9898\u5c31\u53ef\u4ee5\u89e3\u51b3\uff0c\u4f46\u4e22\u5931\u7f29\u8fdb\u683c\u5f0f\u786e\u5b9e\u65e0\u6cd5\u81ea\u52a8\u8fd8\u539f\u4ee3\u7801\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_4","title":"\u8bed\u53e5\u5206\u9694\u7b26","text":"<p>\u975e\u6b63\u5f0f\u5730\uff0c\u7b80\u5355\u8bed\u53e5\u5fc5\u987b\u5728\u5355\u4e2a\u903b\u8f91\u884c\u4e0a\u5b8c\u6210\u3002\u591a\u6761\u7b80\u5355\u8bed\u53e5\u53ef\u4ee5\u5b58\u5728\u540c\u4e00\u903b\u8f91\u884c\u5185\uff0c\u5e76\u4ee5\u534a\u89d2\u5206\u53f7<code>;</code>\u5206\u9694\u3002\u4e00\u822c\u4e0d\u63a8\u8350\u8fd9\u6837\u7684\u505a\u6cd5\uff0c\u56e0\u4e3a\u53ef\u80fd\u4f1a\u964d\u4f4e\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_5","title":"\u7eed\u884c\u7b26","text":"<p>\u867d\u7136 Python \u5c06<code>;</code>\u4f5c\u4e3a\u8bed\u53e5\u5206\u9694\u7b26\uff0c\u4f46\u4f7f\u7528 <code>\\newline</code> token \u4f5c\u4e3a\u8bed\u53e5\u7ec8\u6b62\u7b26\u3002<code>\\newline</code> token \u53ef\u4ee5\u7406\u89e3\u4e3a\u5404\u4e2a\u7cfb\u7edf\u5408\u6cd5\u7684\u5e8f\u5217\u7ec8\u6b62\u7b26\uff08\u4f8b\u5982 <code>\\n</code>\u3001<code>\\r\\n</code>\u7b49\uff09\uff0c\u4e25\u683c\u6765\u8bf4\uff0c\u8fd8\u5305\u62ec\u7ec8\u6b62\u7b26\u524d\u9762\u7684\u7a7a\u683c\u3002\u53e6\u5916\uff0c\u6ce8\u91ca\u4e5f\u8868\u793a\u903b\u8f91\u884c\u7684\u7ed3\u675f\u3002\u56e0\u6b64\uff0c\u6362\u884c\u662fPython\u8bed\u6cd5\u7684\u4e00\u90e8\u5206\u3002</p> <p>\u53e6\u5916\uff0c<code>\\newline</code> \u4e5f\u662f\u903b\u8f91\u884c\u7684\u7ed3\u5c3e\u6807\u8bb0\uff0c\u7b80\u5355\u8bed\u53e5\u4e0d\u80fd\u8d8a\u8fc7\u903b\u8f91\u884c\u7684\u8fb9\u754c\uff0c\u5373\u4e0d\u80fd\u5c06 <code>\\newline</code> \u5305\u542b\u5176\u4e2d\u3002\u56e0\u6b64\uff0c\u5f53\u7b80\u5355\u8bed\u53e5\u9700\u8981\u8de8\u8d8a\u591a\u4e2a\u7269\u7406\u884c\u65f6\uff0c\u9700\u8981\u4f7f\u7528\u8f6c\u4e49\u7b26<code>\\</code>\u5bf9\u5176\u4e2d\u7684 <code>\\newline</code>\u8fdb\u884c\u8f6c\u4e49\uff0c\u8fd9\u79f0\u4e3a\u663e\u5f0f\u884c\u8fde\u63a5\uff08Explicit line joining\uff09\uff1a</p> <pre><code>a = 3 + \\\n    4 + \\\n    5\na\n</code></pre> <pre><code>12\n</code></pre> <p>\u5f53<code>\\</code>\u7528\u4e8e\u7eed\u884c\u65f6\uff0c\u53ef\u80fd\u4f1a\u88ab\u79f0\u4e3a\u7eed\u884c\u7b26\uff0c\u4f46\u5982\u4e0a\u6240\u8ff0\uff0c<code>\\</code>\u672c\u8d28\u4e0a\u662f\u8f6c\u4e49\u7b26\u3002\u56e0\u6b64\uff0c<code>\\</code>\u7528\u4e8e\u4ee3\u7801\u7eed\u884c\u65f6\uff0c\u53cd\u659c\u6760\u540e\u9762\u4e0d\u80fd\u5e26\u6709\u6ce8\u91ca\uff0c\u6216\u5176\u4ed6\u5b57\u7b26\uff08\u9664\u975e<code>\\</code>\u4f4d\u4e8estring literal\u4e4b\u4e2d\uff09\u3002</p> <p><code>[]</code>,<code>{}</code>, \u6216<code>()</code>1\u4e4b\u4e2d\u7684\u8868\u8fbe\u5f0f\u53ef\u4ee5\u8de8\u8d8a\u591a\u4e2a\u7269\u7406\u884c\uff0c\u4e0d\u9700\u8981\u4f7f\u7528\u8f6c\u4e49\u7b26<code>\\</code>\uff0c\u8fd9\u79f0\u4e3a\u9690\u5f0f\u884c\u8fde\u63a5\uff08Implicit  line joining\uff09\u3002\u4f8b\u5982\uff1a</p> <pre><code>total = ['item_one', 'item_two', 'item_three',  # comment\n         'item_four', 'item_five']\ntotal\n</code></pre> <pre><code>['item_one', 'item_two', 'item_three', 'item_four', 'item_five']\n</code></pre> <p>\u9690\u5f0f\u7684\u8fde\u7eed\u884c\u53ef\u4ee5\u5e26\u6709\u5e26\u6709\u6ce8\u91ca\uff0c\u4ee3\u7801\u7684\u7f29\u8fdb\u4e5f\u4e0d\u662f\u8bed\u6cd5\u4e0a\u5fc5\u987b\u7684\uff0c\u8fd8\u5141\u8bb8\u5176\u4e2d\u5305\u62ec\u7a7a\u884c\u3002\u867d\u7136\u9690\u5f0f\u8fde\u7eed\u884c\u5b58\u5728\u6362\u884c\uff0c\u4f46\u5176\u4e2d\u5e76\u4e0d\u5305\u62ec <code>\\newline</code> token\u3002\u53e6\u5916\uff0c\u9690\u5f0f\u884c\u8fde\u63a5\u4e5f\u53ef\u4ee5\u51fa\u73b0\u5728\u591a\u884c\u5b57\u7b26\u4e32\u4e4b\u4e2d\uff0c\u6b64\u65f6\u4e0d\u80fd\u5e26\u6709\u6ce8\u91ca\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_6","title":"\u7a7a\u884c","text":"<p>\u7a7a\u884c\u4e0e\u7f29\u8fdb\u4e0d\u540c\uff0c\u7a7a\u884c\u5e76\u4e0d\u662fPython\u8bed\u6cd5\u7684\u4e00\u90e8\u5206\u3002 \u4ec5\u5305\u542b\u7a7a\u683c\u3001\u5236\u8868\u7b26\u3001\u6362\u9875\u7b26\u548c\u6ce8\u91ca\u7684\u903b\u8f91\u884c\u5c06\u88ab\u5ffd\u7565\uff0c\u5373\u4e0d\u751f\u6210 <code>\\newline</code> token\u3002\u4ee3\u7801\u6587\u4ef6\u4e2d\u4e0d\u5b58\u5728\u7a7a\u884c\uff0c\u8fd0\u884c\u65f6\u4e5f\u4e0d\u4f1a\u51fa\u9519\u3002\u4f46\u7a7a\u884c\u53ef\u7528\u4e8e\u5206\u9694\u4e24\u6bb5\u4e0d\u540c\u529f\u80fd\u6216\u542b\u4e49\u7684\u4ee3\u7801\uff0c\u8ba9\u4ee3\u7801\u7ed3\u6784\u770b\u8d77\u6765\u66f4\u6e05\u6670\uff0c\u4fbf\u4e8e\u7ef4\u62a4\u6216\u91cd\u6784\u3002\u6839\u636e PEP8 \u89c4\u8303\uff0c\u7c7b\u65b9\u6cd5\u4e4b\u95f4\u7528 1 \u884c\u7a7a\u884c\u5206\u9694\uff0c\u9876\u7ea7\u51fd\u6570\u3001\u7c7b\u4e4b\u95f4\u7528 2 \u884c\u7a7a\u884c\u5206\u9694\u3002</p> <p>\u5728\u4ea4\u4e92\u5f0f\u89e3\u91ca\u5668\u4e2d\uff0c\u7531\u4e8e\u9700\u8981\u5b9e\u73b0 read-eval-print loop\uff0c\u7a7a\u884c\u7684\u5904\u7406\u53ef\u80fd\u6709\u6240\u4e0d\u540c\u3002\u5728\u4ea4\u4e92\u5f0f\u89e3\u91ca\u5668\u8f93\u5165\u4ee3\u7801\u5757\u65f6\uff0c\u4e00\u4e2a\u5b8c\u5168\u7a7a\u767d\u7684\u7a7a\u884c\u7528\u4e8e\u7ec8\u6b62\u591a\u884c\u8bed\u53e5\u3002</p> <pre><code>In[1]: for i in range(2):\n  ...:     print(i)\n  ...:\n0\n1\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#print","title":"Print \u8f93\u51fa","text":"<p><code>print</code>\u51fd\u6570\u5c06\u5bf9\u8c61\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\uff0c\u9ed8\u8ba4\u5c06\u8fd9\u4e9b\u5b57\u7b26\u4e32\u8f93\u51fa\u5230 STDOUT\uff0c\u5e76\u4e14\u9ed8\u8ba4\u5728\u5b57\u7b26\u4e32\u672b\u5c3e\u6dfb\u52a0\u6362\u884c\u7b26\u3002\u5982\u679c\u4e0d\u60f3\u6362\u884c\u6253\u5370\uff0c\u9700\u8981\u66f4\u6539<code>print</code>\u51fd\u6570\u7684<code>end</code>\u53c2\u6570\uff1a</p> \u6362\u884c\u6253\u5370\u4e0d\u6362\u884c\u6253\u5370 <pre><code>print(\"a\")\nprint(\"b\")\n</code></pre> <pre><code>a\nb\n</code></pre> <pre><code>print(\"a\", end=\" \")\nprint(\"b\", end=\" \")\n</code></pre> <pre><code>a b\n</code></pre> <p>\u7a0b\u5e8f\u53ef\u80fd\u4f1a\u4ea7\u751f\u591a\u79cd\u8f93\u51fa\u3002\u867d\u7136 <code>print</code> \u51fd\u6570\u662f\u4e00\u4e2a\u65b9\u4fbf\u7684\u65b9\u5f0f\uff0c\u4f46\u901a\u5e38\u6211\u4eec\u4f1a\u4f7f\u7528\u66f4\u9ad8\u7ea7\u7684\u6280\u672f\u6765\u4ee3\u66ff\u5b83\uff1a</p> <ul> <li>\u57fa\u4e8e\u6587\u672c\u683c\u5f0f\u7684\u6587\u4ef6\u3002\u901a\u5e38\u4f7f\u7528 <code>print</code> \u51fd\u6570\u4e5f\u53ef\u4ee5\u5b8c\u6210\u3002</li> <li>PDF \u6216\u5176\u4ed6\u683c\u5f0f\u7684\u8f93\u51fa\u6587\u4ef6\u3002\u8fd9\u5c06\u9700\u8981\u4f7f\u7528\u5176\u4ed6 Python \u5e93\u6765\u751f\u6210\u8fd9\u4e9b\u683c\u5f0f\u3002</li> <li>\u9519\u8bef\u6d88\u606f\u3001\u8c03\u5f0f\u6d88\u606f\u548c\u65e5\u5fd7\u6587\u4ef6\u3002\u901a\u5e38\u4f7f\u7528 <code>logging</code> \u6a21\u5757\uff0c\u5076\u5c14\u4f7f\u7528 <code>print</code> \u51fd\u6570\u3002</li> </ul>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_7","title":"\u5bfc\u5165\u6a21\u5757","text":"<p>Python \u4f7f\u7528 <code>import</code> \u6216\u8005 <code>from...import</code> \u6765\u5bfc\u5165\u76f8\u5e94\u7684\u6a21\u5757\uff08module\uff09\u3002</p> <pre><code>import somemodule                                 \u5bfc\u5165\u6574\u4e2a\u6a21\u5757\nfrom somemodule import somefunction               \u5bfc\u5165\u67d0\u4e2a\u6a21\u5757\u7684\u67d0\u4e2a\u51fd\u6570\nfrom somemodule import func_1, func_2, class_1    \u5bfc\u5165\u67d0\u4e2a\u6a21\u5757\u7684\u591a\u4e2a\u51fd\u6570\u6216\u7c7b\nfrom somemodule import *                          \u5bfc\u5165\u67d0\u4e2a\u6a21\u5757\u7684\u5168\u90e8\u5b9a\u4e49\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_8","title":"\u5b57\u7b26\u8f6c\u4e49","text":"<p>\u5982\u679c\u8981\u5728\u5b57\u7b26\u4e32\u4e2d\u8f93\u5165\u4e00\u4e9b\u7279\u6b8a\u7684\u5b57\u7b26\uff08\u8fd9\u4e9b\u5b57\u7b26\u7279\u6b8a\u4e4b\u5904\u5728\u4e8e\u4e0d\u80fd\u901a\u8fc7\u952e\u76d8\u76f4\u63a5\u8f93\u5165\uff09\uff0c\u8fd9\u5c31\u9700\u8981\u201c\u8f6c\u4e49\u7b26\u201d\u3002\u6240\u8c13\u8f6c\u4e49\uff0c\u5c31\u662f\u4e0d\u91c7\u7528\u7b26\u53f7\u539f\u5148\u7684\u542b\u4e49\uff08\u5b57\u9762\u542b\u4e49\uff09\uff0c\u800c\u91c7\u7528\u53e6\u5916\u4e00\u542b\u4e49\u3002\u5728Pyhton\u4e2d\uff0c<code>\\</code>\u4ee3\u8868\u8f6c\u4e49\u7b26\u3002</p> <p>\u9664\u975e\u5b58\u5728 <code>r</code> \u524d\u7f00\uff0c\u5426\u5219\u5c06\u6839\u636e\u7c7b\u4f3c\u4e8e\u6807\u51c6C\u7684\u89c4\u5219\u6765\u89e3\u91ca string literals \u548c bytes literals \u4e2d\u7684\u8f6c\u4e49\u5e8f\u5217\u3002\u4ee5\u4e0b\u662fPython\u53ef\u8bc6\u522b\u7684\u8f6c\u4e49\u5e8f\u5217\uff1a</p> \u8f6c\u4e49\u5e8f\u5217 \u63cf\u8ff0 \u8f6c\u4e49\u5e8f\u5217 \u63cf\u8ff0 <code>\\newline</code> \u53cd\u659c\u6760\u548c\u6362\u884c\u7b26\u5c06\u88ab\u5ffd\u7565 <code>\\v</code> \u7eb5\u5411\u5236\u8868\u7b26 <code>\\\\</code> \u53cd\u659c\u6760 <code>\\t</code> \u6a2a\u5411\u5236\u8868\u7b26 <code>\\'</code> \u5355\u5f15\u53f7 <code>\\r</code> \u56de\u8f66\u7b26 <code>\\\"</code> \u53cc\u5f15\u53f7 <code>\\f</code> \u6362\u9875\u7b26 <code>\\a</code> \u8702\u9e23\u5668\u54cd\u94c33 <code>\\ooo</code> \u516b\u8fdb\u5236\u503c\u4e3a<code>ooo</code>\u7684\u5b57\u7b26\uff0c\u5982 <code>\\012</code> \u8868\u793a\u6362\u884c\uff0c<code>\\000</code> \u4e3a\u7a7a\u5b57\u7b26 <code>\\b</code> \u9000\u683c <code>\\xhh</code> \u5341\u516d\u8fdb\u5236\u503c\u4e3a<code>hh</code>\u5b57\u7b26\uff0c\u5982 <code>\\x0a</code> \u8868\u793a\u6362\u884c <code>\\n</code> \u6362\u884c\u7b26 <p>\u4ec5\u5728 string literals \u4e2d\u624d\u80fd\u88ab\u8bc6\u522b\u7684\u8f6c\u4e49\u5e8f\u5217\u4e3a\uff1a</p> \u8f6c\u4e49\u5e8f\u5217 \u63cf\u8ff0 <code>\\N{name}</code> Character named name in the Unicode database <code>\\uxxxx</code> Character with 16-bit hex value xxxx <code>\\Uxxxxxxxx</code> Character with 32-bit hex value xxxxxxxx <p>Python\u9ed8\u8ba4\u5c06<code>\\</code>\u4f5c\u4e3a\u8f6c\u4e49\u7b26\u5904\u7406\uff0c\u4f46\u6709\u65f6\u5019\u6211\u4eec\u60f3\u8f93\u5165\u7684\u662f\u53cd\u659c\u6760\u7b26\u53f7<code>\\</code>\uff0c\u4f8b\u5982\u8f93\u5165 windows \u7cfb\u7edf\u7684\u6587\u4ef6\u8def\u5f84\u3002\u6b64\u65f6\uff0c\u53ef\u4ee5\u5728\u53cd\u659c\u6760\u524d\u52a0\u4e0a\u8f6c\u4e49\u7b26<code>\\</code>\uff0c\u5373<code>\\\\</code>\u8868\u793a\u4e00\u4e2a\u53cd\u659c\u6760\u7b26\u53f7\u3002\u5982\u679c\u5b57\u7b26\u4e32\u5305\u542b\u4e86\u5f88\u591a\u53cd\u659c\u6760<code>\\</code>\uff0c\u8fd9\u6837\u505a\u5c31\u6bd4\u8f83\u9ebb\u70e6\u3002Python\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5316\u7684\u64cd\u4f5c\uff0cPyhon\u5141\u8bb8\u7528 <code>r\"\u5b57\u7b26\u4e32\u5185\u5bb9\"</code> \u8868\u793a <code>\"\u5b57\u7b26\u4e32\u5185\u5bb9\"</code> \u5185\u90e8\u7684\u5b57\u7b26\u9ed8\u8ba4\u4e0d\u8f6c\u4e49\uff1a</p> Normal String LiteralRaw String Literal <pre><code>print('\\\\\\t\\\\')\n</code></pre> <pre><code>\\       \\\n</code></pre> <pre><code>print(r'\\\\\\t\\\\')\n</code></pre> <pre><code>\\\\\\t\\\\\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_9","title":"\u53d8\u91cf\u4e0e\u5bf9\u8c61","text":"<p>\u4e0d\u6b63\u5f0f\u5730\uff0c\u7f16\u7a0b\u7684\u672c\u8d28\u5728\u4e8e\u64cd\u7eb5\u8ba1\u7b97\u673a\u7684 CPU \u548c RAM\u3002\u7f16\u7a0b\u8bed\u8a00\u672c\u8eab\u5c31\u662f CPU \u6307\u4ee4\u96c6\u7684\u62bd\u8c61\uff0c\u5b83\u4eec\u90fd\u63d0\u4f9b\u4e86\u5404\u81ea\u64cd\u4f5c\u5185\u5b58\u4e2d\u5143\u7d20\u7684\u65b9\u5f0f\u3002\u4e00\u822c\uff0c\u5728\u9ad8\u7ea7\u8bed\u8a00\u7f16\u7a0b\u4e2d\uff0c\u6211\u4eec\u4f1a\u901a\u8fc7\u64cd\u7eb5\u53d8\u91cf\u53bb\u64cd\u7eb5\u5185\u5b58\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u64cd\u7eb5\u5185\u5b58\u5730\u5740\uff0c\u56e0\u4e3a\u53d8\u91cf\u5c31\u4ee3\u8868\u4e86\u4e00\u5757\u5185\u5b58\u7a7a\u95f4\u3002\u5982\u679c\u662f OOP \u8303\u5f0f\u7684\u8bed\u8a00\uff0c\u53d8\u91cf\u5173\u8054\u4e86\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u5c31\u662f\u4e00\u5757\u5185\u5b58\u7a7a\u95f4\uff0c\u5373\u5bf9\u8c61\u4f5c\u4e3a\u5185\u5b58\u7a7a\u95f4\u7684\u62bd\u8c61\u3002\u5bf9\u8c61\u57fa\u4e8e\u7c7b\u521b\u5efa\uff0c\u7c7b\u5b9a\u4e49\u4e86\u8be5\u7c7b\u578b\u7684\u5bf9\u8c61\u9700\u8981\u5360\u7528\u591a\u5c11\u5185\u5b58\u7a7a\u95f4\uff0c\u50a8\u5b58\u5728\u5bf9\u8c61\u4e2d\u7684\u503c\u8be5\u5982\u4f55\u89e3\u91ca\uff0c\u4ee5\u53ca\u6709\u54ea\u4e9b\u65b9\u6cd54\u53ef\u4ee5\u7528\u6765\u64cd\u7eb5\u8be5\u5bf9\u8c61\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\u7c7b\u76f8\u5f53\u4e8e\u4e00\u4e2a\u6a21\u677f\uff0c\u5177\u6709\u76f8\u540c\u7ed3\u6784\u4ee5\u53ca\u76f8\u4f3c\u5904\u7406\u7684\u6570\u636e\u5c31\u53ef\u4ee5\u4f7f\u7528\u76f8\u540c\u7684\u6a21\u677f\u3002</p> <p>Python \u5b98\u65b9\u6587\u6863\u4f3c\u4e4e\u66f4\u559c\u6b22\u628a\u53d8\u91cf\u79f0\u4e3a name\uff08\u540d\u5b57\uff09\u3002\u540c\u65f6\uff0c\u53c8\u56e0\u4e3a Python \u4e2d\u7684\u53d8\u91cf\u540d\u5bf9\u5e94\u7684\u53d8\u91cf\u7c7b\u578b\u662f\u53ef\u4ee5\u968f\u65f6\u6539\u53d8\u7684\uff0c\u56e0\u6b64\u6709\u89c2\u70b9\u8ba4\u4e3a Python \u4e0d\u5b58\u5728\u53d8\u91cf\u8fd9\u4e2a\u6982\u5ff5\u3002\u4f46\u8fd9\u6837\u7684\u89c2\u70b9\u662f\u8352\u8c2c\u7684\uff0c\u5c31\u50cf\u5728\u8bf4\u56e0\u4e3a\u718a\u732b\u53eb\u505a\u718a\u732b\uff0c\u6240\u4ee5\u5b83\u4e0d\u662f\u718a\uff0c\u56e0\u4e3a\u9e35\u9e1f\u4e0d\u4f1a\u98de\uff0c\u6240\u4ee5\u5b83\u4e0d\u662f\u9e1f\u3002Python \u7684 name \u5c31\u662f\u53d8\u91cf\uff0c\u53ea\u4e0d\u8fc7 Python \u53d8\u91cf\u7684\u884c\u4e3a\u548c C\u3001C++\u3001Java \u8fd9\u4e9b\u7f16\u7a0b\u8bed\u8a00\u6709\u6240\u533a\u522b\u800c\u5df2\u3002\u5bf9\u4e8e\u6b64\u95ee\u9898\u7684\u5177\u4f53\u8ba8\u8bba\u53ef\u4ee5\u53c2\u8003\u300a1.3.\u57fa\u672c\u6982\u5ff5\u300b\u7684\u7b2c3\u8282\u3002\u5728\u672c\u7cfb\u5217\u7684\u6587\u7ae0\u4e2d\uff0c\u53d8\u91cf\u548c\u540d\u5b57\uff08name\uff09\u5177\u6709\u7b49\u540c\u7684\u5185\u6db5\uff1b\u53d8\u91cf\u503c\uff08\u53d8\u91cf\u7684\u503c\uff09\u548c\u5bf9\u8c61\uff08object\uff09\u5177\u6709\u7b49\u540c\u7684\u5185\u6db5\u3002</p> <p>Python\u7684\u53d8\u91cf\u4e0d\u9700\u8981\u58f0\u660e\u3001\u5b9a\u4e49\u548c\u521d\u59cb\u5316\uff0c\u53d8\u91cf\u4f1a\u5728\u8d4b\u503c\u65f6\u88ab\u521b\u5efa\u3002\u7f16\u8bd1\u5668\u6216\u89e3\u6790\u5668\u4e0d\u4f1a\u9759\u6001\u68c0\u67e5\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u53d8\u91cf\u7c7b\u578b\u5728\u8fd0\u884c\u65f6\u68c0\u67e5\uff0c\u4f8b\u5982\u4f7f\u7528<code>isinstance</code>\u51fd\u6570\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#objects","title":"Objects","text":"<p>\u6240\u6709 Python \u5bf9\u8c61\u90fd\u6709\uff1a</p> <ul> <li> <p>\u4e00\u4e2a\u60df\u4e00\u7684 identity\uff08\u7531<code>id(x)</code>\u8fd4\u56de\u7684\u4e00\u4e2a\u6574\u6570\uff0c\u6ce8\u610f\uff1aidentity \u4e0d\u662f identifier\uff09</p> </li> <li> <p>\u4e00\u4e2a\u7c7b\u578b\uff08\u7531<code>type(x)</code>\u8fd4\u56de\uff09</p> </li> <li> <p>\u4e00\u4e9b\u503c</p> </li> </ul> <p>\u5bf9\u8c61\u7684 identity \u65e0\u6cd5\u6539\u53d8\uff0c\u4e5f\u4e0d\u80fd\u6539\u53d8\u5bf9\u8c61\u7684\u7c7b\u578b\u3002</p> <p>Note</p> <p>CPython2.2\u53ca\u66f4\u65b0\u7684\u7248\u672c\u5141\u8bb8\u5728\u76f8\u5f53\u6709\u9650\u7684\u60c5\u51b5\u4e0b\u66f4\u6539\u5bf9\u8c61\u7684\u7c7b\u578b\u3002</p> <p>\u5728 Python \u4e2d\u3002\u4e00\u4e9b\u5bf9\u8c61\u5141\u8bb8\u4f60\u6539\u53d8\u5b83\u4eec\u7684\u503c\uff08\u5728\u4e0d\u6539\u53d8 identity \u548c type \u7684\u60c5\u51b5\u4e0b\uff09\uff0c\u8fd9\u79cd\u5bf9\u8c61\u88ab\u79f0\u4e3a mutable object\uff1b\u800c\u53e6\u4e00\u4e9b\u5bf9\u8c61\u4e0d\u5141\u8bb8\u4f60\u6539\u53d8\u5b83\u4eec\u7684\u503c\uff0c\u5b83\u4eec\u88ab\u79f0\u4e3a immutable object\u3002</p> <p>\u7c7b\u578b\u7531\u7c7b\u5bf9\u8c61\u8868\u793a\uff08\u7c7b\u5bf9\u8c61\u5f80\u5f80\u77e5\u9053\u7c7b\u7684\u5bf9\u8c61\u8981\u5360\u591a\u5c11\u5185\u5b58\uff0c\u6709\u4ec0\u4e48\u65b9\u6cd5\u7b49\u7b49\uff09\u3002</p> <p>\u4e00\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u6709\uff1a</p> <ul> <li>\u96f6\u4e2a\u6216\u591a\u4e2a\u65b9\u6cd5\uff08\u7531\u7c7b\u5bf9\u8c61\u63d0\u4f9b\uff09</li> <li>\u96f6\u4e2a\u6216\u591a\u4e2a\u540d\u5b57</li> </ul> <p>\u67d0\u4e9b\u5bf9\u8c61\u5177\u6709\u5141\u8bb8\u4f60\u66f4\u6539\u5bf9\u8c61\u5185\u5bb9\uff08\u5373\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\uff09\u7684\u65b9\u6cd5\u3002\u67d0\u4e9b\u5bf9\u8c61\u5177\u6709\u4ec5\u5177\u6709\u8bbf\u95ee\u5185\u5bb9\u800c\u4e0d\u66f4\u6539\u5185\u5bb9\u7684\u65b9\u6cd5\u3002\u4e00\u4e9b\u5bf9\u8c61\u6ca1\u6709\u4efb\u4f55\u65b9\u6cd5\u3002\u5373\u4f7f\u5bf9\u8c61\u5177\u6709\u65b9\u6cd5\uff0c\u4f60\u4e5f\u4e0d\u80fd\u6539\u53d8\u5b83\u4eec\u7684\u7c7b\u578b\u6216\u8005\u5185\u5b58\u5730\u5740\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#names","title":"Names","text":"<p>name \u4e0d\u662f object \u7684\u5c5e\u6027\uff0cobject \u5e76\u4e0d\u77e5\u9053\u5b83\u4eec\u7684 name\u3002</p> <ul> <li> <p>\u6240\u6709 name \u5728\u521b\u5efa\u65f6\u5fc5\u987b\u5173\u8054\uff08bind\uff09\u5230\u4e00\u4e2a object\uff0c\u5426\u5219\u5728\u9700\u8981\u5f15\u7528\u8be5 name \u65f6\u4f1a\u62a5\u9519\u3002</p> </li> <li> <p>name \u53ef\u4ee5\u5728\u521b\u5efa\u4ee5\u540e\u6307\u5411\u4efb\u4f55\u4e00\u4e2a object\uff08\u5305\u62ec\u4e0d\u540c\u7c7b\u578b\uff09\uff0c\u6240\u4ee5 name \u672c\u8eab\u6ca1\u6709\u7c7b\u522b\uff0c\u4f46 name \u5173\u8054\u7684 object \u662f\u6709\u7c7b\u522b\u7684\u3002</p> </li> <li> <p>\u53ef\u4ee5\u4f7f\u7528 <code>type(name)</code> \u6765\u67e5\u770b name \u5173\u8054\u7684 object \u7684\u7c7b\u578b\u3002</p> </li> <li> <p>\u4e00\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u5173\u8054\uff08bind\uff09\u591a\u4e2a\u540d\u5b57\uff0c\u4e5f\u53ef\u4ee5\u6ca1\u6709\u540d\u5b57\u3002</p> </li> <li> <p>name \u5b58\u5728\u4e8e namespace\uff08\u547d\u540d\u7a7a\u95f4\uff09\uff0c\u4f8b\u5982\u6a21\u5757\u547d\u540d\u7a7a\u95f4\u3001\u5b9e\u4f8b\u547d\u540d\u7a7a\u95f4\u3001\u51fd\u6570\u7684\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u7b49\u7b49\u3002</p> </li> </ul>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#assignment","title":"Assignment","text":"<p>Python \u4e5f\u6709 assignment \u8fd9\u4e2a\u6982\u5ff5\uff0c\u4f46\u5b83\u7684\u4e2d\u6587\u6216\u8bb8\u8bd1\u4e3a\u5206\u914d\u6216\u8005\u547d\u540d\u66f4\u4e3a\u6070\u5f53\uff0c\u56e0\u4e3a\u5728 Python\u4e2d\uff0cassignment \u8bed\u53e5\u4f1a\u6539\u52a8 namespace\uff0c\u800c\u4e0d\u662f\u6539\u52a8\u4e86 object\u3002</p> Attention<p>\u8fd9\u4e2a\u8bf4\u6cd5\u4e0d\u592a\u4e25\u8c28\uff0c\u56e0\u4e3a assignment \u53ef\u4ee5\u6539\u53d8 Python \u4e2d\u53ef\u53d8\u5bf9\u8c61\u7684\u503c\u3002</p> <p>assignment: assignments do not copy data \u2014 they just bind names to objects.</p> <p>\u6362\u800c\u8a00\u4e4b\uff0c\u4ee5\u4e0b assignment \u8bed\u53e5\u8868\u793a\u5c06\u540d\u79f0<code>a</code>\u6dfb\u52a0\u5230namespace\uff0c\u5e76\u4e14namespace\u7684<code>a</code>\u952e2\u6240\u5bf9\u5e94\u7684value\u4e3a10\u3002</p> <pre><code>a = 10\n</code></pre> <p>\u5982\u679c\u540d\u79f0\u5df2\u7ecf\u5b58\u5728\uff0cassignment\u8bed\u53e5\u5c06\u66ff\u6362\u539f\u59cb\u540d\u79f0\uff1a</p> <pre><code>a = 10\na = 20\n</code></pre> <p>\u8fd9\u610f\u5473\u7740\u9996\u5148\u8981\u5c06\u540d\u79f0<code>a</code>\u6dfb\u52a0\u5230namespace\uff0c\u5e76\u4f7f\u5176\u6307\u5411\u5305\u542b\u503c10\u7684\u6574\u6570\u5bf9\u8c61\u3002\u7136\u540e\u518d\u4f7f<code>a</code>\u5176\u6307\u5411\u5305\u542b\u503c20\u7684\u6574\u6570\u5bf9\u8c61\u3002\u539f\u6765\u7684\u6574\u6570\u5bf9\u8c6110\u4e0d\u53d7\u6b64\u64cd\u4f5c\u7684\u5f71\u54cd\u3002</p> <p>\u5982\u679c\u8fd9\u6837\u505a\uff1a</p> <pre><code>a = []\na.append\uff081\uff09\n</code></pre> <p>\u7b2c\u4e00\u6761\u8bed\u53e5\u5c06<code>a</code>\u5173\u8054\u5230\u4e00\u4e2a\u7a7a\u5217\u8868\u5bf9\u8c61\uff0c\u8fd9\u4f1a\u4fee\u6539\u547d\u540d\u7a7a\u95f4\uff0c\u7b2c\u4e8c\u6761\u8bed\u53e5\u4fee\u6539\u4e86\u8be5\u5217\u8868\u7684\u5185\u5bb9\uff0c\u8fd9\u5e76\u4e0d\u4f1a\u89e6\u53canamespace\u3002</p> <p>\u7efc\u4e0a\u6240\u8ff0\uff0cassignment statement \u5728 Python \u4e2d\u6709\u4e24\u4e2a\u4f5c\u7528\uff1a</p> <ol> <li>\u7528\u4e8e\uff08\u91cd\u65b0\uff09\u5c06\u540d\u79f0\u7ed1\u5b9a\u5230\u5bf9\u8c61</li> <li>\u4fee\u6539\u53ef\u53d8\u5bf9\u8c61\u7684\u5c5e\u6027\uff08\u5185\u5bb9\uff09</li> </ol>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_10","title":"\u5355\u5f15\u53f7\u4e0e\u53cc\u5f15\u53f7","text":"<p>Python \u6ca1\u6709 char \u7c7b\u578b\uff0c\u53ea\u6709 str \u7c7b\u578b\uff0c\u5355\u5f15\u53f7\u548c\u53cc\u5f15\u53f7\u90fd\u53ef\u4ee5\u7528\u6765\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\u4e32\uff1a</p> <pre><code>str1 = 'Python'\nstr2 = \"Python\"\n</code></pre> <p><code>str1</code> \u548c <code>str2</code> \u662f\u6ca1\u6709\u4efb\u4f55\u533a\u522b\u7684\u3002Python \u4ee5\u7b80\u6d01\u548c\u6613\u7528\u6027\u8457\u79f0\uff0c\u8fd9\u5e76\u4e0d\u662f\u4e00\u4e2a\u591a\u4f59\u7684\u8bbe\u8ba1\u3002</p> <p>\u5982\u679c\u5b57\u7b26\u4e32\u4e2d\u5e26\u6709\u5355\u5f15\u53f7\uff0c\u4f8b\u5982\uff1a</p> <p> We all know that 'A' and 'B' are two capital letters. </p> <p>\u82e5\u5355\u5f15\u53f7\u8868\u793a\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u4e3a\u4e86\u8868\u793a\u5b57\u7b26\u4e32\u4e2d\u7684\u5355\u5f15\u53f7\uff0c\u5219\u5fc5\u987b\u4f7f\u7528\u8f6c\u4e49\uff1a</p> <pre><code>string = 'We all know that \\'A\\' and \\'B\\' are two capital letters.'\n</code></pre> <p>\u663e\u7136\u592a\u591a\u7684\u8f6c\u4e49\u7b26\u770b\u8d77\u6765\u5e76\u4e0d\u597d\u770b\uff0c\u6b64\u65f6\u4f7f\u7528\u53cc\u5f15\u53f7\u8868\u793a\u5b57\u7b26\u4e32\u5219\u7f8e\u89c2\u5f97\u591a\uff1a</p> <pre><code>string = \"We all know that 'A' and 'B' are two capital letters.\"\n</code></pre> <p>\u540c\u7406\uff0c\u5982\u679c\u5b57\u7b26\u4e32\u4e2d\u5305\u542b\u4e86\u53cc\u5f15\u53f7\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528\u5355\u5f15\u53f7\u8868\u793a\u5b57\u7b26\u4e32\uff0c\u800c\u907f\u514d\u4f7f\u7528\u8f6c\u4e49\u7b26\uff1a</p> <p> \"There was a storm last night,\" Paul said. </p> <pre><code>string = '\"There was a storm last night,\" Paul said.'\n</code></pre> <p>\u8fd9\u5c31\u662fPython\u6613\u7528\u6027\u548c\u4eba\u6027\u5316\u7684\u4e00\u4e2a\u4f53\u73b0\uff0c\u4f7f\u7528\u5355\u5f15\u53f7<code>' '</code>\u5b9a\u4e49\u5b57\u7b26\u4e32\u65f6\uff0c\u5b83\u4f1a\u8ba4\u4e3a\u5b57\u7b26\u4e32\u4e2d\u7684\u53cc\u5f15\u53f7<code>\" \"</code>\u662f\u666e\u901a\u5b57\u7b26\uff0c\u4ece\u800c\u4e0d\u9700\u8981\u8f6c\u4e49\u3002\u53cd\u4e4b\u4ea6\u7136\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_11","title":"\u8fdb\u5236\u6570\u8868\u793a","text":"<p><code>0b</code>\u5f00\u5934\u8868\u793a\u4e8c\u8fdb\u5236\u6570\uff1a</p> <pre><code>0b10\n</code></pre> <pre><code>2\n</code></pre> <p><code>0o</code>\u5f00\u5934\u8868\u793a\u516b\u8fdb\u5236\u6570\uff1a</p> <pre><code>0o10\n</code></pre> <pre><code>8\n</code></pre> <p><code>0x</code>\u5f00\u5934\u8868\u793a\u5341\u516d\u8fdb\u5236\u6570\uff1a</p> <pre><code>0x10\n</code></pre> <pre><code>16\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#lambdas","title":"Lambdas","text":"<p>\u6b63\u5e38\u521b\u5efa\u51fd\u6570\uff08\u4f7f\u7528<code>def</code>\uff09\u4f1a\u81ea\u52a8\u5c06\u51fd\u6570\u5bf9\u8c61\u4e0e<code>def</code>\u540e\u9762\u7684\u540d\u5b57\u8fdb\u884c\u7ed1\u5b9a\uff0c\u8fd9\u4e0e\u521b\u5efa\u5176\u4ed6\u5bf9\u8c61\uff08\u4f8b\u5982\u5b57\u7b26\u4e32\u548c\u6574\u6570\uff09\u4e0d\u540c\uff0c\u540e\u8005\u53ef\u4ee5\u52a8\u6001\u521b\u5efa\uff0c\u800c\u65e0\u9700\u5c06\u5b83\u4eec\u5206\u914d\u7ed9\u540d\u5b57\u3002\u4f46\u53ea\u8981\u4f7f\u7528lambda\u8bed\u6cd5\u521b\u5efa\u51fd\u6570\uff0c\u51fd\u6570\u4e5f\u53ef\u4ee5\u8fd9\u6837\u505a\uff0c\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u521b\u5efa\u7684\u51fd\u6570\u79f0\u4e3a\u533f\u540d\uff08anonymous\uff09\u51fd\u6570\u3002\u5c06\u7b80\u5355\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u53e6\u4e00\u4e2a\u51fd\u6570\u65f6\uff0c\u6700\u5e38\u4f7f\u7528\u6b64\u65b9\u6cd5\u3002\u8bed\u6cd5\u5982\u4e0b\uff1a</p> <pre><code># my_func\u662f\u6b63\u5e38\u521b\u5efa\u7684\u51fd\u6570\uff08named function\uff09\ndef my_func(f, arg):\n    return f(arg)\n\nmy_func(lambda x: 2 * x * x, 5)\n</code></pre> <pre><code>50\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u52a8\u6001\u521b\u5efa\u4e86\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff0c\u5e76\u4f7f\u7528\u53c2\u6570\u8c03\u7528\u5b83\u3002Lambda\u51fd\u6570\u6ca1\u6709\u547d\u540d\u51fd\u6570\uff08named function\uff09\u90a3\u4e48\u5f3a\u5927\u3002Lambda\u51fd\u6570\u53ea\u80fd\u5305\u542b\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u901a\u5e38\u76f8\u5f53\u4e8e\u4e00\u884c\u4ee3\u7801\u3002\u5b9e\u9645\u4e0a\uff0cLambda\u51fd\u6570\u53ef\u4ee5\u5206\u914d\u7ed9\u4e00\u4e2a\u540d\u5b57\uff0c\u5e76\u50cf\u666e\u901a\u51fd\u6570\u4e00\u6837\u4f7f\u7528\u3002\u4f46\u662f\uff0c\u5f88\u5c11\u6709\u5145\u5206\u7684\u7406\u7531\u8fd9\u6837\u505a\u3002\u901a\u5e38\u4f7f\u7528<code>def</code>\u6765\u5b9a\u4e49\u51fd\u6570\u66f4\u597d\u3002</p> <pre><code>double = lambda x: x * 2\nprint(double(7))\n</code></pre> <pre><code>14\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_12","title":"\u8fd0\u7b97\u7b26","text":"\u7b97\u672f\u8fd0\u7b97\u7b26\u6bd4\u8f83\u8fd0\u7b97\u7b26\u8d4b\u503c\u8fd0\u7b97\u7b26\u6309\u4f4d\u8fd0\u7b97\u7b26\u903b\u8f91\u8fd0\u7b97\u7b26\u6210\u5458\u8fd0\u7b97\u7b26\u8eab\u4efd\u8fd0\u7b97\u7b26 \u8fd0\u7b97\u7b26 \u63cf\u8ff0 + \u52a0 - \u51cf * \u4e58 / \u9664 % \u53d6\u6a21 ** \u5e42 // \u53d6\u6574\u9664 \u8fd0\u7b97\u7b26 \u63cf\u8ff0 == \u7b49\u4e8e != \u4e0d\u7b49\u4e8e &gt; \u5927\u4e8e &lt; \u5c0f\u4e8e &gt;= \u5927\u4e8e\u7b49\u4e8e &lt;= \u5c0f\u4e8e\u7b49\u4e8e \u8fd0\u7b97\u7b26 \u63cf\u8ff0 = \u7b80\u5355\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26 += \u52a0\u6cd5\u8d4b\u503c\u8fd0\u7b97\u7b26 -= \u51cf\u6cd5\u8d4b\u503c\u8fd0\u7b97\u7b26 *= \u4e58\u6cd5\u8d4b\u503c\u8fd0\u7b97\u7b26 /= \u9664\u6cd5\u8d4b\u503c\u8fd0\u7b97\u7b26 %= \u53d6\u6a21\u8d4b\u503c\u8fd0\u7b97\u7b26 **= \u5e42\u8d4b\u503c\u8fd0\u7b97\u7b26 //= \u53d6\u6574\u9664\u8d4b\u503c\u8fd0\u7b97\u7b26 \u8fd0\u7b97\u7b26 \u63cf\u8ff0 &lt;&lt; \u5de6\u79fb\u8fd0\u7b97\u7b26\uff1a\u8fd0\u7b97\u6570\u7684\u5404\u4e8c\u8fdb\u4f4d\u5168\u90e8\u5de6\u79fb\u82e5\u5e72\u4f4d\uff0c\u7531<code>&lt;&lt;</code>\u53f3\u8fb9\u7684\u6570\u6307\u5b9a\u79fb\u52a8\u7684\u4f4d\u6570\uff0c\u9ad8\u4f4d\u4e22\u5f03\uff0c\u4f4e\u4f4d\u88650 &gt;&gt; \u53f3\u79fb\u8fd0\u7b97\u7b26\uff1a\u628a<code>&gt;</code>\u5de6\u8fb9\u7684\u8fd0\u7b97\u6570\u7684\u5404\u4e8c\u8fdb\u4f4d\u5168\u90e8\u53f3\u79fb\u82e5\u5e72\u4f4d\uff0c<code>&gt;&gt;</code>\u53f3\u8fb9\u7684\u6570\u6307\u5b9a\u79fb\u52a8\u7684\u4f4d\u6570 &amp; \u4e0e\u8fd0\u7b97\u7b26\uff1a\u53c2\u4e0e\u8fd0\u7b97\u7684\u4e24\u4e2a\u503c\uff0c\u5982\u679c\u4e24\u4e2a\u76f8\u5e94\u4f4d\u90fd\u4e3a1\uff0c\u5219\u8be5\u4f4d\u7684\u7ed3\u679c\u4e3a1\uff0c\u5426\u5219\u4e3a0 | \u6216\u8fd0\u7b97\u7b26\uff1a\u53ea\u8981\u5bf9\u5e94\u7684\u4e8c\u4e2a\u4e8c\u8fdb\u4f4d\u6709\u4e00\u4e2a\u4e3a1\u65f6\uff0c\u7ed3\u679c\u4f4d\u5c31\u4e3a1 ^ \u5f02\u6216\u8fd0\u7b97\u7b26\uff1a\u5f53\u4e24\u5bf9\u5e94\u7684\u4e8c\u8fdb\u4f4d\u76f8\u5f02\u65f6\uff0c\u7ed3\u679c\u4e3a1 ~ \u53d6\u53cd\u8fd0\u7b97\u7b26\uff1a\u5bf9\u6570\u636e\u7684\u6bcf\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u53d6\u53cd\uff0c\u5373\u628a1\u53d8\u4e3a0\uff0c\u628a0\u53d8\u4e3a1\u3002<code>~x</code> \u7c7b\u4f3c\u4e8e <code>-x-1</code> <p>\u5de6\u79fb\u548c\u53f3\u79fb\u7684\u610f\u601d\u5c31\u662f\u628a\u4f4d\u6570\u6574\u4f53\u5411\u5de6\u6216\u8005\u5411\u53f3\u79fb\u52a8\u82e5\u5e72\u4f4d\u3002\u6bd4\u59821111\u5411\u53f3\u79fb\u4e00\u4f4d\u5c31\u53d8\u6210\u4e860111\uff0c\u539f\u6765\u6ca1\u6709\u7684\u4f4d\u81ea\u52a8\u586b0\uff0c\u8d85\u51fa\u8303\u56f4\u7684\u4f4d\u820d\u5f03\u6389\u3002\u770b\u51e0\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>bin(0b1111 &gt;&gt; 1)\n</code></pre> <pre><code>'0b111'\n</code></pre> <pre><code>bin(0b1010 &lt;&lt; 2)\n</code></pre> <pre><code>'0b101000'\n</code></pre> <p>\u5bf9\u4e8e\u5168\u90e8\u7684\u6309\u4f4d\u8fd0\u7b97\u7b26\uff0c\u5982\u679c\u4f7f\u7528\u5341\u8fdb\u5236\uff08\u6216\u8005\u5176\u4ed6\u8fdb\u5236\u6570\uff09\uff0c\u4e5f\u662f\u5bf9\u5176\u4e8c\u8fdb\u5236\u5f62\u5f0f\u8fdb\u884c\u79fb\u4f4d\uff1a</p> <pre><code>print(0b1111 is 15)\nbin(15 &gt;&gt; 1)\n</code></pre> <pre><code>True\n&lt;&gt;:1: SyntaxWarning: \"is\" with a literal. Did you mean \"==\"?\n&lt;&gt;:1: SyntaxWarning: \"is\" with a literal. Did you mean \"==\"?\n&lt;ipython-input-1-fec78c7dc2ab&gt;:1: SyntaxWarning: \"is\" with a literal.\nDid you mean \"==\"?\n  print(0b1111 is 15)\n</code></pre> <pre><code>'0b111'\n</code></pre> <p>\u5176\u4ed6\u6309\u4f4d\u8fd0\u7b97\u7b26\u7684\u4f8b\u5b50\uff1a</p> <pre><code>print(bin(0b1111 &amp; 0b1010))\nprint(bin(0b1111 | 0b1010))\nprint(bin(0b1111 ^ 0b1010))\nprint(bin(~0b1010), bin(-0b1010-1))\n</code></pre> <pre><code>0b1010\n0b1111\n0b101\n-0b1011 -0b1011\n</code></pre> \u8fd0\u7b97\u7b26 \u903b\u8f91\u8868\u8fbe\u5f0f \u63cf\u8ff0 and x and y x\u3001y\u540c\u65f6\u4e3a\u771f\uff0c\u5219\u7ed3\u679c\u4e3a\u771f\uff0c\u5426\u5219\u4e3a\u5047 or x or y x\u3001y\u4e24\u8005\u6709\u4e00\u4e2a\u4e3a\u771f\uff0c\u5219\u7ed3\u679c\u4e3a\u771f\uff0c\u5426\u5219\u4e3a\u5047 not not x x\u4e3a\u771f\uff0c\u7ed3\u679c\u4e3a\u5047\uff1bx\u4e3a\u5047\uff0c\u7ed3\u679c\u4e3a\u771f <p>\u5e03\u5c14\u8fd0\u7b97\u7b26\u6709\u4e2a\u6709\u8da3\u7684\u7279\u5f81\uff1a\u53ea\u505a\u5fc5\u8981\u7684\u8ba1\u7b97\u3002</p> <p>\u4f8b\u5982\uff0c\u4ec5\u5f53<code>x</code>\u548c<code>y</code>\u90fd\u4e3a\u771f\u65f6\uff0c\u8868\u8fbe\u5f0f<code>x and y</code>\u30aa\u4e3a\u771f\u3002\u56e0\u6b64\u5982\u679c<code>x</code>\u4e3a\u5047\uff0c\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u5c06\u7acb\u5373\u8fd4\u56de\u5047\uff0c\u800c\u4e0d\u5173\u5fc3<code>y</code>\u3002\u5b9e\u9645\u4e0a\uff0c\u5982\u679c<code>x</code>\u4e3a\u5047\uff0c\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u5c06\u8fd4\u56de<code>x</code>\uff0c\u5426\u5219\u8fd4\u56de<code>y</code>\u3002</p> <p>\u8fd9\u79cd\u884c\u4e3a\u79f0\u4e3a\u77ed\u8def\u903b\u8f91\uff08\u6216\u8005\u5ef6\u8fdf\u6c42\u503c\uff09\uff1a\u5e03\u5c14\u8fd0\u7b97\u7b26\u5e38\u88ab\u79f0\u4e3a\u903b\u8f91\u8fd0\u7b97\u7b26\u3002</p> <p>\u5bf9\u4e8e\u8fd0\u7b97\u7b26<code>or</code>\uff0c\u60c5\u51b5\u4ea6\u5982\u6b64\u3002\u5728\u8868\u8fbe\u5f0f<code>x or y</code>\u4e2d\uff0c\u5982\u679c<code>x</code>\u4e3a\u771f\uff0c\u5c31\u8fd4\u56de<code>x</code>\uff0c\u5426\u5219\u8fd4\u56de<code>y</code>\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u8fd9\u610f\u5473\u7740\u4f4d\u4e8e\u5e03\u5c14\u8fd0\u7b97\u7b26\u540e\u9762\u7684\u4ee3\u7801\uff08\u5982\u51fd\u6570\u8c03\u7528\uff09\u53ef\u80fd\u6839\u672c\u4e0d\u4f1a\u6267\u884c\u3002\u50cf\u4e0b\u9762\u8fd9\u6837\u7684\u4ee3\u7801\u5c31\u5229\u7528\u4e86\u8fd9\u79cd\u884c\u4e3a</p> <pre><code>name = input('Please enter your name:') or '&lt;unknown&gt;'\n</code></pre> <p>\u5982\u679c\u6ca1\u6709\u8f93\u5165\u540d\u5b57\uff0c\u4e0a\u8ff0<code>or</code>\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u5c06\u4e3a<code>'&lt; unknown&gt;'</code>\u3002</p> <p>\u5728\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u5b81\u613f\u4f7f\u7528\u6761\u4ef6\u8868\u8fbe\u5f0f\uff0c\u800c\u4e0d\u800d\u8fd9\u6837\u7684\u77ed\u8def\u82b1\u6837\uff0c\u56e0\u4e3a\u8fc7\u591a\u7684\u77ed\u8def\u903b\u8f91\u53ef\u80fd\u4f1a\u8ba9\u4ee3\u7801\u903b\u8f91\u53d8\u5f97\u9690\u6666\uff0c\u66f4\u5bb9\u6613\u51fa\u9519\u3002 \u4e0d\u8fc7\u524d\u9762\u8fd9\u6837\u7684\u8bed\u53e5\u786e\u5b9e\u6709\u5176\u7528\u6b66\u4e4b\u5730\u3002</p> \u8fd0\u7b97\u7b26 \u63cf\u8ff0 in \u5982\u679c\u5728\u6307\u5b9a\u7684\u5e8f\u5217\u4e2d\u627e\u5230\u503c\u8fd4\u56de True\uff0c\u5426\u5219\u8fd4\u56de False not in \u5982\u679c\u5728\u6307\u5b9a\u7684\u5e8f\u5217\u4e2d\u6ca1\u6709\u627e\u5230\u503c\u8fd4\u56de True\uff0c\u5426\u5219\u8fd4\u56de False \u8fd0\u7b97\u7b26 \u63cf\u8ff0 \u5b9e\u4f8b is is \u662f\u5224\u65ad\u4e24\u4e2a\u6807\u8bc6\u7b26\u662f\u4e0d\u662f\u5f15\u7528\u81ea\u4e00\u4e2a\u5bf9\u8c61 x is y, \u7c7b\u4f3c <code>id(x) == id(y)</code> , \u5982\u679c\u5f15\u7528\u7684\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61\u5219\u8fd4\u56de True\uff0c\u5426\u5219\u8fd4\u56de False is not is not \u662f\u5224\u65ad\u4e24\u4e2a\u6807\u8bc6\u7b26\u662f\u4e0d\u662f\u5f15\u7528\u81ea\u4e0d\u540c\u5bf9\u8c61 x is not y \uff0c \u7c7b\u4f3c <code>id(a) != id(b)</code>\u3002\u5982\u679c\u5f15\u7528\u7684\u4e0d\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61\u5219\u8fd4\u56de\u7ed3\u679c True\uff0c\u5426\u5219\u8fd4\u56de False"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.1.Python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html#_13","title":"\u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7","text":"<p>\u6570\u503c\u8d8a\u5927\uff0c\u4f18\u5148\u7ea7\u8d8a\u9ad8\u3002\u5177\u6709\u76f8\u540c\u4f18\u5148\u7ea7\u7684\u8fd0\u7b97\u7b26\u5c06\u4ece\u5de6\u81f3\u53f3\u7684\u65b9\u5f0f\u4f9d\u6b21\u8fdb\u884c\u3002\u7528\u5c0f\u62ec\u53f7<code>()</code>\u53ef\u4ee5\u6539\u53d8\u8fd0\u7b97\u987a\u5e8f\u3002</p> \u8fd0\u7b97\u7b26 \u63cf\u8ff0 \u4f18\u5148\u7ea7 {key:value, ...} \u5b57\u5178\u663e\u793a 16 [...] \u5217\u8868\u663e\u793a 16 (...) \u5c06\u8868\u8fbe\u5f0f\u7528\u62ec\u53f7\u62ec\u8d77\u6216\u5143\u7ec4\u663e\u793a 16 x[index]\u3001x[index1:index2]\u3001f(args...)\u3001x.attribute \u5143\u7d20\u8bbf\u95ee\u3001\u5207\u7247\u3001\u51fd\u6570\u8c03\u7528\u3001\u5c5e\u6027\u5f15\u7528 15 ** \u5e42\u8fd0\u7b97 14 ~ \u6309\u4f4d\u6c42\u8865 13 *\u3001/\u3001//\u3001%\u3001@ \u4e58\u3001\u9664\u3001\u53d6\u6574\u3001\u53d6\u6a21 12 +\u3001- \u52a0\u3001\u51cf 11 &lt;&lt;\u3001&gt;&gt; \u5de6\u79fb\u4f4d\u3001\u53f3\u79fb\u4f4d 10 &amp; \u6309\u4f4d\u4e0e 9 ^ \u6309\u4f4d\u5f02\u6216 8 | \u6309\u4f4d\u6216 7 &lt;\u3001&lt;=\u3001&gt;\u3001&gt;=\u3001==\u3001!= \u6bd4\u8f83\u8fd0\u7b97\u7b26 6 is\u3001is not \u8eab\u4efd\u8fd0\u7b97\u7b26 6 in\u3001not in \u6210\u5458\u8fd0\u7b97\u7b26 6 not \u903b\u8f91\u8fd0\u7b97\u7b26 5 and \u903b\u8f91\u8fd0\u7b97\u7b26 4 or \u903b\u8f91\u8fd0\u7b97\u7b26 3 if - else \u6761\u4ef6\u8868\u8fbe\u5f0f 2 lambda Lambda \u8868\u8fbe\u5f0f 1 <ol> <li> <p>\u5305\u62ec\u51fd\u6570\u3001\u7c7b\u7684\u5b9a\u4e49\u3002\u00a0\u21a9</p> </li> <li> <p>\u76ee\u524dPython\u7684\u547d\u540d\u7a7a\u95f4\u4f7f\u7528\u5b57\u5178\u5b9e\u73b0\uff0c\u4f46\u65e5\u540e\u53ef\u80fd\u4f1a\u6539\u53d8\u3002\u00a0\u21a9</p> </li> <li> <p>\u73b0\u5728\u7684\u8ba1\u7b97\u673a\u5f88\u591a\u90fd\u4e0d\u5e26\u8702\u9e23\u5668\u4e86\uff0c\u6240\u4ee5\u54cd\u94c3\u4e0d\u4e00\u5b9a\u6709\u6548\u3002\u00a0\u21a9</p> </li> <li> <p>\u8fd9\u4e9b\u65b9\u6cd5\u53ef\u89c6\u4e3a CPU \u7684\u62bd\u8c61\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.10.%E8%B5%8B%E5%80%BC%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D.html","title":"2.10.\u8d4b\u503c\u4e0e\u6df1\u62f7\u8d1d","text":"<p>\u4f5c\u4e3a\u52a8\u6001\u68c0\u67e5\u7684\u8bed\u8a00\uff0cPython\u53d8\u91cf\u7684\u884c\u4e3a\u4e0e\u9759\u6001\u68c0\u67e5\u7684\u8bed\u8a00\u6709\u6240\u4e0d\u540c\uff0c\u7531\u6b64\u5e26\u6765\u4e00\u4e9b\u8bef\u89e3\u3002\u8fd9\u4e00\u7ae0\u4f1a\u89e3\u91ca Python \u8d4b\u503c\u65f6\u4e00\u4e9b\u5e38\u89c1\u7684\u8bef\u89e3\u6216\uff08\u9519\u8bef\u7684\uff09\u795e\u8bdd\uff0c\u4ee5\u53ca\u8bf4\u660e\u4f7f\u7528mutable\u5bf9\u8c61\u8d4b\u503c\u65f6\uff0c\u6d45\u62f7\u8d1d\u548c\u6df1\u62f7\u8d1d\u7684\u4e0d\u540c\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.10.%E8%B5%8B%E5%80%BC%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D.html#_1","title":"\u8d4b\u503c","text":"<p>\u5f15\u7528\uff08reference\uff09\uff1a\u4e00\u4e2a\u53ef\u4ee5\u8ba9\u7a0b\u5f0f\u95f4\u63a5\u5b58\u53d6\u4e8e\u7535\u8111\u8bb0\u5fc6\u4f53\u6216\u5176\u4ed6\u50a8\u5b58\u88c5\u7f6e\u4e2d\u4e00\u7279\u5b9a\u8d44\u6599\u7684\u503c\u3002</p> <p>\u4e00\u822c\u800c\u8a00\uff0c\u5f15\u7528\u4f1a\u662f\u8d44\u6599\u50a8\u5b58\u4e8e\u8bb0\u5fc6\u4f53\u6216\u50a8\u5b58\u88c5\u7f6e\u4e2d\u7684\u5b9e\u4f53\u4f4d\u5740 \u3002\u56e0\u6b64\uff0c\u5f15\u7528\u4ea6\u5e38\u88ab\u79f0\u4e3a\u8be5\u8d44\u6599\u7684\u6307\u6807\u6216\u4f4d\u5740\u3002</p> <p>Python \u7684\u8d4b\u503c\u90fd\u662f\u4f20\u5f15\u7528\uff0c\u5373 name \u662f value \u7684\u5f15\u7528\u3002 </p> <p>Python \u53d8\u91cf\u4fdd\u5b58\u7684\u503c\u662f\u67d0\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\u3002Python \u8d4b\u503c\u8bed\u53e5\u5c06\u5de6\u4fa7\u7684\u7b26\u53f7\u540d\u79f0\u4e0e\u53f3\u4fa7\u7684\u503c\u76f8\u5173\u8054\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8e Python\uff0c\u6211\u4eec\u8bf4\u540d\u79f0\u5f15\u7528\u503c\uff0c\u6216\u8005\u540d\u79f0\u662f\u5bf9\u503c\u7684\u5f15\u7528\u3002\u5f53\u4e00\u4e2a\u503c\u4e0e\u540d\u79f0\u7ed1\u5b9a\u540e\uff0c\u518d\u6b21\u4f7f\u7528\u8be5\u540d\u79f0\uff0c\u4fbf\u5f97\u5230\u4e0e\u540d\u79f0\u76f8\u5173\u8054\u7684\u503c\u3002</p> <p>assignment \u6c38\u8fdc\u4e0d\u4f1a\u590d\u5236\u6570\u636e\uff0c\u5e76\u4e14\u591a\u503c\u5177\u6709\u591a\u4e2a\u540d\u79f0\u65f6\uff0c\u5f88\u5bb9\u6613\u6df7\u6dc6\u5e76\u5c06\u5176\u89c6\u4e3a\u4e24\u4e2a\u540d\u79f0\u548c\u4e24\u4e2a\u503c\u3002\u591a\u4e2a name \u53ef\u4ee5\u5f15\u7528\u540c\u4e00\u4e2a value\u3002</p> <p>\u5f53\u503c\u5177\u6709\u591a\u4e2a\u540d\u79f0\u65f6\uff0c\u5f88\u5bb9\u6613\u6df7\u6dc6\u5e76\u5c06\u5176\u89c6\u4e3a\u4e24\u4e2a\u540d\u79f0\u548c\u4e24\u4e2a\u503c\u3002</p> <pre><code>x = 23\ny = x\n</code></pre> <p></p> <p>\u5b9e\u9645\u4e0a\uff0c\u5c06\u5df2\u6709\u7684\u53d8\u91cf\u8d4b\u503c\u7ed9\u65b0\u53d8\u91cf\u65f6\uff0cPython\u6c38\u8fdc\u4e0d\u4f1a\u590d\u5236\u503c\u3002\u5206\u914d\u53ea\u662f\u4f7f\u5de6\u4fa7\u7684\u540d\u79f0\u5f15\u7528\u53f3\u4fa7\u7684\u503c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ea\u6709\u4e00\u4e2a23\uff0c<code>x</code>\u548c<code>y</code>\u90fd\u5f15\u7528\u5b83\uff0c\u5c31\u50cf\u6211\u4eec\u5728\u4e0a\u56fe\u4e2d\u770b\u5230\u7684\u90a3\u6837\u3002</p> <p>\u540d\u79f0\u662f\u72ec\u7acb\u4e8e\u5176\u4ed6\u540d\u79f0\u91cd\u65b0\u5206\u914d\u7684\u3002</p> <p>\u5982\u679c\u4e24\u4e2a\u540d\u79f0\u5f15\u7528\u76f8\u540c\u7684\u503c\uff0c\u5219\u4e0d\u4f1a\u94fe\u63a5\u8fd9\u4e24\u4e2a\u540d\u79f0\u3002\u91cd\u65b0\u5206\u914d\u5176\u4e2d\u4e00\u4e2a\u4e0d\u4f1a\u5bfc\u81f4\u53e6\u4e00\u4e2a\u4e5f\u88ab\u91cd\u65b0\u5206\u914d\uff1a</p> <pre><code>x = 23\ny = x\nx = 12\n</code></pre> <p>\u5982\u679c\u4e0a\u9762\u5d4c\u5165\u7684\u7f51\u9875\u5931\u6548\uff0c\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u52a8\u56fe\uff1a</p> <p></p> <p>\u503c\u4e00\u76f4\u5b58\u5728\uff0c\u76f4\u5230\u6ca1\u6709\u540d\u79f0\u5f15\u7528\u5b83\u3002</p> <p>Python \u4f1a\u8ddf\u8e2a\u6bcf\u4e2a\u503c\u6709\u591a\u5c11\u5f15\u7528\uff0c\u5e76\u81ea\u52a8\u6e05\u9664\u6ca1\u6709\u5f15\u7528\u7684\u503c\u3002\u8fd9\u88ab\u79f0\u4e3a\u201c\u5783\u573e\u6536\u96c6\u201d\uff0c\u610f\u5473\u7740\u4f60\u4e0d\u5fc5\u6e05\u695a\u503c\uff0c\u5f53\u5b83\u4eec\u4e0d\u518d\u9700\u8981\u65f6\u5b83\u4eec\u4f1a\u81ea\u884c\u6d88\u5931\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.10.%E8%B5%8B%E5%80%BC%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D.html#mutable-immutable","title":"mutable \u548c immutable","text":"<p>Python\u7684\u6570\u636e\u7c7b\u578b\u53ef\u4ee5\u5206\u4e3a\u539f\u5b50\u7c7b\u578b\u548c\u5bb9\u5668\u7c7b\u5668\uff1a</p> <p>\u539f\u5b50\u7c7b\u578b\uff1astring\u3001number</p> <p>\u5bb9\u5668\u7c7b\u578b\uff1alist\u3001tuple\u3001dict\u3001set</p> <p>\u539f\u5b50\u7c7b\u578b\u53ea\u80fd\u4fdd\u5b58\u4e00\u4e2a\u503c\uff1b\u5bb9\u5668\u7c7b\u578b\u5219\u53ef\u4ee5\u4fdd\u5b58\u591a\u4e2a\u503c\u3002</p> <p>\u867d\u7136 string \u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u5b57\u7b26\uff0c\u4f46 Python \u4e2d\u6ca1\u6709\u5b57\u7b26\u7c7b\u578b\uff0c\u56e0\u6b64\u5b57\u7b26\u4e32\u4e5f\u5c5e\u4e8e\u539f\u5b50\u7c7b\u578b\u3002</p> <p>Python \u5bf9\u539f\u5b50\u7c7b\u578b\u548c\u5bb9\u5668\u7c7b\u578b\u7684\u8d4b\u503c\u65b9\u5f0f\u90fd\u662f\u4e00\u6837\u7684\uff1a</p> <ul> <li>\u5bf9\u4e8e\u539f\u5b50\u7c7b\u578b\uff0cname \u76f4\u63a5\u6307\u5411 object</li> </ul> <p></p> <ul> <li>\u5bf9\u4e8e\u5bb9\u5668\u7c7b\u5668\uff0cname\u6307\u5411\u5bb9\u5668\u7c7b\u578b\u5bf9\u8c61\uff0c\u5bb9\u5668\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u6307\u5411\u5404\u4e2a\u5143\u7d20\u5bf9\u8c61</li> </ul> <p></p> <p>Python\u7684\u6570\u636e\u7c7b\u578b\u8fd8\u53ef\u4ee5\u5206\u4e3a immutable \u548c mutable\uff1a</p> <ul> <li>immutable object : string\u3001tuple\u3001number</li> <li>mutable object : list\u3001dict\u3001set</li> </ul> <p>\u6240\u8c13\u7684 mutable\u3001immutable \u662f\u6307 name \u6307\u5411\u7684 object \u53ef\u4e0d\u53ef\u4ee5\u5728\u539f\u5730\u5740\u88ab\u4fee\u6539\u3002\u5982\u679c\u4e0d\u53ef\u4ee5\u5728\u539f\u5730\u5740\u4fee\u6539\uff0c\u5c31\u53ea\u80fd\u5728\u65b0\u5730\u5740\u521b\u5efa\u65b0\u5bf9\u8c61\uff0cname \u6307\u5411\u65b0\u5bf9\u8c61\uff08\u65e7\u5bf9\u8c61\u82e5\u6ca1\u6709\u5f15\u7528\uff0c\u5219\u4f1a\u88ab\u5185\u5b58\u56de\u6536\u673a\u5236\u9500\u6bc1\uff09\uff1a</p> <p></p> <pre><code>name = 10\nprint(\"name\u7684id\uff1a\", id(name))\nname = 20\nprint(\"name\u7684id\uff1a\", id(name))\n</code></pre> <pre><code>name\u7684id\uff1a 139847945554512\nname\u7684id\uff1a 139847945554832\n</code></pre> <p>\u5982\u679c\u53ef\u4ee5\u5728\u539f\u5730\u5740\u88ab\u4fee\u6539\uff0c\u90a3\u4e48 name \u7684\u6307\u5411\u5c31\u4e0d\u4f1a\u6539\u53d8\uff08\u5bb9\u5668\u7c7b\u578b\u7684\u5bf9\u8c61\u5b9e\u9645\u4e0a\u4fdd\u5b58\u7684\u662f\u5143\u7d20\u7684\u5f15\u7528\uff09\uff1a</p> <p></p> <pre><code>name = [1, 2, 3, 4, 5]\nprint(\"name\u7684\u503c:\", name, \"  \", \"name\u7684id\uff1a\", id(name))\nfor num,i in enumerate(name):\n    print(f\"\u7b2c{num}\u4e2a\u5143\u7d20\u7684id\", id(i))\n\nname[0] = 20\nprint(\"name\u7684\u503c:\", name, \"  \", \"name\u7684id\uff1a\", id(name))\nfor num,i in enumerate(name):\n    print(f\"\u7b2c{num}\u4e2a\u5143\u7d20\u7684id\", id(i))\n</code></pre> <pre><code>name\u7684\u503c: [1, 2, 3, 4, 5]    name\u7684id\uff1a 139847088211712\n\u7b2c0\u4e2a\u5143\u7d20\u7684id 139847945554224\n\u7b2c1\u4e2a\u5143\u7d20\u7684id 139847945554256\n\u7b2c2\u4e2a\u5143\u7d20\u7684id 139847945554288\n\u7b2c3\u4e2a\u5143\u7d20\u7684id 139847945554320\n\u7b2c4\u4e2a\u5143\u7d20\u7684id 139847945554352\nname\u7684\u503c: [20, 2, 3, 4, 5]    name\u7684id\uff1a 139847088211712\n\u7b2c0\u4e2a\u5143\u7d20\u7684id 139847945554832\n\u7b2c1\u4e2a\u5143\u7d20\u7684id 139847945554256\n\u7b2c2\u4e2a\u5143\u7d20\u7684id 139847945554288\n\u7b2c3\u4e2a\u5143\u7d20\u7684id 139847945554320\n\u7b2c4\u4e2a\u5143\u7d20\u7684id 139847945554352\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.10.%E8%B5%8B%E5%80%BC%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D.html#immutable","title":"immutable \u7684\u672c\u8d28","text":"<p>\u795e\u8bdd\uff1aPython \u4ee5\u4e0d\u540c\u7684\u65b9\u5f0f\u5206\u914d\u53ef\u53d8\u548c\u4e0d\u53ef\u53d8\u7684\u503c\u3002</p> <p>\u56e0\u4e3a mutable \u5bf9\u8c61\u662f\u53ef\u53d8\u7684\uff0cimmutable\u5bf9\u8c61\u4e0d\u53ef\u53d8\uff0c\u4eba\u4eec\u53ef\u80fd\u4f1a\u89c9\u5f97 mutable \u5bf9\u8c61\u548c immutable\u5bf9\u8c61\u7684\u503c\u5206\u914d\u65b9\u5f0f\u4e0d\u4e00\u6837\u3002\u4f46\u4e8b\u5b9e\u4e0a\uff0cmutable \u5bf9\u8c61\u548c immutable \u5bf9\u8c61\u6240\u6709\u7684\u8d4b\u503c\u7684\u65b9\u5f0f\u90fd\u662f\u4e00\u6837\u7684\u3002</p> <p>mutable\u3001immutable \u53ea\u662f Python \u8bed\u8a00\u7684\u4e00\u4e2a\u89c4\u5b9a\u3002 \u4ece\u786c\u4ef6\u89d2\u5ea6\u8bf4\uff0c\u786c\u4ef6\u63d0\u4f9b\u7ed9\u7528\u6237\u7684\u63a5\u53e3\u662f\u6309\u7167\u89c4\u5b9a\u8bbe\u5b9a\u597d\u7684\u3002\u6bd4\u5982\u8bf4\uff0c\u64cd\u4f5c\u5185\u5b58\u7684\u65b9\u5f0f\u662f\u56fa\u5b9a\u7684\uff0c\u4e0d\u5b58\u5728\u53ef\u53d8\u548c\u4e0d\u53ef\u53d8\u3002\u5b9e\u73b0 Python \u7684 mutable\u3001immutable \u5c31\u662f\u8c03\u7528\u4e86\u4e0d\u540c\u7684\u5e95\u5c42API\uff0c\u6216\u8005\u662f\u4e0d\u540c\u5e95\u5c42API\u76f8\u4e92\u7ec4\u5408\u6765\u5b9e\u73b0\u7684\u3002Python \u5c06\u8fd9\u4e9b\u89c4\u5b9a\u4ee5 Python \u8bed\u6cd5\u7684\u5f62\u5f0f\u63d0\u4f9b\u7ed9\u7528\u6237\u4f7f\u7528\uff0c\u6700\u540e\u8fd8\u662f\u7f16\u8bd1\u62100\u30011\u53bb\u8ba9\u8ba1\u7b97\u673a\u6267\u884c\u3002\u5bf9\u4e8e\u7528\u6237\u6765\u8bf4\uff0c\u53ef\u53d8\u548c\u4e0d\u53ef\u53d8\u5bf9\u8c61\u662f\u8bed\u8a00\u63d0\u4f9b\u7684\u4e00\u4e2a\u7279\u6027\uff0c\u53ef\u4ee5\u5b8c\u6210\u4e00\u4e9b\u529f\u80fd\uff0c\u4f46\u662f\u5bf9\u4e8e\u8ba1\u7b97\u673a\u5176\u5b9e\u662f\u6ca1\u533a\u522b\u7684\u3002</p> <p>\u56e0\u6b64\uff0cmutable \u548c immutable \u7684\u672c\u8d28\u533a\u522b\u662f Python \u6709\u6ca1\u6709\u63d0\u4f9b\u4fee\u6539\u503c\u7684\u65b9\u6cd5\u3002 \u4e0d\u7ba1\u662f\u53ef\u53d8\u5bf9\u8c61\u8fd8\u662f\u4e0d\u53ef\u53d8\u5bf9\u8c61\uff0cPython\u7684\u8d4b\u503c\u65b9\u5f0f\u90fd\u662f\u4e00\u6837\u7684\uff0c\u90fd\u662f\u5c06\u5bf9\u8c61\u7ed1\u5b9a\u5230\u540d\u5b57\uff08\u53c2\u89c1\u4e0a\u9762\u7684\u56fe\u793a\u548c\u793a\u4f8b\u4ee3\u7801\uff09\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.10.%E8%B5%8B%E5%80%BC%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D.html#_2","title":"\u8d4b\u503c\u9677\u9631\u2014\u2014\u6d45\u62f7\u8d1d\u548c\u6df1\u62f7\u8d1d","text":"<p>\u795e\u8bdd\uff1a\u503c\u662f\u6709\u8303\u56f4\u7684\u3002</p> <p>\u5728 Python \u4e2d\u5b58\u5728\u4f5c\u7528\u57df\u8fd9\u6837\u7684\u6982\u5ff5\uff0c\u4eba\u4eec\u53ef\u80fd\u4f1a\u89c9\u5f97\u4f5c\u7528\u57df\u6307\u7684\u662f\u503c\uff08\u5bf9\u8c61\uff09\u7684\u4f5c\u7528\u8303\u56f4\uff0c\u4f46\u4e8b\u5b9e\u4e0a\uff0c\u503c\u662f\u6ca1\u6709\u8303\u56f4\u7684\uff0c\u4f5c\u7528\u57df\u6307\u7684\u662f\u540d\u79f0\u7684\u4f5c\u7528\u8303\u56f4\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u51fd\u6570\u4e0e\u9a8c\u8bc1\u8fd9\u70b9\u3002</p> <pre><code>def check_name_space_range(x):\n    print(\"x\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a\" + str(id(x)))\n\n# \u5148\u5728\u6700\u5916\u5c42\u7684\u4f5c\u7528\u57df\u8d4b\u503c\uff0c\u5e76\u6253\u5370\u5730\u5740\na = 10\nprint(\"a\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a\" + str(id(a)))\ncheck_name_space_range(a)\n</code></pre> <pre><code>a\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a139847945554512\nx\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a139847945554512\n</code></pre> <p>\u5f88\u660e\u663e\uff0c\u5728\u5185\u5916\u5c42\u4f5c\u7528\u57df\u7684\u503c\u90fd\u662f\u540c\u4e00\u4e2a\u3002</p> <p>\u9677\u9631\uff1a\u56e0\u4e3a\u503c\u6ca1\u6709\u8303\u56f4\uff0c\u5e76\u4e14\u8d4b\u503c\u4e0d\u4f1a\u590d\u5236\u503c\uff0c\u8fd9\u5c31\u53ef\u80fd\u51fa\u73b0\u53ef\u53d8\u5bf9\u8c61\u88ab\u610f\u5916\u5730\u6539\u53d8\uff1a </p> <pre><code>def variable_change(x):\n    x[0] = 10\n    return x\n\na = [1,2,3]\na_other = variable_change(a)\nprint(a)\nprint(a_other)\n</code></pre> <pre><code>[10, 2, 3]\n[10, 2, 3]\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c<code>a</code>\u3001<code>a_other</code>\u90fd\u88ab\u6539\u53d8\u4e86\uff0c\u56e0\u4e3a<code>a</code>\u3001<code>a_other</code>\u90fd\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61\u3002</p> <pre><code>print(\"a\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a\" + str(id(a)))\nprint(\"a_other\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a\" + str(id(a_other)))\n</code></pre> <pre><code>a\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a139846559117248\na_other\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a139846559117248\n</code></pre> <p>\u56e0\u6b64\uff0c\u5982\u679c\u8981\u5728\u51fd\u6570\u91cc\u9762\u66f4\u6539\u53ef\u53d8\u5bf9\u8c61\u53c2\u6570\u7684\u503c\uff0c\u6700\u597d\u590d\u5236\u4e00\u4e2a\u526f\u672c\u3002</p> <pre><code>def variable_change_shallow(x):\n    if isinstance(x,list):\n        x = x.copy()\n        x[0] = 10\n    else:\n        pass\n    return x\n\na = [1,2,3]\na_other = variable_change_shallow(a)\nprint(a)\nprint(a_other)\nprint(\"a\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a\" + str(id(a)))\nprint(\"a_other\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a\" + str(id(a_other)))\n</code></pre> <pre><code>[1, 2, 3]\n[10, 2, 3]\na\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a139846559050368\na_other\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a139846559377408\n</code></pre> <p><code>a</code>\u7684\u503c\u5e76\u6ca1\u6709\u6539\u53d8\uff0c\u4e0a\u9762\u7684\u7ed3\u679c\u770b\u4f3c\u662f\u6ca1\u95ee\u9898\u7684\uff0c\u4f46\u8fd8\u662f\u4f1a\u6709\u65b0\u7684\u201d\u60ca\u559c\u201c\u3002</p> <p>\u6211\u4eec\u6765\u4fee\u6539\u4e00\u4e0b<code>variable_change_shallow</code>\u51fd\u6570</p> <pre><code>def variable_change_shallow(x):\n    if isinstance(x,list):\n        x = x.copy()\n        x[0][0]= 10\n    else:\n        pass\n    return x\n\na = [[1,2],2,3]\na_other = variable_change_shallow(a)\nprint(a)\nprint(a_other)\nprint(\"a\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a\" + str(id(a)))\nprint(\"a_other\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a\" + str(id(a_other)))\n</code></pre> <pre><code>[[10, 2], 2, 3]\n[[10, 2], 2, 3]\na\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a139846559169664\na_other\u7684\u5185\u5b58\u5730\u5740\u662f\uff1a139846558719872\n</code></pre> <p>\u201d\u60ca\u559c\u201c\u5c31\u662f<code>a</code>\u7684\u503c\u4e5f\u6539\u53d8\u4e86\u3002\u56e0\u4e3a<code>x.copy()</code>\u53ea\u662f\u6d45\u62f7\u8d1d\u3002</p> <p>\u5728python\u91cc\u9762\u6709\u4e09\u79cd\u65b9\u5f0f\u53bb\u5f15\u7528\u67d0\u4e2a\u503c\uff1a</p> <ol> <li>\u5f15\u7528\u53e6\u4e00\u4e2a\u53d8\u91cf</li> <li>\u6d45\u62f7\u8d1d</li> <li>\u6df1\u62f7\u8d1d</li> </ol> <p>\u8fd9\u4e09\u79cd\u65b9\u5f0f\u662f\u6709\u533a\u522b\u7684\u3002</p> <pre><code>import copy\na = [1,2,[1,2]]\na_reference = a\na_shallow = copy.copy(a)\na_deep_copy = copy.deepcopy(a)\n</code></pre> <p>\u53d8\u91cf<code>a</code>\u548c<code>a_reference</code>\u90fd\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61\u7684\u540d\u79f0\u3002</p> <p></p> <p>\u6d45\u62f7\u8d1d\u5f97\u5230\u53d8\u91cf<code>a_shallow</code>\uff0c\u5b83\u662f\u4e00\u4e2a\u65b0\u5bf9\u8c61\uff0c\u4f46<code>a_shallow</code>\u7684\u7b2c\u4e09\u4e2a\u5143\u7d20<code>a_shallow[2]</code>\u5374\u662f\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u5bf9\u8c61\uff0c\u8fd9\u548c<code>a</code>\u3001<code>a_reference</code>\u4e00\u6837\u3002</p> <p></p> <p>\u6df1\u62f7\u8d1d\u5f97\u5230\u53d8\u91cf<code>a_deep_copy</code>\uff0c\u5b83\u662f\u4e00\u4e2a\u65b0\u5bf9\u8c61\uff0c\u5e76\u4e14\u5b83\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u4e5f\u662f\u65b0\u7684\u5bf9\u8c61\u3002</p> <p></p> <p>\u5982\u679c\u6d45\u62f7\u8d1d\u7684\u5bf9\u8c61\u5305\u542b\u4e86mutable\u5bf9\u8c61\uff0c\u5219mutable\u5bf9\u8c61\u4e0d\u4f1a\u62f7\u8d1d\uff1b\u800c\u6df1\u62f7\u8d1d\u5219\u4f1a\u5b8c\u6574\u62f7\u8d1d\u5bf9\u8c61\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.10.%E8%B5%8B%E5%80%BC%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D.html#_3","title":"\u8d4b\u503c\u9677\u9631\u2014\u2014\u5f15\u7528\u4e0d\u4ec5\u4ec5\u9650\u4e8e\u540d\u79f0","text":"<p>\u4ee5\u4e0a\u6240\u6709\u793a\u4f8b\u90fd\u4f7f\u7528\u540d\u79f0\u4f5c\u4e3a\u503c\u7684\u5f15\u7528\uff0c\u4f46\u5f15\u7528\u4e5f\u53ef\u4ee5\u662f\u5176\u4ed6\u4e1c\u897f\u3002Python\u6709\u8bb8\u591a\u590d\u5408\u6570\u636e\u7ed3\u6784\uff0c\u6bcf\u4e2a\u7ed3\u6784\u90fd\u5305\u542b\u5bf9\u503c\u7684\u5f15\u7528\uff1a\u5217\u8868\u5143\u7d20\uff0c\u5b57\u5178\u952e\u548c\u503c\uff0c\u5bf9\u8c61\u5c5e\u6027\u7b49\u3002\u5176\u4e2d\u6bcf\u4e00\u4e2a\u90fd\u53ef\u4ee5\u5728\u8d4b\u503c\u7b26\u53f7\u7684\u5de6\u4fa7\u4f7f\u7528\uff0c\u4ee5\u4e0a\u6240\u6709\u7ec6\u8282\u90fd\u9002\u7528\u4e8e\u5b83\u4eec\u3002\u4efb\u4f55\u53ef\u4ee5\u51fa\u73b0\u5728\u8d4b\u503c\u8bed\u53e5\u5de6\u4fa7\u7684\u5185\u5bb9\u90fd\u662f\u5f15\u7528\uff0c\u5728\u672c\u6587\u4e2d\u8bf4\u201c\u540d\u79f0\u201d\u7684\u4efb\u4f55\u5730\u65b9\u90fd\u53ef\u4ee5\u7528\u201c\u5f15\u7528\u201d\u66ff\u6362\u3002</p> <p>\u5728\u4e0a\u9762\u7684\u793a\u610f\u56fe\u4e2d\uff0c\u6570\u5b57\u88ab\u663e\u793a\u4e3a\u5143\u7d20\uff0c\u4f46\u5b9e\u9645\u4e0a\uff0c\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u5bf9\u6570\u5b57\u7684\u5f15\u7528\uff0c\u56e0\u6b64\u5b83\u5e94\u8be5\u50cf\u8fd9\u6837\u7ed8\u5236\uff1a</p> <pre><code>nums = [1,2,3]\n</code></pre> <p></p> <p>\u4f46\u8fd9\u5f88\u5feb\u53d8\u5f97\u590d\u6742\uff0c\u6240\u4ee5\u4e0a\u9762\u7684\u7ed8\u56fe\u7528\u4e86\u89c6\u89c9\u901f\u8bb0\uff1a</p> <p></p> <p>\u5982\u679c\u4f60\u6709\u5217\u8868\u5143\u7d20\u5f15\u7528\u5176\u4ed6\u53ef\u53d8\u503c\uff0c\u4f8b\u5982\u5b50\u5217\u8868\uff0c\u8bf7\u52a1\u5fc5\u8bb0\u4f4f\u5217\u8868\u5143\u7d20\u53ea\u662f\u5bf9\u503c\u7684\u5f15\u7528\u3002</p> <p>\u8fd9\u662f\u4e00\u4e9b\u5176\u4ed6assignment\u7684\u4f8b\u5b50\u3002\u8fd9\u4e9b\u5de6\u4fa7\u4e2d\u7684\u6bcf\u4e00\u4e2a\u90fd\u662f\u5f15\u7528\uff08reference\uff09\uff1a</p> <pre><code>my_obj.attr = 23    # \u7c7b\u5c5e\u6027\nmy_dict[key] = 24   # \u5b57\u5178\nmy_list[index] = 25 # \u5217\u8868\nmy_obj.attr[key][index].attr = \"etc, etc\" # \u591a\u4e2a\u5bf9\u8c61\u5d4c\u5957\n</code></pre> <p><code>i = x</code> \u6307\u5b9a\u4e86\u540d\u79f0<code>i</code>\uff0c\u4f46<code>i[0] = x</code>\u5e76\u4e0d\u662f\u6307\u5b9a\u540d\u79f0<code>i</code>\uff0c\u800c\u662f\u6307\u5b9a\u4e86<code>i</code>\u7684\u503c\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002</p> <p>\u5f88\u591a\u4e1c\u897f\u90fd\u662fAssignment\u3002</p> <p>\u6b63\u5982\u4e0a\u9762\u6240\u8bf4\uff0c\u8bb8\u591a\u4e1c\u897f\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u5f15\u7528\uff0cpython\u91cc\u9762\u6709\u5f88\u591a\u4e1c\u897f\u53ef\u4ee5\u4f5c\u4e3aassignments\u3002</p> <p>\u8fd9\u4e9b\u884c\u4e2d\u7684\u6bcf\u4e00\u884c\u90fd\u662f\u540d\u79f0<code>X</code>\u7684\u8d4b\u503c\uff1a</p> <pre><code>X = ...\nfor X in ...\n[... for X in ...]\n(... for X in ...)\n{... for X in ...}\nclass X(...):\ndef X(...):\ndef fn(X): ... ; fn(12)\nwith ... as X:\nexcept ... as X:\nimport X\nfrom ... import X\nimport ... as X\nfrom ... import ... as X\n</code></pre> <p>\u6ce8\u610f\uff0c\u6211\u5e76\u4e0d\u662f\u8bf4\u8fd9\u4e9b\u8bed\u53e5\u50cfassignments\uff0c\u6211\u7684\u610f\u601d\u662f\u8fd9\u4e9b\u8bed\u53e5\u90fd\u662f\u8d4b\u503c\u3002\u5b83\u4eec\u90fd\u4f7f\u540d\u79f0<code>X</code>\u5f15\u7528\u67d0\u4e2a\u503c\u3002\u4e0a\u9762\u6240\u8bf4\u7684\u5173\u4e8e\u8d4b\u503c\u7684\u6240\u6709\u5185\u5bb9\u90fd\u9002\u7528\u4e8e\u6240\u6709\u8fd9\u4e9b\u8d4b\u503c\u3002</p> <p>\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e9b\u8bed\u53e5\u5c06<code>X</code>\u5b9a\u4e49\u5728\u4e0e\u8bed\u53e5\u76f8\u540c\u7684\u4f5c\u7528\u57df\u5185\u3002Python 2\u548cPython 3\u4e4b\u95f4\u7684\u7ec6\u8282\u7565\u6709\u4e0d\u540c\u3002\u4f46\u5b83\u4eec\u90fd\u662f\u771f\u6b63\u7684\u8d4b\u503c\uff0c\u800c\u4e14\u6bcf\u4e2a\u4e8b\u5b9e\u90fd\u662f\u5173\u4e8e\u8d4b\u503c\u9002\u7528\u4e8e\u6240\u6709\u8fd9\u4e9b\u3002</p> <p>Python\u901a\u8fc7\u8d4b\u503c\u6765\u4f20\u9012\u51fd\u6570\u53c2\u6570\u3002</p> <p>\u8ba9\u6211\u4eec\u6765\u770b\u770b\u8fd9\u4e9b\u4e0a\u9762assignment\u5217\u8868\u4e2d\u6700\u6709\u8da3\u7684\u4e00\u4e2a\uff1a\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\u3002\u5f53\u6211\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u65f6\uff0c\u6211\u5c06\u5176\u53c2\u6570\u547d\u540d\u4e3a\uff1a</p> <pre><code>def my_func(x, y):\n    return x+y\n</code></pre> <p>\u8fd9\u91cc<code>x</code>\u548c<code>y</code>\u662f\u51fd\u6570<code>my_func</code>\u7684\u53c2\u6570\u3002\u5f53\u6211\u8c03\u7528<code>my_func</code>\u65f6\uff0c\u6211\u63d0\u4f9b\u4e86\u5b9e\u9645\u503c\u4f5c\u4e3a\u51fd\u6570\u7684\u53c2\u6570\u3002\u8fd9\u4e9b\u503c\u5206\u914d\u7ed9\u53c2\u6570\u540d\u79f0\uff0c\u5c31\u50cf\u4f7f\u7528\u4e86\u8d4b\u503c\u8bed\u53e5\u4e00\u6837\uff1a</p> <pre><code>def my_func(x, y):\n    return x+y\n\nprint(my_func(8, 9))\n</code></pre> <pre><code>17\n</code></pre> <p>\u8c03\u7528<code>my_func</code>\u65f6\uff0c8\u88ab\u8d4b\u503c\u7ed9\u540d\u79f0<code>x</code>\uff0c9\u88ab\u8d4b\u503c\u7ed9\u540d\u79f0<code>y</code>\u3002\u8be5\u8d4b\u503c\u4e0e\u6211\u4eec\u4e00\u76f4\u5728\u8ba8\u8bba\u7684\u7b80\u5355\u8d4b\u503c\u8bed\u53e5\u5b8c\u5168\u76f8\u540c\u3002\u540d\u79f0<code>x</code>\u548c<code>y</code>\u662f\u51fd\u6570\u7684\u672c\u5730\u540d\u79f0\uff08local\uff09\uff0c\u56e0\u6b64\u5f53\u51fd\u6570\u8fd4\u56de\u65f6\uff0c\u8fd9\u4e9b\u540d\u79f0\u5c31\u4f1a\u6d88\u5931\u3002\u4f46\u662f\uff0c\u5982\u679c\u5b83\u4eec\u5f15\u7528\u7684\u503c\u4ecd\u7136\u88ab\u5176\u4ed6\u540d\u79f0\u5f15\u7528\uff0c\u5219\u503c\u4ecd\u7136\u5b58\u5728\u3002</p> <p>\u5c31\u50cf\u6240\u6709\u5176\u4ed6\u8d4b\u503c\u4e00\u6837\uff0c\u53ef\u53d8\u503c\u53ef\u4ee5\u4f20\u9012\u7ed9\u51fd\u6570\uff0c\u5e76\u4e14\u901a\u8fc7\u5176\u6240\u6709\u540d\u79f0\u53ef\u4ee5\u770b\u5230\u5bf9\u503c\u7684\u66f4\u6539\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.10.%E8%B5%8B%E5%80%BC%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D.html#_4","title":"\u540d\u79f0\u548c\u503c\u7684\u4e00\u4e9b\u7ec6\u8282","text":"<p>\u4efb\u4f55\u540d\u79f0\u90fd\u53ef\u4ee5\u968f\u65f6\u5f15\u7528\u4efb\u4f55\u503c\u3002</p> <p>Python\u662f\u52a8\u6001\u7c7b\u578b\u7684\uff0c\u8fd9\u610f\u5473\u7740\u540d\u79f0\u6ca1\u6709\u7c7b\u578b\u3002\u4efb\u4f55\u540d\u79f0\u90fd\u53ef\u4ee5\u968f\u65f6\u5f15\u7528\u4efb\u4f55\u503c\u3002\u540d\u79f0\u53ef\u4ee5\u5f15\u7528\u6574\u6570\uff0c\u7136\u540e\u5f15\u7528\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u5f15\u7528\u51fd\u6570\uff0c\u7136\u540e\u5f15\u7528\u6a21\u5757\u3002\u5f53\u7136\uff0c\u8fd9\u53ef\u80fd\u662f\u4e00\u4e2a\u975e\u5e38\u6df7\u4e71\u7684\u7a0b\u5e8f\uff0c\u4f60\u4e0d\u5e94\u8be5\u8fd9\u6837\u505a\uff0c\u4f46Python\u8bed\u8a00\u4e0d\u4f1a\u4ecb\u610f\u3002</p> <p>\u540d\u79f0\u6ca1\u6709\u7c7b\u578b\uff0c\u503c\u6ca1\u6709\u8303\u56f4\u3002</p> <p>\u6b63\u5982\u540d\u79f0\u6ca1\u6709\u7c7b\u578b\u4e00\u6837\uff0c\u503c\u4e5f\u6ca1\u6709\u8303\u56f4\u3002\u5f53\u6211\u4eec\u8bf4\u4e00\u4e2a\u51fd\u6570\u6709\u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf\u65f6\uff0c\u6211\u4eec\u7684\u610f\u601d\u662f\u8be5\u540d\u79f0\u7684\u4f5c\u7528\u57df\u662f\u51fd\u6570\uff1a\u4f60\u4e0d\u80fd\u5728\u51fd\u6570\u5916\u90e8\u4f7f\u7528\u8be5\u540d\u79f0\uff0c\u5f53\u51fd\u6570\u8fd4\u56de\u65f6\uff0c\u540d\u79f0\u5c06\u88ab\u9500\u6bc1\u3002\u4f46\u662f\u6b63\u5982\u6211\u4eec\u6240\u770b\u5230\u7684\uff0c\u5982\u679c\u540d\u79f0\u7684\u503c\u5177\u6709\u5176\u4ed6\u5f15\u7528\uff0c\u5b83\u5c06\u7ee7\u7eed\u5728\u51fd\u6570\u8c03\u7528\u4e4b\u5916\u3002\u5b83\u662f\u672c\u5730\u540d\u79f0\uff0c\u800c\u4e0d\u662f\u672c\u5730\u503c\u3002</p> <p>\u503c\u4e0d\u80fd\u5220\u9664\uff0c\u53ea\u6709\u540d\u79f0\u53ef\u4ee5\u5220\u9664\u3002</p> <p>Python\u7684\u5185\u5b58\u7ba1\u7406\u5bf9\u5176\u884c\u4e3a\u81f3\u5173\u91cd\u8981\uff0c\u4f60\u4e0d\u4ec5\u4e0d\u5fc5\u5220\u9664\u503c\uff0c\u800c\u4e14\u65e0\u6cd5\u5220\u9664\u503c\u3002</p> <pre><code>nums = [1, 2, 3]\ndel nums\n</code></pre> <p>\u8fd9\u4e0d\u4f1a\u5220\u9664\u503c<code>nums</code>\uff0c\u5b83\u4f1a\u5220\u9664\u540d\u79f0<code>nums</code>\u3002\u8be5\u540d\u79f0\u5c06\u4ece\u5176\u8303\u56f4\u4e2d\u5220\u9664\uff0c\u7136\u540e\u901a\u5e38\u7684\u5f15\u7528\u8ba1\u6570\u5f00\u59cb\u6267\u884c\uff1a\u5982\u679c<code>nums</code>\u7684\u503c\u53ea\u6709\u4e00\u4e2a\u5f15\u7528\uff0c\u5219\u5c06\u56de\u6536\u8be5\u503c\u3002\u4f46\u5982\u679c\u5b83\u6709\u5176\u4ed6\u5f15\u7528\uff0c\u90a3\u4e48\u5b83\u4e0d\u4f1a\u88ab\u56de\u6536\u3002</p> <p>\u795e\u8bdd\uff1aPython\u6ca1\u6709\u53d8\u91cf\u3002</p> <p>\u6709\u4e9b\u4eba\u559c\u6b22\u8bf4\uff0c\u201cPython\u6ca1\u6709\u53d8\u91cf\uff0c\u5b83\u6709\u540d\u5b57\u3002\u201d\u8fd9\u4e2a\u53e3\u53f7\u5177\u6709\u8bef\u5bfc\u6027\u3002\u4e8b\u5b9e\u662fPython\u6709\u53d8\u91cf\uff0c\u5b83\u4eec\u7684\u5de5\u4f5c\u65b9\u5f0f\u4e0eC\u4e2d\u7684\u53d8\u91cf\u4e0d\u540c\u3002</p> <p>\u540d\u79f0\u662fPython\u7684\u53d8\u91cf\uff1a\u5b83\u4eec\u5f15\u7528\u503c\uff0c\u5e76\u4e14\u8fd9\u4e9b\u503c\u53ef\u4ee5\u5728\u7a0b\u5e8f\u7684\u8fc7\u7a0b\u4e2d\u53d1\u751f\u53d8\u5316\uff08\u53d8\u5316\uff09\u3002\u4ec5\u4ec5\u56e0\u4e3a\u53e6\u4e00\u79cd\u8bed\u8a00\uff08\u5c3d\u7ba1\u662f\u4e00\u79cd\u91cd\u8981\u7684\u8bed\u8a00\uff09\u8868\u73b0\u4e0d\u540c\uff0c\u6ca1\u6709\u7406\u7531\u5c06Python\u63cf\u8ff0\u4e3a\u6ca1\u6709\u53d8\u91cf\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.11.%E5%87%BD%E6%95%B0.html","title":"2.11.\u51fd\u6570","text":""},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.11.%E5%87%BD%E6%95%B0.html#_1","title":"\u51fd\u6570\u7b80\u4ecb","text":"<p>\u5173\u952e\u5b57 def \u5f15\u5165\u4e86\u4e00\u4e2a\u51fd\u6570\u5b9a\u4e49\u3002\u540e\u9762\u5fc5\u987b\u8ddf\u4e0a\u51fd\u6570\u540d\u548c\u5728\u5706\u62ec\u53f7\u91cc\u7684\u53c2\u6570\u5e8f\u5217\u3002\u51fd\u6570\u4f53\u4ece\u7b2c\u4e00\u884c\u5f00\u59cb\uff0c\u5e76\u4e14\u4e00\u5b9a\u8981\u7f29\u8fdb\u3002</p> <pre><code>def func():\n    pass\n</code></pre> <p>\u51fd\u5f0f\u4f53\u7684\u7b2c\u4e00\u4e2a\u8bed\u53e5\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u3002\u8fd9\u4e2a\u5b57\u7b26\u4e32\u5c31\u662f\u51fd\u6570\u7684\u6587\u6863\u5b57\u7b26\u4e32\uff08docstring\uff09\u3002\u6709\u5f88\u591a\u80fd\u5c06\u6587\u6863\u5b57\u4e32\u81ea\u52a8\u8f6c\u6362\u4e3a\u5728\u7ebf\u6216\u53ef\u6253\u5370\u6587\u6863\u7684\u5de5\u5177\uff0c\u6216\u8ba9\u7528\u6237\u5728\u4ee3\u7801\u4e2d\u4ea4\u4e92\u5730\u6d4f\u89c8\u5b83\u7684\u5de5\u5177\u3002</p> <p>\u6267\u884c\u51fd\u6570\u4f1a\u5f15\u5165\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u3002\u6240\u6709\u5728\u51fd\u6570\u4e2d\u88ab\u8d4b\u503c\u7684\u53d8\u91cf\u548c\u503c\u90fd\u5c06\u5b58\u50a8\u5728\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u4e2d\u3002</p> <p>\u53d8\u91cf\u5f15\u7528\u4f1a\u9996\u5148\u5728\u51fd\u6570\u7684\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u91cc\u5bfb\u627e\uff0c\u7136\u540e\u624d\u662f\u95ed\u5305\u51fd\u6570\u7684\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\uff0c\u518d\u7136\u540e\u662f\u5168\u5c40\u547d\u540d\u7a7a\u95f4\uff0c\u6700\u540e\u662f\u5185\u7f6e\u547d\u540d\u7a7a\u95f4\u3002\u5728\u51fd\u6570\u4e2d\u53ef\u4ee5\u5f15\u7528\u5168\u5c40\u53d8\u91cf\uff0c\u4f46\u662f\u4e0d\u53ef\u76f4\u63a5\u5bf9\u5168\u5c40\u53d8\u91cf\u91cd\u65b0\u8d4b\u503c\uff08\u9664\u975e\u7528 global \u8bed\u53e5\u8fdb\u884c\u58f0\u660e\uff09\u3002\u5177\u4f53\u7ec6\u8282\u53ef\u53c2\u8003\u300a3.2.\u547d\u540d\u7a7a\u95f4\u548c\u4f5c\u7528\u57df\u300b\u3002</p> <p>\u6839\u636e\u5176\u5b83\u8bed\u8a00\u7684\u7ecf\u9a8c\uff0c\u4f60\u53ef\u80fd\u4f1a\u6307\u51fa<code>func</code>\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u800c\u662f\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u56e0\u4e3a\u5b83\u4e0d\u8fd4\u56de\u503c\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5373\u4f7f\u6ca1\u6709\u5199 return \u8bed\u53e5\u7684\u51fd\u6570\u4e5f\u4f1a\u8fd4\u56de\u4e00\u4e2a\u503c\u2014\u2014<code>None</code>\u3002\u5982\u679c\u8981\u552f\u4e00\u8f93\u51fa\u7684\u503c\u662f<code>None</code>\uff0c\u90a3\u4e48\u89e3\u91ca\u5668\u4e0d\u4f1a\u6253\u5370\u51fa\u6765\u3002\u5982\u4f60\u5b9e\u5728\u60f3\u770b\u770b\u8fd9\u4e2a\u503c\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>print()</code> \u51fd\u6570\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.11.%E5%87%BD%E6%95%B0.html#_2","title":"\u51fd\u6570\u4f20\u53c2","text":"<p>\u521a\u5b66Python\u7684\u4eba\u53ef\u80fd\u4f1a\u7591\u60d1\uff0cPython\u51fd\u6570\u4f20\u53c2\uff0c\u5230\u5e95\u662f\u4f20\u503c\uff0c\u8fd8\u662f\u4f20\u5f15\u7528\uff0c\u751a\u81f3\u662f\u4f20\u6307\u9488\uff1f\u53ef\u4ee5\u786e\u5b9a\u7684\u662f\uff0c\u6700\u540e\u4e00\u79cd\u60c5\u51b5\uff08\u5373\u4f20\u6307\u9488\uff09\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u56e0\u4e3aPython\u6ca1\u6709\u660e\u663e\u4f7f\u7528\u6307\u9488\u7684\u5730\u65b9\uff0c\u53ef\u4ee5\u8bf4Python\u672c\u8eab\u4e0d\u652f\u6301\u4f7f\u7528\u6307\u9488\uff08\u9664\u975e\u901a\u8fc7\u5bfc\u5165ctypes\u6a21\u5757\u6765\u4f7f\u7528\u6307\u9488\uff09\u3002</p> <p>\u6392\u9664\u4e86\u4f20\u6307\u9488\u7684\u60c5\u51b5\uff0c\u8fd9\u4e2a\u95ee\u9898\u4f9d\u7136\u6709\u5f88\u591a\u4e89\u8bba\uff0c\u6709\u4eba\u8ba4\u4e3a\u662f\u4f20\u503c\uff0c\u6709\u4eba\u8ba4\u4e3a\u662f\u4f20\u5f15\u7528\uff0c\u6709\u4eba\u8ba4\u4e3a\u662f\u4e24\u8005\u90fd\u6709\uff0c\u4e5f\u6709\u4eba\u8ba4\u4e3a\u4e24\u8005\u90fd\u4e0d\u662f\uff0c\u800c\u662f\u4f20\u8d4b\u503c\u3002</p> <p>\u8fd9\u4e2a\u95ee\u9898\u7684\u7b54\u6848\u5b9e\u9645\u4e0a\u53d6\u51b3\u4e8e\u4f20\u503c\u548c\u4f20\u5f15\u7528\u7684\u5b9a\u4e49\u3002\u5f52\u6839\u7ed3\u5e95\uff0c\u5bf9\u6b64\u7684\u4e89\u8bba\u5f52\u7ed3\u4e3a\u5bf9\u5b9a\u4e49\u7684\u5206\u6b67\u3002\u5728\u8ba1\u7b97\u673a\u9886\u57df\u4e2d\uff0c\u4eba\u4eec\u4e89\u8bba\u67d0\u79cd\u4e1c\u897f\u5f80\u5f80\u662f\u56e0\u4e3a\u4ed6\u4eec\u5bf9\u672f\u8bed\u7684\u542b\u4e49\u6709\u4e0d\u540c\u7684\u770b\u6cd5\uff0c\u4eba\u4eec\u5f80\u5f80\u4f1a\u4f7f\u7528\u6a21\u7cca\u4e14\u4e0d\u4e00\u81f4\u7684\u672f\u8bed\u6765\u5b9a\u4e49\u4e00\u4e2a\u6982\u5ff5\u3002</p> <p>\u5982\u679c\u6839\u636eC++\u4e2d\u57fa\u4e8e\u8bed\u4e49\u7684\u5b9a\u4e49\uff1a</p> <ul> <li>\u5982\u679c\u5c06\u53d8\u91cf\u4f20\u9012\u7ed9\u51fd\u6570\uff0c\u5219<code>=</code>\u5bf9\u51fd\u6570\u5185\u90e8\u7684\u53c2\u6570\u8fdb\u884c\u7b80\u5355\u8d4b\u503c\u7684\u6548\u679c\u4e0e\u5bf9\u51fd\u6570\u5916\u90e8\u7684\u4f20\u9012\u53d8\u91cf\u8fdb\u884c\u7b80\u5355\u8d4b\u503c\u7684\u6548\u679c\u76f8\u540c\uff0c\u5373\u4e3a\u6309\u5f15\u7528\u4f20\u53c2\u3002</li> <li>\u5982\u679c\u5c06\u53d8\u91cf\u4f20\u9012\u7ed9\u51fd\u6570\uff0c<code>=</code>\u5bf9\u51fd\u6570\u5185\u90e8\u7684\u53c2\u6570\u8fdb\u884c\u7b80\u5355\u8d4b\u503c\u5bf9\u51fd\u6570\u5916\u90e8\u7684\u4f20\u9012\u53d8\u91cf\u6ca1\u6709\u5f71\u54cd\uff0c\u5219\u4e3a\u6309\u503c\u4f20\u53c2\u3002</li> </ul> <p>\u90a3\u4e48\uff0cPython\u7684\u51fd\u6570\u4f20\u53c2\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4f20\u5f15\u7528\u548c\u4f20\u503c\u90fd\u6709\u3002</p> <p>\u5982\u679c\u6839\u636e\u4e0a\u8ff0\u5b9a\u4e49\uff0c\u5e76\u4e14\u5bf9Python\u7684\u5185\u7f6e\u7c7b\u578b\u6309\u539f\u5b50\u7c7b\u578b\uff08\u503c\u7c7b\u578b\uff09\u548c\u5f15\u7528\u7c7b\u578b\u5206\u7c7b\u7684\u8bdd\uff0c\u90a3\u4e48Python\u7684\u51fd\u6570\u4f20\u53c2\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4f20\u503c\u3002</p> <p>\u5982\u679c\u57fa\u4e8e\u4ee5\u4e0b\u4e8b\u5b9e\uff1a</p> <ul> <li>Python\u8d4b\u503c\u7684\u672c\u8d28\u662f\u521b\u5efa\u522b\u540d</li> <li>\u5f15\u7528\u5373\u662f\u522b\u540d</li> </ul> <p>\u5219\u53ef\u4ee5\u8ba4\u4e3a\uff0cPython\u7684\u51fd\u6570\u4f20\u53c2\u662f\u4f20\u5f15\u7528\uff0c\u4e5f\u53ef\u4ee5\u8ba4\u4e3aPython\u7684\u51fd\u6570\u4f20\u53c2\u5373\u662f\u8d4b\u503c\u3002</p> <p>\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u6ca1\u5fc5\u8981\u5173\u5fc3\u4f7f\u7528\u54ea\u4e2a\u4f20\u53c2\u672f\u8bed\uff0c\u53ea\u9700\u8981\u77e5\u9053Python\u4f20\u53c2\u7684\u672c\u8d28\u662fassignment\u5373\u53ef\u3002 \u4f20\u53c2\u7684\u884c\u4e3a\u548c\u8d4b\u503c\u7684\u884c\u4e3a\u662f\u4e00\u6837\u7684\uff0c\u5177\u4f53\u7ec6\u8282\u53ef\u4ee5\u53c2\u8003\u300a2.10.\u8d4b\u503c\u4e0e\u6df1\u62f7\u8d1d\u300b\u3002</p> <p>\u5728\u5bf9\u53ef\u53d8\u5bf9\u8c61\u7684\u53c2\u6570\u8fdb\u884c\u64cd\u4f5c\u524d\uff0c\u6700\u597d\u5148\u6df1\u62f7\u8d1d\u53c2\u6570\u7684\u503c\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u5f71\u54cd\u51fd\u6570\u5916\u90e8\u7684\u547d\u540d\u7a7a\u95f4\u3002</p> \u53c2\u8003<ol> <li>Are arguments passed by value or by reference in Python?</li> <li>In Python, if I type a=1 b=2 c=a c=b, what is the value of c? What does c point to?</li> <li>\u4ece\u7b26\u53f7\u8868\u6765\u7406\u89e3\u6307\u9488\u548c\u5f15\u7528</li> <li>C\u4ee5\u53caPython\u4e2d\u7684\u5f15\u7528\uff0c\u6307\u9488\u7684\u533a\u522b</li> <li>Pointers in Python: What's the Point?</li> </ol>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.11.%E5%87%BD%E6%95%B0.html#_3","title":"\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570","text":"<p>\u5728Python\u4e2d\uff0c\u51fd\u6570\u662f\u53ef\u4ee5\u76f4\u63a5\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u53e6\u4e00\u4e2a\u51fd\u6570\u7684\u3002\u8fd9\u4f3c\u4e4e\u6ca1\u4ec0\u4e48\u7279\u522b\u7684\uff0c\u5982\u679c\u60a8\u5728\u5b66\u4e60C\u3001C++\u3001Python\u8fd9\u4e9b\u8bed\u8a00\u4e4b\u524d\uff0c\u5c31\u5df2\u7ecf\u5728\u4f7f\u7528R\u8bed\u8a00\uff0c\u60a8\u53ef\u80fd\u66f4\u4f1a\u89c9\u5f97\u8fd9\u662f\u5f88\u7b26\u5408\u76f4\u89c9\u7684\u4e8b\u60c5\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u6709\u4e00\u4e9b\u8bed\u8a00\u662f\u4e0d\u652f\u6301\u76f4\u63a5\u5c06\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u7684\uff0c\u4f8b\u5982C\u3001C++\u3001C#\u7b49\u3002</p> <p>Python\u4e4b\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u5c06\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u662f\u56e0\u4e3a\u5728Python\u4e2d\uff0c\u51fd\u6570\u4e5f\u662f\u4e00\u4e2a\u5bf9\u8c61\u3002 \u5982\u679c\u5728\u4e00\u4e2a\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff0c\u51fd\u6570\u4e5f\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6211\u4eec\u53ef\u4ee5\u8bf4\u8fd9\u4e2a\u8bed\u8a00\u5b83\u5177\u6709 first-class function\u3002\u8fd9\u610f\u5473\u7740\uff0c\u8fd9\u95e8\u7f16\u7a0b\u8bed\u8a00\u5c06\u51fd\u6570\u89c6\u4f5c first-class citizen\u3002first-class citizen \u8fd9\u4e2a\u6982\u5ff5\u6700\u65e9\u7531\u82f1\u56fd\u8ba1\u7b97\u673a\u79d1\u5b66\u5bb6 Christopher Strachey \u572820\u4e16\u7eaa60\u5e74\u4ee3\u63d0\u51fa\u3002\u548c\u5927\u591a\u8ba1\u7b97\u673a\u672f\u8bed\u4e00\u6837\uff0cfirst-class citizen \u5e76\u4e0d\u662f\u4e00\u4e2a\u660e\u786e\u7684\u6982\u5ff5\u3002first-class citizen\u6700\u8457\u540d\u7684\u5b9a\u4e49\u53ef\u80fd\u662fGerald Jay Sussman \u548c Harry Abelson \u5728\u300aStructure and Interpretation of Computer Programs\u300b\u4e2d\u63d0\u51fa\u7684\uff1a</p> <p>\u5982\u679c\u4e00\u4e2a\u7f16\u7a0b\u5143\u7d20\u5177\u6709\u5982\u4e0b\u7279\u5f81\uff0c\u79f0\u4e4b\u4e3a first-class citizen</p> <ul> <li>\u5b83\u53ef\u4ee5\u8d4b\u503c\u7ed9\u53d8\u91cf\u3002</li> <li>\u5b83\u53ef\u4ee5\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u7a0b\u5e8f\u3002</li> <li>\u5b83\u53ef\u4ee5\u4f5c\u4e3a\u7a0b\u5e8f\u7684\u8fd4\u56de\u503c\u3002</li> <li>\u5b83\u53ef\u4ee5\u88ab\u5305\u542b\u5728\u6570\u636e\u7ed3\u6784\u4e4b\u4e2d\u3002</li> </ul> <p>\u57fa\u672c\u4e0a\uff0c\u8fd9\u610f\u5473\u7740\u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64\u7f16\u7a0b\u8bed\u8a00\u5143\u7d20\u6765\u5b8c\u6210\u60a8\u53ef\u4ee5\u4f7f\u7528\u8be5\u7f16\u7a0b\u8bed\u8a00\u4e2d\u7684\u6240\u6709\u5176\u4ed6\u5143\u7d20\u6765\u8fdb\u884c\u7684\u6240\u6709\u64cd\u4f5c\u3002</p> \u53c2\u8003<ol> <li> <p>What are first-class objects in Java and C#?</p> </li> <li> <p>What is first class function in Python</p> </li> <li> <p>Are functions first class objects in python?</p> </li> <li> <p>\u5934\u7b49\u516c\u6c11</p> </li> <li> <p>First-class Everything</p> </li> </ol> <p>\u4e3a\u4ec0\u4e48\u5728\u4e00\u4e9b\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff0c\u51fd\u6570\u4e0d\u662f\u5bf9\u8c61\u5462\uff1f\u672c\u6587\u65e0\u6cd5\u5bf9\u6b64\u95ee\u9898\u8fdb\u884c\u6df1\u5165\u7684\u63a2\u7a76\uff0c\u4f46\u53ef\u4ee5\u7ed9\u51fa\u4e00\u4e2a\u7b80\u77ed\u7684\u89e3\u91ca\u3002\u51fd\u6570\u4e0e\u5bf9\u8c61\u7684\u533a\u522b\u5f52\u7ed3\u4e8e\u6307\u5411\u51fd\u6570\u7684\u6307\u9488\u548c\u6307\u5411\u5bf9\u8c61\u7684\u6307\u9488\u662f\u4e25\u683c\u533a\u5206\u7684\uff0c\u8fd9\u4e0e\u8ba1\u7b97\u673a\u7684\u8bbe\u8ba1\u65b9\u5f0f\u6709\u5173\u3002</p> \u53c2\u8003<ol> <li>Why is a function not an object?</li> </ol>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.11.%E5%87%BD%E6%95%B0.html#_4","title":"\u53c2\u6570","text":"<p>\u51fd\u6570\u6709\u56db\u79cd\u53c2\u6570\u6982\u5ff5\uff1a\u4f4d\u7f6e\u53c2\u6570\u3001\u9ed8\u8ba4\u53c2\u6570\u3001\u5173\u952e\u5b57\u53c2\u6570\u3001\u53ef\u53d8\u53c2\u6570\u3002</p> <p>\u5176\u4e2d\uff0c\u4f4d\u7f6e\u53c2\u6570\u3001\u5173\u952e\u5b57\u53c2\u6570\u662f\u4f20\u5165\u51fd\u6570\u53c2\u6570\u65f6\u7684\u6982\u5ff5\uff1b\u9ed8\u8ba4\u53c2\u6570\u3001\u53ef\u53d8\u53c2\u6570\u662f\u5b9a\u4e49\u51fd\u6570\u53c2\u6570\u65f6\u7684\u6982\u5ff5\u3002</p> <p>\u51fd\u6570\u6709\u4e09\u79cd\u5408\u6cd5\u8c03\u7528\u5f62\u5f0f\uff1a</p> <ol> <li>\u4ec5\u7ed9\u51fa\u5f3a\u5236\u53c2\u6570</li> <li>\u7ed9\u51fa\u6240\u6709\u5f3a\u5236\u53c2\u6570\u548c\u90e8\u5206\u53ef\u9009\u53c2\u6570</li> <li>\u7ed9\u51fa\u6240\u6709\u53c2\u6570</li> </ol>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.11.%E5%87%BD%E6%95%B0.html#_5","title":"\u4f4d\u7f6e\u53c2\u6570","text":"<p>\u8c03\u7528\u51fd\u6570\u65f6\u53ef\u4ee5\u7701\u7565\u5f62\u53c2\u540d\u5b57\uff0c\u6839\u636e\u51fd\u6570\u5b9a\u4e49\u7684\u53c2\u6570\u4f4d\u7f6e\u6765\u4f20\u9012\u53c2\u6570\u3002\u4f20\u5165\u7684\u5b9e\u53c2\u987a\u5e8f\u5fc5\u987b\u548c\u51fd\u6570\u5b9a\u4e49\u7684\u5f62\u53c2\u987a\u5e8f\u4e00\u81f4\uff0c\u800c\u4e14\u6570\u91cf\u8981\u76f8\u7b49\u3002</p> <pre><code>def print_hello(name, sex):\n    sex_dict = {1: u'\u5148\u751f', 2: u'\u5973\u58eb'}\n    print('hello %s %s, welcome to python world!' \\\n          %(name, sex_dict.get(sex, '\u5148\u751f')))\n\nprint_hello('Jack', 1)\n</code></pre> <pre><code>hello Jack \u5148\u751f, welcome to python world!\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.11.%E5%87%BD%E6%95%B0.html#_6","title":"\u5173\u952e\u5b57\u53c2\u6570","text":"<p>\u51fd\u6570\u8c03\u7528\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7<code>key=value</code>\u5f62\u5f0f\u6307\u5b9a\uff0c\u5373\"\u5f62\u53c2=\u5b9e\u53c2\"\uff0c\u6b64\u65f6\u5173\u952e\u5b57\u53c2\u6570\u4e0d\u9700\u8981\u6309\u987a\u5e8f\u6307\u5b9a\u3002\u826f\u597d\u7684\u5f62\u53c2\u547d\u540d\u52a0\u4e0a\u5173\u952e\u5b57\u7684\u5f62\u5f0f\u4f20\u53c2\uff0c\u53ef\u4ee5\u8ba9\u4ee3\u7801\u66f4\u6613\u8bfb\u3002</p> <pre><code># \u4ee5\u4e0b\u662f\u7528\u5173\u952e\u5b57\u53c2\u6570\u6b63\u786e\u8c03\u7528\u51fd\u6570\u7684\u5b9e\u4f8b\nprint_hello('tanggu', sex=1)\nprint_hello(name='tanggu', sex=1)\nprint_hello(sex=1, name='tanggu')\n</code></pre> <pre><code>hello tanggu \u5148\u751f, welcome to python world!\nhello tanggu \u5148\u751f, welcome to python world!\nhello tanggu \u5148\u751f, welcome to python world!\n</code></pre> <pre><code># \u4ee5\u4e0b\u662f\u9519\u8bef\u7684\u8c03\u7528\u65b9\u5f0f\nprint_hello(1, name='tanggu')\nprint_hello(name='tanggu', 1)\nprint_hello(sex=1, 'tanggu')\n</code></pre> <p>\u901a\u8fc7\u4e0a\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u53d1\u73b0\uff1a\u6709\u4f4d\u7f6e\u53c2\u6570\u65f6\uff0c\u4f4d\u7f6e\u53c2\u6570\u5fc5\u987b\u5728\u5173\u952e\u5b57\u53c2\u6570\u7684\u524d\u9762\uff0c\u4f46\u5173\u952e\u5b57\u53c2\u6570\u4e4b\u95f4\u4e0d\u5b58\u5728\u5148\u540e\u987a\u5e8f\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.11.%E5%87%BD%E6%95%B0.html#_7","title":"\u9ed8\u8ba4\u53c2\u6570\u503c","text":"<p>\u5b9a\u4e49\u51fd\u6570\u65f6\uff0c\u4e3a\u53c2\u6570\u63d0\u4f9b\u4e86\u9ed8\u8ba4\u503c\uff0c\u8c03\u7528\u51fd\u6570\u65f6\u8be5\u53c2\u6570\u53ef\u4f20\u53ef\u4e0d\u4f20\u3002\u6ce8\u610f\uff1a\u5728\u51fd\u6570\u5b9a\u4e49\u548c\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u6240\u6709\u4f4d\u7f6e\u53c2\u6570\u5fc5\u987b\u5199\u5728\u5e26\u9ed8\u8ba4\u503c\u7684\u53c2\u6570\u524d\u9762\u3002</p> <pre><code># \u6b63\u786e\u7684\u9ed8\u8ba4\u53c2\u6570\u5b9a\u4e49\u65b9\u5f0f--&gt; \u4f4d\u7f6e\u53c2\u6570\u5728\u524d\uff0c\u9ed8\u8ba4\u53c2\u6570\u5728\u540e\ndef print_hello(name, sex=1):\n    ....\n\n# \u9519\u8bef\u7684\u5b9a\u4e49\u65b9\u5f0f\ndef print_hello(sex=1, name):\n    ....\n\n# \u8c03\u7528\u65f6\u4e0d\u4f20sex\u7684\u503c\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u503c1\n# print_hello('tanggu')\n\n# \u8c03\u7528\u65f6\u4f20\u5165sex\u7684\u503c\uff0c\u5e76\u6307\u5b9a\u4e3a2\n# print_hello('tanggu', 2)\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.11.%E5%87%BD%E6%95%B0.html#_8","title":"\u53ef\u53d8\u53c2\u6570","text":"<p>\u6709\u65f6\u5019\u5728\u5b9a\u4e49\u51fd\u6570\u65f6\uff0c\u6211\u4eec\u4e0d\u786e\u5b9a\u51fd\u6570\u8c03\u7528\u65f6\u4f1a\u4f20\u5165\u591a\u5c11\u4e2a\u53c2\u6570\uff08\u5305\u62ec\u4f20\u51650\u4e2a\u53c2\u6570\u7684\u60c5\u51b5\uff09\u3002\u6b64\u65f6\uff0c\u53ef\u4ee5<code>*args</code>\u6216<code>**kargs</code>\u7684\u5f62\u5f0f\u6536\u96c6\u53ef\u53d8\u6570\u91cf\u7684\u4f4d\u7f6e\u53c2\u6570\u6216\u5173\u952e\u5b57\u53c2\u6570\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.11.%E5%87%BD%E6%95%B0.html#_9","title":"\u6536\u96c6\u53ef\u53d8\u4f4d\u7f6e\u53c2\u6570","text":"<pre><code>def func(arg1, arg2, *args):\n    ....\n\n# \u8c03\u7528\u5f62\u5f0f \nfunc(a, b)\nfunc(a, b, c)\nfunc(a, b, c, d)\n</code></pre> <p><code>args</code>\u662f\u4e00\u4e2a\u5143\u7ec4\uff0c\u4f20\u5165\u7684\u53ef\u53d8\u4f4d\u7f6e\u53c2\u6570\u90fd\u4f1a\u88ab\u6309\u987a\u5e8f\u653e\u5165<code>args</code>\u4e4b\u4e2d\u3002\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece<code>args</code>\u53d8\u91cf\u4e2d\u83b7\u53d6\u4f20\u5165\u7684\u53c2\u6570\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.11.%E5%87%BD%E6%95%B0.html#_10","title":"\u5305\u88f9\u5173\u952e\u5b57\u4f20\u9012","text":"<pre><code>def func(arg1, arg2, *args, **kargs):\n    ....\n\n# \u8c03\u7528\u5f62\u5f0f \nfunc(a, b, c=1)\nfunc(a, b, c, d=1, e=2)\n</code></pre> <p><code>kargs</code>\u662f\u4e00\u4e2a\u5b57\u5178\uff0c<code>kargs</code>\u6536\u96c6\u4e86\u6240\u6709\u7684\u53ef\u53d8\u5173\u952e\u5b57\u53c2\u6570\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.11.%E5%87%BD%E6%95%B0.html#_11","title":"\u89e3\u5305\u53ef\u53d8\u53c2\u6570\u5217\u8868","text":"<p><code>*</code>\u548c<code>**</code>\u4e5f\u53ef\u4ee5\u5728\u51fd\u6570\u8c03\u7528\u7684\u65f6\u5019\u4f7f\u7528\uff0c\u79f0\u4e4b\u4e3a\u89e3\u5305\u88f9(unpacking)\u3002\u5728\u4f20\u5165\u5143\u7ec4\u65f6\uff0c\u5143\u7ec4\u6bcf\u4e2a\u5143\u7d20\u6309\u987a\u5e8f\u5bf9\u5e94\u4e00\u4e2a\u4f4d\u7f6e\u53c2\u6570\u3002</p> <pre><code>def print_hello(name, sex):\n    print name, sex\n\n# \u8c03\u7528\u5f62\u5f0f \nargs = ('tanggu', '\u7537')\nprint_hello(*args)\n</code></pre> <p>\u5728\u4f20\u5165\u5b57\u5178\u65f6\uff0c\u5b57\u5178\u7684\u6bcf\u4e2a\u952e\u503c\u5bf9\u4f5c\u4e3a\u4e00\u4e2a\u5173\u952e\u5b57\u53c2\u6570\u4f20\u9012\u7ed9\u51fd\u6570\u3002</p> <pre><code>def print_hello(kargs):\n    print kargs\n\n# \u8c03\u7528\u5f62\u5f0f \nkargs = {'name': 'tanggu', 'sex', '\u7537'}\nprint_hello(**kargs)\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.11.%E5%87%BD%E6%95%B0.html#_12","title":"\u4f4d\u7f6e\u53c2\u6570\u3001\u9ed8\u8ba4\u53c2\u6570\u3001\u53ef\u53d8\u53c2\u6570\u7684\u6df7\u5408\u4f7f\u7528","text":"<p>\u987a\u5e8f\u662f\uff1a\u4f4d\u7f6e\u53c2\u6570\u3001\u9ed8\u8ba4\u53c2\u6570\u3001\u53ef\u53d8\u4f4d\u7f6e\u53c2\u6570\u3001\uff08\u53ef\u53d8\uff09\u5173\u952e\u5b57\u53c2\u6570\uff0c\u5b9a\u4e49\u548c\u8c03\u7528\u90fd\u5e94\u9075\u5faa\u8fd9\u4e2a\u987a\u5e8f\u3002</p> <pre><code>def func(name, age, sex=1, *args, **kargs):\n    print name, age, sex, args, kargs\n\n# \u8c03\u7528\u5f62\u5f0f \nfunc('tanggu', 25, 2, 'music', 'sport', class=2)\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.11.%E5%87%BD%E6%95%B0.html#_13","title":"\u9650\u5b9a\u4f20\u53c2\u5f62\u5f0f","text":"<p>\u6709\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u80fd\u60f3\u8981\u9650\u5b9a\u4f20\u5165\u53c2\u6570\u7684\u5f62\u5f0f\uff1a</p> <ol> <li>\u53ea\u80fd\u4f20\u5165\u4f4d\u7f6e\u53c2\u6570\uff08Positional-Only Parameters\uff09\uff0c\u53ea\u4f7f\u7528\u4f4d\u7f6e\u53c2\u6570\uff0c\u7a0b\u5e8f\u6027\u80fd\u53ef\u80fd\u4f1a\u66f4\u597d\u3002</li> <li>\u53ea\u80fd\u4f20\u5165\u5173\u952e\u5b57\u53c2\u6570\uff08Keyword-Only Arguments\uff09\uff0c\u53ea\u4f7f\u7528\u5173\u952e\u5b57\u53c2\u6570\uff0c\u4ee3\u7801\u53ef\u8bfb\u6027\u4f1a\u66f4\u597d\u3002</li> </ol> <p>\u90a3\u4e48\uff0c\u53ef\u4ee5\u5728\u51fd\u6570\u5b9a\u4e49\u7684\u5f62\u53c2\u5217\u8868\u4e2d\u52a0\u5165<code>/</code>\u6216<code>*</code>\u8fdb\u884c\u9650\u5236\u3002<code>/</code>\u8868\u793a\u6b63\u659c\u6760\u4e4b\u524d\u7684\u53c2\u6570\u5fc5\u987b\u4f20\u5165\u4f4d\u7f6e\u53c2\u6570\uff1b<code>*</code>\u8868\u793a\u661f\u53f7\u4e4b\u540e\u7684\u53c2\u6570\u5fc5\u4f20\u5165\u5173\u952e\u5b57\u53c2\u6570\u3002</p> <pre><code># arg\u7684\u4f20\u53c2\u5f62\u5f0f\u6ca1\u6709\u9650\u5236\ndef standard_arg(arg):\n    print(arg)\n\n# arg\u5fc5\u987b\u4ee5\u4f4d\u7f6e\u53c2\u6570\u7684\u5f62\u5f0f\u4f20\u5165\ndef pos_only_arg(arg, /):\n    print(arg)\n\n# arg\u5fc5\u987b\u4ee5\u5173\u952e\u5b57\u53c2\u6570\u7684\u5f62\u5f0f\u4f20\u5165\ndef kwd_only_arg(*, arg):\n    print(arg)\n\n# pos_only\u5fc5\u987b\u4f20\u5165\u4f4d\u7f6e\u53c2\u6570 standard\u6ca1\u6709\u9650\u5236 kwd_only\u5fc5\u987b\u4f20\u5165\u5173\u952e\u5b57\u53c2\u6570\ndef combined_example(pos_only, /, standard, *, kwd_only):\n    print(pos_only, standard, kwd_only)\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.11.%E5%87%BD%E6%95%B0.html#_14","title":"\u6587\u6863\u5b57\u7b26\u4e32","text":"<p>Python \u7684\u6587\u6863\u5b57\u7b26\u4e32\u6709\u4e00\u4e9b\u7ea6\u5b9a\u4fd7\u6210\u7684\u89c4\u8303\uff0c\u53ef\u4ee5\u53c2\u8003 Python \u7684\u5b98\u65b9\u6587\u6863\u3002Python \u7684\u6587\u6863\u5b57\u7b26\u4e32\u4e0d\u53ea\u4e00\u79cd\u98ce\u683c\uff0c\u4e3b\u8981\u6709\u4e09\u79cd\u98ce\u683c\uff1a</p> <ol> <li>NumPy style</li> <li>Google style</li> <li>reStructuredText style</li> </ol> <p>reStructuredText\u98ce\u683c\u7684docstring\uff08Pycharm\u9ed8\u8ba4\u7684\u98ce\u683c\uff09\uff1a</p> <pre><code>def func(arg1, arg2):\n\"\"\"Summary line.\n\n    Extended description of function.\n\n    :param arg1: Description of arg1\n    :type arg1: int\n    :param arg2: Description of arg2\n    :type arg2: str\n    :returns: Description of return value\n    :rtype: bool\n\n    \"\"\"\n    return True\n</code></pre> <p>Google\u98ce\u683c\u7684docstring\uff08\u503e\u5411\u6c34\u5e73\uff0c\u77ed\u800c\u7b80\u5355\u7684\u6587\u6863\uff09\uff1a</p> <pre><code>def func(arg1, arg2):\n\"\"\"Summary line.\n\n    Extended description of function.\n\n    Args:\n        arg1 (int): Description of arg1\n        arg2 (str): Description of arg2\n\n    Returns:\n        bool: Description of return value\n\n    Raises:\n        Possible exception: Description of exception\n    \"\"\"\n    return True\n</code></pre> <p>NumPy\u98ce\u683c\u7684docstring\uff08\u503e\u5411\u5782\u76f4\uff0c\u957f\u800c\u6df1\u7684\u6587\u6863\uff1bSpyder\u9ed8\u8ba4\u7684\u98ce\u683c\uff09\uff1a</p> <pre><code>def func(arg1, arg2):\n\"\"\"Summary line.\n\n    Extended description of function.\n\n    Parameters\n    ----------\n    arg1 : int\n        Description of arg1\n    arg2 : str\n        Description of arg2\n\n    Returns\n    -------\n    bool\n        Description of return value\n\n    \"\"\"\n    return True\n</code></pre> <p>\u5177\u4f53\u53ef\u4ee5\u53c2\u8003Support for NumPy and Google style docstrings\uff0c\u8fd9\u91cc\u662f\u4e2d\u6587\u7248\u672c\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html","title":"2.12.\u5185\u7f6e\u51fd\u6570","text":"<pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.20\n</code></pre> <p>Python \u89e3\u91ca\u5668\u5185\u7f6e\u4e86\u5f88\u591a\u51fd\u6570\u548c\u7c7b\u578b\uff0c\u60a8\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u4f7f\u7528\u5b83\u4eec\u3002\u4ee5\u4e0b\u6309\u5b57\u6bcd\u8868\u987a\u5e8f\u5217\u51fa\u5b83\u4eec\u3002</p> \u5185\u7f6e\u51fd\u6570 <code>abs()</code> <code>delattr()</code> <code>hash()</code> <code>memoryview()</code> <code>set()</code> <code>all()</code> <code>dict()</code> <code>help()</code> <code>min()</code> <code>setattr()</code> <code>any()</code> <code>dir()</code> <code>hex()</code> <code>next()</code> <code>slice()</code> <code>ascii()</code> <code>divmod()</code> <code>id()</code> <code>object()</code> <code>sorted()</code> <code>bin()</code> <code>enumerate()</code> <code>input()</code> <code>oct()</code> <code>staticmethod()</code> <code>bool()</code> <code>eval()</code> <code>int()</code> <code>open()</code> <code>str()</code> <code>breakpoint()</code> <code>exec()</code> <code>isinstance()</code> <code>ord()</code> <code>sum()</code> <code>bytearray()</code> <code>filter()</code> <code>issubclass()</code> <code>pow()</code> <code>super()</code> <code>bytes()</code> <code>float()</code> <code>iter()</code> <code>print()</code> <code>tuple()</code> <code>callable()</code> <code>format()</code> <code>len()</code> <code>property()</code> <code>type()</code> <code>chr()</code> <code>frozenset()</code> <code>list()</code> <code>range()</code> <code>vars()</code> <code>classmethod()</code> <code>getattr()</code> <code>locals()</code> <code>repr()</code> <code>zip()</code> <code>compile()</code> <code>globals()</code> <code>map()</code> <code>reversed()</code> <code>__import__()</code> <code>complex()</code> <code>hasattr()</code> <code>max()</code> <code>round()</code>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#a","title":"A","text":"<code>abs(x)</code> - \u8fd4\u56de\u4e00\u4e2a\u6570\u7684\u7edd\u5bf9\u503c<p>\u53c2\u6570\u53ef\u4ee5\u662f\u4e00\u4e2a\u6574\u6570\u6216\u6d6e\u70b9\u6570\u3002 \u5982\u679c\u53c2\u6570\u662f\u4e00\u4e2a\u590d\u6570\uff0c\u5219\u8fd4\u56de\u5b83\u7684\u6a21\u3002\u5982\u679c <code>x</code> \u5b9a\u4e49\u4e86 <code>__abs__()</code>\uff0c\u5219 <code>abs(x)</code> \u5c06\u8fd4\u56de <code>x.__abs__()</code>\u3002</p> <pre><code>class A:\n    def __abs__(self):\n        return 10\nabs(A())\n</code></pre> <pre><code>10\n</code></pre> <code>all(iterable)</code> - \u5982\u679c<code>iterable</code>\u7684\u6240\u6709\u5143\u7d20\u5747\u4e3a\u771f\u503c\uff08\u6216\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e3a\u7a7a\uff09\u5219\u8fd4\u56de <code>True</code> <p>\u7b49\u4ef7\u4e8e:</p> <pre><code>def all(iterable):\n    for element in iterable:\n        if not element:\n            return False\n    return True\n</code></pre> <code>any(iterable)</code>\uff1a\u5982\u679c <code>iterable</code>\u7684\u4efb\u4e00\u5143\u7d20\u4e3a\u771f\u503c\u5219\u8fd4\u56de <code>True</code>\uff1b\u5982\u679c\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e3a\u7a7a\uff0c\u8fd4\u56de <code>False</code><p>\u7b49\u4ef7\u4e8e:</p> <pre><code>def any(iterable):\n    for element in iterable:\n        if element:\n            return True\n    return False\n</code></pre> <code>ascii(object)</code>\uff1a\u8fd4\u56de\u5bf9\u8c61\u7684ASCII\u8868\u793a\u5f62\u5f0f<p>\u7c7b\u4f3c\u51fd\u6570 <code>repr()</code>\uff0c\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u53ef\u6253\u5370\u7684\u5b57\u7b26\u4e32\uff0c\u4f46\u662f<code>repr()</code> \u8fd4\u56de\u7684\u5b57\u7b26\u4e32\u4e2d\u975e ASCII \u7f16\u7801\u7684\u5b57\u7b26\uff0c\u4f1a\u4f7f\u7528 <code>\\x</code>\u3001<code>\\u</code> \u548c <code>\\U</code> \u6765\u8f6c\u4e49\u3002\u751f\u6210\u7684\u5b57\u7b26\u4e32\u548c Python 2 \u7684<code>repr()</code>\u8fd4\u56de\u7684\u7ed3\u679c\u76f8\u4f3c\u3002</p> <pre><code>print(ascii(\"\u7f16\u7801\"))\nprint(repr(\"\u7f16\u7801\"))\n</code></pre> <pre><code>'\\u7f16\\u7801'\n'\u7f16\u7801'\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#b","title":"B","text":"<code>bin(x)</code>\uff1a\u5c06\u4e00\u4e2a\u6574\u6570\u8f6c\u53d8\u4e3a\u4e00\u4e2a\u524d\u7f00\u4e3a\u201c0b\u201d\u7684\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32<p>\u5982\u679c <code>x</code> \u4e0d\u662f Python \u7684<code>int</code>\u5bf9\u8c61\uff0c\u90a3\u5b83\u9700\u8981\u5b9a\u4e49 <code>__index__()</code> \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u3002</p> <pre><code>print(bin(2))\nprint(type(bin(2)))\neval(bin(2)) == 2\n</code></pre> <pre><code>0b10\n&lt;class 'str'&gt;\n</code></pre> <pre><code>True\n</code></pre> <pre><code>class B:\n    def __index__(self):\n        return 10\n\nbin(B())\n</code></pre> <pre><code>'0b1010'\n</code></pre> <code>class bool([x])</code>\uff1a\u5c06\u8f93\u5165\u8f6c\u6362\u4e3a\u5e03\u5c14\u503c<p><code>bool</code> \u662f <code>int</code> \u7684\u5b50\u7c7b\u3002\u5176\u4ed6\u7c7b\u4e0d\u80fd\u7ee7\u627f\u81ea\u5b83\u3002\u5b83\u53ea\u6709 <code>False</code> \u548c <code>True</code> \u4e24\u4e2a\u5b9e\u4f8b\uff08\u53c2\u89c1 \u5e03\u5c14\u503c\uff09\u3002</p> <code>breakpoint(*args, \\**kws)</code>\uff1a\u6b64\u51fd\u6570\u4f1a\u5728\u8c03\u7528\u65f6\u8fdb\u5165\u8c03\u8bd5\u5668<p>\u5177\u4f53\u6765\u8bf4\uff0c\u5b83\u8c03\u7528 <code>sys.breakpointhook()</code>  \u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c <code>sys.breakpointhook()</code> \u8c03\u7528 <code>pdb.set_trace()</code> \u4e14\u6ca1\u6709\u53c2\u6570\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b83\u7eaf\u7cb9\u662f\u4e00\u4e2a\u4fbf\u5229\u51fd\u6570\uff0c\u56e0\u6b64\u60a8\u4e0d\u5fc5\u663e\u5f0f\u5bfc\u5165 <code>pdb</code> \u4e14\u952e\u5165\u5c3d\u53ef\u80fd\u5c11\u7684\u4ee3\u7801\u5373\u53ef\u8fdb\u5165\u8c03\u8bd5\u5668\u3002\u4f46\u662f\uff0c <code>sys.breakpointhook()</code> \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u5176\u4ed6\u4e00\u4e9b\u51fd\u6570\u5e76\u88ab <code>breakpoint()</code> \u81ea\u52a8\u8c03\u7528\uff0c\u4ee5\u5141\u8bb8\u8fdb\u5165\u4f60\u60f3\u7528\u7684\u8c03\u8bd5\u5668\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#c","title":"C","text":"<code>callable(object)</code>\uff1a\u5982\u679c\u53c2\u6570 <code>object</code> \u662f\u53ef\u8c03\u7528\u7684\u5c31\u8fd4\u56de<code>True</code>\uff0c\u5426\u5219\u8fd4\u56de<code>False</code><p>\u5982\u679c\u8fd4\u56de <code>True</code>\uff0c\u8c03\u7528\u4ecd\u53ef\u80fd\u5931\u8d25\uff0c\u4f46\u5982\u679c\u8fd4\u56de <code>False</code>\uff0c\u5219\u8c03\u7528 object \u5c06\u80af\u5b9a\u4e0d\u4f1a\u6210\u529f\u3002</p> <pre><code>def test():\n    raise Exception\n\ncallable(test)\n</code></pre> <pre><code>True\n</code></pre> <code>chr(i)</code>\uff1a\u8fd4\u56de Unicode \u7801\u4f4d\u4e3a\u6574\u6570 <code>i</code> \u7684\u5b57\u7b26<p>\u8fd9\u662f<code>ord()</code>\u7684\u9006\u51fd\u6570\u3002\u5b9e\u53c2\u7684\u5408\u6cd5\u8303\u56f4\u662f 0 \u5230 1114111\uff0816 \u8fdb\u5236\u8868\u793a\u662f 0x10FFFF\uff09\u3002\u5982\u679c <code>i</code> \u8d85\u8fc7\u8fd9\u4e2a\u8303\u56f4\uff0c\u4f1a\u89e6\u53d1<code>ValueError</code>\u5f02\u5e38\u3002</p> <pre><code>print(chr(97))\nprint(chr(8364))\n</code></pre> <pre><code>a\n\u20ac\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#d","title":"D","text":"<code>delattr(object, name)</code>\uff1a\u5982\u679c\u5bf9\u8c61\u5141\u8bb8\uff0c\u8be5\u51fd\u6570\u5c06\u5220\u9664\u6307\u5b9a\u7684\u5c5e\u6027<p><code>delattr(x, 'foobar')</code> \u7b49\u4ef7\u4e8e <code>del x.foobar</code>\u3002</p> <code>divmod(a, b)</code>\uff1a\u5b83\u5c06\u4e24\u4e2a\uff08\u975e\u590d\u6570\uff09\u6570\u5b57\u4f5c\u4e3a\u5b9e\u53c2\uff0c\u5e76\u5728\u6267\u884c\u6574\u6570\u9664\u6cd5\u65f6\u8fd4\u56de\u4e00\u5bf9\u5546\u548c\u4f59\u6570<p>\u5bf9\u4e8e\u6574\u6570\uff0c\u7ed3\u679c\u548c <code>(a // b, a % b)</code> \u4e00\u81f4\u3002\u5bf9\u4e8e\u6d6e\u70b9\u6570\uff0c\u7ed3\u679c\u662f <code>(q, a % b)</code> \uff0cq \u901a\u5e38\u662f <code>math.floor(a / b)</code> \uff0c\u4f46\u53ef\u80fd\u4f1a\u6bd4 1 \u5c0f\u3002\u5728\u4efb\u4f55\u60c5\u51b5\u4e0b\uff0c <code>q * b + a % b</code> \u548c a \u57fa\u672c\u76f8\u7b49\uff1b\u5982\u679c <code>a % b</code> \u975e\u96f6\uff0c\u5b83\u7684\u7b26\u53f7\u548c b \u4e00\u6837\uff0c\u5e76\u4e14 <code>0 &lt;= abs(a % b) &lt; abs(b)</code> \u3002</p> <pre><code># \u6574\u6570\nprint(divmod(10, 5))\nprint((10//5, 10%5))\n\n# \u6d6e\u70b9\u6570\nimport math\n\nprint(divmod(8.5, 5))\nprint((math.floor(8.5 / 5), 8.5 % 5))\n</code></pre> <pre><code>(2, 0)\n(2, 0)\n(1.0, 3.5)\n(1, 3.5)\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#e","title":"E","text":"<code>enumerate(iterable, start=0)</code>\uff1a\u8fd4\u56de\u4e00\u4e2a\u679a\u4e3e\u5bf9\u8c61"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#f","title":"F","text":"<code>filter(function, iterable)</code>\uff1a\u7528\u51fd\u6570 <code>function</code> \u8fd4\u56de\u771f\u503c\u7684 <code>iterable</code> \u5143\u7d20\u6784\u5efa\u4e00\u4e2a\u65b0\u7684\u8fed\u4ee3\u5668<p>\u8be5\u51fd\u6570\u76f8\u5f53\u4e8e\u4e00\u4e2a\u751f\u6210\u5668\u8868\u8fbe\u5f0f\uff0c\u5f53 <code>function</code> \u4e0d\u662f <code>None</code> \u7684\u65f6\u5019\uff0c\u76f8\u5f53\u4e8e\uff1a</p> <pre><code>(item for item in iterable if function(item))\n</code></pre> <p>\u5f53 <code>function</code> \u662f <code>None</code> \u65f6\uff0c\u76f8\u5f53\u4e8e\uff1a</p> <pre><code>(item for item in iterable if item)\n</code></pre> <p>\u53e6\u5916\uff0c\u8bf7\u53c2\u9605 <code>itertools.filterfalse()</code> \u4e86\u89e3\uff0c \u53ea\u6709 <code>function</code> \u8fd4\u56de false \u65f6\u624d\u9009\u53d6 <code>iterable</code> \u5143\u7d20\u7684\u8865\u5145\u51fd\u6570\u3002</p> <code>class float([x])</code>\uff1a\u8fd4\u56de\u4ece\u6570\u5b57\u6216\u5b57\u7b26\u4e32 x \u751f\u6210\u7684\u6d6e\u70b9\u6570<p>\u5982\u679c\u5b9e\u53c2\u662f\u5b57\u7b26\u4e32\uff0c\u5219\u5b83\u5fc5\u987b\u662f\u5305\u542b\u5341\u8fdb\u5236\u6570\u5b57\u7684\u5b57\u7b26\u4e32\uff0c\u5b57\u7b26\u4e32\u524d\u9762\u53ef\u4ee5\u6709\u7b26\u53f7\uff0c\u4e4b\u524d\u4e5f\u53ef\u4ee5\u6709\u7a7a\u683c\u3002\u53ef\u9009\u7684\u7b26\u53f7\u6709 <code>'+'</code> \u548c <code>'-'</code>\u3002 </p> <pre><code>float(\"+5\")\nfloat(\" +5\")\nfloat(\"NaN\")\nfloat(\"Infinity\")\nfloat(\"inf\")\nfloat('+1E6')\n</code></pre> <code>class frozenset ([iterable])</code>\uff1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 <code>frozenset</code> \u5bf9\u8c61\uff0c\u5b83\u5305\u542b\u53ef\u9009\u53c2\u6570 iterable \u4e2d\u7684\u5143\u7d20\u3002 <code>frozenset</code> \u662f\u4e00\u4e2a\u5185\u7f6e\u7684\u7c7b\u3002\u6709\u5173\u6b64\u7c7b\u7684\u6587\u6863\uff0c\u8bf7\u53c2\u9605 <code>frozenset</code> \u548c \u96c6\u5408\u7c7b\u578b --- set, frozenset\u3002\u8bf7\u53c2\u9605\u5185\u5efa\u7684 <code>set</code>\u3001<code>list</code>\u3001<code>tuple</code> \u548c <code>dict</code> \u7c7b\uff0c\u4ee5\u53ca <code>collections</code> \u6a21\u5757\u6765\u4e86\u89e3\u5176\u5b83\u7684\u5bb9\u5668\u3002"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#g","title":"G","text":"<code>getattr(object, name[, default])</code>\uff1a\u8fd4\u56de<code>object</code>\u5bf9\u8c61<code>name</code>\u5c5e\u6027\u7684\u503c<p>\u5982\u679c\u6307\u5b9a\u7684\u5c5e\u6027\u4e0d\u5b58\u5728\uff0c\u4e14\u63d0\u4f9b\u4e86 <code>default</code> \u503c\uff0c\u5219\u8fd4\u56de<code>default</code>\uff0c\u5426\u5219\u89e6\u53d1 <code>AttributeError</code>\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#h","title":"H","text":"<code>hasattr(object, name)</code>\uff1a\u67e5\u770b<code>object</code>\u5bf9\u8c61\u662f\u5426\u5177\u6709\u5c5e\u6027<code>name</code>\uff0c\u5982\u679c\u6709\u5219\u8fd4\u56de <code>True</code>\uff0c\u5426\u5219\u8fd4\u56de <code>False</code><p>\u6b64\u529f\u80fd\u662f\u901a\u8fc7\u8c03\u7528 <code>getattr(object, name)</code> \u770b\u662f\u5426\u6709 <code>AttributeError</code> \u5f02\u5e38\u6765\u5b9e\u73b0\u7684\u3002</p> <code>hash(object)</code>\uff1a\u8fd4\u56de\u5bf9\u8c61\u7684\u54c8\u5e0c\u503c\uff08\u5982\u679c\u6709\u7684\u8bdd\uff09\uff0c\u54c8\u5e0c\u503c\u662f\u6574\u6570 <code>hex(x)</code>\uff1a\u5c06\u6574\u6570\u8f6c\u6362\u4e3a\u4ee5\u201c0x\u201d\u4e3a\u524d\u7f00\u7684\u5c0f\u5199\u5341\u516d\u8fdb\u5236\u5b57\u7b26\u4e32"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#i","title":"I","text":"<code>id(object)</code>\uff1a\u8fd4\u56de\u5bf9\u8c61\u7684\u201c\u6807\u8bc6\u503c\u201d<p>\u8be5\u503c\u662f\u4e00\u4e2a\u6574\u6570\uff0c\u5728\u6b64\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u4e2d\u4fdd\u8bc1\u662f\u552f\u4e00\u4e14\u6052\u5b9a\u7684\u3002\u4e24\u4e2a\u751f\u547d\u671f\u4e0d\u91cd\u53e0\u7684\u5bf9\u8c61\u53ef\u80fd\u5177\u6709\u76f8\u540c\u7684 <code>id</code> \u503c\u3002CPython implementation detail: This is the address of the object in memory.</p> <code>input([prompt])</code>\uff1a\u4ece\u6807\u51c6\u8f93\u51fa\u8bfb\u5165\u7528\u6237\u7684\u8f93\u5165\u6570\u636e<p>\u5982\u679c\u5b58\u5728 <code>prompt</code> \u5b9e\u53c2\uff0c\u5219\u5c06\u5176\u5199\u5165\u6807\u51c6\u8f93\u51fa\uff0c\u5e76\u4e14\u672b\u5c3e\u4e0d\u5e26\u6362\u884c\u7b26\u3002\u63a5\u7740\u8be5\u51fd\u6570\u4ece\u8f93\u5165\u4e2d\u8bfb\u53d6\u4e00\u884c\uff0c\u5c06\u5176\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\uff08\u9664\u4e86\u672b\u5c3e\u7684\u6362\u884c\u7b26\uff09\u5e76\u8fd4\u56de\u3002\u5f53\u8bfb\u53d6\u5230 EOF \u65f6\uff0c\u5219\u89e6\u53d1 <code>EOFError</code>\u3002</p> <code>class int(x, base=10)</code>\uff1a\u8fd4\u56de\u4e00\u4e2a\u57fa\u4e8e\u6570\u5b57\u6216\u5b57\u7b26\u4e32 <code>x</code> \u6784\u9020\u7684\u6574\u6570\u5bf9\u8c61\uff0c\u6216\u8005\u5728\u672a\u7ed9\u51fa\u53c2\u6570\u65f6\u8fd4\u56de <code>0</code><p><code>base</code>\u8868\u793a\u8fdb\u5236\uff0c\u5141\u8bb8\u7684\u8fdb\u5236\u6709 0\u30012-36\u3002\u8fdb\u5236\u4e3a 0 \u5c06\u5b89\u7167\u4ee3\u7801\u7684\u5b57\u9762\u91cf\u6765\u7cbe\u786e\u89e3\u91ca\uff0c\u6700\u540e\u7684\u7ed3\u679c\u4f1a\u662f 2\u30018\u300110\u300116 \u8fdb\u5236\u4e2d\u7684\u4e00\u4e2a\u3002</p> <p>\u5982\u679c<code>x</code>\u4e0d\u662f\u6570\u5b57\u7c7b\u578b\uff0c\u5219\u4f1a\u6309\u4ee5\u4e0b\u8c03\u7528\u987a\u5e8f\u8fd4\u56de\u503c\uff08Python3.8\uff09\uff1a</p> <ol> <li>\u5982\u679c <code>x</code> \u5b9a\u4e49\u4e86 <code>__int__()</code>\uff0c<code>int(x)</code> \u5c06\u8fd4\u56de <code>x.__int__()</code></li> <li>\u5982\u679c <code>x</code> \u5b9a\u4e49\u4e86 <code>__index__()</code>\uff0c\u5b83\u5c06\u8fd4\u56de <code>x.__index__()</code></li> <li>\u5982\u679c <code>x</code> \u5b9a\u4e49\u4e86 <code>__trunc__()</code>\uff0c\u5b83\u5c06\u8fd4\u56de <code>x.__trunc__()</code></li> </ol> <p>\u5982\u679c <code>x</code> \u4e0d\u662f\u6570\u5b57\uff0c\u6216\u8005\u4f20\u5165\u4e86 <code>base</code> \u53c2\u6570\uff0c\u90a3\u4e48 <code>x</code> \u5fc5\u987b\u662f<code>str</code>\u3001<code>bytes</code>\u3001\u8868\u793a\u8fdb\u5236\u4e3a <code>base</code> \u7684\u6574\u6570\u5b57\u9762\u503c\u7684 <code>bytearray</code> \u5b9e\u4f8b\u3002</p> <code>isinstance(object, classinfo)</code>\uff1a\u5982\u679c<code>object</code>\u662f<code>classinfo</code>\u7684\u5b9e\u4f8b\u6216\u8005\u662f\u5176 (\u76f4\u63a5\u3001\u95f4\u63a5\u6216 \u865a\u62df) \u5b50\u7c7b\u5219\u8fd4\u56de <code>True</code>\uff0c\u5426\u5219\u8fd4\u56de<code>False</code><p>\u5982\u679c <code>classinfo</code> \u662f\u7c7b\u578b\u5bf9\u8c61\u5143\u7ec4\uff08\u6216\u7531\u5176\u4ed6\u6b64\u7c7b\u5143\u7ec4\u9012\u5f52\u7ec4\u6210\u7684\u5143\u7ec4\uff09\uff0c\u90a3\u4e48\u5982\u679c <code>object</code> \u662f\u5176\u4e2d\u4efb\u4f55\u4e00\u4e2a\u7c7b\u578b\u7684\u5b9e\u4f8b\u5c31\u8fd4\u56de <code>True</code>\u3002\u5982\u679c <code>classinfo</code> \u65e2\u4e0d\u662f\u7c7b\u578b\uff0c\u4e5f\u4e0d\u662f\u7c7b\u578b\u5143\u7ec4\u6216\u7c7b\u578b\u5143\u7ec4\u7684\u5143\u7ec4\uff0c\u5219\u5c06\u5f15\u53d1 <code>TypeError</code> \u5f02\u5e38\u3002</p> <pre><code>class A:\n    pass\n\nclass B(A):\n    pass\n\nc = B()\nprint(isinstance(c, A))\nprint(isinstance(c, (B, str)))\n</code></pre> <pre><code>True\nTrue\n</code></pre> <pre><code>try:\n    isinstance(c, \"C\")\nexcept TypeError as e:\n    print(e)\n</code></pre> <pre><code>isinstance() arg 2 must be a type or tuple of types\n</code></pre> <code>issubclass(class, classinfo)</code>\uff1a\u5982\u679c <code>class</code> \u662f <code>classinfo</code> \u7684 (\u76f4\u63a5\u3001\u95f4\u63a5\u6216 \u865a\u62df) \u5b50\u7c7b\u5219\u8fd4\u56de <code>True</code><p>\u7c7b\u4f1a\u88ab\u89c6\u4f5c\u5176\u81ea\u8eab\u7684\u5b50\u7c7b\u3002<code>classinfo</code> \u4e5f\u53ef\u4ee5\u662f\u7c7b\u5bf9\u8c61\u7684\u5143\u7ec4\uff0c\u5728\u6b64\u60c5\u51b5\u4e0b <code>classinfo</code> \u4e2d\u7684\u6bcf\u4e2a\u6761\u76ee\u90fd\u5c06\u88ab\u68c0\u67e5\u3002\u5728\u4efb\u4f55\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u90fd\u5c06\u5f15\u53d1 <code>TypeError</code> \u5f02\u5e38\u3002</p> <code>iter(object[, sentinel])</code>\uff1a\u8fd4\u56de\u4e00\u4e2aiterator\u5bf9\u8c61<ol> <li>\u5f53\u53ea\u4f20\u5165\u5b9e\u53c2<code>object</code>\u65f6\uff0c<code>object</code>\u5fc5\u987b\u662f\u652f\u6301\u8fed\u4ee3\u534f\u8bae\uff08<code>__iter__()</code> \u65b9\u6cd5\uff09\u7684\u96c6\u5408\u5bf9\u8c61\uff0c\u6216\u5fc5\u987b\u652f\u6301\u5e8f\u5217\u534f\u8bae\uff08<code>__getitem__()</code> \u65b9\u6cd5\uff0c\u4e14\u6570\u5b57\u53c2\u6570\u4ece <code>0</code> \u5f00\u59cb\uff09\u3002\u5982\u679c\u5b83\u4e0d\u652f\u6301\u8fd9\u4e9b\u534f\u8bae\uff0c\u4f1a\u89e6\u53d1 <code>TypeError</code>\u3002</li> <li>\u5982\u679c\u4f20\u5165\u5b9e\u53c2<code>object</code>\u548c\u7b2c\u4e8c\u4e2a\u5b9e\u53c2<code>sentinel</code>\uff0c\u90a3\u4e48 <code>object</code>\u5fc5\u987b\u662f\u53ef\u8c03\u7528\u7684\u5bf9\u8c61\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u751f\u6210\u7684\u8fed\u4ee3\u5668\uff0c\u6bcf\u6b21\u8fed\u4ee3\u8c03\u7528\u5b83\u7684 <code>__next__()</code> \u65b9\u6cd5\u65f6\u90fd\u4f1a\u4e0d\u5e26\u53c2\u6570\u8c03\u7528 <code>object</code>\uff1b\u5982\u679c\u8fd4\u56de\u7684\u7ed3\u679c\u662f <code>sentinel</code> \u5219\u89e6\u53d1 <code>StopIteration</code>\uff0c\u5426\u5219\u8fd4\u56de\u8c03\u7528\u7ed3\u679c\u3002</li> </ol> <p>\u53e6\u8bf7\u53c2\u9605 \u8fed\u4ee3\u5668\u7c7b\u578b\u3002\u9002\u5408 <code>iter()</code> \u7684\u5e94\u7528\u4e4b\u4e00\u662f\u6784\u5efa\u5757\u8bfb\u53d6\u5668\u3002\u4f8b\u5982\uff0c\u4ece\u4e8c\u8fdb\u5236\u6570\u636e\u5e93\u6587\u4ef6\u4e2d\u8bfb\u53d6\u56fa\u5b9a\u5bbd\u5ea6\u7684\u5757\uff0c\u76f4\u81f3\u5230\u8fbe\u6587\u4ef6\u7684\u672b\u5c3e\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#l","title":"L","text":"<code>len(s)</code>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#m","title":"M","text":"<code>map(function, iterable, ...)</code>\uff1a\u4f9d\u6b21\u5c06<code>iterable</code>\u7684\u5143\u7d20\u8f93\u5165\u51fd\u6570<code>function</code>\uff0c\u5168\u90e8\u8f93\u51fa\u7ed3\u679c\u4ee5\u8fed\u4ee3\u5668\u7684\u5f62\u5f0f\u8fd4\u56de<p>\u5982\u679c<code>function</code>\u9700\u8981\u591a\u4e2a\u53c2\u6570\uff0c\u5219\u9700\u8981\u4f20\u5165\u591a\u4e2a<code>iterable</code>\u53c2\u6570\uff0c<code>function</code>\u4ece\u6240\u6709\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e2d\u5e76\u884c\u83b7\u53d6\u53c2\u6570\u3002\u5f53\u6709\u591a\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\u65f6\uff0c\u6700\u77ed\u7684\u53ef\u8fed\u4ee3\u5bf9\u8c61\u8017\u5c3d\u5219\u6574\u4e2a\u8fed\u4ee3\u5c31\u5c06\u7ed3\u675f\u3002\u5bf9\u4e8e\u51fd\u6570\u7684\u8f93\u5165\u5df2\u7ecf\u662f\u53c2\u6570\u5143\u7ec4\u7684\u60c5\u51b5\uff0c\u8bf7\u53c2\u9605 <code>itertools.starmap()</code>\u3002</p> <code>max()</code>\uff1a\u8fd4\u56de\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e2d\u6700\u5927\u7684\u5143\u7d20\uff0c\u6216\u8005\u8fd4\u56de\u591a\u4e2a\u5b9e\u53c2\u4e2d\u6700\u5927\u7684\u5143\u7d20<pre><code>max(iterable, *[, default=obj, key=func]) -&gt; value\nmax(arg1, arg2, *args, *[, key=func]) -&gt; value\n</code></pre> <ol> <li>\u5982\u679c\u53ea\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4f4d\u7f6e\u53c2\u6570\uff0c\u5b83\u5fc5\u987b\u662f\u975e\u7a7a iterable\uff0c<code>iterable</code>\u6700\u5927\u7684\u5143\u7d20\u4f1a\u88ab\u8fd4\u56de\u3002</li> <li>\u5982\u679c\u63d0\u4f9b\u4e86\u4e24\u4e2a\u53ca\u4ee5\u4e0a\u7684\u4f4d\u7f6e\u53c2\u6570\uff0c\u5219\u8fd4\u56de\u6700\u5927\u7684\u4f4d\u7f6e\u53c2\u6570\u3002</li> </ol> <p>\u6709\u4e24\u4e2a\u53ef\u9009\u4e14\u53ea\u80fd\u7528\u5173\u952e\u5b57\u7684\u53c2\u6570\uff1a</p> <ul> <li><code>key</code>\uff1a\u6307\u5b9a\u6392\u5e8f\u51fd\u6570\u7528\u7684\u53c2\u6570\uff0c\u5982\u4f20\u7ed9 <code>list.sort()</code> \u7684\u3002</li> <li><code>default</code>\uff1a\u662f\u5f53\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e3a\u7a7a\u65f6\u8fd4\u56de\u7684\u503c\u3002\u5982\u679c\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e3a\u7a7a\uff0c\u5e76\u4e14\u6ca1\u6709\u6307\u5b9a <code>default</code>\uff0c\u5219\u4f1a\u89e6\u53d1 <code>ValueError</code>\u3002</li> </ul> <p>\u5982\u679c\u6709\u591a\u4e2a\u6700\u5927\u5143\u7d20\uff0c\u5219\u6b64\u51fd\u6570\u5c06\u8fd4\u56de\u7b2c\u4e00\u4e2a\u627e\u5230\u7684\u3002\u8fd9\u548c\u5176\u4ed6\u7a33\u5b9a\u6392\u5e8f\u5de5\u5177\u5982 <code>sorted(iterable, key=keyfunc, reverse=True)[0]</code> \u548c <code>heapq.nlargest(1, iterable, key=keyfunc)</code> \u4fdd\u6301\u4e00\u81f4\u3002</p> <code>class memoryview(object)</code>\uff1a\u8fd4\u56de\u7531\u7ed9\u5b9a\u5b9e\u53c2\u521b\u5efa\u7684\u201c\u5185\u5b58\u89c6\u56fe\u201d\u5bf9\u8c61<p>\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u5185\u5b58\u89c6\u56fe\u3002</p> <code>min()</code>\uff1a\u8fd4\u56de\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e2d\u6700\u5c0f\u7684\u5143\u7d20\uff0c\u6216\u8005\u8fd4\u56de\u591a\u4e2a\u5b9e\u53c2\u4e2d\u6700\u5c0f\u7684\u5143\u7d20<pre><code>min(iterable, *[, default=obj, key=func]) -&gt; value\nmin(arg1, arg2, *args, *[, key=func]) -&gt; value\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#n","title":"N","text":"<code>next(iterator[, default])</code>\uff1a\u901a\u8fc7\u8c03\u7528 <code>iterator</code> \u7684 <code>__next__()</code> \u65b9\u6cd5\u83b7\u53d6\u4e0b\u4e00\u4e2a\u5143\u7d20<p>\u5982\u679c\u8fed\u4ee3\u5668\u8017\u5c3d\uff0c\u5219\u8fd4\u56de\u7ed9\u5b9a\u7684 <code>default</code>\uff0c\u5982\u679c\u6ca1\u6709\u9ed8\u8ba4\u503c\u5219\u89e6\u53d1 <code>StopIteration</code>\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#o","title":"O","text":"<code>oct(x)</code>\uff1a\u5c06\u4e00\u4e2a\u6574\u6570\u8f6c\u53d8\u4e3a\u524d\u7f00\u4e3a\u201c0o\u201d\u7684\u516b\u8fdb\u5236\u5b57\u7b26\u4e32<p>\u7ed3\u679c\u662f\u4e00\u4e2a\u5408\u6cd5\u7684 Python \u8868\u8fbe\u5f0f\u3002\u5982\u679c <code>x</code> \u4e0d\u662f Python \u7684 <code>int</code> \u5bf9\u8c61\uff0c\u90a3\u5b83\u9700\u8981\u5b9a\u4e49 <code>__index__()</code> \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u3002</p> <code>ord(c)</code>\uff1a\u8fd4\u56de\u5355\u4e2a Unicode \u5b57\u7b26\u7684 Unicode \u7801\u4f4d\uff0c\u4ee510\u8fdb\u5236\u6570\u8868\u793a<p>\u4f8b\u5982 <code>ord('a')</code> \u8fd4\u56de\u6574\u6570 <code>97</code>\uff0c <code>ord('\u20ac')</code> \u8fd4\u56de <code>8364</code> \u3002\u8fd9\u662f <code>chr()</code> \u7684\u9006\u51fd\u6570\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#p","title":"P","text":"<code>pow(base, exp[, mod])</code> <code>print(objects, sep=' ', end='\\n', file=sys.stdout, flush=False)</code>\uff1a\u5c06 <code>objects</code> \u6253\u5370\u5230 <code>file</code> \u6307\u5b9a\u7684\u6587\u672c\u6d41\uff0c\u4ee5 <code>sep</code> \u5206\u9694\u5e76\u5728\u672b\u5c3e\u52a0\u4e0a <code>end</code><p>\u5982\u679c\u8981\u4f20\u5165<code>sep</code>\u3001<code>end</code>\u3001<code>file</code> \u548c <code>flush</code>\u53c2\u6570\uff0c\u5219\u5fc5\u987b\u4ee5\u5173\u952e\u5b57\u53c2\u6570\u7684\u5f62\u5f0f\u4f20\u5165\u3002</p> <p>sep \u548c end \u90fd\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\uff1b\u5b83\u4eec\u4e5f\u53ef\u4ee5\u4e3a <code>None</code>\uff0c\u8fd9\u610f\u5473\u7740\u4f7f\u7528\u9ed8\u8ba4\u503c\u3002\u5982\u679c\u6ca1\u6709\u7ed9\u51fa <code>objects</code>\uff0c\u5219 <code>print()</code> \u51fd\u6570\u5c06\u53ea\u5199\u5165 <code>end</code>\u3002</p> <p><code>file</code> \u53c2\u6570\u5fc5\u987b\u662f\u4e00\u4e2a\u5177\u6709 <code>write(string)</code> \u65b9\u6cd5\u7684\u5bf9\u8c61\uff1b\u5982\u679c\u53c2\u6570\u4e0d\u5b58\u5728\u6216\u4e3a <code>None</code>\uff0c\u5219\u5c06\u4f7f\u7528 <code>sys.stdout</code>\u3002</p> <p>\u7531\u4e8e\u8981\u6253\u5370\u7684\u53c2\u6570\u4f1a\u88ab\u8f6c\u6362\u4e3a\u6587\u672c\u5b57\u7b26\u4e32\uff0c\u56e0\u6b64 <code>print()</code> \u4e0d\u80fd\u7528\u4e8e\u4e8c\u8fdb\u5236\u6a21\u5f0f\u7684\u6587\u4ef6\u5bf9\u8c61\u3002\u5bf9\u4e8e\u4e8c\u8fdb\u5236\u6a21\u5f0f\u7684\u6587\u4ef6\u5bf9\u8c61\uff0c\u5e94\u6539\u7528 <code>file.write(...)</code>\u3002</p> <p>\u8f93\u51fa\u662f\u5426\u88ab\u7f13\u5b58\u901a\u5e38\u51b3\u5b9a\u4e8e <code>file</code>\uff0c\u4f46\u5982\u679c <code>flush</code> \u5173\u952e\u5b57\u53c2\u6570\u4e3a\u771f\u503c\uff0c\u6d41\u4f1a\u88ab\u5f3a\u5236\u5237\u65b0\u3002\u8be5\u53c2\u6570\u5728 Python 3.3 \u4e2d\u589e\u52a0\u8fdb\u6765\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#q","title":"Q","text":"<code>range()</code><pre><code>class range(stop)\nclass range(start, stop[, step])\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#r","title":"R","text":"<code>repr(object)</code>\uff1a\u8fd4\u56de<code>object</code>\u7684\u53ef\u6253\u5370\u8868\u793a\u5f62\u5f0f\u7684\u5b57\u7b26\u4e32<p>\u5bf9\u4e8e\u8bb8\u591a\u7c7b\u578b\u6765\u8bf4\uff0c\u8be5\u51fd\u6570\u5c1d\u8bd5\u8fd4\u56de\u7684\u5b57\u7b26\u4e32\u5c06\u4f1a\u4e0e\u8be5\u5bf9\u8c61\u88ab\u4f20\u9012\u7ed9 <code>eval()</code> \u51fd\u6570\u6240\u751f\u6210\u7684\u5bf9\u8c61\u5177\u6709\u76f8\u540c\u7684\u503c\u3002\u7c7b\u53ef\u4ee5\u901a\u8fc7\u5b9a\u4e49 <code>__repr__()</code> \u65b9\u6cd5\u6765\u63a7\u5236\u6b64\u51fd\u6570\u4e3a\u5b83\u7684\u5b9e\u4f8b\u6240\u8fd4\u56de\u7684\u5185\u5bb9\u3002</p> <code>reversed(seq)</code>\uff1a\u8fd4\u56de\u4e00\u4e2a\u9006\u5e8f\u7684 iterator<p><code>seq</code>\u5fc5\u987b\u662f\u4e00\u4e2a\u5177\u6709 <code>__reversed__()</code> \u65b9\u6cd5\u7684\u5bf9\u8c61\u6216\u8005\u662f\u652f\u6301\u8be5\u5e8f\u5217\u534f\u8bae\uff08\u5177\u6709\u4ece <code>0</code> \u5f00\u59cb\u7684\u6574\u6570\u7c7b\u578b\u53c2\u6570\u7684 <code>__len__()</code> \u65b9\u6cd5\u548c <code>__getitem__()</code> \u65b9\u6cd5\uff09\u3002</p> <code>round(number[, ndigits])</code>\uff1a\u8fd4\u56de <code>number</code> \u820d\u5165\u5230\u5c0f\u6570\u70b9\u540e<code>ndigits</code>\u4f4d\u7cbe\u5ea6\u7684\u503c<p>\u5982\u679c<code>ndigits</code>\u88ab\u7701\u7565\u6216\u4e3a <code>None</code>\uff0c\u5219\u8fd4\u56de\u6700\u63a5\u8fd1\u8f93\u5165\u503c\u7684\u6574\u6570\u3002\u4efb\u4f55\u6574\u6570\u503c\u90fd\u53ef\u4f5c\u4e3a\u6709\u6548\u7684 <code>ndigits</code>(\u6b63\u6570\u3001\u96f6\u6216\u8d1f\u6570)\u3002\u5bf9\u4e8e\u652f\u6301 <code>round()</code> \u7684\u5185\u7f6e\u7c7b\u578b\uff0c\u503c\u4f1a\u88ab\u820d\u5165\u5230\u6700\u63a5\u8fd1\u7684 10 \u7684\u8d1f <code>ndigits</code>\u6b21\u5e42\u7684\u500d\u6570\uff1b\u5982\u679c\u4e0e\u4e24\u4e2a\u500d\u6570\u7684\u8ddd\u79bb\u76f8\u7b49\uff0c\u5219\u9009\u62e9\u5076\u6570 (\u56e0\u6b64\uff0c<code>round(0.5)</code> \u548c <code>round(-0.5)</code> \u5747\u4e3a <code>0</code> \u800c <code>round(1.5)</code> \u4e3a <code>2</code>)\u3002 \u5bf9\u4e8e\u4e00\u822c\u7684 Python \u5bf9\u8c61 <code>number</code>, <code>round</code> \u5c06\u59d4\u6258\u7ed9 <code>number.__round__</code>\u3002</p> <p>\u5bf9\u6d6e\u70b9\u6570\u6267\u884c <code>round()</code> \u7684\u884c\u4e3a\u53ef\u80fd\u4f1a\u4ee4\u4eba\u60ca\u8bb6\uff1a\u4f8b\u5982\uff0c<code>round(2.675, 2)</code> \u5c06\u7ed9\u51fa <code>2.67</code> \u800c\u4e0d\u662f\u671f\u671b\u7684 <code>2.68</code>\u3002 \u8fd9\u4e0d\u7b97\u662f\u7a0b\u5e8f\u9519\u8bef\uff1a\u8fd9\u4e00\u7ed3\u679c\u662f\u7531\u4e8e\u5927\u591a\u6570\u5341\u8fdb\u5236\u5c0f\u6570\u5b9e\u9645\u4e0a\u90fd\u4e0d\u80fd\u4ee5\u6d6e\u70b9\u6570\u7cbe\u786e\u5730\u8868\u793a\u3002 \u8bf7\u53c2\u9605 \u6d6e\u70b9\u7b97\u672f\uff1a\u4e89\u8bae\u548c\u9650\u5236 \u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002</p> <pre><code>round(2.675, 2)\n</code></pre> <pre><code>2.67\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#s","title":"S","text":"<code>setattr(object, name, value)</code>\uff1a\u7ed9<code>object</code>\u8bbe\u7f6e<code>name</code>\u5c5e\u6027\u7684\u503c<p>\u6b64\u51fd\u6570\u4e0e <code>getattr()</code> \u76f8\u5bf9\u5e94\u3002<code>setattr(x, 'foobar', 123)</code> \u7b49\u4ef7\u4e8e <code>x.foobar = 123</code>\u3002</p> <code>class slice()</code><pre><code>class slice(stop)\nclass slice(start, stop[, step])\n</code></pre> <code>sorted(iterable, key=None, reverse=False)</code>\uff1a\u6839\u636e <code>iterable</code> \u4e2d\u7684\u9879\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5df2\u6392\u5e8f\u5217\u8868<ul> <li><code>key</code>\uff1a\u6307\u5b9a\u5e26\u6709\u5355\u4e2a\u53c2\u6570\u7684\u51fd\u6570\uff0c\u7528\u4e8e\u4ece <code>iterable</code> \u7684\u6bcf\u4e2a\u5143\u7d20\u4e2d\u63d0\u53d6\u7528\u4e8e\u6bd4\u8f83\u7684\u952e (\u4f8b\u5982 <code>key=str.lower</code>)\u3002 \u9ed8\u8ba4\u503c\u4e3a <code>None</code> (\u76f4\u63a5\u6bd4\u8f83\u5143\u7d20)\u3002\u4f7f\u7528 <code>functools.cmp_to_key()</code> \u53ef\u5c06\u8001\u5f0f\u7684 <code>cmp</code> \u51fd\u6570\u8f6c\u6362\u4e3a <code>key</code> \u51fd\u6570\u3002</li> <li><code>reverse</code>\uff1a\u5e03\u5c14\u503c\u3002\u5982\u679c\u8bbe\u4e3a <code>True</code>\uff0c\u5219\u6bcf\u4e2a\u5217\u8868\u5143\u7d20\u5c06\u6309\u53cd\u5411\u987a\u5e8f\u6bd4\u8f83\u8fdb\u884c\u6392\u5e8f\u3002</li> </ul> <p>\u5185\u7f6e\u7684 <code>sorted()</code> \u786e\u4fdd\u662f\u7a33\u5b9a\u7684\u3002\u5982\u679c\u4e00\u4e2a\u6392\u5e8f\u786e\u4fdd\u4e0d\u4f1a\u6539\u53d8\u6bd4\u8f83\u7ed3\u679c\u76f8\u7b49\u7684\u5143\u7d20\u7684\u76f8\u5bf9\u987a\u5e8f\u5c31\u79f0\u5176\u4e3a\u7a33\u5b9a\u7684\u3002\u7a33\u5b9a\u6392\u5e8f\u6709\u5229\u4e8e\u8fdb\u884c\u591a\u91cd\u6392\u5e8f\uff08\u4f8b\u5982\u5148\u6309\u90e8\u95e8\u3001\u518d\u6309\u85aa\u7ea7\u6392\u5e8f\uff09\u3002\u6709\u5173\u6392\u5e8f\u793a\u4f8b\u548c\u7b80\u8981\u6392\u5e8f\u6559\u7a0b\uff0c\u8bf7\u53c2\u9605 \u6392\u5e8f\u6307\u5357 \u3002</p> <pre><code>a = [\"a\", \"aa\", \"aaa\"]\nprint(sorted(a, key=len))\nprint(sorted(a, key=len, reverse=True))\n</code></pre> <pre><code>['a', 'aa', 'aaa']\n['aaa', 'aa', 'a']\n</code></pre> <code>sum(iterable, start=0)</code>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#t","title":"T","text":"<code>class type()</code><pre><code>class type(object)\nclass type(name, bases, dict)\n</code></pre> <p>\u4f20\u5165\u4e00\u4e2a\u53c2\u6570\u65f6\uff0c\u8fd4\u56de <code>object</code> \u7684\u7c7b\u578b\u3002 \u8fd4\u56de\u503c\u662f\u4e00\u4e2a type \u5bf9\u8c61\uff0c\u901a\u5e38\u4e0e <code>object.__class__</code> \u6240\u8fd4\u56de\u7684\u5bf9\u8c61\u76f8\u540c\u3002 \u63a8\u8350\u4f7f\u7528 <code>isinstance()</code> \u5185\u7f6e\u51fd\u6570\u6765\u68c0\u6d4b\u5bf9\u8c61\u7684\u7c7b\u578b\uff0c\u56e0\u4e3a\u5b83\u4f1a\u8003\u8651\u5b50\u7c7b\u7684\u60c5\u51b5\u3002</p> <p>\u4f20\u5165\u4e09\u4e2a\u53c2\u6570\u65f6\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 type \u5bf9\u8c61\u3002\u8fd9\u5728\u672c\u8d28\u4e0a\u662f <code>class</code> \u8bed\u53e5\u7684\u4e00\u79cd\u52a8\u6001\u5f62\u5f0f\u3002</p> <ul> <li><code>name</code> \u5b57\u7b26\u4e32\u5373\u7c7b\u540d\u5e76\u4e14\u4f1a\u6210\u4e3a <code>__name__</code> \u5c5e\u6027</li> <li><code>bases</code> \u5143\u7ec4\u5217\u51fa\u57fa\u7c7b\u5e76\u4e14\u4f1a\u6210\u4e3a <code>__bases__</code> \u5c5e\u6027</li> <li><code>dict</code> \u5b57\u5178\u4e3a\u5305\u542b\u7c7b\u4e3b\u4f53\u5b9a\u4e49\u7684\u547d\u540d\u7a7a\u95f4\u5e76\u4e14\u4f1a\u88ab\u590d\u5236\u5230\u4e00\u4e2a\u6807\u51c6\u5b57\u5178\u6210\u4e3a <code>__dict__</code> \u5c5e\u6027</li> </ul> <p>\u53e6\u8bf7\u53c2\u9605 \u7c7b\u578b\u5bf9\u8c61\u3002</p> <p>3.6 \u7248\u66f4\u6539: <code>type</code> \u7684\u5b50\u7c7b\u5982\u679c\u672a\u91cd\u8f7d <code>type.__new__</code>\uff0c\u5c06\u4e0d\u518d\u80fd\u4f7f\u7528\u4e00\u4e2a\u53c2\u6570\u7684\u5f62\u5f0f\u6765\u83b7\u53d6\u5bf9\u8c61\u7684\u7c7b\u578b\u3002</p> <pre><code>class T:\n    pass\n\nprint(T.__class__)\nprint(type(T))\n</code></pre> <pre><code>&lt;class 'type'&gt;\n&lt;class 'type'&gt;\n</code></pre> <pre><code>X = type('X', (object,), dict(a=1))\n\nclass X:\n    a = 1\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#v","title":"V","text":"<code>vars([object])</code>\uff1a\u8fd4\u56de\u6a21\u5757\u3001\u7c7b\u3001\u5b9e\u4f8b\u6216\u4efb\u4f55\u5176\u5b83\u5177\u6709<code>__dict__</code>\u5c5e\u6027\u7684\u5bf9\u8c61\u7684<code>__dict__</code>\u5c5e\u6027<p>\u6a21\u5757\u548c\u5b9e\u4f8b\u8fd9\u6837\u7684\u5bf9\u8c61\u5177\u6709\u53ef\u66f4\u65b0\u7684<code>__dict__</code>\u5c5e\u6027\uff0c\u4f46\u662f\u5176\u5b83\u5bf9\u8c61\u7684<code>__dict__</code>\u5c5e\u6027\u53ef\u80fd\u4f1a\u8bbe\u4e3a\u9650\u5236\u5199\u5165\u3002\u4f8b\u5982\uff0c\u7c7b\u4f1a\u4f7f\u7528 <code>types.MappingProxyType</code> \u6765\u9632\u6b62\u76f4\u63a5\u66f4\u65b0\u5b57\u5178\u3002\u4e0d\u5e26\u53c2\u6570\u65f6\uff0c<code>vars()</code> \u7684\u884c\u4e3a\u7c7b\u4f3c <code>locals()</code>\u3002 \u8bf7\u6ce8\u610f\uff0clocals \u5b57\u5178\u4ec5\u5bf9\u4e8e\u8bfb\u53d6\u8d77\u4f5c\u7528\uff0c\u56e0\u4e3a\u5bf9 locals \u5b57\u5178\u7684\u66f4\u65b0\u4f1a\u88ab\u5ffd\u7565\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.12.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html#z","title":"Z","text":"<code>zip(iterables)</code>\uff1a\u521b\u5efa\u4e00\u4e2a\u805a\u5408\u4e86\u6765\u81ea\u6bcf\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e2d\u7684\u5143\u7d20\u7684\u8fed\u4ee3\u5668<pre><code>a = [1, 2, 3]\nb = [\"a\", \"b\", \"c\", \"d\"]\nfor i, j in zip(a, b):\n    print(i, j)\n</code></pre> <pre><code>1 a\n2 b\n3 c\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.13.%E7%AE%80%E6%B4%81%E7%9A%84Python.html","title":"2.13.\u7b80\u6d01\u7684Python","text":"<pre><code>Windows 10\nPython 3.6.9 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.06.23\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.13.%E7%AE%80%E6%B4%81%E7%9A%84Python.html#_1","title":"\u5e8f\u5217\u89e3\u5305","text":"<pre><code>x, y, z = (1, 2, 3)\nprint(x, y, z)\n\nx, y = y, x\nprint(x, y)\n</code></pre> <pre><code>1 2 3\n2 1\n</code></pre> <p>\u8981\u89e3\u5305\u7684\u5e8f\u5217\u5305\u542b\u7684\u5143\u7d20\u4e2a\u6570\u5fc5\u987b\u4e0e\u4f60\u5728\u7b49\u53f7\u5de6\u8fb9\u5217\u51fa\u7684\u76ee\u6807\u4e2a\u6570\u76f8\u540c\uff0c\u5426\u5219Python\u5c06\u5f15\u53d1\u5f02\u5e38\u3002</p> <pre><code>try:\n    x, y = (1, 2, 3)\nexcept ValueError as e:\n    print(e)\n\ntry:\n    x, y, z = (1, 2)\nexcept ValueError as e:\n    print(e)\n</code></pre> <pre><code>too many values to unpack (expected 2)\nnot enough values to unpack (expected 3, got 2)\n</code></pre> <p>\u53ef\u4f7f\u7528\u661f\u53f7\u8fd0\u7b97\u7b26\uff08 * \uff09\u6765\u6536\u96c6\u591a\u4f59\u7684\u503c\uff0c\u8fd9\u6837\u65e0\u9700\u786e\u4fdd\u503c\u548c\u53d8\u91cf\u7684\u4e2a\u6570\u76f8\u540c\uff0c\u5982\u4e0b\u4f8b\u6240\u793a\uff1a</p> <pre><code>x, *y = (1, 2, 3)\nprint(x, y)\n\nx, *y, z = (1, 2, 3, 4)\nprint(x, z)\n</code></pre> <pre><code>1 [2, 3]\n1 4\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.13.%E7%AE%80%E6%B4%81%E7%9A%84Python.html#_2","title":"\u94fe\u5f0f\u8d4b\u503c","text":"<p>\u94fe\u5f0f\u8d4b\u503c\u662f\u4e00\u79cd\u5feb\u6377\u65b9\u5f0f\uff0c\u7528\u4e8e\u5c06\u591a\u4e2a\u53d8\u91cf\u5173\u8054\u5230\u540c\u4e00\u4e2a\u503c\u3002</p> <pre><code>x = y = 1\nprint(x, y)\n</code></pre> <pre><code>1 1\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u4e0e\u4e0b\u9762\u7684\u4ee3\u7801\u7b49\u4ef7\uff1a</p> <pre><code>y = 1\nx = y\n</code></pre> <p>\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e24\u6761\u8bed\u53e5\u53ef\u80fd\u4e0e\u4e0b\u9762\u7684\u8bed\u53e5\u4e0d\u7b49\u4ef7\uff1a</p> <pre><code>x = somefunction()\ny = somefunction()\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.13.%E7%AE%80%E6%B4%81%E7%9A%84Python.html#ifelse","title":"if/else\u4e09\u5143\u8868\u8fbe\u5f0f","text":"<pre><code>a = 2\na if a &gt; 0 else 1\n</code></pre> <pre><code>2\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.2.%E8%AF%AD%E5%8F%A5.html","title":"2.2.\u8bed\u53e5","text":"<pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.05\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.2.%E8%AF%AD%E5%8F%A5.html#_1","title":"\u8bed\u53e5","text":"<p>\u8bed\u53e5\uff08statement\uff09\u53ef\u4ee5\u5206\u4e3a\u4e24\u79cd\uff1a\u7b80\u5355\u8bed\u53e5\u548c\u590d\u5408\u8bed\u53e5\u3002\u7b80\u5355\u8bed\u53e5\u53ea\u80fd\u5728\u4e00\u4e2a\u903b\u8f91\u884c\u5185\u5b8c\u6210\uff0c\u800c\u590d\u5408\u8bed\u53e5\u7531\u7b80\u5355\u8bed\u53e5\u548c\u590d\u5408\u8bed\u53e5\u6784\u6210\uff0c\u53ef\u4ee5\u8de8\u8d8a\u591a\u4e2a\u903b\u8f91\u884c\u3002</p> \u8bed\u53e5\u5206\u7c7b<p> \u7b80\u5355\u8bed\u53e5 \u590d\u5408\u8bed\u53e5 \u8868\u8fbe\u5f0f if \u8bed\u53e5 \u8d4b\u503c\u8bed\u53e5 while \u8bed\u53e5 \u589e\u5f3a\u8d4b\u503c\u8bed\u53e5 for \u8bed\u53e5 assert \u8bed\u53e5 try \u8bed\u53e5 pass \u8bed\u53e5 with \u8bed\u53e5 del \u8bed\u53e5 def \u51fd\u6570\u5b9a\u4e49 (\u4e0d\u5305\u62ec\u51fd\u6570\u4f53) return \u8bed\u53e5 class \u7c7b\u5b9a\u4e49 (\u4e0d\u5305\u62ec\u7c7b\u4f53) yield \u8bed\u53e5 async def \u534f\u7a0b\u51fd\u6570\u5b9a\u4e49 raise \u8bed\u53e5 async for \u8bed\u53e5 break \u8bed\u53e5 async with \u8bed\u53e5 continue \u8bed\u53e5 simple_stmt; \u7b80\u5355\u8bed\u53e5\u5e8f\u5217 import \u8bed\u53e5 \u590d\u5408\u8bed\u53e5\uff08\u5373\u590d\u5408\u8bed\u53e5\u5d4c\u5957\u590d\u5408\u8bed\u53e5\uff09 global \u8bed\u53e5 nonlocal \u8bed\u53e5 </p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.2.%E8%AF%AD%E5%8F%A5.html#if","title":"<code>if</code> \u8bed\u53e5","text":"<p><code>if</code>\u8bed\u53e5\u7684\u5b8c\u6574\u5f62\u5f0f\u5982\u4e0b\uff08\u6ce8\u610f\u4e0d\u8981\u5c11\u5199\u4e86\u5192\u53f7<code>:</code>\uff09\uff1a</p> <pre><code>if condition_1:\n    statement_1\nelif condition_2:\n    statement_2\nelse:\n    statement_3\n</code></pre> <p><code>elif</code>\u662f<code>else if</code>\u7684\u7f29\u5199\uff0c\u4f7f\u7528\u7f29\u5199\u662f\u4e3a\u4e86\u907f\u514d\u8fc7\u5ea6\u7f29\u8fdb\u3002 \u53ef\u4ee5\u6709\u591a\u4e2a<code>elif</code>\u3002</p> <pre><code># example\nage = 3\nif age &gt;= 18:\n    print('adult')\nelif age &gt;= 6:\n    print('teenager')\nelse:\n    print('kid')\n</code></pre> <pre><code>kid\n</code></pre> <p><code>if</code>\u5224\u65ad\u6761\u4ef6\u8fd8\u53ef\u4ee5\u7b80\u5199\uff0c\u4f8b\u5982\uff1a\u963f</p> <pre><code>age = 3\nif age:\n    print('True')\n</code></pre> <pre><code>True\n</code></pre> <p>\u5728Python\u4e2d\uff0c<code>False</code>\u3001<code>0</code>\u3001<code>''</code>\u3001<code>[]</code>\u3001<code>()</code>\u3001<code>{}</code>\u90fd\u89c6\u4f5cFalse\uff0c\u5426\u5219\u4e3aTrue\u3002\u6ce8\u610f\uff0c\u8d1f\u503c\u4e5f\u662f\u88ab\u5224\u65ad\u4e3a\u771f\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.2.%E8%AF%AD%E5%8F%A5.html#assert","title":"<code>assert</code> \u65ad\u8a00","text":"<p>\u65ad\u8a00\u8bed\u53e5\u7528\u6765\u68c0\u67e5\u6761\u4ef6\u662f\u5426\u6ee1\u8db3\uff0c\u5982\u679c\u4e0d\u6ee1\u8db3\uff0c\u5c31\u5f15\u53d1 AssertionError \u5f02\u5e38\uff08\u5e76\u53ef\u63d0\u4f9b\u9519\u8bef\u6d88\u606f\uff09\u3002\u8bed\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>assert condition\n</code></pre> <p>\u7b49\u4ef7\u4e8e</p> <pre><code>if not condition:\n    crash program\n</code></pre> <p>\u4f8b\u5b50\uff1a</p> <pre><code>age = 3\nassert age &gt;= 12, 'Children under the age of 12 are not allowed'\n</code></pre> <pre><code>---------------------------------------------------------------------------AssertionError                            Traceback (most recent call last)&lt;ipython-input-1-6fe548f20b1c&gt; in &lt;module&gt;\n      1 age = 3\n----&gt; 2 assert age &gt;= 12, 'Children under the age of 12 are not allowed'\nAssertionError: Children under the age of 12 are not allowed\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.2.%E8%AF%AD%E5%8F%A5.html#_2","title":"\u5faa\u73af","text":"<p>Python\u7684\u5faa\u73af\u6709\u4e24\u79cd:</p> <ol> <li>for \u5faa\u73af</li> <li>while \u5faa\u73af</li> </ol>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.2.%E8%AF%AD%E5%8F%A5.html#for","title":"<code>for</code> \u8bed\u53e5","text":"<p>for \u5faa\u73af\uff0c\u4f9d\u6b21\u8fed\u4ee3\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\uff0c\u53ef\u5305\u542b else \u5b50\u53e5\uff0celse \u5b50\u53e5\u5728\u8fed\u4ee3\u7ed3\u675f\u65f6\u6267\u884c\u3002</p> <pre><code># \u4f9d\u6b21\u8fed\u4ee3 names \u5e8f\u5217\u7684\u6bcf\u4e2a\u5143\u7d20, \u5c06\u5143\u7d20\u8d4b\u503c\u7ed9\u53d8\u91cf name\n# \u7136\u540e\u6267\u884c\u4ee3\u7801\u5757\u4e2d\u7684\u8bed\u53e5\nnames = ['Michael', 'Bob', 'Tracy']\nfor name in names:\n    print(name)\n</code></pre> <pre><code>Michael\nBob\nTracy\n</code></pre> <p>\u6709\u4e9b\u8bed\u8a00\u8fed\u4ee3\u5e8f\u5217\u4e4b\u53ea\u80fd\u901a\u8fc7\u7d22\u5f15\u5b8c\u6210\uff0c\u4f8b\u5982\u4ee5\u4e0bjava\u4ee3\u7801\uff1a</p> <pre><code>for (i=0; i&lt;list.length; i++) {\nn = list[i];\n}\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\uff0cPython\u7684<code>for</code>\u5faa\u73af\u62bd\u8c61\u7a0b\u5ea6\u8981\u9ad8\u4e8eJava\u7684<code>for</code>\u5faa\u73af\uff0c\u56e0\u4e3aPython\u7684<code>for</code>\u5faa\u73af\u4e0d\u5173\u5fc3\u591a\u8fed\u4ee3\u7684\u5bf9\u8c61\u662f\u5426\u652f\u6301\u7d22\u5f15\uff0c\u53ea\u8981\u8be5\u5bf9\u8c61\u4e3a\u53ef\u8fed\u4ee3\u5bf9\u8c61\u5373\u53ef\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u4ee3\u7801\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u4e3a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff1a</p> <pre><code>from collections import Iterable\n\nisinstance('abc', Iterable)\n</code></pre> <pre><code>True\n</code></pre> <p>\u5982\u679c\u5728\u8fed\u4ee3\u5bf9\u8c61\u7684\u540c\u65f6\u4e5f\u60f3\u8fed\u4ee3\u5bf9\u8c61\u5143\u7d20\u7684\u7d22\u5f15\uff0c\u53ef\u4ee5\u4f7f\u7528<code>enumerate</code>\u51fd\u6570\uff1a</p> <pre><code>for i, value in enumerate(['A', 'B', 'C']):\n    print(i, value)\n</code></pre> <pre><code>0 A\n1 B\n2 C\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.2.%E8%AF%AD%E5%8F%A5.html#while","title":"<code>while</code> \u8bed\u53e5","text":"<p>while \u8bed\u53e5\u7528\u4e8e \u5728\u6307\u5b9a\u6761\u4ef6\u4e3a\u771f\u65f6\u53cd\u590d\u5730\u6267\u884c\uff08\u5faa\u73af\uff09\uff0c\u6761\u4ef6\u4e0d\u6ee1\u8db3\u65f6\u9000\u51fa\u5faa\u73af\u3002 \u53ef\u5305\u542b else \u5b50\u53e5\uff0celse \u5b50\u53e5\u5728\u6267\u884c\u6761\u4ef6\u4e3a false \u65f6\u6267\u884c\u3002</p> <p>\u6bd4\u5982\u8981\u8ba1\u7b97100\u4ee5\u5185\u6240\u6709\u5947\u6570\u4e4b\u548c\uff0c\u53ef\u4ee5\u7528while\u5faa\u73af\u5b9e\u73b0\uff1a</p> <pre><code>sum = 0\nn = 99\n# \u5728\u5faa\u73af\u5185\u90e8\u53d8\u91cf n \u4e0d\u65ad\u81ea\u51cf\n# \u76f4\u5230\u53d8\u4e3a n=0 \u65f6\uff0c\u4e0d\u518d\u6ee1\u8db3while\u6761\u4ef6\uff0c\u5faa\u73af\u9000\u51fa\nwhile n &gt; 0:\n    sum = sum + n\n    n = n - 2\nprint(sum)\n</code></pre> <pre><code>2500\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.2.%E8%AF%AD%E5%8F%A5.html#break","title":"break","text":"<p>\u5728\u5faa\u73af\u4e2d\uff0c<code>break</code>\u8bed\u53e5\u53ef\u4ee5\u63d0\u524d\u9000\u51fa\u5faa\u73af\u3002\u4f8b\u5982</p> <p>\u6ce8\u610f</p> <p>break\u8bed\u53e5\u53ea\u80fd\u7528\u4e8e\u5faa\u73af\u4e2d\u3002</p> <pre><code>i = 1\nwhile i &lt; 100:\n    i = i + 1\n    print(\"\u7ed3\u675f\u5faa\u73af\")\n    break\n    print(i)\n</code></pre> <pre><code>\u7ed3\u675f\u5faa\u73af\n</code></pre> <p><code>break</code>\u7684\u4f5c\u7528\u662f\u9000\u51fa\u5f53\u524d\u5faa\u73af\uff0c<code>print(i)</code>\u8bed\u53e5\u4e0d\u4f1a\u6267\u884c\u3002</p> <p>\u8981\u6ce8\u610f\u7684\u662f\uff0c<code>break</code>\u53ea\u662f\u4e2d\u65ad\u5f53\u524d\u5c42\u7684\u5faa\u73af\uff0c\u4e0d\u4f1a\u4e2d\u65ad\u4e0a\u4e00\u5c42\u7684\u5faa\u73af\u3002 </p> <pre><code>for i in range(3):\n    for j in [\"a\", \"b\", \"c\"]:\n        print(j)\n        break\n</code></pre> <pre><code>a\na\na\n</code></pre> <p>\u5185\u5c42\u5faa\u73af\u6253\u5370\u51fa\u4e00\u4e2a<code>j</code>\u503c\u4e4b\u540e\uff0c\u88ab<code>break</code>\u8bed\u53e5\u4e2d\u65ad\uff0c\u4f46\u5916\u5c42\u5faa\u73af\u5e76\u6ca1\u6709\u4e2d\u65ad\uff0c\u6240\u4ee5\u4ee3\u7801\u6267\u884c\u7684\u7ed3\u679c\u662f\u6253\u5370\u4e86\u4e09\u6b21<code>a</code>\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.2.%E8%AF%AD%E5%8F%A5.html#continue","title":"continue","text":"<p><code>continue</code>\u8bed\u53e5\uff1a\u8df3\u8fc7\u5f53\u524d\u5c42\u7684\u5f53\u524d\u5faa\u73af\uff0c\u76f4\u63a5\u5f00\u59cb\u4e0b\u4e00\u6b21\u5faa\u73af\u3002</p> <p>\u6ce8\u610f</p> <p>continue \u8bed\u53e5\u53ea\u80fd\u7528\u4e8e\u5faa\u73af\u4e2d\u3002</p> <pre><code>n = 0\nwhile n &lt; 10:\n    n = n + 1\n    print(n, end=\" \")\n</code></pre> <pre><code>1 2 3 4 5 6 7 8 9 10\n</code></pre> <p>\u4e0a\u9762\u7684\u7a0b\u5e8f\u53ef\u4ee5\u6253\u5370\u51fa1\uff5e10\u3002\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u60f3\u53ea\u6253\u5370\u5947\u6570\uff0c\u53ef\u4ee5\u7528<code>continue</code>\u8bed\u53e5\u8df3\u8fc7\u67d0\u4e9b\u5faa\u73af\uff1a</p> <pre><code>n = 0\nwhile n &lt; 10:\n    n += 1\n    if n % 2 == 0:  # \u5982\u679cn\u662f\u5076\u6570\uff0c\u6267\u884ccontinue\u8bed\u53e5\n        continue    # continue\u8bed\u53e5\u4f1a\u76f4\u63a5\u7ee7\u7eed\u4e0b\u4e00\u8f6e\u5faa\u73af\uff0c\u540e\u7eed\u7684print\u8bed\u53e5\u4e0d\u4f1a\u6267\u884c\n    print(n, end=\" \")\n</code></pre> <pre><code>1 3 5 7 9\n</code></pre> <p>\u6267\u884c\u4e0a\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u770b\u5230\uff0c\u6253\u5370\u7684\u4e0d\u518d\u662f1\uff5e10\uff0c\u800c\u662f1\uff0c3\uff0c5\uff0c7\uff0c9\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.2.%E8%AF%AD%E5%8F%A5.html#else","title":"\u5faa\u73af\u4e2d\u7684<code>else</code>\u5b50\u53e5","text":"<p><code>else</code>\u5b50\u53e5\u4e0d\u4ec5\u53ef\u4ee5\u7528\u5728<code>if</code>\u8bed\u53e5\uff0c\u8fd8\u53ef\u4ee5\u7528\u5728\u5faa\u73af\u8bed\u53e5\u3002\u5faa\u73af\u8bed\u53e5\u4e2d\u7684<code>else</code>\u5b50\u53e5\u5728<code>for</code>\u5faa\u73af\u8fed\u4ee3\u5b8c\u6210\u65f6\uff0c\u6216\u8005while\u5faa\u73af\u6267\u884c\u6761\u4ef6\u4e3a false \u65f6\u6267\u884c\uff0c\u4f46\u5faa\u73af\u88ab break \u4e2d\u6b62\u7684\u60c5\u51b5\u4e0b\u4e0d\u4f1a\u6267\u884c\u3002</p> <pre><code># for\u5faa\u73af\ni = 1\nfor i in range(1, 10, 2):\n    print(i, end=\" \")\nelse:\n    print(\"i =\", i)\n</code></pre> <pre><code>1 3 5 7 9 i = 9\n</code></pre> <pre><code># while\u5faa\u73af\ni = 1\nwhile i &lt; 5:\n    print(i, end=\" \")\n    i += 1\nelse:\n    print(\"i =\", i)\n</code></pre> <pre><code>1 2 3 4 i = 5\n</code></pre> <p>\u5f53\u5faa\u73af\u88abbreak\u8bed\u53e5\u4e2d\u65ad\uff0c\u6b64\u65f6else\u5b50\u53e5\u4e0d\u4f1a\u6267\u884c\uff1a</p> <pre><code>i = 1\nfor i in range(1, 10, 2):\n    break\n    print(i, end=\" \")\nelse:\n    print(\"i =\", i)\n</code></pre> <pre><code>i = 1\nwhile i &lt; 5:\n    break\n    print(i, end=\" \")\n    i += 1\nelse:\n    print(\"i =\", i)\n</code></pre> <p>\u603b\u7ed3</p> <p><code>break</code>\u3001<code>continue</code>\u8bed\u53e5\u901a\u5e38\u90fd\u914d\u5408<code>if</code>\u8bed\u53e5\u4f7f\u7528\u3002</p> <p>\u8981\u7279\u522b\u6ce8\u610f\uff0c\u4e0d\u8981\u6ee5\u7528<code>break</code>\u548c<code>continue</code>\u8bed\u53e5\u3002<code>break</code>\u548c<code>continue</code>\u4f1a\u9020\u6210\u4ee3\u7801\u6267\u884c\u903b\u8f91\u5206\u53c9\u8fc7\u591a\uff0c\u5bb9\u6613\u51fa\u9519\u3002\u5927\u591a\u6570\u5faa\u73af\u5e76\u4e0d\u9700\u8981\u7528\u5230<code>break</code>\u548c<code>continue</code>\u8bed\u53e5\uff0c\u4e0a\u9762\u7684\u4e24\u4e2a\u4f8b\u5b50\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7\u6539\u5199\u5faa\u73af\u6761\u4ef6\u6216\u8005\u4fee\u6539\u5faa\u73af\u903b\u8f91\uff0c\u53bb\u6389<code>break</code>\u548c<code>continue</code>\u8bed\u53e5\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.2.%E8%AF%AD%E5%8F%A5.html#pass","title":"pass \u8bed\u53e5","text":"<p>pass \u8bed\u53e5\u4ec0\u4e48\u4e5f\u4e0d\u505a\u3002\u5b83\u7528\u4e8e\u90a3\u4e9b\u8bed\u6cd5\u4e0a\u5fc5\u987b\u8981\u6709\u8bed\u53e5\uff0c\u4f46\u7a0b\u5e8f\u4ec0\u4e48\u4e5f\u4e0d\u505a\u7684\u573a\u5408\uff0c\u4f8b\u5982:</p> <pre><code># \u6b7b\u5faa\u73af\nwhile True:\n    pass  # Busy-wait for keyboard interrupt (Ctrl+C)\n\n# \u521b\u5efa\u6700\u5c0f\u7ed3\u6784\u7684\u7c7b:\nclass MyEmptyClass:\n    pass\n\n# \u7a7a\u51fd\u6570\ndef fun:\n    pass\n</code></pre> <p>\u5982\u679c\u4f60\u6709\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u57fa\u7840\uff0c\u4f60\u53ef\u80fd\u4f1a\u7591\u60d1Python\u4e3a\u4ec0\u4e48\u8981\u6709pass\u8bed\u53e5\u3002</p> <p>\u4e00\u65b9\u9762\uff0c\u8fd9\u662f\u4e3a\u4e86\u8bed\u6cd5\u7684\u5b8c\u5907\u6027\u3002\u4f8b\u5982\uff0c\u8981\u50cf\u4e0b\u9762\u8fd9\u6837\u5b9a\u4e49\u4e00\u4e2a\u7a7a\u51fd\u6570\u662f\u4e0d\u884c\u7684\uff1a</p> <pre><code>def fun():\n\nfun()\n</code></pre> <pre><code>IndentationError: expected an indented block\n</code></pre> <pre><code>def fun():\n    # TODO\nfun\n</code></pre> <pre><code>IndentationError: expected an indented block\n</code></pre> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u7f29\u8fdb\u4ee3\u7801\u5757\u4e2d\u5fc5\u987b\u5305\u542b\u6709\u8bed\u6cd5\u610f\u4e49\u7684\u5185\u5bb9\u3002\u8fd9\u662f\u56e0\u4e3a Python \u5728\u5b9a\u4e49\u51fd\u6570\u65f6\uff0c\u5fc5\u987b\u5305\u542b\u51fd\u6570\u4f53\uff0c\u5373\u540c\u65f6\u5305\u542b\u58f0\u660e\u548c\u5b9a\u4e49\u4e24\u79cd\u8bed\u4e49\uff0c\u4e0d\u50cfC\u8bed\u8a00\u53ef\u4ee5\u53ea\u4f7f\u7528\u58f0\u660e\u7684\u8bed\u4e49\uff0c\u5373\u5199\u6210<code>void fun();</code> \u3002\u540c\u65f6\uff0c\u53c8\u56e0\u4e3aPython\u901a\u8fc7\u7f29\u8fdb\u6765\u5212\u5206\u4ee3\u7801\u5757\uff0c\u6240\u4ee5Python\u65e0\u6cd5\u50cfC\u8bed\u8a00\u4e00\u6837\u4f7f\u7528<code>{}</code>\u5b9a\u4e49\u51fa\u7a7a\u51fd\u6570\uff0c\u5373\u5199\u6210<code>void fun(){}</code>\u3002</p> <p>\u4e0a\u9762\u4e24\u79cd\u5b9a\u4e49\u7a7a\u51fd\u6570\u7684\u65b9\u5f0f\u90fd\u4f1a\u62a5<code>IndentationError: expected an indented block</code>\u9519\u8bef\u3002\u56e0\u4e3a\u4ec0\u4e48\u90fd\u4e0d\u5199\uff08\u5373\u4f7f\u6709\u7f29\u8fdb\uff09\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u7a7a\u884c\uff0c\u7a7a\u884c\u5e76\u4e0d\u662fPython\u8bed\u6cd5\u7684\u4e00\u90e8\u5206\u3002\u540c\u7406\uff0c\u6ce8\u91ca\u4e5f\u4e0d\u662f\u6709\u6548\u7684\u8bed\u6cd5\u3002</p> <p>\u56e0\u6b64\uff0c\u4ece\u8bed\u6cd5\u5b8c\u6574\u6027\u7684\u89d2\u5ea6\u6765\u770b\uff0c<code>pass</code>\u8bed\u53e5\u662f\u5fc5\u987b\u7684\u8bbe\u8ba1\u8981\u7d20\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u5bf9\u4e8ePython\u7a0b\u5e8f\u5458\u6765\u8bf4\uff0c\u53ef\u4ee5\u5229\u7528<code>pass</code>\u8bed\u53e5\u4f5c\u4e3a\u4e00\u79cd\u5360\u4f4d\u7b26\uff0c\u7b49\u4e8e\u662f\u8bf4\u201d\u8fd9\u91cc\u5148\u9884\u7559\u4f4d\u7f6e\uff0c\u56de\u5934\u518d\u8865\u4e0a\u5177\u4f53\u7684\u4ee3\u7801\u5b9e\u73b0\u201d\u3002\u4f46\u662f\uff0c\u8fd9\u4e2a\u529f\u80fd\u4e5f\u901a\u8fc7<code># TODO</code>\u6765\u5b9e\u73b0\uff0c\u56e0\u6b64\u5b9e\u73b0\u8bed\u6cd5\u5b8c\u5907\u6027\u662f pass \u8bed\u53e5\u7684\u4e3b\u8981\u4f5c\u7528\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.2.%E8%AF%AD%E5%8F%A5.html#return","title":"return \u8bed\u53e5","text":"<p>return \u8bed\u53e5\u7ed3\u675f\u51fd\u6570\u7684\u6267\u884c\u5e76\u8fd4\u56de\u4e00\u4e2a\u503c\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u503c\uff0c\u5c06\u8fd4\u56de None \u3002\u793a\u4f8b\uff1a</p> <p>\u6ce8\u610f</p> <p>return \u8bed\u53e5\u53ea\u80fd\u7528\u4e8e\u51fd\u6570\u4e2d\u3002</p> <pre><code>def func1():\n    return 4, 2\n\ndef func2():\n    return \n\nprint(func1())\nprint(func2())\n</code></pre> <pre><code>(4, 2)\nNone\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.2.%E8%AF%AD%E5%8F%A5.html#del","title":"del \u8bed\u53e5","text":"<p>del \u8bed\u53e5\u7528\u4e8e\u89e3\u9664\u540d\u5b57\u548c\u5bf9\u8c61\u7684\u5173\u8054\u4ee5\u53ca\u5c06\u6570\u636e\u7ed3\u6784\uff08\u6620\u5c04\u6216\u5e8f\u5217\uff09\u7684\u4e00\u90e8\u5206\uff08\u5982\uff08\u4f4d\u7f6e\u3001\u5207\u7247\u6216\u5b58\u50a8\u69fd\uff09\u5220\u9664\u3002\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\u5b83\u6765\u5220\u9664\u5bf9\u8c61\uff0c\u56e0\u4e3a\u5bf9\u8c61\u53ea\u80fd\u901a\u8fc7\u5783\u573e\u6536\u96c6\u6765\u5220\u9664\u3002 </p> <pre><code>del x          # \u89e3\u9664\u53d8\u91cf\u4e0e\u503c\u7684\u5173\u8054\ndel seq[42]    # \u5220\u9664\u5e8f\u5217\u4e2d\u7684\u4e00\u4e2a\u5143\u7d20\ndel seq[42:]   # \u5220\u9664\u5e8f\u5217\u4e2d\u7684\u4e00\u4e2a\u5207\u7247\ndel map['foo'] # \u5220\u9664\u6620\u5c04\u4e2d\u7684\u4e00\u9879\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.2.%E8%AF%AD%E5%8F%A5.html#_3","title":"\u6682\u672a\u63d0\u5230\u7684\u8bed\u53e5","text":"<p>\u8fd8\u6709\u4e00\u4e9bPython\u8bed\u53e5\u5728\u8fd9\u91cc\u6ca1\u6709\u88ab\u63d0\u5230\uff1a</p> <ul> <li>yield \u8bed\u53e5\uff1a\u6682\u505c\u6267\u884c\u751f\u6210\u5668\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u503c\u3002</li> <li>raise \u8bed\u53e5\uff1a\u5f15\u53d1\u5f02\u5e38\u3002</li> <li>try \u8bed\u53e5\uff1a\u7528\u4e8e\u6267\u884c\u53ef\u80fd\u53d1\u751f\u5f02\u5e38\u7684\u4ee3\u7801\u6bb5\uff0c\u8ba9\u7a0b\u5e8f\u80fd\u591f\u6355\u83b7\u8fd9\u4e9b\u5f02\u5e38\u5e76\u6267\u884c\u5f02\u5e38\u5904\u7406\u4ee3\u7801\u3002</li> <li>global \u8bed\u53e5\uff1a\u5c06\u53d8\u91cf\u6807\u8bb0\u4e3a\u5168\u5c40\u7684\u3002</li> <li>nonlocal \u8bed\u53e5\uff1a\u5c06\u53d8\u91cf\u6807\u8bb0\u4e3a\u95ed\u5305\u4f5c\u7528\u57df\u7684\u53d8\u91cf\u3002</li> <li>with \u8bed\u53e5\uff1a\u7528\u4e8e\u5305\u88c5\u4f7f\u7528\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u7684\u4ee3\u7801\u5757\uff0c\u8ba9\u7ba1\u7406\u5668\u80fd\u591f\u6267\u884c\u4e00\u4e9b\u8bbe\u7f6e\u548c\u6e05\u7406\u64cd\u4f5c\u3002</li> <li>import \u8bed\u53e5\uff1a\u4ece\u5916\u90e8\u6a21\u5757\u5bfc\u5165\u540d\u79f0\u3002</li> </ul>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.3.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html","title":"2.3.\u6570\u636e\u7c7b\u578b","text":"<pre><code>Windows 10\nPython 3.8.5 @ MSC v.1916 64 bit (AMD64)\nLatest build date 2020.11.28\n</code></pre> <p>Python 3 \u5185\u7f6e\u4e86\u4e00\u4e9b\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u5176\u5206\u7c7b\u548c\u5c42\u6b21\u5173\u7cfb\u5982\u4e0b\uff1a</p> <ul> <li> <p>\u539f\u5b50\u7c7b\u578b</p> <ul> <li><code>None</code></li> <li><code>NotImplemented</code></li> <li><code>ellipsis</code> (<code>...</code> and <code>Ellipsis</code>)</li> <li>Number<ul> <li><code>int</code><ul> <li><code>bool</code></li> </ul> </li> <li><code>float</code></li> <li><code>complex</code></li> </ul> </li> </ul> </li> <li> <p>\u5bb9\u5668\u7c7b\u578b</p> <ul> <li>\u5e8f\u5217<ul> <li><code>list</code></li> <li><code>tuple</code></li> <li><code>str</code></li> <li><code>bytes</code> (byte array)</li> </ul> </li> <li>\u6620\u5c04<ul> <li><code>dict</code></li> </ul> </li> <li><code>set</code></li> </ul> </li> </ul>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.3.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#constant","title":"constant","text":"<p>Python \u5185\u7f6e\u4e86\u4e00\u4e9b\u5e38\u91cf\u7c7b\u578b\uff0c\u5305\u62ec <code>None</code>\u3001<code>NotImplemented</code>\u3001<code>ellipsis</code>\uff0c\u8fd9\u4e9b\u7c7b\u578b\u53ea\u6709\u5355\u4e00\u503c\uff0c\u4e5f\u53ea\u6709\u4e00\u4e2a\u5bf9\u8c61\u6709\u8fd9\u4e2a\u503c\uff08\u5355\u4f8b\uff09\u3002<code>ellipsis</code> \u6709\u4e24\u4e2a\u5b57\u9762\u503c\uff1a<code>...</code> \u548c <code>Ellipsis</code>\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.3.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#sequence","title":"sequence","text":"<p>\u5e8f\u5217 \u662f\u6309\u987a\u5e8f\u4fdd\u5b58\u5bf9\u8c61\u7684\u5bb9\u5668 (containers)\u3002\u53ef\u4ee5\u901a\u8fc7\u6574\u6570\u7d22\u5f15\u8bbf\u95ee\u5e8f\u5217\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5bf9\u8c61\u3002\u5c06\u5176\u79f0\u4e3a\u5bb9\u5668\u662f\u56e0\u4e3a\u5b83\u4eec\u662f\u4e00\u79cd\u5305\u542b\u4efb\u610f\u6570\u91cf\u5bf9\u8c61\u7684\u5bf9\u8c61\u3002\u4efb\u610f\u6570\u91cf\u610f\u5473\u7740\u5b83\u4eec\u53ef\u4ee5\u5305\u542b 0 \u4e2a\u5143\u7d20\u3002</p> <p>\u67d0\u4e9b\u7f16\u7a0b\u8bed\u8a00\u53ef\u80fd\u4f7f\u7528\u8bf8\u5982\u201d\u5411\u91cf\u201c\u6216\u201c\u6570\u7ec4\u201d\u4e4b\u7c7b\u7684\u8bcd\u6765\u6307\u4ee3\u987a\u5e8f\u5bb9\u5668\u3002\u867d\u7136\u5e8f\u5217\u548c\u6570\u7ec4\u90fd\u662f\u987a\u5e8f\u5bb9\u5668\uff0c\u903b\u8f91\u4e0a\u90fd\u662f\u8fde\u7eed\u7684\uff0c\u4f46\u662f\u7269\u7406\u4e0a\u53ef\u80fd\u5e76\u4e0d\u662f\u8fde\u7eed\u7684\u3002\u4f8b\u5982\uff0c\u6570\u7ec4\u7684\u5143\u7d20\u5f80\u5f80\u90fd\u662f\u50a8\u5b58\u5728\u5185\u5b58\u4e2d\u7684\u8fde\u7eed\u533a\u57df\uff08\u7269\u7406\u610f\u4e49\u4e0a\uff09\uff1b\u800c\u5e8f\u5217\u5143\u7d20\u7684\u771f\u5b9e\u50a8\u5b58\u4f4d\u7f6e\u53ef\u80fd\u662f\u5206\u6563\u7684\u3002</p> <p>\u5728 C \u6216 Java \u4e2d\uff0c\u5176\u6570\u7ec4\u5177\u6709\u9759\u6001\u5206\u914d\u7684\u5927\u5c0f\u3002\u5728 Java \u4e2d\uff0c\u6570\u7ec4\u7684\u7d22\u5f15\u51fa\u754c\u5c06\u5f15\u53d1\u5f02\u5e38\uff0c\u4f46\u5728 C \u8bed\u8a00\u4e2d\uff0c\u6570\u7ec4\u7d22\u5f15\u51fa\u754c\u53ef\u80fd\u4e0d\u4f1a\u88ab\u68c0\u6d4b\u5230\u3002Python \u5219\u63d0\u4f9b\u4e86\u4e24\u79cd\u5e8f\u5217\uff0c\u53ef\u53d8\u7684\u5e8f\u5217 <code>list</code> \u548c \u4e0d\u53ef\u53d8\u7684\u5e8f\u5217 <code>tuple</code>\u3002\u53ef\u53d8\u610f\u5473\u7740\u5e8f\u5217\u7684\u5143\u7d20\u53ef\u4ee5\u88ab\u4fee\u6539\u3001\u5220\u9664\u3001\u6dfb\u52a0\u3002</p> <p><code>str</code> \u662f Python 3 \u7684\u5b57\u7b26\u4e32\uff0c\u672c\u8d28\u662f Unicode \u5b57\u7b26\u7684\u4e0d\u53ef\u53d8\u5e8f\u5217\u3002Python \u6ca1\u6709 char \u7c7b\u578b\uff0c\u5373\u5b57\u7b26\u7c7b\u578b\uff0c\u56e0\u4e3a\u5b57\u7b26\u53ef\u4ee5\u7528\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\u7684\u5b57\u7b26\u4e32\u8868\u793a\u3002<code>bytes</code> \u662f Python 3 \u7684\u4e0d\u53ef\u53d8 bytes \uff08\u5b57\u8282\uff09\u5e8f\u5217\uff0c\u5373\u6587\u672c\u5b57\u7b26\u4e32\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0cPython \u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4efb\u610f\u5927\u5c0f\u7684\u5b57\u7b26\u4e32\u5bf9\u8c61\uff0c\u8fd9\u662f\u901a\u8fc7\u52a8\u6001\u521b\u5efa\u65b0\u5b57\u7b26\u4e32\u800c\u4e0d\u662f\u4fee\u6539\u73b0\u6709\u5b57\u7b26\u4e32\u6765\u5b9e\u73b0\u7684\u3002 \u5728\u5176\u4ed6\u8bed\u8a00\u4e0a\u6709\u4e30\u5bcc\u7ecf\u9a8c\u7684\u7a0b\u5e8f\u5458\u53ef\u80fd\u4f1a\u95ee\uff0c\u901a\u8fc7\u4fee\u6539\u539f\u59cb\u5b57\u7b26\u4e32\u6765\u5f97\u5230\u65b0\u5b57\u7b26\u4e32\u662f\u5426\u662f\u5b9e\u73b0\u6b64\u76ee\u7684\u7684\u6700\u6709\u6548\u7387\u7684\u65b9\u6cd5\u3002\u6216\u8005\uff0c\u4ed6\u4eec\u8ba4\u4e3a\u8ba9\u53ef\u53d8\u5b57\u7b26\u4e32\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u662f\u66f4\u7b80\u5355\u7684\u65b9\u6cd5\u3002\u7b80\u77ed\u7684\u7b54\u6848\u662f\uff0cPython\u7684\u5b58\u50a8\u7ba1\u7406\u4f7f\u5bf9\u4e0d\u53ef\u53d8\u5b57\u7b26\u4e32\u7684\u4f7f\u7528\u53d8\u5f97\u6700\u7b80\u5355\u3001\u6700\u6709\u6548\u7387\u3002</p> <p>\u6548\u7387\u4f53\u73b0\u5728\u591a\u4e2a\u65b9\u9762\uff0c\u6700\u5e38\u89c1\u7684\u662f\u65f6\u95f4\u548c\u5185\u5b58\u4f7f\u7528\u91cf\u3002\u53ef\u53d8\u5b57\u7b26\u4e32\u5360\u7528\u8f83\u5c11\u7684\u5185\u5b58\u3002\u4f46\u662f\uff0c\u8fd9\u4ec5\u5728\u826f\u6027\u7684\u7279\u6b8a\u60c5\u51b5\u4e0b\u624d\u662f\u6b63\u786e\u7684\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4ec5\u5728\u56fa\u5b9a\u5927\u5c0f\u7684\u7f13\u51b2\u533a\u4e2d\u66ff\u6362\u6216\u7f29\u5c0f\u539f\u5b57\u7b26\u4e32\u3002\u5982\u679c\u5b57\u7b26\u4e32\u6269\u5c55\u540e\u8d85\u51fa\u7f13\u51b2\u533a\u7684\u5927\u5c0f\uff0c\u5219\u7a0b\u5e8f\u5fc5\u987b\u5d29\u6e83\u6216\u51fa\u73b0\u5f02\u5e38\uff0c\u6216\u8005\u5fc5\u987b\u5207\u6362\u5230\u52a8\u6001\u5185\u5b58\u5206\u914d\u3002</p> <p>Python \u4ece\u4e00\u5f00\u59cb\u5c31\u53ea\u4f7f\u7528\u52a8\u6001\u5185\u5b58\u5206\u914d\u3002\u901a\u8fc7\u5c1d\u8bd5\u8bbf\u95ee\u5b57\u7b26\u4e32\u7f13\u51b2\u533a\u4e4b\u5916\u7684\u5185\u5b58\uff0cC \u7a0b\u5e8f\u901a\u5e38\u4f1a\u9047\u5230\u4e25\u91cd\u7684\u5b89\u5168\u95ee\u9898\u3002Python \u5219\u901a\u8fc7\u4f7f\u7528\u4e0d\u53ef\u53d8\u5b57\u7b26\u4e32\u5bf9\u8c61\u7684\u52a8\u6001\u5206\u914d\u907f\u514d\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u5904\u7406\u53ef\u53d8\u5b57\u7b26\u4e32\u53ef\u4ee5\u4f7f\u7528\u66f4\u5c11\u7684\u65f6\u95f4\uff1b\u66f4\u6539\u5b57\u7b26\u4e32\u6216\u4ece\u5b57\u7b26\u4e32\u4e2d\u5220\u9664\u5b57\u7b26\u65f6\uff0c\u56fa\u5b9a\u957f\u5ea6\u7684\u7f13\u51b2\u533a\u5c06\u9700\u8981\u8f83\u5c11\u7684\u5185\u5b58\u5f00\u9500\u3002\u57fa\u4e8e\u8fd9\u4e24\u70b9\uff0c\u6211\u4eec\u5e94\u8be5\u601d\u8003\u5982\u4f55\u6709\u6548\u5730\u5904\u7406\u5b57\u7b26\u4e32\uff0c\u800c\u4e0d\u662f\u62b1\u6028 Python \u63d0\u4f9b\u4e0d\u53ef\u53d8\u7684\u5b57\u7b26\u4e32\u3002</p> <p>\u5728\u6587\u672c\u5bc6\u96c6\u578b\u7a0b\u5e8f\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u8981\u907f\u514d\u521b\u5efa\u5355\u72ec\u7684\u5b57\u7b26\u4e32\u5bf9\u8c61\u3002\u76f8\u53cd\uff0c\u6211\u4eec\u53ef\u80fd\u60f3\u8981\u521b\u5efa\u4e00\u4e2a\u8f93\u5165\u7f13\u51b2\u533a\uff08input buffer\uff09\u3002\u6211\u4eec\u521b\u5efa <code>slice</code> \u5bf9\u8c61\uff08\u6765\u5f15\u7528\u7f13\u51b2\u533a\u4e2d\u7684\u5b57\u7b26\uff09\uff0c\u800c\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c <code>slice</code> \u5bf9\u8c61\u63cf\u8ff0\u4e86\u552f\u4e00\u7684\u8f93\u5165\u7f13\u51b2\u533a\u4e2d\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u4f4d\u7f6e\u3002\u5982\u679c\u968f\u540e\u9700\u8981\u64cd\u7eb5\u8f93\u5165\u7f13\u51b2\u533a\u7684\u8fd9\u4e9b\u7247\u6bb5\uff0c\u53ea\u8981\u6309\u9700\u521b\u5efa\u65b0\u7684\u5b57\u7b26\u4e32\u5bf9\u8c61\u3002</p> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u65e8\u5728\u63d0\u9ad8\u6548\u7387\u3002\u5f53\u6211\u4eec\u60f3\u8981\u7075\u6d3b\u6027\u548c\u7b80\u5355\u6027\u65f6\uff0c\u5219\u4f7f\u7528 Python \u5b57\u7b26\u4e32\u5bf9\u8c61\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.3.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#dictionary","title":"dictionary","text":"<p>Python \u63d0\u4f9b\u4e86\u521b\u5efa\u5404\u79cd\u4e0d\u540c\u6620\u5c04\u7c7b\u578b\u7684\u89c4\u5b9a\uff0c\u4f46\u5185\u7f6e\u53ea\u6709\u4e00\u79cd\u6620\u5c04\u7c7b\u578b\uff0c\u5373\u5b57\u5178\u3002<code>dict</code> \u5c06\u952e (key) \u6620\u5c04\u5230\u503c\u3002key \u53ef\u4ee5\u662f\u5177\u6709\u4e00\u81f4\u54c8\u5e0c\u503c\u7684\u4efb\u4f55 Python \u5bf9\u8c61\uff0ckey \u5f15\u7528\u7684\u503c\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\u7684Python\u5bf9\u8c61\u3002</p> <p>\u5b57\u5178\u4e0d\u4fdd\u7559\u5143\u7d20\u7684\u63d2\u5165\u987a\u5e8f\uff0c\u800c\u662f\u901a\u8fc7\u5feb\u901f\u8ba1\u7b97 key \u7684\u54c8\u5e0c\u503c\u6765\u83b7\u53d6\u6bcf\u4e2a\u5143\u7d20\u5728\u5b57\u5178\u4e2d\u7684\u4f4d\u7f6e\uff0c\u5176\u5143\u7d20\u88ab\u63d2\u5165\u5230\u4e0e key \u7684\u54c8\u5e0c\u503c\u76f8\u5173\u7684\u4f4d\u7f6e\u3002\u56e0\u6b64 key \u5bf9\u8c61\u5fc5\u987b\u5177\u6709\u4e00\u4e2a\u4e0d\u53d8\u7684\u54c8\u5e0c\u503c\uff0c\u8fd9\u610f\u5473\u7740 key \u5fc5\u987b\u662f\u4e0d\u53ef\u53d8\u7684\u5bf9\u8c61\u3002</p> <p>\u4e00\u4e2a\u5e38\u89c1\u7684\u7f16\u7a0b\u9700\u6c42\u662f\u5c06\u547d\u540d\u7684\u5f02\u6784\u6570\u636e\u4fdd\u5b58\u5230\u5bb9\u5668\u3002\u6570\u636e\u5e93\u5c31\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u6570\u636e\u5e93\u7684\u4e0d\u540c\u8bb0\u5f55\u53ef\u80fd\u5177\u6709\u4e0d\u540c\u7684\u7c7b\u578b\u3002C \u6216 C++ \u7684 <code>struct</code> \u53ef\u4ee5\u505a\u5230\u8fd9\u4e00\u70b9\u3002\u8fd9\u79cd\u547d\u540d\u7684\u6570\u636e\u96c6\u5408\u53ef\u80fd\u6700\u597d\u7528\u4e00\u4e2a\u7c7b\u6216\u4e00\u4e2a\u547d\u540d\u5143\u7ec4\u6765\u5904\u7406\uff0c\u4f46\u6620\u5c04\u7c7b\u578b\u4e5f\u9002\u7528\u4e8e\u5177\u6709\u547d\u540d\u5b57\u6bb5\u7684\u5f02\u6784\u6570\u636e\u3002</p> <p>\u8bb8\u591a\u8bed\u8a00\u4f7f\u7528\u9759\u6001\u5b9a\u4e49\u7684\u5177\u6709\u547d\u540d\u5b57\u6bb5\u7684\u5bb9\u5668\u6765\u4fdd\u5b58\u8fd9\u4e9b\u6570\u636e\uff0c\u4f46 Python \u7684\u5b57\u5178\u662f\u52a8\u6001\u7684\uff0c\u5141\u8bb8\u6211\u4eec\u5728\u8fd0\u884c\u65f6\u6dfb\u52a0\u5b57\u6bb5\u540d\u79f0\u3002</p> <p>\u6709\u4e00\u4e9b\u672f\u8bed\u5c06\u5b57\u5178\u89c6\u4e3a\uff08key: value\uff09\u5bf9\u7684\u5bb9\u5668\u3002\u5b57\u5178\u4e5f\u53ef\u4ee5\u79f0\u4e3a associative array\uff08\u5173\u8054\u6570\u7ec4\uff09\u3002 \u4ee5\u5e8f\u5217\u4e3a\u4ee3\u8868\u7684\u666e\u901a\u6570\u7ec4\u4f7f\u7528\u6570\u5b57\u7d22\u5f15\uff0c\u4f46\u662f\u5b57\u5178\u7684\u7d22\u5f15\u662f key \u5bf9\u8c61\uff0c\u6bcf\u4e2a\u952e\u90fd\u5173\u8054\uff08\u6620\u5c04\uff09\u5230\u5bf9\u5e94\u7684\u503c\u3002</p> <p>\u54c8\u5e0c\u7684\u4e00\u79cd\u5e38\u89c1\u66ff\u4ee3\u65b9\u6cd5\u662f\u4f7f\u7528\u67d0\u79cd\u6709\u5e8f\u7ed3\u6784\u6765\u7ef4\u62a4 key\u3002\u8fd9\u53ef\u80fd\u662f\u6811\u6216\u5217\u8868\uff0c\u8fd9\u5c06\u5bfc\u81f4\u5176\u4ed6\u7c7b\u578b\u7684\u6620\u5c04\u3002\u4f8b\u5982\uff0cPython <code>collections</code> \u6a21\u5757\u4e2d\u6709\u4e00\u79cd\u6709\u5e8f\u5b57\u5178\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.3.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#set","title":"set","text":"<p>set\uff08\u96c6\u5408\uff09\u53ef\u80fd\u662f\u6700\u7b80\u5355\u7684\u5bb9\u5668\uff0c\u56e0\u4e3a\u5b83\u4e0d\u4fdd\u5b58\u5143\u7d20\u7684\u987a\u5e8f\uff0c\u5143\u7d20\u4e5f\u6ca1\u6709\u7279\u5b9a\u7684\u6807\u8bc6\u3002\u5143\u7d20\u672c\u8eab\u4f5c\u4e3a\u81ea\u5df1\u7684\u6807\u8bc6\uff0c\u56e0\u6b64\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u4e0d\u80fd\u91cd\u590d\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.3.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#python-data-type-and-c-structure","title":"Python data type and C structure","text":"<p>\u6807\u51c6\u7684 Python \u5b9e\u73b0\u662f\u7528 C \u7f16\u5199\u7684\uff0c\u8fd9\u610f\u5473\u7740\u6bcf\u4e2a Python \u5bf9\u8c61\u53ea\u662f\u4e00\u4e2a\u5de7\u5999\u4f2a\u88c5\u7684 C \u7ed3\u6784\u3002Python \u5bf9\u8c61\u4e0d\u4ec5\u5305\u542b\u5b83\u7684\u503c\uff0c\u8fd8\u5305\u542b\u5176\u4ed6\u4fe1\u606f\u3002\u4f8b\u5982\uff0c\u5f53\u6211\u4eec\u5728 Python \u4e2d\u5b9a\u4e49\u4e00\u4e2a\u6574\u6570\u65f6\uff0c\u6bd4\u5982 <code>x=100</code>\uff0c<code>x</code> \u4e0d\u4ec5\u4ec5\u662f\u4e00\u4e2a\u539f\u59cb\u7684\u6574\u6570\u3002\u5b83\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u6307\u5411\u590d\u5408 C \u7ed3\u6784\u7684\u6307\u9488\uff0c\u8be5\u7ed3\u6784\u5305\u542b\u51e0\u4e2a\u503c\u3002</p> <p>\u901a\u8fc7\u67e5\u770b Python 3.4 \u7684\u6e90\u4ee3\u7801\uff0c\u6574\u6570\u7c7b\u578b\u7684\u5b9a\u4e49\u5b9e\u9645\u4e0a\u662f\u7c7b\u4f3c\u8fd9\u6837\u7684\uff1a</p> <pre><code>struct _longobject {\nlong ob_refcnt;\nPyTypeObject *ob_type;\nsize_t ob_size;\nlong ob_digit[1];\n};\n</code></pre> <p>Python 3.4 \u4e2d\u7684\u4e00\u4e2a\u6574\u6570\u5b9e\u9645\u4e0a\u5305\u542b\u56db\u4e2a\u90e8\u5206\uff1a</p> <ul> <li><code>ob_refcnt</code>\uff1a\u8fd9\u662f\u4e00\u4e2a\u5f15\u7528\u8ba1\u6570\uff0c\u5e2e\u52a9 Python \u81ea\u52a8\u5206\u914d\u548c\u91ca\u653e\u5185\u5b58\u3002</li> <li><code>ob_type</code>\uff1a\u7528\u4e8e\u7f16\u7801\u53d8\u91cf\u7684\u7c7b\u578b\u3002</li> <li><code>ob_size</code>\uff1a\u6307\u5b9a\u4ee5\u4e0b\u6570\u503c\u6210\u5458\u7684\u5927\u5c0f\u3002</li> <li><code>ob_digit</code>\uff1a\u5305\u542b\u5b9e\u9645\u7684\u6574\u6570\u503c\u3002</li> </ul> <p>\u8fd9\u610f\u5473\u7740\u4e0e C \u4e4b\u7c7b\u7684\u7f16\u8bd1\u578b\u8bed\u8a00\u76f8\u6bd4\uff0c\u5728 Python \u4e2d\u50a8\u5b58\u4e00\u4e2a\u6574\u6570\u9700\u8981\u66f4\u591a\u7684\u5f00\u9500\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p>\u5176\u4e2d\uff0c<code>PyObject_HEAD</code>\u662f\u7ed3\u6784\u7684\u4e00\u90e8\u5206\uff0c\u5305\u542b<code>ob_refcnt</code>\u3001<code>ob_type</code>\u7b49\u3002</p> <p>C \u7684\u6574\u6570\u53d8\u91cf\u672c\u8d28\u4e0a\u662f\u5b57\u8282\u7f16\u7801\u4e3a\u6574\u6570\u503c\u7684\u5185\u5b58\u5757\u4f4d\u7f6e\u7684\u6807\u7b7e\uff0c\u800c Python \u6574\u6570\u53d8\u91cf\u662f\u6307\u5411 Python \u5bf9\u8c61\u5185\u5b58\u4f4d\u7f6e\u7684\u6307\u9488\uff0c\u8be5 Python \u5bf9\u8c61\u5305\u542b\u4e86\u6574\u6570\u503c\u548c\u4e00\u4e9b\u989d\u5916\u4fe1\u606f\u3002\u50a8\u5b58\u8fd9\u4e9b\u989d\u5916\u7684\u4fe1\u606f\u9700\u8981\u4ed8\u51fa\u4e00\u4e9b\u6027\u80fd\u4ee3\u4ef7\uff0c\u4f46\u8fd9\u80fd\u591f\u8ba9 Python \u81ea\u7531\u3001\u52a8\u6001\u5730\u7f16\u7a0b\u3002</p> <p>Python \u7684\u6807\u51c6\u53ef\u53d8\u5bb9\u5668\u662f <code>list</code>\u3002\u5217\u8868\u7684\u5143\u7d20\u53ef\u4ee5\u662f\u540c\u8d28\u7684\uff0c\u4f8b\u5982\u4e0b\u9762\u7684\u6574\u6570\u5217\u8868\uff1a</p> <pre><code>list(range(0, 6))\n</code></pre> <pre><code>[0, 1, 2, 3, 4, 5]\n</code></pre> <p>Python \u7684<code>list</code>\u975e\u5e38\u7075\u6d3b\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u521b\u5efa\u5f02\u6784\u5217\u8868\uff1a</p> <pre><code>lst = [True, \"2\", 3.0, 4]\n[type(item) for item in lst]\n</code></pre> <pre><code>[bool, str, float, int]\n</code></pre> <p>\u4e3a\u4e86\u8ba9\u5217\u8868\u53ef\u4ee5\u5305\u542b\u5404\u79cd\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u5217\u8868\u4e0d\u80fd\u76f4\u63a5\u50a8\u5b58\u5bf9\u8c61\uff0c\u800c\u662f\u50a8\u5b58\u5bf9\u8c61\u7684\u5730\u5740\uff0c\u5e76\u4e14\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u5fc5\u987b\u5305\u542b\u81ea\u5df1\u7684\u7c7b\u578b\u4fe1\u606f\u3001\u5f15\u7528\u8ba1\u6570\u548c\u5176\u4ed6\u4fe1\u606f\u2014\u2014\u4e5f\u5c31\u662f\u8bf4\uff0c\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u4e00\u4e2a\u5b8c\u6574\u7684 Python \u5bf9\u8c61\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.4.Number.html","title":"2.4.Number","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.11.21\n</code></pre> <p>Python \u53ea\u6709\u4e09\u79cd\u6570\u503c\u7c7b\u578b\uff1a\u6574\u6570\u3001\u6d6e\u70b9\u6570\u3001\u590d\u6570\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.4.Number.html#_1","title":"\u6574\u6570","text":"<p><code>numbers.Integral</code> \u63cf\u8ff0\u4e86\u6570\u5b66\u4e0a\u7684\u6574\u6570\u96c6\uff08\u6b63\u6570\u548c\u8d1f\u6570\uff09\u3002</p> <p>Python \u6709 2 \u79cd\u6574\u6570\u7c7b\u578b\uff1a</p> <ul> <li> <p>\u6570\u503c\u578b\u6574\u6570 <code>numbers.Integral</code> \uff0c<code>int</code> \u7c7b\u578b\u5b9e\u73b0\u4e86\u8be5\u62bd\u8c61\u63a5\u53e3\u3002\u6570\u503c\u578b\u6574\u6570\u7684\u8868\u793a\u8303\u56f4\u5728\u8bed\u8a00\u4e0a\u662f\u65e0\u9650\u5236\u7684\uff0c\u53ea\u53d7\u9650\u4e8e\u8ba1\u7b97\u673a\u7684\u5185\u5b58\uff08\u865a\u62df\u5185\u5b58\uff09\u3002\u5bf9\u4e8e\u4ee5\u79fb\u4f4d\u548c\u5c4f\u853d\u8fd0\u7b97\uff0c\u6570\u503c\u578b\u6b63\u6570\u88ab\u8ba4\u4e3a\u662f\u4e8c\u8fdb\u5236\u7684\u5f62\u5f0f\uff0c\u5982\u679c\u662f\u8d1f\u6570\uff0c\u90a3\u4e48\u5c31\u88ab\u8f6c\u6362\u6210\u4e8c\u8fdb\u5236\u8865\u7801\u5f62\u5f0f\uff0c\u7b26\u53f7\u4f4d\u5411\u5de6\u6269\u5c55\u3002</p> </li> <li> <p>\u5e03\u5c14\u578b\u6574\u6570 <code>bool</code>\u3002\u5e03\u5c14\u7c7b\u578b\u662f<code>int</code>\u7684\u5b50\u7c7b\u578b\uff0c\u5206\u522b\u7528\u6570\u503c 0 \u548c 1 \u6765\u8868\u793a\u5047\u548c\u771f\uff0c\u4f46\u662f\u5f53\u8fd4\u56de\u503c\u7684\u7c7b\u578b\u662f\u5b57\u7b26\u65f6\uff0c\u5176\u5206\u522b\u7528 <code>\"False\"</code> \u6216\u8005 <code>\u201cTrue\u201d</code> \u8868\u793a\u3002</p> </li> </ul> <p>\u8fd4\u56de\u8be5\u6574\u6570\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u6240\u9700\u8981\u7684\u4f4d\u6570</p> <pre><code>int_num = 10\nint_num.bit_length\n</code></pre> <pre><code>&lt;function int.bit_length()&gt;\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.4.Number.html#_2","title":"\u6d6e\u70b9\u6570","text":"<p>\u6d6e\u70b9\u6570 <code>numbers.Real</code> \u8868\u793a\u673a\u5668\u7ea7\u7684\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff0c<code>float</code> \u7c7b\u578b\u5b9e\u73b0\u4e86\u8be5\u62bd\u8c61\u63a5\u53e3\u3002\u5176\u8868\u793a\u8303\u56f4\u548c\u6ea2\u51fa\u5904\u7406\u53d7\u9650\u4e8e \u673a\u5668\u4f53\u7cfb\u7ed3\u6784 \u548c \u7f16\u8bd1\u5668/\u89e3\u91ca\u5668 \u7684\u5177\u4f53\u5b9e\u73b0\u3002</p> <p>Python \u4e0d\u652f\u6301\u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff0c\u4f7f\u7528\u5b83\u7684\u539f\u56e0\u901a\u5e38\u662f\u51cf\u5c11CPU\u8d1f\u8377\u548c\u8282\u7701\u5185\u5b58\uff0c\u4f46\u8fd9\u4e9b\u8282\u7701\u7684\u5f00\u9500\u4e0e\u5728 Python \u4e2d\u4f7f\u7528\u5bf9\u8c61\u7684\u5f00\u9500\u76f8\u6bd4\u8981\u5c0f\u5f97\u591a\uff0c\u56e0\u6b64\u6ca1\u6709\u5fc5\u8981\u652f\u6301\u4e24\u79cd\u6d6e\u70b9\u6570\u4f7f\u8bed\u8a00\u53d8\u5f97\u590d\u6742\u3002</p> <p>\u5173\u4e8e\u8fd0\u884c\u7a0b\u5e8f\u7684\u673a\u5668\u7684\u6d6e\u70b9\u6570\u7684\u7cbe\u5ea6\u548c\u5185\u90e8\u8868\u793a\u7684\u4fe1\u606f\u53ef\u4ee5\u5728 <code>sys.float_info</code> \u4e2d\u627e\u5230\u3002</p> <pre><code>float_num = 10.5\n</code></pre> <p>\u83b7\u53d6\u6d6e\u70b9\u6570\u7684\u5341\u516d\u8fdb\u5236\u8868\u793a\u3002</p> <pre><code>float_num.hex()\n</code></pre> <pre><code>'0x1.5000000000000p+3'\n</code></pre> <p>\u8be5\u6d6e\u70b9\u6570\u662f\u5426\u4e3a\u6574\u6570\u3002</p> <pre><code>float_num.is_integer()\nfloat_num.as_integer_ratio()\n</code></pre> <pre><code>(21, 2)\n</code></pre> <p>\u4ece\u5341\u516d\u8fdb\u5236\u5c0f\u6570\u7684\u5b57\u7b26\u4e32\u521b\u5efa\u6d6e\u70b9\u6570\u3002</p> <pre><code>float.fromhex('0x1.ffffp10')\n</code></pre> <pre><code>2047.984375\n</code></pre> <p>\u8fd4\u56de\u4e00\u5bf9\u6574\u6570\uff0c\u5176\u6bd4\u7387\u7b49\u4e8e\u8be5\u6d6e\u70b9\u6570\uff0c\u5206\u5b50\u6c38\u8fdc\u4e3a\u6b63\u6574\u6570\uff0c\u5982\u679c\u539f\u6d6e\u70b9\u6570\u4e3a NaN\uff0c\u5c06\u5f15\u53d1 <code>OverflowError</code>\u3002</p> <pre><code>float_num = -10.5\nfloat_num.as_integer_ratio()\n</code></pre> <pre><code>(-21, 2)\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.4.Number.html#_3","title":"\u590d\u6570","text":"<p>\u590d\u6570 <code>numbers.Complex</code>  \u63cf\u8ff0\u4e86\u4e00\u5bf9\u673a\u5668\u7ea7\u7684\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff0c<code>complex</code> \u7c7b\u578b\u5b9e\u73b0\u4e86\u8be5\u62bd\u8c61\u63a5\u53e3\u3002\u590d\u6570 <code>z</code> \u7684\u5b9e\u90e8\u548c\u865a\u90e8\u53ef\u4ee5\u901a\u8fc7\u5c5e\u6027 <code>z.real</code> \u548c <code>z.imag</code> \u83b7\u5f97\u3002</p> <p>Python \u5b8c\u5168\u652f\u6301\u6570\u503c\u7c7b\u578b\u7684\u6df7\u5408\u8ba1\u7b97\u3002\u5f53\u4e0d\u540c\u6570\u503c\u7c7b\u578b\u7684\u64cd\u4f5c\u6570\u88ab\u7528\u4e8e\u8ba1\u7b97\u65f6\uff0c\u8868\u793a\u8303\u56f4\u5c0f\u7684\u64cd\u4f5c\u6570\u5c06\u88ab\u6269\u5927\u5230\u53e6\u4e00\u4e2a\u64cd\u4f5c\u6570\u7684\u7c7b\u578b\u3002\u5176\u4e2d\uff0c\u6574\u6570\u6bd4\u6d6e\u70b9\u6570\u8303\u56f4\u7a84\uff0c\u6d6e\u70b9\u6570\u6bd4\u590d\u6570\u7a84\u3002</p> <pre><code>complex_num = 10 + 5j\n</code></pre> <p>\u83b7\u53d6\u5171\u8f6d\u590d\u6570</p> <pre><code>complex_num.conjugate()\n</code></pre> <pre><code>(10-5j)\n</code></pre> <p>\u83b7\u53d6 \u5b9e\u90e8 \u548c \u865a\u90e8</p> <pre><code># tag = \"input\"\nprint(complex_num.real)\nprint(complex_num.imag)\n</code></pre> <pre><code>10.0\n5.0\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.4.Number.html#_4","title":"\u8fdb\u5236\u6570\u8868\u793a","text":"<p>\u5728 Python \u4e2d\uff0c\u6574\u6570\u53ef\u4ee5\u4f7f\u7528\u4e8c\u8fdb\u5236\u3001\u516b\u8fdb\u5236\u3001\u5341\u516d\u8fdb\u5236\u8868\u793a\uff0c\u9ed8\u8ba4\u4f7f\u7528\u5341\u8fdb\u5236\u5f62\u5f0f\u3002\u6d6e\u70b9\u6570\u7684\u6574\u6570\u90e8\u5206\u53ca\u5c0f\u6570\u90e8\u5206\u90fd\u53ea\u80fd\u4f7f\u7528\u5341\u8fdb\u5236\u8868\u793a\u3002</p> <p><code>0b</code> \u6216 <code>0B</code> \u5f00\u5934\u8868\u793a\u4e8c\u8fdb\u5236\u6570\uff1a</p> <pre><code>0b10\n</code></pre> <pre><code>2\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528<code>bin</code>\u51fd\u6570\u83b7\u53d6\u4e00\u4e2a10\u8fdb\u5236\u6570\u503c\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u3002<code>bin</code>\u51fd\u6570\u8fd4\u56de\u7684\u662f\u6570\u503c\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u7684\u5b57\u7b26\u4e32\uff0c\u800c\u4e0d\u662f\u6570\u5b57\u3002</p> <pre><code>bin(2)\n</code></pre> <pre><code>'0b10'\n</code></pre> <p><code>0o</code> \u6216 <code>0O</code> \u5f00\u5934\u8868\u793a\u516b\u8fdb\u5236\u6570\uff1a</p> <pre><code>0o10\n</code></pre> <pre><code>8\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528<code>oct</code>\u51fd\u6570\u83b7\u53d610\u8fdb\u5236\u6574\u6570\u76848\u8fdb\u5236\u6574\u6570\u5f62\u5f0f\uff1a</p> <pre><code>oct(8)\n</code></pre> <pre><code>'0o10'\n</code></pre> <p><code>0x</code> \u6216 <code>0X</code> \u5f00\u5934\u8868\u793a\u5341\u516d\u8fdb\u5236\u6570\uff1a</p> <pre><code>0x10\n</code></pre> <pre><code>16\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.4.Number.html#_5","title":"\u79d1\u5b66\u8bb0\u6570\u6cd5","text":"<p><code>e</code> \u6216 <code>E</code> \u8868\u793a exponent\uff08\u6307\u6570\uff09\u3002</p> <pre><code>0e0 == 0.0\n1.23e2 == 123\n1.23e-2 == 0.0123\n</code></pre> <pre><code>True\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.4.Number.html#_6","title":"\u6570\u4f4d\u5206\u9694\u7b26","text":"<p>\u6570\u503c\u7684\u5b57\u9762\u503c\u5305\u542b <code>_</code> \u7b26\u53f7\u662f\u5408\u6cd5\u7684\uff0c<code>_</code>\u53ef\u4ee5\u7528\u6765\u5206\u9694\u6570\u4f4d\uff0c\u4f46 <code>_</code> \u4e0d\u80fd\u653e\u5728\u6570\u5b57\u7684\u5f00\u5934\u3002</p> <pre><code>1000_000\n123.456_789\n0b101_010\n0x_101_010\n</code></pre> <pre><code>1052688\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.4.Number.html#_7","title":"\u8fdb\u5236\u8f6c\u6362","text":"<p><code>int</code> \u9664\u4e86\u7528\u6765\u521b\u5efa\u6574\u6570\uff0c\u8fd8\u53ef\u4ee5\u5c06\u975e\u5341\u8fdb\u5236\u7684\u6570\u503c\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5341\u8fdb\u5236\u6570\u503c\u3002</p> <p>16 \u8fdb\u5236\u8f6c\u6362\u4e3a 10 \u8fdb\u5236</p> <pre><code>int(\"0x10\", base=16)\n</code></pre> <pre><code>16\n</code></pre> <p>10 \u8fdb\u5236\u8f6c\u6362\u4e3a 16 \u8fdb\u5236\u5b57\u7b26\u4e32</p> <pre><code>hex(16)\n</code></pre> <pre><code>'0x10'\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html","title":"2.5.String","text":"<pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.19\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#_1","title":"\u591a\u884c\u5b57\u7b26\u4e32","text":"<pre><code># tab = \"input\"\nstr_1 = \"\"\"\nThis is a multi-line string\nThis is the second line\n\"\"\"\nprint(str_1)\n\nstr_2 = \"\\nThis is a multi-line string\\nThis is the second line\\n\"\nprint(str_2)\n\nprint(str_1 == str_2)\n</code></pre> <pre><code>This is a multi-line string\nThis is the second line\n\n\nThis is a multi-line string\nThis is the second line\n\nTrue\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#_2","title":"\u8f6c\u4e49","text":"<p>\u5982\u679c\u8981\u5728\u5b57\u7b26\u4e32\u91cc\u9762\u8f93\u5165\u7279\u6b8a\u5b57\u7b26\uff0c\u9700\u8981\u4f7f\u7528\u8f6c\u4e49\u7b26<code>\\</code>\uff0c\u4f8b\u5982\u8f93\u5165\u8f6c\u4e49\u7b26\u672c\u8eab\uff1a</p> <pre><code>print(\"12\\\\14\")\n</code></pre> <pre><code>12\\14\n</code></pre> <p>\u5982\u679c\u4e0d\u662f\u7279\u6b8a\u5b57\u7b26\uff0c\u5219\u8f6c\u4e49\u7b26\u4e0d\u4f1a\u751f\u6548\uff1a</p> <pre><code>print(\"\\g\")\n</code></pre> <pre><code>\\g\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#_3","title":"\u524d\u7f00","text":"<p>\u5728 Python 3 \u4e2d\uff0c\u5b57\u7b26\u4e32\u53ef\u4ee5\u6dfb\u52a0\u4ee5\u4e0b\u524d\u7f00\uff1a</p> <ul> <li> <p><code>r</code> / <code>R</code>\uff1a\u8868\u793a\u975e\u8f6c\u4e49\u7684\u539f\u59cb\u5b57\u7b26\u4e32\uff0c\u5e38\u7528\u4e8e\u6b63\u5219\u8868\u8fbe\u5f0f\u3001\u8def\u5f84\u5b57\u7b26\u4e32\u3002</p> </li> <li> <p><code>b</code> / <code>B</code>\uff1a\u8868\u793a Python 3 \u7684 bytes\uff0cPython 2 \u7684\u5b57\u7b26\u4e32\u9ed8\u8ba4\u5c31\u662f bytes\u3002Python2\u7684b\u524d\u7f00\u53ea\u662f\u4e3a\u4e86\u517c\u5bb9Python3\u7684\u8fd9\u79cd\u5199\u6cd5\u3002</p> </li> <li> <p><code>u</code> / <code>U</code>\uff1a\u8868\u793a Python 2 \u7684 unicode \u5b57\u7b26\u4e32\uff0c\u5373\u5bf9\u5b57\u7b26\u4e32\u8fdb\u884c unicode \u7f16\u7801\u3002Python 3 \u91cc\u9ed8\u8ba4\u7684 str \u5c31\u662f Python 2 \u7684 unicode\u3002Python 3 \u7684<code>u</code>\u524d\u7f00\u53ea\u662f\u4e3a\u4e86\u517c\u5bb9 Python 2 \u7684\u8fd9\u79cd\u5199\u6cd5\u3002\u5efa\u8bae\u7edf\u4e00\u91c7\u7528UTF-8\u7f16\u7801\u3002</p> </li> <li> <p><code>f</code> / <code>F</code>\uff1a\u8868\u793a<code>f</code>\u683c\u5f0f\u5b57\u7b26\u4e32\u3002</p> </li> </ul>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#_4","title":"\u5b57\u7b26\u7f16\u7801","text":"<p>Python 3\u6709\u4e24\u79cd\u4e0d\u540c\u7684\u5b57\u7b26\u4e32\uff1a</p> <ul> <li>str\uff1a\u6587\u672c\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u9ed8\u8ba4\u4f7f\u7528 USC-4 \u7f16\u7801\u50a8\u5b58\u5b57\u7b26\u4e32\u3002\u76f8\u5f53\u4e8e Python 2 \u7684<code>unicode</code>\u7c7b\u578b\uff0c\u4f46 Python 2 \u7684<code>unicode</code>\u9ed8\u8ba4\u4f7f\u7528 USC-2 \u7f16\u7801\u50a8\u5b58\u5b57\u7b26\u4e32\u3002str \u53ef\u4ee5\u901a\u8fc7\u7f16\u7801\uff0c\u8f6c\u6362\u4e3a bytes\u3002</li> <li>bytes\uff1a\u5b57\u8282\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u9ed8\u8ba4\u4f7f\u7528 UTF-8 \u7f16\u7801\u50a8\u5b58\u5b57\u7b26\u4e32\u3002\u5b57\u9762\u503c\u7528 16 \u8fdb\u5236\u6216\u8005 ASCII \u7801\u663e\u793a\u3002\u76f8\u5f53\u4e8e Python 2 \u7684<code>str</code>\u7c7b\u578b\u3002bytes \u53ef\u4ee5\u901a\u8fc7\u89e3\u7801\u8f6c\u6362\u4e3a str\u3002</li> </ul> <p>$$ \\begin{array}{} \\text{Python 3} \\mathbf{str} &amp;\\Longleftrightarrow \\text{Python 2} \\mathbf{unicode} \\\\ \\text{Python 3} \\mathbf{bytes} &amp;\\Longleftrightarrow \\text{Python 2} \\mathbf{str} \\end{array} $$</p> <p>Python\u7684\u6587\u6863\u8bf4 Python 3 \u7684<code>str</code>\u7c7b\u578b\u50a8\u5b58Unicode\u7f16\u7801\u6216Unicode\u5b57\u7b26\u4e32\uff0c\u800c<code>bytes</code>\u7c7b\u578b\u50a8\u5b58\u5b57\u7b26\u4e32\u7684\u4e8c\u8fdb\u5236\u5b57\u8282\u6d41\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u76f8\u5f53\u6709\u8bef\u5bfc\u6027\uff0c\u65e0\u8bba<code>str</code>\u8fd8\u662f<code>bytes</code>\uff0c\u5176\u672c\u8d28\u90fd\u662f\u6574\u578b\uff0c\u53ea\u662f Python 3\u7684<code>str</code>\u4f7f\u7528\u5b9a\u957f\u7f16\u7801\u50a8\u5b58\u5b57\u7b26\u4e32\uff0c\u800c<code>betys</code>\u4f7f\u7528\u53d8\u957f\u7f16\u7801\u50a8\u5b58\u5b57\u7b26\u4e32\u3002</p> <p>\u5728 Python 3 \u4e2d\u5b9e\u4f8b\u5316\u4e00\u4e2a\u5b57\u7b26\u4e32</p> <pre><code>str_1 = \"\u4e2d\u56fd\"\n# \u9ed8\u8ba4\u4f7f\u7528 UTF-8 \u7f16\u7801\nprint(str_1.encode())\nprint(str_1.encode(encoding=\"utf-8\"))\n</code></pre> <pre><code>b'\\xe4\\xb8\\xad\\xe5\\x9b\\xbd'\nb'\\xe4\\xb8\\xad\\xe5\\x9b\\xbd'\n</code></pre> <pre><code># \u521b\u5efa\u4e00\u4e2a\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32\nstr_2 = b'\\xe4\\xb8\\xad\\xe5\\x9b\\xbd'\n# \u9ed8\u8ba4\u4f7f\u7528 UTF-8 \u89e3\u7801\nprint(str_2.decode())\nprint(str_2.decode(\"utf-8\"))\n</code></pre> <pre><code>\u4e2d\u56fd\n\u4e2d\u56fd\n</code></pre> <p>Python 3 \u7684<code>str</code>\u7c7b\u578b\u5728\u5904\u7406\u6216\u8fd0\u7b97\u5b57\u7b26\u4e32\u65f6\u4f7f\u7528\uff0c\u800c<code>bytes</code>\u7c7b\u578b\u4e00\u822c\u5728\u7f51\u7edc\u4f20\u8f93\u5b57\u7b26\u4e32\u6216\u5c06\u5b57\u7b26\u4e32\u4fdd\u5b58\u5230\u786c\u76d8\u65f6\u4f7f\u7528\u3002\u4f7f\u7528 <code>encode</code> / <code>decode</code> \u65b9\u6cd5\u65f6\uff0c\u4e0d\u80fd\u8d85\u51fa\u6307\u5b9a\u7f16\u7801\u7684\u8303\u56f4\uff0c\u4f8b\u5982\u4e0d\u80fd\u5bf9\u4e2d\u6587\u5b57\u7b26\u4f7f\u7528<code>.encode(\"ascii\")</code>\uff0c\u56e0\u4e3a\u4e2d\u6587\u4e0d\u5728ascii\u7801\u7684\u8303\u56f4\u5185\u3002</p> <pre><code>try:\n    '\u4e2d\u6587'.encode('ascii')\nexcept UnicodeEncodeError as e:\n    print(e)\n\ntry:\n    b'\\xe4\\xb8\\xad\\xe6\\x96\\x87'.decode('ascii')\nexcept UnicodeDecodeError as e:\n    print(e)\n</code></pre> <pre><code>'ascii' codec can't encode characters in position 0-1: ordinal not in range(128)\n'ascii' codec can't decode byte 0xe4 in position 0: ordinal not in range(128)\n</code></pre> <p>\u5982\u679cbytes\u4e2d\u5305\u542b\u65e0\u6cd5\u89e3\u7801\u7684\u5b57\u8282\uff0c<code>decode()</code>\u65b9\u6cd5\u4f1a\u62a5\u9519\uff1a</p> <pre><code>try:\n    b'\\xe4\\xb8\\xad\\xff'.decode('utf-8')\nexcept UnicodeDecodeError as e:\n    print(e)\n</code></pre> <pre><code>'utf-8' codec can't decode byte 0xff in position 3: invalid start byte\n</code></pre> <p>\u4f46\u662f\uff0c\u5982\u679cbytes\u4e2d\u53ea\u6709\u4e00\u5c0f\u90e8\u5206\u65e0\u6548\u7684\u5b57\u8282\uff0c\u53ef\u4ee5\u4f20\u5165<code>errors = 'ignore'</code>\u5ffd\u7565\u9519\u8bef\u7684\u5b57\u8282\uff1a</p> <pre><code>\"\u4e2d\".encode(\"utf-8\")  # \u4e2d \u539f\u6765\u7684\u7f16\u7801\nb'\\xe4\\xb8\\xad\\xff'.decode('utf-8', errors='ignore')\n</code></pre> <pre><code>'\u4e2d'\n</code></pre> <p>\u5982\u679c\u4ee3\u7801\u4f1a\u5728\u591a\u4e2a\u8fd0\u884c\u73af\u5883\u4e2d\u4f7f\u7528\uff0c\u5728\u5bf9<code>str</code>\u548c<code>bytes</code>\u4e92\u76f8\u8f6c\u6362\u65f6\uff0c\u4e3a\u4e86\u907f\u514d\u4e71\u7801\u95ee\u9898\uff0c\u5e94\u8be5\u4f7f\u7528 UTF-8 \u7f16\u7801\u5bf9<code>str</code>\u548c<code>bytes</code>\u8fdb\u884c\u8f6c\u6362\u3002\u56e0\u4e3a Python 3 \u5728 encode \u548c decode \u5b57\u7b26\u4e32\u65f6\u9ed8\u8ba4\u4f7f\u7528 <code>UTF-8</code> \u7f16\u7801\uff0c\u6240\u4ee5\u4f7f\u7528 Python 3 \u4f1a\u8f83\u5c11\u9047\u5230\u5b57\u7b26\u7f16\u7801\u95ee\u9898\u3002\u4f46 Python 2 \u7684<code>str</code>\u7c7b\u578b\u50a8\u5b58\u7684\u53ef\u80fd\u662fASCII\u3001UTF-8\u3001GBK\u3001gb2312\u3001cp437 \u6216 big5 \u7b49\u7b49\uff0c\u8fd9\u5f80\u5f80\u53d6\u51b3\u4e8e\u5f53\u524d\u7cfb\u7edf\u6216\u7ec8\u7aef\u6240\u7528\u7684\u9ed8\u8ba4\u7f16\u7801\u3002\u5982\u679c\u4f60\u6ca1\u6709\u663e\u5f0f\u6307\u5b9a UTF-8 \u7f16\u7801\uff0c\u6216\u8005\u4e0d\u77e5\u9053\u5f53\u524d\u4f7f\u7528\u7684\u662f\u4ec0\u4e48\u7f16\u7801\uff0c\u5c31\u53ef\u4ee5\u9047\u5230\u4e71\u7801\u3002</p> <p>\u5982\u679c\u5bf9\u5b57\u7b26\u7f16\u7801\u4e0d\u4e86\u89e3\uff0c\u53ef\u4ee5\u53c2\u80031.5\u5b57\u7b26\u7f16\u7801\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u4ee3\u7801\u8f93\u51faPython\u3001\u5f53\u524d\u7cfb\u7edf\u3001\u7cfb\u7edf\u6807\u51c6\u8f93\u5165\u3001\u7cfb\u7edf\u6807\u51c6\u8f93\u51fa\u3001\u7cfb\u7edf\u6587\u4ef6\u540d\u6240\u4f7f\u7528\u7684\u7f16\u7801\uff1a</p> <pre><code>import sys, locale\n\nprint(sys.getdefaultencoding())\nprint(locale.getdefaultlocale())\n\nprint(sys.stdin.encoding)\nprint(sys.stdout.encoding)\nprint(sys.getfilesystemencoding())\n</code></pre> <pre><code>utf-8\n('zh_CN', 'UTF-8')\nutf-8\nUTF-8\nutf-8\n</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u4ee3\u7801\u5224\u65ad Python 3 \u7684<code>str</code>\u7c7b\u578b\u6216 Pyhon 2 \u7684 <code>unicode</code> \u7c7b\u578b\u4f7f\u7528\u7684\u7f16\u7801\u662f UCS-2 \u8fd8\u662f UCS-4\uff1a</p> <pre><code>from __future__ import print_function\nimport sys\n\n# \u5982\u679c\u662f 1114111 \u5219\u662f USC-4\n# \u5982\u679c\u662f 65535 \u5219\u662f USC-4\nprint(sys.maxunicode)\n</code></pre> <pre><code>1114111\n</code></pre> <p>\u7531\u4e8e Python \u6e90\u4ee3\u7801\u4e5f\u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\uff0c\u6240\u4ee5\uff0c\u5f53\u4f60\u7684\u6e90\u4ee3\u7801\u4e2d\u5305\u542b\u4e2d\u6587\u7684\u65f6\u5019\uff0c\u6700\u597d\u4f7f\u7528UTF-8\u7f16\u7801\u4fdd\u5b58\u6e90\u4ee3\u7801\u6587\u4ef6\u3002\u5f53 Python \u89e3\u91ca\u5668\u8bfb\u53d6\u6e90\u4ee3\u7801\u65f6\uff0c\u4e3a\u4e86\u8ba9\u5b83\u6309 UTF-8 \u7f16\u7801\u8bfb\u53d6\uff0c\u6211\u4eec\u901a\u5e38\u5728\u6587\u4ef6\u5f00\u5934\u5199\u4e0a\u8fd9\u4e24\u884c\uff1a</p> <pre><code># !/usr/bin/env python3\n# -*- coding: utf-8 -*-\n</code></pre> <p>\u7b2c\u4e00\u884c\u6ce8\u91ca\u662f\u4e3a\u4e86\u544a\u8bc9 Linux/OS X\u7cfb\u7edf\uff0c\u8fd9\u662f\u4e00\u4e2a Python\u53ef\u6267\u884c\u7a0b\u5e8f\uff0cWindows \u7cfb\u7edf\u4f1a\u5ffd\u7565\u8fd9\u4e2a\u6ce8\u91ca\u3002\u7b2c\u4e8c\u884c\u6ce8\u91ca\u662f\u4e3a\u4e86\u544a\u8bc9 Python \u89e3\u91ca\u5668\uff0c\u6309\u7167 UTF-8 \u7f16\u7801\u8bfb\u53d6\u6e90\u4ee3\u7801\uff0c\u5426\u5219\uff0c\u5728\u6e90\u4ee3\u7801\u4e2d\u5199\u7684\u4e2d\u6587\u8f93\u51fa\u53ef\u80fd\u4f1a\u6709\u4e71\u7801\u3002</p> <p>UTF-8\u7f16\u7801\u6ce8\u91ca\u53ea\u662f\u8ba9Python\u89e3\u91ca\u5668\u6309UTF-8\u7684\u7f16\u7801\u89c4\u5219\u8bfb\u53d6\u6e90\u4ee3\u7801\uff0c\u5e76\u4e0d\u610f\u5473\u7740\u6e90\u4ee3\u7801\u4e00\u5b9a\u662f\u4f7f\u7528UT8-8\u7f16\u7801\u4fdd\u5b58\u7684\uff0c\u5fc5\u987b\u5e76\u4e14\u8981\u786e\u4fdd\u6587\u672c\u7f16\u8f91\u5668\u6b63\u5728\u4f7f\u7528UTF-8\u7f16\u7801\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#_5","title":"\u683c\u5f0f\u5316","text":""},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#c-printf","title":"C printf \u6837\u5f0f\u7684\u683c\u5f0f\u5316","text":"<p>\u5b57\u7b26\u4e32\u5177\u6709\u4e00\u79cd\u7279\u6b8a\u7684\u5185\u7f6e\u64cd\u4f5c\uff1a\u4f7f\u7528 % (\u53d6\u6a21)\u8fd0\u7b97\u7b26\uff0c\u53ef\u4ee5\u683c\u5f0f\u5316\u5b57\u7b26\u4e32\uff0c\u6b64\u65f6<code>%</code>\u4e5f\u88ab\u79f0\u4e3a\u5b57\u7b26\u4e32\u7684\u683c\u5f0f\u5316\u8fd0\u7b97\u7b26\u6216\u63d2\u503c\u8fd0\u7b97\u7b26\u3002\u5bf9\u4e8eformat % values(\u5176\u4e2dformat\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32)\uff0c\u5728format\u4e2d\u7684 % \u8f6c\u6362\u6807\u8bb0\u7b26\u5c06\u88ab\u66ff\u6362\u4e3a\u96f6\u4e2a\u6216\u591a\u4e2avalues\u6761\u76ee\u3002 \u5176\u6548\u679c\u7c7b\u4f3c\u4e8e\u5728C\u8bed\u8a00\u4e2d\u4f7f\u7528<code>sprintf()</code>\u3002</p> <pre><code># tab = \"input\"\nprint('Hello, %s' % 'world')  # \u7701\u7565\u62ec\u53f7\nprint('Hi, %s, you have $%d' % ('Michael', 10000.58))\n</code></pre> <pre><code>Hello, world\nHi, Michael, you have $10000\n</code></pre> <p>\u8f6c\u6362\u6807\u8bb0\u7b26\u5305\u542b\u4e24\u4e2a\u6216\u66f4\u591a\u5b57\u7b26\uff0c\u7531\u4ee5\u4e0b\u5143\u7d20\u7ec4\u6210\uff0c\u4e14\u5fc5\u987b\u9075\u5faa\u6b64\u5904\u89c4\u5b9a\u7684\u987a\u5e8f\uff1a</p> <ol> <li> <p><code>%</code>\u5b57\u7b26\uff0c\u7528\u4e8e\u6807\u8bb0\u8f6c\u6362\u7b26\u7684\u8d77\u59cb\u3002</p> </li> <li> <p>\u6620\u5c04\u952e\uff08\u53ef\u9009\uff09\uff0c\u7531\u52a0\u5706\u62ec\u53f7\u7684\u5b57\u7b26\u5e8f\u5217\u7ec4\u6210(\u4f8b\u5982(somename))\u3002</p> </li> <li> <p>\u8f6c\u6362\u6807\u5fd7\uff08\u53ef\u9009\uff09</p> <ul> <li> <p><code>-</code>\u8868\u793a\u5de6\u5bf9\u9f50</p> </li> <li> <p><code>+</code>\u8868\u793a\u8f6c\u6362\u540e\u7684\u5185\u5bb9\u524d\u65b9\u52a0\u4e0a\u6b63\u8d1f\u53f7</p> </li> <li> <p><code>\u7a7a\u683c</code>\u8868\u793a\u6b63\u6570\u524d\u65b9\u4fdd\u7559\u4e00\u4e2a\u7a7a\u683c</p> </li> <li> <p><code>0</code>\u8868\u793a\u5982\u679c\u8f6c\u6362\u4f4d\u7f6e\u4f4d\u6570\u4e0d\u591f\u65f6\uff0c\u75280\u586b\u5145</p> </li> </ul> </li> <li> <p>\u6700\u5c0f\u5b57\u6bb5\u5bbd\u5ea6\uff08\u53ef\u9009\uff09\uff0c\u8f6c\u6362\u540e\u5b57\u6bb5\u7684\u6700\u5c0f\u5bbd\u5ea6\uff0c\u5982\u679c\u4e0d\u8db3\u81ea\u52a8\u7528\u7a7a\u683c\u8865\u9f50\uff1b\u5982\u679c\u6700\u5c0f\u5b57\u6bb5\u5bbd\u5ea6\u503c\u4e3a<code>*</code>\uff0c\u5219\u4ece\u5143\u7ec4\u4e2d\u8bfb\u53d6\u3002</p> </li> <li> <p>\u7cbe\u5ea6\uff08\u53ef\u9009\uff09\uff0c\u5728<code>.</code>\u4e4b\u540e\u52a0\u7cbe\u5ea6\u503c\u7684\u5f62\u5f0f\u7ed9\u51fa\u3002\u5982\u679c\u6307\u5b9a\u4e3a\u4e3a<code>*</code>\uff0c\u5219\u4ece\u5143\u7ec4\u4e2d\u8bfb\u53d6\u3002</p> </li> <li> <p>\u957f\u5ea6\u4fee\u9970\u7b26\uff08\u53ef\u9009\uff09\u3002</p> </li> <li> <p>\u8f6c\u6362\u7c7b\u578b\u3002</p> </li> </ol> Conversion Meaning Conversion Meaning <code>d</code> \u683c\u5f0f\u5316\u6574\u6570 <code>f</code> \u6d6e\u70b9\u6570 <code>i</code> \u683c\u5f0f\u5316\u6574\u6570 <code>F</code> \u6d6e\u70b9\u6570 <code>o</code> 8 \u8fdb\u5236 <code>g</code> \u6d6e\u70b9\u6570\uff0c \u5982\u679c\u6307\u6570\u5c0f\u4e8e -4 \u6216\u5c0f\u4e8e\u7cbe\u5ea6\uff0c \u5219\u4f7f\u7528\u5c0f\u5199\u6307\u6570\u683c\u5f0f\uff0c \u5426\u5219\u4f7f\u7528\u5c0f\u6570\u683c\u5f0f <code>u</code> \u683c\u5f0f\u5316\u65e0\u7b26\u53f7\u6574\u578b(\u5df2\u8fc7\u65f6) <code>G</code> \u6d6e\u70b9\u6570\uff0c \u7c7b\u4f3c <code>g</code>, \u4f7f\u7528\u5927\u5199\u6307\u6570 <code>x</code> 16 \u8fdb\u5236\uff0c \u5c0f\u5199\u5b57\u6bcd <code>c</code> \u5355\u4e2a\u5b57\u7b26\uff0c \u683c\u5f0f\u5316\u5b57\u7b26\u53ca\u5176 ASCII \u7801 <code>X</code> 16 \u8fdb\u5236\uff0c \u5927\u5199\u5b57\u6bcd <code>r</code> \u5b57\u7b26\u4e32\uff0c \u4f7f\u7528 repr() \u8f6c\u6362\u4efb\u4f55 Python \u5bf9\u8c61 <code>e</code> \u6d6e\u70b9\u6307\u6570\u683c\u5f0f\uff0c \u5c0f\u5199\u5b57\u6bcd <code>s</code> \u5b57\u7b26\u4e32\uff0c \u4f7f\u7528 str() \u8f6c\u6362\u4efb\u4f55 Python \u5bf9\u8c61 <code>E</code> \u6d6e\u70b9\u6307\u6570\u683c\u5f0f\uff0c \u5927\u5199\u5b57\u6bcd <code>%</code> % \u5b57\u7b26 <pre><code># \u6620\u5c04\u952e\n## \u5982\u679c\u503c\u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u90a3\u4e48\u5fc5\u987b\u4f7f\u7528\u6620\u5c04\u952e. \u5982\uff1a\nprint('%(num)d' % {\"num\": 10})\n</code></pre> <pre><code>10\n</code></pre> <pre><code># \u6700\u5c0f\u5b57\u6bb5\u5bbd\u5ea6\nprint('%2s' % 123456)\nprint('%8s' % 123456)\nprint('%*s' % (10, 123456))\n</code></pre> <pre><code>123456\n  123456\n    123456\n</code></pre> <pre><code># \u7cbe\u5ea6\nprint('%.2f' % 100.256)\nprint('%.*f' % (2, 100.256))\n</code></pre> <pre><code>100.26\n100.26\n</code></pre> <pre><code># \u8f6c\u6362\u6807\u5fd7\nprint('%-8d' % 123456)\nprint('%+8d' % 123456)\nprint('%08d' % 123456)\n</code></pre> <pre><code>123456\n +123456\n00123456\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#format","title":"format\u65b9\u6cd5","text":"<pre><code>&lt; \u6a21\u677f\u5b57\u7b26\u4e32 &gt;.format( &lt; \u9017\u53f7\u5206\u9694\u7684\u53c2\u6570 &gt;)\n</code></pre> <p><code>&lt;\u6a21\u677f\u5b57\u7b26\u4e32&gt;</code>\u7531\u4e00\u7cfb\u5217\u7684\u69fd<code>{}</code>\u7ec4\u6210\uff0c\u7528\u6765\u63a7\u5236\u4fee\u6539\u5b57\u7b26\u4e32\u4e2d\u5d4c\u5165\u503c\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u5176\u57fa\u672c\u601d\u60f3\u662f\u5c06format()\u65b9\u6cd5\u7684<code>&lt;\u9017\u53f7\u5206\u9694\u7684\u53c2\u6570&gt;</code>\u4e2d\u7684\u53c2\u6570\u6309\u7167\u5e8f\u53f7\u5173\u7cfb\u66ff\u6362\u5230<code>&lt;\u6a21\u677f\u5b57\u7b26\u4e32&gt;</code>\u7684\u69fd\u4e2d\u3002\u5982\u679c\u5927\u62ec\u53f7\u4e2d\u6ca1\u6709\u5e8f\u53f7\uff0c\u5219\u6309\u7167\u51fa\u73b0\u987a\u5e8f\u66ff\u6362\u3002\u8be5\u65b9\u6cd5\u4f1a\u521b\u5efa\u65b0\u5b57\u7b26\u4e32\u5bf9\u8c61\uff0c\u4e0d\u4f1a\u4fee\u6539\u539f\u503c\u3002</p> <p>{}\u4e2d\u6307\u5b9a\u987a\u5e8f\uff0c\u6309\u6307\u5b9a\u7684\u987a\u5e8f\u66ff\u6362</p> <pre><code>print(\"{2}:{1}:{0}\".format(\"1\", \"2\", \"3\"))\n</code></pre> <pre><code>3:2:1\n</code></pre> <p>\u6ca1\u6709\u6307\u5b9a\u987a\u5e8f\uff0c\u6309\u51fa\u73b0\u7684\u987a\u5e8f\u4f9d\u6b21\u66ff\u6362</p> <pre><code>print(\"{}:{}:{}\".format(\"1\", \"2\", \"3\"))\n# \u7b49\u4ef7\u4e8e\n# \"{1}:{2}:{3}\".format(\"1\", \"2\", \"3\")\n</code></pre> <pre><code>1:2:3\n</code></pre> <p>format()\u65b9\u6cd5\u4e2d<code>&lt;\u6a21\u677f\u5b57\u7b26\u4e32&gt;</code>\u7684\u69fd\u9664\u4e86\u5305\u62ec\u53c2\u6570\u5e8f\u53f7\uff0c\u8fd8\u53ef\u4ee5\u5305\u62ec\u683c\u5f0f\u63a7\u5236\u4fe1\u606f\u3002\u69fd\u5185\u90e8\u7684\u5b8c\u6574\u6837\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>\u66ff\u6362\u5b57\u6bb5       - replacement_field ::=  \"{\" [field_name] [\"!\" conversion] [\":\" format_spec] \"}\"\n\u5b57\u6bb5\u540d         - field_name        ::=  arg_name (\".\" attribute_name | \"[\" element_index \"]\")*\n\u53c2\u6570\u540d         - arg_name          ::=  [identifier | integer]\n\u5c5e\u6027\u540d         - attribute_name    ::=  identifier\n\u5143\u7d20\u7d22\u5f15       - element_index     ::=  integer | index_string\n\u7d22\u5f15\u5b57\u7b26\u4e32     - index_string      ::=  &lt;any source character except \"]\"&gt; +\n\u8f6c\u6362\u5b57\u6bb5       - conversion        ::=  \"r\" | \"s\"\n\u683c\u5f0f\u89c4\u8303\u8bf4\u660e\u7b26 - format_spec        ::=  &lt;described in the next section&gt;\n</code></pre> <p>\u4e00\u4e2a\u69fd<code>{}</code>\u7531\u4e09\u90e8\u5206\u7ec4\u6210\uff1a</p> <ol> <li> <p>field_name: \u5b57\u6bb5\u540d\u53ef\u4ee5\u662f arg_name\u3001attribute_name\u3001element_index\u4e4b\u4e2d\u7684\u4e00\u4e2a\u3002</p> <ol> <li> <p>arg_name \u53ef\u4ee5\u662f\u6574\u6570\u6216\u5173\u952e\u5b57\u3002\u6574\u6570\u4e3a<code>.format()</code>\u7684\u4f4d\u7f6e\u53c2\u6570\uff0c \u5173\u952e\u5b57\u4e3a<code>.format()</code>\u7684\u5173\u952e\u5b57\u53c2\u6570\u3002</p> </li> <li> <p>\u5982\u679c<code>.format()</code>\u7684\u53c2\u6570\u5b58\u5728\u5c5e\u6027\uff0c \u53ef\u4ee5\u901a\u8fc7 arg_name.attribute_name \u7684\u5f62\u5f0f\u83b7\u53d6\u5c5e\u6027\u503c\u3002</p> </li> <li> <p>\u5982\u679c<code>.format()</code>\u53c2\u6570\u4e3a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c \u53ef\u4ee5\u901a\u8fc7 arg_name[integer|index_string] \u7684\u5f62\u5f0f\u83b7\u53d6\u7d22\u5f15\u4f4d\u7f6e\u7684\u5143\u7d20\u3002</p> </li> </ol> </li> <li> <p>conversion: \u8f6c\u6362\u5b57\u6bb5\u7531 <code>!</code> \u5f00\u59cb\uff0c <code>r</code> \u4ee3\u8868\u8c03\u7528 <code>repr()</code>, <code>s</code> \u4ee3\u8868\u8c03\u7528 <code>str()</code>\u3002</p> </li> <li>format_spec: \u683c\u5f0f\u89c4\u8303\u8bf4\u660e\u7b26\u7531 <code>:</code> \u5f00\u59cb\u3002</li> </ol> <pre><code># field_name \u662f \u5173\u952e\u5b57\nprint(\"{name!r}\".format(name=\"\u5c0f\u660e\"))\n# field_name \u662f \u6574\u6570\nprint(\"{0!s}\".format(\"\u5c0f\u660e\"))\n# field_name \u662f \u5c5e\u6027\u540d\nclass Person:\n    name = \"\u5c0f\u660e\"\n\nprint(\"{.name!s}\".format(Person))\n# field_name \u662f \u6574\u6570\u7d22\u5f15\nnames = [\"\u5c0f\u7ea2\", \"\u5c0f\u660e\"]\nprint(\"{[1]!s}\".format(names))\n# field_name \u662f \u5b57\u7b26\u4e32\u7d22\u5f15\nfrom pandas import Series\n\nnames = Series({\"name\":\"\u5c0f\u660e\"})\nprint(\"{[name]!s}\".format(names))\n</code></pre> <pre><code>'\u5c0f\u660e'\n\u5c0f\u660e\n\u5c0f\u660e\n\u5c0f\u660e\n\u5c0f\u660e\n</code></pre> <p>\u5176\u4e2d\uff0c<code>&lt;\u683c\u5f0f\u63a7\u5236\u6807\u8bb0&gt;</code>\u7528\u6765\u63a7\u5236\u53c2\u6570\u663e\u793a\u65f6\u7684\u683c\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528\u7684\u53c2\u6570\u5982\u4e0b\uff1a</p> <pre><code>format_spec     ::=  [[fill]align][sign][#][0][width][grouping_option][.precision][type]\nfill            ::=  &lt;any character&gt;\nalign           ::=  \"&lt;\" | \"&gt;\" | \"=\" | \"^\"\nsign            ::=  \"+\" | \"-\" | \" \"\nwidth           ::=  digit+\ngrouping_option ::=  \"_\" | \",\"\nprecision       ::=  digit+\ntype            ::=  \"b\" | \"c\" | \"d\" | \"e\" | \"E\" | \"f\" | \"F\" | \"g\" | \"G\"| \"n\" | \"o\" | \"s\" | \"x\" | \"X\" | \"%\"\n</code></pre> <p>\u586b\u5145\u5b57\u7b26\uff1a\u5982\u679c\u6307\u5b9a\u4e86\u5bf9\u9f50\u9009\u9879\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u586b\u5145\u5b57\u7b26\u3002\u9ed8\u8ba4\u4e3a\u7a7a\u683c.</p> <p>\u5bf9\u9f50\u9009\u9879\uff1a\u9ed8\u8ba4\u53f3\u5bf9\u9f50\uff0c\u5404\u79cd\u5bf9\u9f50\u9009\u9879\u7684\u542b\u4e49\u5982\u4e0b\uff1a</p> \u9009\u9879 \u610f\u4e49 <code>'&lt;'</code> \u5f3a\u5236\u5b57\u6bb5\u5728\u53ef\u7528\u7a7a\u95f4\u5185\u5de6\u5bf9\u9f50\uff08\u8fd9\u662f\u5927\u591a\u6570\u5bf9\u8c61\u7684\u9ed8\u8ba4\u503c\uff09\u3002 <code>'&gt;'</code> \u5f3a\u5236\u5b57\u6bb5\u5728\u53ef\u7528\u7a7a\u95f4\u5185\u53f3\u5bf9\u9f50\uff08\u8fd9\u662f\u6570\u5b57\u7684\u9ed8\u8ba4\u503c\uff09\u3002 <code>'='</code> \u5f3a\u5236\u5c06\u586b\u5145\u653e\u7f6e\u5728\u7b26\u53f7\uff08\u5982\u679c\u6709\uff09\u4e4b\u540e\u4f46\u5728\u6570\u5b57\u4e4b\u524d\u3002\u8fd9\u7528\u4e8e\u4ee5\u201c+000000120\u201d\u5f62\u5f0f\u6253\u5370\u5b57\u6bb5\u3002\u6b64\u5bf9\u9f50\u9009\u9879\u4ec5\u5bf9\u6570\u5b57\u7c7b\u578b\u6709\u6548\u3002\u5f53'0'\u7d27\u63a5\u5728\u5b57\u6bb5\u5bbd\u5ea6\u4e4b\u524d\u65f6\uff0c\u5b83\u6210\u4e3a\u9ed8\u8ba4\u503c\u3002 <code>'^'</code> \u5f3a\u5236\u5b57\u6bb5\u5728\u53ef\u7528\u7a7a\u95f4\u5185\u5c45\u4e2d\u3002 <p>sign\uff1a\u4ec5\u5bf9\u6570\u5b57\u7c7b\u578b\u6709\u6548\uff0c\u53ef\u4ee5\u662f\u4ee5\u4e0b\u4e4b\u4e00\uff1a</p> \u9009\u9879 \u610f\u4e49 <code>'+'</code> \u8868\u793a\u6807\u5fd7\u5e94\u8be5\u7528\u4e8e\u6b63\u6570\u548c\u8d1f\u6570\u3002 <code>'-'</code> \u8868\u793a\u6807\u5fd7\u5e94\u4ec5\u7528\u4e8e\u8d1f\u6570\uff08\u8fd9\u662f\u9ed8\u8ba4\u884c\u4e3a\uff09\u3002 space \u8868\u793a\u5e94\u5728\u6b63\u6570\u4e0a\u4f7f\u7528\u524d\u5bfc\u7a7a\u683c\uff0c\u5728\u8d1f\u6570\u4e0a\u4f7f\u7528\u51cf\u53f7\u3002 <p>#\uff1a\u4ec5\u9002\u7528\u4e8e\u6570\u5b57\u53c2\u6570\uff0c\u540c\u65f6\u4ec5\u9002\u7528\u4e8e2\u30018\u300116\u8fdb\u5236\u7684\u6570\u5b57\u3002\u4f1a\u5728\u8f93\u51fa\u7684\u6570\u5b57\u524d\u6dfb\u52a0 0b\u30010o\u30010x\u524d\u7f00\u3002</p> <p>\u5bbd\u5ea6\uff1a\u6307\u5b9a\u6700\u5c0f\u5b57\u6bb5\u5bbd\u5ea6\u3002</p> <p>\u5343\u4f4d\u5206\u9694\u7b26\uff1a\u53ea\u80fd\u4f7f\u7528<code>_</code>\u6216<code>,</code>\u4f5c\u4e3a\u5343\u4f4d\u5206\u9694\u7b26\u3002</p> <p>\u7cbe\u5ea6\uff1a</p> <p>\u7c7b\u578b\uff1a\u8be5\u9009\u9879\u51b3\u5b9a\u4e86\u6570\u636e\u5e94\u8be5\u5982\u4f55\u5448\u73b0\u3002</p> <p>\u53ef\u7528\u7684\u5b57\u7b26\u4e32\u8868\u793a\u7c7b\u578b\uff1a</p> Type Meaning <code>s</code> \u5b57\u7b26\u4e32\u683c\u5f0f\uff0c \u5b57\u7b26\u4e32\u7684\u9ed8\u8ba4\u7c7b\u578b\uff0c \u53ef\u7701\u7565 <code>None</code> \u540c <code>s</code> <p>\u53ef\u7528\u7684\u6574\u6570\u8868\u793a\u7c7b\u578b\uff1a</p> Type Meaning <code>b</code> \u8f93\u51fa\u4e3a 2 \u8fdb\u5236\u6574\u6570 <code>c</code> \u8f93\u51fa\u4e3a\u4e3a\u76f8\u5e94\u7684 unicode \u5b57\u7b26 <code>d</code> \u8f93\u51fa\u4e3a 10 \u8fdb\u5236\u6574\u6570 <code>o</code> \u8f93\u51fa\u4e3a 8 \u8fdb\u5236\u6574\u6570 <code>x</code> \u8f93\u51fa\u4e3a 16 \u8fdb\u5236\u6574\u6570\uff0c \u4f7f\u7528\u5c0f\u5199\u5b57\u6bcd <code>X</code> \u8f93\u51fa\u4e3a 16 \u8fdb\u5236\u6574\u6570\uff0c \u4f7f\u7528\u5927\u5199\u5b57\u6bcd <code>n</code> \u7c7b\u4f3c <code>d</code>, \u4f1a\u4f7f\u7528\u5f53\u524d\u533a\u57df\u8bbe\u7f6e\u63d2\u5165\u9002\u5f53\u7684\u6570\u5b57\u5206\u9694\u7b26 <code>None</code> \u540c <code>d</code> <p>\u53ef\u7528\u7684\u6d6e\u70b9\u6570\u548c\u5c0f\u6570\u503c\u8868\u793a\u7c7b\u578b\uff1a</p> Type Meaning <code>e</code> \u6307\u6570\u8868\u793a\u6cd5\uff0c \u4f7f\u7528\u5b57\u6bcd <code>e</code> \u4ee5\u79d1\u5b66\u8bb0\u6570\u6cd5\u6253\u5370\u6570\u5b57\uff0c \u9ed8\u8ba4\u8fdb\u5ea6\u4e3a 6 <code>E</code> \u7c7b\u4f3c <code>e</code>, \u4f7f\u7528\u5b57\u6bcd <code>E</code> <code>f</code> \u6d6e\u70b9\u6570\uff0c \u9ed8\u8ba4\u8fdb\u5ea6\u4e3a 6 <code>F</code> \u6d6e\u70b9\u6570\uff0c \u540c <code>f</code> <code>g</code> \u4e00\u822c\u5f62\u5f0f\uff0c \u53d7 precision \u9009\u9879\u5f71\u54cd <code>G</code> \u7c7b\u4f3c <code>g</code>, \u5f53\u4f7f\u7528\u6307\u6570\u8868\u793a\u6cd5\u65f6\uff0c \u4f7f\u7528 <code>E</code> \u800c\u4e0d\u662f <code>e</code> <code>n</code> \u548c <code>g</code> \u76f8\u540c\uff0c \u4f1a\u4f7f\u7528\u5f53\u524d\u533a\u57df\u8bbe\u7f6e\u63d2\u5165\u9002\u5f53\u7684\u6570\u5b57\u5206\u9694\u7b26 <code>%</code> \u767e\u5206\u6570\u8868\u793a <code>None</code> \u540c <code>g</code> <pre><code># \u586b\u5145\u3001\u5bf9\u9f50\u3001\u7b26\u53f7\u3001\u5bbd\u5ea6\u3001\u5206\u7ec4\u9009\u9879\u3001\u7cbe\u5ea6\n# \u586b\u5145*\u53f7\u3001\u5c45\u4e2d\u3001\u6b63\u53f7\u6807\u8bb0\u30012\u7cbe\u5ea6\n\"{0:*^+20.2f}\".format(120)\n</code></pre> <pre><code>'******+120.00*******'\n</code></pre> <pre><code># \u586b\u5145*\u53f7\u3001\u5c45\u4e2d\u3001\u6b63\u53f7\u6807\u8bb0\u3001_\u5206\u9694\u7b26\u30012\u7cbe\u5ea6\n\"{0:*^+20_.2f}\".format(12000)\n</code></pre> <pre><code>'*****+12_000.00*****'\n</code></pre> <pre><code># \u586b\u5145*\u53f7\u3001\u5c45\u4e2d\u3001\u6b63\u53f7\u6807\u8bb0\u3001,\u5206\u9694\u7b26\u30012\u7cbe\u5ea6\n\"{0:*^+20,.2f}\".format(12000)\n</code></pre> <pre><code>'*****+12,000.00*****'\n</code></pre> <pre><code># \u586b\u5145*\u53f7\u3001\u5de6\u5bf9\u9f50\u3001\u6b63\u53f7\u6807\u8bb0\u30012\u7cbe\u5ea6\n\"{0:*&lt;+20.2f}\".format(-120)\n</code></pre> <pre><code>'-120.00*************'\n</code></pre> <pre><code># \u586b\u5145*\u53f7\u3001\u5de6\u5bf9\u9f50\u3001\u8d1f\u53f7\u6807\u8bb0\u30012\u7cbe\u5ea6\n\"{0:*&gt;-20.2f}\".format(-120)\n</code></pre> <pre><code>'*************-120.00'\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#_6","title":"\u65b9\u6cd5","text":""},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#_7","title":"\u903b\u8f91\u65b9\u6cd5","text":"\u65b9\u6cd5 \u63cf\u8ff0 <code>.isalnum</code> if all characters in the string are alpha-numeric and there is at least one character <code>.isalpha</code> if all characters in the string are alphabetic and there is at least one character <code>.isnumeric</code> if all characters in the string are numeric and there is at least one character <code>.isascii</code> ASCII characters have code points in the range U+0000-U+007F. Empty string is ASCII too. <code>.isdecimal</code> if all characters in the string are decimal and there is at least one character <code>.isdigit</code> if all characters in the string are digits and there is at least one character <code>.isidentifier</code> Use <code>keyword.iskeyword()</code> to test for reserved identifiers such as \"def\" and \"class\". <code>.islower</code> if all cased characters in the string are lowercase and there is at least one cased character <code>.isupper</code> if all cased characters in the string are uppercase and there is at least one cased character <code>.isprintable</code> if all of its characters are considered printable in <code>repr()</code> or if it is empty. <code>.isspace</code> if all characters in the string are whitespace and there is at least one character <code>.istitle</code> In a title-cased string, upper- and title-case characters may only follow uncased characters   and lowercase characters only cased ones. \u65b9\u6cd5 \u63cf\u8ff0 <code>.startswith(prefix[, start[, end]])</code> \u5982\u679c\u5b57\u7b26\u4e32\u4ee5<code>prefix</code>\u5f00\u5934 <code>.endswith(suffix[, start[, end]])</code> \u5982\u679c\u5b57\u7b26\u4e32\u4ee5<code>suffix</code>\u7ed3\u5c3e"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#_8","title":"\u5927\u5c0f\u5b57\u6bcd\u8f6c\u6362","text":"\u65b9\u6cd5 \u63cf\u8ff0 <code>.lower</code> \u8fd4\u56de\u8f6c\u6362\u4e3a\u5c0f\u5199\u7684\u5b57\u7b26\u4e32\u7684\u526f\u672c\u3002 <code>.upper</code> \u8fd4\u56de\u8f6c\u6362\u4e3a\u5927\u5199\u7684\u5b57\u7b26\u4e32\u7684\u526f\u672c\u3002 <code>.capitalize</code> \u4f7f\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5b57\u6bcd\u5927\u5199\uff0c\u5176\u4f59\u5b57\u7b26\u5b57\u6bcd\u5c0f\u5199\uff0c\u8fd4\u56de\u526f\u672c\u3002 <code>.swapcase</code> \u5c06\u5927\u5199\u5b57\u7b26\u8f6c\u6362\u4e3a\u5c0f\u5199\uff0c\u5c06\u5c0f\u5199\u5b57\u7b26\u8f6c\u6362\u4e3a\u5927\u5199\uff0c\u8fd4\u56de\u526f\u672c\u3002 <code>.title</code> \u6bcf\u4e2a\u5355\u8bcd\u90fd\u7528\u5927\u5199\u5b57\u6bcd\u5f00\u5934\uff0c\u8fd4\u56de\u526f\u672c\u3002"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#_9","title":"\u62c6\u5206\u5b57\u7b26\u4e32","text":"\u65b9\u6cd5 \u63cf\u8ff0 <code>.split(sep=None, maxsplit=-1)</code> \u4ece\u5de6\u5230\u53f3\u4ee5<code>sep</code>\u5206\u5272\u5b57\u7b26\u4e32 <code>.rsplit(sep=None, maxsplit=-1)</code> \u4ece\u53f3\u5230\u5de6\u4ee5<code>sep</code>\u5206\u5272\u5b57\u7b26\u4e32 <code>.splitlines(keepends=False)</code> \u4ee5\u56de\u8f66\u7b26\u6216\u6362\u884c\u7b26\u5206\u5272\u5b57\u7b26\u4e32 <code>.partition(sep, /)</code> \u4ece\u5de6\u5230\u53f3\u4ee5\u7b2c\u4e00\u4e2a\u51fa\u73b0\u7684<code>sep</code>\u5206\u5272\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u5305\u62ec3\u4e2a\u5143\u7d20\u7684\u5143\u7ec4 <pre><code>\"123#456#789\".split(sep=\"#\", maxsplit=1)\n</code></pre> <pre><code>['123', '456#789']\n</code></pre> <pre><code>\"123#456#789\".rsplit(sep=\"#\", maxsplit=1)\n</code></pre> <pre><code>['123#456', '789']\n</code></pre> <pre><code>\"123\\r\\n456\\r\\n789\".splitlines(keepends=False)\n</code></pre> <pre><code>['123', '456', '789']\n</code></pre> <pre><code>\"123\\r\\n456\\r\\n789\".splitlines(keepends=True)\n</code></pre> <pre><code>['123\\r\\n', '456\\r\\n', '789']\n</code></pre> <pre><code>\"123#456#789\".partition(\"#\")\n</code></pre> <pre><code>('123', '#', '456#789')\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#_10","title":"\u5408\u5e76\u5b57\u7b26\u4e32","text":"<pre><code>\"_\".join([\"a\", \"b\", \"c\"])\n</code></pre> <pre><code>'a_b_c'\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#_11","title":"\u66ff\u6362\u5b57\u7b26\u4e32","text":"\u65b9\u6cd5 \u63cf\u8ff0 <code>.replace(old, new, count=-1)</code> \u8fd4\u56de\u4e00\u4e2a\u526f\u672c\uff0c\u5176\u4e2d\u6240\u6709\u51fa\u73b0\u7684\u5b50\u5b57\u7b26\u4e32<code>old</code>\u90fd\u66ff\u6362\u4e3a<code>new</code>\u3002 <code>.strip(chars=None)</code> \u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u526f\u672c\uff0c\u5176\u4e2d\u524d\u5bfc\u548c\u5c3e\u968f\u7a7a\u683c\u5220\u9664\u3002 <code>.lstrip(chars=None)</code> \u8fd4\u56de\u5220\u9664\u524d\u5bfc\u7a7a\u683c\u7684\u5b57\u7b26\u4e32\u526f\u672c\u3002 <code>.rstrip(chars=None)</code> \u8fd4\u56de\u5220\u9664\u5c3e\u968f\u7a7a\u683c\u7684\u5b57\u7b26\u4e32\u526f\u672c\u3002 <code>.expandtabs(tabsize=8)</code> \u8fd4\u56de\u4e00\u4e2a\u526f\u672c\uff0c\u5176\u4e2d\u6240\u6709\u5236\u8868\u7b26\u90fd\u4f7f\u7528<code>tabsize</code>\u4e2a\u7a7a\u683c\u4ee3\u66ff\u3002 <pre><code>\"  \\nabc\\t\\n\\r \".strip()\n</code></pre> <pre><code>'abc'\n</code></pre> <pre><code>\"  \\nabc\\t\\n\\r \".lstrip()\n</code></pre> <pre><code>'abc\\t\\n\\r '\n</code></pre> <pre><code>\"  \\nabc\\t\\n\\r \".rstrip()\n</code></pre> <pre><code>'  \\nabc'\n</code></pre> <pre><code>\"  \\nabc\\t\\n\\r \".expandtabs(tabsize=8)\n</code></pre> <pre><code>'  \\nabc     \\n\\r '\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#_12","title":"\u683c\u5f0f\u5316\u5b57\u7b26\u4e32","text":"\u65b9\u6cd5 \u63cf\u8ff0 <code>.format</code> \u683c\u5f0f\u5316\u5b57\u7b26\u4e32\u3002 <code>.format_map</code> \u683c\u5f0f\u5316\u5b57\u7b26\u4e32\u3002 <code>.ljust(width, fillchar=' ')</code> \u8fd4\u56de\u957f\u5ea6\u4e3a<code>width</code>\u7684\u5de6\u5bf9\u9f50\u5b57\u7b26\u4e32\u3002\u4f7f\u7528<code>fillchar</code>\u586b\u5145\u3002 <code>.rjust(width, fillchar=' ')</code> \u8fd4\u56de\u957f\u5ea6\u4e3a<code>width</code>\u7684\u53f3\u5bf9\u9f50\u5b57\u7b26\u4e32\u3002\u4f7f\u7528<code>fillchar</code>\u586b\u5145\u3002 <code>.center(width, fillchar=' ')</code> \u8fd4\u56de\u957f\u5ea6\u4e3a<code>width</code>\u7684\u5c45\u4e2d\u5b57\u7b26\u4e32\u3002\u4f7f\u7528<code>fillchar</code>\u586b\u5145\u3002 <code>.zfill(width)</code> \u8fd4\u56de\u957f\u5ea6\u4e3a<code>width</code>\u7684\u5b57\u7b26\u4e32\uff0c\u82e5\u957f\u5ea6\u4e0d\u591f\uff0c\u7528\u96f6\u4ece\u5de6\u8fb9\u586b\u5145\u3002 <p><code>.format_map</code>\u4e0e<code>.format</code>\u5728\u7528\u6cd5\u4e0a\u5927\u4f53\u4e00\u81f4\uff0c\u4f46\u6709\u4e00\u4e2a\u533a\u522b\uff1a</p> <pre><code># format_map \u548c format \u7684\u533a\u522b\n# \u5982\u679c\u8981\u4f7f\u7528\u5173\u952e\u5b57 format\u5fc5\u987b\u8fd9\u6837\u4f7f\u7528\n\"{name}, {sex}\".format(name=\"Jack\", sex=\"male\")\n# format_map \u53ef\u4ee5\u7528dict\n\"{name}, {sex}\".format_map({\"name\":\"Jack\", \"sex\":\"male\"})\n</code></pre> <pre><code>'Jack, male'\n</code></pre> <pre><code>print(\"abc\".ljust(10, \"#\"))\nprint(\"abc\".rjust(10, \"#\"))\nprint(\"abc\".center(10, \"#\"))\nprint(\"123\".zfill(10))\n# \u975e\u6570\u5b57\u5b57\u7b26\u4e32\u4e5f\u53ef\u4ee5\nprint(\"abc\".zfill(10))\n</code></pre> <pre><code>abc#######\n#######abc\n###abc####\n0000000123\n0000000abc\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#_13","title":"\u7edf\u8ba1\u5b50\u5b57\u7b26\u4e32\u51fa\u73b0\u6b21\u6570","text":"<pre><code>\"abcAbc\".count(\"c\", 0, 6)\n</code></pre> <pre><code>2\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.5.String.html#_14","title":"\u67e5\u627e\u5b50\u5b57\u7b26\u4e32\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e","text":"<p><code>.index</code>\u4e0e<code>.find</code>\u7684\u529f\u80fd\u662f\u4e00\u6837\u7684\uff0c\u53ea\u4e0d\u8fc7<code>.index</code>\u65b9\u6cd5\u82e5\u627e\u4e0d\u5230\u5b50\u5b57\u7b26\u4e32\u4f1a\u629b\u51faValueError\uff0c\u800c<code>.find</code>\u4f1a\u8fd4\u56de<code>-1</code>\u3002</p> <pre><code>\"abcAbc\".index(\"bc\", 0, 6)\n\"abcAbc\".find(\"bc\", 0, 6)\n</code></pre> <pre><code>1\n</code></pre> <pre><code>\"abcAbc\".index(\"bc\", 0, 2)\n</code></pre> <pre><code>---------------------------------------------------------------------------ValueError\nTraceback (most recent call last)&lt;ipython-input-1-f8cead4644a3&gt; in\n&lt;module&gt;\n----&gt; 1 \"abcAbc\".index(\"bc\", 0, 2)\nValueError: substring not found\n</code></pre> <pre><code>\"abcAbc\".find(\"bc\", 0, 2)\n</code></pre> <pre><code>-1\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.6.List.html","title":"2.6.List","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.11.22\n</code></pre> \u5217\u8868\u7684\u65b9 \u6cd5 \u63cf \u8ff0 aList.append(obj) \u7b49\u540c\u4e8eaList[len(aList):len(aList)] = [obj] aList.clear() \u5220\u9664aList\u7684\u6240\u6709\u5143\u7d20 aList.count(obj) \u8fd4\u56deaList\u4e2d\u4e0eobj\u76f8\u7b49\u7684\u5143\u7d20\u4e2a\u6570 aList.copy() \u8fd4\u56deaList\u7684\u526f\u672c\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u662f\u6d45\u590d\u5236\uff0c\u5373\u4e0d\u4f1a\u590d\u5236\u5143\u7d20 aList.extend(sequence) \u7b49\u540c\u4e8eaList[len(aList):len(aList)] = sequence aList.index(obj) \u8fd4\u56deaList\u4e2d\u7b2c\u4e00\u4e2a\u4e0eobj\u76f8\u7b49\u7684\u5143\u7d20\u7684\u7d22\u5f15\uff1b\u5982\u679c\u6ca1\u6709\u8fd9\u6837\u7684\u5143\u7d20\uff0c\u5c31\u5f15\u53d1 ValueError\u5f02\u5e38 aList.insert(index, obj) \u5982\u679cindex &gt;= 0\uff0c\u5c31\u7b49\u540c\u4e8eaList[index:index] = [obj]\uff1b\u5982\u679cindex &lt; 0\uff0c\u5c31 \u5c06\u6307\u5b9a\u7684\u5bf9\u8c61\u52a0\u5165\u5230\u5217\u8868\u5f00\u5934 aList.pop([index]) \u5220\u9664\u5e76\u8fd4\u56de\u6307\u5b9a\u7d22\u5f15\uff08\u9ed8\u8ba4\u4e3a-1 )\u5904\u7684\u5143\u7d20 aList.remove(obj) \u7b49\u540c\u4e8edel aList[aList.index(obj)] aList.reverse \u5c31\u5730\u6309\u76f8\u53cd\u7684\u987a\u5e8f\u6392\u5217\u5217\u8868\u7684\u5143\u7d20 aList.sort([cmp][,key][,reverse]) \u5c31\u5730\u5bf9aList\u7684\u5143\u7d20\u8fdb\u884c\u6392\u5e8f\uff08\u7a33\u5b9a\u6392\u5e8f\uff09\u3002\u53ef\u901a\u8fc7\u63d0\u4f9b\u6bd4\u8f83\u51fd\u6570cmp\u3001\u952e\u51fd\u6570 key (\u521b\u5efa\u7528\u6237\u6392\u5e8f\u7684\u952e\uff09\u548c\u964d\u5e8f\u6807\u5fd7reverse (\u2014\u4e2a\u5e03\u5c14\u503c\uff09\u8fdb\u884c\u5b9a\u5236"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.6.List.html#list","title":"list\u7684\u65b9\u6cd5","text":"<p>\u521b\u5efa\u4e00\u4e2alist</p> <pre><code># \u67e5\u770blist\u7684\u65b9\u6cd5\u3001\u5c5e\u6027\n[method for method in dir(list()) if not method.startswith(\"_\")]\n</code></pre> <pre><code>['append',\n 'clear',\n 'copy',\n 'count',\n 'extend',\n 'index',\n 'insert',\n 'pop',\n 'remove',\n 'reverse',\n 'sort']\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.6.List.html#_1","title":"\u4fee\u6539\u5143\u7d20\u7684\u503c","text":"<p>\u4fee\u6539\u73b0\u6709list\u7684\u503c\uff0c\u901a\u8fc7\u7d22\u5f15\u3001\u5207\u7247\u6765\u5b8c\u6210\u3002</p> <pre><code>list_1 = [0, 1, 2, 3]\n# \u4fee\u6539\u67d0\u4e2a\u7d22\u5f15\u5bf9\u5e94\u5143\u7d20\u7684\u503c\nlist_1[0] = \"item\"\nprint(list_1)\n</code></pre> <pre><code>['item', 1, 2, 3]\n</code></pre> <p>\u901a\u8fc7\u5207\u7247\u4fee\u6539\u67d0\u4e2a\u8fde\u7eed\u533a\u57df\u7684\u503c\uff0c\u5207\u7247\u7684\u957f\u5ea6\u548c\u7528\u4e8e\u8d4b\u503c\u7684\u5e8f\u5217\u957f\u5ea6\u53ef\u4ee5\u4e0d\u540c\u3002</p> <pre><code>list_1 = [0, 1, 2, 3]\nlist_1[0:2] = [\"item_1\", \"item_2\", \"item_3\"]\nprint(list_1)\n</code></pre> <pre><code>['item_1', 'item_2', 'item_3', 2, 3]\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.6.List.html#_2","title":"\u6dfb\u52a0\u4e00\u4e2a\u65b0\u5143\u7d20\u5230\u672b\u5c3e","text":"<p><code>append</code>\u65b9\u6cd5\u6bcf\u6b21\u53ea\u80fd\u6dfb\u52a0\u4e00\u4e2a\u65b0\u5143\u7d20</p> <pre><code>list_1 = [0, 1, 2, 3]\nlist_1.append(\"item\")\nprint(list_1)\n</code></pre> <pre><code>[0, 1, 2, 3, 'item']\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.6.List.html#_3","title":"\u6dfb\u52a0\u4efb\u610f\u4e2a\u65b0\u5143\u7d20\u5230\u672b\u5c3e","text":"<p><code>extend</code>\u65b9\u6cd5\u5141\u8bb8\u6211\u4eec\u901a\u8fc7\u53e6\u4e00\u4e2alist\u6765\u6269\u5145\u5f53\u524d\u7684list\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u770b\u8d77\u6765\u50cf\u662f\u7528<code>+</code>\u62fc\u63a5list\uff0c\u4f46<code>extend</code>\u65b9\u6cd5\u4f1a\u76f4\u63a5\u4fee\u6539\u539f\u5217\u8868\uff0c\u4e0d\u8fd4\u56de\u526f\u672c\u3002</p> <pre><code>list_1 = [0, 1, 2, 3]\nlist_2 = [\"item_1\", \"item_2\", \"item_3\"]\nlist_1 + list_2\n# \u6b64\u65f6 list_1 \u6ca1\u6709\u88ab\u4fee\u6539\nprint(f\"Use + operator: {list_1}\")\n\nlist_1.extend(list_2)\n# \u6b64\u65f6list_1\u88ab\u4fee\u6539\nprint(f\"Use extend method: {list_1}\")\n</code></pre> <pre><code>Use + operator: [0, 1, 2, 3]\nUse extend method: [0, 1, 2, 3, 'item_1', 'item_2', 'item_3']\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u4f7f\u7528<code>+</code>\u62fc\u63a5list\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u5bf9\u8c61\uff0c\u663e\u7136\u62fc\u63a5\u7684\u6548\u7387\u56de\u6bd4<code>extend</code>\u65b9\u6cd5\u7684\u6548\u7387\u4f4e\u3002</p> <p>\u8fd8\u53ef\u4ee5\u501f\u52a9\u5207\u7247\u6765\u6269\u5145list\uff0c\u50cf\u8fd9\u6837\uff1a</p> <pre><code>list_1 = list(range(4))\nlist_2 = [\"item_1\", \"item_2\", \"item_3\"]\n# \u8fd9\u6837\u505a\u53ef\u8bfb\u6027\u4e0d\u9ad8\nlist_1[len(list_1):] = list_2\nprint(list_1)\n</code></pre> <pre><code>[0, 1, 2, 3, 'item_1', 'item_2', 'item_3']\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.6.List.html#_4","title":"\u5728\u4efb\u610f\u4f4d\u7f6e\u63d2\u5165\u65b0\u5143\u7d20","text":"<p><code>insert</code>\u65b9\u6cd5\u5c06\u4e00\u4e2a\u5bf9\u8c61\u63d2\u5165\u6307\u5b9a\u4f4d\u7f6e</p> <pre><code>list_1 = list(range(4))\nprint(f\"Original list: {list_1}\")\nlist_1.insert(0, \"item\")\nprint(f\"New list: {list_1}\")\n</code></pre> <pre><code>Original list: [0, 1, 2, 3]\nNew list: ['item', 0, 1, 2, 3]\n</code></pre> <p>\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u501f\u52a9\u5207\u7247\u5728\u4efb\u610f\u4f4d\u7f6e\u63d2\u5165\u5143\u7d20\u3002\u6ce8\u610f\u7684\u662f\uff0c\u5bf9\u4e00\u4e2alist\u4f7f\u7528\u5207\u7247\uff0c\u5fc5\u5b9a\u4f1a\u5f97\u5230\u4e00\u4e2alist\uff0c\u8fd9\u5c31\u9700\u8981\u7528\u4e00\u4e2alist\u5bf9\u5207\u7247\u8d4b\u503c\u3002</p> <pre><code># \u8fd9\u6837\u867d\u7136\u5de7\u5999\uff0c\u4f46\u662f\u53ef\u8bfb\u6027\u6bd4\u4e0d\u4e0ainsert\u3002\nlist_1 = list(range(4))\nprint(f\"Original list: {list_1}\")\nlist_1[0:0] = [\"item\"]\nprint(f\"New list: {list_1}\")\n</code></pre> <pre><code>Original list: [0, 1, 2, 3]\nNew list: ['item', 0, 1, 2, 3]\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.6.List.html#_5","title":"\u5220\u9664\\\u53d6\u51fa\u6700\u540e\u4e00\u4e2a\uff08\u4efb\u610f\u4f4d\u7f6e\u7684\uff09\u5143\u7d20","text":"<p>\u6ce8\u610f\uff0cpop\u662flist\u4e2d\u552f\u4e00\u4e00\u4e2a\u4fee\u6539\u539f\u5217\u8868\uff0c\u5e76\u4e14\u6709\u8fd4\u56de\u503c\u7684\u65b9\u6cd5</p> <pre><code>list_2 = ['0', '00', '000']\nlist_2.pop()\n</code></pre> <pre><code>'000'\n</code></pre> <p>pop\u9ed8\u8ba4\u5220\u9664\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u4f46\u662f\u4e5f\u53ef\u4ee5\u8f93\u5165\u7d22\u5f15\u503c\uff0c\u6307\u5b9a\u5220\u9664\u5143\u7d20\u7684\u4f4d\u7f6e</p> <pre><code>list_2 = ['0', '00', '000']\nlist_2.pop(0)\nlist_2\n</code></pre> <pre><code>['00', '000']\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.6.List.html#_6","title":"\u5220\u9664\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u5143\u7d20","text":"<pre><code>list_1 = [1, 2, 3, 1]\nlist_1.remove(1)\nlist_1\n</code></pre> <pre><code>[2, 3, 1]\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.6.List.html#_7","title":"\u53cd\u5e8f\u6392\u5e8f","text":"<pre><code>list_1 = [0, 1, 2, 3]\nlist_1.reverse()\nlist_1\n</code></pre> <pre><code>[3, 2, 1, 0]\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.6.List.html#_8","title":"\u6392\u5e8f","text":"<p>\u65b9\u6cd5<code>sort</code>\u63a5\u53d7\u4e24\u4e2a\u53ef\u9009\u53c2\u6570\uff1a<code>key</code>\u548c<code>reverse</code>\u3002\u5c06<code>key</code>\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u7528\u4e8e\u6392\u5e8f\u7684**\u51fd\u6570\u3002\u7136\u800c\uff0c\u4e0d\u4f1a\u76f4\u63a5\u4f7f\u7528\u8fd9\u4e2a\u51fd\u6570\u6765\u5224\u65ad\u4e00\u4e2a\u5143\u7d20\u662f\u5426\u6bd4\u53e6\u4e00\u4e2a\u5143\u7d20\u5c0f\uff0c\u800c\u662f\u4f7f\u7528\u5b83\u6765\u4e3a\u6bcf\u4e2a\u5143\u7d20\u521b\u5efa\u4e00\u4e2a\u952e\uff0c\u518d\u6839\u636e\u8fd9\u4e9b\u952e\u5bf9\u5143\u7d20\u8fdb\u884c\u6392\u5e8f\u3002\u5bf9\u4e8e\u53e6\u4e00\u4e2a\u5173\u952e\u5b57\u53c2\u6570<code>reverse</code>\uff0c\u53ea\u9700\u5c06\u5176\u6307\u5b9a\u4e3a<code>True</code>\u6216<code>False</code>\uff0c\u4ee5\u6307\u51fa\u662f\u5426\u8981\u6309\u76f8\u53cd\u7684\u987a\u5e8f\u5bf9\u5217\u8868\u8fdb\u884c\u6392\u5e8f\u3002</p> <pre><code>list_3 = ['aardvark', 'abalone', 'acme', 'add', 'aerate']\nlist_3.sort(key=len)\nlist_3\n</code></pre> <pre><code>['add', 'acme', 'aerate', 'abalone', 'aardvark']\n</code></pre> <pre><code># \u6309\u7167\u957f\u5ea6\u964d\u5e8f\u6392\u5e8f\nlist_3.sort(key=len, reverse=True)\nlist_3\n</code></pre> <pre><code>['aardvark', 'abalone', 'aerate', 'acme', 'add']\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.6.List.html#_9","title":"\u7edf\u8ba1\u5143\u7d20\u51fa\u73b0\u7684\u6b21\u6570","text":"<pre><code>list_1 = [1, 2, 3, 1]\nlist_1.count(1)\n</code></pre> <pre><code>2\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.6.List.html#_10","title":"\u5f97\u5230\u67d0\u4e2a\u503c\u7b2c\u4e00\u6b21\u51fa\u73b0\u65f6\u5bf9\u5e94\u7684\u7d22\u5f15\u503c","text":"<pre><code>list_1 = [1, 2, 3, 1]\nlist_1.index(1)\n</code></pre> <pre><code>0\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.6.List.html#_11","title":"\u6d45\u62f7\u8d1d\u5217\u8868","text":"<pre><code>list_1 = [1, 2, 3]\nlist_4 = list_1\nlist_1[0] = \"modified\"\nprint(\"list_1\uff1a\", list_1)\nprint(\"list_4\uff1a\", list_4)\n</code></pre> <pre><code>list_1\uff1a ['modified', 2, 3]\nlist_4\uff1a ['modified', 2, 3]\n</code></pre> <pre><code># \u6d45\u62f7\u8d1d\nlist_1 = [1, 2, [3, 4]]\nlist_5 = list_1.copy()\nlist_1[0] = \"modified\"\nlist_1[2][0] = \"modified\"\nprint(\"list_1\uff1a\", list_1)\nprint(\"list_5\uff1a\", list_5)\n</code></pre> <pre><code>list_1\uff1a ['modified', 2, ['modified', 4]]\nlist_5\uff1a [1, 2, ['modified', 4]]\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.6.List.html#_12","title":"\u6e05\u7a7a\u5217\u8868","text":"<pre><code>list_1.clear()\nlist_1\n</code></pre> <pre><code>[]\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.6.List.html#_13","title":"\u903b\u8f91\u8fd0\u7b97","text":"<pre><code>print([1, 2, 3] &gt; [0, 2, 3])\nprint([1, 2, 3] &gt;= [1, 2, 3])\nprint([1, 2, 3] == [1, 2, 3])\nprint(any([0, 2, 3]))\nprint(all([0, 2, 3]))\n</code></pre> <pre><code>True\nTrue\nTrue\nTrue\nFalse\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.7.Tuple.html","title":"2.7.Tuple","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.11.22\n</code></pre> <p><code>tuple</code> \u662f\u4e00\u79cd\u4e00\u7ef4\u7684\u3001\u4e0d\u53ef\u53d8\u7684 Python \u5bf9\u8c61\u5e8f\u5217\uff0c\u5143\u7d20\u5199\u5728\u5c0f\u62ec\u53f7 <code>()</code> \u91cc\uff0c\u5143\u7d20\u4e4b\u95f4\u7528\u9017\u53f7\u9694\u5f00\uff0c\u5143\u7ec4\u4e2d\u7684\u5143\u7d20\u7c7b\u578b\u53ef\u4ee5\u4e0d\u76f8\u540c\u3002\u5176\u540d\u79f0\u6765\u81ea\u62c9\u4e01\u8bed\u4e2d\u4e0e\u500d\u6570\u6709\u5173\u7684\u5355\u8bcd\u7684\u540e\u7f00\uff1adouble, triple, quadpleple, quinpleple\u3002</p> <p>\u4e0d\u53ef\u53d8\u662f\u6307 <code>tuple</code> \u5bf9\u8c61\u521b\u5efa\u4e4b\u540e\uff0c\u8be5 <code>tuple</code> \u5bf9\u8c61\u5df2\u5305\u542b\u7684\u5143\u7d20\u4e0d\u80fd\u88ab\u4fee\u6539\u6216\u5220\u9664\uff0c\u4e5f\u4e0d\u80fd\u6dfb\u52a0\u65b0\u5143\u7d20\u3002\u867d\u7136 <code>tuple</code> \u662f\u4e0d\u53ef\u53d8\u5bf9\u8c61\uff0c\u4f46\u5b83\u53ef\u4ee5\u5305\u542b\u53ef\u53d8\u7684\u5bf9\u8c61\uff0c\u6bd4\u5982\u4e00\u4e2a <code>tuple</code> \u5bf9\u8c61\u5305\u542b\u4e00\u4e2a <code>list</code> \u5bf9\u8c61\u3002</p> \u4e0d\u53ef\u53d8\u7684<code>tuple</code>\u6709\u4ec0\u4e48\u610f\u4e49\uff1f<p>\u5bf9\u4e8e\u67d0\u4e9b\u64cd\u4f5c\uff0c\u4e0d\u53ef\u53d8\u7684\u5143\u7ec4\u5bf9\u8c61\u6bd4\u53ef\u53d8\u5217\u8868\u5bf9\u8c61\u66f4\u6709\u6548\u6216\u66f4\u5b89\u5168\u3002\u521b\u5efa\u5143\u7ec4\u540e\uff0c\u53ea\u80fd\u5bf9\u5176\u8fdb\u884c\u8bbf\u95ee\uff0c\u4e0d\u5fc5\u62c5\u5fc3\u5176\u4e2d\u7684\u5143\u7d20\u88ab\u610f\u5916\u5730\u4fee\u6539\u3002</p> <p>\u6700\u91cd\u8981\u7684\u662f\uff0c\u5143\u7ec4\u53ef\u4ee5\u53ef\u9760\u5730\u54c8\u5e0c\u4e3a\u67d0\u4e2a\u503c\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f5c\u4e3a\u6620\u5c04\u7c7b\u578b\u7684\u952e\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.7.Tuple.html#1tuple","title":"\u9677\u9631\u2014\u20141\u4e2a\u5143\u7d20\u7684Tuple","text":"<p>\u5b9a\u4e49\u4e2a\u4e00\u4e2aTuple\uff0c\u9700\u8981\u4f20\u5165\u4e00\u4e2aiterable\u5bf9\u8c61\u3002</p> <pre><code>tuple(\"123\")\n</code></pre> <pre><code>('1', '2', '3')\n</code></pre> <p>\u5982\u679c\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a\u7a7a\u7684Tuple\uff0c\u53ef\u4ee5\u901a\u8fc7tuple\u7c7b\u6765\u5b9a\u4e49\uff1a</p> <pre><code>a = tuple()\ntype(a)\n</code></pre> <pre><code>tuple\n</code></pre> <p>\u6216\u8005\u7528 <code>()</code> \u5b9a\u4e49\uff1a</p> <pre><code>a = ()\ntype(a)\n</code></pre> <pre><code>tuple\n</code></pre> <p>\u4f46\u662f\u5982\u679c\u8981\u5b9a\u4e49\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\u7684tuple\uff0c\u5c31\u8981\u6ce8\u610f\u4e86\u3002\u5982\u679c\u8fd9\u6837\u5b9a\u4e49\uff0c\u5219\u662f\u9519\u8bef\u7684\uff1a</p> <pre><code>b = (\"123\")\ntype(b)\n</code></pre> <pre><code>str\n</code></pre> <p>\u5b9a\u4e49\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\u7684tuple\uff0c\u9700\u8981\u8fd9\u6837\u5b9a\u4e49\uff1a</p> <pre><code>b = (\"123\",)\ntype(b)\n</code></pre> <pre><code>tuple\n</code></pre> <p>\u6216\u8005\u8fd9\u6837\u5b9a\u4e49\uff1a</p> <pre><code>b = tuple([\"123\"])\ntype(b)\n</code></pre> <pre><code>tuple\n</code></pre> <p>\u4e3a\u4ec0\u4e48\u4f1a\u8fd9\u6837\u5462\uff1f\u56e0\u4e3a<code>()</code>\u5728 Python \u4e2d\u53ef\u4ee5\u8868\u793a\u8fd0\u7b97\u7b26\u7684<code>()</code>\uff0c\u4e5f\u53ef\u4ee5\u8868\u793aTuple\u3002\u8fd9\u5c31\u4e0d\u53ef\u907f\u514d\u5730\u4ea7\u751f\u4e86\u6b67\u4e49\uff0c\u4e3a\u4e86\u6d88\u9664\u6b67\u4e49\uff0cPython\u89c4\u5b9a\u62ec\u53f7\u91cc\u9762\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\u65f6\uff0c\u6309\u8fd0\u7b97\u7b26\u7684<code>()</code>\u8fdb\u884c\u89e3\u6790\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.7.Tuple.html#tuple","title":"\u9677\u9631\u2014\u2014\u201c\u53ef\u53d8\u7684\u201dTuple","text":"<p>\u524d\u9762\u8bf4\u8fc7\uff0cTuple\u662f\u4e00\u79cd\u4e0d\u53ef\u53d8\u7684\u5bf9\u8c61\u3002\u4f46\u662f\u6709\u65f6\u6211\u4eec\u53c8\u4f1a\u53d1\u73b0Tuple\u662f\u201c\u53ef\u53d8\u7684\u201d\u3002</p> <pre><code>c = ('a', 'b', ['A', 'B'])\nprint(\"\u539f\u59cb\u7684Tuple\uff1a\",c)\nc[2][0] = 'X'\nc[2][1] = 'Y'\nprint(\"\u4fee\u6539\u540e\u7684Tuple\uff1a\",c)\n</code></pre> <pre><code>\u539f\u59cb\u7684Tuple\uff1a ('a', 'b', ['A', 'B'])\n\u4fee\u6539\u540e\u7684Tuple\uff1a ('a', 'b', ['X', 'Y'])\n</code></pre> <p>\u524d\u9762\u8bf4\u8fc7tuple\u4e00\u65e6\u5b9a\u4e49\u540e\u5c31\u4e0d\u53ef\u53d8\uff0c\u90a3\u4e0a\u9762\u7684c\u600e\u4e48\u5c31\u6539\u53d8\u4e86\u5462\uff1f\u5176\u5b9e\uff0cc\u7684\u5143\u7d20\u5e76\u6ca1\u6709\u6539\u53d8\uff0c\u6539\u53d8\u7684\u53ea\u662flist\u4e2d\u7684\u5143\u7d20\uff0ctuple\u4e00\u5f00\u59cb\u6307\u5411\u7684list\u5e76\u6ca1\u6709\u6539\u6210\u522b\u7684list\uff0c\u6240\u4ee5\uff0ctuple\u6240\u8c13\u7684\u201c\u4e0d\u53d8\u201d\u662f\u8bf4\uff0ctuple\u7684\u6bcf\u4e2a\u5143\u7d20\u7684\u6307\u5411\u6c38\u8fdc\u4e0d\u53d8\u3002\u5373\u6307\u5411<code>a</code>\uff0c\u5c31\u4e0d\u80fd\u6539\u6210\u6307\u5411<code>b</code>\uff0c\u6307\u5411\u4e00\u4e2alist\uff0c\u5c31\u4e0d\u80fd\u6539\u6210\u6307\u5411\u5176\u4ed6\u5bf9\u8c61\uff0c\u4f46\u6307\u5411\u7684\u8fd9\u4e2alist\u672c\u8eab\u662f\u53ef\u53d8\u7684\uff01</p> <p>\u6240\u4ee5\u8981\u521b\u5efa\u4e00\u4e2a\u5185\u5bb9\u4e5f\u4e0d\u53d8\u7684tuple\uff0c\u90a3\u5c31\u5fc5\u987b\u4fdd\u8bc1tuple\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u672c\u8eab\u4e5f\u4e0d\u80fd\u53d8\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.7.Tuple.html#_1","title":"\u65b9\u6cd5","text":"<p>\u56e0\u4e3aTuple\u662f\u4e00\u4e2a\u4e0d\u53ef\u53d8\u7684\u5217\u8868\uff0c\u6ca1\u6709\u7528\u4e8e\u4fee\u6539\u5217\u8868\u7684\u65b9\u6cd5\uff0c\u6240\u4ee5Tuple\u5bf9\u8c61\u7684\u65b9\u6cd5\u5f88\u5c11\u3002</p> <pre><code>d = (0,1,2,3,4,4)\n[method for method in dir(d) if not method.startswith(\"_\")]\n</code></pre> <pre><code>['count', 'index']\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.7.Tuple.html#_2","title":"\u7edf\u8ba1\u5143\u7d20\u51fa\u73b0\u7684\u6b21\u6570","text":"<pre><code>d.count(4)\n</code></pre> <pre><code>2\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.7.Tuple.html#_3","title":"\u5143\u7d20\u7b2c\u4e00\u6b21\u51fa\u73b0\u65f6\u5bf9\u5e94\u7684\u7d22\u5f15\u503c","text":"<pre><code>d.index(4)\n</code></pre> <pre><code>4\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.8.Dict.html","title":"2.8.Dict","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.06.21\n</code></pre> <p>\u6620\u5c04\uff08mapping\uff09\u662f\u901a\u8fc7\u540d\u79f0\u6765\u8bbf\u95ee\u5176\u5404\u4e2a\u503c\u7684\u6570\u636e\u7ed3\u6784\u3002\u5b57\u5178\u662fPython\u4e2d\u552f\u4e00\u7684\u5185\u7f6e\u6620\u5c04\u7c7b\u578b\uff0c\u5176\u4e2d\u7684\u503c\u4e0d\u6309\u987a\u5e8f\u6392\u5217\uff0c\u800c\u662f\u5b58\u50a8\u5728\u952e\u4e0b\u3002\u952e\u53ef\u80fd\u662f\u6570\u3001\u5b57\u7b26\u4e32\u6216\u5143\u7ec4\u3002 </p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.8.Dict.html#dict","title":"\u521b\u5efadict","text":"<p>\u5b57\u5178\u4ee5\u7c7b\u4f3c\u4e8e\u4e0b\u9762\u7684\u65b9\u5f0f\u8868\u793a\uff1a </p> <pre><code>phonebook = {'Alice': '2341', 'Beth': '9102', 'Cecil': '3258'}\n</code></pre> <p>\u5b57\u5178\u7531\u952e\u53ca\u5176\u76f8\u5e94\u7684\u503c\u7ec4\u6210\uff0c\u8fd9\u79cd\u952e--\u503c\u5bf9\u79f0\u4e3a\u9879\uff08item\uff09\u3002\u6bcf\u4e2a\u952e\u4e0e\u5176\u503c\u4e4b\u95f4\u90fd\u7528\u5192\u53f7<code>:</code>\u5206\u9694\uff0citem\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u800c\u6574\u4e2a\u5b57\u5178\u653e\u5728\u82b1\u62ec\u53f7\u5185\u3002\u7a7a\u5b57\u5178\uff08\u6ca1\u6709\u4efb\u4f55\u9879\uff09\u7528\u4e24\u4e2a\u82b1\u62ec\u53f7<code>{}</code>\u8868\u793a\u3002 </p> <p>\u6ce8\u610f</p> <p>\u5728\u5b57\u5178\uff08\u4ee5\u53ca\u5176\u4ed6\u6620\u5c04\u7c7b\u578b\uff09\u4e2d\uff0c\u952e\u5fc5\u987b\u662f\u72ec\u4e00\u65e0\u4e8c\u7684\uff0c\u800c\u5b57\u5178\u4e2d\u7684\u503c\u65e0\u9700\u5982\u6b64\u3002 </p> <p>\u53ef\u4f7f\u7528dict\u7c7b\u4ece\u5176\u4ed6\u6620\u5c04\uff08\u5982\u5176\u4ed6\u5b57\u5178\uff09\u6216\u952e\u2013\u503c\u5bf9\u5e8f\u5217\u521b\u5efa\u5b57\u5178\u3002 </p> <pre><code>items = [('name', 'Gumby'), ('age', 42)] \ndict(items)\n</code></pre> <pre><code>{'name': 'Gumby', 'age': 42}\n</code></pre> <p>\u8fd8\u53ef\u4f7f\u7528\u5173\u952e\u53c2\u6570\uff0c\u5982\u4e0b\u6240\u793a\uff1a </p> <pre><code>dict(name='Gumby', age=42)\n</code></pre> <pre><code>{'name': 'Gumby', 'age': 42}\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.8.Dict.html#dict_1","title":"Dict\u7684\u65b9\u6cd5","text":"<p>\u5b57\u5178\u7684\u57fa\u672c\u884c\u4e3a\u5728\u5f88\u591a\u65b9\u9762\u90fd\u7c7b\u4f3c\u4e8e\u5e8f\u5217\u3002 </p> <ul> <li>len(d)\u8fd4\u56de\u5b57\u5178d\u5305\u542b\u7684\u9879\uff08\u952e--\u503c\u5bf9\uff09\u6570\u3002</li> <li>d[k]\u8fd4\u56de\u4e0e\u952ek\u76f8\u5173\u8054\u7684\u503c\u3002</li> <li>d[k] = v\u5c06\u503cv\u5173\u8054\u5230\u952ek\u3002</li> <li>del d[k]\u5220\u9664\u952e\u4e3ak\u7684\u9879\u3002</li> <li>k in d\u68c0\u67e5\u5b57\u5178d\u662f\u5426\u5305\u542b\u952e\u4e3ak\u7684\u9879\u3002</li> </ul> <p>\u867d\u7136\u5b57\u5178\u548c\u5217\u8868\u6709\u591a\u4e2a\u76f8\u540c\u4e4b\u5904\uff0c\u4f46\u4e5f\u6709\u4e00\u4e9b\u91cd\u8981\u7684\u4e0d\u540c\u4e4b\u5904\u3002</p> <ul> <li> <p>\u81ea\u52a8\u6dfb\u52a0\u3002dict\u53ef\u4ee5\u7ed9\u4e0d\u5b58\u5728\u7684\u9879\u8d4b\u503c\uff0c\u5373\u662f\u5b57\u5178\u4e2d\u539f\u672c\u6ca1\u6709\u7684\u952e\uff0c\u4e5f\u53ef\u4ee5\u7ed9\u5b83\u8d4b\u503c\u3002\u800c\u5982\u679c\u4e0d\u4f7f\u7528append\u6216\u5176\u4ed6\u7c7b\u4f3c\u7684\u65b9\u6cd5\uff0c\u5c31\u4e0d\u80fd\u7ed9\u5217\u8868\u4e2d\u6ca1\u6709\u7684\u5143\u7d20\u8d4b\u503c\u3002</p> </li> <li> <p>\u6210\u5458\u8d44\u683c\u3002\u8868\u8fbe\u5f0fk in d (\u5176\u4e2dd\u662f\u4e00\u4e2a\u5b57\u5178\uff09\u67fb\u627e\u7684\u662f\u952e\u800c\u4e0d\u662f\u503c\uff1b\u800c\u8868\u8fbe\u5f0fv in 1 (\u5176\u4e2d1\u662f\u4e00\u4e2a\u5217\u8868\uff09\u67e5\u627e\u7684\u662f\u503c\u800c\u4e0d\u662f\u7d22\u5f15\u3002\u8fd9\u770b\u4f3c\u4e0d\u592a\u4e00\u81f4\uff0c\u4f46\u4f60\u4e60\u60ef\u540e\u5c31\u4f1a\u89c9\u5f97\u76f8\u5f53\u81ea\u7136\u3002\u6bd5\u7adf\u5982\u679c\u5b57\u5178\u5305\u542b\u6307\u5b9a\u7684\u952e\uff0c\u68c0\u67e5\u76f8\u5e94\u7684\u503c\u5c31\u5f88\u5bb9\u6613\u3002</p> </li> </ul>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.8.Dict.html#clear","title":"<code>clear</code>\u5220\u9664\u6240\u6709\u7684\u5b57\u5178\u9879","text":"<p>\u8981\u6ce8\u610f\u7684\u662f\uff0cclear\u662f\u6e05\u9664\u4e86\u4e00\u4e2a\u5b57\u5178\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u89e3\u9664\u4e86\u540d\u79f0\u4e0e\u5b57\u5178\u5bf9\u8c61\u7684\u7ed1\u5b9a\u3002</p> <pre><code>a = {\"a\":1,\"b\": 2,\"c\":3}\nb = a\na.clear()\n# \u53ef\u4ee5\u770b\u5230\uff0ca\u3001b\u90fd\u53d8\u6210\u4e86\u5b57\u5178\nprint(\"a\u7684\u503c:\",a)\nprint(\"b\u7684\u503c:\",a)\n</code></pre> <pre><code>a\u7684\u503c: {}\nb\u7684\u503c: {}\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.8.Dict.html#copy","title":"<code>copy</code>\u6d45\u62f7\u8d1d","text":"<pre><code>a = {\"a\":1,\"b\": 2,\"c\":[1,2]}\nb = a.copy()\nb[\"c\"][0] = 10\nprint(\"a\u7684\u503c:\",a)\nprint(\"b\u7684\u503c:\",a)\n</code></pre> <pre><code>a\u7684\u503c: {'a': 1, 'b': 2, 'c': [10, 2]}\nb\u7684\u503c: {'a': 1, 'b': 2, 'c': [10, 2]}\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.8.Dict.html#fromkeys","title":"<code>fromkeys</code>","text":"<pre><code>dict.fromkeys(key, value)\n</code></pre> <p>\u65b9\u6cd5<code>fromkeys</code>\u521b\u5efa\u4e00\u4e2a\u65b0\u5b57\u5178\uff0c\u5176\u4e2d\u5305\u542b\u6307\u5b9a\u7684\u952e\uff0c\u4e14\u6bcf\u4e2a\u952e\u5bf9\u5e94\u7684\u503c\u90fd\u662fNone\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u503c\uff0c</p> <pre><code>dict.fromkeys([\"a\",\"b\"])\n</code></pre> <pre><code>{'a': None, 'b': None}\n</code></pre> <pre><code>dict.fromkeys([\"a\",\"b\"],10)\n</code></pre> <pre><code>{'a': 10, 'b': 10}\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.8.Dict.html#get","title":"<code>get</code>","text":"<p>\u65b9\u6cd5<code>get</code>\u4e3a\u8bbf\u95ee\u5b57\u5178\u9879\u63d0\u4f9b\u4e86\u5bbd\u677e\u7684\u73af\u5883\u3002\u901a\u5e38\uff0c\u5982\u679c\u4f60\u8bd5\u56fe\u8bbf\u95ee\u5b57\u5178\u4e2d\u6ca1\u6709\u7684\u9879\uff0c\u5c06\u5f15\u53d1\u9519\u8bef\u3002</p> <pre><code>a = {\"a\":1,\"b\": 2,\"c\":3}\n\ntry:\n    a[\"d\"]\nexcept KeyError as e:\n    print(\"KeyError: \", e)\n</code></pre> <pre><code>KeyError:  'd'\n</code></pre> <p>\u800c\u4f7f\u7528<code>get</code>\u4e0d\u4f1a\u8fd9\u6837</p> <pre><code>a = {\"a\":1,\"b\": 2,\"c\":3}\na.get(\"d\")\n# \u9ed8\u8ba4\u8fd4\u56deNone\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u8fd4\u56de\u503c\na.get(\"d\",\"N/A\")\n</code></pre> <pre><code>'N/A'\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.8.Dict.html#items","title":"<code>items</code>","text":"<p>\u65b9\u6cd5<code>items</code>\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u6240\u6709\u5b57\u5178\u9879\u7684\u5217\u8868\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5143\u7d20\u90fd\u4e3a<code>(key, value)</code>\u7684\u5f62\u5f0f\u3002\u5b57\u5178\u9879\u5728\u5217\u8868\u4e2d\u7684\u6392\u5217\u987a\u5e8f\u4e0d\u786e\u5b9a\u3002\u8fd4\u56de\u503c\u5c5e\u4e8e\u4e00\u79cd\u540d\u4e3a\u5b57\u5178\u89c6\u56fe\u7684\u7279\u6b8a\u7c7b\u578b\u3002\u5b57\u5178\u89c6\u56fe\u53ef\u7528\u4e8e\u8fed\u4ee3\u3002\u53e6\u5916\uff0c\u4f60\u8fd8\u53ef\u786e\u5b9a\u5176\u957f\u5ea6\u4ee5\u53ca\u5bf9\u5176\u6267\u884c\u6210\u5458\u8d44\u683c\u68c0\u67e5\u3002</p> <pre><code>a = {\"a\":1,\"b\": 2,\"c\":3}\na.items()\n</code></pre> <pre><code>dict_items([('a', 1), ('b', 2), ('c', 3)])\n</code></pre> <pre><code># dict_items\u7c7b\u578b\ntype(a.items())\n</code></pre> <pre><code>dict_items\n</code></pre> <pre><code># \u8fed\u4ee3\nfor i in a.items():\n    print(i)\n</code></pre> <pre><code>('a', 1)\n('b', 2)\n('c', 3)\n</code></pre> <pre><code># \u8fed\u4ee3\nfor key, value in a.items():\n    print(key, end=\" \")\n    print(value)\n</code></pre> <pre><code>a 1\nb 2\nc 3\n</code></pre> <pre><code># \u68c0\u67e5\u6210\u5458\u8d44\u683c\n(\"a\",1) in a.items()\n</code></pre> <pre><code>True\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.8.Dict.html#keysvalues","title":"<code>keys</code>\u548c<code>values</code>","text":"<p>\u65b9\u6cd5<code>keys</code>\u8fd4\u56de\u4e00\u4e2a\u5b57\u5178\u89c6\u56fe\uff0c\u5176\u4e2d\u5305\u542b\u5b57\u5178\u4e2d\u7684\u952e\u3002</p> <pre><code>a = {\"a\":1,\"b\": 2,\"c\":3}\na.keys()\n</code></pre> <pre><code>dict_keys(['a', 'b', 'c'])\n</code></pre> <p>\u65b9\u6cd5<code>values</code>\u8fd4\u56de\u4e00\u4e2a\u5b57\u5178\u89c6\u56fe\uff0c\u5176\u4e2d\u5305\u542b\u5b57\u5178\u4e2d\u7684\u952e\u3002</p> <pre><code>a.values()\n</code></pre> <pre><code>dict_values([1, 2, 3])\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.8.Dict.html#pop","title":"<code>pop</code>","text":"<p>\u65b9\u6cd5pop\u53ef\u7528\u4e8e\u83b7\u53d6\u4e0e\u6307\u5b9a\u952e\u76f8\u5173\u8054\u7684\u503c\uff0c\u5e76\u5c06\u8be5\u952e-\u503c\u5bf9\u4ece\u5b57\u5178\u4e2d\u5220\u9664\u3002</p> <pre><code>a = {\"a\":1,\"b\": 2,\"c\":3}\nb = a.pop(\"a\")\nprint(\"b\u7684\u503c\",b)\nprint(\"a\u7684\u503c\",a)\n</code></pre> <pre><code>b\u7684\u503c 1\na\u7684\u503c {'b': 2, 'c': 3}\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.8.Dict.html#popitem","title":"<code>popitem</code>","text":"<p>\u65b9\u6cd5<code>popitem</code>\u7c7b\u4f3c\u4e8e<code>list.pop</code>\uff0c\u4f46<code>list.pop</code>\u5f39\u51fa\u5217\u8868\u4e2d\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u800c<code>popitem</code>\u968f\u673a\u5730\u5f39\u51fa\u4e00\u4e2a\u5b57\u5178\u9879\uff0c\u56e0\u4e3a\u5b57\u5178\u9879\u7684\u987a\u5e8f\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u6ca1\u6709\u201c\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u201d\u7684\u6982\u5ff5\u3002\u5982\u679c\u4f60\u8981\u4ee5\u9ad8\u6548\u5730\u65b9\u5f0f\u9010\u4e2a\u5220\u9664\u5e76\u5904\u7406\u6240\u6709\u5b57\u5178\u9879\uff0c\u8fd9\u53ef\u80fd\u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u8fd9\u6837\u65e0\u9700\u5148\u83b7\u53d6\u952e\u5217\u8868\u3002</p> <pre><code>a = {\"a\":1,\"b\": 2,\"c\":3}\na.popitem()\n</code></pre> <pre><code>('c', 3)\n</code></pre> <pre><code>a\n</code></pre> <pre><code>{'a': 1, 'b': 2}\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.8.Dict.html#setdefault","title":"<code>setdefault</code>","text":"<p>\u65b9\u6cd5<code>setdefault</code>\u6709\u70b9\u50cfget\uff0c\u56e0\u4e3a\u5b83\u4e5f\u83b7\u53d6\u4e0e\u6307\u5b9a\u952e\u76f8\u5173\u8054\u7684\u503c\uff0c\u4f46\u9664\u6b64\u4e4b\u5916\uff0csetdefault\u8fd8\u5728\u5b57\u5178\u4e0d\u5305\u542b\u6307\u5b9a\u7684\u952e\u65f6\uff0c\u5728\u5b57\u5178\u4e2d\u6dfb\u52a0\u6307\u5b9a\u7684\u952e-\u503c\u5bf9\u3002</p> <pre><code>a = {\"a\":1,\"b\": 2,\"c\":3}\na.setdefault(\"a\")\na\n\na.setdefault(\"d\")\na\n</code></pre> <pre><code>{'a': 1, 'b': 2, 'c': 3, 'd': None}\n</code></pre> <p>\u5982\u4f60\u6240\u89c1\uff0c\u6307\u5b9a\u7684\u952e\u4e0d\u5b58\u5728\u65f6\uff0csetdefault\u8fd4\u56de\u6307\u5b9a\u7684\u503c\u5e76\u76f8\u5e94\u5730\u66f4\u65b0\u5b57\u5178\u3002\u5982\u679c\u6307\u5b9a\u7684\u952e\u5b58\u5728\uff0c\u5c31\u8fd4\u56de\u5176\u503c\uff0c\u5e76\u4fdd\u6301\u5b57\u5178\u4e0d\u53d8\u3002\u4e0e<code>get</code>\u4e00\u6837\uff0c\u503c\u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u9ed8\u8ba4\u4e3aNone\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.8.Dict.html#update","title":"<code>update</code>","text":"<p>\u65b9\u6cd5update\u4f7f\u7528\u4e00\u4e2a\u5b57\u5178\u4e2d\u7684\u9879\u6765\u66f4\u65b0\u53e6\u4e00\u4e2a\u5b57\u5178\u3002\u5bf9\u4e8e\u901a\u8fc7\u53c2\u6570\u63d0\u4f9b\u7684\u5b57\u5178\uff0c\u5c06\u5176\u9879\u6dfb\u52a0\u5230\u5f53\u524d\u5b57\u5178\u4e2d\u3002\u5982\u679c\u5f53\u524d\u5b57\u5178\u5305\u542b\u952e\u76f8\u540c\u7684\u9879\uff0c\u5c31\u66ff\u6362\u5b83\u3002</p> <pre><code>a = {\"a\":1,\"b\": 2,\"c\":3}\na.update({\"d\":4})\na\n</code></pre> <pre><code>{'a': 1, 'b': 2, 'c': 3, 'd': 4}\n</code></pre> <p>\u53ef\u50cf\u8c03\u7528\u672c\u7ae0\u524d\u9762\u8ba8\u8bba\u7684\u51fd\u6570dict\uff08\u7c7b\u578b\u6784\u9020\u51fd\u6570\uff09\u90a3\u6837\u8c03\u7528\u65b9\u6cd5update\u3002\u8fd9\u610f\u5473\u7740\u8c03\u7528update\u65f6\uff0c\u53ef\u5411\u5b83\u63d0\u4f9b\u4e00\u4e2a\u6620\u5c04\u3001\u4e00\u4e2a\u7531\u952e-\u503c\u5bf9\u7ec4\u6210\u7684\u5e8f\u5217\uff08\u6216\u5176\u4ed6\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff09\u6216\u5173\u952e\u5b57\u53c2\u6570\u3002</p> <pre><code>a.update(zip([\"e\",\"f\"],[5,6]))\na\n</code></pre> <pre><code>{'a': 1, 'b': 2, 'c': 3, 'd': 4, 'e': 5, 'f': 6}\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.9.%E7%AE%80%E6%B4%81%E7%9A%84Python.html","title":"2.9.\u7b80\u6d01\u7684Python","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.06.24\n</code></pre> <pre><code>import pprint\n</code></pre> <p>Python\u4ee5\u7b80\u6d01\u8457\u79f0\uff0cPython\u63d0\u4f9b\u4e86\u4e00\u4e9b\u53ef\u4ee5\u8ba9\u6211\u4eec\u5f88\u5bb9\u6613\u5199\u51fa\u7b80\u6d01\u4ee3\u7801\u7684\u8bed\u6cd5\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.9.%E7%AE%80%E6%B4%81%E7%9A%84Python.html#_1","title":"\u63a8\u5bfc\u5f0f","text":"<p>Comprehensions\u8bd1\u4e3a\u63a8\u5bfc\u5f0f\uff0c\u6216\u8005\u751f\u6210\u5f0f\uff0c\u8fd9\u662fPython\u72ec\u6709\u7684\u7279\u6027\u3002\u63a8\u5bfc\u5f0f\u662f\u53ef\u4ee5\u4ece\u4e00\u4e2a\u6570\u636e\u5e8f\u5217\u6784\u5efa\u53e6\u4e00\u4e2a\u65b0\u7684\u6570\u636e\u5e8f\u5217\u7684\u7ed3\u6784\u4f53\u3002Python\u5171\u6709\u4e09\u79cd\u63a8\u5bfc\u5f0f\uff1a</p> <ol> <li>List Comprehensions</li> <li>Dict Comprehensions</li> <li>Set Comprehensions</li> </ol>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.9.%E7%AE%80%E6%B4%81%E7%9A%84Python.html#_2","title":"\u5217\u8868\u63a8\u5bfc\u5f0f","text":"<p>List Comprehensions \u662f\u7528\u6765\u521b\u5efalist\u7684\u63a8\u5bfc\u5f0f\u3002</p> <p>\u8fd0\u7528\u5217\u8868\u63a8\u5bfc\u5f0f\uff0c\u53ef\u4ee5\u5199\u51fa\u975e\u5e38\u7b80\u6d01\u7684\u4ee3\u7801\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u8981\u751f\u6210list <code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</code>\u53ef\u4ee5\u7528<code>list(range(1, 11))</code>\uff1a</p> <pre><code>list(range(1, 11))\n</code></pre> <pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre> <p>\u4f46\u5982\u679c\u8981\u751f\u6210<code>[1x1, 2x2, 3x3, ..., 10x10]</code>\u600e\u4e48\u505a\uff1f\u65b9\u6cd5\u4e00\u662f\u5faa\u73af\uff1a</p> <pre><code>L = []\nfor x in range(1, 11):\n    L.append(x * x)\npprint.pprint(L)\n</code></pre> <pre><code>[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]\n</code></pre> <p>\u4f46\u662f\u5faa\u73af\u592a\u7e41\u7410\uff0c\u800c\u5217\u8868\u63a8\u5bfc\u5f0f\u5219\u53ef\u4ee5\u7528\u4e00\u884c\u4ee3\u7801\u4ee3\u66ff\u5faa\u73af\u751f\u6210\u4e0a\u9762\u7684list\uff1a</p> <pre><code>[x * x for x in range(1, 11)]\n</code></pre> <pre><code>[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]\n</code></pre> <p>\u5199\u5217\u8868\u63a8\u5bfc\u5f0f\u65f6\uff0c\u628a\u8981\u751f\u6210\u7684\u5143\u7d20<code>x * x</code>\u653e\u5230\u524d\u9762\uff0c\u540e\u9762\u8ddf<code>for</code>\u5faa\u73af\uff0c\u5c31\u53ef\u4ee5\u628alist\u521b\u5efa\u51fa\u6765\u3002</p> <p>for\u5faa\u73af\u540e\u9762\u8fd8\u53ef\u4ee5\u52a0\u4e0aif\u5224\u65ad\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u7b5b\u9009\u51fa\u4ec5\u5076\u6570\u7684\u5e73\u65b9\uff1a</p> <pre><code>[x * x for x in range(1, 11) if x % 2 == 0]\n</code></pre> <pre><code>[4, 16, 36, 64, 100]\n</code></pre> <p>\u8fd8\u53ef\u4ee5\u4f7f\u7528\u4e24\u5c42\u5faa\u73af\uff0c\u53ef\u4ee5\u751f\u6210\u5168\u6392\u5217\uff1a</p> <pre><code>[m + n for m in 'ABC' for n in 'XYZ']\n</code></pre> <pre><code>['AX', 'AY', 'AZ', 'BX', 'BY', 'BZ', 'CX', 'CY', 'CZ']\n</code></pre> <p>\u4e09\u5c42\u548c\u4e09\u5c42\u4ee5\u4e0a\u7684\u5faa\u73af\u5c31\u5f88\u5c11\u7528\u5230\u4e86\u3002</p> <p><code>for</code>\u5faa\u73af\u5176\u5b9e\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528\u4e24\u4e2a\u751a\u81f3\u591a\u4e2a\u53d8\u91cf\uff0c\u6bd4\u5982<code>dict</code>\u7684<code>items()</code>\u53ef\u4ee5\u540c\u65f6\u8fed\u4ee3key\u548cvalue\uff1a</p> <pre><code>d = {'x': 'A', 'y': 'B', 'z': 'C' }\nfor k, v in d.items():\n    print(k, '=', v)\n</code></pre> <pre><code>x = A\ny = B\nz = C\n</code></pre> <p>\u56e0\u6b64\uff0c\u5217\u8868\u63a8\u5bfc\u5f0f\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e24\u4e2a\u53d8\u91cf\u6765\u751f\u6210list\uff1a</p> <pre><code>d = {'x': 'A', 'y': 'B', 'z': 'C' }\n[k + '=' + v for k, v in d.items()]\n</code></pre> <pre><code>['x=A', 'y=B', 'z=C']\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.9.%E7%AE%80%E6%B4%81%E7%9A%84Python.html#_3","title":"\u5b57\u5178\u63a8\u5bfc\u5f0f","text":"<p>\u5b57\u5178\u63a8\u5bfc\u5f0f\u548c\u5217\u8868\u63a8\u5bfc\u5f0f\u662f\u7c7b\u4f3c\u7684\uff1a</p> <pre><code>{key:value for key, value in enumerate(range(4))}\n</code></pre> <pre><code>{0: 0, 1: 1, 2: 2, 3: 3}\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.9.%E7%AE%80%E6%B4%81%E7%9A%84Python.html#_4","title":"\u96c6\u5408\u63a8\u5bfc\u5f0f","text":"<pre><code>{value for value in range(4)}\n</code></pre> <pre><code>{0, 1, 2, 3}\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.9.%E7%AE%80%E6%B4%81%E7%9A%84Python.html#_5","title":"\u5e8f\u5217\u89e3\u5305","text":"<pre><code>x, y, z = (1, 2, 3)\nprint(x, y, z)\n\nx, y = y, x\nprint(x, y)\n</code></pre> <pre><code>1 2 3\n2 1\n</code></pre> <p>\u8981\u89e3\u5305\u7684\u5e8f\u5217\u5305\u542b\u7684\u5143\u7d20\u4e2a\u6570\u5fc5\u987b\u4e0e\u4f60\u5728\u7b49\u53f7\u5de6\u8fb9\u5217\u51fa\u7684\u76ee\u6807\u4e2a\u6570\u76f8\u540c\uff0c\u5426\u5219Python\u5c06\u5f15\u53d1\u5f02\u5e38\u3002</p> <pre><code>try:\n    x, y = (1, 2, 3)\nexcept ValueError as e:\n    print(e)\n\ntry:\n    x, y, z = (1, 2)\nexcept ValueError as e:\n    print(e)\n</code></pre> <pre><code>too many values to unpack (expected 2)\nnot enough values to unpack (expected 3, got 2)\n</code></pre> <p>\u53ef\u4f7f\u7528\u661f\u53f7\u8fd0\u7b97\u7b26\uff08 * \uff09\u6765\u6536\u96c6\u591a\u4f59\u7684\u503c\uff0c\u8fd9\u6837\u65e0\u9700\u786e\u4fdd\u503c\u548c\u53d8\u91cf\u7684\u4e2a\u6570\u76f8\u540c\uff0c\u5982\u4e0b\u4f8b\u6240\u793a\uff1a</p> <pre><code>x, *y = (1, 2, 3)\nprint(x, y)\n\nx, *y, z = (1, 2, 3, 4)\nprint(x, z)\n</code></pre> <pre><code>1 [2, 3]\n1 4\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.9.%E7%AE%80%E6%B4%81%E7%9A%84Python.html#_6","title":"\u94fe\u5f0f\u8d4b\u503c","text":"<p>\u94fe\u5f0f\u8d4b\u503c\u662f\u4e00\u79cd\u5feb\u6377\u65b9\u5f0f\uff0c\u7528\u4e8e\u5c06\u591a\u4e2a\u53d8\u91cf\u5173\u8054\u5230\u540c\u4e00\u4e2a\u503c\u3002</p> <pre><code>x = y = 1\nprint(x, y)\n</code></pre> <pre><code>1 1\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u4e0e\u4e0b\u9762\u7684\u4ee3\u7801\u7b49\u4ef7\uff1a</p> <pre><code>y = 1\nx = y\n</code></pre> <p>\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e24\u6761\u8bed\u53e5\u53ef\u80fd\u4e0e\u4e0b\u9762\u7684\u8bed\u53e5\u4e0d\u7b49\u4ef7\uff1a</p> <pre><code>x = somefunction()\ny = somefunction()\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/2.9.%E7%AE%80%E6%B4%81%E7%9A%84Python.html#ifelse","title":"if/else\u4e09\u5143\u8868\u8fbe\u5f0f","text":"<pre><code>a = 2\na if a &gt; 0 else 1\n</code></pre> <pre><code>2\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.1.%E5%BC%82%E5%B8%B8.html","title":"3.1.\u5f02\u5e38","text":""},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.1.%E5%BC%82%E5%B8%B8.html#_1","title":"\u5f02\u5e38\u5904\u7406\u673a\u5236","text":"<p>\u5f02\u5e38\u5904\u7406\u65e0\u5916\u4e4e\u51e0\u4ef6\u4e8b: </p> <ol> <li>\u65ad\u8a00\uff08assert\uff09</li> <li>\u629b\u9519\uff08raise\uff09</li> <li>\u68c0\u67e5\uff08try\uff09</li> <li>\u6355\u83b7\uff08except\uff09</li> <li>\u5904\u7406\uff08except, else, finally\uff09</li> </ol> <p>\u5f02\u5e38\u5373\u662f\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u8be5\u4e8b\u4ef6\u4f1a\u5728\u7a0b\u5e8f\u6267\u884c\u8fc7\u7a0b\u4e2d\u53d1\u751f\uff0c\u5f71\u54cd\u4e86\u7a0b\u5e8f\u7684\u6b63\u5e38\u6267\u884c\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5728Python\u65e0\u6cd5\u6b63\u5e38\u5904\u7406\u7a0b\u5e8f\u65f6\u5c31\u4f1a\u53d1\u751f\u4e00\u4e2a\u5f02\u5e38\u3002\u5f53Python\u811a\u672c\u53d1\u751f\u5f02\u5e38\u65f6\uff0c\u5f02\u5e38\u4f1a\u4ece\u53d1\u751f\u5f02\u5e38\u7684\u4f4d\u7f6e\u5411\u7a0b\u5e8f\u4e0a\u5c42\u4f20\u64ad\u3002\u4f8b\u5982\u5f02\u5e38\u4ece\u51fd\u6570\u5411\u5916\u4f20\u64ad\u5230\u8c03\u7528\u51fd\u6570\u7684\u5730\u65b9\uff0c\u5982\u679c\u5728\u8fd9\u91cc\u6ca1\u6709\u88ab\u6355\u83b7\uff0c\u5219\u7ee7\u7eed\u5411\u4e0a\u4f20\u64ad\uff0c\u5982\u679c\u4e00\u76f4\u90fd\u6ca1\u6709\u88ab\u6355\u83b7\uff0c\u5219\u4f20\u64ad\u5230\u7a0b\u5e8f\u7684\u6700\u9876\u5c42\uff0c\u5373\u4e3b\u7a0b\u5e8f\uff08\u5168\u5c40\u4f5c\u7528\u57df\uff09\u3002\u5982\u679c\u5728\u4e3b\u7a0b\u5e8f\u4e2d\u4e5f\u6ca1\u6709\u5904\u7406\u5f02\u5e38\u7684\u7a0b\u5e8f\uff0cpython\u5c06\u8c03\u7528\u9ed8\u8ba4\u7684\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\uff0c\u81ea\u52a8\u5339\u914d\u5f02\u5e38\u7684\u7c7b\u578b\uff0c\u7136\u540e\u4e2d\u6b62\u7a0b\u5e8f\u5e76\u663e\u793a\u6808\u8ddf\u8e2a\u4fe1\u606f\u3002</p> <pre><code># \u5728cause_error\u51fd\u6570\u4e2d\u629b\u51fa\u5f02\u5e38\ndef cause_error():\n    raise Exception(\"Somrthing is wrong\")\n\n# \u5728call_cause_error\u51fd\u6570\u4e2d\u8c03\u7528cause_error\u51fd\u6570\ndef call_cause_error():\n    cause_error()\n\ndef deal_error():\n    try:\n        cause_error()\n    except:\n        print(\"Exception handled\")\n\ncall_cause_error()\n</code></pre> <pre><code>---------------------------------------------------------------------------Exception\nTraceback (most recent call last)&lt;ipython-input-1-eb81f11bf5d9&gt; in\n&lt;module&gt;\n----&gt; 1 call_cause_error()\n&lt;ipython-input-1-ec5e029839e0&gt; in call_cause_error()\n      1 def call_cause_error():\n----&gt; 2     cause_error()\n      3\n&lt;ipython-input-1-11326a099618&gt; in cause_error()\n      1 def cause_error():\n----&gt; 2     raise Exception(\"Somrthing is wrong\")\n      3\nException: Somrthing is wrong\n</code></pre> <pre><code>deal_error()\n</code></pre> <pre><code>Exception handled\n</code></pre> <p>\u5982\u4f60\u6240\u89c1\uff0ccause_error\u4e2d\u5f15\u53d1\u7684\u5f02\u5e38\u4f9d\u6b21\u4ececause_error\u548ccall_cause_error\u5411\u5916\u4f20\u64ad\uff0c\u6700\u7ec8\u5bfc\u81f4\u663e\u793a\u4e00\u6761\u6808\u8ddf\u8e2a\u4fe1\u606f\u3002\u8c03\u7528deal_error\u65f6\uff0c\u5f02\u5e38\u5728\u4f20\u64ad\u5230deal_error\u65f6\u88ab\u6355\u83b7\uff0c\u5e76\u88ab\u8fd9\u91cc\u7684try/except\u8bed\u53e5\u5904\u7406\u3002</p> <p>\u5f02\u5e38\u662fPython\u5bf9\u8c61\uff0c\u8868\u793a\u4e00\u4e2a\u9519\u8bef\u3002\u5f02\u5e38\u53ef\u4ee5\u4f5c\u4e3a\u7c7b\u88ab\u5b9a\u4e49, \u4e5f\u53ef\u4ee5\u4eba\u4e3a\u5f15\u53d1\u5f02\u5e38\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.1.%E5%BC%82%E5%B8%B8.html#_2","title":"\u5f02\u5e38\u5904\u7406\u8bed\u53e5","text":"<pre><code>try:                           # try\u8bed\u53e5\u4e2d\u4ee3\u7801\u9996\u5148\u88ab\u8fd0\u884c\n    &lt;statement&gt;       \nexcept\uff1a                        # \u6355\u83b7\u4efb\u4f55\u5728try\u4e2d\u5f15\u53d1\u7684\u5f02\u5e38\n    &lt;statement&gt;        \nexcept &lt;name&gt;\uff1a                 # \u6355\u83b7\u5728try\u4e2d\u5f15\u53d1\u7684&lt;name&gt;\u5f02\u5e38\n    &lt;statement&gt;       \nexcept &lt;name&gt;\uff0c&lt;data&gt;:          # \u5982\u679c\u5f15\u53d1\u4e86'name'\u5f02\u5e38\uff0c\u83b7\u5f97\u9644\u52a0\u7684\u6570\u636e\n    &lt;statement&gt;        \nexcept (&lt;name1&gt;,&lt;name2&gt;...):    # \u6355\u83b7\u5217\u51fa\u7684\u591a\u4e2a\u5f02\u5e38\n    &lt;statement&gt;        \nelse:                           # \u5982\u679c\u6ca1\u6709\u5f02\u5e38\u53d1\u751f\n    &lt;statement&gt;       \nfinally:                        # \u9000\u51fatry\u65f6\u603b\u4f1a\u6267\u884c\n    &lt;statement&gt;    \nraise                           # \u4eba\u4e3a\u5f15\u53d1\u9519\u8bef\nassert &lt;judgement&gt;              # \u65ad\u8a00 \u5224\u65ad\u4e3a\u5047\u7684\u8bdd\u4f1a\u5f15\u53d1AssertionError\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.1.%E5%BC%82%E5%B8%B8.html#raise","title":"raise\u8bed\u53e5","text":"<p>\u4f7f\u7528raise...from...\u8bed\u53e5\u6765\u63d0\u4f9b\u81ea\u5df1\u7684\u5f02\u5e38\u4e0a\u4e0b\u6587\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528None\u6765\u7981\u6b62\u4e0a\u4e0b\u6587\u3002</p> <pre><code># \u9ed8\u8ba4\u8f93\u51fa\u5f02\u5e38\u4e0a\u4e0b\u6587\ntry:\n    1/0\nexcept ZeroDivisionError:\n    raise ValueError\n</code></pre> <pre><code>---------------------------------------------------------------------------ZeroDivisionError\nTraceback (most recent call last)&lt;ipython-input-1-56b5a2b441f0&gt; in\n&lt;module&gt;\n      1 try:\n----&gt; 2     1/0\n      3 except ZeroDivisionError:\nZeroDivisionError: division by zero\nDuring handling of the above exception, another exception occurred:\nValueError                                Traceback (most recent call\nlast)&lt;ipython-input-1-56b5a2b441f0&gt; in &lt;module&gt;\n      2     1/0\n      3 except ZeroDivisionError:\n----&gt; 4     raise ValueError\n      5\nValueError:\n</code></pre> <pre><code># \u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587\ntry:\n    1/0\nexcept ZeroDivisionError:\n    raise ValueError from ZeroDivisionError\n</code></pre> <pre><code>---------------------------------------------------------------------------ZeroDivisionError\nTraceback (most recent call last)ZeroDivisionError:\nThe above exception was the direct cause of the following exception:\nValueError                                Traceback (most recent call\nlast)&lt;ipython-input-1-00ed5b67ecd8&gt; in &lt;module&gt;\n      2     1/0\n      3 except ZeroDivisionError:\n----&gt; 4     raise ValueError from ZeroDivisionError\n      5\nValueError:\n</code></pre> <pre><code># \u7981\u6b62\u4e0a\u4e0b\u6587\ntry:\n    1/0\nexcept ZeroDivisionError:\n    raise ValueError from None\n</code></pre> <pre><code>---------------------------------------------------------------------------ValueError\nTraceback (most recent call last)&lt;ipython-input-1-d9388897f61c&gt; in\n&lt;module&gt;\n      2     1/0\n      3 except ZeroDivisionError:\n----&gt; 4     raise ValueError from None\nValueError:\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.1.%E5%BC%82%E5%B8%B8.html#_3","title":"\u5185\u7f6e\u5f02\u5e38","text":"\u5f02\u5e38\u540d\u79f0 \u63cf\u8ff0 BaseException \u6240\u6709\u5f02\u5e38\u7684\u57fa\u7c7b SystemExit \u89e3\u91ca\u5668\u8bf7\u6c42\u9000\u51fa KeyboardInterrupt \u7528\u6237\u4e2d\u65ad\u6267\u884c(\u901a\u5e38\u662f\u8f93\u5165^C) Exception \u5e38\u89c4\u9519\u8bef\u7684\u57fa\u7c7b StopIteration \u8fed\u4ee3\u5668\u6ca1\u6709\u66f4\u591a\u7684\u503c GeneratorExit \u751f\u6210\u5668(generator)\u53d1\u751f\u5f02\u5e38\u6765\u901a\u77e5\u9000\u51fa StandardError \u6240\u6709\u7684\u5185\u5efa\u6807\u51c6\u5f02\u5e38\u7684\u57fa\u7c7b ArithmeticError \u6240\u6709\u6570\u503c\u8ba1\u7b97\u9519\u8bef\u7684\u57fa\u7c7b FloatingPointError \u6d6e\u70b9\u8ba1\u7b97\u9519\u8bef OverflowError \u6570\u503c\u8fd0\u7b97\u8d85\u51fa\u6700\u5927\u9650\u5236 ZeroDivisionError \u9664(\u6216\u53d6\u6a21)\u96f6 (\u6240\u6709\u6570\u636e\u7c7b\u578b) AssertionError \u65ad\u8a00\u8bed\u53e5\u5931\u8d25 AttributeError \u5bf9\u8c61\u6ca1\u6709\u8fd9\u4e2a\u5c5e\u6027 EOFError \u6ca1\u6709\u5185\u5efa\u8f93\u5165,\u5230\u8fbeEOF \u6807\u8bb0 EnvironmentError \u64cd\u4f5c\u7cfb\u7edf\u9519\u8bef\u7684\u57fa\u7c7b IOError \u8f93\u5165/\u8f93\u51fa\u64cd\u4f5c\u5931\u8d25 OSError \u64cd\u4f5c\u7cfb\u7edf\u9519\u8bef WindowsError \u7cfb\u7edf\u8c03\u7528\u5931\u8d25 ImportError \u5bfc\u5165\u6a21\u5757/\u5bf9\u8c61\u5931\u8d25 LookupError \u65e0\u6548\u6570\u636e\u67e5\u8be2\u7684\u57fa\u7c7b IndexError \u5e8f\u5217\u4e2d\u6ca1\u6709\u6b64\u7d22\u5f15(index) KeyError \u6620\u5c04\u4e2d\u6ca1\u6709\u8fd9\u4e2a\u952e MemoryError \u5185\u5b58\u6ea2\u51fa\u9519\u8bef(\u5bf9\u4e8ePython \u89e3\u91ca\u5668\u4e0d\u662f\u81f4\u547d\u7684) NameError \u672a\u58f0\u660e/\u521d\u59cb\u5316\u5bf9\u8c61 (\u6ca1\u6709\u5c5e\u6027) UnboundLocalError \u8bbf\u95ee\u672a\u521d\u59cb\u5316\u7684\u672c\u5730\u53d8\u91cf ReferenceError \u5f31\u5f15\u7528(Weak reference)\u8bd5\u56fe\u8bbf\u95ee\u5df2\u7ecf\u5783\u573e\u56de\u6536\u4e86\u7684\u5bf9\u8c61 RuntimeError \u4e00\u822c\u7684\u8fd0\u884c\u65f6\u9519\u8bef NotImplementedError \u5c1a\u672a\u5b9e\u73b0\u7684\u65b9\u6cd5 SyntaxError Python \u8bed\u6cd5\u9519\u8bef IndentationError \u7f29\u8fdb\u9519\u8bef TabError Tab \u548c\u7a7a\u683c\u6df7\u7528 SystemError \u4e00\u822c\u7684\u89e3\u91ca\u5668\u7cfb\u7edf\u9519\u8bef TypeError \u5bf9\u7c7b\u578b\u65e0\u6548\u7684\u64cd\u4f5c ValueError \u4f20\u5165\u65e0\u6548\u7684\u53c2\u6570 UnicodeError Unicode \u76f8\u5173\u7684\u9519\u8bef UnicodeDecodeError Unicode \u89e3\u7801\u65f6\u7684\u9519\u8bef UnicodeEncodeError Unicode \u7f16\u7801\u65f6\u9519\u8bef UnicodeTranslateError Unicode \u8f6c\u6362\u65f6\u9519\u8bef Warning \u8b66\u544a\u7684\u57fa\u7c7b DeprecationWarning \u5173\u4e8e\u88ab\u5f03\u7528\u7684\u7279\u5f81\u7684\u8b66\u544a FutureWarning \u5173\u4e8e\u6784\u9020\u5c06\u6765\u8bed\u4e49\u4f1a\u6709\u6539\u53d8\u7684\u8b66\u544a OverflowWarning \u65e7\u7684\u5173\u4e8e\u81ea\u52a8\u63d0\u5347\u4e3a\u957f\u6574\u578b(long)\u7684\u8b66\u544a PendingDeprecationWarning \u5173\u4e8e\u7279\u6027\u5c06\u4f1a\u88ab\u5e9f\u5f03\u7684\u8b66\u544a RuntimeWarning \u53ef\u7591\u7684\u8fd0\u884c\u65f6\u884c\u4e3a(runtime behavior)\u7684\u8b66\u544a SyntaxWarning \u53ef\u7591\u7684\u8bed\u6cd5\u7684\u8b66\u544a UserWarning \u7528\u6237\u4ee3\u7801\u751f\u6210\u7684\u8b66\u544a"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.1.%E5%BC%82%E5%B8%B8.html#_4","title":"\u53c2\u8003","text":"<ol> <li>Python\u5f02\u5e38\u5904\u7406</li> <li>python\u5728\u5f02\u5e38\u6355\u83b7\u91cc\u629b\u51fa\u5f02\u5e38</li> <li>\u5f02\u5e38\u5904\u7406</li> </ol>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.2.%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F.html","title":"3.2.\u547d\u540d\u7a7a\u95f4\u548c\u4f5c\u7528\u57df","text":""},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.2.%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F.html#_1","title":"\u547d\u540d\u7a7a\u95f4","text":"<p>Namespace : namespace \u662f\u4e00\u4e2a\u4ece name \u5230 object \u7684\u6620\u5c04\u3002\u73b0\u5728\u5927\u90e8\u5206\u7684 namespace \u901a\u8fc7Python\u5b57\u51781\u5b9e\u73b0\uff0c\u5c06\u6765\u53ef\u80fd\u4f1a\u6539\u53d8\u5b9e\u73b0\u65b9\u5f0f\u3002</p> <p>namespace\uff1a\u4e2d\u6587\u79f0\u4e3a\u547d\u540d\u7a7a\u95f4\uff0c\u6216\u8005\u540d\u5b57\u7a7a\u95f4\u3002</p> <p>\u547d\u540d\u7a7a\u95f4\u6700\u91cd\u8981\u7684\u4f5c\u7528\u662f\u907f\u514d\u540d\u5b57\u51b2\u7a81\uff0c\u5404\u4e2a\u547d\u540d\u7a7a\u95f4\u662f\u72ec\u7acb\u7684\uff0c\u56e0\u6b64\u4e0d\u540c\u7684\u547d\u540d\u7a7a\u95f4\u53ef\u4ee5\u5b58\u5728\u540c\u540d\u53d8\u91cf\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.2.%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F.html#namespace","title":"Namespace \u7684\u79cd\u7c7b","text":"<p>\u4e00\u822c\u800c\u8a00\uff0cname \u4ea7\u751f\u5730\u70b9\u51b3\u5b9a\u5176\u6240\u5904\u7684 namespace\u3002\u4f8b\u5982\uff0c\u5728\u51fd\u6570\u5185\u5b9a\u4e49\u7684 name \u4f1a\u4f4d\u4e8e\uff08\u51fd\u6570\u7684\uff09\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u3002\u4f46\u4f7f\u7528\u4e86<code>global</code>\u3001<code>nonlocal</code>\u8bed\u53e5\u4f1a\u6539\u53d8\u8fd9\u79cd\u60c5\u51b5\uff0c\u8fd9\u4e2a\u5728\u540e\u9762\u4f1a\u8bf4\u5230\u3002</p> <ol> <li> <p>built-in  namespace\uff1abuiltins \u6a21\u5757\u5b9a\u4e49\u7684\u6240\u6709\u540d\u5b57\u5b58\u5728\u5185\u7f6e\u547d\u540d\u7a7a\u95f4\uff0c\u8fd9\u4e9b\u540d\u5b57\u5305\u62ec\u5185\u7f6e\u51fd\u6570\u3001\u5185\u7f6e\u5f02\u5e38\u3001\u5185\u7f6e\u5e38\u91cf\u3001\u5185\u7f6e\u7c7b\u578b\u3002\u5982\u679c\u662fPython 2\uff0c\u5219\u662f __builtin__ \u6a21\u5757\u3002</p> </li> <li> <p>global namespace\uff1a\u6bcf\u4e2a\u6a21\u5757\u90fd\u6709\u5168\u5c40\u547d\u540d\u7a7a\u95f4\uff0c\u5305\u62ec\u6240\u6709\u5728\u6a21\u5757\u6700\u5916\u5c42\u7684\u4f5c\u7528\u57df\u4e2d\u5b9a\u4e49\u7684\u540d\u5b57\uff0c\u4f8b\u5982\u7c7b\u3001\u51fd\u6570\u3001\u5e38\u91cf\u3001\u88ab\u5bfc\u5165\u7684\u6a21\u5757\u3002</p> </li> <li> <p>local namespace\uff1a\u76f8\u5bf9\u4e8e\u5168\u5c40\u547d\u540d\u7a7a\u95f4\uff0c\u6bcf\u4e00\u4e2a\u5c40\u90e8\u4f5c\u7528\u57df\u90fd\u6709\u4e00\u4e2a\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u3002\u4f8b\u5982\uff0c\u51fd\u6570\u6216\u7c7b\u6240\u5b9a\u4e49\u7684\u547d\u540d\u7a7a\u95f4\uff0c\u8bb0\u5f55\u4e86\u51fd\u6570\u53c2\u6570\u3001\u51fd\u6570\u5185\u7684\u53d8\u91cf\u3001\u7c7b\u5c5e\u6027\u3001\u7c7b\u65b9\u6cd5\u7b49\u3002</p> </li> <li> <p>enclosing namespace\uff1a\u95ed\u5305\u547d\u540d\u7a7a\u95f4\u4e0d\u4ec5\u8bb0\u5f55\u4e86\u5f53\u524d\u5d4c\u5957\u51fd\u6570\u5185\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u8fd8\u8bb0\u5f55\u4e86\u5d4c\u5957\u51fd\u6570\u5f15\u7528\u7684\u5916\u90e8\u53d8\u91cf\u3002</p> </li> </ol>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.2.%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F.html#namespace_1","title":"Namespace\u751f\u547d\u5468\u671f","text":"<p>\u4e0d\u540c\u7c7b\u578b\u7684\u547d\u540d\u7a7a\u95f4\u6709\u4e0d\u540c\u7684\u751f\u547d\u5468\u671f\uff1a</p> <ol> <li>built-in\uff1a\u5728 Python \u89e3\u91ca\u5668\u542f\u52a8\u65f6\u521b\u5efa\uff0c\u89e3\u91ca\u5668\u9000\u51fa\u65f6\u9500\u6bc1</li> <li>global\uff1a\u5728\u6a21\u5757\u5b9a\u4e49\u88ab\u89e3\u91ca\u5668\u8bfb\u5165\u65f6\u521b\u5efa\uff0c\u901a\u5e38\u4e5f\u4f1a\u4e00\u76f4\u4fdd\u5b58\u5230\u89e3\u91ca\u5668\u9000\u51fa\uff0c\u9664\u975e\u4f7f\u7528<code>del</code>\u8bed\u53e5\u3002</li> <li> <p>local\uff1a\u8fd9\u91cc\u8981\u533a\u5206<code>function</code>\u4ee5\u53ca<code>class</code>\u5b9a\u4e49\uff1a</p> <ul> <li> <p>\u51fd\u6570\u7684\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\uff1a\u5728\u51fd\u6570\u8c03\u7528\u65f6\u521b\u5efa\uff0c\u51fd\u6570\u8fd4\u56de\u6216\u8005\u4ea7\u751f\u672a\u88ab\u6355\u83b7\u7684\u5f02\u5e38\u65f6\u9500\u6bc1\u3002</p> </li> <li> <p>\u7c7b\u5b9a\u4e49\u7684\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\uff1a\u5728\u89e3\u91ca\u5668\u8bfb\u5230\u7c7b\u5b9a\u4e49\u521b\u5efa\uff0c\u79bb\u5f00\u7c7b\u5b9a\u4e49\u65f6\u521b\u5efaclass object\u3002\u8fd9\u4e2a\u7c7b\u5bf9\u8c61\u5b9e\u9645\u4e0a\u5c31\u662f\u8fd9\u4e2a\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u7684\u5305\u88c5\uff08\u89c1\u5b98\u65b9\u5bf9\u7c7b\u5b9a\u4e49\u7684\u8bf4\u660e\uff09\u3002</p> </li> </ul> </li> </ol>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.2.%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F.html#namespace_2","title":"\u67e5\u770bNamespace","text":"<ul> <li> <p>\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u53ef\u4ee5\u901a\u8fc7<code>locals()</code>\u6765\u8bbf\u95ee</p> </li> <li> <p>\u5168\u5c40 \uff08\u6a21\u5757\u7ea7\u522b\uff09\u547d\u540d\u7a7a\u95f4\u53ef\u4ee5\u901a\u8fc7<code>globals()</code>\u6765\u8bbf\u95ee</p> </li> </ul> <p>\u867d\u7136\u90fd\u662f\u8fd4\u56de\u547d\u540d\u7a7a\u95f4\uff0c\u4f46<code>globals()</code>\u548c<code>locals()</code>\u6709\u4e00\u70b9\u4e0d\u4e00\u6837\u3002<code>locals()</code>\u8fd4\u56de\u7684\u662f\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u7684\u526f\u672c\uff0c\u6240\u4ee5\u4fee\u6539<code>locals()</code>\u5bf9\u8c61\u5e76\u4e0d\u4f1a\u5f71\u54cd\u5c40\u90e8\u540d\u5b57\u7a7a\u95f4\u3002<code>globals</code>\u8fd4\u56de\u662f\u5168\u5c40\u547d\u540d\u7a7a\u95f4\uff0c\u800c\u4e0d\u662f\u526f\u672c\uff0c\u6240\u4ee5\u4fee\u6539<code>globals()</code>\u5bf9\u8c61\u4f1a\u5f71\u54cd\u5168\u5c40\u547d\u540d\u7a7a\u95f4\u3002</p> <pre><code># \u4fee\u6539\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u65e0\u6548\ndef change_local():\n    x = 123\n    print(\"\u5f53\u524d\u7684\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\", locals(), sep=\"\uff1a\")\n    locals()[\"x\"] = 6789\n    print(\"\u4fee\u6539locals()\uff0c\u5e76\u4e0d\u5f71\u54cdx\u7684\u503c\", f\"x={x}\", sep=\"\uff1a\")\n\nchange_local()\n</code></pre> <pre><code>\u5f53\u524d\u7684\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\uff1a{'x': 123}\n\u4fee\u6539locals()\uff0c\u5e76\u4e0d\u5f71\u54cdx\u7684\u503c\uff1ax=123\n</code></pre> <pre><code># \u4fee\u6539\u5168\u5c40\u547d\u540d\u7a7a\u95f4\u751f\u6548\ny = 123\nglobals()[\"y\"] = 456\nprint(\"\u4fee\u6539\u5168\u5c40\u547d\u540d\u7a7a\u95f4\u751f\u6548\uff1a\", f\"y={y}\")\n</code></pre> <pre><code>\u4fee\u6539\u5168\u5c40\u547d\u540d\u7a7a\u95f4\u751f\u6548\uff1a y=456\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.2.%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F.html#_2","title":"\u4f5c\u7528\u57df","text":"<p>scope : scope \u662fPython\u7a0b\u5e8f\u7684\u4e00\u5757\u6587\u672c\u533a\u57df\uff08\u5373\u4e00\u4e2a\u4ee3\u7801\u533a\u57df\uff09\uff0c\u5728\u8fd9\u4e2a\u533a\u57df\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95eenamespace \u3002</p> <p>\u76f4\u63a5\u8bbf\u95ee\u610f\u5473\u7740\u65e0\u987b\u7279\u6027\u7684\u6307\u660e\u5f15\u7528\u3002\u5728Python\u4e2d\uff0c\u76f4\u63a5\u8bbf\u95ee\u662f\u6307\u76f4\u63a5\u4f7f\u7528name\u8bbf\u95ee\u5bf9\u8c61\uff0c\u5982<code>name</code>\uff0c\u8fd9\u4f1a\u5728\u547d\u540d\u7a7a\u95f4\u641c\u7d22\u540d\u5b57<code>name</code>\uff1b\u800c\u95f4\u63a5\u8bbf\u95ee\u662f\u6307\u4f7f\u7528\u5f62\u5982<code>objname.attrname</code>\u7684\u65b9\u5f0f\uff0c\u5373\u5f15\u7528\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u8fd9\u4e0d\u4f1a\u5728\u547d\u540d\u7a7a\u95f4\u641c\u7d22\u540d\u5b57<code>attrname</code>\uff0c\u800c\u662f\u641c\u7d22\u540d\u5b57<code>objname</code>\uff0c\u518d\u8bbf\u95ee\u5176\u5c5e\u6027\u3002</p> <p>\u6362\u800c\u8a00\u4e4b\uff0c\u4f5c\u7528\u57df\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\u53ef\u4ee5\u53d1\u751f\u4f5c\u7528\u7684\u4ee3\u7801\u533a\u57df\uff0c\u53d1\u751f\u4f5c\u7528\u662f\u6307\u547d\u540d\u7a7a\u95f4\u53ef\u4ee5\u88ab\u4f5c\u7528\u57df\u76f4\u63a5\u8bbf\u95ee\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.2.%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F.html#_3","title":"\u4f5c\u7528\u57df\u4e0e\u547d\u540d\u7a7a\u95f4\u7684\u5173\u7cfb","text":"<p>\u547d\u540d\u7a7a\u95f4\u4fdd\u5b58\u7740\u540d\u5b57\u5230\u5bf9\u8c61\u7684\u6620\u5c04\uff0c\u6620\u5c04\u5173\u7cfb\u5728\u4f5c\u7528\u57df\u4e2d\u88ab\u5b9a\u4e49\uff0c\u540c\u65f6\u4f5c\u7528\u57df\u53ef\u4ee5\u901a\u8fc7\u5f15\u7528\u547d\u540d\u7a7a\u95f4\u7684\u540d\u5b57\u8bbf\u95ee\u5bf9\u8c61\u3002\u4ee3\u7801\u533a\u57df\u53ef\u4ee5\u76f4\u63a5\u5f15\u7528\u54ea\u4e2a\u547d\u540d\u7a7a\u95f4\u4e2d\u7684\u540d\u5b57\uff0c\u5b83\u4e5f\u5c31\u662f\u54ea\u4e2a\u547d\u540d\u7a7a\u95f4\u7684\u4f5c\u7528\u57df\u3002\u6709\u4e9b\u4ee3\u7801\u533a\u57df\u53ef\u4ee5\u8bbf\u95ee\u591a\u4e2a\u547d\u540d\u7a7a\u95f4\u7684\u540d\u5b57\uff0c\u90a3\u4e48\u5b83\u540c\u65f6\u662f\u591a\u4e2a\u547d\u540d\u7a7a\u95f4\u7684\u4f5c\u7528\u57df\u3002</p> <p>\u4f5c\u7528\u57df\u662f\u9759\u6001\u7684\uff08\u5b83\u53ea\u662f\u4ee3\u7801\u6587\u672c\uff09\uff0c\u800c\u547d\u540d\u7a7a\u95f4\u662f\u52a8\u6001\u7684\uff0c\u547d\u540d\u7a7a\u95f4\u968f\u7740\u89e3\u91ca\u5668\u7684\u6267\u884c\u800c\u4ea7\u751f\u3002</p> <p>\u6709\u4e9b\u6587\u7ae0\u8ba4\u4e3a\u52a8\u6001\u7684\u4f5c\u7528\u57df\u5c31\u662f\u547d\u540d\u7a7a\u95f4\u3002\u5176\u5b9e\u5e76\u4e0d\u662f\uff0c\u547d\u540d\u7a7a\u95f4\u662f\u4e00\u79cd\u6620\u5c04\uff0c\u4f5c\u7528\u57df\u662f\u4e00\u5757\u4ee3\u7801\u533a\u57df\u3002</p> <p>Python\u5bf9\u8c61\u901a\u8fc7\u547d\u540d\u7a7a\u95f4\u88ab\u8bbf\u95ee\uff0c\u800c\u4f5c\u7528\u57df\u5219\u9650\u5236\u4e86Python\u5bf9\u8c61\u7684\u4f7f\u7528\u8303\u56f4\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.2.%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F.html#legb","title":"\u540d\u5b57\u641c\u7d22\u987a\u5e8f\uff08LEGB\uff09","text":"<p>\u5f53\u4e00\u884c\u4ee3\u7801\u9700\u8981\u4f7f\u7528\u540d\u5b57<code>X</code>\u6240\u5bf9\u5e94\u7684\u503c\uff0cPython\u4f1a\u4ece\u5f53\u524d\u5c42\u7ea7\u7684Namespace\u5f00\u59cb\uff0c\u5e76\u6839\u636e\u4ee5\u4e0b\u987a\u5e8f\uff0c\u53bb\u67e5\u627e\u540d\u5b57<code>X</code>\uff1a</p> <ol> <li>local namespace\uff1a\u5305\u542b\u5c40\u90e8\u540d\u5b57\u7684\u6700\u5185\u5c42\uff08innermost\uff09\u4f5c\u7528\u57df\uff0c\u5982\u51fd\u6570\u3001\u65b9\u6cd5\u3001\u7c7b\u7684\u5185\u90e8\u5c40\u90e8\u4f5c\u7528\u57df\u3002</li> <li>Enclosing\uff1a\u6839\u636e\u5d4c\u5957\u5c42\u6b21\u4ece\u5185\u5230\u5916\u641c\u7d22\uff0c\u5305\u542b\u975e\u5c40\u90e8\uff08nonlocal\uff09\u975e\u5168\u5c40\uff08nonglobal\uff09\u540d\u5b57\u7684\u4efb\u610f\u5c01\u95ed\u51fd\u6570\u7684\u4f5c\u7528\u57df\u3002\u5982\u4e24\u4e2a\u5d4c\u5957\u7684\u51fd\u6570\uff0c\u5185\u5c42\u51fd\u6570\u7684\u4f5c\u7528\u57df\u662f\u5c40\u90e8\u4f5c\u7528\u57df\uff0c\u5916\u5c42\u51fd\u6570\u4f5c\u7528\u57df\u5c31\u662f\u5185\u5c42\u51fd\u6570\u7684 Enclosing \u4f5c\u7528\u57df\u3002</li> <li>global</li> <li>built-in</li> <li>NameError\uff1a\u5982\u679c Python \u5728\u4ee5\u4e0a4\u4e2anamespace\u627e\u4e0d\u5230<code>X</code>\uff0c\u5c06\u653e\u5f03\u641c\u7d22\u5e76\u629b\u51fa NameError \u5f02\u5e38\uff1a<code>NameError: name 'a' is not defined</code></li> </ol> <p></p> <p>\u7a0b\u5e8f\u5728\u8fd0\u884c\u65f6\uff0clocal\u3001global\u3001built-in\u4e09\u4e2anamespace\u4e00\u5b9a\u5b58\u5728\uff0c\u4f46Enclosing namespace\u4e0d\u4e00\u5b9a\u5b58\u5728\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.2.%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F.html#namespacescope","title":"Namespace\u548cscope\u603b\u7ed3","text":"<ol> <li>\u4e0d\u80fd\u5728\u540d\u5b57\u672a\u5b9a\u4e49\u524d\u5f15\u7528\u8be5\u540d\u5b57\uff08\u547d\u540d\u7a7a\u95f4\u4e0d\u5b58\u5728\u8be5\u6620\u5c04\u5173\u7cfb\uff09\u3002</li> <li>built-in\u3001global\u4e24\u4e2a\u547d\u540d\u7a7a\u95f4\u7684\u5f15\u5165\u662f\u4e0d\u80fd\u591f\u901a\u8fc7\u4ee3\u7801\u64cd\u4f5c\u7684\uff0cPython \u89e3\u91ca\u5668\u4f1a\u81ea\u52a8\u5f15\u5165\u5b83\u4eec\u3002\u6ce8\u610f\uff0c\u8fd9\u91cc\u8bf4\u7684\u662f\u5f15\u5165\uff0c\u800c\u4e0d\u662f\u4fee\u6539\u3002built-in\u547d\u540d\u7a7a\u95f4\u662f\u4e0d\u80fd\u88ab\u4fee\u6539\u7684\uff08\u5df2\u7ecf\u9884\u5b9a\u4e49\u597d\uff09\uff0c\u4f46global\u547d\u540d\u7a7a\u95f4\u53ef\u4ee5\u88abPython\u4ee3\u7801\u4fee\u6539\u3002</li> <li>\u7c7b\u5b9a\u4e49\u3001\u51fd\u6570\u5b9a\u4e49\u3001\u63a8\u5bfc\u5f0f\u4f1a\u5f15\u5165local\u547d\u540d\u7a7a\u95f4 \uff0c\u95ed\u5305\u51fd\u6570\u5b9a\u4e49\u4f1a\u5f15\u5165enclosing\u547d\u540d\u7a7a\u95f4\u3002</li> <li> <p>\u4f1a\u5bfc\u81f4\u547d\u540d\u7a7a\u95f4\u88ab\u4fee\u6539\u7684\u60c5\u51b5\uff1a</p> <ul> <li> <p>\u7c7b\u5b9a\u4e49\u3001\u51fd\u6570\u5b9a\u4e49</p> </li> <li> <p>\u8d4b\u503c\u8bed\u53e5</p> </li> <li> <p><code>import</code>\u8bed\u53e5\u3001<code>if</code>\u8bed\u53e5\u3001<code>for</code>\u8bed\u53e5\u3001<code>while</code>\u8bed\u53e5</p> </li> </ul> </li> <li> <p><code>if</code>\u3001<code>for</code>\u3001<code>while</code>\u8bed\u53e5\u5e76\u4e0d\u4f1a\u5f15\u5165\u65b0\u7684\u547d\u540d\u7a7a\u95f4\u3002</p> </li> <li>\u4f5c\u7528\u8303\u56f4\u6700\u5927\u7684\u547d\u540d\u7a7a\u95f4\u662fglobal namespace\uff0c\u4f46global namespace\u4e5f\u53ea\u662f\u6a21\u5757\u7ea7\u522b\u7684\u3002<code>a</code>\u6a21\u5757\u4e0d\u80fd\u76f4\u63a5\u5f15\u7528\u5728<code>b</code>\u6a21\u5757\u5b9a\u4e49\u7684name\uff0c\u5373\u4f7f<code>a</code>\u6a21\u5757\u5df2\u7ecf\u5bfc\u5165\u4e86\u6574\u4e2a<code>b</code>\u6a21\u5757\uff1a<code>import b</code>\u3002\u9664\u975e\u76f4\u63a5\u5bfc\u5165name\uff1a<code>from b import name</code>\u3002</li> <li>\u5bfc\u5165<code>b</code>\u6a21\u5757\u4e2d\u5176\u4e2d\u4e00\u4e2aname\uff1a<code>from b import name</code>\uff0c\u6574\u4e2a<code>b</code>\u6a21\u5757\u90fd\u4f1a\u88ab\u6267\u884c\u3002\u56e0\u4e3a Python \u5e76\u4e0d\u77e5\u9053<code>name</code>\u5728 b.py \u6587\u6863\u7684\u4f55\u5904\uff0c\u4e3a\u4e86\u80fd\u591f\u627e\u5230 <code>name</code>\uff0cPython \u9700\u8981\u6267\u884c\u6574\u4e2a b.py\u3002</li> <li><code>import</code>\u8bed\u53e5\u4e0d\u4e00\u5b9a\u4f1a\u6539\u53d8global namespace\uff0c\u4f8b\u5982<code>import</code>\u8bed\u53e5\u5199\u5728\u51fd\u6570\u5185\u3002</li> <li>\u6839\u636eLEGB\u641c\u7d22\u89c4\u5219\uff0c\u5916\u5c42\u4f5c\u7528\u57df\u4e0d\u80fd\u5f15\u7528\u5185\u5c42\u4f5c\u7528\u57df\u7684\u53d8\u91cf\u3002</li> </ol> <pre><code>def try_to_define_name():\n'''\u51fd\u6570\u4e2d\u5b9a\u4e49\u4e86\u540d\u5b57i\uff0c\u5e76\u7ed1\u5b9a\u4e86\u4e00\u4e2a\u6574\u6570\u5bf9\u8c611'''\n    i = 1\n# \u5f15\u7528\u540d\u5b57i\u4e4b\u524d\uff0c\u5148\u8c03\u7528\u51fd\u6570\u5b9a\u4e49i\ntry_to_define_name()\n# \u5728\u5f15\u7528\u540d\u5b57i\u4e4b\u524d\uff0c\u660e\u660e\u8c03\u7528\u4e86\u51fd\u6570\uff0c\u5b9a\u4e49\u4e86\u540d\u5b57i\uff0c\u53ef\u662f\u8fd8\u662f\u627e\u4e0d\u5230\u8fd9\u4e2a\u540d\u5b57\u3002\nprint(i)\n</code></pre> <pre><code>NameError: name 'i' is not defined\n</code></pre> <p>\u867d\u7136\u5b9a\u4e49\u4e86\u540d\u5b57<code>i</code>\uff0c\u4f46\u662f\u5b9a\u4e49\u5728\u4e86\u51fd\u6570\u7684\u5c40\u90e8\u4f5c\u7528\u57df\u5bf9\u5e94\u7684\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u4e2d\uff0c\u6309\u7167<code>LEGB</code>\u641c\u7d22\u89c4\u5219\uff0c\u5728\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u81ea\u7136\u8bbf\u95ee\u4e0d\u5230\u5c40\u90e8\u4f5c\u7528\u57df\u7684\u547d\u540d\u7a7a\u95f4\uff1b\u518d\u8005\uff0c\u51fd\u6570\u8c03\u7528\u7ed3\u675f\u540e\uff0c\u8fd9\u4e2a\u547d\u540d\u7a7a\u95f4\u88ab\u9500\u6bc1\u4e86\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.2.%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F.html#global-nonlocal","title":"<code>global</code>\u548c <code>nonlocal</code>","text":"<p>\u6839\u636eLEGB\u641c\u7d22\u89c4\u5219\uff0c\u4efb\u4f55\u65f6\u5019\uff0cPython\u7a0b\u5e8f\u90fd\u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6\u5168\u5c40\u53d8\u91cf\uff0c\u4f46\u662f\u5374\u4e0d\u53ef\u4ee5\u5728\u5185\u5c42\u4f5c\u7528\u57df\u76f4\u63a5\u6539\u5199\u4e0a\u5c42\u53d8\u91cf\u3002 </p> <p>\u53ef\u4ee5\u8bfb\u53d6\u5168\u90e8\u53d8\u91cf\uff0c\u8fd9\u5bb9\u6613\u7406\u89e3\uff0c\u56e0\u4e3a\u4efb\u4f55\u65f6\u5019\uff0cglobal namespace\u90fd\u53ef\u4ee5\u88ab\u8bbf\u95ee\u3002\u4f46\u4e3a\u4ec0\u4e48\u5728\u5185\u5c42\u4f5c\u7528\u57df\u5168\u5c40\u53d8\u91cf\u53ef\u4ee5\u88ab\u8bbf\u95ee\uff0c\u5374\u4e0d\u80fd\u88ab\u4fee\u6539\u5462\uff1f\u8fd9\u770b\u8d77\u6765\u50cf\u662fPython\u7684\u4e00\u4e2a\u89c4\u5b9a\uff0c\u4f46\u5176\u5b9e\u662f\u5f88\u81ea\u7136\u7684\u4e8b\u60c5\u3002\u5728Python\u4e2d\u4fee\u6539\u53d8\u91cf\u610f\u5473\u7740\u5c06\u4e00\u4e2a\u540d\u5b57\u7ed1\u5b9a\u5230\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u9700\u8981\u4f7f\u7528assignment\u8fd0\u7b97\u7b26<code>=</code>\u3002\u8fd9\u610f\u5473\u7740<code>=</code>\u5de6\u8fb9\u7684\u540d\u5b57\u4f1a\u88ab\u52a0\u5165\u5f53\u524d\u7684\u547d\u540d\u7a7a\u95f4\uff0c\u540d\u5b57\u5bf9\u5e94\u7740<code>=</code>\u53f3\u8fb9\u7684\u5bf9\u8c61\u3002</p> <p>\u4f8b\u5982\u4e0b\u9762\u7684\u4ee3\u7801\uff1a</p> <pre><code>a = 1\ndef change_a():\n    a = 10\nchange_a()\na # 1\n</code></pre> <pre><code>1\n</code></pre> <p><code>a = 10</code>\u8bed\u53e5\u5728\u51fd\u6570\u4f5c\u7528\u57df\u4e2d\uff0c\u5f53\u5b83\u88abPython\u6267\u884c\u65f6\uff0cPython\u4f1a\u5c06<code>a</code>\u52a0\u5165\u51fd\u6570\u7684\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\uff0c\u800c\u4e0d\u4f1a\u5c06<code>a</code>\u89c6\u4f5c\u5168\u5c40\u547d\u540d\u7a7a\u95f4\u7684<code>a</code>\u3002\u5f53\u6211\u4eec\u5728\u6700\u5916\u5c42\u4f5c\u7528\u57df\u5f15\u7528<code>a</code>\u65f6\uff0c\u6309\u7167LEGB\u641c\u7d22\u89c4\u5219\uff0cPython\u4f1a\u4ece<code>a</code>\u6240\u5728\u7684\u4f5c\u7528\u57df\u5bf9\u5e94\u7684\u547d\u540d\u7a7a\u95f4\uff08\u5373\u5168\u5c40\u547d\u540d\u7a7a\u95f4\uff09\u5f00\u59cb\u641c\u7d22<code>a</code>\u5bf9\u5e94\u7684\u5bf9\u8c61\uff0c\u800c\u4e0d\u4f1a\u641c\u7d22\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u3002\u518d\u8005\uff0c\u6b64\u65f6\u51fd\u6570<code>change_a()</code>\u6267\u884c\u5b8c\u4e4b\u540e\uff0c\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u5df2\u7ecf\u88ab\u9500\u6bc1\uff0c\u5373\u4f7f\u60f3\u641c\u7d22\u4e5f\u641c\u7d22\u4e0d\u5230\u3002</p> <p>\u76f8\u4fe1\u4f60\u4ece\u4e0a\u9762\u7684\u53d9\u8ff0\u5df2\u7ecf\u610f\u8bc6\u5230\uff0c\u5982\u679c\u60f3\u8ba9Python\u5728\u5185\u5c42\u4f5c\u7528\u57df\u4fee\u6539\u5916\u5c42\u4f5c\u7528\u57df\u7684\u53d8\u91cf\uff0c\u90a3\u5c31\u9700\u8981\u8ba9Python\u77e5\u9053\u8fd9\u4e2a\u53d8\u91cf\u6765\u81ea\u5916\u5c42\u4f5c\u7528\u57df\u3002<code>global</code>\u8bed\u53e5\u548c<code>nonlocal</code>\u8bed\u53e5\u6b63\u662f\u53ef\u4ee5\u8d77\u5230\u8fd9\u6837\u7684\u4f5c\u7528\u3002</p> <p><code>global</code>\u8bed\u53e5\u58f0\u660e\u5217\u5728\u5176\u540e\u7684\u6240\u6709\u6807\u8bc6\u7b26\u5c06\u88ab\u89e3\u6790\u4e3a\u5168\u5c40\u53d8\u91cf\u3002 \u4f7f\u7528global\u65f6\u6709\u4ee5\u4e0b\u4e24\u6761\u9650\u5236\uff1a</p> <ol> <li>\u5728\u540c\u4e00\u4ee3\u7801\u5757\u4e2d\uff0c\u5217\u5728global\u8bed\u53e5\u4e2d\u7684\u6240\u6709\u6807\u8bc6\u7b26\u4e0d\u80fd\u5728\u8be5global\u8bed\u53e5\u524d\u51fa\u73b0\u3002</li> <li>\u5217\u5728global \u8bed\u53e5\u540e\u7684\u6807\u8bc6\u7b26\u4e0d\u80fd\u88ab\u5b9a\u4e49\u6210\u5f62\u53c2\uff0c\u4e0d\u80fd\u51fa\u73b0\u5728for\u5faa\u73af\u63a7\u5236\u7684\u76ee\u6807\u3001\u7c7b\u5b9a\u4e49\u548c\u51fd\u6570\u5b9a\u4e49\uff0c\u6216\u8005import\u8bed\u53e5\u4e2d\u3002</li> </ol> <p>CPython\u5b9e\u73b0\u7ec6\u8282</p> <p>\u5f53\u524d\u5b9e\u73b0\u5e76\u672a\u5f3a\u5236\u5c65\u884c\u4e0a\u9762\u4e24\u6761\u9650\u52362\uff0c\u4f46\u7a0b\u5e8f\u4e0d\u5e94\u8be5\u6ee5\u7528\u8fd9\u79cd\u81ea\u7531\uff0c\u56e0\u4e3a\u672a\u6765\u7684\u7248\u672c\u53ef\u80fd\u4f1a\u5f3a\u5236\u5c65\u884c\u5b83\u4eec\u6216\u8005\u4e0d\u7559\u75d5\u8ff9\u7684\u6539\u53d8\u7a0b\u5e8f\u542b\u4e49\u3002</p> <p><code>nonlocal</code>\u8bed\u53e5\u58f0\u660e\u5217\u5728\u5176\u540e\u7684\u6240\u6709\u6807\u8bc6\u7b26\u5173\u8054\u5230\u6700\u8fd1\u7684 enclosing \u4f5c\u7528\u57df\u91cc\u5b9a\u4e49\u8fc7\u7684\u540c\u540d\u53d8\u91cf\uff08\u4e0d\u5305\u62ec\u5168\u5c40\u53d8\u91cf\uff0c\u53ea\u662f\u6700\u8fd1\u7684 enclosing \u4f5c\u7528\u57df\u7684\u53d8\u91cf\uff09\u3002 </p> <pre><code>def scope_test():\n    def do_local():\n        spam = \"local spam of do_local\"\n\n    def do_nonlocal():\n        nonlocal spam\n        spam = \"nonlocal spam of do_nonlocal\"\n\n    def do_global():\n        global spam\n        spam = \"global spam of do_global\"\n\n    spam = \"test spam of scope_test\"\n\n    # do_local\u51fd\u6570\u5185\u90e8\u7684\u8d4b\u503c\u4e0d\u5f71\u54cdscope_test\u4f5c\u7528\u57df\u7684spam\n    do_local()\n    print(\"After local assignment:\", spam)\n\n    # do_nonlocal\u51fd\u6570\u5185\u90e8\u7684\u8d4b\u503c\u5f71\u54cdscope_test\u4f5c\u7528\u57df\u7684spam\uff0c\u4f46\u662f\u4e0d\u5f71\u54cd\u5168\u5c40\u7684spam\n    do_nonlocal()\n    print(\"After nonlocal assignment:\", spam)\n\n    # do_global \u51fd\u6570\u5185\u58f0\u660e\u7684spam\u5b58\u5728\u4e8e\u5168\u5c40\u4f5c\u7528\u57df\uff0c\u800c\u4e0d\u5f71\u54cdscope_test\u4f5c\u7528\u57df\u7684\n    do_global()\n    print(\"After global assignment:\", spam)\n\nscope_test()\nprint(\"In global scope:\", spam)\n</code></pre> <pre><code>After local assignment: test spam of scope_test\nAfter nonlocal assignment: nonlocal spam of do_nonlocal\nAfter global assignment: nonlocal spam of do_nonlocal\nIn global scope: global spam of do_global\n</code></pre> <p><code>nonlocal</code>\u8bed\u53e5\u548c<code>global</code>\u8bed\u53e5\u6709\u4e24\u4e2a\u4e0d\u540c\u70b9\uff1a</p> <p>\u5176\u4e00\uff0c<code>global</code>\u8bed\u53e5\u53ea\u662f\u58f0\u660e\u6807\u8bc6\u7b26\u6765\u5b58\u5728\u4e8e\u5168\u5c40\u547d\u540d\u7a7a\u95f4\uff0c\u5e76\u4e0d\u4f1a\u5728\u5f53\u524d\u4f5c\u7528\u57df\u521b\u5efa\u8be5\u6807\u8bc6\u7b26\uff1b<code>nonlocal</code> \u8bed\u53e5\u5219\u4f1a\u5728\u5b50\u51fd\u6570\u547d\u540d\u7a7a\u95f4\u4e2d\u521b\u5efa\u4e0e\u7236\u51fd\u6570\u53d8\u91cf\u540c\u540d\u7684\u6807\u8bc6\u7b26\uff1a</p> <pre><code>gv = 'a global var'\n\ndef func():\n    global gv\n    lv = 'a local var'\n    print(locals())\n    def inn_func():\n        nonlocal lv\n        global gv\n        print(locals())\n    return inn_func\n\na = func()\na()\n</code></pre> <pre><code>{'lv': 'a local var'}\n{'lv': 'a local var'}\n</code></pre> <p>\u4e4b\u6240\u4ee5 <code>nonlocal</code> \u8bed\u53e5\u4e0e <code>global</code> \u8bed\u53e5\u7684\u5904\u7406\u4e0d\u540c\uff0c\u662f\u56e0\u4e3a\u5168\u5c40\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u751f\u5b58\u671f\u5f88\u957f\uff0c\u5728\u6a21\u5757\u5185\u968f\u65f6\u90fd\u53ef\u4ee5\u8bbf\u95ee\uff0c\u800c\u7236\u51fd\u6570\u7684\u5c40\u90e8\u4f5c\u7528\u57df\u5728\u7236\u51fd\u6570\u6267\u884c\u5b8c\u6bd5\u540e\u4fbf\u4f1a\u76f4\u63a5\u91ca\u653e\uff0c\u56e0\u6b64 <code>nonlocal</code> \u8bed\u53e5\u5fc5\u987b\u5c06\u7236\u51fd\u6570\u7684\u6807\u8bc6\u7b26\u548c\u5f15\u7528\u5199\u5165enclosing namespace\u3002</p> <p>\u5176\u4e8c\uff0c<code>global</code>\u8bed\u53e5\u53ef\u4ee5\u58f0\u660e\u5168\u5c40\u4f5c\u7528\u57df\u8fd8\u6ca1\u5b58\u5728\u7684\u540d\u5b57\uff0c\u800c<code>nonlocal</code>\u8bed\u53e5\u53ea\u80fd\u5c06\u5b83\u58f0\u660e\u7684\u540d\u5b57\u5173\u8054\u5230enclosing\u4f5c\u7528\u57df\u4e2d\u5df2\u7ecf\u5b58\u5728\u7684\u7ed1\u5b9a\uff1a</p> <pre><code># nonlocal \u8bed\u53e5\u4e4b\u524d\u7684eclosing\u4f5c\u7528\u57df\u4e0d\u5b58\u5728spam \u5219\u62a5\u9519\ndef scope_test():\n    def do_nonlocal():\n        # \u7236\u51fd\u6570\u4f5c\u7528\u57df\u8981\u5148\u5b9a\u4e49spam\uff0c\u5426\u5219\u62a5\u9519\n        nonlocal spam\n        spam = \"nonlocal spam of do_nonlocal\"\n\nscope_test()\n</code></pre> <pre><code>  File \"&lt;ipython-input-1-e77162de9535&gt;\", line 5\n    nonlocal spam\n    ^\nSyntaxError: no binding for nonlocal 'spam' found\n</code></pre> <p><code>nonlocal</code>\u8bed\u53e5\u53ea\u80fd\u58f0\u660e\u7684\u540d\u5b57\u4f1a\u7ed1\u5b9a\u5230\u79bb<code>nonlocal</code>\u8bed\u53e5\u6700\u8fd1\u7684enclosing \u4f5c\u7528\u57df\uff08\u5982\u679cenclosing \u4f5c\u7528\u57df\u5b58\u5728<code>nonlocal</code>\u8bed\u53e5\u58f0\u660e\u7684\u540d\u5b57\uff09\uff1a</p> <pre><code>def scope_test():\n    spam = \"local spam of scope_test\"\n\n    def do_local():\n        spam = \"local spam of do_local\"\n        print(\"After local assignment:\", spam)\n\n        def do_nonlocal():\n            # \u901a\u8fc7nonlocal\u58f0\u660e\u5c06spam\u548c\u6700\u8fd1\u7684enclosing\u4f5c\u7528\u57df\u7684spam\u5173\u8054\n            # \u6240\u4ee5\u5173\u8054\u7684\u662fdo_local\u51fd\u6570\u7684spam\n            nonlocal spam\n            spam = \"nonlocal spam of do_nonlocal\"\n\n        do_nonlocal()\n        print(\"After nonlocal assignment:\",spam)\n\n    do_local()\n    print(\"After nonlocal assignment, scope_test's spam:\",spam)\n\nscope_test()\n</code></pre> <pre><code>After local assignment: local spam of do_local\nAfter nonlocal assignment: nonlocal spam of do_nonlocal\nAfter nonlocal assignment, scope_test's spam: local spam of scope_test\n</code></pre> <p>\u56e0\u6b64<code>nonlocal</code>\u8bed\u53e5\u91cd\u65b0\u7ed1\u5b9a\u7684name\u7684\u771f\u5b9e\u4f5c\u7528\u57df\u662f\u4e0d\u6e05\u695a\u7684\uff0c\u8fd9\u53d6\u51b3\u4e8e\u5df2\u7ecf\u5b58\u5728\u7684name\u672c\u6765\u4f4d\u4e8e\u90a3\u4e00\u5c42\u4f5c\u7528\u57df\u3002</p> <p><code>nonlocal</code>\u8bed\u53e5\u548c<code>global</code>\u8bed\u53e5\u6709\u4e00\u4e2a\u76f8\u540c\u70b9\uff1a</p> <p>\u5f53\u524d\u4f5c\u7528\u57df\u4e0d\u80fd\u5728<code>nonlocal</code>\u8bed\u53e5\u548c<code>global</code>\u8bed\u53e5\u4e4b\u524d\u7ed1\u5b9a\u4e24\u8005\u58f0\u660e\u7684\u6807\u8bc6\u7b26\uff1a</p> <pre><code># global\ndef scope_test():\n    spam = \"conflict\"\n\n    global spam\n    spam = \"nonlocal spam of do_nonlocal\"\n\nscope_test()\n\n# nonlocal\ndef scope_test():\n    spam = \"local spam of scope_test\"\n\n    def do_nonlocal():\n        spam = \"conflict\"\n        nonlocal spam\n        spam = \"nonlocal spam of do_nonlocal\"\n\n    do_nonlocal()\n    print(\"After nonlocal assignment, scope_test's spam:\",spam)\n\nscope_test()\n</code></pre> <pre><code>  File \"&lt;ipython-input-1-d9548726e53c&gt;\", line 5\n    global spam\n    ^\nSyntaxError: name 'spam' is assigned to before global declaration\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.2.%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F.html#_4","title":"\u7c7b\u7684\u4f5c\u7528\u57df\u548c\u547d\u540d\u7a7a\u95f4","text":"<p>\u7c7b\u5b9a\u4e49\u7684\u4f5c\u7528\u57df\u548c\u51fd\u6570\u5b9a\u4e49\u7684\u4f5c\u7528\u57df\u90fd\u53ef\u4ee5\u4ea7\u751f\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\uff0c\u4f46\u5b83\u4eec\u6267\u884c\u673a\u5236\u4e0d\u4e00\u6837\uff0c\u6709\u4e0d\u5c0f\u7684\u533a\u522b\u3002</p> <p>\u5176\u4e00\uff0c\u51fd\u6570\u521d\u59cb\u5316\u65f6\u4e0d\u4f1a\u88ab\u6267\u884c\uff0c\u7c7b\u521d\u59cb\u5316\u65f6\u4f1a\u88ab\u6267\u884c\u3002</p> <p>Python\u8bfb\u5165\u51fd\u6570\u5b9a\u4e49\u65f6\uff0c\u51fd\u6570\u4e0d\u4f1a\u88ab\u6267\u884c\uff1a</p> <pre><code>def func():\n    print(\"executed\")\n</code></pre> <p>Python\u8bfb\u5165\u7c7b\u5b9a\u4e49\u65f6\uff0c\u7c7b\u4f5c\u7528\u57df\u7684\u4ee3\u7801\u4f1a\u88ab\u6267\u884c\uff1a</p> <pre><code>class A:\n    print(\"executed_A\")\n\n    def A_func(self):\n        print(\"executed_A_func\")\n\n    class B:\n        print(\"executed_B\")\n\n        class C:\n            print(\"executed_C\")\n</code></pre> <pre><code>executed_A\nexecuted_B\nexecuted_C\n</code></pre> <p>\u8fd9\u770b\u8d77\u6765\u611f\u89c9\u6709\u70b9\u4e0d\u53ef\u601d\u8bae\uff0c\u5927\u5bb6\u90fd\u662f\u5b9a\u4e49\uff0c\u4e3a\u4ec0\u4e48\u7c7b\u5b9a\u4e49\u4f1a\u88ab\u6267\u884c\uff0c\u96be\u9053\u4e0d\u5e94\u8be5\u662f\u5b9a\u4e49\u88ab\u5f15\u7528\u65f6\u624d\u6267\u884c\u5417\uff1f</p> <p>\u5176\u5b9e\u8fd9\u4e5f\u662f\u5f88\u81ea\u7136\u7684\u4e8b\u60c5\u3002Python\u89e3\u91ca\u5668\u8bfb\u5165\u51fd\u6570\u5b9a\u4e49\u65f6\uff0c\u53ea\u9700\u8981\u5728\u5f53\u524d\u547d\u540d\u7a7a\u95f4\u7ed1\u5b9a\u51fd\u6570\u540d\uff0c\u4e0d\u9700\u8981\u521b\u5efa\u51fd\u6570\u7684\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\uff0c\u81ea\u7136\u4e0d\u9700\u8981\u6267\u884c\u51fd\u6570\u4f5c\u7528\u57df\u7684\u4ee3\u7801\u3002</p> <p>\u547d\u540d\u7a7a\u95f4\u7684\u52a8\u6001\u6027\uff1a\u547d\u540d\u7a7a\u95f4\u5728\u4f5c\u7528\u57df\u88ab\u6267\u884c\u65f6\u624d\u4ea7\u751f\u3002</p> <p>\u800c\u7c7b\u5b9a\u4e49\u5b9e\u9645\u4e0a\u662f\u7c7b\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u7684\u5305\u88c5\uff0c\u56e0\u6b64Python\u89e3\u91ca\u5668\u8bfb\u5165\u7c7b\u5b9a\u4e49\u65f6\uff0c\u4e0d\u4ec5\u9700\u8981\u5728\u5f53\u524d\u547d\u540d\u7a7a\u95f4\u7ed1\u5b9a\u7c7b\u540d\uff0c\u8fd8\u9700\u8981\u521b\u5efa\u7c7b\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u3002\u800c\u547d\u540d\u7a7a\u95f4\u5728\u4f5c\u7528\u57df\u88ab\u6267\u884c\u65f6\u624d\u4f1a\u4ea7\u751f\uff0c\u56e0\u6b64\u7c7b\u5b9a\u4e49\u9700\u8981\u5728\u8bfb\u5165\u7684\u65f6\u5019\u5c31\u88ab\u6267\u884c\u3002\u6ce8\u610f\uff1a\u7c7b\u65b9\u6cd5\u5185\u7684\u4f5c\u7528\u57df\u548c\u51fd\u6570\u4e00\u6837\uff0c\u662f\u4e0d\u4f1a\u88ab\u6267\u884c\u7684\u3002</p> <p>\u4e3a\u4ec0\u4e48\u8bfb\u5165\u7c7b\u5b9a\u4e49\u5c31\u9700\u8981\u521b\u5efa\u7c7b\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\uff1f</p> <p>\u56e0\u4e3a\u7c7b\u5177\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u521b\u5efa\u7c7b\u5c5e\u6027\u5c31\u5fc5\u987b\u6267\u884c\u4ee3\u7801\uff08\u8fdb\u884c\u8d4b\u503c\uff09\u3002\u90a3\u4e3a\u4ec0\u4e48\u5728\u8bfb\u5165\u7c7b\u5b9a\u4e49\u5c31\u521b\u5efa\u7c7b\u5c5e\u6027\u5462\uff1f\u56e0\u4e3a\u7c7b\u662f\u521b\u5efa\u5b9e\u4f8b\u3001\u751f\u6210\u5176\u4ed6\u7c7b\uff08\u6d89\u53ca\u7ee7\u627f\u3001\u91cd\u8f7d\u7b49\uff09\u7684\u5bf9\u8c61\uff0c\u5fc5\u987b\u5728\u5b9e\u4f8b\u4e4b\u524d\u88ab\u521b\u5efa\uff0c\u5728\u4ee3\u7801\u52a0\u8f7d\u65f6\u5c31\u88ab\u521b\u5efa\u6709\u52a9\u4e8e\u63d0\u9ad8\u6548\u7387\u548c\u964d\u4f4e\u903b\u8f91\u590d\u6742\u5ea6\u3002</p> <p>\u53e6\u5916\uff0c\u7c7b\u8fd8\u6709\u4e00\u4e2a\u7279\u70b9\uff1a\u7c7b\u53ef\u4ee5\u76f4\u63a5\u88ab\u8c03\u7528\uff0c\u4e0d\u4e00\u5b9a\u8981\u5148\u521b\u5efa\u5b9e\u4f8b\u3002\u8fd9\u4e2a\u7279\u70b9\u5c31\u8981\u6c42\u7c7b\u521d\u59cb\u5316\u65f6\u5c31\u521b\u5efa\u7c7b\u547d\u540d\u7a7a\u95f4\u3002\u4f8b\u5982\uff0c\u521b\u5efa\u4e00\u4e2a\u7c7b\u7528\u4e8e\u7edf\u4e00\u7ba1\u7406\u67d0\u4e00\u7c7b\u5e38\u91cf\uff1a</p> <pre><code>class Math_Constant:\n    pi = 3.1415926\n    e = 2.7182818\n    sqrt_2 = 1.4142135\n    rho = 1.3247195\n</code></pre> <p>\u5982\u679c<code>Math_Constant</code>\u7684\u7c7b\u5c5e\u6027\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u5b9e\u4f8b\u624d\u80fd\u88ab\u8c03\u7528\uff0c\u90a3\u5c31\u592a\u9ebb\u70e6\u4e86\uff0c\u800c\u4e14\u7c7b\u65b9\u6cd5\u3001\u9759\u6001\u65b9\u6cd5\u4e5f\u5c31\u6ca1\u4e86\u610f\u4e49\u3002</p> <p>\u800c\u65b9\u6cd5\u672c\u8d28\u662f\u51fd\u6570\uff0c\u4e0d\u4f1a\u5728\u8bfb\u5165\u5b9a\u4e49\u65f6\u88ab\u6267\u884c\u3002</p> <p>\u4e3a\u4ec0\u4e48\u8bfb\u5165\u51fd\u6570\u5b9a\u4e49\u65f6\u4e0d\u9700\u8981\u521b\u5efa\u51fd\u6570\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\uff1f</p> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u51fd\u6570\u7684\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u4e3b\u8981\u4e0e\u53c2\u6570\u6709\u5173\uff0c\u800c\u53c2\u6570\u5728\u51fd\u6570\u88ab\u8c03\u7528\u65f6\u624d\u4f20\u5165\uff0c\u521b\u5efa\u4e86\u547d\u540d\u7a7a\u95f4\u4e5f\u610f\u4e49\u4e0d\u5927\u3002\u53e6\u5916\u51fd\u6570\u4e0d\u50cf\u7c7b\u90a3\u4e48\u590d\u6742\uff0c\u4e5f\u5c31\u6ca1\u5fc5\u8981\u8bfb\u5165\u5b9a\u4e49\u65f6\u5c31\u521b\u5efa\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u3002</p> <p>\u5176\u4e8c\uff0c\u7c7b\u7684\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u4e0d\u5728\u540d\u5b57\u641c\u7d22\u8def\u5f84\u4e2d\u3002</p> <p>\u4f8b\u5982\uff1a</p> <pre><code>class A:\n    pi = 3.1415926\n    def print_pi(self):\n        print(pi)\n\nA().print_pi()\n</code></pre> <pre><code>NameError: name 'pi' is not defined\n</code></pre> <p>\u7c7b<code>A</code>\u662f<code>print_pi</code>\u65b9\u6cd5\u7684\u5916\u5c42\u4f5c\u7528\u57df\uff0c\u6309\u7167\u8bbe\u60f3\uff0c<code>print_pi</code>\u65b9\u6cd5\u4e2d\u627e\u4e0d\u5230\u53d8\u91cf<code>pi</code>\uff0c\u5e94\u8be5\u4f1a\u5230\u4e0a\u4e00\u5c42\u4f5c\u7528\u57df\u4e2d\u67e5\u627e\uff0c\u4f46\u662f<code>print_pi</code>\u65b9\u6cd5\u5e76\u6ca1\u6709\u5728\u7c7b<code>A</code>\u7684\u4f5c\u7528\u57df\u4e2d\u67e5\u627e\uff0c\u800c\u662f\u76f4\u63a5\u629b\u51fa\u5f02\u5e38\u3002</p> <p>\u53c8\u4f8b\u5982\uff1a</p> <pre><code>class A():\n    a = 1\n    b = [a + i for i in range(3)]  #NameError: name 'a' is not defined\n</code></pre> <p>\u6267\u884c\u4e0a\u6bb5\u4ee3\u7801\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u5728\u7c7b <code>A</code> \u5185\u5217\u8868\u63a8\u5bfc\u5f0f\u65e0\u6cd5\u8c03\u53d6 <code>a</code> \u7684\u503c\u3002</p> <p>Python3\u7684\u5217\u8868\u63a8\u5bfc\u5f0f\u4e5f\u4f1a\u4ea7\u751f\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u3002</p> <p>\u4f46\u5728\u51fd\u6570\u4e2d\uff0c\u5b8c\u5168\u6ca1\u95ee\u9898\uff1a</p> <pre><code>def func():\n    a = 1\n    b = [a + i for i in range(3)]\n    print(b)\n\nfunc()  #[1, 2, 3]\n</code></pre> <p>\u56e0\u6b64\uff0c\u7c7b<code>A</code> \u4e2d\u7684 <code>a</code> \u4e0d\u540c\u4e8e\u51fd\u6570 <code>func</code> \u4e2d\u7684 <code>a</code> \u5728\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u4e2d\u53ef\u4ee5\u88ab\u4efb\u610f\u5f15\u7528\u3002\u4e4b\u6240\u4ee5\u5f3a\u8c03\u201d\u4e0d\u53ef\u4ee5\u88ab\u4efb\u610f\u8bfb\u53d6\u201d\uff0c\u539f\u56e0\u5728\u4e8e\u5728\u7c7b<code>A</code> \u7684\u5c40\u90e8\u7a7a\u95f4\u5185\uff0c<code>a</code> \u5728\u5f53\u524d\u5c42\u7ea7\u7684\u4f5c\u7528\u57df\u662f\u53ef\u4ee5\u88ab\u76f4\u63a5\u5f15\u7528\u7684\uff1a</p> <pre><code>class A():\n    a = 1\n    c = a + 2\n\nA.c # 3\n</code></pre> <pre><code>3\n</code></pre> <p>\u56e0\u6b64\uff0c\u7c7b\u5185\u53ef\u4ee5\u4ea7\u751f\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u7684\u4ee3\u7801\uff08\u65b9\u6cd5\u3001\u63a8\u5bfc\u5f0f\u7b49\uff09\u4e25\u683c\u4e0a\u4e0d\u662f\u4f5c\u7528\u57df\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.2.%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F.html#_5","title":"\u811a\u6ce8","text":""},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.2.%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F.html#_6","title":"\u53c2\u8003","text":"<ol> <li>python\u7684\u5d4c\u5957\u51fd\u6570\u4e2d\u5c40\u90e8\u4f5c\u7528\u57df\u95ee\u9898?</li> <li>Python\u8fdb\u9636 - \u5bf9\u8c61\uff0c\u540d\u5b57\u4ee5\u53ca\u7ed1\u5b9a</li> </ol> <ol> <li> <p>\u5373<code>{name:object}</code>\u3002\u00a0\u21a9</p> </li> <li> <p>\u5f53\u524d\u7684CPython\u5df2\u7ecf\u5b9e\u73b0\u7b2c\u4e00\u6761\u9650\u5236\uff0c\u81f3\u5c11\u57280.29.14\u7248\u672c\u7684CPython\u4e2d\u5df2\u7ecf\u5b9e\u73b0\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.3.%E9%97%AD%E5%8C%85.html","title":"3.3.\u95ed\u5305","text":""},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.3.%E9%97%AD%E5%8C%85.html#_1","title":"\u95ed\u5305\u7684\u6982\u5ff5","text":"<p>\u4ee5\u4e0b\u5f15\u7528\u81ea\u7ef4\u57fa\u767e\u79d1\u4e2d\u5173\u4e8e\u95ed\u5305\u7684\u4ecb\u7ecd\uff1a</p> <p>\u5728\u8ba1\u7b97\u673a\u79d1\u5b66\u4e2d\uff0c\u95ed\u5305\uff08\u82f1\u8bed\uff1aClosure\uff09\uff0c\u53c8\u79f0\u8bcd\u6cd5\u95ed\u5305\uff08Lexical Closure\uff09\u6216\u51fd\u6570\u95ed\u5305\uff08function closures\uff09\uff0c\u662f\u5f15\u7528\u4e86\u81ea\u7531\u53d8\u91cf\u7684\u51fd\u6570\u3002\u8fd9\u4e2a\u88ab\u5f15\u7528\u7684\u81ea\u7531\u53d8\u91cf\u5c06\u548c\u8fd9\u4e2a\u51fd\u6570\u4e00\u540c\u5b58\u5728\uff0c\u5373\u4f7f\u5df2\u7ecf\u79bb\u5f00\u4e86\u521b\u9020\u5b83\u7684\u73af\u5883\u4e5f\u4e0d\u4f8b\u5916\u3002\u6240\u4ee5\uff0c\u6709\u53e6\u4e00\u79cd\u8bf4\u6cd5\u8ba4\u4e3a\u95ed\u5305\u662f\u7531\u51fd\u6570\u548c\u4e0e\u5176\u76f8\u5173\u7684\u5f15\u7528\u73af\u5883\u7ec4\u5408\u800c\u6210\u7684\u5b9e\u4f53\u3002\u95ed\u5305\u5728\u8fd0\u884c\u65f6\u53ef\u4ee5\u6709\u591a\u4e2a\u5b9e\u4f8b\uff0c\u4e0d\u540c\u7684\u5f15\u7528\u73af\u5883\u548c\u76f8\u540c\u7684\u51fd\u6570\u7ec4\u5408\u53ef\u4ee5\u4ea7\u751f\u4e0d\u540c\u7684\u5b9e\u4f8b\u3002</p> <p>\u95ed\u5305\u7684\u6982\u5ff5\u51fa\u73b0\u4e8e60\u5e74\u4ee3\uff0c\u6700\u65e9\u5b9e\u73b0\u95ed\u5305\u7684\u7a0b\u5e8f\u8bed\u8a00\u662fScheme\u3002\u4e4b\u540e\uff0c\u95ed\u5305\u88ab\u5e7f\u6cdb\u4f7f\u7528\u4e8e\u51fd\u6570\u5f0f\u7f16\u7a0b\u8bed\u8a00\u5982ML\u8bed\u8a00\u548cLISP\u3002\u5f88\u591a\u547d\u4ee4\u5f0f\u7a0b\u5e8f\u8bed\u8a00\u4e5f\u5f00\u59cb\u652f\u6301\u95ed\u5305\u3002</p> <p>\u5728\u4e00\u4e9b\u8bed\u8a00\u4e2d\uff0c\u5728\u51fd\u6570\u4e2d\u53ef\u4ee5\uff08\u5d4c\u5957\uff09\u5b9a\u4e49\u53e6\u4e00\u4e2a\u51fd\u6570\u65f6\uff0c\u5982\u679c\u5185\u90e8\u7684\u51fd\u6570\u5f15\u7528\u4e86\u5916\u90e8\u7684\u51fd\u6570\u7684\u53d8\u91cf\uff0c\u5219\u53ef\u80fd\u4ea7\u751f\u95ed\u5305\u3002\u8fd0\u884c\u65f6\uff0c\u4e00\u65e6\u5916\u90e8\u7684\u51fd\u6570\u88ab\u6267\u884c\uff0c\u4e00\u4e2a\u95ed\u5305\u5c31\u5f62\u6210\u4e86\uff0c\u95ed\u5305\u4e2d\u5305\u542b\u4e86\u5185\u90e8\u51fd\u6570\u7684\u4ee3\u7801\uff0c\u4ee5\u53ca\u6240\u9700\u5916\u90e8\u51fd\u6570\u4e2d\u7684\u53d8\u91cf\u7684\u5f15\u7528\u3002\u5176\u4e2d\u6240\u5f15\u7528\u7684\u53d8\u91cf\u79f0\u4f5c\u4e0a\u503c(upvalue)\u3002</p> <p>\u7ef4\u57fa\u767e\u79d1\u4e2d\u5bf9\u4e8e\u95ed\u5305\u7684\u4ecb\u7ecd\uff0c\u5e94\u8be5\u8fd8\u662f\u6bd4\u8f83\u76f4\u89c2\u7684\u3002\u7b80\u800c\u8a00\u4e4b\uff1a\u5185\u5d4c\u51fd\u6570\u5f15\u7528\u4e86\u5916\u90e8\u51fd\u6570\u7684\u53d8\u91cf\uff0c\u8fd9\u4e2a\u5185\u5d4c\u51fd\u6570\u88ab\u6267\u884c\u65f6\uff0c\u5c31\u5f62\u6210\u4e00\u4e2a\u95ed\u5305\u3002\u4f8b\u5982\uff1a</p> <pre><code>def outside(a, b):\n    a = a\n    b = b\n\n    def inner():\n        y = a + b\n        print(locals())\n\n    inner()\n\n\n# \u8c03\u7528outside\u51fd\u6570 inner\u88ab\u6267\u884c \u5f62\u6210\u95ed\u5305\noutside(1, 2)\n</code></pre> <pre><code>{'y': 3, 'a': 1, 'b': 2}\n</code></pre> <p><code>inner()</code>\u88ab\u6267\u884c\u65f6\uff0c\u521b\u5efa\u7684\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u4f1a\u5305\u62ec\u5176\u5f15\u7528\u7684\u5916\u5c42\u51fd\u6570\u7684\u53d8\u91cf\uff0c\u8fd9\u6837\u7684\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u88ab\u79f0\u4e3a\u95ed\u5305\u547d\u540d\u7a7a\u95f4\uff08enclosing namespace\uff09\u3002</p> <p>\u6ce8\u610f\uff0c\u5728Python\u4e2d\uff0c\u5185\u5d4c\u51fd\u6570\u53ef\u4ee5\u88ab\u5916\u5c42\u51fd\u6570\u8fd4\u56de\uff0c\u4e5f\u5c31\u662fPython\u51fd\u6570\u53ef\u4ee5\u8fd4\u56de\u95ed\u5305\u3002 \u7406\u89e3\u4ec0\u4e48\u662f\u95ed\u5305\u4e0d\u96be\uff0c\u4f46\u95ee\u9898\u5728\u4e8e\u95ed\u5305\u6709\u4ec0\u4e48\u4f5c\u7528\u5462\uff1f</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.3.%E9%97%AD%E5%8C%85.html#_2","title":"\u95ed\u5305\u7684\u4f5c\u7528","text":"<p>\u95ed\u5305\u7684\u72ec\u7279\u4e4b\u5904\u5728\u4e8e\u5b83\u53ef\u4ee5\u7ed1\u5b9a\u5916\u90e8\u51fd\u6570\u7684\u53d8\u91cf\uff0c\u5373\u4f7f\u751f\u6210\u95ed\u5305\u7684\u73af\u5883\uff08\u5916\u5c42\u51fd\u6570\uff09\u5df2\u7ecf\u91ca\u653e\uff0c\u95ed\u5305\u4ecd\u7136\u5b58\u5728\u3002</p> <p>\u8fd9\u4e2a\u8fc7\u7a0b\u5f88\u50cf\u7c7b\u751f\u6210\u5b9e\u4f8b\uff0c\u4e0d\u540c\u7684\u662f\u5916\u90e8\u51fd\u6570\u53ea\u5728\u8c03\u7528\u65f6\u751f\u6210\u547d\u540d\u7a7a\u95f4\uff0c\u6267\u884c\u5b8c\u6bd5\u540e\u5176\u547d\u540d\u7a7a\u95f4\u5c31\u4f1a\u91ca\u653e\uff0c\u800c\u7c7b\u7684\u547d\u540d\u7a7a\u95f4\u5728\u8bfb\u5165\u5b9a\u4e49\u65f6\u521b\u5efa\uff0c\u4e00\u822cPython\u89e3\u91ca\u5668\u9000\u51fa\u624d\u91ca\u653e\u547d\u540d\u7a7a\u95f4\u3002\u56e0\u6b64\u5bf9\u4e00\u4e9b\u9700\u8981\u91cd\u7528\u7684\u529f\u80fd\u4e14\u4e0d\u8db3\u4ee5\u5b9a\u4e49\u4e3a\u7c7b\u7684\u884c\u4e3a\uff0c\u4f7f\u7528\u95ed\u5305\u4f1a\u6bd4\u4f7f\u7528\u7c7b\u5360\u7528\u66f4\u5c11\u7684\u8d44\u6e90\uff0c\u4e14\u66f4\u8f7b\u5de7\u7075\u6d3b\u3002</p> <p>\u4f8b\u5982\uff1a\u5047\u8bbe\u6211\u4eec\u4ec5\u4ec5\u60f3\u6253\u5370\u51fa\u5404\u7c7b\u52a8\u7269\u7684\u53eb\u58f0\uff0c\u5206\u522b\u4ee5\u7c7b\u548c\u95ed\u5305\u6765\u5b9e\u73b0\uff1a</p> <pre><code># \u7c7b\u5b9e\u73b0\nclass Animal(object):\n    def __init__(self, animal):\n        self.animal = animal\n\n    def sound(self, voice):\n        print(self.animal, ':', voice, \"...\")\n\ndog = Animal(\"dog\")\ndog.sound(\"wangwang\")\ndog.sound(\"wowo\")\n</code></pre> <pre><code>dog : wangwang ...\ndog : wowo ...\n</code></pre> <pre><code># \u95ed\u5305\u5b9e\u73b0\ndef voice(animal):\n    def sound(voc):\n        print(animal, ':', voc, \"...\")\n    return sound\n\ndog = voice(\"dog\")\ndog(\"wangwang\")\ndog(\"wowo\")\n</code></pre> <pre><code>dog : wangwang ...\ndog : wowo ...\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\u662f\u5b8c\u5168\u4e00\u6837\u7684\uff0c\u4f46\u663e\u7136\u7c7b\u7684\u5b9e\u73b0\u76f8\u5bf9\u7e41\u7410\uff0c\u4e14\u8fd9\u91cc\u53ea\u662f\u60f3\u8f93\u51fa\u4e00\u4e0b\u52a8\u7269\u7684\u53eb\u58f0\uff0c\u5b9a\u4e49\u4e00\u4e2a<code>Animal</code>\u7c7b\u672a\u514d\u5c0f\u9898\u5927\u505a\uff0c\u800c\u4e14<code>voice</code>\u51fd\u6570\u5728\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u5176\u547d\u540d\u7a7a\u95f4\u5c31\u5df2\u7ecf\u91ca\u653e\uff0c\u4f46<code>Animal</code>\u7c7b\u53ca\u5176\u5b9e\u4f8b<code>dog</code>\u7684\u76f8\u5e94\u5c5e\u6027\u5374\u4e00\u76f4\u8d2e\u5b58\u5728\u5185\u5b58\u4e2d\u3002\u800c\u8fd9\u79cd\u5185\u5b58\u5360\u7528\u662f\u6ca1\u6709\u5fc5\u8981\u7684\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u95ed\u5305\u8fd8\u6709\u5176\u4ed6\u4f5c\u7528\u3002\u95ed\u5305\u53ef\u4ee5\u51cf\u5c11\u51fd\u6570\u53c2\u6570\u7684\u6570\u76ee\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u4e8e\u5c01\u88c5\u3002\u8fd9\u5bf9\u5e76\u884c\u8ba1\u7b97\u4e5f\u975e\u5e38\u6709\u7528\uff0c\u6bd4\u5982\u53ef\u4ee5\u8ba9\u6bcf\u53f0\u7535\u8111\u8d1f\u8d23\u4e00\u4e2a\u51fd\u6570\u7684\u8ba1\u7b97\u3002\u53e6\u5916\uff0c\u95ed\u5305\u5728Python\u4e2d\u6709\u4e00\u79cd\u91cd\u8981\u7684\u5e94\u7528\u2014\u2014\u88c5\u9970\u5668\u3002\u8fd9\u4e2a\u4f1a\u5728\u88c5\u9970\u5668\u7684\u6587\u7ae0\u8bb2\u8ff0\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.3.%E9%97%AD%E5%8C%85.html#_3","title":"\u95ed\u5305\u4f5c\u7528\u57df\u4e0e\u547d\u540d\u7a7a\u95f4","text":"<p>\u6765\u770b\u4e00\u4e2a\u5178\u578b\u7684\u95ed\u5305\u7ed3\u6784\uff1a</p> <pre><code>gv = ['a', 'global', 'var']\n\ndef func(v):\n    gv = ['gv'] + gv  # UnboundLocalError:local variable 'gv' referenced before assignment\n    lv = []\n\n    def inn_func():\n        lv = lv + [v] # UnboundLocalError:local variable 'lv' referenced before assignment\n        gv.insert(1, lv[0])\n        return gv\n\n    return inn_func\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u4f3c\u4e4e\u6ca1\u6709\u95ee\u9898\uff0c\u8d4b\u503c\u64cd\u4f5c\u4ece\u53f3\u5230\u5de6\u6267\u884c\uff0c\u5148\u4ece\u53f3\u8fb9\u7684<code>gv</code>\u3001<code>lv</code>\u5f00\u59cb\u6267\u884c\u4ee3\u7801\uff0c\u6b64\u65f6\u5c40\u90e8\u4f5c\u7528\u57df\u8fd8\u6ca1\u6709<code>gv</code>\u53d8\u91cf\uff0c\u5c40\u90e8\u4f5c\u7528\u57df\u4e5f\u6ca1\u6709<code>lv</code>\u53d8\u91cf\uff0cPython\u5e94\u8be5\u4f1a\u8bbf\u95ee\u5916\u5c42\u4f5c\u7528\u57df\u7684<code>gv</code>\u3001<code>lv</code>\u53d8\u91cf\u3002\u4f46\u5b9e\u9645\u8c03\u7528<code>func()</code>\u51fd\u6570\u65f6\uff0c\u4e0a\u9762\u4e24\u5904\u5bf9 <code>gv</code> \u548c <code>lv</code> \u8fdb\u884c\u8d4b\u503c\u64cd\u4f5c\u7684\u5730\u65b9\u90fd\u4f1a\u89e6\u53d1 <code>UnboundLocalError</code>\u3002</p> <p>\u8fd9\u662f\u56e0\u4e3a Python \u5728\u6267\u884c\u51fd\u6570\u524d\uff0c\u4f1a\u9996\u5148\u751f\u6210\u5404\u5c42\u547d\u540d\u7a7a\u95f4\u548c\u4f5c\u7528\u57df\uff0c\u56e0\u6b64 Python \u5728\u6267\u884c\u8d4b\u503c\u524d\u4f1a\u5c06<code>func</code> \u5185\u7684 <code>gv</code>\u3001<code>lv</code> \u5199\u5165\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u548c\u95ed\u5305\u547d\u540d\u7a7a\u95f4\uff1a</p> <pre><code>dict_\u5c40\u90e8\u547d\u540d\u7a7a\u95f4.update({\"gv\":['gv'] + gv})\ndict_\u95ed\u5305\u547d\u540d\u7a7a\u95f4.update({\"lv\":['lv'] + lv})\n</code></pre> <p>\u5f53 Python \u6267\u884c\u8d4b\u503c\u65f6\uff0c\u6309\u7167LEGB\u641c\u7d22\u89c4\u5219\uff0c\u4f1a\u5148\u5728\u5c40\u90e8\u4f5c\u7528\u57df\u3001\u95ed\u5305\u4f5c\u7528\u57df\u5185\u53d1\u73b0<code>gv</code> \u548c <code>lv</code> \u6807\u8bc6\u7b26\uff0c\u4f46<code>gv</code> \u548c <code>lv</code> \u5728\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u548c\u95ed\u5305\u547d\u540d\u7a7a\u95f4\u5185\u90fd\u6ca1\u6709\u7ed1\u5b9a\u5bf9\u8c61\uff0c\u4ece\u800c\u5f15\u53d1\u9519\u8bef\u3002</p> <p>\u8fd9\u6bb5\u4ee3\u7801\u672c\u610f\u53ea\u662f\u60f3\u8ba9\u5177\u6709\u5bf9\u8c61\u7684\u5168\u5c40\u53d8\u91cf<code>gv</code>\u548c\u5c40\u90e8\u53d8\u91cf<code>lv</code>\u53c2\u4e0e\u8fd0\u7b97\uff0c\u800c\u4e0d\u662f\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u4e2d\u7684<code>gv</code>\u548c\u95ed\u5305\u547d\u540d\u7a7a\u95f4\u4e2d\u7684<code>lv</code>\u3002\u4e3a\u4e86\u907f\u514d\u7c7b\u4f3c\u7684\u60c5\u51b5\u53d1\u751f\uff0cPython \u5f15\u5165\u4e86 <code>global</code>\u3001<code>nonlocal</code> \u8bed\u53e5\u6765\u8bf4\u660e\u6240\u4fee\u9970\u7684 <code>gv</code>\u3001<code>lv</code> \u5206\u522b\u6765\u81ea\u5168\u5c40\u547d\u540d\u7a7a\u95f4\u548c\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\uff0c\u58f0\u660e\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u5728 <code>func</code> \u548c <code>inn_func</code> \u5185\u76f4\u63a5\u6539\u5199\u4e0a\u5c42\u547d\u540d\u7a7a\u95f4\u5185 <code>gv</code> \u548c <code>lv</code> \u7684\u503c\uff1a</p> <pre><code>gv = ['a', 'global', 'var']\nprint(\"gv\u7684\u5185\u5b58\u5730\u5740\", id(gv))\n\n\ndef func(v):\n    global gv\n    print(\"gv\u7684\u5185\u5b58\u5730\u5740\", id(gv))\n    gv = ['gv'] + gv\n    print(\"gv\u7684\u5185\u5b58\u5730\u5740\", id(gv))\n    lv = []\n    print(\"lv\u7684\u5185\u5b58\u5730\u5740\", id(lv))\n\n    def inn_func():\n        nonlocal lv\n        print(\"lv\u7684\u5185\u5b58\u5730\u5740\", id(lv))\n        lv = lv + [v]\n        gv.insert(1, lv[0])\n        return gv\n\n    return inn_func\n\na = func('is')\na()\nprint(\"gv\u7684\u5185\u5b58\u5730\u5740\", id(gv))\n</code></pre> <pre><code>gv\u7684\u5185\u5b58\u5730\u5740 2632865909568\ngv\u7684\u5185\u5b58\u5730\u5740 2632865909568\ngv\u7684\u5185\u5b58\u5730\u5740 2632865938560\nlv\u7684\u5185\u5b58\u5730\u5740 2632865909568\nlv\u7684\u5185\u5b58\u5730\u5740 2632865909568\ngv\u7684\u5185\u5b58\u5730\u5740 2632865938560\n</code></pre> <p>\u5982\u4e0a\uff0c\u5168\u5c40\u53d8\u91cf <code>gv</code> \u503c\u88ab\u51fd\u6570\u6539\u5199\u4e86\uff0c <code>inn_func</code> \u4fee\u6539\u7684\u4e5f\u786e\u5b9e\u662f\u7236\u51fd\u6570 <code>lv</code>\u7684\u503c\uff08\u4f9d\u636e\u5185\u5b58\u5730\u5740\u5224\u65ad\uff09\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.3.%E9%97%AD%E5%8C%85.html#_4","title":"\u501f\u58f3","text":"<p>\u90a3\u4e48\u662f\u4e0d\u662f\u4e0d\u4f7f\u7528 <code>global</code> \u548c <code>nonlocal</code> \u5c31\u4e0d\u80fd\u8fbe\u5230\u4e0a\u9762\u7684\u76ee\u7684\u5462\uff1f\u6765\u770b\u770b\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\uff1a</p> <pre><code>gv = ['a', 'global', 'var']\n\ndef func(v):\n    gv.insert(0, 'gv')\n    lv = []\n    print(\"lv\u7684\u5185\u5b58\u5730\u5740\", id(lv))\n\n    def inn_func():\n        lv.append(v)\n        print(\"lv\u7684\u5185\u5b58\u5730\u5740\", id(lv))\n        gv.insert(1, lv[0])\n        return gv\n\n    return inn_func\n\na = func('is')\na()\nprint(gv)\n</code></pre> <pre><code>lv\u7684\u5185\u5b58\u5730\u5740 2632865851840\nlv\u7684\u5185\u5b58\u5730\u5740 2632865851840\n['gv', 'is', 'a', 'global', 'var']\n</code></pre> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u6267\u884c\u7ed3\u679c\u540c\u4e0a\u9762\u5b8c\u5168\u4e00\u81f4\uff0c\u95ee\u9898\u81ea\u7136\u6765\u4e86\uff1a\u4e3a\u4ec0\u4e48\u4e0d\u7528 <code>global</code> <code>nonlocal</code> \u4e5f\u53ef\u4ee5\u6539\u5199\u5168\u5c40\u53d8\u91cf<code>gv</code>\u548c\u7236\u51fd\u6570\u53d8\u91cf<code>lv</code>\u7684\u503c\uff1f</p> <p>\u4e3a\u4e86\u770b\u6e05\u695a\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u6211\u4eec\u5c06\u4e0a\u9762\u7684<code>gv.insert(0, 'gv')</code> \u548c<code>lv.append(v)</code> \u6539\u5199\u4e3a <code>gv[0:0] = ['gv']</code> \u548c<code>lv[:] = [v]</code>\uff1a</p> <pre><code>gv = ['a', 'global', 'var']\n\ndef func(v):\n    gv[0:0] = ['gv']\n    lv = []\n    print(\"lv\u7684\u5185\u5b58\u5730\u5740\", id(lv))\n\n    def inn_func():\n        lv[:] = [v]\n        print(\"lv\u7684\u5185\u5b58\u5730\u5740\", id(lv))\n        gv.insert(1, lv[0])\n        return gv\n\n    return inn_func\n\na = func('is')\na()\nprint(gv)\n</code></pre> <pre><code>lv\u7684\u5185\u5b58\u5730\u5740 2632865937024\nlv\u7684\u5185\u5b58\u5730\u5740 2632865937024\n['gv', 'is', 'a', 'global', 'var']\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\u5b8c\u5168\u4e00\u81f4\uff0c\u4e8b\u5b9e\u4e0a\u4e24\u8005\u4e4b\u95f4\u7684\u672c\u8d28\u4e5f\u662f\u5b8c\u5168\u4e00\u6837\u7684\u3002<code>.insert()</code>\u3001<code>.append()</code>\u65b9\u6cd5\u5e76\u6ca1\u6709\u4fee\u6539 <code>gv</code> \u548c <code>lv</code>\uff0c\u800c\u662f\u4fee\u6539 <code>gv</code> \u548c <code>lv</code> \u7684\u5143\u7d20 <code>gv[0:0]</code> \u548c <code>lv[:]</code> \uff0c\u56e0\u6b64<code>gv</code>\u548c<code>lv</code>\u5e76\u6ca1\u6709\u88ab\u52a0\u5165\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\u3002\u56e0\u6b64\uff0c\u4e0d\u9700\u8981 <code>global</code> \u548c <code>nonlocal</code>\u4fee\u9970\u5c31\u53ef\u4ee5\u76f4\u63a5\u6539\u5199\uff0c\u8fd9\u5c31\u662f\u201c\u501f\u58f3\u201d\u3002\u53e6\u5916\uff0c\u4e5f\u662f\u501f\u52a9\u4e86list\u5bf9\u8c61\u7684mutable\u6027\u8d28\u3002</p> <p>\u5728 <code>nonlocal</code> \u5c1a\u672a\u5f15\u5165 Python \u4e2d\uff0c\u6bd4\u5982 Python 2.x \u82e5\u8981\u5728\u5b50\u51fd\u6570\u4e2d\u6539\u5199\u7236\u51fd\u6570\u53d8\u91cf\u7684\u503c\u5c31\u5f97\u901a\u8fc7\u8fd9\u79cd\u65b9\u6cd5\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.4.%E8%A3%85%E9%A5%B0%E5%99%A8.html","title":"3.4.\u88c5\u9970\u5668","text":""},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.4.%E8%A3%85%E9%A5%B0%E5%99%A8.html#_1","title":"\u88c5\u9970\u5668\u7b80\u8ff0","text":"<p>\u6709\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u7ed9\u4e00\u4e2a\u51fd\u6570\u6dfb\u52a0\u65b0\u529f\u80fd\u3002\u6709\u4e00\u79cd\u505a\u6cd5\u662f\u5728\u539f\u51fd\u6570\u7684\u57fa\u7840\u4e0a\u6dfb\u52a0\u6216\u4fee\u6539\u4ee3\u7801\uff0c\u76f4\u63a5\u6dfb\u52a0\u65b0\u529f\u80fd\uff0c\u4f46\u6709\u65f6\u672a\u514d\u592a\u7e41\u7410\u3002\u5982\u679c\u539f\u51fd\u6570\u7684\u4ee3\u7801\u53ef\u4ee5\u4e0d\u88ab\u4fee\u6539\uff0c\u5728 Python \u4e2d\uff0c\u7ed9\u539f\u51fd\u6570\u5957\u4e0a\u88c5\u9970\u5c31\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e2a\u9700\u6c42\u3002</p> <p>\u5047\u8bbe\u6709\u4e00\u4e2a\u8fd9\u6837\u7684\u51fd\u6570\uff1a</p> <pre><code>def hello():\n    return 'hello world'\n\n\nprint(\"The name of 'hello' function:\", hello.__name__)\n</code></pre> <pre><code>The name of 'hello' function: hello\n</code></pre> <p>\u73b0\u5728\u6211\u4eec\u60f3\u589e\u5f3a<code>hello()</code>\u51fd\u6570\u7684\u529f\u80fd\uff0c\u5e0c\u671b\u7ed9\u8fd4\u56de\u52a0\u4e0a HTML \u6807\u7b7e\uff0c\u6bd4\u5982<code>&lt;i&gt;hello world&lt;/i&gt;</code>\uff0c\u4f46\u6709\u4e00\u4e2a\u8981\u6c42\uff0c\u4e0d\u6539\u53d8\u539f\u6765<code>hello()</code>\u51fd\u6570\u7684\u5b9a\u4e49\u3002</p> <p>\u90a3\u4e48\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a</p> <pre><code>def makeitalic(func):\n    def wrapped():\n        return \"&lt;i&gt;\" + func() + \"&lt;/i&gt;\"\n\n    return wrapped\n\n\nhello = makeitalic(hello)\n</code></pre> <p>\u8981\u6ce8\u610f\u7684\u662f\uff0c<code>makeitalic</code>\u51fd\u6570\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd4\u56de\u7684\u7ed3\u679c\u662f<code>wrapped</code>\u51fd\u6570\u3002</p> <p>\u5c06<code>hello</code>\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165<code>makeitalic</code>\u51fd\u6570\uff0c<code>makeitalic</code>\u51fd\u6570\u8fd4\u56dewrapped\u51fd\u6570\uff0c\u540d\u5b57<code>hello</code>\u4e0e<code>wrapped</code>\u51fd\u6570\u7ed1\u5b9a\u3002\u6b64\u65f6\u540d\u5b57<code>hello</code>\u4ee3\u8868\u4e86\u4e00\u4e2a\u51fd\u6570\uff0c\u4e5f\u5c31\u662f<code>wrapped</code>\u51fd\u6570\u6709\u4e86\u65b0\u7684\u540d\u5b57\u2014\u2014<code>hello</code>\u3002\u518d\u6b21\u8fd0\u884c\u4ee5\u4e0b\u4ee3\u7801\uff0c\u53ef\u4ee5\u770b\u51fahello\u51fd\u6570\u7684\u540d\u5b57\u53d8\u4e86\uff1a</p> <pre><code>print(\"The name of 'hello' function:\", hello.__name__)\n</code></pre> <pre><code>The name of 'hello' function: wrapped\n</code></pre> <p>\u4e8b\u5b9e\u4e0a\uff0c<code>makeitalic</code>\u51fd\u6570\u5c31\u662f\u4e00\u4e2a\u88c5\u9970\u5668\uff08decorator\uff09\uff0c\u5b83\u88c5\u9970\u4e86\u51fd\u6570 <code>hello</code>\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\uff0c\u5c06\u5176\u8d4b\u7ed9<code>hello</code>\u53d8\u91cf\u3002\u7b80\u800c\u8a00\u4e4b\uff0c\u88c5\u9970\u5668\u63a5\u6536\u88ab\u88c5\u9970\u7684\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570\uff0c\u65b0\u51fd\u6570\u548c\u88ab\u88c5\u9970\u51fd\u6570\u7684\u540d\u5b57\u7ed1\u5b9a\u3002\u53ef\u89c1\uff0c\u88c5\u9970\u5668\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u9ad8\u9636\u51fd\u6570\uff0c\u7528\u4e8e\u52a8\u6001\u4fee\u6539\u51fd\u6570\u6216\u7c7b\u7684\u529f\u80fd\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.4.%E8%A3%85%E9%A5%B0%E5%99%A8.html#_2","title":"\u88c5\u9970\u5668\u7684\u4e00\u822c\u4f7f\u7528\u5f62\u5f0f","text":"<p>Python \u4e3a\u88c5\u9970\u5668\u63d0\u4f9b\u4e86<code>@decorator</code>\u5f62\u5f0f\u7684\u8bed\u6cd5\u7cd6\uff0c\u53ef\u4ee5\u5728\u5b9a\u4e49\u88ab\u88c5\u9970\u51fd\u6570\u7684\u4f4d\u7f6e\u5e94\u7528\u88c5\u9970\u5668\uff0c\u4ece\u800c\u8ba9\u4ee3\u7801\u5bb9\u6613\u9605\u8bfb\uff0c\u8ba9\u4eba\u7acb\u523b\u610f\u8bc6\u5230\u4f7f\u7528\u4e86\u88c5\u9970\u5668\u3002</p> <p>Python \u7684\u88c5\u9970\u5668\u53ef\u4ee5\u5206\u4e3a\u4e24\u79cd\uff1a</p> <ol> <li>\u4e0d\u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668</li> <li>\u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668</li> </ol> <p>\u5728 Python \u4e2d\uff0c\u4e0d\u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668\u4e00\u822c\u8fd9\u6837\u7528\uff1a</p> <pre><code>def decorator(fun):\n   def wrapped():\n       pass\n   return wrapped\n\n@decorator\ndef func():\n    pass\n</code></pre> <p>\u6b64\u65f6\uff0c<code>decorator</code>\u51fd\u6570\u5c31\u662f\u771f\u6b63\u7684\u88c5\u9970\u5668\uff0c\u4e0a\u8ff0\u4ee3\u7801\u7b49\u4ef7\u4e8e\u4e0b\u9762\u7684\u5f62\u5f0f\uff1a</p> <pre><code>def func():\n    pass\nfunc = decorator(func)\n</code></pre> <p>\u88c5\u9970\u5668\u53ef\u4ee5\u5b9a\u4e49\u591a\u4e2a\uff0c\u79bb\u51fd\u6570\u5b9a\u4e49\u6700\u8fd1\u7684\u88c5\u9970\u5668\u5148\u88ab\u8c03\u7528\uff0c\u6bd4\u5982</p> <pre><code>@decorator_one\n@decorator_two\ndef func():\n    pass\n</code></pre> <p>\u7b49\u4ef7\u4e8e\uff1a</p> <pre><code>def func():\n    pass\n\nfunc = decorator_one(decorator_two(func))\n</code></pre> <p>\u88c5\u9970\u5668\u8fd8\u53ef\u4ee5\u5e26\u5176\u4ed6\u53c2\u6570\uff0c\u6bd4\u5982\uff1a</p> <pre><code>@decorator(arg1, arg2)\ndef func():\n    pass\n</code></pre> <p>\u6b64\u65f6\uff0c<code>decorator</code>\u5e76\u4e0d\u662f\u771f\u6b63\u7684\u88c5\u9970\u5668\uff0c\u771f\u6b63\u7684\u88c5\u9970\u5668\u7531<code>decorator(arg1, arg2)</code>\u8fd4\u56de\u3002\u4e0a\u8ff0\u4ee3\u7801\u7b49\u4ef7\u4e8e\uff1a</p> <pre><code>def func():\n    pass\n\nfunc = decorator(arg1, arg2)(func)\n</code></pre> <p>\u8981\u6ce8\u610f\u7684\u662f\uff0c\u88c5\u9970\u5668\u5fc5\u987b\u8fd4\u56de\u51fd\u6570\uff0c\u82e5\u8fd4\u56de\u7684\u4e0d\u662f\u51fd\u6570\uff0c\u5728\u4e4b\u540e\u8c03\u7528\u65f6\u5219\u4f1a\u62a5\u9519\uff1a</p> <pre><code>def makeitalic2(func):\n    return \"&lt;i&gt;\" + func() + \"&lt;/i&gt;\"\n\n\n@makeitalic2\ndef hello_2():\n    return 'hello world'\n\n\ntry:\n    hello_2()\nexcept TypeError as e:\n    print(TypeError, e)\n</code></pre> <pre><code>&lt;class 'TypeError'&gt; 'str' object is not callable\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.4.%E8%A3%85%E9%A5%B0%E5%99%A8.html#_3","title":"\u5e26\u53c2\u6570\u7684\u88ab\u88c5\u9970\u51fd\u6570","text":"<p>\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u88ab\u88c5\u9970\u7684\u51fd\u6570<code>hello()</code>\u662f\u6ca1\u6709\u5e26\u53c2\u6570\u7684\uff0c\u800c\u4ee5\u4e0b\u662f\u4e00\u4e2a\u88ab\u88c5\u9970\u51fd\u6570\u5e26\u6709\u53c2\u6570\u7684\u4f8b\u5b50\uff1a</p> <pre><code>def makeitalic(func):\ndef wrapped(*args, **kwargs):\nret = func(*args, **kwargs)\nreturn '&lt;i&gt;' + ret + '&lt;/i&gt;'\n    return wrapped\n\n@makeitalic\ndef hello(name):\n    return 'hello %s' % name\n\n@makeitalic\ndef hello2(name1, name2):\n    return 'hello %s, %s' % (name1, name2)\n\nhello('Jack')\n\nhello2('Jack',\"Lusis\")\n</code></pre> <p>\u5728\u8c03\u7528\u65f6\uff0c\u539f\u672c\u4f20\u5165<code>hello</code>\u6216<code>hello2</code>\u51fd\u6570\u7684\u53c2\u6570\u4f1a\u9996\u5148\u4f20\u5165<code>wrapped</code>\u51fd\u6570\u4e4b\u4e2d\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.4.%E8%A3%85%E9%A5%B0%E5%99%A8.html#_4","title":"\u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668","text":"<p>\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u6211\u4eec\u589e\u5f3a\u4e86<code>hello</code>\u51fd\u6570\u7684\u529f\u80fd\uff0c\u7ed9\u5b83\u7684\u8fd4\u56de\u52a0\u4e0a\u4e86\u6807\u7b7e <code>&lt;i&gt;...&lt;/i&gt;</code>\uff0c\u73b0\u5728\uff0c\u6211\u4eec\u60f3\u6539\u7528\u6807\u7b7e <code>&lt;b&gt;...&lt;/b&gt;</code> \u6216 <code>&lt;p&gt;...&lt;/p&gt;</code>\u3002\u662f\u4e0d\u662f\u8981\u50cf\u524d\u9762\u4e00\u6837\uff0c\u518d\u5b9a\u4e49\u4e00\u4e2a\u7c7b\u4f3c<code>makeitalic</code>\u7684\u88c5\u9970\u5668\u5462\uff1f\u5176\u5b9e\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u5c06\u6807\u7b7e\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u88c5\u9970\u5668\uff0c\u6bd4\u5982\uff1a</p> <pre><code>def wrap_in_tag(tag):\n    def decorator(func):\n        def wrapped(*args, **kwargs):\n            ret = func(*args, **kwargs)\n            return '&lt;' + tag + '&gt;' + ret + '&lt;/' + tag + '&gt;'\n        return wrapped\n\n    return decorator\n\n# \u6839\u636e 'b' \u8fd4\u56de makebold \u751f\u6210\u5668\nmakebold = wrap_in_tag('b')\n\n@makebold\ndef hello(name):\n    return 'hello %s' % name\n\nhello('world')\n</code></pre> <pre><code>'&lt;b&gt;hello world&lt;/b&gt;'\n</code></pre> <p>\u4e0a\u9762\u7684\u5f62\u5f0f\u4e5f\u53ef\u4ee5\u5199\u5f97\u66f4\u52a0\u7b80\u6d01\uff1a </p> <pre><code>@wrap_in_tag('b')\ndef hello(name):\n    return 'hello %s' % name\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.4.%E8%A3%85%E9%A5%B0%E5%99%A8.html#_5","title":"\u591a\u4e2a\u88c5\u9970\u5668","text":"<p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u6765\u770b\u770b\u591a\u4e2a\u88c5\u9970\u5668\u7684\u4f8b\u5b50\uff0c\u4e3a\u4e86\u7b80\u5355\u8d77\u89c1\uff0c\u4e0b\u9762\u7684\u4f8b\u5b50\u5c31\u4e0d\u4f7f\u7528\u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668\u3002</p> <pre><code>def makebold(func):\n    def wrapped():\n        return '&lt;b&gt;' + func() + '&lt;/b&gt;'\n\n    return wrapped\n\ndef makeitalic(func):\n    def wrapped():\n        return '&lt;i&gt;' + func() + '&lt;/i&gt;'\n\n    return wrapped\n\n@makebold\n@makeitalic\ndef hello():\n    return 'hello world'\n</code></pre> <p>\u4e0a\u9762\u5b9a\u4e49\u4e86\u4e24\u4e2a\u88c5\u9970\u5668\uff0c\u5bf9 hello \u8fdb\u884c\u88c5\u9970\uff0c\u4e0a\u9762\u7684\u6700\u540e\u51e0\u884c\u4ee3\u7801\u76f8\u5f53\u4e8e\uff1a</p> <pre><code>def hello():\n    return 'hello world'\n\nhello = makebold(makeitalic(hello))\n</code></pre> <p>\u8c03\u7528\u51fd\u6570 hello\uff1a</p> <pre><code>hello()\n</code></pre> <pre><code>'&lt;b&gt;&lt;i&gt;hello world&lt;/i&gt;&lt;/b&gt;'\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.4.%E8%A3%85%E9%A5%B0%E5%99%A8.html#_6","title":"\u57fa\u4e8e\u7c7b\u7684\u88c5\u9970\u5668","text":"<p>\u524d\u9762\u7684\u88c5\u9970\u5668\u90fd\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5176\u5b9e\u4e5f\u53ef\u4ee5\u57fa\u4e8e\u7c7b\u5b9a\u4e49\u88c5\u9970\u5668\uff0c\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a</p> <pre><code>class Bold(object):\n    def __init__(self, func):\n        self.func = func\n\ndef __call__(self, *args, **kwargs):\nreturn '&lt;b&gt;' + self.func(*args, **kwargs) + '&lt;/b&gt;'\n\n@Bold\ndef hello(name):\n    return 'hello %s' % name\n\nhello('world')\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u7c7b Bold \u6709\u4e24\u4e2a\u65b9\u6cd5\uff1a</p> <p><code>__init__()</code>\uff1a\u5b83\u63a5\u6536\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u4e5f\u5c31\u662f\u88ab\u88c5\u9970\u7684\u51fd\u6570</p> <p><code>__call__()</code>\uff1a\u8ba9\u7c7b\u5bf9\u8c61\u53ef\u8c03\u7528\uff0c\u5c31\u50cf\u51fd\u6570\u8c03\u7528\u4e00\u6837\uff0c\u5728\u8c03\u7528\u88ab\u88c5\u9970\u51fd\u6570\u65f6\u88ab\u8c03\u7528</p> <p>\u8fd8\u53ef\u4ee5\u8ba9\u7c7b\u88c5\u9970\u5668\u5e26\u53c2\u6570\uff1a</p> <pre><code>class Tag(object):\ndef __init__(self, tag):\nself.tag = tag\n\ndef __call__(self, func):\ndef wrapped(*args, **kwargs):\n            return \"&lt;{tag}&gt;{res}&lt;/{tag}&gt;\".format(\n                res=func(*args, **kwargs), tag=self.tag\n            )\n        return wrapped\n\n@Tag('b')\ndef hello(name):\n    return 'hello %s' % name\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u7c7b\u88c5\u9970\u5668\u6709\u53c2\u6570\uff0c\u5219 <code>__init__</code> \u63a5\u6536\u53c2\u6570\uff0c\u800c <code>__call__</code> \u63a5\u6536 func\u3002 </p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.4.%E8%A3%85%E9%A5%B0%E5%99%A8.html#_7","title":"\u88c5\u9970\u5668\u7684\u526f\u4f5c\u7528","text":"<p>\u4f7f\u7528\u88c5\u9970\u5668\u6709\u4e00\u4e2a\u7455\u75b5\uff1a\u88ab\u88c5\u9970\u7684\u51fd\u6570\u7684\u51fd\u6570\u540d\u79f0\u4e0d\u518d\u662f\u539f\u6765\u7684\u540d\u79f0\u3002\u56de\u5230\u6700\u5f00\u59cb\u7684\u4f8b\u5b50\uff1a</p> <pre><code>def makeitalic(func):\n    def wrapped():\n        return \"&lt;i&gt;\" + func() + \"&lt;/i&gt;\"\n    return wrapped\n\n@makeitalic\ndef hello():\n    return 'hello world'\n</code></pre> <p>\u51fd\u6570<code>hello</code>\u88ab<code>makeitalic</code>\u88c5\u9970\u540e\uff0c\u5b83\u7684\u51fd\u6570\u540d\u79f0\u5df2\u7ecf\u6539\u53d8\u4e86\uff1a</p> <pre><code>hello.__name__\n</code></pre> <pre><code>'wrapped'\n</code></pre> <p>Python \u4e2d\u7684 functools \u5305\u63d0\u4f9b\u4e86\u4e00\u4e2a<code>wraps</code>\u88c5\u9970\u5668\uff0c\u53ef\u4ee5\u6d88\u9664\u8fd9\u6837\u7684\u526f\u4f5c\u7528\uff1a</p> <pre><code>from functools import wraps\n\ndef makeitalic(func):\n    @wraps(func)       # \u52a0\u4e0a wraps \u88c5\u9970\u5668\n    def wrapped():\n        return \"&lt;i&gt;\" + func() + \"&lt;/i&gt;\"\n    return wrapped\n\n@makeitalic\ndef hello():\n    return 'hello world'\n\nhello.__name__\n</code></pre> <pre><code>'hello'\n</code></pre> <p>\u4e8b\u5b9e\u4e0a\uff0c\u88c5\u9970\u5668\u5c31\u662f\u95ed\u5305\u7684\u4e00\u79cd\u5e94\u7528\uff0c\u4f46\u5b83\u6bd4\u8f83\u7279\u522b\uff0c\u63a5\u6536\u88ab\u88c5\u9970\u51fd\u6570\u4e3a\u53c2\u6570\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\uff0c\u8d4b\u7ed9\u88ab\u88c5\u9970\u51fd\u6570\u7684\u6807\u8bc6\u7b26\uff0c\u95ed\u5305\u5219\u6ca1\u8fd9\u79cd\u9650\u5236\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/3.4.%E8%A3%85%E9%A5%B0%E5%99%A8.html#_8","title":"\u88c5\u9970\u5668\u7684\u5e94\u7528\u573a\u666f","text":"<p>\u524d\u9762\u4ecb\u7ecd\u4e86\u8fd9\u4e48\u591a\uff0c\u6211\u4eec\u5bf9\u88c5\u9970\u5668\u4e5f\u6709\u4e86\u4e00\u4e2a\u5927\u6982\u7684\u8ba4\u8bc6\uff0c\u4f46\u6b64\u65f6\uff0c\u5f88\u591a\u521d\u5b66\u8005\u5fc3\u91cc\u53ef\u80fd\u4f1a\u6709\u4e00\u4e2a\u7591\u60d1\u2014\u2014\u4f3c\u4e4e\u5f88\u591a\u65f6\u5019\u4e0d\u7528\u88c5\u9970\u5668\u4e5f\u6ca1\u95ee\u9898\uff0c\u90a3\u4e48\u5230\u5e95\u4ec0\u4e48\u65f6\u5019\u9700\u8981\u7528\u5230\u88c5\u9970\u5668\uff1f</p> <p>\u7684\u786e\uff0c\u5f88\u591a\u65f6\u5019\u53ea\u9488\u5bf9\u4e00\u4e24\u4e2a\u51fd\u6570\u4f7f\u7528\u88c5\u9970\u5668\u662f\u6ca1\u6709\u5fc5\u8981\u7684\u3002\u88c5\u9970\u5668\u4e00\u4e2a\u91cd\u8981\u7684\u5e94\u7528\u5728\u4e8e\uff0c\u5982\u679c\u5f88\u591a\u51fd\u6570\u6709\u5171\u540c\u7684\u4ee3\u7801\uff0c\u800c\u8fd9\u4e9b\u4ee3\u7801\u4e0e\u51fd\u6570\u529f\u80fd\u7684\u5b9e\u73b0\u53c8\u6ca1\u6709\u5173\u7cfb\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u8003\u8651\u5c06\u8fd9\u4e9b\u5171\u540c\u7684\u4ee3\u7801\u5229\u7528\u88c5\u9970\u5668\u7684\u5f62\u5f0f\u5b9e\u73b0\u3002\u4f8b\u5982\uff0c\u8bb0\u5f55\u51fd\u6570\u884c\u4e3a\u7684\u4ee3\u7801\uff08\u8ba1\u65f6\u3001\u8bb0\u5f55\u65e5\u5fd7\u3001\u9519\u8bef\u8b66\u544a\u7b49\uff09\u5c31\u53ef\u4ee5\u8003\u8651\u7528\u88c5\u9970\u5668\u6765\u5b9e\u73b0\u3002\u8fd9\u6837\u53ef\u4ee5\u590d\u7528\u4ee3\u7801\uff0c\u4fdd\u6301\u4ee3\u7801\u7684\u7b80\u6d01\uff0c\u8ba9\u4ee3\u7801\u66f4\u5bb9\u6613\u7ef4\u62a4\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u88c5\u9970\u5668\u7684\u7075\u6d3b\u6027\u53ef\u4ee5\u5e26\u6765\u66f4\u4f18\u96c5\u6216\u66f4\u7075\u6d3b\u7684\u5b9e\u73b0\uff0c\u4f8b\u5982\u6ce8\u5165\u53c2\u6570\uff08\u63d0\u4f9b\u9ed8\u8ba4\u53c2\u6570\u3001\u751f\u6210\u53c2\u6570\uff09\u3001\u9884\u5904\u7406/\u540e\u5904\u7406\u7b49\u7b49\u3002</p> <p>\u5f53\u7136\uff0c\u8fd8\u6709\u4e00\u79cd\u6700\u76f4\u63a5\u7684\u5e94\u7528\uff0c\u5982\u679c\u9700\u8981\u6539\u53d8\u51fd\u6570\u7684\u529f\u80fd\uff0c\u4f46\u51fa\u4e8e\u4e00\u4e9b\u8003\u8651\uff0c\u53c8\u4e0d\u60f3\u4fee\u6539\u539f\u51fd\u6570\u7684\u4ee3\u7801\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u7528\u88c5\u9970\u5668\u3002</p> <p>\u6700\u540e\uff0c\u5173\u4e8e\u88c5\u9970\u5668\u7684\u5177\u4f53\u5e94\u7528\uff0c\u53ef\u4ee5\u53c2\u8003 Python \u7684\u5b98\u65b9\u6587\u6863\u2014\u2014PythonDecoratorLibrary\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.1.%E7%B1%BB.html","title":"4.1.\u7c7b","text":"<pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.06.03\n</code></pre> <p>\u7c7b\u63d0\u4f9b\u4e86\u4e00\u79cd\u7ec4\u5408\u6570\u636e\u548c\u529f\u80fd\u7684\u65b9\u6cd5\u3002\u7c7b\u901a\u5e38\u662f\u4ee5\u4e0b\u90e8\u5206\u7ec4\u6210\u7684\u96c6\u5408\uff1a</p> <ol> <li>\u51fd\u6570\uff08\u79f0\u4e3a\u65b9\u6cd5\uff0cmethod\uff09\uff0c\u5305\u62ec\u7279\u6b8a\u65b9\u6cd5\uff08\u53c8\u79f0\u4e3a\u9b54\u672f\u65b9\u6cd5\uff09\u3001\u79c1\u6709\u65b9\u6cd5\u3001\u5b9e\u4f8b\u65b9\u6cd5\u3001\u7c7b\u65b9\u6cd5\u3001\u9759\u6001\u65b9\u6cd5</li> <li>\u53d8\u91cf\uff08\u79f0\u4e3a\u7c7b\u53d8\u91cf\u6216\u7c7b\u5c5e\u6027\uff0cclass variable/class attribute\uff09\uff0c\u7c7b\u53d8\u91cf\u662f\u5728\u7c7b\u7684\u6240\u6709\u5b9e\u4f8b\u4e4b\u95f4\u5171\u4eab\u7684\u503c\uff0c\u4e0d\u662f\u5355\u72ec\u5206\u914d\u7ed9\u6bcf\u4e2a\u5b9e\u4f8b\u7684</li> <li>\u8ba1\u7b97\u51fa\u7684\u5c5e\u6027\uff08\u79f0\u4e3a\u7279\u6027\uff0cproperty\uff09</li> </ol> <p>\u521b\u5efa\u4e00\u4e2a\u65b0\u7c7b\u610f\u5473\u7740\u521b\u5efa\u4e00\u4e2a\u65b0\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u4ece\u800c\u5141\u8bb8\u521b\u5efa\u4e00\u4e2a\u8be5\u7c7b\u578b\u7684\u65b0\u5b9e\u4f8b\u3002\u6bcf\u4e2a\u7c7b\u7684\u5b9e\u4f8b\u53ef\u4ee5\u62e5\u6709\u4fdd\u5b58\u81ea\u5df1\u72b6\u6001\u7684\u5c5e\u6027\u3002\u5bf9\u8c61\u53ef\u4ee5\u5305\u542b\u4efb\u610f\u6570\u91cf\u548c\u7c7b\u578b\u7684\u6570\u636e\u3002\u548c\u6a21\u5757\u4e00\u6837\uff0c\u7c7b\u4e5f\u62e5\u6709 Python \u5929\u7136\u7684\u52a8\u6001\u7279\u6027\uff1a\u5b83\u4eec\u5728\u8fd0\u884c\u65f6\u521b\u5efa\uff0c\u53ef\u4ee5\u5728\u521b\u5efa\u540e\u4fee\u6539\u3002\u5728Python\u4e2d\uff0c\u7ea6\u5b9a\u4f7f\u7528\u5355\u6570\u5355\u8bcd\u8868\u793a\u7c7b\u540d\uff0c\u5176\u9996\u5b57\u6bcd\u5927\u5199\u3002</p> <p>Python \u7684\u7c7b\u63d0\u4f9b\u4e86\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u6240\u6709\u6807\u51c6\u7279\u6027\uff1a</p> <ol> <li>\u591a\u6001\uff1a\u53ef\u4ee5\u5728\u5f53\u524d\u4e0a\u4e0b\u6587\u4e0d\u77e5\u9053\u5bf9\u8c61\u771f\u5b9e\u7c7b\u578b\u7684\u60c5\u51b5\u4e0b\uff0c\u8c03\u7528\u5bf9\u8c61\u7684\u5b9e\u73b0\uff0c\u4ece\u800c\u53ef\u4ee5\u5bf9\u4e0d\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\u6267\u884c\u76f8\u540c\u7684\u64cd\u4f5c\u3002</li> <li>\u5c01\u88c5\uff1a\u4e00\u4e2a\u5bf9\u8c61\u5bf9\u5916\u90e8\u9690\u85cf\u5176\u90e8\u5206\u72b6\u6001\u548c\u884c\u4e3a\uff08\u4e3a\u4e86\u9690\u85cf\u76f8\u5173\u5de5\u4f5c\u539f\u7406\u7684\u7ec6\u8282\uff09\uff0c\u4ec5\u5bf9\u5916\u90e8\u66b4\u9732\u6709\u9650\u7684\u63a5\u53e3\u3002</li> <li>\u7ee7\u627f\uff1a\u6839\u636e\u5df2\u6709\u7c7b\u521b\u5efa\u65b0\u7684\u7c7b\u3002\u5141\u8bb8\u6d3e\u751f\u7c7b\u7ee7\u627f\u591a\u4e2a\u57fa\u7c7b\uff0c\u6d3e\u751f\u7c7b\u53ef\u4ee5\u8986\u76d6\u57fa\u7c7b\u7684\u4efb\u4f55\u65b9\u6cd5\uff0c\u6d3e\u751f\u7c7b\u7684\u65b9\u6cd5\u53ef\u4ee5\u8c03\u7528\u57fa\u7c7b\u4e2d\u76f8\u540c\u540d\u79f0\u7684\u7684\u65b9\u6cd5\u3002</li> </ol>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.1.%E7%B1%BB.html#_1","title":"\u7c7b\u5b9e\u4f8b","text":"<p>\u7c7b\u7684\u5b9e\u4f8b\u662f\u4ee5\u51fd\u6570\u5f62\u5f0f\u8c03\u7528\u7c7b\u5bf9\u8c61\u6765\u521b\u5efa\u7684\u3002<code>__new__</code>\u65b9\u6cd5\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u5b9e\u4f8b\uff0c\u7136\u540e\u5c06\u8be5\u5b9e\u4f8b\u4f20\u9012\u7ed9\u7c7b\u7684<code>__init__()</code>\u65b9\u6cd5\u3002<code>__init__()</code>\u65b9\u6cd5\u4e3b\u8981\u7528\u4e8e\u521d\u59cb\u5316\u5b9e\u4f8b\uff0c\u5176\u53c2\u6570\u5305\u62ec\u65b0\u521b\u5efa\u7684\u5b9e\u4f8b<code>self</code>\u548c\u5728\u8c03\u7528\u7c7b\u5bf9\u8c61\u65f6\u63d0\u4f9b\u7684\u53c2\u6570\u3002</p> <p>\u5728<code>__init__()</code>\u5185\uff0c\u901a\u8fc7\u5c06\u5c5e\u6027\u5206\u914d\u7ed9<code>self</code>\u6765\u5c06\u5176\u4fdd\u5b58\u5230\u5b9e\u4f8b\u4e2d\uff0c\u8fd9\u6837\u7684\u5c5e\u6027\u79f0\u4e3a\u5b9e\u4f8b\u5c5e\u6027\u3002\u4f8b\u5982\uff0c<code>self.name = name</code>\u8868\u793a\u5c06<code>name</code>\u5c5e\u6027\u4fdd\u5b58\u5728\u5b9e\u4f8b\u4e2d\u3002\u5176\u4e2d\uff0c\u70b9<code>.</code>\u8fd0\u7b97\u7b26\u7528\u4e8e\u7ed1\u5b9a\u5c5e\u6027\u6216\u8bbf\u95ee\u5c5e\u6027\u3002</p> <p>\u8bbf\u95ee\u5c5e\u6027\u65f6\uff0c\u5c5e\u6027\u503c\u53ef\u80fd\u6765\u81ea\u591a\u4e2a\u4e0d\u540c\u7684\u5730\u65b9\u3002\u53ef\u80fd\u6765\u81ea\u5b9e\u4f8b\u72ec\u6709\u7684\u5c5e\u6027\uff0c\u4e5f\u53ef\u80fd\u6765\u81ea\u7c7b\u7684\u5c5e\u6027\u3002\u8bbf\u95ee\u5c5e\u6027\u65f6\uff0cPython \u9996\u5148\u4f1a\u68c0\u67e5\u5b9e\u4f8b\uff0c\u5982\u679c\u5b9e\u4f8b\u4e0d\u5305\u542b\u8be5\u5c5e\u6027\uff0c\u5219\u4f1a\u5bf9\u5b9e\u4f8b\u7684\u7c7b\u8fdb\u884c\u641c\u7d22\u3002\u8fd9\u662f\u7c7b\u4e0e\u5176\u6240\u6709\u5b9e\u4f8b\u5171\u4eab\u5176\u5c5e\u6027\u7684\u5e95\u5c42\u673a\u5236\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.1.%E7%B1%BB.html#_2","title":"\u7ee7\u627f","text":"<p>\u7ee7\u627f\u662f\u4e00\u79cd\u521b\u5efa\u65b0\u7c7b\u7684\u673a\u5236\uff0c\u76ee\u7684\u662f\u4f7f\u7528\u6216\u4fee\u6539\u73b0\u6709\u7c7b\u7684\u884c\u4e3a\u3002\u88ab\u7ee7\u627f\u7684\u7c7b\u79f0\u4e3a\u57fa\u7c7b\u6216\u8d85\u7c7b\u3002\u65b0\u7c7b\u79f0\u4e3a\u6d3e\u751f\u7c7b\u6216\u5b50\u7c7b\u3002\u901a\u8fc7\u7ee7\u627f\u521b\u5efa\u7c7b\u65f6\uff0c\u6240\u521b\u5efa\u7684\u7c7b\u5c06\u201c\u7ee7\u627f\u201d\u5176\u57fa\u7c7b\u5b9a\u4e49\u7684\u5c5e\u6027\u3002  \u4f46\u662f\uff0c\u6d3e\u751f\u7c7b\u53ef\u4ee5\u91cd\u65b0\u5b9a\u4e49\u57fa\u7c7b\u7684\u5c5e\u6027\uff0c\u5e76\u6dfb\u52a0\u81ea\u5df1\u7684\u65b0\u5c5e\u6027\u3002</p> <p>\u5728class\u8bed\u53e5\u4e2d\u7528\u4ee5\u9017\u53f7\u5206\u9694\u7684\u57fa\u7c7b\u540d\u79f0\u5217\u8868\u6765\u6307\u5b9a\u7ee7\u627f\uff0c\u4f8b\u5982\uff1a</p> <pre><code># class A inherits from class B and class C\nclass A(B, C):\n    pass\n</code></pre> <p>\u5728 Python 2 \u4e2d\uff0c\u4e00\u4e2a\u7c7b\u9ed8\u8ba4\u4e0d\u7ee7\u627f\u4efb\u4f55\u57fa\u7c7b\uff0c\u9664\u975e\u663e\u5f0f\u6307\u5b9a\u7ee7\u627f\u7684\u57fa\u7c7b\uff0c\u8fd9\u79cd\u7c7b\u79f0\u4e3a old-style class\uff08\u65e7\u5f0f\u7c7b\uff09\u3002</p> <pre><code># class A does not inherit from any base class\nclass A:\n    def __init__(self):\n        pass\n</code></pre> <p>Python 2.2 \u5f15\u5165\u4e86 new-style class\uff08\u65b0\u5f0f\u7c7b\uff09\uff0c\u5176\u5efa\u8bae\u65b0\u7684\u7c7b\u578b\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u5b9a\u4e49\uff1a</p> <pre><code># class A inherits from object\nclass A(object):\n    def __init__(self):\n        pass\n</code></pre> <p>Python 2.3 \u53ca\u540e\u7eed\u7248\u672c\u4e3a\u4e86\u4fdd\u6301\u5411\u4e0b\u517c\u5bb9\uff0c\u540c\u65f6\u63d0\u4f9b\u4ee5\u4e0a\u4e24\u79cd\u7c7b\u5b9a\u4e49\u7528\u4ee5\u533a\u5206 old-style class \u548c new-style class\u3002Python 3 \u5219\u5b8c\u5168\u5e9f\u5f03\u4e86 old-style class \u7684\u6982\u5ff5\uff0c\u5728Python 3\u4e2d\uff0c\u5982\u679c\u6ca1\u6709\u663e\u5f0f\u6307\u5b9a\u57fa\u7c7b\uff0c\u7c7b\u5c06\u9ed8\u8ba4\u7ee7\u627f object \u3002\u56e0\u6b64\uff0cobject \u662f\u6240\u6709Python 3\u5bf9\u8c61\u7684\u57fa\u7c7b\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5e38\u89c1\u65b9\u6cd5\uff08\u5982<code>__str__()</code>\uff0c\u5b83\u53ef\u521b\u5efa\u4f9b<code>print</code>\u51fd\u6570\u4f7f\u7528\u7684\u5b57\u7b26\u4e32\uff09\u7684\u9ed8\u8ba4\u5b9e\u73b0\u3002</p> <p>\u7ee7\u627f\u901a\u5e38\u7528\u4e8e\u91cd\u65b0\u5b9a\u4e49\u73b0\u6709\u65b9\u6cd5\u7684\u884c\u4e3a\u3002</p> <p>\u7ee7\u627f\u662f\u7528\u529f\u80fd\u7a0d\u5fae\u589e\u5f3a\u7684\u70b9<code>.</code>\u8fd0\u7b97\u7b26\u5b9e\u73b0\u7684\u3002\u5177\u4f53\u6765\u8bb2\uff0c\u5728\u641c\u7d22\u4e00\u4e2a\u5c5e\u6027\u65f6\uff0c\u5982\u679c\u672a\u5728\u5b9e\u4f8b\u6216\u5b9e\u4f8b\u7684\u7c7b\u4e2d\u627e\u5230\u5339\u914d\u9879\uff0c\u5c06\u4f1a\u7ee7\u7eed\u641c\u7d22\u5176\u57fa\u7c7b\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4f1a\u4e00\u76f4\u7ee7\u7eed\u4e0b\u53bb\uff0c\u76f4\u5230\u6ca1\u6709\u66f4\u591a\u7684\u57fa\u7c7b\u53ef\u4f9b\u641c\u7d22\u4e3a\u6b62\u3002</p> <p>\u6d3e\u751f\u7c7b\u91cd\u5b9a\u4e49\u57fa\u7c7b\u7684\u65b9\u6cd5\u540e\uff0c\u4e0d\u4f1a\u518d\u81ea\u52a8\u8c03\u7528\u57fa\u7c7b\u7684\u540c\u540d\u65b9\u6cd5\u3002\u4f8b\u5982\u6d3e\u751f\u7c7b\u91cd\u5b9a\u4e49\u4e86<code>__init__()</code>\uff0c\u521b\u5efa\u5b9e\u4f8b\u65f6\u4fbf\u4e0d\u4f1a\u81ea\u52a8\u8c03\u7528\u57fa\u7c7b\u7684<code>__init__()</code>\u65b9\u6cd5\u3002\u4f46\u6709\u65f6\u5019\uff0c\u6d3e\u751f\u7c7b\u867d\u7136\u91cd\u5b9a\u4e49\u4e86<code>__init__()</code>\uff0c\u4f46\u662f\u8fd8\u60f3\u8c03\u7528\u57fa\u7c7b\u7684<code>__init__()</code>\u65b9\u6cd5\u6765\u8fdb\u884c\u6070\u5f53\u7684\u521d\u59cb\u5316\u3002\u6b64\u65f6\uff0c\u6d3e\u751f\u7c7b\u53ef\u4ee5\u663e\u5f0f\u5730\u8c03\u7528\u57fa\u7c7b\u7684\u65b9\u6cd5 \u3002\u5982\u679c\u57fa\u7c7b\u672a\u5b9a\u4e49<code>__init__()</code>\uff0c\u5c31\u53ef\u4ee5\u5ffd\u7565\u8fd9\u4e00\u6b65\u3002\u5982\u679c\u4e0d\u77e5\u9053\u57fa\u7c7b\u662f\u5426\u5b9a\u4e49\u4e86<code>__init__()</code>\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u4e0d\u63d0\u4f9b\u4efb\u4f55\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\u8c03\u7528\u5b83\uff0c\u56e0\u4e3a\u59cb\u7ec8\u5b58\u5728\u4e00\u4e2a\u4e0d\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\u7684\u9ed8\u8ba4<code>__init__()</code>\u5b9e\u73b0\u3002</p> <pre><code># \u5b9a\u4e49\u4e00\u4e2a\u4eba\u7c7b\nclass Person:\n    def __init__(self, name, age):\n        self.name = name\n        self.age = age\n\n    def get_name(self):\n        return self.name\n\n    def get_age(self):\n        return self.age\n\n# \u5b9a\u4e49\u4e00\u4e2a\u7f8e\u56fd\u4eba\u7c7b\n## \u73b0\u5728\u60f3\u7ed9\u7f8e\u56fd\u4eba\u5728\u521d\u59cb\u5316\u7684\u65f6\u5019\u52a0\u4e0a'\u6027\u522b'\u7684\u5c5e\u6027\nclass American(Person):\n    # \u91cd\u65b0\u5b9a\u4e49__init__()\u4f1a\u8986\u76d6Person\u7684__init__()\u65b9\u6cd5\n    def __init__(self, name, age, gender):\n        # \u663e\u5f0f\u8c03\u7528\u57fa\u7c7b\u7684__init__()\u65b9\u6cd5\n        Person.__init__(self, name, age)\n        self.gender = gender\n\n    def get_gender(self):\n        return self.gender\n\n\njackson = American(name=\"Cesar T. Mauck\", age=14, gender=\"male\")\nprint(jackson.get_age())\nprint(jackson.get_gender())\n</code></pre> <pre><code>14\nmale\n</code></pre> <p>\u6d3e\u751f\u7c7b\u663e\u5f0f\u5730\u8c03\u7528\u57fa\u7c7b\u7684\u65b9\u6cd5\u5e76\u4e0d\u603b\u662f\u597d\u7684\u3002\u4f8b\u5982\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a</p> <pre><code># \u5b9a\u4e49\u4e00\u4e2a\u534e\u76db\u987f\u4eba\u7c7b\nclass Washington(American):\n    def get_age(self):\n        return f\"{self.age} years old\"\n\n    def growing_up(self):\n        # \u663e\u5f0f\u5730\u8c03\u7528\u57fa\u7c7b\u4e2d\u7684\u539f\u59cb\u65b9\u6cd5\n        age = American.get_age(self)\n        age += 1\n        self.age = age\n        print(\"Washington people grow up one year old\")\n</code></pre> <p>\u8fd9\u4e2a\u4f8b\u5b50\u7684\u5fae\u5999\u4e4b\u5904\u5728\u4e8e\uff0cAmerican\u8fd9\u4e2a\u7c7b\u5176\u5b9e\u6ca1\u6709\u5b9e\u73b0<code>get_age()</code>\u65b9\u6cd5\u3002\u8be5\u65b9\u6cd5\u662f\u5728Person\u7c7b\u4e2d\u5b9e\u73b0\u7684\u3002\u5c3d\u7ba1\u8fd9\u6bb5\u4ee3\u7801\u80fd\u591f\u8fd0\u884c\uff0c\u4f46\u5b83\u53ef\u80fd\u4f1a\u5f15\u8d77\u4e00\u4e9b\u6df7\u6dc6\uff08\u4f8b\u5982\uff0cAmerican\u662f\u5426\u5e94\u8be5\u5b9e\u73b0<code>get_age()</code>? \uff09\u3002\u56e0\u6b64\uff0c\u66ff\u4ee3\u89e3\u51b3\u65b9\u6848\u662f\u7528<code>super()</code>\u51fd\u6570\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code># \u5b9a\u4e49\u4e00\u4e2a\u52a0\u5229\u798f\u5c3c\u4e9a\u4eba\u7c7b\nclass California(American):\n    def get_age(self):\n        return f\"{self.age} years old\"\n    def growing_up(self):\n        ## \u5b9e\u9645\u4e0a\uff0c\u56e0\u4e3aget_age()\u65b9\u6cd5\u5728Person\u4e2d\u5b9a\u4e49\n        ## \u8fd9\u91cc\u53ef\u4ee5\u4f20\u5165Person\u7684\u4efb\u4f55\u4e00\u4e2a\u6d3e\u751f\u7c7b\n        age = super(California, self).get_age()\n        age += 1\n        self.age = age\n        print(\"Californians grow up one year old\")\n\nTerri = California(\"Terri H. Booth\", 25, \"female\")\nTerri.growing_up()\n</code></pre> <pre><code>Californians grow up one year old\n</code></pre> <p><code>super(cls, instance)</code>\u4f1a\u8fd4\u56de\u4e00\u4e2a\u7279\u6b8a\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u652f\u6301\u5728\u57fa\u7c7b\u4e0a\u6267\u884c\u5c5e\u6027\u67e5\u627e\u3002\u5982\u679c\u4f7f\u7528\u8be5\u51fd\u6570\uff0cPython\u5c06\u4f7f\u7528\u672c\u6765\u5e94\u8be5\u5728\u57fa\u7c7b\u4e0a\u4f7f\u7528\u7684\u6b63\u5e38\u641c\u7d22\u89c4\u5219\u6765\u641c\u7d22\u5c5e\u6027\u3002\u6709\u4e86\u8fd9\u79cd\u65b9\u5f0f\uff0c\u5c31\u65e0\u9700\u5199\u6b7b\u65b9\u6cd5\u4f4d\u7f6e\uff0c\u5e76\u4e14\u80fd\u66f4\u6e05\u6670\u5730\u9648\u8ff0\u4f60\u7684\u610f\u56fe\uff08\u5373\u4f60\u5e0c\u671b\u8c03\u7528\u4ee5\u524d\u7684\u5b9e\u73b0\uff0c\u65e0\u8bba\u5b83\u662f\u54ea\u4e2a\u57fa\u7c7b\u5b9a\u4e49\u7684\uff09\u3002\u7136\u800c\uff0c<code>super()</code>\u7684\u8bed\u6cd5\u5c1a\u6709\u4e0d\u8db3\u4e4b\u5904\u3002\u5982\u679c\u4f7f\u7528Python 3\uff0c\u53ef\u4ee5\u4f7f\u7528\u7b80\u5316\u7684\u8bed\u53e5<code>super().get_age()</code>\u6765\u6267\u884c\u4e0a\u9762\u793a\u4f8b\u4e2d\u7684\u8ba1\u7b97\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.1.%E7%B1%BB.html#_3","title":"\u591a\u91cd\u7ee7\u627f","text":"<p>Python\u652f\u6301\u591a\u91cd\u7ee7\u627f\u3002\u901a\u8fc7\u8ba9\u4e00\u4e2a\u7c7b\u5217\u51fa\u591a\u4e2a\u57fa\u7c7b\u5373\u53ef\u6307\u5b9a\u591a\u91cd\u7ee7\u627f\u3002\u4f8b\u5982\uff1a</p> <pre><code># \u5b9a\u4e49\u4e00\u4e2a\u5723\u62c9\u8499\u4eba\u7c7b\nclass SanRamon(California, Washington, American):\n    def growing_up(self):\n        pass\n\n\nEdwin = SanRamon(\"Edwin A. Marcotte\", 37, \"male\")\nEdwin.get_age()\n</code></pre> <pre><code>'37 years old'\n</code></pre> <p>\u4f7f\u7528\u591a\u91cd\u7ee7\u627f\u65f6\uff0c\u5c5e\u6027\u7684\u89e3\u6790\u4f1a\u53d8\u5f97\u975e\u5e38\u590d\u6742\uff0c\u56e0\u4e3a\u53ef\u4ee5\u4f7f\u7528\u5f88\u591a\u641c\u7d22\u8def\u5f84\u6765\u7ed1\u5b9a\u5c5e\u6027\u3002</p> <p>\u5728\u4f7f\u7528\u4e86\u591a\u91cd\u7ee7\u627f\u7684\u7c7b\u4e2d\u67e5\u627e\u5c5e\u6027\u65f6\uff0c\u4f1a\u5c06\u6240\u6709\u57fa\u7c7b\u6309\u4ece\u201c\u6700\u7279\u6b8a\u201d\u7684\u7c7b\u5230\u201c\u6700\u4e0d\u7279\u6b8a\u201d\u7684\u7c7b\u8fd9\u79cd\u987a\u5e8f\u8fdb\u884c\u6392\u5217\u3002\u7136\u540e\u5728\u641c\u7d22\u5c5e\u6027\u65f6\uff0c\u5c31\u4f1a\u6309\u8fd9\u4e2a\u987a\u5e8f\u641c\u7d22\uff0c\u76f4\u81f3\u627e\u5230\u8be5\u5c5e\u6027\u7684\u7b2c\u4e00\u4e2a\u5b9a\u4e49\u3002\u5bf9\u4e8e\u4efb\u4f55\u7ed9\u5b9a\u7684\u7c7b\uff0c\u901a\u8fc7\u6253\u5370\u5b83\u7684 <code>__mro__</code> \u5c5e\u6027\u5373\u53ef\u67e5\u770b\u57fa\u7c7b\u7684\u641c\u7d22\u987a\u5e8f\uff08\u6216\u8005\u8c03\u7528<code>mro()</code>\u65b9\u6cd5\uff09\uff0c\u4f8b\u5982\uff1a</p> <pre><code>SanRamon.__mro__\n</code></pre> <pre><code>(__main__.SanRamon,\n __main__.California,\n __main__.Washington,\n __main__.American,\n __main__.Person,\n object)\n</code></pre> <pre><code>SanRamon.mro()\n</code></pre> <pre><code>[__main__.SanRamon,\n __main__.California,\n __main__.Washington,\n __main__.American,\n __main__.Person,\n object]\n</code></pre> <p>\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e2a\u5217\u8868\u57fa\u4e8e\u201c\u6709\u610f\u4e49\u201d\u7684\u89c4\u5219\u6392\u5217\u5f97\u51fa\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u59cb\u7ec8\u5148\u68c0\u67e5\u6d3e\u751f\u7c7b\uff0c\u7136\u540e\u518d\u68c0\u67e5\u5176\u57fa\u7c7b\uff0c\u5982\u679c\u4e00\u4e2a\u7c7b\u5177\u6709\u591a\u4e2a\u57fa\u7c7b\uff0c\u90a3\u4e48\u59cb\u7ec8\u6309\u7c7b\u5b9a\u4e49\u4e2d\u5217\u51fa\u7684\u57fa\u7c7b\u987a\u5e8f\u68c0\u67e5\u8fd9\u4e9b\u57fa\u7c7b\u3002\u4f46\u662f\uff0c\u57fa\u7c7b\u7684\u51c6\u786e\u987a\u5e8f\u5b9e\u9645\u4e0a\u975e\u5e38\u590d\u6742\uff0c\u4e0d\u662f\u57fa\u4e8e\u4efb\u4f55\u201c\u7b80\u5355\u7684\u201d\u7b97\u6cd5\uff0c\u5982\u6df1\u5ea6\u4f18\u5148\u6216\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\u3002\u5b9e\u9645\u4e0a\uff0c\u57fa\u7c7b\u7684\u987a\u5e8f\u7531 C3 \u7ebf\u6027\u5316\u7b97\u6cd5\u786e\u5b9a\uff0c\u53ef\u4ee5\u5728\u8bba\u6587\u201cA Monotonic Superclass Linearization for Dylan\u201d\uff08K. Barrett \u7b49\uff0c\u53d1\u8868\u4e8e OOPSLA\u201996\uff09\u4e2d\u627e\u5230\u8be5\u7b97\u6cd5\u7684\u4ecb\u7ecd\u3002\u8be5\u7b97\u6cd5\u7684\u4e00\u4e2a\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\u662f\uff0c\u67d0\u4e9b\u7c7b\u5c42\u6b21\u7ed3\u6784\u5c06\u88ab Python \u62d2\u7edd\u5e76\u4f1a\u629b\u51fa<code>TypeError</code>\u9519\u8bef\uff0c\u4f8b\u5982\uff1a</p> <pre><code>try:\n    class SanRamon(American, California, Washington):\n        def growing_up(self):\n            pass\nexcept TypeError as e:\n    print(\"TypeError\", e)\n</code></pre> <pre><code>TypeError Cannot create a consistent method resolution\norder (MRO) for bases American, California, Washington\n</code></pre> <p>\u4f60\u53ef\u80fd\u5df2\u7ecf\u6ce8\u610f\u5230\uff0c<code>SanRamon</code>\u7c7b\u7684\u7ee7\u627f\u5217\u8868\u662f\u4ece\u6700\u4e0d\u7279\u6b8a\u5230\u7279\u6b8a\u7684\uff0c\u56e0\u4e3a<code>American</code>\u662f<code>California</code>\u548c<code>Washington</code>\u7684\u57fa\u7c7b\u3002\u8fd9\u4e5f\u6b63\u662f\u8be5\u7c7b\u5c42\u6b21\u7ed3\u6784\u4f1a\u51fa\u9519\u7684\u539f\u56e0\u3002\u5177\u4f53\u7684\u539f\u56e0\u6d89\u53caC3\u7b97\u6cd5\u7684\u7ec6\u8282\uff0c\u9650\u4e8e\u7bc7\u5e45\uff0c\u8fd9\u91cc\u4e0d\u5c55\u5f00\u53d9\u8ff0\u3002\u5173\u4e8ePython MRO\u7b97\u6cd5\u7684\u8be6\u7ec6\u4ecb\u7ecd\u53c2\u8003\u300a4.2.\u591a\u91cd\u7ee7\u627f\u548cMRO\u300b\u3002</p> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u5728\u5927\u591a\u6570\u7a0b\u5e8f\u4e2d\u6700\u597d\u907f\u514d\u4f7f\u7528\u591a\u91cd\u7ee7\u627f \u3002\u4f46\u662f\uff0c\u591a\u91cd\u7ee7\u627f\u6709\u65f6\u53ef\u7528\u4e8e\u5b9a\u4e49\u6240\u8c13\u7684\u6df7\u5408\uff08mixin\uff09\u7c7b\u3002\u6df7\u5408\u7c7b\u901a\u5e38\u5b9a\u4e49\u4e86\u8981\u201c\u6df7\u5408\u5230\u201d\u5176\u4ed6\u7c7b\u4e2d\u7684\u4e00\u7ec4\u65b9\u6cd5\uff0c\u76ee\u7684\u662f\u6dfb\u52a0\u66f4\u591a\u7684\u529f\u80fd\uff08\u8fd9\u4e0e\u5b8f\u5f88\u7c7b\u4f3c\uff09\u3002\u901a\u5e38\uff0c\u6df7\u5408\u7c7b\u4e2d\u7684\u65b9\u6cd5\u5c06\u5047\u5b9a\u5176\u4ed6\u65b9\u6cd5\u5b58\u5728\uff0c\u5e76\u5c06\u4ee5\u8fd9\u4e9b\u65b9\u6cd5\u4e3a\u57fa\u7840\u6784\u5efa\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.1.%E7%B1%BB.html#_4","title":"\u591a\u6001\u52a8\u6001\u7ed1\u5b9a\u548c\u9e2d\u5b50\u7c7b\u578b","text":"<p>\u52a8\u6001\u7ed1\u5b9a\uff08\u5728\u7ee7\u627f\u80cc\u666f\u4e0b\u4f7f\u7528\u65f6\uff0c\u6709\u65f6\u4e5f\u79f0\u4e3a\u591a\u6001\u6027\uff09\u662f\u6307\u5728\u4e0d\u8003\u8651\u5b9e\u4f8b\u7c7b\u578b\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\u5b9e\u4f8b\uff0c\u53ea\u8981\u4ee5<code>obj.attr</code>\u7684\u5f62\u5f0f\u8bbf\u95ee\u5c5e\u6027\uff0c\u5c31\u4f1a\u6309\u7167\u4e00\u5b9a\u7684\u987a\u5e8f\u641c\u7d22\u5e76\u5b9a\u4f4d<code>attr</code>\uff1a\u9996\u5148\u662f\u5b9e\u4f8b\u672c\u8eab\uff0c\u63a5\u7740\u662f\u5b9e\u4f8b\u7684\u7c7b\u5b9a\u4e49\uff0c\u7136\u540e\u662f\u57fa\u7c7b\u3002 \u67e5\u627e\u8fc7\u7a0b\u4f1a\u8fd4\u56de\u7b2c\u4e00\u4e2a\u5339\u914d\u9879\u3002</p> <p>\u8fd9\u79cd\u7ed1\u5b9a\u8fc7\u7a0b\u7684\u5173\u952e\u5728\u4e8e\uff0c\u5b83\u4e0d\u53d7\u5bf9\u8c61 obj \u7684\u7c7b\u578b\u5f71\u54cd\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6267\u884c\u50cf <code>obj.name</code> \u8fd9\u6837\u7684\u67e5\u627e\uff0c\u5bf9\u6240\u6709\u62e5\u6709 <code>name</code> \u5c5e\u6027\u7684 obj \u90fd\u662f\u9002\u7528\u7684\u3002</p> <p>polymorphism \u6e90\u81ea\u5e0c\u814a\u8bed\uff0c\u610f\u601d\u662f\u201c\u6709\u591a\u79cd\u5f62\u6001\u201d\u3002\u8fd9\u5927\u81f4\u610f\u5473\u7740\u5373\u4fbf\u4f60\u4e0d\u77e5\u9053\u53d8\u91cf\u6307\u5411\u7684\u662f\u54ea\u79cd\u5bf9\u8c61\uff0c\u4e5f\u80fd\u591f\u5bf9\u5176\u6267\u884c\u64cd\u4f5c\uff0c\u4e14\u64cd\u4f5c\u7684\u884c\u4e3a\u5c06\u968f\u5bf9\u8c61\u6240\u5c5e\u7684\u7c7b\u578b\uff08\u7c7b\uff09\u800c\u5f02\u3002\u4e5f\u5c31\u662f\u540c\u4e00\u79cd\u8c03\u7528\u5f62\u5f0f\uff0c\u4f46\u6709\u4e0d\u540c\u7684\u6267\u884c\u6548\u679c\u3002</p> <p>\u5728Python\u4e2d\uff0c\u591a\u6001\u4e5f\u79f0\u4e3a\u9e2d\u5b50\u7c7b\u578b\uff08duck typing\uff09\u3002\u8fd9\u4e2a\u672f\u8bed\u6e90\u81ea James Whitcomb Riley \u572817\u4e16\u7eaa\u5199\u4e0b\u7684\u4e00\u53e5\u8bd7\uff1a</p> <p> When I see a bird that walks like a duck   and swims like a duck   and quacks like a duck,   I call that bird a duck. </p> <p>\u771f\u4e0d\u77e5\u9053\u8c01\u60f3\u51fa\u8fd9\u4e2a\u672f\u8bed\u7684\uff0c\u5982\u679c\u7528\u6570\u5b66\u672f\u8bed\u6765\u7c7b\u6bd4\uff0c\u9e2d\u5b50\u7c7b\u578b\u76f8\u5f53\u4e8e\u6570\u5b66\u7684\u516c\u7406\u5316\u5b9a\u4e49\uff0c\u4e0d\u5173\u5fc3\u662f\u4ec0\u4e48\uff0c\u53ea\u5173\u5fc3\u6709\u4ec0\u4e48\u7279\u6027\u3002</p> <p>Python \u7a0b\u5e8f\u5458\u7ecf\u5e38\u7f16\u5199\u5229\u7528\u8fd9\u79cd\u884c\u4e3a\u7684\u7a0b\u5e8f\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60f3\u7f16\u5199\u73b0\u6709\u5bf9\u8c61\u7684\u81ea\u5b9a\u4e49\u7248\u672c\uff0c\u53ef\u4ee5\u7ee7\u627f\u8be5\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u5916\u89c2\u548c\u884c\u4e3a\u50cf\u5b83\u4f46\u4e0e\u5b83\u65e0\u4efb\u4f55\u5173\u7cfb\u7684\u5168\u65b0\u5bf9\u8c61\u3002\u540e\u4e00\u79cd\u65b9\u6cd5\u901a\u5e38\u7528\u4e8e\u4fdd\u6301\u7a0b\u5e8f\u7ec4\u4ef6\u7684\u677e\u6563\u8026\u5408\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u7f16\u5199\u4ee3\u7801\u6765\u5904\u7406\u4efb\u4f55\u79cd\u7c7b\u7684\u5bf9\u8c61\uff0c\u53ea\u8981\u8be5\u5bf9\u8c61\u62e5\u6709\u7279\u5b9a\u7684\u65b9\u6cd5\u96c6\u3002\u6700\u5e38\u89c1\u7684\u4f8b\u5b50\u5c31\u662f\u5229\u7528\u6807\u51c6\u5e93\u4e2d\u5b9a\u4e49\u7684\u5404\u79cd\u201c\u7c7b\u4f3c\u6587\u4ef6\u201d\u7684\u5bf9\u8c61\u3002\u5c3d\u7ba1\u8fd9\u4e9b\u5bf9\u8c61\u7684\u5de5\u4f5c\u65b9\u5f0f\u50cf\u6587\u4ef6\uff0c\u4f46\u5b83\u4eec\u5e76\u4e0d\u662f\u7ee7\u627f\u81ea\u5185\u7f6e\u6587\u4ef6\u5bf9\u8c61\u7684\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.1.%E7%B1%BB.html#_5","title":"\u5b9e\u4f8b\u65b9\u6cd5","text":"<p>\u7c7b\u4e2d\u6700\u5e38\u7528\u7684\u65b9\u6cd5\u662f\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u5373\u5c06\u5b9e\u4f8b\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u9012\u7ed9\u8be5\u65b9\u6cd5\u3002\u6839\u636e\u7ea6\u5b9a\uff0c\u8fd9\u4e2a\u53c2\u6570\u540d\u79f0\u4e3a<code>self</code>\uff0c\u5c3d\u7ba1\u6240\u6709\u5408\u6cd5\u7684\u6807\u8bc6\u7b26\u90fd\u53ef\u4ee5\u4f7f\u7528\u3002<code>self</code> \u53c2\u6570\u6307\u5411\u5bf9\u8c61\u672c\u8eab\u3002</p> <p><code>self</code> \u53c2\u6570\u5f88\u6709\u7528\uff0c\u751a\u81f3\u5fc5\u4e0d\u53ef\u5c11\u3002\u5982\u679c\u6ca1\u6709\u5b83\uff0c\u6240\u6709\u7684\u65b9\u6cd5\u90fd\u65e0\u6cd5\u8bbf\u95ee\u5bf9\u8c61\u672c\u8eab\u3002\u4ee5\u4e0b\u662f\u5b9e\u4f8b\u65b9\u6cd5\u7684\u4f8b\u5b50\uff1a</p> <pre><code>class Kls(object):\n    def __init__(self, data):\n        self.data = data\n\n    def printd(self):\n        print(self.data)\n\nik1 = Kls('arun')\nik2 = Kls('seema')\n\nik1.printd()\nik2.printd()\n</code></pre> <pre><code>arun\nseema\n</code></pre> <p></p> <p>\u7136\u540e\u770b\u4e00\u4e0b\u4ee3\u7801\u548c\u793a\u4f8b\u56fe\u7247:</p> <ul> <li>\u57281\u30012\u4e2d\uff0c\u4f20\u9012<code>data</code>\u53c2\u6570\u7ed9<code>__init__</code>\u65b9\u6cd5\u3002</li> <li>\u57283\u30014\u4e2d\uff0c<code>self</code>\u53c2\u6570\u6307\u5411\u5f53\u524d\u5b9e\u4f8b\u3002\u6211\u4eec\u4e0d\u9700\u8981\u7ed9\u65b9\u6cd5\u63d0\u4f9b\u5b9e\u4f8b\uff0cPython\u89e3\u91ca\u5668\u81ea\u5df1\u4f1a\u505a\u8fd9\u4e9b\u64cd\u4f5c\u3002</li> </ul>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.1.%E7%B1%BB.html#_6","title":"\u9759\u6001\u65b9\u6cd5","text":"<p>\u5185\u5bb9\u63d0\u8981</p> <p>\u4ee5\u4e0b\u4e24\u4e2a\u4ee3\u7801\u793a\u4f8b\u4ecb\u7ecd\u4e86\u9759\u6001\u65b9\u6cd5\u7684\u4e24\u4e2a\u5e94\u7528\u573a\u666f\uff1a</p> <ul> <li> <p>\u4e0d\u9700\u8981\u8bbf\u95ee\u5b9e\u4f8b\u5bf9\u8c61\u6216\u7c7b\u5bf9\u8c61\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\uff0c\u4f46\u4e0e\u7c7b\u6709\u5173\u7684\u529f\u80fd</p> </li> <li> <p>\u521b\u5efa\u6784\u9020\u51fd\u6570</p> </li> </ul> <p>\u7ecf\u5e38\u6709\u4e00\u4e9b\u8ddf\u7c7b\u6709\u5173\u7cfb\u7684\u529f\u80fd\uff0c\u4f46\u5728\u8fd0\u884c\u65f6\u53c8\u4e0d\u9700\u8981\u5b9e\u4f8b\u6216\u7c7b\u53c2\u4e0e\uff08\u6bd4\u5982\u66f4\u6539\u73af\u5883\u53d8\u91cf\u6216\u8005\u4fee\u6539\u5176\u4ed6\u7c7b\u7684\u5c5e\u6027\uff09\u3002\u5f53\u7136\u53ef\u4ee5\u5728\u7c7b\u5b9a\u4e49\u4e4b\u5916\u5199\u4e00\u4e2a\u51fd\u6570\u5b9e\u73b0\u8fd9\u4e9b\u529f\u80fd\uff0c\u4f46\u8fd9\u6837\u4f1a\u6269\u6563\u7c7b\u5185\u90e8\u7684\u4ee3\u7801\uff0c\u4e0d\u5229\u4e8e\u4ee3\u7801\u7684\u7ef4\u62a4\u3002\u6bd4\u5982\u8fd9\u6837\uff1a</p> <pre><code>IND = 'ON'\n\n\n\ndef checkind():\n    return (IND == 'ON')\n\n\nclass Kls(object):\n    def __init__(self, data):\n        self.data = data\n\n\ndef do_reset(self):\n    if checkind():\n        print('Reset done for:', self.data)\n\n\ndef set_db(self):\n    if checkind():\n        self.db = 'new db connection'\n        print('DB connection made for:', self.data)\n\n\nik1 = Kls(12)\ndo_reset(ik1)  # Reset done for: 12\nset_db(ik1)    # DB connection made for: 12\n</code></pre> <p>\u5982\u679c\u4f7f\u7528<code>@staticmethod</code>\u5c31\u80fd\u628a\u76f8\u5173\u7684\u4ee3\u7801\u653e\u5230\u5bf9\u5e94\u7684\u4f4d\u7f6e\u4e86\u3002</p> <pre><code>IND = 'ON'\n\nclass Kls(object):\n    def __init__(self, data):\n        self.data = data\n\n    @staticmethod\n    def checkind():\n        return (IND == 'ON')\n\n    def do_reset(self):\n        if self.checkind():\n            print('Reset done for:', self.data)\n\n    def set_db(self):\n        if self.checkind():\n            self.db = 'New db connection'\n        print('DB connection made for: ', self.data)\n\n\nik1 = Kls(12)\nik1.do_reset()\nik1.set_db()\n</code></pre> <pre><code>Reset done for: 12\nDB connection made for:  12\n</code></pre> <p>\u5b9e\u9645\u4e0a\uff0c\u9759\u6001\u65b9\u6cd5\u662f\u4e00\u79cd\u666e\u901a\u51fd\u6570\uff0c\u53ea\u4e0d\u8fc7\u5b83\u4eec\u6b63\u597d\u4f4d\u4e8e\u7c7b\u5b9a\u4e49\u7684\u547d\u540d\u7a7a\u95f4\u4e2d\uff0c\u56e0\u4e3a\u5b83\u4e0d\u4f1a\u5bf9\u4efb\u4f55\u5b9e\u4f8b\u7c7b\u578b\u8fdb\u884c\u64cd\u4f5c\u3002</p> <p>\u5982\u679c\u5728\u7f16\u5199\u7c7b\u65f6\u9700\u8981\u91c7\u7528\u5f88\u591a\u4e0d\u540c\u7684\u65b9\u5f0f\u6765\u521b\u5efa\u65b0\u5b9e\u4f8b\uff0c\u5219\u5e38\u5e38\u4f7f\u7528\u9759\u6001\u65b9\u6cd5\u3002\u56e0\u4e3a\u7c7b\u4e2d\u53ea\u80fd\u6709\u4e00\u4e2a <code>__init__()</code> \u51fd\u6570\uff0c\u6240\u4ee5\u66ff\u4ee3\u7684\u521b\u5efa\u51fd\u6570\u901a\u5e38\u6309\u5982\u4e0b\u65b9\u5f0f\u5b9a\u4e49\uff1a</p> <pre><code>import time\n\n\nclass Date(object):\n    def __init__(self, year, month, day):\n        self.year = year\n        self.month = month\n        self.day = day\n\n    @staticmethod\n    def now():\n        t = time.localtime()\n        return Date(t.tm_year, t.tm_mon, t.tm_mday)\n\n    @staticmethod\n    def tomorrow():\n        t = time.localtime(time.time()+86400)\n        return Date(t.tm_year, t.tm_mon, t.tm_mday)\n\n\n# \u521b\u5efa\u65e5\u671f\u7684\u793a\u4f8b\na = Date(1967, 4, 9)\nb = Date.now()       # \u8c03\u7528\u9759\u6001\u65b9\u6cd5now()\nc = Date.tomorrow()  # \u8c03\u7528\u9759\u6001\u65b9\u6cd5tomorrow()\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.1.%E7%B1%BB.html#_7","title":"\u7c7b\u65b9\u6cd5","text":"<p>\u5185\u5bb9\u63d0\u8981</p> <p>\u4ee5\u4e0b\u4e24\u4e2a\u4ee3\u7801\u793a\u4f8b\u4ecb\u7ecd\u4e86\u7c7b\u65b9\u6cd5\u7684\u4e24\u4e2a\u5e94\u7528\u573a\u666f\uff1a</p> <ul> <li> <p>\u5728\u7ee7\u627f\u7684\u573a\u666f\u4e2d\uff0c\u521b\u5efa\u6784\u9020\u51fd\u6570</p> </li> <li> <p>\u52a8\u6001\u66f4\u65b0\u7c7b</p> </li> </ul> <p>\u7c7b\u65b9\u6cd5\u662f\u5c06\u7c7b\u672c\u8eab\u4f5c\u4e3a\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\u7684\u65b9\u6cd5\u3002\u7c7b\u65b9\u6cd5\u4f7f\u7528 <code>@classmethod</code> \u88c5\u9970\u5668\u5b9a\u4e49\uff0c\u4e0e\u5b9e\u4f8b\u65b9\u6cd5\u4e0d\u540c\uff0cPython\u89e3\u91ca\u5668\u4f1a\u5c06\u7c7b\u672c\u8eab\u4f20\u9012\u7ed9\u7c7b\u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff08\u4e00\u822c\u5c06\u8be5\u53c2\u6570\u547d\u540d\u4e3a<code>cls</code>\uff09\u3002\u4f8b\u5982\uff1a</p> <pre><code>class Times(object):\n    factor = 1\n\n    @classmethod\n    def mul(cls, x):\n        return cls.factor * x\n\n\nclass TwoTimes(Times):\n    factor = 2\n\n\nx = TwoTimes.mul(4)  # \u8c03\u7528Times.mul(TwoTimes, 4) -&gt; 8\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u8bf7\u6ce8\u610f\u7c7b<code>TwoTimes</code>\u662f\u5982\u4f55\u4f5c\u4e3a\u5bf9\u8c61\u4f20\u9012\u7ed9<code>mul()</code>\u7684\u3002\u5c3d\u7ba1\u8fd9\u4e2a\u4f8b\u5b50\u6709\u4e9b\u6df1\u5965\uff0c\u4f46\u7c7b\u65b9\u6cd5\u8fd8\u6709\u4e00\u4e9b\u5b9e\u7528\u4e14\u5de7\u5999\u7684\u7528\u6cd5\u3002\u4f8b\u5982\uff0c\u4f60\u5b9a\u4e49\u4e86\u4e00\u4e2a<code>EuroDate</code>\u7c7b\uff0c\u5b83\u7ee7\u627f\u81ea\u524d\u9762\u7ed9\u51fa\u7684<code>Date</code>\u7c7b\u5e76\u5bf9\u5176\u7565\u52a0\u5b9a\u5236\uff1a</p> <pre><code>class EuroDate(Date):\n    # \u4fee\u6539\u5b57\u7b26\u4e32\u8f6c\u6362\uff0c\u4ee5\u4f7f\u7528\u6b27\u6d32\u65e5\u671f\u683c\u5f0f\n    def __str__(self):\n        return \"%02d/%02d/%4d\" % (self.day, self.month, self.year)\n\n\nprint(type(EuroDate.now()))\nprint(type(EuroDate.tomorrow()))\n</code></pre> <pre><code>&lt;class '__main__.Date'&gt;\n&lt;class '__main__.Date'&gt;\n</code></pre> <p>\u7531\u4e8e\u8be5\u7c7b\u7ee7\u627f\u81ea<code>Date</code>\uff0c\u6240\u4ee5\u5b83\u62e5\u6709<code>Date</code>\u7684\u6240\u6709\u7279\u6027\u3002\u4f46\u662f<code>now()</code>\u548c<code>tomorrow()</code>\u65b9\u6cd5\u7a0d\u5fae\u6709\u70b9\u4e0d\u540c\u3002\u4f8b\u5982\uff0c\u5982\u679c\u8c03\u7528<code>EuroDate.now()</code>\uff0c\u5219\u4f1a\u8fd4\u56de<code>Date</code>\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f<code>EuroDate</code>\u5bf9\u8c61\u3002\u7c7b\u65b9\u6cd5\u53ef\u4ee5\u89e3\u51b3\u8be5\u95ee\u9898\uff1a</p> <pre><code>class Date(object):\n    def __init__(self, year, month, day):\n        self.year = year\n        self.month = month\n        self.day = day\n\n    @classmethod\n    def now(cls):\n        t = time.localtime()\n        return cls(t.tm_year, t.tm_mon, t.tm_mday)\n\n    @classmethod\n    def tomorrow(cls):\n        t = time.localtime(time.time() + 86400)\n        return cls(t.tm_year, t.tm_mon, t.tm_mday)\n\n\nclass EuroDate(Date):\n    # \u4fee\u6539\u5b57\u7b26\u4e32\u8f6c\u6362\uff0c\u4ee5\u4f7f\u7528\u6b27\u6d32\u65e5\u671f\u683c\u5f0f\n    def __str__(self):\n        return \"%02d/%02d/%4d\" % (self.day, self.month, self.year)\n\n\nprint(type(Date.now()))      # \u8c03\u7528Date.now(Date)\u5e76\u8fd4\u56deDate\nprint(type(EuroDate.now()))  # \u8c03\u7528Date.now(EuroDate)\u5e76\u8fd4\u56deEuroDate\n</code></pre> <pre><code>&lt;class '__main__.Date'&gt;\n&lt;class '__main__.EuroDate'&gt;\n</code></pre> <p>\u7c7b\u65b9\u6cd5\u9664\u4e86\u7528\u4e8e\u521b\u5efa\u6784\u9020\u51fd\u6570\uff0c\u53e6\u4e00\u4e2a\u4f8b\u5b50\u662f\u52a8\u6001\u66f4\u65b0\u7c7b\u3002\u4f8b\u5982\u6211\u4eec\u60f3\u52a8\u6001\u66f4\u65b0\u4e00\u4e2a\u7c7b\u5c5e\u6027\uff1a</p> <pre><code>class ModelManager(object):\n    # All model instance are saved in 'models' attribute\n    models = {}\n\n    def __init__(self, model_name):\n        # Load model\n        pass\n\n    @classmethod\n    def load_model(cls, model_name):\n        cls.models[model_name] = cls(model_name)\n\n    @classmethod\n    def get_model(cls, model_name):\n        return cls.models.get(model_name, None)\n\n    def predict(self):\n        return \"The prediction result is 1.\"\n\n\nprint(ModelManager.models)\n\nmodel_name = \"svm\"\nModelManager.load_model(model_name)\nmodel = ModelManager.get_model(model_name)\nmodel.predict()\n\nprint(ModelManager.models)\n</code></pre> <pre><code>{}\n{'svm': &lt;__main__.ModelManager object at 0x000001DF3360FF10&gt;}\n</code></pre> <p>\u5f53\u7136\uff0c\u9664\u4e86\u4f7f\u7528\u7c7b\u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u5728\u5b9e\u4f8b\u65b9\u6cd5\u4e2d\u663e\u5f0f\u8c03\u7528\u7c7b\u5c5e\u6027\uff0c\u8fbe\u5230\u52a8\u6001\u66f4\u65b0\u7c7b\u7684\u6548\u679c\uff0c\u4f8b\u5982\u6211\u4eec\u8981\u83b7\u53d6\u5b9e\u4f8b\u6570\uff1a</p> <pre><code>class Kls(object):\n    no_inst = 0\n\n    def __init__(self):\n        Kls.no_inst = Kls.no_inst + 1\n\n    @classmethod\n    def get_no_of_instance(cls_obj):\n        return cls_obj.no_inst\n\n\nik1 = Kls()\nik2 = Kls()\n\nprint(ik1.get_no_of_instance())\nprint(Kls.get_no_of_instance())\n</code></pre> <pre><code>2\n2\n</code></pre> <p>\u5982\u679c\u8981\u7528\u5b9e\u4f8b\u65b9\u6cd5\u5b9e\u73b0\u4e0a\u8ff0\u4f8b\u5b50\u7684\u8bdd\uff0c\u5c31\u5f97\u521b\u5efa\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8fd9\u610f\u5473\u7740\u6211\u4eec\u5fc5\u987b\u8981\u7ed9\u8fd9\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u547d\u540d\u3002\u5728\u7f16\u7a0b\u4e2d\uff0c\u7ed9\u8fc7\u591a\u7684\u53d8\u91cf\u547d\u540d\uff0c\u6709\u65f6\u662f\u4e00\u4e2a\u5934\u75bc\u7684\u95ee\u9898\u3002</p> <p>\u5728\u7c7b\u5916\u9762\u5199\u4e00\u4e2a\u51fd\u6570\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u6837\u7684\u6548\u679c\uff0c\u4f46\u4e0d\u5229\u4e8e\u4ee3\u7801\u7684\u7ef4\u62a4\u3002</p> <pre><code>def get_no_of_instances(cls_obj):\n    return cls_obj.no_inst\n\n\nclass Kls(object):\n    no_inst = 0\n\n    def __init__(self):\n        Kls.no_inst = Kls.no_inst + 1\n\n\nik1 = Kls()\nik2 = Kls()\nprint(get_no_of_instances(Kls))\n</code></pre> <pre><code>2\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.1.%E7%B1%BB.html#_8","title":"\u5b9e\u4f8b\u65b9\u6cd5\u3001\u9759\u6001\u65b9\u6cd5\u3001\u7c7b\u65b9\u6cd5\u5bf9\u6bd4","text":"<p>\u5728\u5b9e\u4f8b\u65b9\u6cd5\u548c\u7c7b\u65b9\u6cd5\u4e2d\uff0cPython\u9ed8\u8ba4\u5c06\u5f53\u524d\u5b9e\u4f8b\u6216\u8005\u7c7b\u5bf9\u8c61\u4f20\u7ed9\u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff08\u975e\u6307\u5b9a\u9ed8\u8ba4\u503c\u7684\u53c2\u6570\uff09\uff0c\u5982\u679c\u65b9\u6cd5\u4e0d\u8bbe\u7f6e\u53c2\u6570\uff0c\u4fbf\u4f1a\u62a5\u9519\uff1a</p> <pre><code>class Kls(object):\n    def __init__(self, data):\n        self.data = data\n\n    def instance_method_no_self():\n        print(\"\u4e0d\u63a5\u6536\u5b9e\u4f8b\")\n\n    def instance_method(*arg):\n        print('Instance:', arg)\n\n    @staticmethod\n    def static_method(*arg):\n        print('Static:', arg)\n\n    @classmethod\n    def class_method_no_cls():\n        print(\"\u4e0d\u63a5\u6536\u7c7b\u5bf9\u8c61\")\n\n    @classmethod\n    def class_method(*arg):\n        print('Class:', arg)\n\n\nik3 = Kls('arun')\ntry:\n    ik3.instance_method_no_self()\nexcept TypeError as e:\n    print(\"TypeError:\", e)\n\ntry:\n    ik3.class_method_no_cls()\nexcept TypeError as e:\n    print(\"TypeError:\", e)\n</code></pre> <pre><code>TypeError: instance_method_no_self() takes 0 positional arguments but\n1 was given\nTypeError: class_method_no_cls() takes 0 positional arguments but 1\nwas given\n</code></pre> <p>\u5b9e\u4f8b\u65b9\u6cd5\u3001\u7c7b\u65b9\u6cd5\u5fc5\u987b\u8bbe\u7f6e\u53c2\u6570\u63a5\u6536\u7c7b\u5bf9\u8c61\uff1a</p> <pre><code>ik3.instance_method()\nik3.class_method()\n</code></pre> <pre><code>Instance: (&lt;__main__.Kls object at 0x000001DF3366B8E0&gt;,)\nClass: (&lt;class '__main__.Kls'&gt;,)\n</code></pre> <p>\u9759\u6001\u65b9\u6cd5\u5219\u4e0d\u4f1a\u4f20\u5165\u5b9e\u4f8b\u6216\u7c7b\u5bf9\u8c61\uff1a</p> <pre><code>ik3.static_method()\n</code></pre> <pre><code>Static: ()\n</code></pre> <p>\u5982\u679c\u5b9e\u4f8b\u65b9\u6cd5\u4e0d\u8bbe\u7f6e\u53c2\u6570\uff0c\u53ea\u80fd\u901a\u8fc7\u7c7b\u53bb\u8c03\u7528\uff0c\u56e0\u4e3a\u7c7b\u8c03\u7528\u5b9e\u4f8b\u65b9\u6cd5\u65f6\uff0c\u4e0d\u4f1a\u4f20\u5165\u7c7b\u6216\u8005\u5b9e\u4f8b\u3002 \u5e94\u8be5\u907f\u514d\u8fd9\u79cd\u7528\u6cd5\uff0c\u6ca1\u53c2\u6570\u7684\u65b9\u6cd5\u5e94\u8be5\u52a0\u4e0a<code>@staticmethod</code>\u88c5\u9970\u5668\uff1a</p> <pre><code>Kls.instance_method_no_self()\n</code></pre> <pre><code>\u4e0d\u63a5\u6536\u5b9e\u4f8b\n</code></pre> <p>\u5173\u4e8e\u9759\u6001\u65b9\u6cd5\u548c\u7c7b\u65b9\u6cd5\u9700\u8981\u6ce8\u610f\u7684\u4e00\u70b9\u662f\uff0cPython \u4e0d\u4f1a\u5728\u4e0e\u5b9e\u4f8b\u65b9\u6cd5\u72ec\u7acb\u7684\u547d\u540d\u7a7a\u95f4\u4e2d\u7ba1\u7406\u5b83\u4eec\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b9e\u4f8b\u6216\u7c7b\u8c03\u7528\u5b83\u4eec\u3002\u4f8b\u5982\uff1a</p> <pre><code>Kls.class_method()\nKls('arun').class_method()\nKls.static_method()\nKls('arun').static_method()\n</code></pre> <pre><code>Class: (&lt;class '__main__.Kls'&gt;,)\nClass: (&lt;class '__main__.Kls'&gt;,)\nStatic: ()\nStatic: ()\n</code></pre> <p>\u8fd9\u53ef\u80fd\u5f88\u5bb9\u6613\u5f15\u8d77\u6df7\u6dc6\uff0c\u56e0\u4e3a\u5bf9 <code>Kls('arun').cmethod2()</code> \u7684\u8c03\u7528\u4e0e\u5b9e\u4f8b<code>Kls('arun')</code>\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\u3002  \u8fd9\u79cd\u884c\u4e3a\u662f Python \u5bf9\u8c61\u7cfb\u7edf\u4e0e\u5176\u4ed6\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\uff08\u5982 Smalltalk \u548c Ruby\uff09\u5bf9\u8c61\u7cfb\u7edf\u7684\u533a\u522b\u4e4b\u4e00\u3002\u5728\u8fd9\u4e9b\u8bed\u8a00\u4e2d\uff0c\u7c7b\u65b9\u6cd5\u4e0e\u5b9e\u4f8b\u65b9\u6cd5\u662f\u4e25\u683c\u5206\u5f00\u7684\u3002</p> <p>\u800c\u5b9e\u4f8b\u65b9\u6cd5\u5fc5\u987b\u901a\u8fc7\u5b9e\u4f8b\u8c03\u7528\uff0c\u56e0\u4e3a\u9700\u8981\u4f20\u5165\u5b9e\u4f8b \u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.1.%E7%B1%BB.html#_9","title":"\u603b\u7ed3","text":"<ol> <li>\u5b9e\u4f8b\u53ef\u4ee5\u8c03\u7528\u8fd9\u4e09\u79cd\u65b9\u6cd5</li> <li>\u7c7b\u53ea\u80fd\u8c03\u7528\u7c7b\u65b9\u6cd5\u548c\u9759\u6001\u65b9\u6cd5</li> </ol>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.1.%E7%B1%BB.html#_10","title":"\u7279\u6027","text":"<p><code>@property</code>\u2014\u2014\u628a\u65b9\u6cd5\u53d8\u4e3a\u5c5e\u6027</p> <p>\u901a\u5e38\uff0c\u8bbf\u95ee\u5b9e\u4f8b\u6216\u7c7b\u7684\u5c5e\u6027\u65f6\uff0c\u8fd4\u56de\u7684\u4f1a\u662f\u6240\u5b58\u50a8\u7684\u503c\u3002\u7279\u6027\uff08property\uff09\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u5c5e\u6027\uff0c\u8bbf\u95ee\u5b83\u65f6\u4f1a\u8ba1\u7b97\u5b83\u7684\u503c\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff1a</p> <pre><code>import math\n\n\nclass Circle(object):\n    def __init__(self, radius):\n        self.radius = radius\n\n    # Circle\u7684\u4e00\u4e9b\u9644\u52a0\u7279\u6027\n    @property\n    def area(self):\n        return math.pi * self.radius ** 2\n\n    @property\n    def preimeter(self):\n        return 2 * math.pi * self.radius\n</code></pre> <p>\u5f97\u5230\u7684Circle\u5bf9\u8c61\u7684\u884c\u4e3a\u5982\u4e0b\uff1a</p> <pre><code>c = Circle(4.0)\nprint(c.radius)\nprint(c.area)\nprint(c.preimeter)\ntry:\n    c.area = 2\nexcept AttributeError as e:\n    print(\"AttributeError:\", e)\n</code></pre> <pre><code>4.0\n50.26548245743669\n25.132741228718345\nAttributeError: can't set attribute\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0cCircle \u5b9e\u4f8b\u5b58\u50a8\u4e86\u4e00\u4e2a\u5b9e\u4f8b\u53d8\u91cf <code>c.radius</code>\u3002<code>c.area</code> \u548c <code>c.perimeter</code> \u662f\u6839\u636e\u8be5\u503c\u8ba1\u7b97\u5f97\u6765\u7684\u3002<code>@property</code> \u88c5\u9970\u5668\u652f\u6301\u4ee5\u7b80\u5355\u5c5e\u6027\u7684\u5f62\u5f0f\u8bbf\u95ee\u540e\u9762\u7684\u65b9\u6cd5\uff0c\u65e0\u9700\u50cf\u5e73\u5e38\u4e00\u6837\u6dfb\u52a0\u989d\u5916\u7684 <code>()</code>\u6765\u8c03\u7528\u8be5\u65b9\u6cd5\u3002\u5bf9\u8c61\u7684\u4f7f\u7528\u8005\u5f88\u96be\u53d1\u73b0\u6b63\u5728\u8ba1\u7b97\u4e00\u4e2a\u5c5e\u6027\uff0c\u9664\u975e\u5728\u8bd5\u56fe\u91cd\u65b0\u5b9a\u4e49\u8be5\u5c5e\u6027\u65f6\u751f\u6210\u4e86\u9519\u8bef\u6d88\u606f\uff08\u5982\u4e0a\u9762\u7684 AttributeError \u5f02\u5e38\u6240\u793a\uff09\u3002</p> <p>\u8fd9\u79cd\u7279\u6027\u4f7f\u7528\u65b9\u5f0f\u9075\u5faa\u6240\u8c13\u7684\u7edf\u4e00\u8bbf\u95ee\u539f\u5219\u3002  \u5b9e\u9645\u4e0a\uff0c\u5982\u679c\u5b9a\u4e49\u4e00\u4e2a\u7c7b\uff0c\u5c3d\u53ef\u80fd\u4fdd\u6301\u7f16\u7a0b\u63a5\u53e3\u7684\u7edf\u4e00\u603b\u662f\u4e0d\u9519\u7684\u3002\u5982\u679c\u6ca1\u6709\u7279\u6027\uff0c\u5c06\u4f1a\u4ee5\u7b80\u5355\u5c5e\u6027\uff08\u5982 <code>c.radius</code>\uff09\u7684\u5f62\u5f0f\u8bbf\u95ee\u5bf9\u8c61\u7684\u67d0\u4e9b\u5c5e\u6027\uff0c\u800c\u5176\u4ed6\u5c5e\u6027\u5c06\u4ee5\u65b9\u6cd5\uff08\u5982 <code>c.area()</code>\uff09\u7684\u5f62\u5f0f\u8bbf\u95ee\u3002\u8d39\u529b\u53bb\u4e86\u89e3\u4f55\u65f6\u6dfb\u52a0\u989d\u5916\u7684<code>()</code>\u4f1a\u5e26\u6765\u4e0d\u5fc5\u8981\u7684\u6df7\u6dc6\u3002\u7279\u6027\u53ef\u4ee5\u89e3\u51b3\u8be5\u95ee\u9898\u3002</p> <p>Python \u7a0b\u5e8f\u5458\u5f88\u5c11\u8ba4\u8bc6\u5230\uff0c\u65b9\u6cd5\u672c\u8eab\u662f\u88ab\u9690\u5f0f\u5730\u4f5c\u4e3a\u4e00\u7c7b\u7279\u6027\u5904\u7406\u7684\u3002 \u8003\u8651\u4e0b\u9762\u8fd9\u4e2a\u7c7b\uff1a</p> <pre><code>class Foo(object):\n    def __init__(self, name):\n        self.name = name\n\n    def spam(self, x):\n        print(\"%s, %s\" % (self.name, x))\n\n\nFoo(\"d\").spam\n</code></pre> <pre><code>&lt;bound method Foo.spam of &lt;__main__.Foo object at 0x000001DF33676130&gt;&gt;\n</code></pre> <p>\u7528\u6237\u521b\u5efa <code>f = Foo(\"Guido\")</code> \u8fd9\u6837\u7684\u5b9e\u4f8b\u7136\u540e\u8bbf\u95ee <code>f.spam</code> \u65f6\uff0c\u4e0d\u4f1a\u8fd4\u56de\u539f\u59cb\u51fd\u6570\u5bf9\u8c61 <code>spam</code>\uff0c\u800c\u662f\u4f1a\u5f97\u5230\u6240\u8c13\u7684\u7ed1\u5b9a\u65b9\u6cd5\uff08bound method\uff09\uff0cbound method \u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4ee3\u8868\u5c06\u5728\u5bf9\u8c61\u4e0a\u8c03\u7528 <code>()</code> \u8fd0\u7b97\u7b26\u65f6\u6267\u884c\u7684\u65b9\u6cd5\u8c03\u7528\u3002bound method \u6709\u70b9\u7c7b\u4f3c\u4e8e\u5df2\u90e8\u5206\u8ba1\u7b97\u7684\u51fd\u6570\uff0c\u5176\u4e2d\u7684<code>self</code>\u53c2\u6570\u5df2\u7ecf\u586b\u5165\uff0c\u4f46\u5176\u4ed6\u53c2\u6570\u4ecd\u7136\u9700\u8981\u5728\u4f7f\u7528<code>()</code>\u8c03\u7528\u8be5\u51fd\u6570\u65f6\u63d0\u4f9b\u3002\u8fd9\u79cd bound method \u5bf9\u8c61\u662f\u7531\u5728\u540e\u53f0\u6267\u884c\u7684\u7279\u6027\u51fd\u6570\u9759\u9ed8\u5730\u521b\u5efa\u7684\u3002\u4f7f\u7528 <code>@staticmethod</code> \u548c <code>@classmethod</code> \u5b9a\u4e49\u9759\u6001\u65b9\u6cd5\u548c\u7c7b\u65b9\u6cd5\u65f6\uff0c\u5b9e\u9645\u4e0a\u5c31\u6307\u5b9a\u4e86\u4f7f\u7528\u4e0d\u540c\u7684\u7279\u6027\u51fd\u6570\uff0c\u4ee5\u4e0d\u540c\u7684\u65b9\u5f0f\u5904\u7406\u5bf9\u8fd9\u4e9b\u65b9\u6cd5\u7684\u8bbf\u95ee\u3002  \u4f8b\u5982\uff0c<code>@staticmethod</code>\u4ec5\u201c\u6309\u539f\u6837\u201d\u8fd4\u56de\u65b9\u6cd5\u51fd\u6570\uff0c\u4e0d\u4f1a\u8fdb\u884c\u4efb\u4f55\u7279\u6b8a\u7684\u5305\u88c5\u6216\u5904\u7406\u3002</p> <p>\u7279\u6027\u8fd8\u53ef\u4ee5\u622a\u83b7\u64cd\u4f5c\u6743\uff0c\u4ee5\u8bbe\u7f6e\u548c\u5220\u9664\u5c5e\u6027\u3002\u8fd9\u662f\u901a\u8fc7\u5411\u7279\u6027\u9644\u52a0\u5176\u4ed6 <code>setter</code> \u548c <code>deleter</code> \u65b9\u6cd5\u6765\u5b9e\u73b0\u7684\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>class Foo(object):\n    def __init__(self, name):\n        self.__name = name\n\n    @property\n    def name(self):\n        return self.__name\n\n    @name.setter\n    def name(self, value):\n        if not isinstance(value, str):\n            raise TypeError(\"Must be a string!\")\n        self.__name = value\n\n    @name.deleter\n    def name(self):\n        raise TypeError(\"Can't delete name\")\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u9996\u5148\u4f7f\u7528 <code>@property</code> \u88c5\u9970\u5668\u548c\u76f8\u5173\u65b9\u6cd5\u5c06\u5c5e\u6027 <code>name</code> \u5b9a\u4e49\u4e3a\u53ea\u8bfb\u7279\u6027\u3002\u540e\u9762\u7684 <code>@name.setter</code> \u548c <code>@name.deleter</code>\u88c5\u9970\u5668\u5c06\u5176\u4ed6\u65b9\u6cd5\u4e0e name \u5c5e\u6027\u4e0a\u7684\u8bbe\u7f6e\u548c\u5220\u9664\u64cd\u4f5c\u76f8\u5173\u8054\u3002\u8fd9\u4e9b\u65b9\u6cd5\u7684\u540d\u79f0\u5fc5\u987b\u4e0e\u539f\u59cb\u7279\u6027\u7684\u540d\u79f0\u5b8c\u5168\u5339\u914d\u3002\u5728\u8fd9\u4e9b\u65b9\u6cd5\u4e2d\uff0c\u8bf7\u6ce8\u610f\u5b9e\u9645\u7684\u540d\u79f0\u503c\u5b58\u50a8\u5728\u5c5e\u6027 <code>__name</code> \u4e2d\u3002\u6240\u5b58\u50a8\u5c5e\u6027\u7684\u540d\u79f0\u65e0\u9700\u9075\u5faa\u4efb\u4f55\u7ea6\u5b9a\uff0c\u4f46\u5b83\u5fc5\u987b\u4e0e\u7279\u6027\u540d\u79f0\u4e0d\u540c\uff0c\u4ee5\u4fbf\u5c06\u5b83\u4e0e\u7279\u6027\u7684\u540d\u79f0\u533a\u5206\u5f00\u3002</p> <p>\u5728\u4ee5\u524d\u7684\u4ee3\u7801\u4e2d\uff0c\u901a\u5e38\u4f1a\u770b\u5230\u7528 <code>property(getf=None, setf=None, delf=None, doc=None)</code> \u51fd\u6570\u6765\u5b9a\u4e49\u7279\u6027\uff0c\u5f80\u5176\u4e2d\u4f20\u5165\u4e00\u7ec4\u540d\u79f0\u4e0d\u540c\u7684\u65b9\u6cd5\uff0c\u7528\u4e8e\u6267\u884c\u76f8\u5173\u64cd\u4f5c\u3002\u4f8b\u5982\uff1a</p> <pre><code>class Foo(object):\n    def getname(self):\n        return self.__name\n\n    def setname(self, value):\n        if not isinstance(value, str):\n            raise TypeError(\"Must be a string!\")\n        self.__name = value\n\n    def delname(self):\n        raise TypeError(\"Can't delete name\")\n\n    name = property(getname, setname, delname)\n</code></pre> <p>\u8fd9\u79cd\u8001\u65b9\u6cd5\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528\uff0c\u4f46\u88c5\u9970\u5668\u7248\u672c\u4f1a\u8ba9\u7c7b\u770b\u8d77\u6765\u66f4\u6574\u6d01\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f7f\u7528\u88c5\u9970\u5668\uff0cget\u3001 set \u548c delete \u51fd\u6570\u5c06\u4e0d\u4f1a\u663e\u793a\u4e3a\u65b9\u6cd5\u3002 </p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.1.%E7%B1%BB.html#_11","title":"\u6570\u636e\u5c01\u88c5\u548c\u79c1\u6709\u5c5e\u6027","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u7c7b\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\u90fd\u662f\u201c\u516c\u5171\u7684\u201d\u3002\u8fd9\u610f\u5473\u7740\u5bf9\u5b83\u4eec\u7684\u8bbf\u95ee\u6ca1\u6709\u4efb\u4f55\u9650\u5236\u3002\u8fd9\u8fd8\u6697\u793a\u7740\uff0c\u5728\u57fa\u7c7b\u4e2d\u5b9a\u4e49\u7684\u6240\u6709\u5185\u5bb9\u90fd\u4f1a\u88ab\u6d3e\u751f\u7c7b\u7ee7\u627f\uff0c\u5e76\u53ef\u4ece\u6d3e\u751f\u7c7b\u5185\u8fdb\u884c\u8bbf\u95ee\u3002\u5728\u9762\u5411\u5bf9\u8c61\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u901a\u5e38\u6211\u4eec\u4e0d\u5e0c\u671b\u53d1\u751f\u8fd9\u79cd\u884c\u4e3a\uff0c\u56e0\u4e3a\u5b83\u4f1a\u66b4\u9732\u5bf9\u8c61\u7684\u5185\u90e8\u5b9e\u73b0\uff0c\u53ef\u80fd\u5bfc\u81f4\u5728\u6d3e\u751f\u7c7b\u4e2d\u5b9a\u4e49\u7684\u5bf9\u8c61\u4e0e\u5728\u57fa\u7c7b\u4e2d\u5b9a\u4e49\u7684\u5bf9\u8c61\u4e4b\u95f4\u53d1\u751f\u547d\u540d\u7a7a\u95f4\u51b2\u7a81\u3002</p> <p>Note</p> <p>\u8fd9\u610f\u5473\u7740\u6d3e\u751f\u7c7b\u53ef\u4ee5\u8986\u76d6\u57fa\u7c7b\u7684\u5b9a\u4e49\u3002    </p> <p>\u4e3a\u4e86\u89e3\u51b3\u8be5\u95ee\u9898\uff0c\u7c7b\u4e2d\u6240\u6709\u4ee5\u53cc\u4e0b\u5212\u7ebf\u5f00\u5934\u7684\u540d\u79f0\uff08\u5982<code>__Foo</code>\uff09\u90fd\u4f1a\u81ea\u52a8\u53d8\u5f62\uff0c\u5f62\u6210\u5177\u6709<code>_Classname__Foo</code>\u5f62\u5f0f\u7684\u65b0\u540d\u79f0\u3002  \u8fd9\u63d0\u4f9b\u4e86\u4e00\u79cd\u5728\u7c7b\u4e2d\u6dfb\u52a0\u79c1\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u6709\u6548\u65b9\u5f0f\uff0c\u56e0\u4e3a\u6d3e\u751f\u7c7b\u4e2d\u4f7f\u7528\u7684\u79c1\u6709\u540d\u79f0\u4e0d\u4f1a\u4e0e\u57fa\u7c7b\u4e2d\u4f7f\u7528\u7684\u76f8\u540c\u79c1\u6709\u540d\u79f0\u53d1\u751f\u51b2\u7a81\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>class A(object):\n    def __init__(self):\n        self.__X = 3   # \u53d8\u5f62\u4e3aself._A__X\n\n    def __spam(self):  # \u53d8\u5f62\u4e3a_A__spam()\n        print(\"A\")\n\n    def bar(self):\n        self.__spam()  # \u53ea\u8c03\u7528A.__spam()\n\n\nclass B(A):\n    def __init__(self):\n        A.__init__(self)\n        self.__X = 37  # \u53d8\u5f62\u4e3aself._B__X\n\n    def __spam(self):  # \u53d8\u5f62\u4e3a_B__spam()\n        print(\"B\")\n\nb = B()\n# \u6d3e\u751f\u7c7b\u7684\u5b9a\u4e49\u6ca1\u6709\u8986\u76d6\u57fa\u7c7b\u7684\u5b9a\u4e49\nb.bar()\n</code></pre> <pre><code>A\n</code></pre> <p>\u5c3d\u7ba1\u8fd9\u79cd\u65b9\u6848\u4f3c\u4e4e\u9690\u85cf\u4e86\u6570\u636e\uff0c\u4f46\u5e76\u6ca1\u6709\u4e25\u683c\u7684\u673a\u5236\u6765\u5b9e\u9645\u963b\u6b62\u5bf9\u7c7b\u7684\u201c\u79c1\u6709\u201d\u5c5e\u6027\u8fdb\u884c\u8bbf\u95ee\u3002\u7279\u522b\u662f\u5982\u679c\u5df2\u77e5\u7c7b\u540d\u79f0\u548c\u76f8\u5e94\u79c1\u6709\u5c5e\u6027\u7684\u540d\u79f0\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u53d8\u5f62\u540e\u7684\u540d\u79f0\u6765\u8bbf\u95ee\u5b83\u4eec\u3002\u901a\u8fc7\u91cd\u5b9a\u4e49<code>dir()</code>\u65b9\u6cd5\uff0c\u7c7b\u53ef\u4ee5\u964d\u4f4e\u8fd9\u4e9b\u5c5e\u6027\u7684\u53ef\u89c1\u6027\uff0c<code>dir()</code>\u65b9\u6cd5\u63d0\u4f9b\u4e86\u68c0\u67e5\u5bf9\u8c61\u7684<code>dir()</code>\u51fd\u6570\u6240\u8fd4\u56de\u7684\u540d\u79f0\u5217\u8868\u3002</p> <p>\u5c3d\u7ba1\u8fd9\u79cd\u540d\u79f0\u53d8\u5f62\u4f3c\u4e4e\u662f\u4e00\u4e2a\u989d\u5916\u7684\u5904\u7406\u6b65\u9aa4\uff0c\u4f46\u53d8\u5f62\u8fc7\u7a0b\u5b9e\u9645\u4e0a\u53ea\u5728\u5b9a\u4e49\u7c7b\u65f6\u53d1\u751f\u4e00\u6b21\u3002\u5b83\u4e0d\u4f1a\u5728\u65b9\u6cd5\u6267\u884c\u671f\u95f4\u53d1\u751f\uff0c\u4e5f\u4e0d\u4f1a\u4e3a\u7a0b\u5e8f\u7684\u6267\u884c\u6dfb\u52a0\u989d\u5916\u7684\u5f00\u9500\u3002\u800c\u4e14\u8981\u77e5\u9053\uff0c\u540d\u79f0\u53d8\u5f62\u4e0d\u4f1a\u5728<code>getattr()</code>\u3001<code>hasattr()</code>\u3001<code>setattr()</code>\u6216<code>delattr()</code>\u7b49\u51fd\u6570\u4e2d\u53d1\u751f\uff0c\u5728\u8fd9\u4e9b\u51fd\u6570\u4e2d\uff0c\u5c5e\u6027\u540d\u88ab\u6307\u5b9a\u4e3a\u5b57\u7b26\u4e32\u3002\u5bf9\u4e8e\u8fd9\u4e9b\u51fd\u6570\uff0c\u9700\u8981\u663e\u5f0f\u4f7f\u7528\u53d8\u5f62\u540d\u79f0\uff08\u5982<code>_Classname__name</code>\uff09\u6765\u8bbf\u95ee\u5c5e\u6027\u3002</p> <p>\u5efa\u8bae\u5728\u5b9a\u4e49\u53ef\u53d8\u5c5e\u6027\u65f6\uff0c\u901a\u8fc7\u7279\u6027\u6765\u4f7f\u7528\u79c1\u6709\u5c5e\u6027\u3002\u8fd9\u6837\uff0c\u5c31\u53ef\u9f13\u52b1\u7528\u6237\u4f7f\u7528\u7279\u6027\u540d\u79f0\uff0c\u800c\u65e0\u9700\u76f4\u63a5\u8bbf\u95ee\u5e95\u5c42\u5b9e\u4f8b\u6570\u636e\uff08\u5982\u679c\u4f60\u5728\u5b9e\u4f8b\u5f00\u5934\u6dfb\u52a0\u4e86\u4e00\u4e2a\u7279\u6027\uff0c\u53ef\u80fd\u4e0d\u60f3\u91c7\u7528\u8fd9\u79cd\u8bbf\u95ee\u65b9\u5f0f\uff09\u3002</p> <p>\u901a\u8fc7\u4e3a\u65b9\u6cd5\u63d0\u4f9b\u79c1\u6709\u540d\u79f0\uff0c\u8d85\u7c7b\u53ef\u4ee5\u963b\u6b62\u6d3e\u751f\u7c7b\u91cd\u65b0\u5b9a\u4e49\u548c\u66f4\u6539\u65b9\u6cd5\u7684\u5b9e\u73b0\u3002  \u4f8b\u5982\uff0c\u793a\u4f8b\u4e2d\u7684<code>A.bar()</code>\u65b9\u6cd5\u53ea\u8c03\u7528<code>A.__spam()</code>\uff0c\u65e0\u8bba self \u5177\u6709\u4f55\u79cd\u7c7b\u578b\uff0c\u6216\u8005\u6d3e\u751f\u7c7b\u4e2d\u662f\u5426\u5b58\u5728\u4e0d\u540c\u7684<code>__spam()</code>\u65b9\u6cd5\u90fd\u662f\u5982\u6b64\u3002</p> <p>\u6700\u540e\uff0c\u4e0d\u8981\u6df7\u6dc6\u79c1\u6709\u7c7b\u5c5e\u6027\u7684\u547d\u540d\u548c\u6a21\u5757\u4e2d\u201c\u79c1\u6709\u201d\u5b9a\u4e49\u7684\u547d\u540d\u3002\u4e00\u4e2a\u5e38\u89c1\u7684\u9519\u8bef\u662f\uff0c\u5728\u5b9a\u4e49\u7c7b\u65f6\uff0c\u5728\u5c5e\u6027\u540d\u4e0a\u4f7f\u7528\u5355\u4e2a\u524d\u5bfc\u4e0b\u5212\u7ebf\u6765\u9690\u85cf\u5c5e\u6027\u503c\uff08\u5982<code>_name</code>\uff09\u3002\u5728\u6a21\u5757\u4e2d\uff0c\u8fd9\u79cd\u547d\u540d\u7ea6\u5b9a\u53ef\u4ee5\u963b\u6b62\u901a\u8fc7 <code>from module import *</code> \u8bed\u53e5\u5bfc\u51fa\u540d\u79f0\u3002  \u8fd9\u610f\u5473\u7740\u5355\u4e0b\u5212\u7ebf\u5f00\u5934\u7684\u5b9a\u4e49\u53ea\u80fd\u88ab\u7c7b\u672c\u8eab\u548c\u5176\u6d3e\u751f\u7c7b\u8bbf\u95ee\u3002\u4f46\u662f\u5728\u7c7b\u4e2d\uff0c\u8fd9\u79cd\u547d\u540d\u7ea6\u5b9a\u65e2\u4e0d\u80fd\u9690\u85cf\u5c5e\u6027\uff0c\u5728\u67d0\u4e2a\u7c7b\u7ee7\u627f\u8be5\u7c7b\u5e76\u4f7f\u7528\u76f8\u540c\u540d\u79f0\u5b9a\u4e49\u4e00\u4e2a\u65b0\u5c5e\u6027\u6216\u65b9\u6cd5\u65f6\uff0c\u4e5f\u4e0d\u80fd\u963b\u6b62\u51fa\u73b0\u540d\u79f0\u51b2\u7a81\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.1.%E7%B1%BB.html#_12","title":"\u5bf9\u8c61\u8868\u793a\u548c\u5c5e\u6027\u7ed1\u5b9a","text":"<p>\u4ece\u5185\u90e8\u5b9e\u73b0\u4e0a\u770b\uff0c\u5b9e\u4f8b\u662f\u4f7f\u7528\u5b57\u5178\u6765\u5b9e\u73b0\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b9e\u4f8b\u7684 <code>__dict__</code> \u5c5e\u6027\u8bbf\u95ee\u8be5\u5b57\u5178\u3002\u8fd9\u4e2a\u5b57\u5178\u5305\u542b\u7684\u6570\u636e\u5bf9\u6bcf\u4e2a\u5b9e\u4f8b\u800c\u8a00\u90fd\u662f\u552f\u4e00\u7684\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>class Account(object):\n    def __init__(self, name, balance):\n        self.name = name\n        self.balance = balance\n\n\na = Account(\"Guido\", 1100.0)\na.__dict__\n</code></pre> <pre><code>{'name': 'Guido', 'balance': 1100.0}\n</code></pre> <p>\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u5411\u5b9e\u4f8b\u6dfb\u52a0\u65b0\u5c5e\u6027\uff0c\u4f8b\u5982\uff1a</p> <pre><code>a.number = 123456  # \u5c06\u5c5e\u6027'number'\u6dfb\u52a0\u5230 a.__dict__\n</code></pre> <p>\u5bf9\u5b9e\u4f8b\u7684\u4fee\u6539\u59cb\u7ec8\u4f1a\u53cd\u6620\u5230\u5c40\u90e8 <code>__dict__</code> \u5c5e\u6027\u4e2d\u3002\u540c\u6837\uff0c\u5982\u679c\u76f4\u63a5\u5bf9 <code>__dict__</code> \u8fdb\u884c\u4fee\u6539\uff0c\u6240\u505a\u7684\u4fee\u6539\u4e5f\u4f1a\u53cd\u6620\u5728\u5b9e\u4f8b\u7684\u5c5e\u6027\u4e2d\u3002</p> <p>\u5b9e\u4f8b\u901a\u8fc7\u7279\u6b8a\u5c5e\u6027 <code>__class__</code> \u94fe\u63a5\u56de\u5b83\u4eec\u7684\u7c7b\u3002\u7c7b\u672c\u8eab\u4e5f\u53ea\u662f\u5bf9\u5b57\u5178\u7684\u6d45\u5c42\u5305\u88c5\uff0c\u4f60\u53ef\u4ee5\u5728\u5b9e\u4f8b\u7684 <code>__dict__</code> \u5c5e\u6027\u4e2d\u627e\u5230\u8fd9\u4e2a\u5b57\u5178\u3002\u53ef\u4ee5\u5728\u7c7b\u5b57\u5178\u4e2d\u627e\u5230\u5404\u79cd\u65b9\u6cd5\u3002\u4f8b\u5982\uff1a</p> <pre><code>a.__class__\n</code></pre> <pre><code>__main__.Account\n</code></pre> <pre><code>Account.__dict__.keys()\n</code></pre> <pre><code>dict_keys(['__module__', '__init__', '__dict__', '__weakref__',\n'__doc__'])\n</code></pre> <p>\u6700\u540e\uff0c\u901a\u8fc7\u7279\u6b8a\u5c5e\u6027 <code>__bases__</code> \u4e2d\u5c06\u7c7b\u94fe\u63a5\u5230\u5b83\u4eec\u7684\u57fa\u7c7b\uff0c\u8be5\u5c5e\u6027\u662f\u4e00\u4e2a\u57fa\u7c7b\u5143\u7ec4\u3002\u8fd9\u79cd\u5e95\u5c42\u7ed3\u6784\u662f\u83b7\u53d6\u3001\u8bbe\u7f6e\u548c\u5220\u9664\u5bf9\u8c61\u5c5e\u6027\u7684\u6240\u6709\u64cd\u4f5c\u7684\u57fa\u7840\u3002</p> <p>\u53ea\u8981\u4f7f\u7528 <code>obj.name = value</code> \u8bbe\u7f6e\u4e86\u5c5e\u6027\uff0c\u7279\u6b8a\u65b9\u6cd5 <code>obj.__setattr__(\"name\", value)</code> \u5c31\u4f1a\u88ab\u8c03\u7528\u3002\u5982\u679c\u4f7f\u7528 <code>del obj.name</code> \u5220\u9664\u4e86\u4e00\u4e2a\u5c5e\u6027\uff0c\u5c31\u4f1a\u8c03\u7528\u7279\u6b8a\u65b9\u6cd5 <code>obj.__delattr__(\"name\")</code>\u3002\u8fd9\u4e9b\u65b9\u6cd5\u7684\u9ed8\u8ba4\u884c\u4e3a\u662f\u4fee\u6539\u6216\u5220\u9664 <code>obj</code> \u7684\u5c40\u90e8 <code>__dict__</code> \u7684\u503c\uff0c\u9664\u975e\u8bf7\u6c42\u7684\u5c5e\u6027\u6b63\u597d\u662f\u4e00\u4e2a\u7279\u6027\u6216\u63cf\u8ff0\u7b26\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8bbe\u7f6e\u548c\u5220\u9664\u64cd\u4f5c\u5c06\u7531\u4e0e\u8be5\u7279\u6027\u76f8\u5173\u8054\u7684\u8bbe\u7f6e\u548c\u5220\u9664\u51fd\u6570\u6267\u884c\u3002 </p> <p>\u5728\u67e5\u627e\u5c5e\u6027\uff08\u5982 <code>obj.name</code>\uff09\u65f6\uff0c\u5c06\u8c03\u7528\u7279\u6b8a\u65b9\u6cd5 <code>obj.__getattrribute__(\"name\")</code> \u3002\u8be5\u65b9\u6cd5\u6267\u884c\u641c\u7d22\u6765\u67e5\u627e\u8be5\u5c5e\u6027\uff0c\u8fd9\u901a\u5e38\u6d89\u53ca\u68c0\u67e5\u7279\u6027\u3001\u67e5\u627e\u5c40\u90e8 <code>__dict__</code> \u5c5e\u6027\u3001\u68c0\u67e5\u7c7b\u5b57\u5178\u4ee5\u53ca\u641c\u7d22\u57fa\u7c7b\u3002\u5982\u679c\u641c\u7d22\u8fc7\u7a0b\u5931\u8d25\uff0c\u6700\u7ec8\u4f1a\u5c1d\u8bd5\u8c03\u7528\u7c7b\u7684 <code>__getattr__()</code> \u65b9\u6cd5\uff08\u5982\u679c\u5df2\u5b9a\u4e49\uff09\u6765\u67e5\u627e\u8be5\u5c5e\u6027\u3002\u5982\u679c\u8fd9\u4e5f\u5931\u8d25\uff0c\u5c31\u4f1a\u629b\u51fa AttributeError \u5f02\u5e38\u3002</p> <p>\u5982\u679c\u6709\u5fc5\u8981\uff0c\u7528\u6237\u5b9a\u4e49\u7684\u7c7b\u53ef\u4ee5\u5b9e\u73b0\u5176\u81ea\u5df1\u7684\u5c5e\u6027\u8bbf\u95ee\u51fd\u6570\u3002\u4f8b\u5982\uff1a</p> <pre><code>import math\n\n\nclass Circle(object):\n    def __init__(self, radius):\n        self.radius = radius\n\n    def __getattr__(self, name):\n        if name == 'area':\n            return math.pi * self.radius ** 2\n        elif name == 'perimeter':\n            return 2 * math.pi * self.radius\n        else:\n            return object.__getattr__(self, name)\n\n    def __setattr__(self, name, value):\n        if name in ['area', 'perimeter']:\n            raise TypeError(\"%s is readonly\" % name) from None\n        object.__setattr__(self, name, value)\n</code></pre> <pre><code>c = Circle(2)\nprint(c.area)\n\ntry:\n    c.area = 10\nexcept TypeError as e:\n    print(\"TypeError:\", e)\n</code></pre> <pre><code>12.566370614359172\nTypeError: area is readonly\n</code></pre> <p>\u91cd\u65b0\u5b9e\u73b0\u8fd9\u4e9b\u65b9\u6cd5\u7684\u7c7b\u5e94\u8be5\u53ef\u4ee5\u4f9d\u9760 <code>object</code> \u4e2d\u7684\u9ed8\u8ba4\u5b9e\u73b0\u6765\u6267\u884c\u5b9e\u9645\u7684\u5de5\u4f5c\u3002\u8fd9\u662f\u56e0\u4e3a\u9ed8\u8ba4\u5b9e\u73b0\u80fd\u591f\u5904\u7406\u7c7b\u7684\u66f4\u9ad8\u7ea7\u7279\u6027\uff0c\u5982\u63cf\u8ff0\u7b26\u548c\u7279\u6027\u3002</p> <p>\u4e00\u822c\u6765\u8bb2\uff0c\u7c7b\u5f88\u5c11\u91cd\u65b0\u5b9a\u4e49\u5c5e\u6027\u8bbf\u95ee\u8fd0\u7b97\u7b26\u3002\u4f46\u662f\uff0c\u5728\u7f16\u5199\u901a\u7528\u7684\u5305\u88c5\u5668\u548c\u73b0\u6709\u5bf9\u8c61\u7684\u4ee3\u7406\u65f6\uff0c\u901a\u5e38\u4f1a\u4f7f\u7528\u5c5e\u6027\u8bbf\u95ee\u8fd0\u7b97\u7b26\u3002\u901a\u8fc7\u91cd\u65b0\u5b9a\u4e49 <code>__getattr__()</code>\u3001<code>__setattr__()</code> \u548c <code>__delattr__()</code>\uff0c\u4ee3\u7406\u53ef\u4ee5\u6355\u83b7\u5c5e\u6027\u8bbf\u95ee\u64cd\u4f5c\uff0c\u5e76\u900f\u660e\u5730\u5c06\u8fd9\u4e9b\u64cd\u4f5c\u8f6c\u53d1\u7ed9\u53e6\u4e00\u4e2a\u5bf9\u8c61\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.1.%E7%B1%BB.html#__slots__","title":"<code>__slots__</code>","text":"<p>\u901a\u8fc7\u5b9a\u4e49\u7279\u6b8a\u53d8\u91cf slots\uff0c\u7c7b\u53ef\u4ee5\u9650\u5236\u5bf9\u5408\u6cd5\u5b9e\u4f8b\u5c5e\u6027\u540d\u79f0\u7684\u8bbe\u7f6e\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>class Account(object):\n    def __init__(self, name, balance):\n        self.name = name\n        self.balance = balance\n\n    __slots__ = ('name', 'balance')\n\n\na = Account(\"Guido\", 1100.0)\ntry:\n    a.date = \"12-12\"\nexcept AttributeError as e:\n    print(\"AttributeError:\", e)\n</code></pre> <pre><code>AttributeError: 'Account' object has no attribute 'date'\n</code></pre> <p>\u5b9a\u4e49<code>__slots__</code>\u65f6\uff0c\u53ef\u4ee5\u5c06\u5b9e\u4f8b\u4e0a\u5206\u914d\u7684\u5c5e\u6027\u540d\u79f0\u9650\u5236\u4e3a\u6307\u5b9a\u7684\u540d\u79f0\uff0c\u5426\u5219\u5c06\u5f15\u53d1 AttributeError \u5f02\u5e38\u3002\u8fd9\u79cd\u9650\u5236\u53ef\u4ee5\u963b\u6b62\u5176\u4ed6\u4eba\u5411\u73b0\u6709\u5b9e\u4f8b\u6dfb\u52a0\u65b0\u5c5e\u6027\uff0c\u5373\u4fbf\u7528\u6237\u5c06\u5c5e\u6027\u540d\u79f0\u5199\u9519\uff0c\u4e5f\u4e0d\u4f1a\u521b\u5efa\u51fa\u65b0\u7684\u5c5e\u6027\u6765\u3002</p> <p>\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c<code>__slots__</code>\u4ece\u672a\u88ab\u5f53\u4f5c\u4e00\u79cd\u5b89\u5168\u7684\u7279\u6027\u6765\u5b9e\u73b0\u3002\u5b83\u5b9e\u9645\u4e0a\u662f\u5bf9\u5185\u5b58\u548c\u6267\u884c\u901f\u5ea6\u7684\u4e00\u79cd\u6027\u80fd\u4f18\u5316\u3002 \u4f7f\u7528<code>__slots__</code>\u7684\u7c7b\u7684\u5b9e\u4f8b\u4e0d\u518d\u4f7f\u7528\u5b57\u5178\u6765\u5b58\u50a8\u5b9e\u4f8b\u6570\u636e\uff0c\u8f6c\u800c\u91c7\u7528\u4e00\u79cd\u57fa\u4e8e\u6570\u7ec4\u7684\u66f4\u52a0\u7d27\u51d1\u7684\u6570\u636e\u7ed3\u6784\u3002\u5728\u4f1a\u521b\u5efa\u5927\u91cf\u5bf9\u8c61\u7684\u7a0b\u5e8f\u4e2d\uff0c\u4f7f\u7528<code>__slots__</code>\u53ef\u4ee5\u663e\u8457\u51cf\u5c11\u51cf\u5c11\u5185\u5b58\u5360\u7528\u548c\u6267\u884c\u65f6\u95f4\u3002</p> <p>\u6ce8\u610f\uff0c<code>__slots__</code>\u4e0e\u7ee7\u627f\u7684\u914d\u5408\u4f7f\u7528\u9700\u8981\u4e00\u5b9a\u7684\u6280\u5de7\u3002\u5982\u679c\u7c7b\u7ee7\u627f\u81ea\u4f7f\u7528<code>__slots__</code>\u7684\u57fa\u7c7b\uff0c\u90a3\u4e48\u5b83\u4e5f\u9700\u8981\u5b9a\u4e49<code>__slots__</code>\u6765\u5b58\u50a8\u81ea\u5df1\u7684\u5c5e\u6027\uff08\u5373\u4f7f\u5b83\u4e0d\u4f1a\u6dfb\u52a0\u4efb\u4f55\u5c5e\u6027\u4e5f\u662f\u5982\u6b64\uff09\uff0c\u8fd9\u6837\u624d\u80fd\u5229\u7528<code>__slots__</code>\u63d0\u4f9b\u7684\u4f18\u52bf\u3002\u5982\u679c\u5fd8\u8bb0\u4e86\u8fd9\u4e00\u70b9\uff0c\u6d3e\u751f\u7c7b\u7684\u8fd0\u884c\u901f\u5ea6\u5c06\u66f4\u6162\uff0c\u5360\u7528\u7684\u5185\u5b58\u4e5f\u66f4\u591a\uff0c\u6bd4\u5b8c\u5168\u4e0d\u4f7f\u7528<code>__slots__</code>\u65f6\u60c5\u51b5\u66f4\u7cdf\u3002</p> <p><code>__slots__</code>\u7684\u4f7f\u7528\u8fd8\u4f1a\u7834\u574f\u671f\u671b\u5b9e\u4f8b\u5177\u6709\u5e95\u5c42<code>__dict__</code>\u5c5e\u6027\u7684\u4ee3\u7801\u3002\u5c3d\u7ba1\u8fd9\u4e00\u70b9\u901a\u5e38\u4e0d\u9002\u7528\u4e8e\u7528\u6237\u4ee3\u7801\uff0c\u4f46\u5bf9\u4e8e\u652f\u6301\u5bf9\u8c61\u7684\u5b9e\u7528\u5e93\u548c\u5176\u4ed6\u5de5\u5177\uff0c\u5176\u4ee3\u7801\u53ef\u80fd\u8981\u4f9d\u9760<code>__dict__</code>\u6765\u8c03\u8bd5\u3001\u5e8f\u5217\u5316\u5bf9\u8c61\u4ee5\u53ca\u6267\u884c\u5176\u4ed6\u64cd\u4f5c\u3002</p> <p>\u6700\u540e\uff0c\u5982\u679c\u7c7b\u4e2d\u91cd\u65b0\u5b9a\u4e49\u4e86<code>__getattribute__()</code>\u3001<code>__getattr__()</code>\u548c<code>__setattr__()</code>\u7b49\u65b9\u6cd5\uff0c<code>__slots__</code>\u7684\u5b58\u5728\u4e0d\u4f1a\u5bf9\u5b83\u4eec\u7684\u8c03\u7528\u4ea7\u751f\u4efb\u4f55\u5f71\u54cd\u3002\u4f46\u662f\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u7684\u9ed8\u8ba4\u884c\u4e3a\u5c06\u8003\u8651\u5230<code>__slots__</code>\u3002\u6b64\u5916\u5e94\u8be5\u5f3a\u8c03\u4e00\u70b9\uff0c\u6ca1\u6709\u5fc5\u8981\u5411<code>__slots__</code>\u6dfb\u52a0\u65b9\u6cd5\u6216\u7279\u6027\u540d\u79f0\uff0c\u56e0\u4e3a\u5b83\u4eec\u5b58\u50a8\u5728\u7c7b\u4e2d\uff0c\u800c\u4e0d\u662f\u5b58\u50a8\u5728\u6bcf\u4e2a\u5b9e\u4f8b\u4e2d\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.1.%E7%B1%BB.html#_13","title":"\u53c2\u8003","text":"<ol> <li>difference between staticmethod and classmethod in python</li> </ol>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.2.%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF%E5%92%8CMRO.html","title":"4.2.\u591a\u91cd\u7ee7\u627f\u548cMRO","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.06.26\n</code></pre> <p>\u5728\u4f7f\u7528\u591a\u91cd\u7ee7\u627f\u7684\u8bed\u8a00\u4e2d\uff0c\u67e5\u627e\u65b9\u6cd5\u65f6\u641c\u7d22\u57fa\u7c7b\u7684\u987a\u5e8f\u901a\u5e38\u79f0\u4e3a\u65b9\u6cd5\u89e3\u6790\u987a\u5e8f\uff08Method Resolution Order, MRO\uff09\u3002MRO\u5b9a\u4e49\u4e86\u591a\u4e2a\u7ee7\u627f\u5b58\u5728\u65f6\uff0cPython \u89e3\u91ca\u5668\u67e5\u627e\u51fd\u6570\u89e3\u6790\u7684\u5177\u4f53\u987a\u5e8f\u3002</p> <p>\u5bf9\u4e8e\u53ea\u652f\u6301\u5355\u7ee7\u627f\u7684\u8bed\u8a00\u6765\u8bf4\uff0cMRO \u662f\u65e0\u8da3\u7684; \u4f46\u662f\u5f53\u591a\u91cd\u7ee7\u627f\u5f00\u59cb\u4f7f\u7528\u65f6\uff0cMRO \u7b97\u6cd5\u7684\u9009\u62e9\u53ef\u80fd\u662f\u975e\u5e38\u5fae\u5999\u7684\u3002Python \u81f3\u5c11\u6709\u4e09\u79cd\u4e0d\u540c\u7684 MRO \u7b97\u6cd5: classic\u3001Python 2.2 new-style \u548c Python 2.3 new-style (\u53c8\u540d C3)\u3002\u5728 Python 3\u4e2d\uff0c\u53ea\u6709C3\u7b97\u6cd5\u5e78\u5b58\u4e0b\u6765\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.2.%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF%E5%92%8CMRO.html#classic-mco","title":"classic MCO","text":"<p>\u4ec0\u4e48\u662f\u51fd\u6570\u89e3\u6790\u987a\u5e8f\uff1f\u6211\u4eec\u9996\u5148\u7528\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u6765\u8bf4\u660e\uff1a</p> <pre><code># example 1\nclass A:\n    def save(self):\n        pass\n\nclass B(A):\n    pass\n\nclass C:\n    def save(self):\n        pass\n\nclass D(B, C):\n    pass\n\nD().save()\n</code></pre> <p></p> <p>Python 2.1 \u53ca\u4e4b\u524d\uff0cold-style class \u4f7f\u7528\u4e00\u4e2a\u7b80\u5355\u7684 MRO \u65b9\u6848\uff1a\u5728\u67e5\u627e\u65b9\u6cd5\u65f6\uff0c\u4f7f\u7528\u4e00\u4e2a\u7b80\u5355\u7684\u6df1\u5ea6\u4f18\u5148\u7684\u4ece\u5de6\u5230\u53f3\u65b9\u6848\u641c\u7d22\u57fa\u7c7b\uff0c\u5c06\u8fd4\u56de\u5728\u6b64\u641c\u7d22\u8fc7\u7a0b\u4e2d\u627e\u5230\u7684\u7b2c\u4e00\u4e2a\u5339\u914d\u5bf9\u8c61\u3002\u8be5\u79cdMRO\u65b9\u6848\u53ef\u4ee5\u88ab\u79f0\u4e3aclassic\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u5177\u4f53\u5982\u4e0b\uff1a</p> <ol> <li>\u68c0\u67e5\u5f53\u524d\u7684\u7c7b\u91cc\u9762\u662f\u5426\u6709\u8be5\u51fd\u6570\uff0c\u5982\u679c\u6709\u5219\u76f4\u63a5\u8c03\u7528\u3002</li> <li>\u68c0\u67e5\u5f53\u524d\u7c7b\u7684\u7b2c\u4e00\u4e2a\u7236\u7c7b\u91cc\u9762\u662f\u5426\u6709\u8be5\u51fd\u6570\uff0c\u5982\u679c\u6ca1\u6709\u5219\u68c0\u67e5\u7236\u7c7b\u7684\u7b2c\u4e00\u4e2a\u7236\u7c7b\u662f\u5426\u6709\u8be5\u51fd\u6570\uff0c\u4ee5\u6b64\u9012\u5f52\u6df1\u5ea6\u904d\u5386\u3002</li> <li>\u5982\u679c\u6ca1\u6709\u5219\u56de\u6eaf\u4e00\u5c42\uff0c\u68c0\u67e5\u4e0b\u4e00\u4e2a\u7236\u7c7b\u91cc\u9762\u662f\u5426\u6709\u8be5\u51fd\u6570\u5e76\u6309\u7167 2 \u4e2d\u7684\u65b9\u5f0f\u9012\u5f52\u3002</li> </ol> <p>\u6b65\u9aa4 2 \u603b\u662f\u6309\u7167\u7ee7\u627f\u5217\u8868\u4e2d\u7c7b\u7684\u5148\u540e\u987a\u5e8f\u6765\u9009\u62e9\u5206\u652f\u7684\u904d\u5386\u987a\u5e8f\u3002</p> <p>\u56e0\u6b64\uff0c\u5982\u679c\u662fold-style class\uff0c\u90a3\u4e48<code>save</code>\u65b9\u6cd5\u7684\u641c\u7d22\u987a\u5e8f\u5982\u4e0b\uff1a</p> <pre><code>D B A C\n</code></pre> <p>\u6240\u4ee5\uff0c<code>D().save()</code>\u4f1a\u8c03\u7528<code>A</code>\u7684<code>save</code>\u65b9\u6cd5\u3002</p> <p>old-style class \u7684MRO\u65b9\u6848\u5728\u7b80\u5355\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c\u826f\u597d\uff0c\u4f46\u5982\u679c\u662fdiamond inheritance\uff08\u83f1\u5f62\u7ee7\u627f\uff09\uff0c\u95ee\u9898\u5c31\u4f1a\u51fa\u73b0\u3002</p> <pre><code># example 2\nclass A:\n    def save(self):\n        pass\n\nclass B(A):\n    pass\n\nclass C(A):\n    def save(self):\n        pass\n\nclass D(B, C):\n    pass\n\nD().save()\n</code></pre> <p></p> <p>\u6309\u7167\u6df1\u5ea6\u4f18\u5148\u7684MRO\u65b9\u6848\uff0c<code>save</code>\u65b9\u6cd5\u7684\u641c\u7d22\u987a\u5e8f\u5982\u4e0b\uff1a</p> <pre><code>D B A C A\n</code></pre> <p>\u56e0\u6b64\uff0c<code>D().save()</code>\u8fd8\u662f\u4f1a\u8c03\u7528<code>A</code>\u7684<code>save</code>\u65b9\u6cd5\u3002\u7136\u800c\uff0c\u8fd9\u53ef\u80fd\u4e0d\u662f\u4f60\u60f3\u8981\u7684\u7ed3\u679c\u3002\u65e2\u7136 <code>B</code> \u548c <code>C</code> \u90fd\u7ee7\u627f\u81ea <code>A</code>\uff0c\u4e3a\u4ec0\u4e48<code>D</code>\u4e0d\u8c03\u7528\u76f4\u63a5\u57fa\u7c7b<code>C</code>\u7684<code>save</code>\u65b9\u6cd5\u5462\uff1f\u53ef\u4ee5\u8bf4\u91cd\u65b0\u5b9a\u4e49\u7684\u65b9\u6cd5 <code>C.save ()</code>\u662f\u66f4\u53ef\u80fd\u60f3\u8981\u8c03\u7528\u7684\u65b9\u6cd5\uff0c\u56e0\u4e3a <code>C.save ()</code>\u53ef\u4ee5\u770b\u6210\u662f\u6bd4<code>A.save ()</code>\u66f4\u5177\u4f53\u5316\u7684\u65b9\u6cd5\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.2.%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF%E5%92%8CMRO.html#mro-for-python-22-new-style-class","title":"MRO for Python 2.2 new-style class","text":"<p>\u5c3d\u7ba1\u8fd9\u79cd\u7c7b\u578b\u7684\u591a\u91cd\u7ee7\u627f\u5728Python2\u7684\u4ee3\u7801\u4e2d\u5f88\u5c11\u89c1\uff0c\u4f46\u662fnew-style class\u7684\u51fa\u73b0\u5c06\u4f7f\u5b83\u53d8\u5f97\u53f8\u7a7a\u89c1\u60ef\u3002 \u8fd9\u662f\u56e0\u4e3a\u6240\u6709\u65b0\u5f0f\u7c7b\u90fd\u662f\u901a\u8fc7\u7ee7\u627f<code>object</code>\u5bf9\u8c61\u6765\u5b9a\u4e49\u7684\u3002 \u56e0\u6b64\uff0c\u5728\u4efb\u4f55\u65b0\u5f0f\u7c7b\u4e2d\u4f7f\u7528\u591a\u91cd\u7ee7\u627f\u90fd\u4f1a\u521b\u5efa\u4e0a\u9762\u63cf\u8ff0\u7684\u83f1\u5f62\u5173\u7cfb\u3002 \u4f8b\u5982:</p> <pre><code># example 3\nclass B(object):\n    pass\n\nclass C(object):\n    def __setattr__(self, name, value):\n        pass\n\nclass D(B, C):\n    pass\n</code></pre> <p></p> <p>\u56e0\u6b64\uff0c\u5982\u679c\u57fa\u7c7b\u5bf9\u8c61\u91cd\u5b9a\u4e49\u4e86\u9b54\u672f\u65b9\u6cd5\uff08\u5982\u4e0a\u4f8b\u4e2d\u7684<code>__setattr__()</code>\uff09\uff0c\u89e3\u6790\u987a\u5e8f\u5c31\u4f1a\u53d8\u5f97\u81f3\u5173\u91cd\u8981\u3002\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u65b9\u6cd5 <code>c.__setattr__()</code>\u5e94\u8be5\u88ab\u7c7b <code>D</code> \u7ee7\u627f\u3002</p> <p>\u4e3a\u4e86\u4fee\u6b63 Python 2.2 \u4e2d\u65b0\u6837\u5f0f\u7c7b\u7684\u65b9\u6cd5\u89e3\u6790\u987a\u5e8f\uff0cGuido van Rossum \u91c7\u7528\u4e86\u4e00\u4e2a\u65b0\u7684MRO\u65b9\u6848\uff0c</p> <ol> <li>\u9996\u5148\u6309\u7167 old-style class \u7684MRO\u65b9\u6848\u9884\u5148\u8ba1\u7b97\uff1a</li> </ol> <p><code>D B O C O</code></p> <ol> <li>\u5982\u679c\u524d\u9762\u7684\u7c7b\u5728\u540e\u9762\u4e5f\u51fa\u73b0\u4e86\uff0c\u5219\u5220\u9664\u524d\u9762\u91cd\u590d\u7684\u7c7b\uff0c\u5f97\u5230\u6700\u7ec8\u7684\u641c\u7d22\u987a\u5e8f\uff1a</li> </ol> <p><code>D B C O</code></p> <p>\u5b9e\u9645\u4e0a\uff0cPython 2.2 \u7684new-style class\u7684MRO\u7b97\u6cd5\u6bd4\u8fd9\u8fd8\u8981\u590d\u6742\u4e00\u4e9b\uff0c\u56e0\u4e3a\u6709\u4e9b\u60c5\u51b5\uff0c\u4f7f\u7528\u4e0a\u9762\u7b80\u5355\u7684MRO\u7b97\u6cd5\u5e76\u4e0d\u8d77\u4f5c\u7528\uff0c\u4f8b\u5982\u4e0b\u9762\u7684\u60c5\u51b5\uff1a</p> <pre><code># example 4\nclass A(object): pass\nclass B(object): pass\nclass X(A, B): pass\nclass Y(B, A): pass\nclass Z(X, Y): pass\n</code></pre> <p></p> <p>\u5982\u679c\u4f7f\u7528\u7b80\u5355\u7684MRO\u7b97\u6cd5\uff0c\u7ed3\u679c\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>result of the first step:  Z X A B O Y B A O\n            final result:  Z X Y B A O\n</code></pre> <p>Guido van Rossum\u4e0d\u559c\u6b22 <code>B</code> \u548c <code>A</code> \u7684\u987a\u5e8f\u98a0\u5012\u3002 \u56e0\u6b64\uff0c\u771f\u6b63\u7684 new-style class MRO \u4fdd\u6301\u641c\u7d22\u8fc7\u7a0b\u4e2d\u6700\u5148\u51fa\u73b0\u7684\u57fa\u7c7b\u7684\u987a\u5e8f\uff0c\u6240\u4ee5\u6700\u7ec8\u7ed3\u679c\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>Z X Y A B O\n</code></pre> <p>\u8fd9\u662fGuido van Rossum\u4e3a Python 2.2 new-style class \u5b9e\u73b0\u7684MRO\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.2.%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF%E5%92%8CMRO.html#c3-for-python-23","title":"C3 for Python 2.3 +","text":"<p>\u7136\u800c\uff0c\u5728 Python 2.2 \u4e2d\u5f15\u5165\u65b0\u5f0f\u7c7b\u4e4b\u540e\u4e0d\u4e45\uff0cSamuele Pedroni \u53d1\u73b0\u6587\u6863\u4e2d\u7684 MRO \u7b97\u6cd5\u4e0e\u5b9e\u9645\u5728\u5b9e\u9645\u4ee3\u7801\u4e2d\u89c2\u5bdf\u5230\u7684\u7ed3\u679c\u4e0d\u4e00\u81f4\u3002 \u6b64\u5916\uff0c\u5373\u4f7f\u5728\u4e0d\u5c5e\u4e8e\u4e0a\u8ff0\u7279\u6b8a\u60c5\u51b5\u7684\u4ee3\u7801\u4e2d\u4e5f\u4f1a\u51fa\u73b0\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5\u3002\u7ecf\u8fc7\u5927\u91cf\u8ba8\u8bba\uff0c\u4ed6\u4eec\u51b3\u5b9a\u653e\u5f03 Python 2.2 \u91c7\u7528\u7684 MRO\uff0c\u8ba9 Python2.3 \u53ca\u4e4b\u540e\u7684\u7248\u672c\u4f7f\u7528C3 Linearization algorithm\uff08A Monotonic Superclass Linearization for Dylan, K. Barrett, et al, presented at OOPSLA'96\uff09\u3002</p> <p>\u5728\u4ecb\u7ecdC3\u7b97\u6cd5\u4e4b\u524d\uff0c\u6211\u4eec\u9996\u5148\u7ea6\u5b9a\u9700\u8981\u4f7f\u7528\u7684\u7b26\u53f7\u3002\u6211\u4eec\u7528 $C_{1}C_{2} \\cdots C_{N}$\u8868\u793a\u5305\u542b N \u4e2a\u7c7b\u7684\u5217\u8868\uff0c\u5e76\u4ee4</p> <p>$$ \\begin{array}{c}\\operatorname{head}\\left(C_{1} C_{2} \\cdots C_{N}\\right)=C_{1} \\ \\operatorname{tail}\\left(C_{1} C_{2} \\cdots C_{N}\\right)=C_{2} C_{3} \\cdots C_{N}\\end{array} $$</p> <p>\u4e3a\u4e86\u65b9\u4fbf\u505a\u5217\u8868\u8fde\u63a5\u64cd\u4f5c\uff0c\u6211\u4eec\u8bb0\uff1a</p> <p>$$ C_{1}+\\left(C_{2} C_{3} \\cdots C_{N}\\right)=C_{1} C_{2} \\cdots C_{N} $$</p> <p>\u5047\u8bbe\u7c7b $C$ \u7ee7\u627f\u81ea\u7236\u7c7b $B_{1}, \\cdots, B_{N}$\uff0c\u90a3\u4e48\u6839\u636e C3 \u7ebf\u6027\u5316\uff0c\u7c7b $C$ \u7684\u65b9\u6cd5\u89e3\u6790\u5217\u8868\u901a\u8fc7\u5982\u4e0b\u516c\u5f0f\u786e\u5b9a\uff1a</p> <p>$$ L[C(B_{1} \\cdots B_{N})] = C + merge(L[B_{1}], \\cdots, L[B_{N}], B_{1} \\cdots B_{N}) $$</p> <p>\u8fd9\u4e2a\u516c\u5f0f\u8868\u660e $C$ \u7684\u89e3\u6790\u5217\u8868\u662f\u901a\u8fc7\u5bf9\u5176\u6240\u6709\u7236\u7c7b\u7684\u89e3\u6790\u5217\u8868\u53ca\u5176\u7236\u7c7b\u4e00\u8d77\u505a merge \u64cd\u4f5c\u6240\u5f97\u5230\u3002</p> <p>merge\u662f C3 \u7ebf\u6027\u5316\u4e2d\u6700\u91cd\u8981\u7684\u64cd\u4f5c\uff0c\u8be5\u64cd\u4f5c\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a</p> <ol> <li>\u9009\u53d6 merge\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5217\u8868\u8bb0\u4e3a\u5f53\u524d\u5217\u8868 $K$\u3002</li> <li>\u4ee4 $h = head(K)$\uff0c\u5982\u679c $h$ \u6ca1\u6709\u51fa\u73b0\u5728\u5176\u4ed6\u4efb\u4f55\u5217\u8868\u7684 $\\text{tail}$ \u5f53\u4e2d\uff0c\u90a3\u4e48\u5c06\u5176\u52a0\u5165\u5230\u7c7b $C$ \u7684\u7ebf\u6027\u5316\u5217\u8868\u4e2d\uff0c\u5e76\u5c06\u5176\u4ece merge \u4e2d\u6240\u6709\u5217\u8868\u4e2d\u79fb\u9664\uff0c\u4e4b\u540e\u91cd\u590d\u6b65\u9aa4 2\u3002</li> <li>\u5426\u5219\uff0c\u8bbe\u7f6e $K$ \u4e3a merge \u4e2d\u7684\u4e0b\u4e00\u4e2a\u5217\u8868\uff0c\u5e76\u91cd\u590d 2 \u4e2d\u7684\u64cd\u4f5c\u3002</li> <li>\u5982\u679c merge\u4e2d\u6240\u6709\u7684\u7c7b\u90fd\u88ab\u79fb\u9664\uff0c\u5219\u8f93\u51fa\u7c7b\u521b\u5efa\u6210\u529f\uff1b\u5982\u679c\u4e0d\u80fd\u627e\u5230\u4e0b\u4e00\u4e2a $h$\uff0c\u5219\u8f93\u51fa\u62d2\u7edd\u521b\u5efa\u7c7b $C$ \u5e76\u629b\u51fa\u5f02\u5e38\u3002</li> </ol> <p>\u4f7f\u7528 example 4 \u7684\u4f8b\u5b50\u6765\u6267\u884cC3\u7b97\u6cd5\uff1a</p> <pre><code>class A(object): pass\nclass B(object): pass\nclass X(A, B): pass\nclass Y(B, A): pass\nclass Z(X, Y): pass\n</code></pre> <p></p> <p>\u9996\u5148\u6211\u4eec\u6709\uff1a</p> <p>$$ L[A] = [A, O] \\tag{1} $$</p> <p>$$ L[B] = [B, O] \\tag{2} $$</p> <p>\u6839\u636e(1)\u548c(2)\uff0c\u6709\uff1a</p> <p>$$ \\begin{aligned} L[X] &amp;= X + merge\\left[ L[A], L[B], A, B \\right] \\\\ &amp;= X + [[A, O],  [B,O], A, B] \\\\ &amp;= [X, A] + [[O],  [B,O], B] \\\\ &amp;= [X, A, B] + [[O],  [O]] \\\\ &amp;= [X, A, B, O] + [ ] \\\\ &amp;= [X, A, B, O] \\end{aligned} \\tag{3} $$</p> <p>\u540c\u7406\u53ef\u5f97\uff1a</p> <p>$$ L[Y] = [Y, B, A, O] \\tag{4} $$</p> <p>\u6839\u636e(3)\u548c(4)\uff0c\u6709\uff1a</p> <p>$$ \\begin{aligned} L[Z] &amp;= Z + merge\\left[ L[X], L[Y], X, Y \\right] \\\\ &amp;= Z + [[X, A, B, O],  [Y, B,A, O], X, Y] \\\\ &amp;= [Z,X] + [[A, B, O],  [Y, B,A, O], Y] \\\\ &amp;= [Z,X,Y] + [[A, B, O],  [B,A, O]] \\end{aligned} \\tag{5} $$</p> <p>\u6700\u540e\u4ea7\u751f\u51b2\u7a81\uff0cPython\u4f1a\u629b\u51fa<code>TypeError</code>\u5f02\u5e38\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.3.%E6%A8%A1%E5%9D%97.html","title":"4.3.\u6a21\u5757","text":""},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.3.%E6%A8%A1%E5%9D%97.html#_1","title":"\u4e3a\u4ec0\u4e48\u9700\u8981\u6a21\u5757","text":"<p>\u5982\u679c\u4f60\u60f3\u8981\u7f16\u5199\u4e00\u4e9b\u66f4\u5927\u7684\u7a0b\u5e8f\uff0c\u80af\u5b9a\u4e0d\u60f3\u5b9a\u4e49\u91cd\u590d\u7684\u51fd\u6570\u3001\u7c7b\uff0c\u60f3\u8ba9\u4ee3\u7801\u53ef\u4ee5\u91cd\u590d\u4f7f\u7528\u3002\u968f\u7740\u7a0b\u5e8f\u53d8\u5f97\u8d8a\u6765\u8d8a\u5927\uff0c\u4f60\u53ef\u80fd\u60f3\u8981\u5c06\u5b83\u5206\u5272\u6210\u51e0\u4e2a\u66f4\u6613\u4e8e\u7ef4\u62a4\u7684\u6587\u4ef6\u3002\u4e3a\u4e86\u6ee1\u8db3\u8fd9\u4e9b\u9700\u8981\uff0cPython \u63d0\u4f9b\u4e86\u4e00\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u4ece\u6587\u4ef6\u4e2d\u83b7\u53d6\u5b9a\u4e49\uff0c\u5728\u811a\u672c\u6216\u8005\u89e3\u91ca\u5668\u7684\u4e00\u4e2a\u4ea4\u4e92\u5f0f\u5b9e\u4f8b\u4e2d\u4f7f\u7528\u3002\u8fd9\u6837\u7684\u6587\u4ef6\u88ab\u79f0\u4e3a\u6a21\u5757\u3002\u4e5f\u5c31\u662f\u8bf4\u4e00\u4e2a\u6a21\u5757\u5c31\u662f\u4e00\u4e2a.py\u6587\u4ef6\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.3.%E6%A8%A1%E5%9D%97.html#_2","title":"\u6a21\u5757\u641c\u7d22\u8def\u5f84","text":"<p>Python \u600e\u6837\u77e5\u9053\u4ece\u4f55\u5904\u627e\u5230\u6a21\u5757\u6587\u4ef6\uff1f</p> <p>\u5982\u679c\u4f60\u719f\u6089\u547d\u4ee4\u884c\uff0c\u90a3\u4e48\u8fd9\u4e2a\u95ee\u9898\u5bf9\u4f60\u6765\u8bf4\u5c31\u4e0d\u96be\u7406\u89e3\u3002\u5728\u547d\u4ee4\u884c\u4e2d\u6267\u884c\u7684\u4efb\u4f55\u547d\u4ee4\uff0c\u5b9e\u9645\u4e0a\u80cc\u540e\u90fd\u5bf9\u5e94\u4e86\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u3002\u547d\u4ee4\u884c\u89e3\u91ca\u5668\uff08\u6bd4\u5982 cmd\u3001powershell \u6216 bash\uff09\u4f1a\u4ece\u4e00\u4e2a\u5168\u5c40\u7684\u73af\u5883\u53d8\u91cf PATH \u4e2d\u8bfb\u53d6\u4e00\u4e2a\u6709\u5e8f\u7684\u5217\u8868\u3002\u8fd9\u4e2a\u5217\u8868\u5305\u542b\u4e86\u4e00\u7cfb\u5217\u7684\u8def\u5f84\uff0c\u800c\u547d\u4ee4\u884c\u89e3\u91ca\u5668\uff0c\u4f1a\u4f9d\u6b21\u5728\u8fd9\u4e9b\u8def\u5f84\u91cc\uff0c\u641c\u7d22\u9700\u8981\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002</p> <p>Python \u641c\u5bfb\u6a21\u5757\u6587\u4ef6\u4e5f\u9075\u5faa\u4e86\u7c7b\u4f3c\u7684\u601d\u8def\u3002\u6bd4\u5982\uff0c\u7528\u6237\u5728 Python \u4e2d\u5c1d\u8bd5\u5bfc\u5165<code>import foobar</code>\uff0c\u90a3\u4e48</p> <ul> <li>\u9996\u5148\uff0cPython \u4f1a\u5728\u5185\u5efa\u6a21\u5757\u4e2d\u641c\u5bfb foobar\uff1b</li> <li>\u82e5\u672a\u627e\u5230\uff0c\u5219 Python \u4f1a\u5728\u5f53\u524d\u5de5\u4f5c\u8def\u5f84\uff08\u5f53\u524d\u811a\u672c\u6240\u5728\u8def\u5f84\uff0c\u6216\u8005\u6267\u884c Python \u89e3\u91ca\u5668\u7684\u8def\u5f84\uff09\u4e2d\u641c\u5bfb foobar\uff1b</li> <li>\u82e5\u4ecd\u672a\u627e\u5230\uff0c\u5219 Python \u4f1a\u5728\u73af\u5883\u53d8\u91cf <code>PYTHONPATH</code> \u4e2d\u6307\u793a\u7684\u8def\u5f84\u4e2d\u641c\u5bfb foobar\uff1b</li> <li>\u82e5\u4f9d\u65e7\u672a\u80fd\u627e\u5230\uff0c\u5219 Python \u4f1a\u5728\u5b89\u88c5\u65f6\u6307\u5b9a\u7684\u8def\u5f84\u4e2d\u641c\u5bfb foobar\uff1b</li> <li>\u82e5\u4ecd\u65e7\u5931\u8d25\uff0c\u5219 Python \u4f1a\u62a5\u9519\uff0c\u63d0\u793a\u627e\u4e0d\u5230 foobar \u8fd9\u4e2a\u6a21\u5757\u3002</li> </ul>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.3.%E6%A8%A1%E5%9D%97.html#_3","title":"\u6dfb\u52a0\u641c\u7d22\u8def\u5f84","text":"<p>\u5f53\u6211\u4eec\u4f7f\u7528<code>import</code>\u52a0\u8f7d\u81ea\u5df1\u7f16\u5199\u7684 py \u4ee3\u7801\u65f6\uff0cpy \u6587\u4ef6\u5fc5\u987b\u653e\u5728 Python \u7684\u641c\u7d22\u8def\u5f84\u4e0b\u624d\u53ef\u4ee5\u5bfc\u5165\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.3.%E6%A8%A1%E5%9D%97.html#syspathappend","title":"\u6dfb\u52a0\u4e34\u65f6\u8def\u5f84\u2014\u2014<code>sys.path.append</code>","text":"<p>\u5728 Python \u4e2d\u5bfc\u5165<code>sys</code>\u6a21\u5757\uff0c<code>sys</code>\u6a21\u5757\u7684<code>path</code>\u53d8\u91cf\u662f\u4e00\u4e2a\u5217\u8868\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u5176\u5185\u5bb9\u5c31\u662f\u641c\u7d22\u8def\u5f84\uff1a</p> <pre><code>import sys\nprint(type(sys.path))\nsys.path\n</code></pre> <pre><code>&lt;class 'list'&gt;\n</code></pre> <pre><code>['/home/.../pycharm-2021.1.1/plugins/python/helpers/pycharm_display',\n '/home/.../miniconda3/envs/blog/lib/python39.zip',\n '/home/.../miniconda3/envs/blog/lib/python3.9',\n '/home/.../miniconda3/envs/blog/lib/python3.9/lib-dynload',\n '/home/.../miniconda3/envs/blog/lib/python3.9/site-packages',\n '/home/.../pycharm-2021.1.1/plugins/python/helpers/pycharm_matplotlib_backend',\n '/home/.../miniconda3/envs/blog/lib/python3.9/site-packages/IPython/extensions']\n</code></pre> <p>\u65e2\u7136\u662f<code>list</code>\u5bf9\u8c61\uff0c\u90a3\u4e48\u4f7f\u7528<code>append</code>\u65b9\u6cd5\u53ef\u4ee5\u5411\u5217\u8868\u6dfb\u52a0\u65b0\u7684\u5143\u7d20\uff0c\u5047\u8bbe\u6211\u4eec\u8981\u6dfb\u52a0\u7684\u8def\u5f84\u662f<code>\"C:\\Users\\Android\\Desktop\"</code>\uff1a</p> <pre><code>import sys\nsys.path.append(\"C:/Users/Android/Desktop\")\n</code></pre> <p>\u4f46\u8fd9\u53ea\u662f\u4e34\u65f6\u6dfb\u52a0\u8def\u5f84\uff0c\u5982\u679c\u91cd\u542fPython console\uff0c\u6dfb\u52a0\u7684\u8def\u5f84\u5c31\u4f1a\u6d88\u5931\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.3.%E6%A8%A1%E5%9D%97.html#_4","title":"\u4fee\u6539\u73af\u5883\u53d8\u91cf","text":"<p>\u5927\u90e8\u5206Linux\u7528\u6237\u5e94\u8be5\u77e5\u9053\u5982\u4f55\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\uff0c\u800c\u5bf9\u4e8e win 10 \u7528\u6237\uff0c\u9009\u62e9-&gt;\u63a7\u5236\u9762\u677f\\\u7cfb\u7edf\u548c\u5b89\u5168\\\u7cfb\u7edf-&gt;\u9ad8\u7ea7\u7cfb\u7edf\u8bbe\u7f6e-&gt;\u73af\u5883\u53d8\u91cf\uff0c\u627e\u5230<code>Path</code>\u540e\u9009\u62e9\u7f16\u8f91\uff0c\u6dfb\u52a0\u65b0\u7684\u8def\u5f84\u3002</p> <p>\u4f46\u8fd9\u79cd\u65b9\u6cd5\u4e0d\u80fd\u9002\u7528\u6240\u6709 Python \u7684\u529f\u80fd\uff0c\u56e0\u4e3a\u8fd9\u5e76\u672a\u5c06\u8981\u67e5\u627e\u7684\u8def\u5f84\u6dfb\u52a0\u5230 Python \u7684 Path \u7cfb\u7edf\u73af\u5883\u4e2d\uff0c\u5728<code>sys.path</code>\u7684\u5217\u8868\u4e2d\u5c06\u627e\u4e0d\u5230\u6dfb\u52a0\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u7684\u8def\u5f84\u3002\u4e5f\u5c31\u662f\u8bf4\u8fd9\u6837\u505a\u5e76\u6ca1\u6709\u5c06\u8def\u5f84\u6dfb\u52a0\u5230 Python \u7684\u641c\u7d22\u8def\u5f84\u4e2d\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.3.%E6%A8%A1%E5%9D%97.html#pth","title":"\u6dfb\u52a0\u6c38\u4e45\u641c\u7d22\u8def\u5f84\u2014\u2014\u589e\u52a0.pth\u6587\u4ef6","text":"<p>\u5728 site-packages \u6587\u4ef6\u5939\u6dfb\u52a0<code>.pth</code>\u6587\u4ef6\uff0c\u53ef\u4ee5\u5b9e\u73b0\u641c\u7d22\u8def\u5f84\u7684\u6c38\u4e45\u6dfb\u52a0\u3002\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <p>\u5148\u7f16\u8f91\u4e00\u4e2a\u6269\u5c55\u540d\u4e3a<code>.pth</code>\u7684\u6587\u672c\u6587\u4ef6\uff0c\u5728\u8fd9\u4e2a\u6587\u672c\u6587\u4ef6\u91cc\u9762\u5199\u4e0a\u8981\u6dfb\u52a0\u7684\u8def\u5f84\u5c31\u53ef\u4ee5\u4e86\uff0c\u4f8b\u5982\uff1a\u6587\u672c\u6587\u4ef6\u7684\u6587\u4ef6\u540d\u662f<code>test.pth</code>\uff0c\u5176\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>C:\\Users\\Android\\Desktop\n</code></pre> <p>\u63a5\u7740\u83b7\u53d6\u5f53\u524d Python \u73af\u5883\u7684 site-packages \u6587\u4ef6\u5939\u7684\u8def\u5f84\uff1a</p> <pre><code>import site\nsite.getsitepackages()\n</code></pre> <pre><code>['/home/.../miniconda3/envs/blog/lib/python3.9/site-packages']\n</code></pre> <p>\u7136\u540e\u5c06<code>test.pth</code>\u6587\u4ef6\u653e\u8fdb<code>/home/.../miniconda3/envs/blog/lib/python3.9/site-packages</code>\u91cc\u9762\u5373\u53ef\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.3.%E6%A8%A1%E5%9D%97.html#_5","title":"\u6a21\u5757\u7684\u5bfc\u5165","text":"<p>\u5728 python \u7528 <code>import</code> \u6216\u8005 <code>from...import</code> \u6765\u5bfc\u5165\u76f8\u5e94\u7684\u6a21\u5757\u3002</p> <p>\u5bfc\u5165\u6574\u4e2a\u6a21\u5757:</p> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u8981\u4f7f\u7528\u4f7f\u7528<code>sys</code>\u6a21\u5757\uff0c\u90a3\u4e48\u9996\u5148\u8981\u5bfc\u5165\u8be5\u6a21\u5757\uff1a</p> <pre><code>import sys\n</code></pre> <p>\u5bfc\u5165<code>sys</code>\u6a21\u5757\u540e\uff0c\u6211\u4eec\u5c31\u6709\u4e86\u53d8\u91cf<code>sys</code>\u6307\u5411\u8be5\u6a21\u5757\uff0c\u5229\u7528<code>sys</code>\u8fd9\u4e2a\u53d8\u91cf\uff0c\u5c31\u53ef\u4ee5\u8bbf\u95ee<code>sys</code>\u6a21\u5757\u7684\u6240\u6709\u529f\u80fd\u3002 \u4e5f\u5c31\u662f\u8bf4\u5bfc\u5165\u6574\u4e2a\u6a21\u5757\u7684\u505a\u6cd5\u4f1a\u5bfc\u81f4\u547d\u540d\u7a7a\u95f4\u7684\u4fee\u6539\u3002</p> <p>\u4e5f\u53ef\u4ee5\u4e00\u6b21\u6027\u5bfc\u5165\u591a\u4e2a\u6a21\u5757\uff1a</p> <pre><code>import os, sys, time\n</code></pre> <p>\u901a\u8fc7<code>as</code>\u5173\u952e\u5b57\uff0c\u53ef\u4ee5\u5728\u5bfc\u5165\u6a21\u5757\u7684\u65f6\u5019\uff0c\u7ed9\u6a21\u5757\u5b9a\u4e49\u522b\u540d\uff1a</p> <pre><code>import sys as system\n</code></pre> <p>\u4ece\u67d0\u4e2a\u6a21\u5757\u4e2d\u5bfc\u5165\u51fd\u6570\uff1a</p> <pre><code>from somemodule import somefunction\n</code></pre> <p>\u4ece\u67d0\u4e2a\u6a21\u5757\u4e2d\u5bfc\u5165\u591a\u4e2a\u51fd\u6570</p> <pre><code>from somemodule import firstfunc, secondfunc, thirdfunc\n</code></pre> <p>\u5c06\u67d0\u4e2a\u6a21\u5757\u4e2d\u7684\u5168\u90e8\u51fd\u6570\u5bfc\u5165</p> <pre><code>from somemodule import *\n</code></pre> <p>\u4e00\u822c\u800c\u8a00\uff0c\u4e0d\u63a8\u8350\u5bfc\u5165\u6a21\u5757\u5185\u7684\u6240\u6709\u516c\u5f00\u6807\u5fd7\u7b26\uff08\u6ca1\u6709\u524d\u7f00\uff40_\uff40\u7684\u6807\u5fd7\u7b26\uff09\u3002\u56e0\u4e3a\u5bfc\u5165\u6a21\u5757\u4f1a\u4fee\u6539\u547d\u540d\u7a7a\u95f4\uff0c\u800c\u901a\u5e38\u4f60\u4e0d\u77e5\u9053\u6a21\u5757\u5b9a\u4e49\u4e86\u54ea\u4e9b\u7b26\u53f7\uff0c\u662f\u5426\u4e0e\u5f53\u524d\u7684\u547d\u540d\u7a7a\u95f4\u6709\u91cd\u540d\u7684\u7b26\u53f7\u3002\u91cd\u540d\u7684\u6807\u5fd7\u7b26\u4f1a\u88ab\u91cd\u65b0\u7ed1\u5b9a\u503c\uff0c\u4ee3\u7801\u4fbf\u4f1a\u51fa\u9519\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.3.%E6%A8%A1%E5%9D%97.html#_6","title":"\u6a21\u5757\u91cd\u8f7d","text":"<p>\u51fa\u4e8e\u6027\u80fd\u8003\u8651\uff0c\u6bcf\u4e2a\u6a21\u5757\u5728\u6bcf\u4e2a Python \u89e3\u91ca\u5668\u4f1a\u8bdd\u4e2d\u53ea\u5bfc\u5165\u4e00\u904d\u3002 \u56e0\u6b64\uff0c\u5982\u679c\u6a21\u5757\u7684\u4ee3\u7801\u4fee\u6539\u4e86\uff0c\u8981\u91cd\u65b0\u5bfc\u5165\uff0c\u9700\u8981\u91cd\u542f\u89e3\u91ca\u5668\uff1b\u5982\u679c\u60f3\u4ea4\u4e92\u5f0f\u5730\u6d4b\u8bd5\u4e00\u4e2a\u6a21\u5757\uff0c\u6216\u8005\u52a8\u6001\u5730\u52a0\u8f7d\u4e00\u4e2a\u6a21\u5757\uff0c\u5219\u9700\u8981\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u91cd\u65b0\u5bfc\u5165\u6a21\u5757\uff1a</p> <ul> <li>Python 2.x\uff1a</li> </ul> <pre><code>reload(modulename)\n</code></pre> <ul> <li>Python 2.x \u81f3 Python3.3\uff1a</li> </ul> <pre><code>import imp\nimp.reload(modulename)\n</code></pre> <ul> <li>Python3.4+\uff1a</li> </ul> <pre><code>import importlib\nimportlib.reload(modulename)\n</code></pre> <p>\u6ce8\u610f</p> <p>\u53ea\u80fd\u91cd\u8f7d\u6a21\u5757\uff0c\u4e0d\u80fd\u5355\u72ec\u91cd\u8f7d\u6a21\u5757\u4e2d\u7684\u67d0\u4e2a\u51fd\u6570\u3001\u7c7b\u3001\u53d8\u91cf\u3002</p> <p>\u53e6\u5916\uff0cSpyder IDE\u63d0\u4f9b\u4e86UMR\uff08user module reloader\uff09\u529f\u80fd\uff0c\u53ef\u4ee5\u81ea\u52a8\u91cd\u8f7d\u88ab\u4fee\u6539\u7684\u6a21\u5757\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.3.%E6%A8%A1%E5%9D%97.html#__name__","title":"<code>__name__</code>","text":"<p>\u548c Python \u4e2d\u7684\u5176\u5b83\u5bf9\u8c61\u4e00\u6837\uff0cPython \u6a21\u5757\u4e5f\u5305\u542b\u4e00\u4e9b\u53cc\u4e0b\u5212\u7ebf\u5f00\u5934\u548c\u7ed3\u5c3e\u7684\u7279\u6b8a\u53d8\u91cf\u3002\u5bf9\u4e8e\u6a21\u5757\u6765\u8bf4\uff0c\u6700\u91cd\u8981\u7684\u7279\u6b8a\u53d8\u91cf\u662f<code>__name__</code>\uff0c\u8fd9\u4ee3\u8868\u6a21\u5757\u7684\u540d\u5b57\u3002\u6bcf\u5f53\u89e3\u91ca\u5668\u6267\u884c\u811a\u672c\uff0c\u5b83\u5c31\u4f1a\u4e3a\u8be5\u811a\u672c\u8d4b\u4e88\u4e00\u4e2a\u540d\u5b57\uff1a</p> <ul> <li>\u5982\u679c\u811a\u672c\u4f5c\u4e3a\u4e3b\u7a0b\u5e8f\uff0c\u8be5\u811a\u672c\u7684<code>__name__</code>\u53d8\u91cf\u88ab\u5b9a\u4e49\u4e3a<code>\"__main__\"</code></li> <li>\u5bf9\u4e8e\u88ab<code>import</code>\u8fdb\u4e3b\u7a0b\u5e8f\u7684\u6a21\u5757\u6765\u8bf4\uff0c<code>__name__</code>\u5219\u88ab\u5b9a\u4e49\u4e3a\u811a\u672c\u7684\u6587\u4ef6\u540d\uff08base filename\uff09</li> </ul> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u5982\u4e0b\u7684\u5f62\u5f0f\uff0c\u5728\u6a21\u5757\u4ee3\u7801\u4e2d\u5b9a\u4e49\u4e00\u4e9b\u6d4b\u8bd5\u4ee3\u7801\uff1a</p> <pre><code>if __name__ == \"__main__\":\n    ...\n</code></pre> <p>\u5f53\u811a\u672c\u88ab\u76f4\u63a5\u8fd0\u884c\u65f6\uff0c\u6d4b\u8bd5\u4ee3\u7801\u5c31\u4f1a\u88ab\u8fd0\u884c\uff1b\u5f53\u811a\u672c\u4f5c\u4e3a\u6a21\u5757\u88ab\u5bfc\u5165\uff0c\u6d4b\u8bd5\u4ee3\u7801\u4e0d\u4f1a\u88ab\u8fd0\u884c\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.3.%E6%A8%A1%E5%9D%97.html#_7","title":"\u4f5c\u7528\u57df","text":"<p>\u5728\u4e00\u4e2a\u6a21\u5757\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u5b9a\u4e49\u5f88\u591a\u51fd\u6570\u548c\u53d8\u91cf\uff0c\u4f46\u6709\u7684\u51fd\u6570\u548c\u53d8\u91cf\u6211\u4eec\u5e0c\u671b\u7ed9\u522b\u4eba\u4f7f\u7528\uff0c\u6709\u7684\u51fd\u6570\u548c\u53d8\u91cf\u6211\u4eec\u5e0c\u671b\u4ec5\u4ec5\u5728\u6a21\u5757\u5185\u90e8\u4f7f\u7528\uff08\u9690\u85cf\u4ee3\u7801\u5185\u90e8\u903b\u8f91\uff09\uff0c\u5728Python\u4e2d\uff0c\u8fd9\u662f\u901a\u8fc7<code>_</code>\u524d\u7f00\u6765\u5b9e\u73b0\u7684\u3002</p> <p>\u6b63\u5e38\u7684\u51fd\u6570\u548c\u53d8\u91cf\u540d\u662f\u516c\u5f00\u7684\uff08public\uff09\uff0c\u53ef\u4ee5\u88ab\u76f4\u63a5\u5f15\u7528\uff0c\u6bd4\u5982\uff1a<code>abc</code>\uff0c<code>x123</code>\uff0c<code>PI</code>\u7b49\u3002</p> <p>\u7c7b\u4f3c<code>__xxx__</code>\u8fd9\u6837\u7684\u53d8\u91cf\u662f\u7279\u6b8a\u53d8\u91cf\uff0c\u53ef\u4ee5\u88ab\u76f4\u63a5\u5f15\u7528\uff0c\u4f46\u662f\u6709\u7279\u6b8a\u7528\u9014\uff0c\u4f8b\u5982\u6a21\u5757\u7684\u6587\u6863\u6ce8\u91ca\u53ef\u4ee5\u7528\u7279\u6b8a\u53d8\u91cf<code>__doc__</code>\u8bbf\u95ee\uff0c<code>__author__</code>\u53d8\u91cf\u7528\u6765\u5b9a\u4e49\u6a21\u5757\u4f5c\u8005\u3002\u6211\u4eec\u81ea\u5df1\u7684\u53d8\u91cf\u540d\u79f0\u4e00\u822c\u4e0d\u8981\u7528\u53cc\u4e0b\u5212\u7ebf\u5f00\u5934\u548c\u7ed3\u5c3e\u3002</p> <p>\u7c7b\u4f3c<code>_xxx</code>\u548c<code>__xxx</code>\u8fd9\u6837\u7684\u51fd\u6570\u6216\u53d8\u91cf\u662f\u975e\u516c\u5f00\u7684\uff08private\uff09\uff0c\u4e0d\u5e94\u8be5\u88ab\u76f4\u63a5\u5f15\u7528\uff0c\u6bd4\u5982<code>_abc</code>\uff0c<code>__abc</code>\u7b49\u3002\u4e4b\u6240\u4ee5\u8bf4\u79c1\u6709\u51fd\u6570\u548c\u53d8\u91cf\u201c\u4e0d\u5e94\u8be5\u201d\u88ab\u76f4\u63a5\u5f15\u7528\uff0c\u800c\u4e0d\u662f\u201c\u4e0d\u80fd\u201d\u88ab\u76f4\u63a5\u5f15\u7528\uff0c\u662f\u56e0\u4e3a Python \u5e76\u6ca1\u6709\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u5b8c\u5168\u9650\u5236\u8bbf\u95ee\u79c1\u6709\u53d8\u91cf\uff0c\u4f46\u662f\uff0c\u4ece\u7f16\u7a0b\u4e60\u60ef\u4e0a\u4e0d\u5e94\u8be5\u5f15\u7528\u79c1\u6709\u53d8\u91cf\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.3.%E6%A8%A1%E5%9D%97.html#python-pyc","title":"\u201c\u7f16\u8bd1\u7684\u201d Python \u6587\u4ef6\u2014\u2014<code>pyc</code> \u6587\u4ef6","text":"<p>\u88c5\u8f7d\u5927\u91cf\u6587\u672c\u6587\u4ef6\u7684\u901f\u5ea6\u662f\u5f88\u6162\u7684\uff0cLaTeX \u7528\u6237\u5bf9\u6b64\u5e94\u8be5\u6709\u6240\u4f53\u4f1a\u3002\u4e3a\u4e86\u5e94\u5bf9\u5927\u91cf\u6a21\u5757\u88ab\u5bfc\u5165\u7684\u573a\u666f\uff0cPython \u4e5f\u91c7\u7528\u4e86\u7c7b\u4f3c LaTeX \u7684\u89e3\u51b3\u65b9\u6848\uff1a\u5148\u5c06\u6a21\u5757\u7f16\u8bd1\u6210\u5bb9\u6613\u88c5\u8f7d\u7684\u6587\u4ef6\uff0c\u5e76\u5728<code>__pycache__</code>\u76ee\u5f55\u4e0b\u4ee5 <code>module.*version*.pyc</code> \u7684\u540d\u5b57\u7f13\u5b58\u8fd9\u4e9b\u6587\u4ef6\uff08\u76f8\u5f53\u4e8e LaTeX \u7684 dump \u683c\u5f0f\u6587\u4ef6 <code>.fmt</code>\uff09\u3002</p> <p>\u8fd9\u91cc\u7684\u7248\u672c\u7f16\u5236\u4e86\u7f16\u8bd1\u540e\u6587\u4ef6\u7684\u683c\u5f0f\u3002\u5b83\u901a\u5e38\u4f1a\u5305\u542b Python \u7684\u7248\u672c\u53f7\u3002\u4f8b\u5982\uff0c\u5728 CPython 3.3 \u7248\u4e2d\uff0cspam.py \u7f16\u8bd1\u540e\u7684\u7248\u672c\u5c06\u7f13\u5b58\u4e3a <code>__pycache__/spam.cpython-33.pyc</code>\u3002\u8fd9\u79cd\u547d\u540d\u7ea6\u5b9a\u5141\u8bb8\u6765\u81ea\u4e0d\u540c\u53d1\u5e03\u548c\u4e0d\u540c\u7248\u672c\u7684\u7f16\u8bd1\u7684\u6a21\u5757\u540c\u65f6\u5b58\u5728\u3002</p> <p>\u5f53 Python \u7f16\u8bd1\u597d\u6a21\u5757\u4e4b\u540e\uff0c\u4e0b\u6b21\u8f7d\u5165\u65f6\uff0cPython \u5c31\u4f1a\u8bfb\u53d6\u76f8\u5e94\u7684 <code>.pyc</code> \u6587\u4ef6\uff0c\u800c\u4e0d\u662f <code>.py</code> \u6587\u4ef6\u3002\u88c5\u8f7d <code>.pyc</code> \u6587\u4ef6\u4f1a\u6bd4\u88c5\u8f7d <code>.py</code> \u6587\u4ef6\u66f4\u5feb\u3002</p> <p>Python \u4f1a\u68c0\u67e5\u6e90\u6587\u4ef6\u4e0e\u7f16\u8bd1\u7248\u7684\u4fee\u6539\u65e5\u671f\u4ee5\u786e\u5b9a\u5b83\u662f\u5426\u8fc7\u671f\u5e76\u9700\u8981\u91cd\u65b0\u7f16\u8bd1\u3002 \u8fd9\u662f\u5b8c\u5168\u81ea\u52a8\u5316\u7684\u8fc7\u7a0b\u3002\u540c\u65f6\uff0c<code>.pyc</code>\u6587\u4ef6\u662f\u8de8\u5e73\u53f0\u7684\uff0c\u6240\u4ee5\u540c\u4e00\u4e2a\u5e93\u53ef\u4ee5\u5728\u4e0d\u540c\u67b6\u6784\u7684\u7cfb\u7edf\u4e4b\u95f4\u5171\u4eab\u3002</p> <p>Python \u4e0d\u68c0\u67e5\u5728\u4e24\u4e2a\u4e0d\u540c\u73af\u5883\u4e2d\u7684\u7f13\u5b58\u3002\u9996\u5148\uff0c\u5b83\u4f1a\u6c38\u8fdc\u91cd\u65b0\u7f16\u8bd1\u800c\u4e14\u4e0d\u4f1a\u5b58\u50a8\u76f4\u63a5\u4ece\u547d\u4ee4\u884c\u52a0\u8f7d\u7684\u6a21\u5757\u3002\u5176\u6b21\uff0c\u5982\u679c\u6ca1\u6709\u6e90\u6a21\u5757\u5b83\u4e0d\u4f1a\u68c0\u67e5\u7f13\u5b58\u3002\u82e5\u8981\u652f\u6301\u6ca1\u6709\u6e90\u6587\u4ef6\uff08\u53ea\u6709\u7f16\u8bd1\u7248\uff09\u7684\u53d1\u5e03\uff0c\u7f16\u8bd1\u540e\u7684\u6a21\u5757\u5fc5\u987b\u5728\u6e90\u76ee\u5f55\u4e0b\uff0c\u5e76\u4e14\u5fc5\u987b\u6ca1\u6709\u6e90\u6587\u4ef6\u7684\u6a21\u5757\u3002</p> <p>\u90e8\u5206\u9ad8\u7ea7\u6280\u5de7:</p> <ul> <li> <p>\u4e3a\u4e86\u51cf\u5c11\u4e00\u4e2a\u7f16\u8bd1\u6a21\u5757\u7684\u5927\u5c0f\uff0c\u53ef\u4ee5\u5728 Python \u547d\u4ee4\u884c\u4e2d\u4f7f\u7528 -O \u6216\u8005 -OO\u3002-O \u53c2\u6570\u5220\u9664\u4e86\u65ad\u8a00\u8bed\u53e5\uff0c-OO \u53c2\u6570\u5220\u9664\u4e86\u65ad\u8a00\u8bed\u53e5\u548c doc \u5b57\u7b26\u4e32\u3002</p> <p>\u56e0\u4e3a\u67d0\u4e9b\u7a0b\u5e8f\u4f9d\u8d56\u4e8e\u8fd9\u4e9b\u53d8\u91cf\u7684\u53ef\u7528\u6027\uff0c\u4f60\u5e94\u8be5\u53ea\u5728\u786e\u5b9a\u65e0\u8bef\u7684\u573a\u5408\u4f7f\u7528\u8fd9\u4e00\u9009\u9879\u3002 \u201c\u4f18\u5316\u7684\u201d \u6a21\u5757\u6709\u4e00\u4e2a <code>.pyo</code> \u540e\u7f00\u800c\u4e0d\u662f <code>.pyc</code> \u540e\u7f00\u3002\u672a\u6765\u7684\u7248\u672c\u53ef\u80fd\u4f1a\u6539\u53d8\u4f18\u5316\u7684\u6548\u679c\u3002</p> </li> <li> <p>\u6765\u81ea <code>.pyc</code> \u6587\u4ef6\u6216 <code>.pyo</code> \u6587\u4ef6\u4e2d\u7684\u7a0b\u5e8f\u4e0d\u4f1a\u6bd4\u6765\u81ea <code>.py</code> \u6587\u4ef6\u7684\u8fd0\u884c\u66f4\u5feb. <code>.pyc</code> \u6216 <code>.pyo</code> \u6587\u4ef6\u53ea\u662f\u5728\u52a0\u8f7d\u7684\u65f6\u5019\u66f4\u5feb\u4e00\u4e9b\u3002</p> </li> <li> <p>compileall \u6a21\u5757\u53ef\u4ee5\u4e3a\u6307\u5b9a\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u6a21\u5757\u521b\u5efa <code>.pyc</code> \u6587\u4ef6\uff08\u6216\u8005\u4f7f\u7528 -O \u53c2\u6570\u521b\u5efa <code>.pyo</code> \u6587\u4ef6\uff09\u3002</p> </li> <li> <p>\u5728 PEP 3147 \u4e2d\u6709\u5f88\u591a\u5173\u8fd9\u4e00\u90e8\u5206\u5185\u5bb9\u7684\u7ec6\u8282\uff0c\u5e76\u4e14\u5305\u542b\u4e86\u4e00\u4e2a\u63cf\u8ff0\u5982\u4f55\u52a0\u8f7d\u6a21\u5757\u7684\u6d41\u7a0b\u56fe\u3002</p> </li> </ul>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.4.%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95.html","title":"4.4.\u9b54\u672f\u65b9\u6cd5","text":""},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.4.%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95.html#_1","title":"\u6784\u9020\u548c\u521d\u59cb\u5316","text":"<p>\u6bcf\u4e2a\u4eba\u90fd\u77e5\u9053\u4e00\u4e2a\u6700\u57fa\u672c\u7684\u9b54\u672f\u65b9\u6cd5\uff0c <code>__init__</code> \u3002\u901a\u8fc7\u6b64\u65b9\u6cd5\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u5bf9\u8c61\u7684\u521d\u59cb\u64cd\u4f5c\u3002\u4f46\u5f88\u591a\u535a\u5ba2\u548c\u4e2a\u522b\u4e66\u7c4d\u4e2d\u90fd\u628a<code>__init__</code>\u5f53\u4f5c\u7c7b\u4f3c\u4e8eC++\u7684\u6784\u9020\u65b9\u6cd5\uff0c\u5176\u5b9e\u662f\u9519\u8bef\u7684\u3002<code>__init__</code>\u5e76\u4e0d\u662f\u7b2c\u4e00\u4e2a\u88ab\u8c03\u7528\u7684\u65b9\u6cd5\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd8\u6709\u4e00\u4e2a\u53eb\u505a <code>__new__</code> \u7684\u65b9\u6cd5\uff0c\u6765\u6784\u9020\u8fd9\u4e2a\u5b9e\u4f8b\u3002\u7136\u540e\u7ed9\u5728\u5f00\u59cb\u521b\u5efa\u65f6\u5019\u7684\u521d\u59cb\u5316\u51fd\u6570\u6765\u4f20\u9012\u53c2\u6570\u3002\u5728\u5bf9\u8c61\u751f\u547d\u5468\u671f\u7684\u53e6\u4e00\u7aef\uff0c\u4e5f\u6709\u4e00\u4e2a <code>__del__</code> \u65b9\u6cd5\u3002</p> <p><code>__new__(cls, [...)</code> <code>__new__</code> \u662f\u5728\u4e00\u4e2a\u5bf9\u8c61\u5b9e\u4f8b\u5316\u7684\u65f6\u5019\u6240\u8c03\u7528\u7684\u7b2c\u4e00\u4e2a\u65b9\u6cd5\u3002\u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8fd9\u4e2a\u7c7b\uff0c\u5176\u4ed6\u7684\u53c2\u6570\u662f\u7528\u6765\u76f4\u63a5\u4f20\u9012\u7ed9 <code>__init__</code> \u65b9\u6cd5\u3002 <code>__new__</code> \u65b9\u6cd5\u76f8\u5f53\u4e0d\u5e38\u7528\uff0c\u4e5f\u4e0d\u662f\u5f88\u6709\u7528\u5904\uff0c\u4f46\u662f\u5b83\u6709\u81ea\u5df1\u7684\u7279\u6027\uff0c\u7279\u522b\u662f\u5f53\u7ee7\u627f\u4e00\u4e2a\u4e0d\u53ef\u53d8\u7684\u7c7b\u578b\uff08\u6bd4\u5982\u4e00\u4e2atuple\u6216\u8005string\uff09\uff1a</p> <pre><code>class inch(float):\n    \"Convert from inch to meter\"\n    def __new__(cls, arg=0.0):\n        return float.__new__(cls, arg*0.0254)\n\nprint(inch(12))\n</code></pre> <pre><code>0.30479999999999996\n</code></pre> <p>\u8fd9\u4e2a\u7c7b\u53ef\u80fd\u4e0d\u662f\u5f88\u6709\u7528\uff0c\u4f46\u662f\u5b83\u663e\u793a\u4e86\u5982\u4f55\u6269\u5c55\u4e0d\u53ef\u53d8\u7c7b\u578b\u7684\u6784\u9020\u51fd\u6570\u3002\u5982\u679c\u6211\u4eec\u5c1d\u8bd5\u66ff\u4ee3<code>__init__</code>\u800c\u4e0d\u662f<code>__new__</code>\uff0c\u90a3\u4e48\u5b83\u5c06\u4e0d\u8d77\u4f5c\u7528\uff1a</p> <pre><code>class inch(float):\n\"THIS DOESN'T WORK!!!\"\n    def __init__(self, arg=0.0):\n        float.__init__(self, arg*0.0254)\n\n\ntry:\n    print(inch(12))\nexcept TypeError as e:\n    print(e)\n</code></pre> <pre><code>object.__init__() takes exactly one argument (the instance to\ninitialize)\n</code></pre> <p>\u91cd\u5199\u521d\u59cb\u503c\u7684\u7248\u672c\u4e0d\u8d77\u4f5c\u7528\uff0c\u56e0\u4e3a\u6d6e\u70b9\u7c7b\u578b\u7684\u521d\u59cb\u503c\u662f\u4e00\u4e2a\u4e0d\u53ef\u53d8\u5bf9\u8c61\u3002\u53e6\u4e00\u4e2a<code>__new__</code>\u7684\u4f8b\u5b50\u662f\u5355\u4f8b\u6a21\u5f0f\u3002</p> <pre><code>class A:\n    pass\n\nnew1 = A()\nnew2 = A()\nprint(new1)\nprint(new2)\n</code></pre> <pre><code>&lt;__main__.A object at 0x7f307c57b700&gt;\n&lt;__main__.A object at 0x7f307c57bc70&gt;\n</code></pre> <pre><code>class A(object):\n    _singleton = None\n    def __new__(cls, *args, **kwargs):\n        if not cls._singleton:\n            cls._singleton = object.__new__(cls, *args, **kwargs)\n        return cls._singleton\n\n\nnew1 = A()\nnew2 = A()\nprint(new1)\nprint(new2)\n</code></pre> <pre><code>&lt;__main__.A object at 0x7f307c5861f0&gt;\n&lt;__main__.A object at 0x7f307c5861f0&gt;\n</code></pre> <p>\u5173\u4e8e<code>__new__</code>\u7684\u4e00\u4e9b\u89c4\u5219\uff1a</p> <ul> <li><code>__new__</code>\u662f\u4e00\u4e2a\u9759\u6001\u65b9\u6cd5\uff0c\u4f46\u5728\u91cd\u5b9a\u4e49<code>__new__</code>\u65f6\uff0c\u4e0d\u9700\u8981\u52a0\u4e0a<code>@staticmethod</code>\uff0c\u56e0\u4e3a\u5b83\u7684\u540d\u5b57\u5df2\u7ecf\u6697\u793a\u4e86\u8fd9\u4e00\u70b9\u3002</li> <li><code>__new__</code>\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u5fc5\u987b\u662f\u4e00\u4e2a\u7c7b\uff1b\u5176\u4f59\u53c2\u6570\u662f\u6784\u9020\u51fd\u6570\u8c03\u7528\u6240\u770b\u5230\u7684\u53c2\u6570\u3002</li> <li><code>__new__</code>\u65b9\u6cd5\u5fc5\u987b\u8fd4\u56de\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5982\u679c\u8fd4\u56deNone\uff0c\u5219\u4e0d\u4f1a\u8c03\u7528<code>__init__</code>\u65b9\u6cd5\u3002</li> </ul> <p><code>__init__(self, [\u2026)</code> \u6b64\u65b9\u6cd5\u4e3a\u7c7b\u7684\u521d\u59cb\u5316\u65b9\u6cd5\u3002\u5f53\u6784\u9020\u51fd\u6570\u88ab\u8c03\u7528\u7684\u65f6\u5019\u7684\u4efb\u4f55\u53c2\u6570\u90fd\u5c06\u4f1a\u4f20\u7ed9\u5b83\u3002(\u6bd4\u5982\u5982\u679c\u6211\u4eec\u8c03\u7528 <code>x = SomeClass(10, 'foo')</code>)\uff0c\u90a3\u4e48 <code>__init__</code> \u5c06\u4f1a\u5f97\u5230\u4e24\u4e2a\u53c2\u657010\u548cfoo\u3002 <code>__init__</code> \u5728Python\u7684\u7c7b\u5b9a\u4e49\u4e2d\u88ab\u5e7f\u6cdb\u7528\u5230\u3002</p> <p><code>__del__(self)</code> \u5982\u679c <code>__new__</code> \u548c <code>__init__</code> \u662f\u5bf9\u8c61\u7684\u6784\u9020\u5668\u7684\u8bdd\uff0c\u90a3\u4e48 <code>__del__</code> \u5c31\u662f\u6790\u6784\u5668\u3002\u5b83\u4e0d\u5b9e\u73b0\u8bed\u53e5 <code>del x</code> (\u4ee5\u4e0a\u4ee3\u7801\u5c06\u4e0d\u4f1a\u7ffb\u8bd1\u4e3a <code>x.__del__()</code> )\u3002\u5b83\u5b9a\u4e49\u7684\u662f\u5f53\u4e00\u4e2a\u5bf9\u8c61\u8fdb\u884c\u5783\u573e\u56de\u6536\u65f6\u5019\u7684\u884c\u4e3a\u3002\u5f53\u4e00\u4e2a\u5bf9\u8c61\u5728\u5220\u9664\u7684\u65f6\u9700\u8981\u66f4\u591a\u7684\u6e05\u6d01\u5de5\u4f5c\u7684\u65f6\u5019\u6b64\u65b9\u6cd5\u4f1a\u5f88\u6709\u7528\uff0c\u6bd4\u5982\u5957\u63a5\u5b57\u5bf9\u8c61\u6216\u8005\u662f\u6587\u4ef6\u5bf9\u8c61\u3002\u6ce8\u610f\uff0c\u5982\u679c\u89e3\u91ca\u5668\u9000\u51fa\u7684\u65f6\u5019\u5bf9\u8c61\u8fd8\u5b58\u5b58\u5728\uff0c\u5c31\u4e0d\u80fd\u4fdd\u8bc1 <code>__del__</code> \u80fd\u591f\u88ab\u6267\u884c\u3002</p> <pre><code>class A:\n    def __del__(self):\n        print(\"\u6211\u88ab\u5220\u9664\u4e86\")\n\na = A()\ndel a\n</code></pre> <pre><code>\u6211\u88ab\u5220\u9664\u4e86\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.4.%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95.html#_2","title":"\u7528\u4e8e\u6bd4\u8f83\u7684\u9b54\u672f\u65b9\u6cd5","text":"\u9b54\u672f\u65b9\u6cd5 \u8c03\u7528\u65b9\u5f0f \u63cf\u8ff0 <code>__eq__(self, other)</code> self == other <code>__nq__(self, other)</code> self != other <code>__le__(self, other)</code> self &lt;= other <code>__ge__(self, other)</code> self &gt;= other <code>__lt__(self, other)</code> self &lt; other <code>__gt__(self, other)</code> self &gt; other <pre><code>class A:\n    def __init__(self, num=2):\n        self.num = num\n    def __repr__(self):\n        return str(self.num)\n\n    def __eq__(self, other):\n        return self.num == other\n    def __ne__(self, other):\n        return self.num != other\n    def __le__(self, other):\n        return self.num &lt;= other\n    def __ge__(self, other):\n        return self.num &gt;= other\n    def __lt__(self, other):\n        return self.num &lt; other\n    def __gt__(self, other):\n        return self.num &gt; other\n\na = A(5)\nprint(a == 5)\nprint(a != 5)\nprint(a &gt; 4)\nprint(a &lt; 6)\nprint(a &gt;= 5)\nprint(a &lt;= 6)\n</code></pre> <pre><code>True\nFalse\nTrue\nTrue\nTrue\nTrue\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.4.%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95.html#_3","title":"\u6570\u503c\u5904\u7406\u7684\u9b54\u672f\u65b9\u6cd5","text":""},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.4.%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95.html#_4","title":"\u4e00\u5143\u8fd0\u7b97\u7b26\u548c\u5185\u7f6e\u51fd\u6570","text":"\u9b54\u672f\u65b9\u6cd5 \u8c03\u7528\u65b9\u5f0f \u63cf\u8ff0 <code>__pos__(self)</code> +self <code>__neg__(self)</code> -self <code>__abs__(self)</code> abs(self) <code>__invert__(self)</code> ~self <pre><code>class A:\n    def __init__(self, num=2):\n        self.num = num\n    def __repr__(self):\n        return str(self.num)\n\n    def __pos__(self):\n        new_num = 0 + self.num\n        return A(new_num)\n    def __neg__(self):\n        new_num = 0 - self.num\n        return A(new_num)\n    def __abs__(self):\n        new_num = abs(self.num)\n        return A(new_num)\n\na = A(-5)\nprint(+a)\nprint(-a)\nprint(abs(a))\n</code></pre> <pre><code>-5\n5\n5\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.4.%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95.html#_5","title":"\u7b97\u672f\u8fd0\u7b97\u7b26","text":"\u9b54\u672f\u65b9\u6cd5 \u8c03\u7528\u65b9\u5f0f \u63cf\u8ff0 <code>__add__(self, other)</code> self  + other <code>__sub_(self, other)</code> self  - other <code>__mul__(self, other)</code> self * other <code>__truediv__(self, other)</code> self / other <code>__pow__(self, other)</code> self ** other <code>__floordiv__(self, other)</code> self // other <code>__mod__(self, other)</code> self % other <pre><code>class A:\n    def __init__(self, num=2):\n        self.num = num\n    def __repr__(self):\n        return str(self.num)\n\n    def __add__(self, other):\n        new_num = self.num + other\n        return A(new_num)\n    def __sub__(self, other):\n        new_num = self.num - other\n        return A(new_num)        \n    def __mul__(self, other):\n        new_num = self.num * other\n        return A(new_num)\n    def __truediv__(self, other):\n        new_num = self.num / other\n        return A(new_num)\n    def __pow__ (self, other):\n        new_num = self.num ** other\n        return A(new_num)        \n    def __floordiv__(self, other):\n        new_num = self.num // other\n        return A(new_num)\n    def __mod__(self, other):\n        new_num = self.num % other\n        return A(new_num)\n\na = A(5)\nprint(\"a + 2 =\", a + 2)\nprint(\"a - 2 =\", a - 2)\nprint(\"a * 2 =\", a * 2)\nprint(\"a / 2 =\", a / 2)\nprint(\"a ** 2 =\", a ** 2)\nprint(\"a // 2 =\", a // 2)\nprint(\"a % 2 =\", a % 2)\n</code></pre> <pre><code>a + 2 = 7\na - 2 = 3\na * 2 = 10\na / 2 = 2.5\na ** 2 = 25\na // 2 = 2\na % 2 = 1\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.4.%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95.html#_6","title":"\u53cd\u8fd0\u7b97","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u666e\u901a\u7684\u52a0\u6cd5\u8fd0\u7b97\u7684\u4f8b\u5b50:</p> <pre><code># __add__\nsome_object + other\n</code></pre> <p>\u53cd\u8fd0\u7b97\u662f\u76f8\u540c\u7684\uff0c\u53ea\u662f\u628a\u64cd\u4f5c\u6570\u8c03\u6362\u4e86\u4f4d\u7f6e:</p> <pre><code># __radd__\nother + some_object\n</code></pre> <p>\u6240\u4ee5\uff0c\u9664\u4e86\u5f53\u4e0e\u5176\u4ed6\u5bf9\u8c61\u64cd\u4f5c\u7684\u65f6\u5019\u81ea\u5df1\u4f1a\u6210\u4e3a\u7b2c\u4e8c\u4e2a\u64cd\u4f5c\u6570\u4e4b\u5916\uff0c\u6240\u6709\u7684\u8fd9\u4e9b\u9b54\u672f\u65b9\u6cd5\u90fd\u4e0e\u666e\u901a\u7684\u64cd\u4f5c\u662f\u76f8\u540c\u7684\u3002\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u53cd\u8fd0\u7b97\u7684\u7ed3\u679c\u662f\u4e0e\u666e\u901a\u8fd0\u7b97\u76f8\u540c\u7684\u3002\u6240\u4ee5\u4f60\u53ef\u4ee5\u4f60\u53ef\u4ee5\u5c06 <code>__radd__</code> \u4e0e <code>__add__</code> \u7b49\u4ef7\u3002</p> \u9b54\u672f\u65b9\u6cd5 \u8c03\u7528\u65b9\u5f0f \u63cf\u8ff0 <code>__radd__(self, other)</code> other + self <code>__rsub_(self, other)</code> other - self <code>__rmul__(self, other)</code> other * self <code>__rtruediv__(self, other)</code> other / self <code>__rpow__(self, other)</code> other ** self <code>__rfloordiv__(self, other)</code> other // self <code>__rmod__(self, other)</code> other % self"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.4.%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95.html#_7","title":"\u589e\u5f3a\u8d4b\u503c","text":"\u9b54\u672f\u65b9\u6cd5 \u8c03\u7528\u65b9\u5f0f \u63cf\u8ff0 <code>__iadd__(self, other)</code> self  += other <code>__isub_(self, other)</code> self  -= other <code>__imul__(self, other)</code> self *= other <code>__itruediv__(self, other)</code> self /= other <code>__ipow__(self, other)</code> self **= other <code>__ifloordiv__(self, other)</code> self //= other <code>__imod__(self, other)</code> self %= other"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.4.%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95.html#_8","title":"\u8868\u73b0\u4f60\u7684\u7c7b","text":"<p>\u5982\u679c\u6709\u4e00\u4e2a\u5b57\u7b26\u4e32\u6765\u8868\u793a\u4e00\u4e2a\u7c7b\u5c06\u4f1a\u975e\u5e38\u6709\u7528\uff0c\u4f8b\u5982\uff1a</p> <pre><code>a = [1, 2, 3]\na\n</code></pre> <pre><code>[1, 2, 3]\n</code></pre> <p>\u5728Python\u4e2d\uff0c\u6709\u5f88\u591a\u65b9\u6cd5\u53ef\u4ee5\u5b9e\u73b0\u7c7b\u5b9a\u4e49\u5185\u7f6e\u7684\u4e00\u4e9b\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002</p> <p><code>__str__(self)</code> \u5b9a\u4e49\u5f53 <code>str()</code> \u8c03\u7528\u7684\u65f6\u5019\u7684\u8fd4\u56de\u503c\u3002<code>__repr__(self)</code> \u5b9a\u4e49 <code>repr()</code> \u88ab\u8c03\u7528\u7684\u65f6\u5019\u7684\u8fd4\u56de\u503c\u3002 <code>str()</code> \u548c <code>repr()</code> \u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e <code>repr()</code> \u8fd4\u56de\u7684\u662f\u673a\u5668\u53ef\u8bfb\u7684\u8f93\u51fa\uff0c\u800c <code>str()</code> \u8fd4\u56de\u7684\u662f\u4eba\u7c7b\u53ef\u8bfb\u7684\u3002 </p> <p><code>__unicode__(self)</code> \u5b9a\u4e49\u5f53 <code>unicode()</code> \u8c03\u7528\u7684\u65f6\u5019\u7684\u8fd4\u56de\u503c\u3002 <code>unicode()</code> \u548c <code>str()</code> \u5f88\u76f8\u4f3c\uff0c\u4f46\u662f\u8fd4\u56de\u7684\u662funicode\u5b57\u7b26\u4e32\u3002\u6ce8\u610f\uff0c\u5982\u679c\u5bf9\u4f60\u7684\u7c7b\u8c03\u7528 <code>str()</code> \u7136\u800c\u4f60\u53ea\u5b9a\u4e49\u4e86 <code>__unicode__()</code> \uff0c\u90a3\u4e48\u5c06\u4e0d\u4f1a\u5de5\u4f5c\u3002\u4f60\u5e94\u8be5\u5b9a\u4e49 <code>__str__()</code> \u6765\u786e\u4fdd\u8c03\u7528\u65f6\u80fd\u8fd4\u56de\u6b63\u786e\u7684\u503c\u3002</p> <p><code>__hash__(self)</code> \u5b9a\u4e49\u5f53 <code>hash()</code> \u8c03\u7528\u7684\u65f6\u5019\u7684\u8fd4\u56de\u503c\uff0c\u5b83\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u7528\u6765\u5728\u5b57\u5178\u4e2d\u8fdb\u884c\u5feb\u901f\u6bd4\u8f83 <code>__nonzero__(self)</code> \u5b9a\u4e49\u5f53 <code>bool()</code> \u8c03\u7528\u7684\u65f6\u5019\u7684\u8fd4\u56de\u503c\u3002\u672c\u65b9\u6cd5\u5e94\u8be5\u8fd4\u56deTrue\u6216\u8005False\uff0c\u53d6\u51b3\u4e8e\u4f60\u60f3\u8ba9\u5b83\u8fd4\u56de\u7684\u503c\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.4.%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95.html#_9","title":"\u521b\u5efa\u5b9a\u5236\u7684\u5e8f\u5217","text":"<p>\u6709\u5f88\u591a\u65b9\u6cd5\u8ba9\u4f60\u7684Python\u7c7b\u884c\u4e3a\u53ef\u4ee5\u50cf\u5185\u7f6e\u7684\u5e8f\u5217(dict, tuple,list, string\u7b49\u7b49)\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u5f00\u59cb\u8bb2\u5982\u4f55\u5728Python\u4e2d\u521b\u5efa\u5b9a\u5236\u7684\u5e8f\u5217\uff0c\u8fd9\u4e2a\u65f6\u5019\u8be5\u8bb2\u4e00\u8bb2\u534f\u8bae\u3002\u534f\u8bae(Protocols)\u4e0e\u5176\u4ed6\u8bed\u8a00\u4e2d\u7684\u63a5\u53e3\u5f88\u76f8\u4f3c\u3002\u5b83\u7ed9\u4f60\u5f88\u591a\u4f60\u5fc5\u987b\u5b9a\u4e49\u7684\u65b9\u6cd5\u3002\u7136\u800c\u5728Python\u4e2d\u7684\u534f\u8bae\u662f\u5f88\u4e0d\u6b63\u5f0f\u7684\uff0c\u4e0d\u9700\u8981\u660e\u786e\u58f0\u660e\u5b9e\u73b0\u3002\u4e8b\u5b9e\u4e0a\uff0c\u4ed6\u4eec\u66f4\u50cf\u4e00\u79cd\u6307\u5357\u3002</p> <p>\u6211\u4eec\u4e3a\u4ec0\u4e48\u73b0\u5728\u8ba8\u8bba\u534f\u8bae\uff1f\u56e0\u4e3a\u5982\u679c\u8981\u5b9a\u5236\u5bb9\u5668\u7c7b\u578b\u7684\u8bdd\u9700\u8981\u7528\u5230\u8fd9\u4e9b\u534f\u8bae\uff1a</p> <ol> <li>\u5b9e\u73b0\u4e0d\u53d8\u5bb9\u5668\u7684\u8bdd\u6709\u4e00\u4e2a\u534f\u8bae\uff1a\u5b9e\u73b0\u4e0d\u53ef\u53d8\u5bb9\u5668\uff0c\u4f60\u53ea\u80fd\u5b9a\u4e49 <code>__len__</code> \u548c <code>__getitem__</code> (\u4e00\u4f1a\u4f1a\u8bb2\u66f4\u591a)\u3002</li> <li>\u53ef\u53d8\u5bb9\u5668\u534f\u8bae\u5219\u9700\u8981\u6240\u6709\u4e0d\u53ef\u53d8\u5bb9\u5668\u7684\u6240\u6709\u53e6\u5916\u8fd8\u9700\u8981 <code>__setitem__</code> \u548c <code>__delitem__</code> \u3002</li> </ol> <p>\u6700\u7ec8\uff0c\u5982\u679c\u4f60\u5e0c\u671b\u4f60\u7684\u5bf9\u8c61\u662f\u53ef\u8fed\u4ee3\u7684\u8bdd\uff0c\u4f60\u9700\u8981\u5b9a\u4e49 <code>__iter__</code> \u4f1a\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\u3002\u8fed\u4ee3\u5668\u5fc5\u987b\u9075\u5faa\u8fed\u4ee3\u5668\u534f\u8bae\uff0c\u9700\u8981\u6709 <code>__iter__</code> (\u8fd4\u56de\u5b83\u672c\u8eab) \u548c <code>next</code> \u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.4.%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95.html#_10","title":"\u5bb9\u5668\u7684\u9b54\u6cd5","text":"\u9b54\u6cd5\u65b9\u6cd5 \u8c03\u7528\u65b9\u6cd5 \u63cf\u8ff0 <code>__len__(self)</code> len(self) <code>__index__(self)</code> x[self] \u5bf9\u8c61\u88ab\u4f5c\u4e3a\u7d22\u5f15\u4f7f\u7528\u7684\u65f6\u5019 <code>__getitem__(self, key)</code> self[key] \u4f7f\u7528\u7d22\u5f15\u8bbf\u95ee\u5143\u7d20\u65f6 <code>__setitem__(self, key, val)</code> self[key] = val \u5bf9\u67d0\u4e2a\u7d22\u5f15\u503c\u8d4b\u503c\u65f6 <code>__delitem__(self, key)</code> del self[key] \u5220\u9664\u67d0\u4e2a\u7d22\u5f15\u503c\u65f6 <code>__iter__(self)</code> for x in self \u8fed\u4ee3\u65f6 <code>__contains__(self, value)</code> value in self, value not in self \u4f7f\u7528 in \u64cd\u4f5c\u6d4b\u8bd5\u5173\u7cfb\u65f6 <code>__concat__(self, value)</code> self + other \u8fde\u63a5\u4e24\u4e2a\u5bf9\u8c61\u65f6 <code>__reversed__(self)</code> reversed(self) \u5b9e\u73b0\u5f53 <code>reversed()</code> \u88ab\u8c03\u7528\u65f6\u7684\u884c\u4e3a"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.4.%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95.html#_11","title":"\u53ef\u4ee5\u8c03\u7528\u7684\u5bf9\u8c61","text":"<p>\u5728Python\u4e2d\uff0c\u65b9\u6cd5\u4e5f\u662f\u4e00\u79cd\u9ad8\u7b49\u7684\u5bf9\u8c61\u3002\u8fd9\u610f\u5473\u7740\u4ed6\u4eec\u4e5f\u53ef\u4ee5\u88ab\u4f20\u9012\u5230\u65b9\u6cd5\u4e2d\u5c31\u50cf\u5176\u4ed6\u5bf9\u8c61\u4e00\u6837\u3002\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u60ca\u4eba\u7684\u7279\u6027\u3002 \u5728Python\u4e2d\uff0c\u4e00\u4e2a\u7279\u6b8a\u7684\u9b54\u672f\u65b9\u6cd5\u53ef\u4ee5\u8ba9\u7c7b\u7684\u5b9e\u4f8b\u7684\u884c\u4e3a\u8868\u73b0\u7684\u50cf\u51fd\u6570\u4e00\u6837\uff0c\u4f60\u53ef\u4ee5\u8c03\u7528\u4ed6\u4eec\uff0c\u5c06\u4e00\u4e2a\u51fd\u6570\u5f53\u505a\u4e00\u4e2a\u53c2\u6570\u4f20\u5230\u53e6\u5916\u4e00\u4e2a\u51fd\u6570\u4e2d\u7b49\u7b49\u3002\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u5f3a\u5927\u7684\u7279\u6027\u8ba9Python\u7f16\u7a0b\u66f4\u52a0\u8212\u9002\u751c\u7f8e\u3002 <code>__call__(self, [args...])</code></p> <p>\u5141\u8bb8\u4e00\u4e2a\u7c7b\u7684\u5b9e\u4f8b\u50cf\u51fd\u6570\u4e00\u6837\u88ab\u8c03\u7528\u3002\u5b9e\u8d28\u4e0a\u8bf4\uff0c\u8fd9\u610f\u5473\u7740 <code>x()</code> \u4e0e <code>x.__call__()</code> \u662f\u76f8\u540c\u7684\u3002\u6ce8\u610f <code>__call__</code> \u53c2\u6570\u53ef\u53d8\u3002\u8fd9\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u5b9a\u4e49 <code>__call__</code> \u4e3a\u5176\u4ed6\u4f60\u60f3\u8981\u7684\u51fd\u6570\uff0c\u65e0\u8bba\u6709\u591a\u5c11\u4e2a\u53c2\u6570\u3002</p> <p><code>__call__</code> \u5728\u90a3\u4e9b\u7c7b\u7684\u5b9e\u4f8b\u7ecf\u5e38\u6539\u53d8\u72b6\u6001\u7684\u65f6\u5019\u4f1a\u975e\u5e38\u6709\u6548\u3002\u8c03\u7528\u8fd9\u4e2a\u5b9e\u4f8b\u662f\u4e00\u79cd\u6539\u53d8\u8fd9\u4e2a\u5bf9\u8c61\u72b6\u6001\u7684\u76f4\u63a5\u548c\u4f18\u96c5\u7684\u505a\u6cd5\u3002\u7528\u4e00\u4e2a\u5b9e\u4f8b\u6765\u8868\u8fbe\u6700\u597d\u4e0d\u8fc7\u4e86\u3002</p>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.4.%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95.html#_12","title":"\u4f1a\u8bdd\u7ba1\u7406","text":"<p>\u5728Python 2.5\u4e2d\uff0c\u4e3a\u4e86\u4ee3\u7801\u5229\u7528\u5b9a\u4e49\u4e86\u4e00\u4e2a\u65b0\u7684\u5173\u952e\u8bcd <code>with</code> \u8bed\u53e5\u3002\u4f1a\u8bdd\u63a7\u5236\u5728Python\u4e2d\u4e0d\u7f55\u89c1(\u4e4b\u524d\u662f\u4f5c\u4e3a\u5e93\u7684\u4e00\u90e8\u5206\u88ab\u5b9e\u73b0)\uff0c\u76f4\u5230 PEP343 \u88ab\u6dfb\u52a0\u540e\u3002\u5b83\u88ab\u6210\u4e3a\u4e00\u7ea7\u8bed\u8a00\u7ed3\u6784\u3002\u4f60\u4e5f\u8bb8\u4e4b\u524d\u770b\u5230\u8fd9\u6837\u7684\u8bed\u53e5:</p> <pre><code>with open('foo.txt') as bar:\n# perform some action with bar\n</code></pre> <p>\u56de\u8bdd\u63a7\u5236\u5668\u901a\u8fc7\u5305\u88c5\u4e00\u4e2a <code>with</code> \u8bed\u53e5\u6765\u8bbe\u7f6e\u548c\u6e05\u7406\u884c\u4e3a\u3002\u56de\u8bdd\u63a7\u5236\u5668\u7684\u884c\u4e3a\u901a\u8fc7\u4e24\u4e2a\u9b54\u672f\u65b9\u6cd5\u6765\u5b9a\u4e49: </p> <p><code>__enter__(self)</code> \u5b9a\u4e49\u5f53\u4f7f\u7528 <code>with</code> \u8bed\u53e5\u7684\u65f6\u5019\u4f1a\u8bdd\u7ba1\u7406\u5668\u5e94\u8be5\u521d\u59cb\u5757\u88ab\u521b\u5efa\u7684\u65f6\u5019\u7684\u884c\u4e3a\u3002\u6ce8\u610f <code>__enter__</code> \u7684\u8fd4\u56de\u503c\u88ab <code>with</code> \u8bed\u53e5\u7684\u76ee\u6807\u6216\u8005 <code>as</code> \u540e\u7684\u540d\u5b57\u7ed1\u5b9a\u3002 </p> <p><code>__exit__(self, exception_type,exception_value, traceback)</code> \u5b9a\u4e49\u5f53\u4e00\u4e2a\u4ee3\u7801\u5757\u88ab\u6267\u884c\u6216\u8005\u7ec8\u6b62\u540e\u4f1a\u8bdd\u7ba1\u7406\u5668\u5e94\u8be5\u505a\u4ec0\u4e48\u3002\u5b83\u53ef\u4ee5\u88ab\u7528\u6765\u5904\u7406\u5f02\u5e38\uff0c\u6e05\u9664\u5de5\u4f5c\u6216\u8005\u505a\u4e00\u4e9b\u4ee3\u7801\u5757\u6267\u884c\u5b8c\u6bd5\u4e4b\u540e\u7684\u65e5\u5e38\u5de5\u4f5c\u3002\u5982\u679c\u4ee3\u7801\u5757\u6267\u884c\u6210\u529f\uff0c <code>exception_type</code> , <code>exception_value</code> , \u548c <code>traceback</code> \u5c06\u4f1a\u662f <code>None</code> \u3002\u5426\u5219\u7684\u8bdd\u4f60\u53ef\u4ee5\u9009\u62e9\u5904\u7406\u8fd9\u4e2a\u5f02\u5e38\u6216\u8005\u662f\u76f4\u63a5\u4ea4\u7ed9\u7528\u6237\u5904\u7406\u3002\u5982\u679c\u4f60\u60f3\u5904\u7406\u8fd9\u4e2a\u5f02\u5e38\u7684\u8bdd\uff0c\u786e\u8ba4 <code>__exit__</code> \u5728\u6240\u6709\u7ed3\u675f\u4e4b\u540e\u4f1a\u8fd4\u56de <code>True</code> \u3002\u5982\u679c\u4f60\u60f3\u8ba9\u5f02\u5e38\u88ab\u4f1a\u8bdd\u7ba1\u7406\u5668\u5904\u7406\u7684\u8bdd\uff0c\u90a3\u4e48\u5c31\u8fd9\u6837\u5904\u7406\u3002</p> <p><code>__enter</code> \u548c <code>__exit__</code> \u5bf9\u4e8e\u660e\u786e\u6709\u5b9a\u4e49\u597d\u7684\u548c\u65e5\u5e38\u884c\u4e3a\u7684\u8bbe\u7f6e\u548c\u6e05\u6d01\u5de5\u4f5c\u7684\u7c7b\u5f88\u6709\u5e2e\u52a9\u3002\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u65b9\u6cd5\u6765\u521b\u5efa\u4e00\u822c\u7684\u53ef\u4ee5\u5305\u88c5\u5176\u4ed6\u5bf9\u8c61\u7684\u4f1a\u8bdd\u7ba1\u7406\u5668\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>class Closer:\n'''\u901a\u8fc7with\u8bed\u53e5\u548c\u4e00\u4e2aclose\u65b9\u6cd5\u6765\u5173\u95ed\u4e00\u4e2a\u5bf9\u8c61\u7684\u4f1a\u8bdd\u7ba1\u7406\u5668'''\n    def __init__(self, obj):\n        self.obj = obj\n\n    def __enter__(self):\n        return self.obj # bound to target\n\n    def __exit__(self, exception_type, exception_val, trace):\n        try:\n            self.obj.close()\n        except AttributeError: # obj isn't closable\n            print('Not closable.')\n            return True # exception handled successfully\n\nwith Closer(int(5)) as i:\n    i += 1\n</code></pre> <pre><code>Not closable.\n</code></pre>"},{"location":"Python3/Python%E5%9F%BA%E7%A1%80/4.4.%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95.html#_13","title":"\u53c2\u8003","text":"<ol> <li>\u6587\u7ae0</li> </ol>"},{"location":"Python3/TensorFlow/12.1.keras%E6%95%B0%E6%8D%AE%E9%9B%86.html","title":"12.1.keras\u6570\u636e\u96c6","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.03.09\ntensorflow version:  2.1.0\n</code></pre> <pre><code>from tensorflow import keras\nfrom tensorflow.keras.datasets import boston_housing\nfrom tensorflow.keras.datasets import imdb\nfrom tensorflow.keras.datasets import reuters\nfrom tensorflow.keras.datasets import mnist\nfrom tensorflow.keras.datasets import cifar10\nfrom tensorflow.keras.datasets import cifar100\nfrom tensorflow.keras.datasets import fashion_mnist\nimport matplotlib.pyplot as plt\n</code></pre> <p>tensorflow \u4e2d\u53ef\u4ee5\u5feb\u901f\u8c03\u7528\u7684\u6570\u636e\u96c6\uff08\u8fd8\u662f\u8981\u5148\u4e0b\u8f7d\u7684\uff09\uff1a</p> <pre><code>['cifar10', 'cifar100', 'imdb', 'mnist', 'reuters']\n</code></pre>"},{"location":"Python3/TensorFlow/12.1.keras%E6%95%B0%E6%8D%AE%E9%9B%86.html#boston_housing","title":"boston_housing \u56de\u5f52\u6570\u636e\u96c6","text":"<p>\u6570\u636e\u96c6\u6765\u81ea\u5361\u5185\u57fa\u6885\u9686\u5927\u5b66\u7ef4\u62a4\u7684 StatLib \u5e93\u3002\u6837\u672c\u5305\u542b 1970 \u5e74\u4ee3\u7684\u5728\u6ce2\u58eb\u987f\u90ca\u533a\u4e0d\u540c\u4f4d\u7f6e\u7684\u623f\u5c4b\u4fe1\u606f\uff0c\u603b\u5171\u6709 13 \u79cd\u623f\u5c4b\u5c5e\u6027\u3002\u76ee\u6807\u503c\u662f\u4e00\u4e2a\u4f4d\u7f6e\u7684\u623f\u5c4b\u4ef7\u683c\u7684\u4e2d\u503c\uff08\u5355\u4f4d\uff1ak$\uff09\u3002 </p> <pre><code>(x_train, y_train), (x_test, y_test) = boston_housing.load_data()\n</code></pre> <p>\u53c2\u6570\uff1a</p> <ul> <li>path: \u7f13\u5b58\u672c\u5730\u6570\u636e\u96c6\u7684\u4f4d\u7f6e (\u76f8\u5bf9\u8def\u5f84 ~/.keras/datasets)\u3002</li> <li>seed: \u5728\u8ba1\u7b97\u6d4b\u8bd5\u5206\u5272\u4e4b\u524d\u5bf9\u6570\u636e\u8fdb\u884c\u6df7\u6d17\u7684\u968f\u673a\u79cd\u5b50\u3002</li> <li>test_split: \u9700\u8981\u4fdd\u7559\u4f5c\u4e3a\u6d4b\u8bd5\u6570\u636e\u7684\u6bd4\u4f8b\u3002</li> </ul> <pre><code>x_train.shape: (404, 13)\ny_train.shape: (404,)\nx_test.shape : (102, 13)\ny_test.shape : (102,)\n</code></pre>"},{"location":"Python3/TensorFlow/12.1.keras%E6%95%B0%E6%8D%AE%E9%9B%86.html#imdb","title":"imdb \u60c5\u611f\u5206\u7c7b\u6570\u636e\u96c6","text":"<p>\u6570\u636e\u96c6\u6765\u81ea IMDB \u7684 25,000 \u6761\u7535\u5f71\u8bc4\u8bba\uff0c\u4ee5\u60c5\u7eea\uff08\u6b63\u9762/\u8d1f\u9762\uff09\u6807\u8bb0\u3002\u8bc4\u8bba\u5df2\u7ecf\u8fc7\u9884\u5904\u7406\uff0c\u5e76\u7f16\u7801\u4e3a\u8bcd\u7d22\u5f15\uff08\u6574\u6570\uff09\u7684\u5e8f\u5217\u8868\u793a\u3002\u4e3a\u4e86\u65b9\u4fbf\u8d77\u89c1\uff0c\u5c06\u8bcd\u6309\u6570\u636e\u96c6\u4e2d\u51fa\u73b0\u7684\u9891\u7387\u8fdb\u884c\u7d22\u5f15\uff0c\u4f8b\u5982\u6574\u6570 3 \u7f16\u7801\u6570\u636e\u4e2d\u7b2c\u4e09\u4e2a\u6700\u9891\u7e41\u7684\u8bcd\u3002\u8fd9\u5141\u8bb8\u5feb\u901f\u7b5b\u9009\u64cd\u4f5c\uff0c\u4f8b\u5982\uff1a\u300c\u53ea\u8003\u8651\u524d 10,000 \u4e2a\u6700\u5e38\u7528\u7684\u8bcd\uff0c\u4f46\u6392\u9664\u524d 20 \u4e2a\u6700\u5e38\u89c1\u7684\u8bcd\u300d\u3002</p> <p>\u4f5c\u4e3a\u60ef\u4f8b\uff0c0 \u4e0d\u4ee3\u8868\u7279\u5b9a\u7684\u5355\u8bcd\uff0c\u800c\u662f\u88ab\u7528\u4e8e\u7f16\u7801\u4efb\u4f55\u672a\u77e5\u5355\u8bcd\u3002 </p> <pre><code>(x_train, y_train), (x_test, y_test) = imdb.load_data(path=\"imdb.npz\",\n                                                        num_words=None,\n                                                        skip_top=0,\n                                                        maxlen=None,\n                                                        seed=113,\n                                                        start_char=1,\n                                                        oov_char=2,\n                                                        index_from=3)\n</code></pre> <pre><code>x_train.shape: (25000,)\ny_train.shape: (25000,)\nx_test.shape : (25000,)\ny_test.shape : (25000,)\n</code></pre> <p><code>x_train</code>\u662f\u4e0d\u7b49\u957f\u7684list\u7ec4\u6210\u7684array\uff0c\u6240\u4ee5\u53ea\u663e\u793a\u4e86\u7b2c\u4e00\u4e2a\u7ef4\u5ea6\u7684\u5927\u5c0f\u3002<code>y_train</code>\u662f\u5206\u7c7b\u6807\u7b7e\uff0c\u53ea\u6709\u4e00\u4e2a\u7ef4\u5ea6\uff0c\u6240\u4ee5\u4e5f\u53ea\u663e\u793a\u4e86\u7b2c\u4e00\u4e2a\u7ef4\u5ea6\u7684\u5927\u5c0f\u3002</p> <p>\u540c\u65f6\uff0c\u4e5f\u53ef\u4ee5\u83b7\u53d6\u8bcd\u5e93\uff1a</p> <pre><code>word_index = imdb.get_word_index()\nprint(len(word_index))\n</code></pre> <pre><code>88584\n</code></pre> <pre><code>i = 0\nfor k, v in word_index.items():\n    print(f\"{k}:{v}\")\n    i += 1\n    if i &gt;5: break\n</code></pre> <pre><code>fawn:34701\ntsukino:52006\nnunnery:52007\nsonja:16816\nvani:63951\nwoods:1408\n</code></pre>"},{"location":"Python3/TensorFlow/12.1.keras%E6%95%B0%E6%8D%AE%E9%9B%86.html#mnist","title":"mnist \u624b\u5199\u6570\u5b57\u5206\u7c7b\u6570\u636e\u96c6","text":"<pre><code>(x_train, y_train), (x_test, y_test) = mnist.load_data()\n</code></pre> <p>x_train, x_test: uint8 \u6570\u7ec4\u8868\u793a\u7684\u7070\u5ea6\u56fe\u50cf\uff0c\u5c3a\u5bf8\u4e3a <code>(num_samples, 28, 28)</code>\u3002</p> <p>y_train, y_test: uint8 \u6570\u7ec4\u8868\u793a\u7684\u6570\u5b57\u6807\u7b7e\uff08\u8303\u56f4\u5728 0-9 \u4e4b\u95f4\u7684\u6574\u6570\uff09\uff0c\u5c3a\u5bf8\u4e3a <code>(num_samples,)</code>\u3002</p> <pre><code>x_train.shape: (60000, 28, 28)\ny_train.shape: (60000,)\nx_test.shape : (10000, 28, 28)\ny_test.shape : (10000,)\n</code></pre> <pre><code>def mnist_plot_img(img):\n    plt.figure()\n    plt.gray()\n    plt.imshow(img)\n    plt.show()\n\nmnist_plot_img(x_train[0])\n</code></pre> <p></p>"},{"location":"Python3/TensorFlow/12.1.keras%E6%95%B0%E6%8D%AE%E9%9B%86.html#cifar10","title":"cifar10 \u56fe\u50cf\u5206\u7c7b\u6570\u636e\u96c6","text":"<p>50,000 \u5f20 32x32 \u5f69\u8272\u8bad\u7ec3\u56fe\u50cf\u6570\u636e\uff0c\u4ee5\u53ca 10,000 \u5f20\u6d4b\u8bd5\u56fe\u50cf\u6570\u636e\uff0c\u603b\u5171\u5206\u4e3a 10 \u4e2a\u7c7b\u522b\u3002</p> <pre><code>(x_train, y_train), (x_test, y_test) = cifar10.load_data()\n</code></pre> <p>x_train, x_test: uint8 \u6570\u7ec4\u8868\u793a\u7684 RGB \u56fe\u50cf\u6570\u636e\uff0c\u5c3a\u5bf8\u4e3a <code>(num_samples, 3, 32, 32)</code> \u6216 <code>(num_samples, 32, 32, 3)</code>\uff0c\u57fa\u4e8e image_data_format \u540e\u7aef\u8bbe\u5b9a\u7684 channels_first \u6216 channels_last\u3002</p> <p>y_train, y_test: uint8 \u6570\u7ec4\u8868\u793a\u7684\u7c7b\u522b\u6807\u7b7e\uff08\u8303\u56f4\u5728 0-9 \u4e4b\u95f4\u7684\u6574\u6570\uff09\uff0c\u5c3a\u5bf8\u4e3a<code>(num_samples,)</code>\u3002</p> <pre><code>print(\"x_train.shape: (%d, %d, %d, %d)\" % x_train.shape)\nprint(\"y_train.shape: (%d, %d)\" % y_train.shape)\nprint(\"x_test.shape : (%d, %d, %d, %d)\" % x_test.shape)\nprint(\"y_test.shape : (%d, %d)\" % y_test.shape)\n</code></pre> <pre><code>x_train.shape: (50000, 32, 32, 3)\ny_train.shape: (50000, 1)\nx_test.shape : (10000, 32, 32, 3)\ny_test.shape : (10000, 1)\n</code></pre> <pre><code>mnist_plot_img(x_train[1])\n</code></pre> <p></p>"},{"location":"Python3/TensorFlow/12.1.keras%E6%95%B0%E6%8D%AE%E9%9B%86.html#cifar100","title":"cifar100 \u56fe\u50cf\u5206\u7c7b\u6570\u636e\u96c6","text":"<p>50,000 \u5f20 32x32 \u5f69\u8272\u8bad\u7ec3\u56fe\u50cf\u6570\u636e\uff0c\u4ee5\u53ca 10,000 \u5f20\u6d4b\u8bd5\u56fe\u50cf\u6570\u636e\uff0c\u603b\u5171\u5206\u4e3a 100 \u4e2a\u7c7b\u522b\u3002 </p> <pre><code>(x_train, y_train), (x_test, y_test) = cifar100.load_data()\n</code></pre> <p>x_train, x_test: uint8 \u6570\u7ec4\u8868\u793a\u7684 RGB \u56fe\u50cf\u6570\u636e\uff0c\u5c3a\u5bf8\u4e3a <code>(num_samples, 3, 32, 32)</code> \u6216 <code>(num_samples, 32, 32, 3)</code>\uff0c\u57fa\u4e8e image_data_format \u540e\u7aef\u8bbe\u5b9a\u7684 channels_first \u6216 channels_last\u3002</p> <p>y_train, y_test: uint8 \u6570\u7ec4\u8868\u793a\u7684\u7c7b\u522b\u6807\u7b7e\uff08\u8303\u56f4\u5728 0-9 \u4e4b\u95f4\u7684\u6574\u6570\uff09\uff0c\u5c3a\u5bf8\u4e3a<code>(num_samples,)</code>\u3002</p> <pre><code>print(\"x_train.shape: (%d, %d, %d, %d)\" % x_train.shape)\nprint(\"y_train.shape: (%d, %d)\" % y_train.shape)\nprint(\"x_test.shape : (%d, %d, %d, %d)\" % x_test.shape)\nprint(\"y_test.shape : (%d, %d)\" % y_test.shape)\n</code></pre> <pre><code>x_train.shape: (50000, 32, 32, 3)\ny_train.shape: (50000, 1)\nx_test.shape : (10000, 32, 32, 3)\ny_test.shape : (10000, 1)\n</code></pre> <pre><code>mnist_plot_img(x_train[1])\n</code></pre> <p></p>"},{"location":"Python3/TensorFlow/12.1.keras%E6%95%B0%E6%8D%AE%E9%9B%86.html#fashion_mnist","title":"fashion_mnist \u56fe\u50cf\u5206\u7c7b\u6570\u636e\u96c6","text":"<p>Fashion-MNIST\u662fZalando\u6587\u7ae0\u56fe\u7247\u7684\u6570\u636e\u96c6\uff0c\u5305\u542b60,000\u4e2a\u793a\u4f8b\u7684\u8bad\u7ec3\u96c6\u548c10,000\u4e2a\u793a\u4f8b\u7684\u6d4b\u8bd5\u96c6\u3002\u6bcf\u4e2a\u793a\u4f8b\u90fd\u662f\u4e00\u4e2a28x28\u7070\u5ea6\u56fe\u50cf\uff0c\u4e0e\u6765\u81ea10\u4e2a\u7c7b\u522b\u7684\u6807\u7b7e\u76f8\u5173\u8054\u3002\u7c7b\u522b\u6807\u7b7e\u662f\uff1a</p> \u7c7b\u522b \u63cf\u8ff0 \u4e2d\u6587 0 T-shirt/top T\u6064/\u4e0a\u8863 1 Trouser \u88e4\u5b50 2 Pullover \u5957\u5934\u886b 3 Dress \u8fde\u8863\u88d9 4 Coat \u5916\u5957 5 Sandal \u51c9\u978b 6 Shirt \u886c\u886b 7 Sneaker \u8fd0\u52a8\u978b 8 Bag \u80cc\u5305 9 Ankle boot \u77ed\u9774 <pre><code>(x_train, y_train), (x_test, y_test) = fashion_mnist.load_data()\n</code></pre> <p>x_train, x_test: uint8 \u6570\u7ec4\u8868\u793a\u7684\u7070\u5ea6\u56fe\u50cf\uff0c\u5c3a\u5bf8\u4e3a <code>(num_samples, 28, 28)</code>\u3002</p> <p>y_train, y_test: uint8 \u6570\u7ec4\u8868\u793a\u7684\u6570\u5b57\u6807\u7b7e\uff08\u8303\u56f4\u5728 0-9 \u4e4b\u95f4\u7684\u6574\u6570\uff09\uff0c\u5c3a\u5bf8\u4e3a <code>(num_samples,)</code>\u3002</p> <pre><code>print(\"x_train.shape: (%d, %d, %d)\" % x_train.shape)\nprint(\"y_train.shape: (%d,)\" % y_train.shape)\nprint(\"x_test.shape : (%d, %d, %d\" % x_test.shape)\nprint(\"y_test.shape : (%d,)\" % y_test.shape)\n</code></pre> <pre><code>x_train.shape: (60000, 28, 28)\ny_train.shape: (60000,)\nx_test.shape : (10000, 28, 28\ny_test.shape : (10000,)\n</code></pre> <pre><code>mnist_plot_img(x_train[100])\n</code></pre> <p></p>"},{"location":"Python3/TensorFlow/12.1.keras%E6%95%B0%E6%8D%AE%E9%9B%86.html#reuters","title":"reuters \u8def\u900f\u793e\u65b0\u95fb\u4e3b\u9898\u5206\u7c7b\u6570\u636e\u96c6","text":"<p>\u6570\u636e\u96c6\u6765\u6e90\u4e8e\u8def\u900f\u793e\u7684 11,228 \u6761\u65b0\u95fb\u6587\u672c\uff0c\u603b\u5171\u5206\u4e3a 46 \u4e2a\u4e3b\u9898\u3002\u4e0e IMDB \u6570\u636e\u96c6\u4e00\u6837\uff0c\u6bcf\u6761\u65b0\u95fb\u90fd\u88ab\u7f16\u7801\u4e3a\u4e00\u4e2a\u8bcd\u7d22\u5f15\u7684\u5e8f\u5217\u3002</p> <pre><code>(x_train, y_train), (x_test, y_test) = reuters.load_data(path=\"reuters.npz\",\n                                                         num_words=None,\n                                                         skip_top=0,\n                                                         maxlen=None,\n                                                          test_split=0.2,\n                                                         seed=113,\n                                                         start_char=1,\n                                                         oov_char=2,\n                                                         index_from=3)\n</code></pre> <p>\u89c4\u683c\u4e0e IMDB \u6570\u636e\u96c6\u7684\u89c4\u683c\u76f8\u540c\uff0c\u4f46\u589e\u52a0\u4e86<code>test_split</code>\u53c2\u6570\u3002</p> <pre><code>(x_train, y_train), (x_test, y_test) = reuters.load_data()\n</code></pre> <pre><code>x_train.shape: (8982,)\ny_train.shape: (8982,)\nx_test.shape : (2246,)\ny_test.shape : (2246,)\n</code></pre> <pre><code>word_index = reuters.get_word_index\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.create%20tensor.html","title":"12.2.\u521b\u5efa\u5f20\u91cf","text":"<pre><code>from pprint import pprint\nimport tensorflow as tf\n</code></pre> <pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.21\ntensorflow version:  2.5.0\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.create%20tensor.html#_1","title":"\u521b\u5efa\u5f20\u91cf","text":"<code>tf.constant(value, dtype=None, shape=None, name='Const')</code><p>\u521b\u5efa\u6807\u91cf</p> <pre><code>scalar = tf.constant(1.2)\n# \u67e5\u770b scalar \u7684\u7c7b\u578b\nprint(type(scalar))\n# \u5224\u65ad\u662f\u5426\u4e3a tensor\nprint(tf.is_tensor(scalar))\nprint(scalar)\n</code></pre> <pre><code>&lt;class 'tensorflow.python.framework.ops.EagerTensor'&gt;\nTrue\ntf.Tensor(1.2, shape=(), dtype=float32)\n</code></pre> <p>\u521b\u5efa\u5411\u91cf\u548c\u77e9\u9635</p> <pre><code>vector = tf.constant([1.2, 1, 2], name=\"vanilla\")\npprint(vector)\nprint()\nmatrix = tf.constant([[1, 2], [3, 4]])\nmatrix = tf.constant([1, 2, 3, 4], shape=(2, 2))\npprint(matrix)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(3,), dtype=float32, numpy=array([1.2, 1. , 2. ],\ndtype=float32)&gt;\n\n&lt;tf.Tensor: shape=(2, 2), dtype=int32, numpy=\narray([[1, 2],\n       [3, 4]], dtype=int32)&gt;\n</code></pre> <p>\u521b\u5efa\u66f4\u9ad8\u7ef4\u5ea6\u7684\u5f20\u91cf</p> <pre><code>tensor = tf.constant([[[1, 2], [3, 4]], [[5, 6], [7, 8]]])\nprint(tensor)\n</code></pre> <pre><code>tf.Tensor(\n[[[1 2]\n  [3 4]]\n\n [[5 6]\n  [7 8]]], shape=(2, 2, 2), dtype=int32)\n</code></pre> <code>tf.range(start, limit=None, delta=1, dtype=None, name='range')</code><pre><code>tf.range(start=-5, limit=5, delta=2, dtype=None, name='test')\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(5,), dtype=int32, numpy=array([-5, -3, -1,  1,  3], dtype=int32)&gt;\n</code></pre> <code>tf.zeros(shape, dtype=dtypes.float32, name=None)</code><pre><code>print(tf.zeros((2, 3)))\n</code></pre> <pre><code>tf.Tensor(\n[[0. 0. 0.]\n [0. 0. 0.]], shape=(2, 3), dtype=float32)\n</code></pre> <code>tf.zeros_like(input, dtype=None, name=None)</code><pre><code>print(tf.zeros_like((2, 3)))\n</code></pre> <pre><code>tf.Tensor([0 0], shape=(2,), dtype=int32)\n</code></pre> <code>tf.ones(shape, dtype=dtypes.float32, name=None)</code><pre><code>print(tf.ones((2, 3)))\n</code></pre> <pre><code>tf.Tensor(\n[[1. 1. 1.]\n [1. 1. 1.]], shape=(2, 3), dtype=float32)\n</code></pre> <code>tf.ones_like(input, dtype=None, name=None)</code><pre><code>print(tf.ones_like((2, 3)))\n</code></pre> <pre><code>tf.Tensor([1 1], shape=(2,), dtype=int32)\n</code></pre> <code>tf.fill(dims, value, name=None)</code><pre><code>print(tf.fill(dims=[], value=8))  # \u6807\u91cf\nprint(tf.fill(dims=(2, 3), value=2))\n</code></pre> <pre><code>tf.Tensor(8, shape=(), dtype=int32)\ntf.Tensor(\n[[2 2 2]\n [2 2 2]], shape=(2, 3), dtype=int32)\n</code></pre> <code>tf.eye(num_rows, num_columns=None, batch_shape=None, dtype=dtype.float32, name=None)</code><pre><code>print(tf.eye(4), \"\\n\")\nprint(tf.eye(4, 2), \"\\n\")\nprint(tf.eye(2, 2, (2, 3)), \"\\n\")\nprint(tf.eye(2, 2, (2, 3)).shape)\n</code></pre> <pre><code>tf.Tensor(\n[[1. 0. 0. 0.]\n [0. 1. 0. 0.]\n [0. 0. 1. 0.]\n [0. 0. 0. 1.]], shape=(4, 4), dtype=float32) \n\ntf.Tensor(\n[[1. 0.]\n [0. 1.]\n [0. 0.]\n [0. 0.]], shape=(4, 2), dtype=float32) \n\ntf.Tensor(\n[[[[1. 0.]\n   [0. 1.]]\n\n  [[1. 0.]\n   [0. 1.]]\n\n  [[1. 0.]\n   [0. 1.]]]\n\n\n [[[1. 0.]\n   [0. 1.]]\n\n  [[1. 0.]\n   [0. 1.]]\n\n  [[1. 0.]\n   [0. 1.]]]], shape=(2, 3, 2, 2), dtype=float32) \n\n(2, 3, 2, 2)\n</code></pre> <code>tf.tile(input, multiples, name=None)</code><pre><code>a = tf.constant([[1, 2, 3], [4, 5, 6]], tf.int32)\nb = tf.constant([1, 2], tf.int32)\ntf.tile(a, b)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2, 6), dtype=int32, numpy=\narray([[1, 2, 3, 1, 2, 3],\n       [4, 5, 6, 4, 5, 6]], dtype=int32)&gt;\n</code></pre> <pre><code>c = tf.constant([2, 1], tf.int32)\ntf.tile(a, c)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(4, 3), dtype=int32, numpy=\narray([[1, 2, 3],\n       [4, 5, 6],\n       [1, 2, 3],\n       [4, 5, 6]], dtype=int32)&gt;\n</code></pre> <pre><code>d = tf.constant([2, 2], tf.int32)\ntf.tile(a, d)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(4, 6), dtype=int32, numpy=\narray([[1, 2, 3, 1, 2, 3],\n       [4, 5, 6, 4, 5, 6],\n       [1, 2, 3, 1, 2, 3],\n       [4, 5, 6, 4, 5, 6]], dtype=int32)&gt;\n</code></pre> <code>tf.repeat(input, repeats, axis=None, name=None)</code><pre><code>a = tf.constant([[1, 2], [3, 4]], tf.int32)\nprint(tf.repeat(a, 2))\nprint(tf.repeat(a, (2, 2, 3, 1)))\n</code></pre> <pre><code>tf.Tensor([1 1 2 2 3 3 4 4], shape=(8,), dtype=int32)\ntf.Tensor([1 1 2 2 3 3 3 4], shape=(8,), dtype=int32)\n</code></pre> <code>tf.convert_to_tensor(value, dtype=None, dtype_hint=None, name=None)</code><pre><code>tf.convert_to_tensor([1, 2])\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2,), dtype=int32, numpy=array([1, 2], dtype=int32)&gt;\n</code></pre> <code>tf.one_hot(indices, depth, on_value=None, off_value=None, axis=None, dtype=None, name=None)</code>"},{"location":"Python3/TensorFlow/12.2.create%20tensor.html#_2","title":"\u62fc\u63a5\u5f20\u91cf","text":"<code>tf.concat(values, axis, name='concat')</code><pre><code>a = tf.ones((2, 3))\nb = tf.zeros((2, 3))\nprint(tf.concat([a, b], axis=0))\nprint(\"shape\", tf.concat([a, b], axis=0).shape)\n</code></pre> <pre><code>tf.Tensor(\n[[1. 1. 1.]\n [1. 1. 1.]\n [0. 0. 0.]\n [0. 0. 0.]], shape=(4, 3), dtype=float32)\nshape (4, 3)\n</code></pre> <code>tf.stack(values, axis=0, name='stack')</code><pre><code>a = tf.ones((2, 3))\nb = tf.zeros((2, 3))\ntf.stack([a, b], axis=0)\nprint(\"shape\", tf.stack([a, b], axis=0))\n</code></pre> <pre><code>shape tf.Tensor(\n[[[1. 1. 1.]\n  [1. 1. 1.]]\n\n [[0. 0. 0.]\n  [0. 0. 0.]]], shape=(2, 2, 3), dtype=float32)\n</code></pre> <code>tf.tuple(tensors, control_inputs=None, name=None)</code><pre><code>a = tf.ones((2, 3))\nb = tf.zeros((2, 3))\nprint(tf.tuple([a, b]))\n</code></pre> <pre><code>[&lt;tf.Tensor: shape=(2, 3), dtype=float32, numpy=\narray([[1., 1., 1.],\n       [1., 1., 1.]], dtype=float32)&gt;, &lt;tf.Tensor: shape=(2, 3),\ndtype=float32, numpy=\narray([[0., 0., 0.],\n       [0., 0., 0.]], dtype=float32)&gt;]\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.create%20tensor.html#_3","title":"\u62c6\u5206\u5f20\u91cf","text":"<code>tf.unstack(value, num=None, axis=0, name='unstack')</code><pre><code>a = tf.ones((2, 3))\nb = tf.zeros((2, 3))\nc = tf.stack([a, b], axis=0)\nprint(tf.unstack(c, axis=0))\n</code></pre> <pre><code>[&lt;tf.Tensor: shape=(2, 3), dtype=float32, numpy=\narray([[1., 1., 1.],\n       [1., 1., 1.]], dtype=float32)&gt;, &lt;tf.Tensor: shape=(2, 3),\ndtype=float32, numpy=\narray([[0., 0., 0.],\n       [0., 0., 0.]], dtype=float32)&gt;]\n</code></pre> <code>tf.split(value, num_or_size_splits, axis=0, num=None, name='split')</code><pre><code>a = tf.ones((2, 3))\nb = tf.zeros((2, 3))\nc = tf.concat([a, b], axis=0)\nprint(tf.split(c, num_or_size_splits=2, axis=0))\n</code></pre> <pre><code>[&lt;tf.Tensor: shape=(2, 3), dtype=float32, numpy=\narray([[1., 1., 1.],\n       [1., 1., 1.]], dtype=float32)&gt;, &lt;tf.Tensor: shape=(2, 3),\ndtype=float32, numpy=\narray([[0., 0., 0.],\n       [0., 0., 0.]], dtype=float32)&gt;]\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.create%20tensor.html#_4","title":"\u83b7\u53d6\u5f20\u91cf\u5c5e\u6027\u4fe1\u606f","text":"<code>tf.shape(input, out_type=tf.int32, name=None)</code><pre><code>a = tf.ones((2, 3))\nprint(tf.shape(a))\n</code></pre> <pre><code>tf.Tensor([2 3], shape=(2,), dtype=int32)\n</code></pre> <code>tf.shape_n(input, out_type=tf.int32, name=None)</code><pre><code>a = tf.ones((2, 3))\nb = tf.zeros((2, 4))\nprint(tf.shape_n([a, b]))\n</code></pre> <pre><code>[&lt;tf.Tensor: shape=(2,), dtype=int32, numpy=array([2, 3],\ndtype=int32)&gt;, &lt;tf.Tensor: shape=(2,), dtype=int32, numpy=array([2,\n4], dtype=int32)&gt;]\n</code></pre> <code>tf.size(input, out_type=tf.int32, name=None)</code><pre><code>a = tf.ones((2, 3))\nprint(tf.size(a))\n</code></pre> <pre><code>tf.Tensor(6, shape=(), dtype=int32)\n</code></pre> <code>tf.rank(input, name=None)</code><pre><code>a = tf.ones((2, 3, 5))\nprint(tf.rank(a))\n</code></pre> <pre><code>tf.Tensor(3, shape=(), dtype=int32)\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.create%20tensor.html#_5","title":"\u5f62\u72b6\u64cd\u7eb5","text":"<code>tf.expand_dims(input, axis, name=None)</code> <code>tf.reshape(tensor, shape, name=None)</code> <code>tf.reverse(tensor, axis, name=None)</code> <code>tf.squeeze(input, axis=None, name=None)</code> <code>tf.transpose(a, perm=None, conjugate=False, name='transpose')</code> <code>tf.roll(input, shift, axis, name=None)</code>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html","title":"12.2.\u521b\u5efa\u5f20\u91cf","text":"<pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.06.09\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-edb7311795d8&gt; in\n&lt;module&gt;\n      4 import time\n      5 print(\"Latest build date\", time.strftime(\"%Y.%m.%d\",\ntime.localtime()))\n----&gt; 6 print(\"tensorflow version: \", tf.__version__)\n      7\n      8 h = H(tf)\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_1","title":"\u521b\u5efa\u5f20\u91cf","text":"<pre><code>H.get_param(\"tf.constant\")\nH.get_param(\"tf.range\")\n</code></pre> <pre><code>---------------------------------------------------------------------------ValueError\nTraceback (most recent call last)&lt;ipython-input-1-c50ae1f5792a&gt; in\n&lt;module&gt;\n----&gt; 1 H.get_param(\"tf.constant\")\n      2 H.get_param(\"tf.range\")\nC:\\Data\\Documents\\PythonProject\\04.Python\\toolkit\\Help.py in\nget_param(obj, global_dict, width, is_print)\n    440             obj = eval(obj, global_dict)\n    441         elif isinstance(obj, str) and global_dict is None:\n--&gt; 442             raise ValueError(\"global_dict is None!\")\n    443         else:\n    444             if hasattr(obj, \"__name__\"):\nValueError: global_dict is None!\n</code></pre> <pre><code>tf.constant(value, dtype=None, shape=None, name='Const')\ntf.range(start, limit=None, delta=1, dtype=None, name='range')\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_2","title":"\u6807\u91cf","text":"<p>\u4f20\u5165\u6807\u91cf\uff0c\u5728tf\u4e2d\u521b\u5efa\u4e00\u4e2a\u6807\u91cf</p> <pre><code>scalar = tf.constant(1.2)\n# \u67e5\u770b scalar \u7684\u7c7b\u578b\npprint(type(scalar))\n# \u5224\u65ad\u662f\u5426\u4e3a tensor\npprint(tf.is_tensor(scalar))\npprint(scalar)\n\npprint([i for i in dir(scalar) if not i.startswith(\"_\")])\n\n\n# id    TensorFlow \u4e2d\u5185\u90e8\u7d22\u5f15\u5bf9\u8c61\u7684\u7f16\u53f7\n# shape \u5f20\u91cf\u7684\u5f62\u72b6\n# dtype \u5f20\u91cf\u7684\u6570\u636e\u7c7b\u578b\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-61fb2d1a1da8&gt; in\n&lt;module&gt;\n----&gt; 1 scalar = tf.constant(1.2)\n      2 # \u67e5\u770b scalar \u7684\u7c7b\u578b\n      3 pprint(type(scalar))\n      4 # \u5224\u65ad\u662f\u5426\u4e3a tensor\n      5 pprint(tf.is_tensor(scalar))\nNameError: name 'tf' is not defined\n</code></pre> <p>\u8fd4\u56denumpy\u5b9a\u4e49\u7684\u6570\u636e\u7c7b\u578b\u7684\u6570\u636e</p> <pre><code>scalar.numpy()\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-f11055481ed6&gt; in\n&lt;module&gt;\n----&gt; 1 scalar.numpy()\nNameError: name 'scalar' is not defined\n</code></pre> <p>\u83b7\u53d6\u5f20\u91cf\u7684\u5f62\u72b6</p> <pre><code>pprint(scalar.get_shape())\npprint(scalar.shape)\npprint(scalar.ndim)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-72642700c963&gt; in\n&lt;module&gt;\n----&gt; 1 pprint(scalar.get_shape())\n      2 pprint(scalar.shape)\n      3 pprint(scalar.ndim)\nNameError: name 'scalar' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_3","title":"\u5411\u91cf","text":"<pre><code>['OVERLOADABLE_OPERATORS',\n 'is_packed',\n 'op',\n 'set_shape']\n</code></pre> <pre><code>['OVERLOADABLE_OPERATORS', 'is_packed', 'op', 'set_shape']\n</code></pre> <p>\u521b\u5efa\u5411\u91cf\u5fc5\u987b\u4f20\u5165 array-like</p> <pre><code>vector = tf.constant([[1.2, 1, 2], [4, 5, 6]], name=\"vanilla\")\npprint(vector)\nprint()\npprint(vector.get_shape())\npprint(vector.shape)\npprint(vector.ndim)\npprint(vector.dtype)\n\n# Updates the shape of this tensor.\nvector.set_shape((2, None))\n# It is recommended to use `tf.ensure_shape` instead of `Tensor.set_shape`\n# Updates the shape of a tensor and checks at runtime that the shape holds.\n\npprint(vector.device)\n'/job:localhost/replica:0/task:0/device:CPU:0'\npprint(vector.backing_device)\n\n# Return a copy of this Tensor with contents backed by memory on the GPU.\nvector = vector.gpu()\npprint(vector.device)\n# Return a copy of this Tensor with contents backed by host memory.\nvector = vector.cpu()\npprint(vector.device)\n\n# Returns a hashable reference object to this Tensor.\nvector.ref()\ntry:\n    hash(vector)\nexcept TypeError as e:\n    print(e)\n\nhash(vector.ref())\n\npprint(vector.numpy())\n\n\nfrom tensorflow.python.framework.ops import disable_eager_execution\n\n\ndisable_eager_execution()\nvector = tf.constant([[1.2, 1, 2], [4, 5, 6]], name=\"vanilla\")\nvector_2 = tf.constant([[1.2, 1, 2], [4, 5, 6]], name=\"vanilla\")\nvector.name\nvector_2.name\n\n# Return the `Graph` that contains this tensor.\nvector.graph\n\n\nsess = tf.compat.v1.Session()\nwith sess.as_default():\n    a = vector.eval()\n    print(a)\n    print(type(a))\n\nvector.value_index()\n\n# dir(vector.op)\n# with sess.as_default():\n#         vector.op.run()\n\n# vector.consumers()\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-a1d6283f41cc&gt; in\n&lt;module&gt;\n----&gt; 1 vector = tf.constant([[1.2, 1, 2], [4, 5, 6]], name=\"vanilla\")\n      2 pprint(vector)\n      3 print()\n      4 pprint(vector.get_shape())\n      5 pprint(vector.shape)\nNameError: name 'tf' is not defined\n</code></pre> <p>\u521b\u5efa\u5e8f\u5217</p> <pre><code>tf.range(start=-10, limit=10, delta=2, dtype=None, name='test')\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-32577fa82605&gt; in\n&lt;module&gt;\n----&gt; 1 tf.range(start=-10, limit=10, delta=2, dtype=None,\nname='test')\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_4","title":"\u77e9\u9635","text":"<pre><code>tf.constant([[1,2], [3,4]])\ntf.constant([1,2,3,4], shape=(2,2))\n\n# \u5b9a\u4e49\u4e09\u7ef4\u5f20\u91cf\ntf.constant([[[1,2], [3,4]]])\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-b5c47c3f926d&gt; in\n&lt;module&gt;\n----&gt; 1 tf.constant([[1,2], [3,4]])\n      2 tf.constant([1,2,3,4], shape=(2,2))\n      3\n      4 # \u5b9a\u4e49\u4e09\u7ef4\u5f20\u91cf\n      5 tf.constant([[[1,2], [3,4]]])\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#numpy","title":"\u7c7b\u4f3cnumpy\u7684\u521b\u5efa\u5f20\u91cf\u65b9\u5f0f","text":"<p>\u5728 TensorFlow \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u591a\u79cd\u65b9\u5f0f\u521b\u5efa\u5f20\u91cf\uff0c\u5982\u4ece Python \u5217\u8868\u5bf9\u8c61\u521b\u5efa\uff0c\u4eceNumpy \u6570\u7ec4\u521b\u5efa\uff0c\u6216\u8005\u521b\u5efa\u91c7\u6837\u81ea\u67d0\u79cd\u5df2\u77e5\u5206\u5e03\u7684\u5f20\u91cf\u7b49\u3002</p> <p>\u521b\u5efa\u5168\u4e3a 0 \u6216\u5168\u4e3a 1 \u7684\u5f20\u91cf</p> <pre><code>H.get_param(\"tf.zeros\")\nH.get_param(\"tf.ones\")\nH.get_param(\"tf.zeros_like\")\nH.get_param(\"tf.ones_like\")\n\ntf.zeros(2)\ntf.zeros((2, 2))\ntf.zeros((2, 2, 2))\ntf.zeros_like((2, 2))\n\ntf.ones(8)\ntf.ones_like((2, 2))\n\n# Get memory attribute\ntf.size(tf.ones((8, 2, 2)))\ntf.shape(tf.ones((8, 2, 2)))\n</code></pre> <pre><code>---------------------------------------------------------------------------ValueError\nTraceback (most recent call last)&lt;ipython-input-1-c0ab17b72fa3&gt; in\n&lt;module&gt;\n----&gt; 1 H.get_param(\"tf.zeros\")\n      2 H.get_param(\"tf.ones\")\n      3 H.get_param(\"tf.zeros_like\")\n      4 H.get_param(\"tf.ones_like\")\n      5\nC:\\Data\\Documents\\PythonProject\\04.Python\\toolkit\\Help.py in\nget_param(obj, global_dict, width, is_print)\n    440             obj = eval(obj, global_dict)\n    441         elif isinstance(obj, str) and global_dict is None:\n--&gt; 442             raise ValueError(\"global_dict is None!\")\n    443         else:\n    444             if hasattr(obj, \"__name__\"):\nValueError: global_dict is None!\n</code></pre> <p>\u521b\u5efa\u81ea\u5b9a\u4e49\u6570\u503c\u5f20\u91cf</p> <pre><code>## \u521b\u5efa\u6807\u91cf\ntf.fill(dims=[],value=8)\n\ntf.fill(dims=(8,4),value=8)\ntf.fill(dims=(1,8),value=8)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-2bc2f0c9b03f&gt; in\n&lt;module&gt;\n      1 ## \u521b\u5efa\u6807\u91cf\n----&gt; 2 tf.fill(dims=[],value=8)\n      3\n      4 tf.fill(dims=(8,4),value=8)\n      5 tf.fill(dims=(1,8),value=8)\nNameError: name 'tf' is not defined\n</code></pre> <p>\u521b\u5efa\u5355\u4f4d\u77e9\u9635</p> <pre><code>tf.eye(8)\n\ntf.identity([[1, 2, 3], [4, 5, 6]])\ntf.reshape(tf.ones(8), shape=(2, 4), name=None)\n\ntensor = tf.constant([[1, 2, 3], [4, 5, 6]])\ntf.shape_n([tensor, tensor])\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-19833cdb5607&gt; in\n&lt;module&gt;\n----&gt; 1 tf.eye(8)\n      2\n      3 tf.identity([[1, 2, 3], [4, 5, 6]])\n      4 tf.reshape(tf.ones(8), shape=(2, 4), name=None)\n      5\nNameError: name 'tf' is not defined\n</code></pre> <p>\u7d22\u5f15\u65b9\u6cd5</p> <pre><code># https://zhuanlan.zhihu.com/p/45673869\nH.get_param(tf.gather)\nH.get_param(tf.gather_nd)\nH.get_param(tf.where)\n\n\nparams = tf.constant(['p0', 'p1', 'p2', 'p3', 'p4', 'p5'])\nparams[3].numpy()\n\ntf.gather(params, 3).numpy()\n\n# tf.strided_slice\n# tf.slice\n\n\n\nimport numpy as np\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-b98fe2f4019d&gt; in\n&lt;module&gt;\n      1 # https://zhuanlan.zhihu.com/p/45673869\n----&gt; 2 H.get_param(tf.gather)\n      3 H.get_param(tf.gather_nd)\n      4 H.get_param(tf.where)\n      5\nNameError: name 'tf' is not defined\n</code></pre> <p>\u62fc\u63a5\u62c6\u5206</p> <pre><code>H.get_param(tf.stack)\nH.get_param(tf.unstack)\nH.get_param(tf.concat)\n\na = tf.constant([[0, 1, 2], [3, 4, 5]])\nb = tf.constant([[6, 7, 8], [9, 10, 11]])\n\ntf.stack([a, b], axis=0)\n\n# a = np.array([[0, 1, 2], [3, 4, 5]])\n# b = np.array([[6, 7, 8], [9, 10, 11]])\n# np.stack([a, b])\n\nc = tf.stack([a, b], axis=0)\ntf.unstack(c, axis=0)\ntf.unstack(c, axis=1)\n\nd = tf.constant([[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10, 11]])\ntf.unstack(d, num=4, axis=0)\n\n\na = tf.constant([[0, 1, 2], [3, 4, 5]])\nb = tf.constant([[6, 7, 8], [9, 10, 11]])\ntf.concat([a, b], axis=0, name=\"concat\")\ntf.concat([a, b], axis=1, name=\"concat\")\n\n\ntf.repeat([[1,2], [3,4]], repeats=2)\n\n\ntf.repeat([[1,2], [3,4]], repeats=2)\ny, idx = tf.unique(tf.repeat([[1,2], [3,4]], repeats=2))\n\na, b, c = tf.unique_with_counts(tf.repeat([[1,2], [3,4]], repeats=2))\n\n\n# https://www.tensorflow.org/api_docs/python/tf/squeeze?hl=zh-cn\n# tensor = tf.constant([[1, 2, 3], [4, 5, 6]])\n# tf.squeeze(tensor)\n\n# https://www.tensorflow.org/api_docs/python/tf/split?hl=zh-cn\ntf.split(tf.constant([[1, 2, 3], [4, 5, 6]]), num_or_size_splits=2)\n\n\n# \u6682\u65f6\u5ffd\u7565\ntf.one_hot(10, 5)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-c320c19bd190&gt; in\n&lt;module&gt;\n----&gt; 1 H.get_param(tf.stack)\n      2 H.get_param(tf.unstack)\n      3 H.get_param(tf.concat)\n      4\n      5 a = tf.constant([[0, 1, 2], [3, 4, 5]])\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_5","title":"\u521b\u5efa\u5b57\u7b26\u4e32","text":"<pre><code>string = tf.constant(\"Hello, tensorflow.\")\nstring\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-92d78756ae61&gt; in\n&lt;module&gt;\n----&gt; 1 string = tf.constant(\"Hello, tensorflow.\")\n      2 string\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_6","title":"\u5b57\u7b26\u4e32\u7684\u957f\u5ea6","text":"<pre><code>tf.strings.length(string)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-177f41bc3a4f&gt; in\n&lt;module&gt;\n----&gt; 1 tf.strings.length(string)\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_7","title":"\u5927\u5c0f\u5199\u8f6c\u6362","text":"<p>\u5c06\u6bcf\u4e2a\u5b57\u7b26\u4e32\u7684\u5b57\u6bcd\u90fd\u8f6c\u6362\u4e3a\u5c0f\u5199</p> <pre><code>tf.strings.lower(string)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-4ea9e2a263e0&gt; in\n&lt;module&gt;\n----&gt; 1 tf.strings.lower(string)\nNameError: name 'tf' is not defined\n</code></pre> <p>\u5c06\u6bcf\u4e2a\u5b57\u7b26\u4e32\u7684\u5b57\u6bcd\u90fd\u8f6c\u6362\u4e3a\u5927\u5199</p> <pre><code>tf.strings.upper(string)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-4e97559bfd87&gt; in\n&lt;module&gt;\n----&gt; 1 tf.strings.upper(string)\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_8","title":"\u62c6\u5206\u5b57\u7b26\u4e32","text":"<pre><code>tf.strings.split(string, ',')\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-8a6fa1ef9bbc&gt; in\n&lt;module&gt;\n----&gt; 1 tf.strings.split(string, ',')\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_9","title":"\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32","text":"<pre><code>tf.strings.as_string([1,2,3,4])\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-049782ba4685&gt; in\n&lt;module&gt;\n----&gt; 1 tf.strings.as_string([1,2,3,4])\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_10","title":"\u5b57\u7b26\u4e32\u5408\u5e76","text":"<pre><code>tf.strings.join(inputs=[\"I\", \"Tiananmen Square\"], separator=\" love \")\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-903ad7d9f374&gt; in\n&lt;module&gt;\n----&gt; 1 tf.strings.join(inputs=[\"I\", \"Tiananmen Square\"], separator=\"\nlove \")\nNameError: name 'tf' is not defined\n</code></pre> <p><code>tf.strings.reduce_join</code>\u7c7b\u4f3c\u4e8e<code>tf.strings.join</code>\u3002</p> <pre><code>tf.strings.reduce_join(inputs, axis=None, keepdims=False, \n                        separator='', name=None)\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#n-grams","title":"\u521b\u5efan-grams\u7684\u5f20\u91cf","text":"<pre><code>tf.strings.ngrams(data, ngram_width, separator=' ', pad_values=None, \n                  padding_width=None, preserve_short_sequences=False, name=None)\n</code></pre> <ul> <li><code>ngram_width</code>\uff1a\u8981\u521b\u5efa\u7684ngram\u7684\u5bbd\u5ea6</li> <li><code>separator</code>\uff1a\u95f4\u9694\u5b57\u7b26 ngram_width&gt;1\u65f6\u4f7f\u7528</li> </ul> <pre><code>tf.strings.ngrams([\"I\",\"love\",\"love\",\"you\",\"and\"], ngram_width=1).numpy()\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-5b0a85c0b19a&gt; in\n&lt;module&gt;\n----&gt; 1 tf.strings.ngrams([\"I\",\"love\",\"love\",\"you\",\"and\"],\nngram_width=1).numpy()\nNameError: name 'tf' is not defined\n</code></pre> <pre><code>tf.strings.ngrams([\"I\",\"love\",\"love\",\"you\",\"and\"], ngram_width=2,\n                  separator='-').numpy()\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-4f8cb139ea99&gt; in\n&lt;module&gt;\n----&gt; 1 tf.strings.ngrams([\"I\",\"love\",\"love\",\"you\",\"and\"],\nngram_width=2,\n      2                   separator='-').numpy()\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_11","title":"\u6b63\u5219\u8868\u8fbe\u5f0f\u76f8\u5173","text":"<p>\u68c0\u67e5\u8f93\u5165\u662f\u5426\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u6a21\u5f0f\u5339\u914d</p> <pre><code>tf.strings.regex_full_match(input, pattern, name=None)\n``\n\n\u7528 rewrite \u66ff\u6362 input \u4e2d\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f pattern \u5339\u914d\u7684\u5143\u7d20\n\n```python\ntf.strings.regex_replace(input, pattern, rewrite, eplace_global=True, \n                         name=None)\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_12","title":"\u53bb\u9664\u524d\u540e\u7a7a\u683c","text":"<pre><code>tf.strings.strip(\" I love \")\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-498cdd93bfc2&gt; in\n&lt;module&gt;\n----&gt; 1 tf.strings.strip(\" I love \")\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_13","title":"\u8fd4\u56de\u5b50\u5b57\u7b26\u4e32","text":"<pre><code>tf.strings.substr(input, pos, len, unit='BYTE', ame=None)\n</code></pre> <p>\u53c2\u8003</p> <p>\u5c06\u5b57\u7b26\u4e32\u6570\u5b57\u8f6c\u6362\u4e3a\u6570\u503c\u578b\u6570\u5b57\uff0c\u53ef\u4ee5\u6307\u5b9a\u7c7b\u578b</p> <pre><code>tmp_str = tf.constant([\"1\",\"2\",\"3\",\"4\"],shape=(2,2))\ntf.strings.to_number(tmp_str,out_type=tf.dtypes.float32)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-6e965d3d05e8&gt; in\n&lt;module&gt;\n----&gt; 1 tmp_str = tf.constant([\"1\",\"2\",\"3\",\"4\"],shape=(2,2))\n      2 tf.strings.to_number(tmp_str,out_type=tf.dtypes.float32)\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#boolean","title":"boolean \u7c7b\u578b","text":"<pre><code>bool_tmp = tf.constant(True)\nP(bool_tmp is True) # is \u5728python\u4e2d\u7528\u4e8e\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u4e00\u81f4\nP(bool_tmp == True)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-805b80edc4d4&gt; in\n&lt;module&gt;\n----&gt; 1 bool_tmp = tf.constant(True)\n      2 P(bool_tmp is True) # is \u5728python\u4e2d\u7528\u4e8e\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u4e00\u81f4\n      3 P(bool_tmp == True)\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_14","title":"\u6570\u503c\u7cbe\u5ea6","text":"<p>\u5217\u4e3etensorflow\u6240\u6709\u7c7b\u578b</p> <pre><code>[i for i in dir(tf.dtypes) if not i.startswith(\"_\")]\n\n# tf.int8 tf.int16 tf.int32 tf.int64 \n# tf.float16 tf.float32 tf.float64(tf.double)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-1a29d41cc047&gt; in\n&lt;module&gt;\n----&gt; 1 [i for i in dir(tf.dtypes) if not i.startswith(\"_\")]\n      2\n      3 # tf.int8 tf.int16 tf.int32 tf.int64\n      4 # tf.float16 tf.float32 tf.float64(tf.double)\nNameError: name 'tf' is not defined\n</code></pre> <p>\u4fdd\u5b58\u7cbe\u5ea6\u8fc7\u4f4e\uff0c\u6ea2\u51fa</p> <pre><code>P(tf.constant(123456789, dtype=tf.int16))\nP(tf.constant(123456789, dtype=tf.int32))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-a4f359e25774&gt; in\n&lt;module&gt;\n----&gt; 1 P(tf.constant(123456789, dtype=tf.int16))\n      2 P(tf.constant(123456789, dtype=tf.int32))\nNameError: name 'P' is not defined\n</code></pre> <p>\u4fdd\u5b58\u7684\u7cbe\u5ea6\u4f4e\uff0c\u5c0f\u6570\u4f4d\u56db\u820d\u4e94\u5165</p> <pre><code>P(np.pi)\nP(tf.constant(np.pi, dtype = tf.float32))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-3303ce96f905&gt; in\n&lt;module&gt;\n----&gt; 1 P(np.pi)\n      2 P(tf.constant(np.pi, dtype = tf.float32))\nNameError: name 'P' is not defined\n</code></pre> <p>\u9ad8\u7cbe\u5ea6\u4fdd\u5b58</p> <pre><code>P(tf.constant(np.pi, dtype = tf.float64))\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-aaacd9b546b8&gt; in\n&lt;module&gt;\n----&gt; 1 P(tf.constant(np.pi, dtype = tf.float64))\nNameError: name 'P' is not defined\n</code></pre> <p>\u83b7\u53d6\u6570\u636e\u7c7b\u578b\u4fe1\u606f</p> <pre><code>a = tf.constant(np.pi, dtype = tf.float64)\na.dtype\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-bcff1cbb31ef&gt; in\n&lt;module&gt;\n----&gt; 1 a = tf.constant(np.pi, dtype = tf.float64)\n      2 a.dtype\nNameError: name 'tf' is not defined\n</code></pre> <p>\u6539\u53d8\u6570\u636e\u7c7b\u578b \u8fd4\u56de\u65b0\u7684\u5bf9\u8c61</p> <pre><code>tf.cast(a, tf.float32)\ntf.dtypes.cast(a, tf.float32)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-1d92330df2cd&gt; in\n&lt;module&gt;\n----&gt; 1 tf.cast(a, tf.float32)\n      2 tf.dtypes.cast(a, tf.float32)\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_15","title":"\u5f85\u4f18\u5316\u5f20\u91cf","text":"<pre><code>a = tf.constant([1,2])\nb = tf.Variable(a)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-a10bb0a1a6f1&gt; in\n&lt;module&gt;\n----&gt; 1 a = tf.constant([1,2])\n      2 b = tf.Variable(a)\nNameError: name 'tf' is not defined\n</code></pre> <p><code>nametrainable</code> \u662f <code>Variable</code> \u7279\u6709\u7684\u5c5e\u6027\u3002<code>name</code>\u5c5e\u6027\u7528\u4e8e\u547d\u540d\u8ba1\u7b97\u56fe\u4e2d\u7684\u53d8\u91cf\u3002<code>trainable</code> \u5c5e\u6027\u8868\u793a\u5f53\u524d\u5f20\u91cf\u662f\u90fd\u9700\u8981\u88ab\u4f18\u5316\uff0c\u521b\u5efa<code>Variable</code>\u9ed8\u8ba4\u5f00\u542f\u4f18\u5316\u3002</p> <pre><code>b.trainable\nb.name\n</code></pre> <pre><code>---------------------------------------------------------------------------AttributeError\nTraceback (most recent call last)&lt;ipython-input-1-cfae1120cb50&gt; in\n&lt;module&gt;\n----&gt; 1 b.trainable\n      2 b.name\nAttributeError: 'numpy.ndarray' object has no attribute 'trainable'\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_16","title":"\u521b\u5efa\u5df2\u77e5\u5206\u5e03\u7684\u5f20\u91cf","text":""},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_17","title":"\u6b63\u6001\u5206\u5e03","text":"<pre><code>tf.random.normal(shape, mean=0.0, stddev=1.0, dtype=&lt;dtype: 'float32'&gt;, \n                 seed=None, name=None)\n</code></pre> <pre><code>## \u5747\u503c\u4e3a0 \u6807\u51c6\u5dee\u4e3a1\ntf.random.normal((2,2))\n## \u5747\u503c\u4e3a1 \u6807\u51c6\u5dee\u4e3a10\ntf.random.normal((2,2),mean = 1, stddev = 10)\n\ntf.random.normal((2,2),mean = [1,2], stddev = [10,20])\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-ddace75a9039&gt; in\n&lt;module&gt;\n      1 ## \u5747\u503c\u4e3a0 \u6807\u51c6\u5dee\u4e3a1\n----&gt; 2 tf.random.normal((2,2))\n      3 ## \u5747\u503c\u4e3a1 \u6807\u51c6\u5dee\u4e3a10\n      4 tf.random.normal((2,2),mean = 1, stddev = 10)\n      5\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#_18","title":"\u5747\u5300\u5206\u5e03","text":"<pre><code>tf.random.uniform(shape, minval=0, maxval=None, dtype=&lt;dtype: 'float32'&gt;, \n                  seed=None, name=None)\n</code></pre> <pre><code>## \u533a\u95f4[0,1]\u7684\u5747\u5300\u5206\u5e03\ntf.random.uniform((2,2))\n## \u533a\u95f4[-1,1]\u7684\u5747\u5300\u5206\u5e03\ntf.random.uniform((2,2),minval=-1,maxval=1)\n## \u5747\u5300\u91c7\u6837int\u578b\u6570\u636e\ntf.random.uniform((2,2),minval=-10, maxval=100, dtype=tf.int32)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-8698183e062e&gt; in\n&lt;module&gt;\n      1 ## \u533a\u95f4[0,1]\u7684\u5747\u5300\u5206\u5e03\n----&gt; 2 tf.random.uniform((2,2))\n      3 ## \u533a\u95f4[-1,1]\u7684\u5747\u5300\u5206\u5e03\n      4 tf.random.uniform((2,2),minval=-1,maxval=1)\n      5 ## \u5747\u5300\u91c7\u6837int\u578b\u6570\u636e\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.2.%E5%88%9B%E5%BB%BA%E5%BC%A0%E9%87%8F.html#gamma","title":"gamma\u5206\u5e03","text":"<pre><code>tf.random.gamma(shape, alpha, beta=None, dtype=&lt;dtype: 'float32'&gt;, \n                seed=None, name=None)\n</code></pre> <pre><code>tf.random.gamma((2,2),alpha=1,beta=2)\n\n## poisson\u5206\u5e03\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-4e3ba041d03d&gt; in\n&lt;module&gt;\n----&gt; 1 tf.random.gamma((2,2),alpha=1,beta=2)\n      2\n      3 ## poisson\u5206\u5e03\nNameError: name 'tf' is not defined\n</code></pre> <pre><code>tf.random.poisson(shape, lam, dtype=&lt;dtype: 'float32'&gt;, \n                  seed=None, name=None)\n</code></pre> <pre><code>tf.random.poisson((2, 2), lam=[2, 3])\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-941bac21ff7b&gt; in\n&lt;module&gt;\n----&gt; 1 tf.random.poisson((2, 2), lam=[2, 3])\nNameError: name 'tf' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html","title":"12.3.\u5f20\u91cf\u8fdb\u9636\u64cd\u4f5c","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.05.28\ntensorflow version:  2.1.0\n</code></pre>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_1","title":"\u7d22\u5f15\u4e0e\u5207\u7247","text":"<p>tensorflow \u7684\u7d22\u5f15\u64cd\u4f5c\u6bd4\u8f83\u7b80\u5355\uff0c\u5c31\u662fPython\u5e38\u7528\u7684\u6574\u6570\u7d22\u5f15\u548c\u5207\u7247\u3002</p> <pre><code># \u4e00\u5171\u67094\u5f20\u56fe\u7247\n# \u6bcf\u5f20\u56fe\u7247\u7684\u5927\u5c0f\u4e3a 32*32\n# \u6bcf\u4e00\u4e2a\u50cf\u7d20\u70b9\u7531 3\u4e2a rgb\u503c\u7ec4\u6210\nx = tf.random.normal([4, 32, 32, 3])\n\n# \u7b2c\u4e00\u5f20\u56fe\u7247 \u7b2c\u4e8c\u884c \u7b2c\u4e8c\u5217\u7684\u50cf\u7d20\nx[1][1][1]\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(3,), dtype=float32, numpy=array([0.13605669,\n0.43695715, 0.85433054], dtype=float32)&gt;\n</code></pre>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_2","title":"\u7ef4\u5ea6\u64cd\u7eb5","text":"<pre><code>x = tf.range(96)\nx = tf.reshape(x, [2, 4, 4, 3])\nx = tf.reshape(x, [-1, 2])\n</code></pre>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_3","title":"\u63d2\u5165\u7ef4\u5ea6","text":"<p>\u5728\u7b2cx\u4e2a\u8f74\u4e4b\u524d\u63d2\u5165\u4e00\u4e2a\u8f74</p> <pre><code>y = tf.expand_dims(x, axis=1)\ny.shape\n</code></pre> <pre><code>TensorShape([48, 1, 2])\n</code></pre>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#1","title":"\u5220\u9664\u957f\u5ea6\u4e3a1\u7684\u8f74","text":"<p>\u4e0d\u6307\u5b9aaxis \u5219\u9ed8\u8ba4\u5220\u9664\u6240\u6709\u957f\u5ea6\u4e3a1\u7684\u8f74</p> <pre><code>y = tf.squeeze(y, axis=1)\ny.shape\n</code></pre> <pre><code>TensorShape([48, 2])\n</code></pre>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_4","title":"\u4ea4\u6362\u7ef4\u5ea6","text":"<p>\u4ea4\u6362\u7ef4\u5ea6\u4e4b\u540e\uff0c\u5185\u5b58\u4e2d\u5143\u7d20\u7684\u50a8\u5b58\u987a\u5e8f\u6539\u53d8\uff0c\u56e0\u6b64\u4ea4\u6362\u7ef4\u5ea6\u7684\u8ba1\u7b97\u4ee3\u4ef7\u6bd4\u6539\u53d8\u89c6\u56fe\u5f62\u72b6\u8981\u9ad8\u3002</p> <pre><code>z = tf.transpose(y, perm=[1,0])\nz.shape\n</code></pre> <pre><code>TensorShape([2, 48])\n</code></pre>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_5","title":"\u590d\u5236\u6570\u636e","text":"<pre><code>b = tf.constant([1, 2])\nP(b.shape)\nb = tf.expand_dims(b, axis=0)\nP(b.shape)\nb = tf.tile(b, multiples=[2, 1])\nP(b.shape)\n</code></pre> <pre><code>TensorShape([2])\nTensorShape([1, 2])\nTensorShape([2, 2])\n</code></pre> <p><code>multiples</code> \u5206\u522b\u6307\u5b9a\u4e86\u6bcf\u4e2a\u7ef4\u5ea6\u4e0a\u9762\u7684\u590d\u5236\u500d\u6570\uff0c\u5bf9\u5e94\u4f4d\u7f6e\u4e3a<code>1</code>\u8868\u660e\u4e0d\u590d\u5236\uff0c\u4e3a<code>2</code>\u8868\u660e\u65b0\u957f\u5ea6\u4e3a\u539f\u6765\u957f\u5ea6\u76842 \u500d\uff0c\u5373\u6570\u636e\u590d\u5236\u4e00\u4efd\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002</p>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_6","title":"\u5e7f\u64ad","text":"<p>broadcasting \u7684\u6548\u679c\u548c <code>tf.tile</code> \u4e00\u6837\u3002</p>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_7","title":"\u7b97\u672f\u8fd0\u7b97","text":"<pre><code>a = tf.range(4)\nb = tf.constant(2)\n</code></pre> <p>\u9664</p> <pre><code>a/b\ntf.divide(a,b)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(4,), dtype=float64, numpy=array([0. , 0.5, 1. ,\n1.5])&gt;\n</code></pre> <p>\u53d6\u4f59</p> <pre><code>a%b\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(4,), dtype=int32, numpy=array([0, 1, 0, 1])&gt;\n</code></pre> <p>\u5e73\u65b9\u8fd0\u7b97</p> <pre><code>a**2\ntf.square(a)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(4,), dtype=int32, numpy=array([0, 1, 4, 9])&gt;\n</code></pre> <p>\u5e42\u8fd0\u7b97</p> <pre><code>a**b\ntf.pow(a,b)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(4,), dtype=int32, numpy=array([0, 1, 4, 9])&gt;\n</code></pre> <p>\u5f00\u6839\u53f7 (\u5fc5\u987b\u662f\u6d6e\u70b9\u6570)</p> <pre><code>tf.sqrt(tf.constant(9.0))\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(), dtype=float32, numpy=3.0&gt;\n</code></pre> <p>\u6307\u6570</p> <pre><code>2**a\n# \u5fc5\u987b\u662f\u6d6e\u70b9\u6570\ntf.exp(3.0)\nnp.e**3.0\n</code></pre> <pre><code>20.085536923187664\n</code></pre> <p>\u5bf9\u6570</p> <p>\u5982\u679c\u5e0c\u671b\u8ba1\u7b97\u5176\u5b83\u5e95\u6570\u7684\u5bf9\u6570\uff0c\u6682\u65f6\u53ea\u80fd\u901a\u8fc7\u6362\u5e95\u516c\u5f0f\u5b9e\u73b0</p> <pre><code>tf.math.log(tf.constant(9.0))\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(), dtype=float32, numpy=2.1972246&gt;\n</code></pre> <p>\u77e9\u9635\u4e58\u6cd5</p> <pre><code>a = tf.constant([[2,2], [1,2]])\nb = tf.constant([[2,3], [1,1]])\nprint(a)\nprint(b)\n\ntf.matmul(a, b)\n</code></pre> <pre><code>tf.Tensor(\n[[2 2]\n [1 2]], shape=(2, 2), dtype=int32)\ntf.Tensor(\n[[2 3]\n [1 1]], shape=(2, 2), dtype=int32)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2, 2), dtype=int32, numpy=\narray([[6, 8],\n       [4, 5]])&gt;\n</code></pre>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_8","title":"\u5408\u5e76","text":"<pre><code>a = tf.random.normal([4,35,8])\nb = tf.random.normal([6,35,8])\n</code></pre> <p>\u4e0d\u9700\u8981\u5408\u5e76\u7684\u7ef4\u5ea6\u7684\u5927\u5c0f\u5fc5\u987b\u5b8c\u5168\u76f8\u7b49</p> <pre><code>tf.concat([a,b], axis=0)\ntf.concat([a,b], axis=0).shape\n</code></pre> <pre><code>TensorShape([10, 35, 8])\n</code></pre>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_9","title":"\u5806\u53e0","text":"<pre><code>a = tf.random.normal([35,8])\nb = tf.random.normal([35,8])\nP(tf.stack([a,b], axis=0).shape)\n\na = tf.random.normal([35,8])\nb = tf.random.normal([35,8])\nP(tf.stack([a,b], axis=-1).shape)\n</code></pre> <pre><code>TensorShape([2, 35, 8])\nTensorShape([35, 8, 2])\n</code></pre>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_10","title":"\u62c6\u5206","text":"<pre><code>x = tf.random.normal([10, 35, 8])\n# \u7b49\u957f\u5207\u5272\u4e3a 10 \u4efd\nresult = tf.split(x, num_or_size_splits=10, axis=0)\nlen(result) # \u8fd4\u56de 10 \u4e2a\u5f20\u91cf\u7ec4\u6210\u7684\u5217\u8868\n</code></pre> <pre><code>10\n</code></pre> <p>\u7279\u522b\u5730\uff0c\u5982\u679c\u5e0c\u671b\u5728\u67d0\u4e2a\u7ef4\u5ea6\u4e0a\u5168\u90e8\u6309\u957f\u5ea6\u4e3a 1 \u7684\u65b9\u5f0f\u5206\u5272\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 <code>tf.unstack(x, axis)</code>\u51fd\u6570\u3002\u8fd9\u79cd\u65b9\u5f0f\u662f <code>tf.split</code> \u7684\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\uff0c\u5207\u5272\u957f\u5ea6\u56fa\u5b9a\u4e3a 1\uff0c\u53ea\u9700\u8981\u6307\u5b9a\u5207\u5272\u7ef4\u5ea6\u7684\u7d22\u5f15\u53f7\u5373\u53ef\u3002</p> <pre><code>x = tf.random.normal([10,35,8])\nresult = tf.unstack(x,axis=0) # Unstack \u4e3a\u957f\u5ea6\u4e3a 1 \u7684\u5f20\u91cf\nlen(result) # \u8fd4\u56de 10 \u4e2a\u5f20\u91cf\u7684\u5217\u8868\n</code></pre> <pre><code>10\n</code></pre>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_11","title":"\u7edf\u8ba1\u8ba1\u7b97","text":""},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_12","title":"\u8303\u6570","text":"<pre><code>x = tf.ones([2,2])\ntf.norm(x,ord=1) # \u8ba1\u7b97 L1 \u8303\u6570\ntf.norm(x,ord=2) # \u8ba1\u7b97 L2 \u8303\u6570\ntf.norm(x,ord=np.inf) # \u8ba1\u7b97\u221e\u8303\u6570\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(), dtype=float32, numpy=1.0&gt;\n</code></pre>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_13","title":"\u6700\u503c\u3001\u5747\u503c\u3001\u548c","text":"<pre><code>x = tf.random.normal([2, 4])\ntf.reduce_max(x, axis=1) # \u6700\u5927\u503c\ntf.reduce_min(x, axis=1) # \u6700\u5c0f\u503c\ntf.reduce_mean(x, axis=1) # \u5747\u503c\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2,), dtype=float32, numpy=array([-0.16865723,\n0.29473132], dtype=float32)&gt;\n</code></pre> <p>\u7edf\u8ba1\u5168\u5c40\u7684\u6700\u5927\u3001\u6700\u5c0f\u3001\u5747\u503c\u3001\u548c\uff0c\u8fd4\u56de\u7684\u5f20\u91cf\u5747\u4e3a\u6807\u91cf</p> <pre><code>tf.reduce_max(x), tf.reduce_min(x), tf.reduce_mean(x)\n\ntf.reduce_sum(x,axis=-1) # \u6c42\u6700\u540e\u4e00\u4e2a\u7ef4\u5ea6\u7684\u548c\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2,), dtype=float32, numpy=array([-0.6746289,\n1.1789253], dtype=float32)&gt;\n</code></pre> <p>\u901a\u8fc7 <code>tf.argmax(x, axis)</code> \u548c <code>tf.argmin(x, axis)</code> \u53ef\u4ee5\u6c42\u89e3\u5728 <code>axis</code> \u8f74\u4e0a\uff0c<code>x</code> \u7684\u6700\u5927\u503c\u3001\u6700\u5c0f\u503c\u6240\u5728\u7684\u7d22\u5f15</p> <pre><code>tf.argmax(x)\ntf.argmin(x)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(4,), dtype=int64, numpy=array([0, 0, 1, 0],\ndtype=int64)&gt;\n</code></pre>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_14","title":"\u5f20\u91cf\u6bd4\u8f83","text":"<pre><code>#  tf.equal(a, b)\n# tf.math.greater \ud835\udc4f &gt; \ud835\udc50\n# tf.math.less \ud835\udc4f &lt; \ud835\udc50\n# tf.math.greater_equal \ud835\udc4f \u2265 \ud835\udc50\n# tf.math.less_equal \ud835\udc4f \u2264 \ud835\udc50\n# tf.math.not_equal \ud835\udc4f \u2260 \ud835\udc50\n# tf.math.is_nan \ud835\udc4f = nan\n</code></pre>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_15","title":"\u586b\u5145\u4e0e\u590d\u5236","text":"<p>\u8fd9\u91cc\u6240\u8bf4\u7684\u586b\u5145\u5b9e\u9645\u4e0a\u662f\u63d2\u5165</p> <pre><code>a = tf.constant([1,2,3,4,5,6]) # \u7b2c\u4e00\u4e2a\u53e5\u5b50\nb = tf.constant([7,8,1,6])     # \u7b2c\u4e8c\u4e2a\u53e5\u5b50\nb = tf.pad(b, [[0,2]])         # \u53e5\u5b50\u672b\u5c3e\u586b\u5145 2 \u4e2a 0\nb\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(6,), dtype=int32, numpy=array([7, 8, 1, 6, 0, 0])&gt;\n</code></pre>"},{"location":"Python3/TensorFlow/12.3.%E5%BC%A0%E9%87%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C.html#_16","title":"\u6570\u636e\u9650\u5e45\u8fd0\u7b97","text":"<pre><code>x = tf.range(9)\nP(tf.maximum(x, 2)) # \u4e0b\u9650\u5e45\u5230 2\nP(tf.minimum(x, 7)) # \u4e0a\u9650\u5e45\u5230 7\nP(tf.minimum(x, 11))\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(9,), dtype=int32, numpy=array([2, 2, 2, 3, 4, 5, 6,\n7, 8])&gt;\n&lt;tf.Tensor: shape=(9,), dtype=int32, numpy=array([0, 1, 2, 3, 4, 5, 6,\n7, 7])&gt;\n&lt;tf.Tensor: shape=(9,), dtype=int32, numpy=array([0, 1, 2, 3, 4, 5, 6,\n7, 8])&gt;\n</code></pre> <p>\u9ad8\u7ea7\u64cd\u4f5c</p> <pre><code>x = tf.random.uniform([4, 5, 6], maxval=100, dtype=tf.int32)\ntf.gather(x, [0,1], axis=0)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(2, 5, 6), dtype=int32, numpy=\narray([[[20, 91, 41, 61, 83,  7],\n        [28, 74,  8, 56, 23, 28],\n        [21, 71, 19, 35, 85, 24],\n        [59, 96, 14, 87, 17, 22],\n        [65, 27, 42, 94, 52, 94]],\n\n       [[35, 66, 70,  6, 18, 99],\n        [90, 15, 85, 12, 74, 20],\n        [ 4, 97, 55, 91, 90,  1],\n        [79, 74, 81, 83, 78,  9],\n        [85, 32, 71,  1,  9, 28]]])&gt;\n</code></pre> <p>\u5b9e\u9645\u4e0a\uff0c\u5bf9\u4e8e\u4e0a\u8ff0\u9700\u6c42\uff0c\u901a\u8fc7\u5207\u7247<code>y[:2]</code>\u53ef\u4ee5\u66f4\u52a0\u65b9\u4fbf\u5730\u5b9e\u73b0\u3002\u4f46\u662f\u5bf9\u4e8e\u4e0d\u89c4\u5219\u7684\u7d22\u5f15\u65b9\u5f0f\uff0c\u6bd4\u5982\uff0c\u9700\u8981\u62bd\u53d6\u7b2c\u4e8c\u8f74\u7d22\u5f15\u4e3a 0\u30012\u30013 \u7684\u6570\u636e\uff0c\u5219\u5207\u7247\u65b9\u5f0f\u5b9e\u73b0\u8d77\u6765\u975e\u5e38\u9ebb\u70e6\uff0c\u800c <code>tf.gather</code> \u5219\u662f\u9488\u5bf9\u4e8e\u6b64\u9700\u6c42\u8bbe\u8ba1\u7684\uff0c\u4f7f\u7528\u8d77\u6765\u66f4\u52a0\u65b9\u4fbf\u3002</p> <pre><code>tf.gather(x,[0, 2, 3], axis=1)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(4, 3, 6), dtype=int32, numpy=\narray([[[20, 91, 41, 61, 83,  7],\n        [21, 71, 19, 35, 85, 24],\n        [59, 96, 14, 87, 17, 22]],\n\n       [[35, 66, 70,  6, 18, 99],\n        [ 4, 97, 55, 91, 90,  1],\n        [79, 74, 81, 83, 78,  9]],\n\n       [[90, 46,  9, 12, 51, 19],\n        [99, 16, 88, 28, 24, 73],\n        [79, 28, 45, 55, 66, 84]],\n\n       [[73, 33,  4, 57, 75, 86],\n        [95, 46, 59, 67, 48, 67],\n        [20, 89, 20, 94, 87, 38]]])&gt;\n</code></pre> <p>\u901a\u8fc7 <code>tf.gather_nd</code> \u51fd\u6570\uff0c\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a\u6bcf\u6b21\u91c7\u6837\u70b9\u7684\u591a\u7ef4\u5750\u6807\u6765\u5b9e\u73b0\u91c7\u6837\u591a\u4e2a\u70b9\u7684\u76ee\u7684\uff1a</p> <pre><code>tf.gather_nd(x, [[1,1], [2,2], [3,3]])\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(3, 6), dtype=int32, numpy=\narray([[90, 15, 85, 12, 74, 20],\n       [99, 16, 88, 28, 24, 73],\n       [20, 89, 20, 94, 87, 38]])&gt;\n</code></pre> <p>\u901a\u8fc7 <code>tf.where(cond, a, b)</code> \u64cd\u4f5c\u53ef\u4ee5\u6839\u636e <code>cond</code> \u6761\u4ef6\u7684\u771f\u5047\u4ece\u53c2\u6570b\u6216c\u4e2d\u8bfb\u53d6\u6570\u636e\u3002</p> <pre><code># tf.where()\n# tf.scatter_nd()\n</code></pre>"},{"location":"Python3/TensorFlow/12.4.Differentiation.html","title":"12.4.\u6c42\u5bfc","text":"<pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.21\ntensorflow version:  2.5.0\n</code></pre> <pre><code>from toolkit import H\nimport tensorflow as tf\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib\nmatplotlib.rcParams['font.family'] = \"SIMHEI\"\nmatplotlib.rcParams['axes.unicode_minus'] = False\n</code></pre>"},{"location":"Python3/TensorFlow/12.4.Differentiation.html#_1","title":"\u81ea\u52a8\u6c42\u5bfc","text":"<p>TensorFlow \u4e3a\u81ea\u52a8\u5fae\u5206\u63d0\u4f9b\u4e86<code>tf.GradientTape</code>API\u3002TensorFlow \u4f1a\u628a<code>tf.GradientTape</code>\u4e0a\u4e0b\u6587\u4e2d\u6267\u884c\u7684\u6240\u6709\u8ba1\u7b97\u6b65\u9aa4\u90fd\u8bb0\u5f55\u5728 tape \u4e4b\u4e2d\u3002\u7136\u540e\u57fa\u4e8e\u8fd9\u4e2a tape \u548c\u6bcf\u6b21\u64cd\u4f5c\u4ea7\u751f\u7684\u5bfc\u6570\uff0c\u7528\u53cd\u5411\u5fae\u5206\u6cd5\uff08reverse mode differentiation\uff09\u6765\u8ba1\u7b97\u8fd9\u4e9b\u88ab\u201c\u8bb0\u5f55\u5728\u6848\u201d\u7684\u51fd\u6570\u7684\u5bfc\u6570\u3002</p> <pre><code># \u5148\u521b\u5efa\u4e00\u4e2a\u5f85\u4f18\u5316\u7684\u5f20\u91cf\nx = tf.Variable(initial_value=3.)\nprint(\"x trainable:\", x.trainable)\n\n# \u5728 tf.GradientTape() \u7684\u4e0a\u4e0b\u6587\u5185\uff0c\u6240\u6709\u8ba1\u7b97\u6b65\u9aa4\u90fd\u4f1a\u88ab\u8bb0\u5f55\u4ee5\u7528\u4e8e\u6c42\u5bfc\nwith tf.GradientTape() as tape:\n    y = tf.square(x)\n\n# \u8ba1\u7b97y\u5173\u4e8ex\u7684\u5bfc\u6570\ny_grad = tape.gradient(y, x)\nprint(y_grad)\n</code></pre> <pre><code>x trainable: True\ntf.Tensor(6.0, shape=(), dtype=float32)\n</code></pre> <p>\u5982\u679c\u5f85\u6c42\u5bfc\u7684\u5f20\u91cf\u5e76\u4e0d\u662f\u5f85\u4f18\u5316\u5f20\u91cf\uff0c \u5728 <code>tf.GradientTape</code> \u4e4b\u4e2d\u8c03\u7528 <code>watch</code> \u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u8ba9 TensorFlow \u8ddf\u8e2a\u5f20\u91cf\u7684\u53d8\u5316\u3002</p> <pre><code>x = tf.constant(3.)\n\nwith tf.GradientTape() as tape:\n    tape.watch(x)\n    y = tf.square(x)\n\ny_grad = tape.gradient(y, x)\nprint(y_grad)\n</code></pre> <pre><code>tf.Tensor(6.0, shape=(), dtype=float32)\n</code></pre> <p><code>GradientTape</code> \u4f1a\u8bb0\u5f55\u6240\u6709\u6267\u884c\u7684\u64cd\u4f5c\uff0c\u5373\u4f7f\u662f Python \u63a7\u5236\u6d41\uff08if \u548c while \u7684\u4ee3\u7801\u6bb5\uff09\u4e5f\u4f1a\u88ab\u8bb0\u5f55\u3002</p> <pre><code>def f(x, y):\n    output = 1.0\n    for i in range(y):\n        if i &gt; 1 and i &lt; 5:\n            output = tf.multiply(output, x)\n    return output\n\n\ndef grad(x, y):\n    with tf.GradientTape() as t:\n        t.watch(x)\n        out = f(x, y)\n    return t.gradient(out, x)\n\n\nx = tf.convert_to_tensor(2.0)\nassert grad(x, 6).numpy() == 12.0\nassert grad(x, 5).numpy() == 12.0\nassert grad(x, 4).numpy() == 4.0\n</code></pre>"},{"location":"Python3/TensorFlow/12.4.Differentiation.html#gradienttape","title":"GradientTape \u5bf9\u8c61\u6301\u4e45\u5316","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8c03\u7528 <code>GradientTape.gradient()</code> \u65b9\u6cd5\u65f6\uff0c <code>GradientTape</code> \u5360\u7528\u7684\u8d44\u6e90\u4f1a\u7acb\u5373\u5f97\u5230\u91ca\u653e\u3002\u901a\u8fc7\u521b\u5efa\u4e00\u4e2a\u6301\u4e45\u7684\u68af\u5ea6\u5e26\uff0c\u5219\u53ef\u4ee5\u8ba1\u7b97\u540c\u4e2a\u51fd\u6570\u7684\u591a\u4e2a\u5bfc\u6570\uff0c\u5373\u53ef\u4ee5\u591a\u6b21\u8c03\u7528 <code>gradient()</code> \u65b9\u6cd5\u3002\u4f8b\u5982\uff1a</p> <pre><code>x = tf.constant(3.0)\nwith tf.GradientTape(persistent=True) as t:\n    t.watch(x)\n    y = x * x\n    z = y * y\ndz_dx = t.gradient(z, x)  # 108.0 (4*x^3 at x = 3)\ndy_dx = t.gradient(y, x)  # 6.0\ndel t  # Drop the reference to the tape\n</code></pre>"},{"location":"Python3/TensorFlow/12.4.Differentiation.html#_2","title":"\u591a\u5143\u51fd\u6570\u6c42\u5bfc","text":"<pre><code>X = tf.constant([[1., 2.], [3., 4.]])\ny = tf.constant([[1.], [2.]])\nw = tf.Variable(initial_value=[[1.], [2.]])\nb = tf.Variable(initial_value=1.)\n\nwith tf.GradientTape() as tape:\n    L = 0.5 * tf.reduce_sum(tf.square(tf.matmul(X, w) + b - y))\n\n# \u8ba1\u7b97L(w, b)\u5173\u4e8ew, b\u7684\u504f\u5bfc\u6570\nw_grad, b_grad = tape.gradient(L, [w, b])\nprint(\"L:\", L.numpy())\nprint(\"w_grad:\", w_grad.numpy())\nprint(\"b_grad:\", b_grad.numpy())\n</code></pre> <pre><code>L: 62.5\nw_grad: [[35.]\n [50.]]\nb_grad: 15.0\n</code></pre>"},{"location":"Python3/TensorFlow/12.4.Differentiation.html#_3","title":"\u9ad8\u9636\u5bfc\u6570","text":"<p>\u5728 <code>GradientTape</code> \u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u4e2d\u6267\u884c\u7684\u64cd\u4f5c\u90fd\u4f1a\u88ab\u8bb0\u5f55\uff0c\u7528\u4e8e\u81ea\u52a8\u5fae\u5206\u3002\u6240\u4ee5\u5373\u4f7f\u5728\u4e0a\u4e0b\u6587\u4e2d\u8ba1\u7b97\u5bfc\u6570\uff0c\u5bfc\u6570\u4e5f\u4f1a\u88ab\u8bb0\u5f55\u4e0b\u6765\u3002\u56e0\u6b64\uff0c\u540c\u4e2a <code>GradientTape</code> \u53ef\u4ee5\u7528\u4e8e\u9ad8\u9636\u5bfc\u6570\u3002\u4f8b\u5982\uff1a</p> <pre><code>x = tf.Variable(1.0)\n\nwith tf.GradientTape() as t:\n    with tf.GradientTape() as t2:\n        y = x * x * x\n    # Compute the gradient inside the 't' context manager\n    # which means the gradient computation is differentiable as well.\n    dy_dx = t2.gradient(y, x)\nd2y_dx2 = t.gradient(dy_dx, x)\n\nassert dy_dx.numpy() == 3.0\nassert d2y_dx2.numpy() == 6.0\n</code></pre>"},{"location":"Python3/TensorFlow/12.4.Differentiation.html#numpy","title":"NumPy \u5b9e\u73b0\u68af\u5ea6\u4e0b\u964d","text":"<p>\u5236\u9020\u6837\u672c</p> <pre><code># \u968f\u673a\u91c7\u6837\nX = np.random.uniform(low=-10., high=10., size=100)\n# \u670d\u4ece\u6b63\u6001\u5206\u5e03\u7684\u566a\u97f3\neps = np.random.normal(loc=0., scale=1.5, size=100)\n# \u89c2\u5bdf\u503c\ny = 1.477 * X + 0.089 + eps\n</code></pre> <p></p> <p>\u5b9a\u4e49\u76f8\u5173\u51fd\u6570\uff1a</p> <ol> <li>\u5148\u63a8\u5bfc\u51fa\u5bfc\u6570\u516c\u5f0f</li> <li>\u5957\u7528\u5bfc\u6570\u516c\u5f0f\uff0c\u8ba1\u7b97\u635f\u5931\u51fd\u6570\u5173\u4e8e\u81ea\u53d8\u91cf\uff08\u6a21\u578b\u53c2\u6570\uff09\u7684\u68af\u5ea6</li> </ol> <pre><code># \u5b9a\u4e49mse\u635f\u5931\u51fd\u6570\ndef mse(w, b, X, y):\n    y_predict = w * X + b\n    total_error = np.sum((y - y_predict) ** 2)\n    mse = total_error / float(len(y))\n    return mse\n\n# \u66f4\u65b0\u68af\u5ea6\ndef step_gradient(w_current, b_current, X, y, learn_ratio):\n    w_gradient = 0\n    b_gradient = 0\n    num = len(y)\n    w_gradient += (2 / num) * np.sum(X * ((w_current * X + b_current) - y))\n    b_gradient += (2 / num) * np.sum((w_current * X + b_current) - y)\n    w_new = w_current - learn_ratio * w_gradient\n    b_new = b_current - learn_ratio * b_gradient\n    return w_new, b_new\n\n\ndef gradient_descent(X, y, w_start, b_start, learn_ratio, max_iter):\n    w = w_start\n    b = b_start\n    loss_l = []\n    for i in range(max_iter):\n        w, b = step_gradient(w_current=w, b_current=b,\n                             X=X, y=y, learn_ratio=learn_ratio)\n        loss = mse(w, b, X, y)\n        loss_l.append(loss)\n        print(f\"iter {i}  loss: {loss}\")\n\n    return w, b, loss_l\n</code></pre> <pre><code>w, b, loss = gradient_descent(X, y, w_start=0, b_start=0, \n                              learn_ratio=0.02, max_iter=100)\n</code></pre> <p>\\</p> <p></p>"},{"location":"Python3/TensorFlow/12.4.Differentiation.html#tensorflow","title":"TensorFlow \u5b9e\u73b0\u81ea\u52a8\u68af\u5ea6\u4e0b\u964d","text":"<ol> <li>\u4f7f\u7528 <code>tape.gradient(ys, xs)</code> \u81ea\u52a8\u8ba1\u7b97\u68af\u5ea6</li> <li>\u4f7f\u7528 <code>optimizer.apply_gradients(grads_and_vars)</code> \u81ea\u52a8\u66f4\u65b0\u6a21\u578b\u53c2\u6570</li> </ol> <pre><code>def gradient_descent_tf(X, y, w_start, b_start, lr, max_iter):\n    w = tf.Variable(initial_value=w_start)\n    b = tf.Variable(initial_value=b_start)\n    variables = [w, b]\n    optimizer = tf.keras.optimizers.SGD(learning_rate=lr)\n\n    loss_l = []\n    num = len(y)\n    for i in range(max_iter):\n        with tf.GradientTape() as tape:\n            y_pred = w * X + b\n            loss = tf.reduce_sum(tf.square(y_pred - y)) / num\n            loss_l.append(loss)\n            print(f\"iter {i}  loss: {loss}\")\n\n        # \u8ba1\u7b97\u68af\u5ea6\n        grads = tape.gradient(loss, variables)\n        optimizer.apply_gradients(grads_and_vars=zip(grads, variables))\n\n    return w.numpy(), b.numpy(), loss_l\n</code></pre> <pre><code>w, b, loss = gradient_descent_tf(X, y, 0., 0., 0.02, 100)\n</code></pre> <p>\\</p> <p></p>"},{"location":"Python3/TensorFlow/12.4.%E6%B1%82%E5%AF%BC.html","title":"12.4.\u6c42\u5bfc","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.07.04\ntensorflow version:  2.1.0\n</code></pre> <pre><code>from toolkit import H\nfrom pprint import pprint as P\nimport tensorflow as tf\nfrom tensorflow import keras\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib\nmatplotlib.rcParams['font.family'] = \"SIMHEI\"\nmatplotlib.rcParams['axes.unicode_minus'] = False\nimport copy\n</code></pre>"},{"location":"Python3/TensorFlow/12.4.%E6%B1%82%E5%AF%BC.html#_1","title":"\u81ea\u52a8\u6c42\u5bfc","text":"<p>TensorFlow \u4e3a\u81ea\u52a8\u5fae\u5206\u63d0\u4f9b\u4e86<code>tf.GradientTape</code>API\u3002Tensorflow \u4f1a\u628a<code>tf.GradientTape</code>\u4e0a\u4e0b\u6587\u4e2d\u6267\u884c\u7684\u6240\u6709\u8ba1\u7b97\u6b65\u9aa4\u90fd\u8bb0\u5f55\u5728tape\u4e4b\u4e2d\u3002\u7136\u540e\u57fa\u4e8e\u8fd9\u4e2atape\u548c\u6bcf\u6b21\u64cd\u4f5c\u4ea7\u751f\u7684\u5bfc\u6570\uff0c\u7528\u53cd\u5411\u5fae\u5206\u6cd5\uff08reverse mode differentiation\uff09\u6765\u8ba1\u7b97\u8fd9\u4e9b\u88ab\u201c\u8bb0\u5f55\u5728\u6848\u201d\u7684\u51fd\u6570\u7684\u5bfc\u6570\u3002</p> <pre><code># \u5148\u521b\u5efa\u4e00\u4e2a\u5f85\u4f18\u5316\u7684\u5f20\u91cf\nx = tf.Variable(initial_value=3.)\nprint(\"x trainable:\", x.trainable)\n\n# \u5728 tf.GradientTape() \u7684\u4e0a\u4e0b\u6587\u5185\uff0c\u6240\u6709\u8ba1\u7b97\u6b65\u9aa4\u90fd\u4f1a\u88ab\u8bb0\u5f55\u4ee5\u7528\u4e8e\u6c42\u5bfc\nwith tf.GradientTape() as tape:\n    y = tf.square(x)\n\n# \u8ba1\u7b97y\u5173\u4e8ex\u7684\u5bfc\u6570\ny_grad = tape.gradient(y, x)\ny_grad\n</code></pre> <pre><code>x trainable: True\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(), dtype=float32, numpy=6.0&gt;\n</code></pre> <p>\u5982\u679c\u5f85\u6c42\u5bfc\u7684\u5f20\u91cf\u5e76\u4e0d\u662f\u5f85\u4f18\u5316\u5f20\u91cf\uff0c \u5728<code>tf.GradientTape</code>\u4e4b\u4e2d\u8c03\u7528<code>watch</code>\u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u8ba9tensorflow\u8ddf\u8e2a\u5f20\u91cf\u7684\u53d8\u5316\u3002</p> <pre><code>x = tf.constant(3.)\n\nwith tf.GradientTape() as tape:\n    tape.watch(x)\n    y = tf.square(x)\n\ny_grad = tape.gradient(y, x)\ny_grad\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(), dtype=float32, numpy=6.0&gt;\n</code></pre>"},{"location":"Python3/TensorFlow/12.4.%E6%B1%82%E5%AF%BC.html#gradienttape-python","title":"GradientTape \u8bb0\u5f55Python\u63a7\u5236\u6d41","text":"<p>GradientTape\u4f1a\u8bb0\u5f55\u6240\u6709\u6267\u884c\u7684\u64cd\u4f5c\uff0c\u5373\u4f7f\u662fPython \u63a7\u5236\u6d41\uff08\u5982\u4f7f\u7528 if \u548c while \u7684\u4ee3\u7801\u6bb5\uff09\u4e5f\u4f1a\u88ab\u8bb0\u5f55\u3002</p> <pre><code>def f(x, y):\n  output = 1.0\n  for i in range(y):\n    if i &gt; 1 and i &lt; 5:\n      output = tf.multiply(output, x)\n  return output\n\ndef grad(x, y):\n  with tf.GradientTape() as t:\n    t.watch(x)\n    out = f(x, y)\n  return t.gradient(out, x)\n\nx = tf.convert_to_tensor(2.0)\n\nassert grad(x, 6).numpy() == 12.0\nassert grad(x, 5).numpy() == 12.0\nassert grad(x, 4).numpy() == 4.0\n</code></pre>"},{"location":"Python3/TensorFlow/12.4.%E6%B1%82%E5%AF%BC.html#gradienttape","title":"GradientTape \u5bf9\u8c61\u6301\u4e45\u5316","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8c03\u7528 <code>GradientTape.gradient()</code> \u65b9\u6cd5\u65f6\uff0c GradientTape \u5360\u7528\u7684\u8d44\u6e90\u4f1a\u7acb\u5373\u5f97\u5230\u91ca\u653e\u3002\u901a\u8fc7\u521b\u5efa\u4e00\u4e2a\u6301\u4e45\u7684\u68af\u5ea6\u5e26\uff0c\u53ef\u4ee5\u8ba1\u7b97\u540c\u4e2a\u51fd\u6570\u7684\u591a\u4e2a\u5bfc\u6570\u3002\u8fd9\u6837\u5728GradientTape\u5bf9\u8c61\u88ab\u5783\u573e\u56de\u6536\u65f6\uff0c\u5c31\u53ef\u4ee5\u591a\u6b21\u8c03\u7528 'gradient()' \u65b9\u6cd5\u3002\u4f8b\u5982\uff1a</p> <pre><code>x = tf.constant(3.0)\nwith tf.GradientTape(persistent=True) as t:\n  t.watch(x)\n  y = x * x\n  z = y * y\ndz_dx = t.gradient(z, x)  # 108.0 (4*x^3 at x = 3)\ndy_dx = t.gradient(y, x)  # 6.0\ndel t  # Drop the reference to the tape\n</code></pre>"},{"location":"Python3/TensorFlow/12.4.%E6%B1%82%E5%AF%BC.html#_2","title":"\u591a\u5143\u51fd\u6570\u6c42\u5bfc","text":"<pre><code>X = tf.constant([[1., 2.], [3., 4.]])\ny = tf.constant([[1.], [2.]])\nw = tf.Variable(initial_value=[[1.], [2.]])\nb = tf.Variable(initial_value=1.)\n\nwith tf.GradientTape() as tape:\n    L = 0.5 * tf.reduce_sum(tf.square(tf.matmul(X, w) + b - y))\n\n# \u8ba1\u7b97L(w, b)\u5173\u4e8ew, b\u7684\u504f\u5bfc\u6570\nw_grad, b_grad = tape.gradient(L, [w, b])\nprint(L.numpy())\nprint(w_grad.numpy())\nprint(b_grad.numpy())\n</code></pre> <pre><code>62.5\n[[35.]\n [50.]]\n15.0\n</code></pre>"},{"location":"Python3/TensorFlow/12.4.%E6%B1%82%E5%AF%BC.html#_3","title":"\u9ad8\u9636\u5bfc\u6570","text":"<p>\u5728 GradientTape \u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u4e2d\u6267\u884c\u7684\u64cd\u4f5c\u90fd\u4f1a\u88ab\u8bb0\u5f55\uff0c\u7528\u4e8e\u81ea\u52a8\u5fae\u5206\u3002\u6240\u4ee5\u5373\u4f7f\u5728\u4e0a\u4e0b\u6587\u4e2d\u8ba1\u7b97\u5bfc\u6570\uff0c\u5bfc\u6570\u7684\u51fd\u6570\u4e5f\u4f1a\u88ab\u8bb0\u5f55\u4e0b\u6765\u3002\u56e0\u6b64\uff0c\u540c\u4e2a GradientTape \u53ef\u4ee5\u7528\u4e8e\u9ad8\u9636\u5bfc\u6570\u3002\u4f8b\u5982\uff1a</p> <pre><code>x = tf.Variable(1.0)  # Create a Tensorflow variable initialized to 1.0\n\nwith tf.GradientTape() as t:\n  with tf.GradientTape() as t2:\n    y = x * x * x\n  # Compute the gradient inside the 't' context manager\n  # which means the gradient computation is differentiable as well.\n  dy_dx = t2.gradient(y, x)\nd2y_dx2 = t.gradient(dy_dx, x)\n\nassert dy_dx.numpy() == 3.0\nassert d2y_dx2.numpy() == 6.0\n</code></pre>"},{"location":"Python3/TensorFlow/12.4.%E6%B1%82%E5%AF%BC.html#numpy","title":"numpy\u5b9e\u73b0\u68af\u5ea6\u4e0b\u964d","text":"<p>\u5236\u9020\u6837\u672c</p> <pre><code># \u968f\u673a\u91c7\u6837 x\nX = np.random.uniform(low=-10., high=10., size=100)\n# \u670d\u4ece\u6b63\u6001\u5206\u5e03\u7684\u566a\u97f3\neps = np.random.normal(loc=0., scale=1.5, size=100)\n# \u89c2\u5bdf\u503c\ny = 1.477 * X + 0.089 + eps\n\nplt.figure()\nplt.plot(X, y, 'o')\nplt.show()\n</code></pre> <p></p> <p>\u5b9a\u4e49\u76f8\u5173\u51fd\u6570\uff1a</p> <ol> <li>\u5148\u63a8\u5bfc\u51fa\u5bfc\u6570\u516c\u5f0f</li> <li>\u5957\u7528\u5bfc\u6570\u516c\u5f0f\uff0c\u8ba1\u7b97\u635f\u5931\u51fd\u6570\u5173\u4e8e\u81ea\u53d8\u91cf\uff08\u6a21\u578b\u53c2\u6570\uff09\u7684\u68af\u5ea6</li> </ol> <pre><code># \u5b9a\u4e49mse\u635f\u5931\u51fd\u6570\ndef mse(w, b, X, y):\n    y_predict = w*X + b\n    total_error = np.sum((y - y_predict)**2)\n    mse = total_error / float(len(y))\n    return mse\n\n# \u66f4\u65b0\u68af\u5ea6\ndef step_gradient(w_current, b_current, X, y, learn_ratio):\n    w_gradient = 0\n    b_gradient = 0\n    num = len(y)\n    w_gradient += (2/num) * np.sum(X * ((w_current * X + b_current) - y))\n    b_gradient += (2/num) * np.sum((w_current * X + b_current) - y)\n    w_new = w_current - learn_ratio*w_gradient\n    b_new = b_current - learn_ratio*b_gradient\n    return w_new, b_new\n\n\ndef gradient_descent(X, y, w_start, b_start, learn_ratio, max_iter):\n    w = w_start\n    b = b_start\n    loss_l = []\n    for i in range(max_iter):\n        w,b = step_gradient(w_current=w, b_current=b, \n                            X=X, y=y, learn_ratio=learn_ratio)\n        loss = mse(w, b, X, y)\n        loss_l.append(loss)\n        print(f\"iter {i}  loss: {loss}\")\n\n    return w, b, loss_l\n</code></pre> <pre><code>w, b, loss = gradient_descent(X, y, w_start=0, b_start=0, \n                              learn_ratio=0.02, max_iter=100)\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u56e0\u4e3a$w$\u548c$b$\u7684\u521d\u59cb\u503c\u662f\u96f6\uff0c\u5f88\u63a5\u8fd1\u771f\u5b9e\u503c\uff0c\u6240\u4ee5\u8fed\u4ee3\u5f88\u5feb\u5c31\u6536\u655b\u3002</p> <p></p>"},{"location":"Python3/TensorFlow/12.4.%E6%B1%82%E5%AF%BC.html#tensorflow","title":"tensorflow\u5b9e\u73b0\u81ea\u52a8\u68af\u5ea6\u4e0b\u964d","text":"<ol> <li> <p>\u4f7f\u7528 <code>tape.gradient(ys, xs)</code> \u81ea\u52a8\u8ba1\u7b97\u68af\u5ea6</p> </li> <li> <p>\u4f7f\u7528 <code>optimizer.apply_gradients(grads_and_vars)</code> \u81ea\u52a8\u66f4\u65b0\u6a21\u578b\u53c2\u6570</p> </li> </ol> <pre><code>def gradient_descent_tf(X, y, w_start, b_start, lr, max_iter):\n    w = tf.Variable(initial_value=w_start)\n    b = tf.Variable(initial_value=b_start)\n    variables = [w, b]\n    optimizer = tf.keras.optimizers.SGD(learning_rate=lr)\n\n    loss_l = []\n    num = len(y)\n    for i in range(max_iter):\n        with tf.GradientTape() as tape:\n            y_pred = w*X + b\n            loss =  tf.reduce_sum(tf.square(y_pred - y)) / num\n            loss_l.append(loss)\n            print(f\"iter {i}  loss: {loss}\")\n\n        # \u8ba1\u7b97\u68af\u5ea6\n        grads = tape.gradient(loss, variables)\n        optimizer.apply_gradients(grads_and_vars = zip(grads,variables))\n\n    return w.numpy(), b.numpy(), loss_l\n</code></pre> <pre><code>w, b, loss = gradient_descent_tf(X, y, 0., 0., 0.02, 100)\n</code></pre> <p></p>"},{"location":"Python3/TensorFlow/12.5.%E5%8F%AF%E7%94%A8%E6%80%A7%E6%B5%8B%E8%AF%95.html","title":"12.5.\u53ef\u7528\u6027\u6d4b\u8bd5","text":"<pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.20\ntensorflow version:  2.5.0\n</code></pre>"},{"location":"Python3/TensorFlow/12.5.%E5%8F%AF%E7%94%A8%E6%80%A7%E6%B5%8B%E8%AF%95.html#gpu","title":"GPU \u53ef\u7528\u6027","text":"<pre><code>tf.test.is_gpu_available()\n</code></pre> <pre><code>False\n</code></pre> <pre><code>tf.config.list_physical_devices('GPU')\n</code></pre> <pre><code>[]\n</code></pre>"},{"location":"Python3/TensorFlow/12.5.%E5%8F%AF%E7%94%A8%E6%80%A7%E6%B5%8B%E8%AF%95.html#_1","title":"\u5217\u51fa\u673a\u5668\u7684\u8bbe\u5907","text":"<pre><code>from tensorflow.python.client import device_lib\n\ndevice_lib.list_local_devices()\n</code></pre> <pre><code>[name: \"/device:CPU:0\"\n device_type: \"CPU\"\n memory_limit: 268435456\n locality {\n }\n incarnation: 4888993433448823416]\n</code></pre>"},{"location":"Python3/TensorFlow/12.5.%E5%8F%AF%E7%94%A8%E6%80%A7%E6%B5%8B%E8%AF%95.html#tfversion","title":"<code>tf.version</code> \u6a21\u5757","text":"<pre><code># GCC \u6216\u5176\u4ed6\u7f16\u8bd1\u5668\u7684\u7248\u672c\nprint(tf.version.COMPILER_VERSION)\nprint(tf.version.GIT_VERSION)\n# tensorflow\u7684\u7248\u672c\nprint(tf.version.VERSION)\n# tensorflow GraphDef \u7684\u7248\u672c\nprint(tf.version.GRAPH_DEF_VERSION)\nprint(tf.version.GRAPH_DEF_VERSION_MIN_CONSUMER)\nprint(tf.version.GRAPH_DEF_VERSION_MIN_PRODUCER)\n</code></pre> <pre><code>8.2.1 20180905\nunknown\n2.5.0\n716\n0\n0\n</code></pre>"},{"location":"Python3/TensorFlow/12.5.%E5%8F%AF%E7%94%A8%E6%80%A7%E6%B5%8B%E8%AF%95.html#tfsysconfig","title":"<code>tf.sysconfig</code> \u6a21\u5757","text":"<pre><code># \u83b7\u53d6tensorflow\u6784\u5efa\u73af\u5883\u7684\u4fe1\u606f\nprint(tf.sysconfig.get_build_info())\n# Get the compilation flags for custom operators.\nprint(tf.sysconfig.get_compile_flags())\n# \u83b7\u53d6\u5305\u542b TensorFlow C++ header \u6587\u4ef6\u7684\u76ee\u5f55\nprint(tf.sysconfig.get_include())\n# tensorflow library \u7684\u4f4d\u7f6e\nprint(tf.sysconfig.get_lib())\n# Get the link flags for custom operators.\nprint(tf.sysconfig.get_link_flags())\n</code></pre> <pre><code>OrderedDict([('is_cuda_build', False), ('is_rocm_build', False), ('is_tensorrt_build', False)])\n['-I/home/.../lib/python3.9/site-packages/tensorflow/include', '-D_GLIBCXX_USE_CXX11_ABI=0']\n/home/.../lib/python3.9/site-packages/tensorflow/include\n/home/.../lib/python3.9/site-packages/tensorflow\n['-L/home/.../lib/python3.9/site-packages/tensorflow', '-l:libtensorflow_framework.so.2']\n</code></pre>"},{"location":"Python3/TensorFlow/12.6.Perceptron%20-%20Copy.html","title":"12.6.Perceptron   Copy","text":""},{"location":"Python3/TensorFlow/12.6.Perceptron%20-%20Copy.html#keras","title":"\u8c03\u7528keras\u611f\u77e5\u673a","text":"<pre><code>import keras\nimport tensorflow as tf\nfrom tensorflow.keras.models import Sequential\nfrom tensorflow.keras.layers import Dense, Dropout\nfrom tensorflow import sigmoid\nfrom tensorflow.keras.optimizers import RMSprop\n</code></pre> <pre><code>---------------------------------------------------------------------------ModuleNotFoundError\nTraceback (most recent call last)&lt;ipython-input-1-ce39966743ac&gt; in\n&lt;module&gt;\n----&gt; 1 import keras\n      2 import tensorflow as tf\n      3 from tensorflow.keras.models import Sequential\n      4 from tensorflow.keras.layers import Dense, Dropout\n      5 from tensorflow import sigmoid\nModuleNotFoundError: No module named 'keras'\n</code></pre> <p>\u751f\u6210\u4e00\u4e2a\u7ebf\u6027\u53ef\u5206\u7684\u6837\u672c\u96c6</p> <pre><code>X, y_0_1 = make_classification(n_samples=100, n_features=2, n_classes=2,\n                               n_informative=2, n_redundant=0,\n                               n_repeated=0,\n                               n_clusters_per_class=1, flip_y=0,\n                               random_state=3)\nX = X + 10\n</code></pre> <pre><code>y_seq = keras.utils.to_categorical(y_0_1, 2)\n\n\n\nmodel = Sequential()\nmodel.add(Dense(1, activation=\"hard_sigmoid\", input_shape=(2,),\n                use_bias=True, kernel_initializer='zeros',\n                bias_initializer='zeros'))\n# model.add(Dense(1, activation='hard_sigmoid', input_shape=(2,),\n#                 use_bias=True, kernel_initializer=keras.initializers.Constant(value=0.5),\n#                 bias_initializer=keras.initializers.Constant(value=0)))\n\n\n# y_true = np.random.randint(0, 2, size=(2, 3))\n# y_pred = np.random.random(size=(2, 3))\n# keras.losses.mean_squared_error(y_true, y_pred)\n# tf.losses.mean_squared_error(y_true, y_pred)\n\n\n'mean_squared_error'\n'categorical_crossentropy'\n\"Adadelta\"\nfrom keras.callbacks import LambdaCallback\nprint_weights = LambdaCallback(on_epoch_end=lambda batch, logs: print(model.layers[0].get_weights()))\n\nsgd = tf.optimizers.SGD(lr=0.01, decay=1e-6, momentum=0.9, nesterov=True)\nmodel.compile(optimizer=sgd, loss='mean_squared_error',\n              metrics=['accuracy'])\nresult = model.fit(X, y_0_1.reshape(-1, 1), batch_size=16, epochs=1000, callbacks=print_weights)\n\ny_predict = model.predict_classes(X)\nprint(accuracy_score(y_0_1, y_predict))\n# y_0_1\n# tf.losses.mean_squared_error(y_0_1.reshape(-1, 1), y_predict)\n\n\n# \u6a21\u578b\u7684\u7ed3\u6784\nmodel.summary()\nprint(\"\\n only one layer:\\n\", model.layers)\n\n# model.weights\nW, b = model.get_weights()\nw_1 = W[0, 0]\nw_2 = W[1, 0]\n# -0.54245992* w_1 + 1.34740825*w_2 + b[0]\n</code></pre> <pre><code>plot_perceptron(w_1, w_2, b, X, y_0_1, \"tf_perceptron_0_1.svg\")\nprint(accuracy_score(y_0_1, y_predict))\n</code></pre> <pre><code>0.0\n</code></pre> <p></p> <pre><code>result.history[\"loss\"]\nresult.history[\"accuracy\"]\n\na = tf.constant([-3.0, -2.5, -1.0, 0.0, 1.0, 2.5, 3.0], dtype=tf.float32)\ntf.keras.activations.hard_sigmoid(a)\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-0b37115236af&gt; in\n&lt;module&gt;\n----&gt; 1 result.history[\"loss\"]\n      2 result.history[\"accuracy\"]\n      3\n      4 a = tf.constant([-3.0, -2.5, -1.0, 0.0, 1.0, 2.5, 3.0],\ndtype=tf.float32)\n      5 tf.keras.activations.hard_sigmoid(a)\nNameError: name 'result' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.6.Perceptron%20-%20Copy.html#keras-2","title":"\u8c03\u7528keras\u611f\u77e5\u673a - \u5b9e\u73b02","text":"<pre><code># class Loader():\n#     def __init__(self):\n#         mnist = tf.keras.datasets.mnist\n#         (self.train_data, self.train_label), (self.test_data, self.test_label) = mnist.load_data()\n#         self.train_data = np.expand_dims(self.train_data.astype(np.float32) / 255.0, axis=-1)\n#         self.test_data = np.expand_dims(self.test_data.astype(np.float32) / 255.0, axis=-1)\n#         self.train_label = self.train_label.astype(np.int32)\n#         self.test_label = self.test_label.astype(np.int32)\n#         self.num_train_data, self.num_test_data = self.train_data.shape[0], self.test_data.shape[0]\n#\n#     def get_batch(self, batch_size):\n#         index = np.random.randint(0, np.shape(self.train_data)[0], batch_size)\n#         return self.train_data[index, :], self.train_label[index]\n\n\nclass Loader:\n    def __init__(self):\n        train_data, train_label = make_classification(n_samples=100, n_features=2, n_classes=2,\n                                                      n_informative=2, n_redundant=0,\n                                                      n_repeated=0,\n                                                      n_clusters_per_class=1, flip_y=0,\n                                                      random_state=3)\n        train_data = train_data\n        self.train_data, self.train_label = train_data, train_label\n        self.num_train_data = self.train_data.shape[0]\n\n    def get_batch(self, batch_size):\n        index = np.random.randint(0, self.num_train_data, batch_size)\n        return self.train_data[index, :], self.train_label[index]\n\n\nclass KerasPerceptron(tf.keras.Model):\n    def __init__(self):\n        super().__init__()\n        self.dense1 = tf.keras.layers.Dense(1, activation=None, input_shape=(2,),\n                                            use_bias=True, kernel_initializer=\"zeros\",\n                                            bias_initializer=\"zeros\")\n\n    def call(self, inputs):\n        x = self.dense1(inputs)\n        output = tf.keras.activations.hard_sigmoid(x)\n        return output\n\n\nnum_epochs = 100\nbatch_size = 16\nlearning_rate = 0.01\nmodel = KerasPerceptron()\ndata_loader = Loader()\noptimizer = tf.keras.optimizers.SGD(lr=learning_rate, decay=1e-6, momentum=0.9, nesterov=True)\n\nnum_batchs = int(data_loader.num_train_data // batch_size * num_epochs)\nfor batch_index in range(num_batchs):\n    X, y = data_loader.get_batch(batch_size)\n    with tf.GradientTape() as tape:\n        y_pred = model(X)\n        loss = tf.keras.losses.mean_squared_error(y_true=y, y_pred=y_pred)\n        loss = tf.reduce_mean(loss)\n        print(\"batch %d: loss %f\" % (batch_index, loss.numpy()))\n    grads = tape.gradient(loss, model.variables)\n    optimizer.apply_gradients(grads_and_vars=zip(grads, model.variables))\n    print(model.get_weights())\n\n\ntrain_data, train_label = make_classification(n_samples=100, n_features=2, n_classes=2,\n                                              n_informative=2, n_redundant=0,\n                                              n_repeated=0,\n                                              n_clusters_per_class=1, flip_y=0,\n                                              random_state=3)\ntrain_data = train_data + 10\n\ny_prediction = model(train_data)\n# tf.keras.losses.mean_squared_error(y_true=train_label.reshape(-1, 1), y_pred=y_prediction)\n# tf.reduce_sum(tf.keras.losses.mean_squared_error(y_true=train_label.reshape(-1, 1), y_pred=y_prediction))\ny_prediction = (y_prediction.numpy() &gt; 0.5).astype(np.int32)\ny_prediction = y_prediction.flatten()\n\nprint(accuracy_score(train_label, y_prediction))\n# tf.keras.metrics.sparse_categorical_accuracy(train_label, y_prediction)\nmodel.get_weights()\nW, b = model.get_weights()\nprint(W, b)\nw_1 = W[0, 0]\nw_2 = W[1, 0]\n# -0.54245992* w_1 + 1.34740825*w_2 + b[0]\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-ea5abb36f551&gt; in\n&lt;module&gt;\n     30\n     31\n---&gt; 32 class KerasPerceptron(tf.keras.Model):\n     33     def __init__(self):\n     34         super().__init__()\nNameError: name 'tf' is not defined\n</code></pre> <pre><code>plot_perceptron(w_1, w_2, b, train_data, train_label, \"tf_perceptron_0_1.svg\")\n\n\n\n# dense1 = tf.keras.layers.Dense(1, activation=None, input_shape=(2,),\n#                                use_bias=True, kernel_initializer=\"zeros\",\n#                                bias_initializer=\"zeros\")\n# dense1.set_weights([np.array([1., 2.]).reshape(2, 1), np.array([0.])])\n# x = dense1(tf.constant(np.array([[1, 2], [2.5, 3]])))\n# activation = tf.keras.activations.hard_sigmoid(x)\n\n\n\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n\nx = np.linspace(-5, 5, 100)\ny = np.linspace(-5, 5, 100)\nw1, w2, b = 1, 2, 0.5\n# Compute z to make the pringle surface.\nz = w1 * x + w2 * y + b\n\nax = plt.figure().add_subplot(projection='3d')\n\nax.plot_trisurf(x, y, z, linewidth=0.2, antialiased=True)\n\nplt.show()\n\n\nfrom mpl_toolkits.mplot3d import axes3d\nimport matplotlib.pyplot as plt\n\n\n\n\n\n\ntrain_data, train_label = make_classification(n_samples=100, n_features=2, n_classes=2,\n                                              n_informative=2, n_redundant=0,\n                                              n_repeated=0,\n                                              n_clusters_per_class=1, flip_y=0,\n                                              random_state=3)\n\n\nx1 = train_data[:, 0]\nx2 = train_data[:, 1]\nw1 = np.linspace(-10, 10, 200)\nw2 = np.linspace(-10, 10, 200)\n\n# Compute z to make the pringle surface.\n\n# z = w1 * x + w2 * y * + b\nimport copy\n\nZ = []\nfor w_1 in w1:\n    z_tmp = []\n    for w_2 in w2:\n        z = tf.keras.activations.hard_sigmoid(tf.constant(w_1 * x1 + w_2 * x2 + 0.25)).numpy()\n        z = np.sum((z - train_label)**2)\n        z_tmp.append(z)\n    Z.append(copy.deepcopy(z_tmp))\n\nZ = np.array(Z)\n\n\n\n# tf.keras.losses.mean_squared_error(tf.constant(z.reshape(100, -1)), tf.constant(train_label.reshape(100, -1)))\n\n\n\nX = np.concatenate([w1.reshape(1, 200)]*200)\nY = np.concatenate([w2.reshape(200, 1)]*200, axis=1)\n# Z = np.concatenate([z.reshape(1, 100)]*100)\n\n# Grab some test data.\n# X, Y, Z = axes3d.get_test_data(0.05)\n\nfig = plt.figure()\nax = fig.add_subplot(projection='3d')\n# Plot a basic wireframe.\n# ax.plot_wireframe(X, Y, Z, rstride=5, cstride=5)\nax.plot_surface(X, Y, Z, rstride=5, cstride=5)\nplt.show()\n</code></pre> <pre><code>---------------------------------------------------------------------------NameError\nTraceback (most recent call last)&lt;ipython-input-1-24f88808d3c6&gt; in\n&lt;module&gt;\n----&gt; 1 plot_perceptron(w_1, w_2, b, train_data, train_label,\n\"tf_perceptron_0_1.svg\")\n      2\n      3\n      4\n      5 # dense1 = tf.keras.layers.Dense(1, activation=None,\ninput_shape=(2,),\nNameError: name 'train_data' is not defined\n</code></pre>"},{"location":"Python3/TensorFlow/12.6.Perceptron.html","title":"12.6.Perceptron","text":"<pre><code>Linux 5.4.0-80-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.07.31\n</code></pre> <pre><code>import os\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom sklearn.datasets import make_classification\nfrom sklearn.metrics import accuracy_score\nfrom toolkit.blog.util import get_md_dir\n</code></pre>"},{"location":"Python3/TensorFlow/12.6.Perceptron.html#_1","title":"\u751f\u6210\u6837\u672c","text":"<p>\u751f\u6210\u4e00\u4e2a\u7ebf\u6027\u53ef\u5206\u7684\u6837\u672c\u96c6</p> <pre><code>X, y_0_1 = make_classification(n_samples=100, n_features=2, n_classes=2,\n                               n_informative=2, n_redundant=0,\n                               n_repeated=0,\n                               n_clusters_per_class=1, flip_y=0,\n                               random_state=3)\n</code></pre> <p>\u5bf9target\u8d4b\u4e88\u5176\u4ed6\u503c\uff1a</p> <pre><code># \u53cd\u8f6c\u6570\u636e\ny_1_0 = np.array([1 if i == 0 else 0 for i in y_0_1])\n# -1-1\u6570\u636e\ny_1_1 = np.array([-1 if i == 0 else 1 for i in y_0_1])\n# -3-10\u6570\u636e\ny_1_10 = np.array([-3 if i == 1 else 10 for i in y_0_1])\n</code></pre> <p>\u7ed8\u5236\u8bad\u7ec3\u6570\u636e\u7684\u56fe\u50cf\uff0c\u53ef\u4ee5\u53d1\u73b0\u6570\u636e\u662f\u7ebf\u6027\u53ef\u5206\u7684\uff0c\u6839\u636e\u611f\u77e5\u673a\u7684\u7406\u8bba\uff0c\u611f\u77e5\u673a\u7b97\u6cd5\u5fc5\u5b9a\u80fd\u627e\u5230\u4e00\u6761\u76f4\u7ebf\uff0c\u5c06\u4e24\u7c7b\u6837\u672c\u5b8c\u5168\u5206\u5f00\u3002</p>"},{"location":"Python3/TensorFlow/12.6.Perceptron.html#_2","title":"\u5b9a\u4e49\u753b\u56fe\u51fd\u6570","text":"<pre><code>def plot_perceptron(w_1, w_2, b, X, y, filename=None, title=None):  # noqa\n    x2 = np.arange(X[:, 1].min(), X[:, 1].max(), 0.01)  # noqa\n    x1 = -(w_2 * x2 + b) / w_1\n\n    labels = np.sort(np.unique(y))\n    X_zero, X_one = X[y == labels[0]], X[y == labels[1]]  # noqa\n    label_zero, label_one = str(labels[0]), str(labels[1])\n\n    plt.figure(figsize=(5, 4))\n    plt.scatter(X_one[:, 0], X_one[:, 1], color='steelblue', label=label_one)\n    plt.scatter(X_zero[:, 0], X_zero[:, 1], color='darkorange',\n                label=label_zero)\n    plt.plot(x1, x2, color='darkolivegreen', label='perceptron', lw=3)\n    plt.legend(fontsize=11)\n    if title is not None:\n        plt.title(f\"{title}\\nw1={round(w_1, 4)} w2={round(w_2, 4)} \"\n                  f\"b={round(b, 4)}\", fontsize=13)\n    if filename is not None:\n        plt.savefig(os.path.join(get_md_dir(), \"figures\", filename))\n    plt.show()\n</code></pre>"},{"location":"Python3/TensorFlow/12.6.Perceptron.html#_3","title":"\u624b\u52a8\u5b9e\u73b0\u611f\u77e5\u673a","text":"<p>Perceptron \u7b97\u6cd5\u4e8e 1958 \u5e74\u7531 Frank Rosenblatt \u5728\u5eb7\u5948\u5c14\u822a\u7a7a\u5b9e\u9a8c\u5ba4\u53d1\u660e\uff0c\u8fd9\u4e2a\u9879\u76ee\u7531\u7f8e\u56fd\u6d77\u519b\u7814\u7a76\u529e\u516c\u5ba4\u8d44\u52a9\u3002\u6700\u5f00\u59cb\u7684 Perceptron \u65e8\u5728\u6210\u4e3a\u4e00\u53f0\u4e13\u95e8\u7528\u4e8e\u56fe\u50cf\u8bc6\u522b\u7684\u673a\u5668\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u867d\u7136\u5b83\u7684\u7b2c\u4e00\u4e2a\u5b9e\u73b0\u662f\u5728 IBM 704 \u7684\u8f6f\u4ef6\u4e2d\u5b9e\u73b0\u7684\u3002\u5f53\u65f6\uff0c\u7f8e\u56fd\u6d77\u519b\u7ec4\u7ec7\u5bf9 Perceptron \u5bc4\u4e88\u539a\u671b\uff0c\u5e0c\u671b\u5b83\u80fd\u591f\u8d70\u8def\u3001\u8bf4\u8bdd\u3001\u770b\u3001\u5199\u3001\u590d\u5236\u81ea\u5df1\u5e76\u610f\u8bc6\u5230\u5b83\u7684\u5b58\u5728\u3002\u5c3d\u7ba1\u611f\u77e5\u5668\u6700\u521d\u770b\u8d77\u6765\u5f88\u6709\u524d\u9014\uff0c\u4f46\u5f88\u5feb\u5c31\u8bc1\u660e\u611f\u77e5\u5668\u65e0\u6cd5\u901a\u8fc7\u8bad\u7ec3\u6765\u8bc6\u522b\u591a\u7c7b\u522b\u7684\u6a21\u5f0f\uff0c\u8fd9\u5bfc\u81f4\u795e\u7ecf\u7f51\u7edc\u7814\u7a76\u9886\u57df\u505c\u6ede\u591a\u5e74\u30021969\u5e74\uff0c\u7531 Marvin Minsky \u548c Seymour Papert \u64b0\u5199\u7684\u4e66\u7c4d Perceptrons \u8868\u660e\uff1a\u611f\u77e5\u673a\u7b97\u6cd5\u65e0\u6cd5\u89e3\u51b3\u5f02\u6216\u95ee\u9898\uff0c\u5e76\u63a8\u6d4b\u591a\u5c42\u611f\u77e5\u673a\u7f51\u7edc\u4e5f\u65e0\u6cd5\u89e3\u51b3\u5f02\u6216\u95ee\u9898\u3002</p> <p><code>Perceptron</code> \u7c7b\u662f\u624b\u52a8\u5b9e\u73b0\u7684 Rosenblatt \u611f\u77e5\u673a\uff0c\u4ee5\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u7684\u65b9\u5f0f\u66f4\u65b0\u6743\u91cd\uff0c\u4e14\u652f\u6301\u4e24\u79cd\u635f\u5931\u51fd\u6570\uff1a</p> <ol> <li>\u8bef\u5206\u7c7b\u70b9\u5230 Perceptron \u76f4\u7ebf\u7684\u8ddd\u79bb</li> <li>\u5e73\u65b9\u635f\u5931</li> </ol> <pre><code>from toolkit.example.perceptron import Perceptron\n\nmodel = Perceptron(iteration=100, learn_rate=0.02, loss=\"distance\",\n                   use_bias=True, kernel_initializer=0., bias_initializer=0.)\n\nmodel.fit(X, y_0_1, verbose=False)\n\nprint(\"weights:\", model.weights)\n\nprint(\"bias:   \", model.bias)\ny_predict = model.predict(X)\nprint(\"accuracy score:\", accuracy_score(y_0_1, y_predict))\n\n(w_1, w_2), b = model.weights, model.bias\nplot_perceptron(w_1, w_2, b, X, y_0_1, \"my_perceptron.svg\", \"My Perceptron\")\n</code></pre> <pre><code>weights: [-0.13499787 -0.0660545 ]\nbias:    0.02\naccuracy score: 1.0\n</code></pre>"},{"location":"Python3/TensorFlow/12.6.Perceptron.html#1-0","title":"\u6d4b\u8bd5 1-0 \u6807\u7b7e","text":"<p>\u5bf9 Perceptron \u6d4b\u8bd5 1-0 target\u3002</p> <pre><code>model_1 = Perceptron(iteration=100, learn_rate=0.02, loss=\"square\",\n                     use_bias=True, kernel_initializer=0., bias_initializer=0.)\nmodel_1.fit(X, y_1_0)\n# \u8f93\u51fa\u6743\u91cd\u3001\u504f\u7f6e\u4fe1\u606f\nprint(\"weights:\", model_1.weights)\nprint(\"bias:   \", model_1.bias)\n# \u8fdb\u884c\u9884\u6d4b\ny_predict = model_1.predict(X)\nprint(\"accuracy score:\", accuracy_score(y_1_0, y_predict))\n</code></pre> <pre><code>weights: [0.12463955 0.05923452]\nbias:    -0.02\naccuracy score: 1.0\n</code></pre>"},{"location":"Python3/TensorFlow/12.6.Perceptron.html#-1-1","title":"\u6d4b\u8bd5 -1-1 \u6807\u7b7e","text":"<pre><code>model_2 = Perceptron(iteration=100, learn_rate=0.02, loss=\"square\",\n                     use_bias=True, kernel_initializer=0., bias_initializer=0.)\nmodel_2.fit(X, y_1_1)\n# \u8f93\u51fa\u6743\u91cd\u3001\u504f\u7f6e\u4fe1\u606f\nprint(\"weights:\", model_2.weights)\nprint(\"bias:   \", model_2.bias)\n\ny_predict = model_2.predict(X)\nprint(\"accuracy score:\", accuracy_score(y_1_1, y_predict))\n</code></pre> <pre><code>weights: [-0.13499787 -0.0660545 ]\nbias:    0.02\naccuracy score: 1.0\n</code></pre>"},{"location":"Python3/TensorFlow/12.6.Perceptron.html#_4","title":"\u68af\u5ea6\u4e0b\u964d\u53ef\u89c6\u5316","text":"<p>\u4e0b\u56fe\u4e3a\u624b\u52a8\u5b9e\u73b0\u7684 Perceptron \u7b97\u6cd5\u5728\u8bad\u7ec3\u65f6\uff0c\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u7684\u8fc7\u7a0b\u3002\u56e0\u4e3a\u4e09\u7ef4\u7a7a\u95f4\u4e2d\u53ea\u80fd\u7ed8\u5236\u4e24\u4e2a\u53d8\u91cf\uff0c\u6240\u4ee5\u504f\u7f6e\uff08\u622a\u8ddd\uff09\u56fa\u5b9a\u4e3a 0\u3002\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u53ea\u66f4\u65b0\u4e24\u4e2a\u6743\u91cd\u7684\u503c\uff0c\u4e14\u6743\u91cd$w_1$\u548c$w_2$\u5206\u522b\u521d\u59cb\u5316\u4e3a 0.3 \u548c 0.2\uff0c\u5b66\u4e60\u7387\u4e3a\u5e38\u6570 0.002\uff0c\u4f7f\u7528\u5e73\u65b9\u635f\u5931\u3002</p> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u5728\u635f\u5931\u51fd\u6570\u8f83\u5e73\u6ed1\u7684\u5730\u65b9\uff0c\u68af\u5ea6\u4e0b\u964d\u8f83\u4e3a\u7f13\u6162\uff0c\u5728\u635f\u5931\u51fd\u6570\u8f83\u9661\u5ced\u7684\u5730\u65b9\uff0c\u68af\u5ea6\u4e0b\u964d\u8f83\u5feb\u3002\u5728\u9760\u8fd1\u6700\u5c0f\u503c\u70b9\u65f6\uff0c\u7531\u4e8e\u5b66\u4e60\u7387\u56fa\u5b9a\u4e0d\u53d8\uff0c\u597d\u51e0\u6b21\u8d8a\u8fc7\u4e86\u6700\u5c0f\u503c\u70b9\u800c\u53cd\u590d\u6a2a\u8df3\u3002\u5b66\u4e60\u7387\u8bbe\u7f6e\u5f97\u8d8a\u5927\uff0c\u9707\u8361\u5c31\u4f1a\u8d8a\u660e\u663e\u3002</p> <p>\u5bb9\u6613\u770b\u51fa\uff0c\u6743\u91cd\u521d\u59cb\u503c\u548c\u5b66\u4e60\u7387\u76f4\u63a5\u5f71\u54cd\u8bad\u7ec3\u6240\u9700\u7684\u8fed\u4ee3\u6b21\u6570(epoch)\uff0c\u6743\u91cd\u521d\u59cb\u503c\u79bb(\u5c40\u90e8)\u6700\u5c0f\u503c\u70b9\u8d8a\u8fdc\uff0c\u5b66\u4e60\u7387\u8d8a\u5c0f\uff0c\u9700\u8981\u7684\u8fed\u4ee3\u6b21\u6570\u8d8a\u591a\u3002</p>"},{"location":"Python3/TensorFlow/12.6.Perceptron.html#scikit-learn","title":"scikit-learn \u611f\u77e5\u673a","text":"<code>sklearn.linear_model.Perceptron</code><pre><code>Perceptron(penalty=None, alpha=0.0001, l1_ratio=0.15, fit_intercept=True,\n           max_iter=1000, tol=0.001, shuffle=True, verbose=0, eta0=1.0,\n           n_jobs=None, random_state=0, early_stopping=False,\n           validation_fraction=0.1, n_iter_no_change=5, class_weight=None,\n           warm_start=False)\n</code></pre> <ul> <li> <p><code>penalty</code>: <code>{\u2018l2\u2019,\u2019l1\u2019,\u2019elasticnet\u2019}</code>\uff0c\u8981\u4f7f\u7528\u7684\u6b63\u5219\u5316\u9879\uff08\u60e9\u7f5a\u9879\uff09\u3002</p> </li> <li> <p><code>alpha</code>: <code>float</code>\uff0c\u6b63\u5219\u5316\u9879\u7684\u7cfb\u6570\uff0c\u662f\u4e00\u4e2a\u5e38\u6570\u3002</p> </li> <li> <p><code>l1_ratio</code>: <code>float</code>\uff0c<code>0 &lt;= l1_ratio &lt;= 1</code>\uff0c\u5f39\u6027\u7f51\u7edc\u6df7\u5408\u53c2\u6570\uff0c\u4ec5\u5f53<code>penalty='elasticnet'</code>\u65f6\u751f\u6548\u3002 <code>l1_ratio=0</code>\u65f6\u5373\u662f L2 \u6b63\u5219\u9879\uff0c<code>l1_ratio=1</code>\u65f6\u5373\u662f L1 \u6b63\u5219\u9879\u3002New in version 0.24.</p> </li> <li> <p><code>fit_intercept</code>: \u662f\u5426\u62df\u5408\u622a\u8ddd\uff08\u504f\u7f6e\uff09\u3002<code>fit_intercept=False</code>\u5373\u662f\u5047\u8bbe\u6570\u636e\u5df2\u7ecf\u4e2d\u5fc3\u5316\u3002</p> </li> <li> <p><code>max_iter</code>: \u6574\u4e2a\u8bad\u7ec3\u96c6\u7684\u6700\u5927\u8fed\u4ee3\u6b21\u6570\uff0c\u8be5\u53c2\u6570\u53c8\u540d\u4e3a<code>epochs</code>\u3002  \u4ec5\u5f71\u54cd<code>fit</code>\u65b9\u6cd5\uff0c\u4e0d\u4f1a\u5f71\u54cd<code>partial_fit</code>\u65b9\u6cd5\u3002New in version 0.19.</p> </li> <li> <p><code>tol</code>: <code>float</code>\uff0c\u65e9\u505c\u89c4\u5219\u3002\u5982\u679c\u8bbe\u7f6e\u4e86<code>tol</code>\uff0c\u5219\u8bad\u7ec3\u4f1a\u5728 (loss &gt; previous_loss - tol) \u65f6\u505c\u6b62\u3002New in version 0.19.</p> </li> <li> <p><code>shuffle</code>: \u662f\u5426\u5728\u6bcf\u4e2aepoch\u5b8c\u6210\u4e4b\u540e\u6253\u4e71\u8bad\u7ec3\u96c6\u3002</p> </li> <li> <p><code>eta0</code>: \u68af\u5ea6\u4e0b\u964d\u7684\u5b66\u4e60\u7387\u3002</p> </li> <li> <p><code>n_jobs</code>: \u6267\u884c OVA (One Versus All, for multi-class problems) \u8ba1\u7b97\u65f6\uff0c\u4f7f\u7528\u7684 CPU \u6838\u5fc3\u6570\u3002</p> </li> <li> <p><code>random_state</code>: \u968f\u673a\u6570\u79cd\u5b50\u3002\u5f53 <code>shuffle=True</code> \u65f6\uff0c\u8bbe\u7f6e\u8be5\u53c2\u6570\u53ef\u4ee5\u91cd\u73b0\u8bad\u7ec3\u8fc7\u7a0b\u3002</p> </li> <li> <p><code>early_stopping</code>: \u662f\u5426\u65e9\u505c\u3002\u5982\u679c<code>early_stopping=True</code>\uff0c\u5c06\u81ea\u52a8\u7559\u51fa\u4e00\u90e8\u5206\u6570\u636e\u7528\u4e8e\u9a8c\u8bc1\u6a21\u578b\uff0c \u5e76\u5728\u8fde\u7eed <code>n_iter_no_change</code> \u6b21\u8fed\u4ee3 (epochs) \u540e\uff0c\u9a8c\u8bc1\u5206\u6570\u90fd\u6ca1\u6709\u63d0\u9ad8\u81f3\u5c11 <code>tol</code> \u65f6\uff0c\u505c\u6b62\u8bad\u7ec3\u3002New in version 0.20.</p> </li> <li> <p><code>validation_fraction</code>: <code>float</code>\uff0c\u7528\u4e8e\u65e9\u505c\u7684\u9a8c\u8bc1\u96c6\u5927\u5c0f\uff0c\u4ecb\u4e8e0\u4e0e1\u4e4b\u95f4\u3002\u4ec5\u5f53<code>early_stopping=True</code>\u65f6\u751f\u6548\u3002New in version 0.20.</p> </li> <li> <p><code>n_iter_no_change</code>: <code>int</code>\uff0c\u82e5<code>n_iter_no_change</code>\u6b21\u8fed\u4ee3\u540e\uff0c\u9a8c\u8bc1\u96c6\u4e0a\u7684\u635f\u5931\u6ca1\u6709\u663e\u8457\u4e0b\u964d\uff0c\u5219\u505c\u6b62\u8bad\u7ec3\u3002New in version 0.20.</p> </li> <li> <p><code>warm_start</code>: \u662f\u5426\u4f7f\u7528\u4e0a\u4e00\u6b21\u8bad\u7ec3\u5f97\u5230\u7684\u6743\u91cd\u4e0e\u504f\u7f6e\u8fdb\u884c\u521d\u59cb\u5316\uff0c \u53c2\u8003 the Glossary\u3002</p> </li> </ul> trainingverbose <pre><code>from sklearn.linear_model import Perceptron\n\nperceptron = Perceptron(penalty='l1', alpha=0.0001, fit_intercept=True,\n                        max_iter=100, tol=1e-3, shuffle=True, verbose=1,\n                        eta0=1, n_jobs=-1, random_state=1, early_stopping=False,\n                        validation_fraction=0.1, n_iter_no_change=5,\n                        class_weight=None, warm_start=False)\n\nperceptron.fit(X, y_0_1)\n</code></pre> <pre><code>-- Epoch 1\nNorm: 3.79, NNZs: 2, Bias: 1.000000, T: 100, Avg. loss: 0.045638\nTotal training time: 0.00 seconds.\n-- Epoch 2\nNorm: 4.88, NNZs: 2, Bias: 2.000000, T: 200, Avg. loss: 0.049804\nTotal training time: 0.00 seconds.\n-- Epoch 3\nNorm: 4.39, NNZs: 2, Bias: 2.000000, T: 300, Avg. loss: 0.053986\nTotal training time: 0.00 seconds.\n-- Epoch 4\nNorm: 4.76, NNZs: 2, Bias: 0.000000, T: 400, Avg. loss: 0.016852\nTotal training time: 0.00 seconds.\n-- Epoch 5\nNorm: 5.20, NNZs: 2, Bias: 1.000000, T: 500, Avg. loss: 0.031670\nTotal training time: 0.00 seconds.\n-- Epoch 6\nNorm: 6.04, NNZs: 2, Bias: 1.000000, T: 600, Avg. loss: 0.026127\nTotal training time: 0.00 seconds.\n-- Epoch 7\nNorm: 6.53, NNZs: 2, Bias: 1.000000, T: 700, Avg. loss: 0.039767\nTotal training time: 0.00 seconds.\n-- Epoch 8\nNorm: 6.58, NNZs: 2, Bias: 1.000000, T: 800, Avg. loss: 0.027038\nTotal training time: 0.00 seconds.\n-- Epoch 9\nNorm: 6.58, NNZs: 2, Bias: 1.000000, T: 900, Avg. loss: 0.000000\nTotal training time: 0.00 seconds.\n-- Epoch 10\nNorm: 6.58, NNZs: 2, Bias: 1.000000, T: 1000, Avg. loss: 0.000000\nTotal training time: 0.00 seconds.\n-- Epoch 11\nNorm: 6.58, NNZs: 2, Bias: 1.000000, T: 1100, Avg. loss: 0.000000\nTotal training time: 0.00 seconds.\n-- Epoch 12\nNorm: 6.58, NNZs: 2, Bias: 1.000000, T: 1200, Avg. loss: 0.000000\nTotal training time: 0.00 seconds.\n-- Epoch 13\nNorm: 6.58, NNZs: 2, Bias: 1.000000, T: 1300, Avg. loss: 0.000000\nTotal training time: 0.00 seconds.\n-- Epoch 14\nNorm: 6.58, NNZs: 2, Bias: 1.000000, T: 1400, Avg. loss: 0.000000\nTotal training time: 0.00 seconds.\nConvergence after 14 epochs took 0.00 seconds\n</code></pre> <pre><code>Perceptron(eta0=1, max_iter=100, n_jobs=-1, penalty='l1', random_state=1,\n           verbose=1)\n</code></pre> <pre><code>W, b = perceptron.coef_, perceptron.intercept_[0]  # noqa\nprint(\"weights:\", W)\nprint(\"bias:   \", b)\ny_predict = perceptron.predict(X)\nprint(\"accuracy score:\", accuracy_score(y_0_1, y_predict))\n\nplot_perceptron(W[0, 0], W[0, 1], b, X, y_0_1,\n                \"sk_perceptron_0_1.svg\", \"scikit-learn Perceptron\")\n</code></pre> <pre><code>weights: [[-5.81308582 -2.71686054]]\nbias:    1.0\naccuracy score: 1.0\n</code></pre> <p>\u53ef\u4ee5\u9a8c\u8bc1\uff0cscikit learn \u611f\u77e5\u673a\u8f93\u51fa\u7684\u9884\u6d4b\u7ed3\u679c\u662f\u7b26\u5408\u4ee5\u4e0b\u516c\u5f0f\u7684\uff1a</p> <pre><code>y_decision_predict = perceptron.decision_function(X)\ny_decision_predict_mu = np.matmul(X, perceptron.coef_.reshape(2, 1)) + b\nall(y_decision_predict == y_decision_predict_mu.flatten())  # noqa\n</code></pre> <pre><code>True\n</code></pre> <p>scikit learn \u611f\u77e5\u673a\u53ef\u4ee5\u81ea\u9002\u5e94\u4e0d\u540c\u7684\u6570\u636e\u6807\u7b7e\uff0c\u5373 scikit-learn \u7684\u4f18\u5316\u65b9\u6cd5\u4e0d\u56fa\u5b9a\u4e8e y \u7684label\u3002</p> <p>\u5bf9 scikit-learn Perceptron \u6d4b\u8bd5 1-0 target\uff1a</p> <pre><code>perceptron.verbose = 0\nperceptron.fit(X, y_1_0)\ny_predict = perceptron.predict(X)\nW, b = perceptron.coef_, perceptron.intercept_[0]  # noqa\nprint(\"weights:\", W)\nprint(\"bias:   \", b)\nprint(\"accuracy score:\", accuracy_score(y_1_0, y_predict))\n</code></pre> <pre><code>weights: [[5.81308582 2.71686054]]\nbias:    -1.0\naccuracy score: 1.0\n</code></pre> <p>\u5bf9 scikit-learn Perceptron \u6d4b\u8bd5 -1-1 target\u3002</p> <pre><code>perceptron.fit(X, y_1_1)\ny_predict = perceptron.predict(X)\nW, b = perceptron.coef_, perceptron.intercept_[0]  # noqa\nprint(\"weights:\", W)\nprint(\"bias:   \", b)\nprint(\"accuracy score:\", accuracy_score(y_1_1, y_predict))\n</code></pre> <pre><code>weights: [[-5.81308582 -2.71686054]]\nbias:    1.0\naccuracy score: 1.0\n</code></pre> <p>\u5bf9 scikit-learn Perceptron \u6d4b\u8bd5 -3-10 target\u3002</p> <pre><code>perceptron.fit(X, y_1_10)\ny_predict = perceptron.predict(X)\nW, b = perceptron.coef_, perceptron.intercept_[0]  # noqa\nprint(\"weights:\", W)\nprint(\"bias:   \", b)\nprint(\"accuracy score:\", accuracy_score(y_1_10, y_predict))\n</code></pre> <pre><code>weights: [[5.81308582 2.71686054]]\nbias:    -1.0\naccuracy score: 1.0\n</code></pre>"},{"location":"Python3/TensorFlow/12.6.Perceptron.html#tensorflow","title":"TensorFlow \u611f\u77e5\u673a","text":""},{"location":"Python3/TensorFlow/12.6.Perceptron.html#_5","title":"\u5947\u602a\u7684\u611f\u77e5\u673a","text":"<pre><code>import tensorflow as tf\nfrom tensorflow.keras.models import Sequential\nfrom tensorflow.keras.layers import Dense\n\nmodel = Sequential()\nmodel.add(Dense(1, activation=\"softsign\", input_shape=(2,),\n                use_bias=True))\n\nmodel.compile(optimizer=\"SGD\", loss='mean_squared_error', metrics=['accuracy'])\nresult = model.fit(X, y_0_1.reshape(-1, 1), batch_size=16, epochs=500)\n</code></pre> <pre><code>y_predict = (model.predict(X) &gt; 0.5).astype('int32')\n\nW, b = model.get_weights()\nprint(\"weights:\", W)\nprint(\"bias:   \", b)\nprint(\"accuracy score:\", accuracy_score(y_0_1, y_predict))\n\nplot_perceptron(float(W[0, 0]), float(W[1, 0]), float(b[0]), X, y_0_1,\n                \"keras_perceptron_softsign_0_1.svg\", \"keras Perceptron\")\n</code></pre> <pre><code>weights: [[-1.0029898 ]\n [-0.07301947]]\nbias:    [1.2841063]\naccuracy score: 0.98\n</code></pre> <p>\u6211\u4eec\u57fa\u4e8e Keras \u5b9e\u73b0\u4e86\u611f\u77e5\u673a\u6a21\u578b\uff0c\u4f46 Keras \u7684\u611f\u77e5\u673a\u663e\u7136\u6709\u70b9\u5947\u602a\u3002\u6309\u7167 Rosenblatt \u7684\u611f\u77e5\u673a\u7406\u8bba\uff0c\u611f\u77e5\u673a\u76f4\u7ebf\u5e94\u8be5\u5c06\u4e24\u7c7b\u6837\u672c\u70b9\u5212\u5206\u5f00\u6765\uff0c\u4f46\u4e0a\u56fe\u7684\u611f\u77e5\u673a\u76f4\u7ebf\u5374\u4f7f\u5f97\u4e24\u7c7b\u6837\u672c\u70b9\u6df7\u6742\u5728\u4e00\u8d77\uff0c\u7136\u800c\u6a21\u578b\u9884\u6d4b\u7ed3\u679c\u7684\u51c6\u786e\u7387\u5374\u9ad8\u8fbe 0.98\u3002</p> <p>\u7a76\u7adf\u662f\u54ea\u91cc\u51fa\u4e86\u95ee\u9898\u5462\uff1f\u7ec6\u5fc3\u7684\u8bfb\u8005\u53ef\u80fd\u5df2\u7ecf\u53d1\u73b0\uff0c\u4ee5\u4e0a\u6a21\u578b\u4f7f\u7528\u7684\u6fc0\u6d3b\u51fd\u6570\u662f softsign \u51fd\u6570\uff0c\u5e76\u4e0d\u662f Rosenblatt \u611f\u77e5\u673a\u6240\u7528\u7684\u8d8a\u9636\u51fd\u6570\u3002\u65e2\u7136\u4f7f\u7528\u7684\u6fc0\u6d3b\u51fd\u6570\u4e0d\u540c\uff0c\u4e3a\u4ec0\u4e48\u6700\u7ec8\u8fd8\u53ef\u4ee5\u8fbe\u5230\u8fd9\u4e48\u9ad8\u7684\u51c6\u786e\u7387\u5462\uff1f\u5176\u5b9e\uff0c\u8fd9\u662f\u7531\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u4fdd\u969c\u7684\uff0c\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u4f1a\u5c3d\u91cf\u8ba9\u611f\u77e5\u673a\u5728\u8bad\u7ec3\u96c6\u4e0a\u7684\u8f93\u51fa\u503c\u903c\u8fd1\u771f\u5b9e\u503c\u3002</p> <p>\u65e2\u7136\u5982\u6b64\uff0c\u90a3\u662f\u4e0d\u662f\u5c06 softsign \u6fc0\u6d3b\u51fd\u6570\u6539\u4e3a\u8d8a\u9636\u6fc0\u6d3b\u51fd\u6570\u5c31\u53ef\u4ee5\u5b9e\u73b0 Rosenblatt \u611f\u77e5\u673a\u4e86\u5462\uff1f\u4f46 TensorFlow \u6216 Keras \u5e76\u6ca1\u6709\u63d0\u4f9b\u8d8a\u9636\u6fc0\u6d3b\u51fd\u6570\uff0c\u56e0\u4e3a TensorFlow \u5229\u7528\u81ea\u52a8\u5fae\u5206\u5bfb\u627e\u6700\u4f18\u7684\u6743\u91cd\u503c\uff0c\u4f46\u8d8a\u9636\u51fd\u6570\u7684\u68af\u5ea6\u5904\u5904\u4e3a0\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u68af\u5ea6\u6d88\u5931\uff0c\u6a21\u578b\u65e0\u6cd5\u8bad\u7ec3\u3002</p>"},{"location":"Python3/TensorFlow/12.6.Perceptron.html#keras","title":"Keras \u5982\u4f55\u5b9e\u73b0\u611f\u77e5\u673a","text":"<p>\u867d\u7136\u6211\u4eec\u65e0\u6cd5\u5728 TensorFlow \u6a21\u578b\u4e2d\u4f7f\u7528\u8d8a\u9636\u51fd\u6570\uff0c\u4f46\u53ef\u4ee5\u7528 hard_sigmoid \u51fd\u6570\u53bb\u8fd1\u4f3c\u4ee3\u66ff\u8d8a\u9636\u51fd\u6570\uff0c\u8fd9\u6837\u53ef\u4ee5\u8fd1\u4f3c\u5730\u5b9e\u73b0\u4e00\u4e2a Rosenblatt \u611f\u77e5\u673a\u3002</p> <pre><code>model = Sequential()\nmodel.add(Dense(1, activation=\"hard_sigmoid\", input_shape=(2,),\n                use_bias=True))\n\nmodel.compile(optimizer=\"SGD\", loss='mean_squared_error', metrics=['accuracy'])\nresult = model.fit(X, y_0_1.reshape(-1, 1), batch_size=16, epochs=200)\n</code></pre> <pre><code># model.predict_classes(X)\ny_predict = (model.predict(X) &gt; 0.5).astype('int32')\nW, b = model.get_weights()\nprint(\"weights:\", W)\nprint(\"bias:   \", b)\nprint(\"accuracy score:\", accuracy_score(y_0_1, y_predict))\n\nplot_perceptron(float(W[0, 0]), float(W[1, 0]), float(b[0]), X, y_0_1,\n                \"keras_perceptron_16_batch_0_1.svg\", \"keras Perceptron\")\n</code></pre> <pre><code>weights: [[-1.3330553 ]\n [-0.05380743]]\nbias:    [-0.02743404]\naccuracy score: 0.98\n</code></pre> <p>\u73b0\u5728\u4e0a\u56fe\u7684\u611f\u77e5\u673a\u6a21\u578b\u6548\u679c\u56fe\u770b\u8d77\u6765\u6b63\u5e38\u591a\u4e86\uff0c\u4f46\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\uff1a\u6570\u636e\u96c6\u662f\u7ebf\u6027\u53ef\u5206\u7684\uff0c\u4f46\u4e0a\u8ff0\u6a21\u578b\u8981\u8fbe\u5230\u767e\u5206\u767e\u7684\u51c6\u786e\u7387\u4f3c\u4e4e\u5e76\u4e0d\u5bb9\u6613\u3002</p> <p>\u8981\u5f04\u6e05\u695a\u8fd9\u4e2a\u95ee\u9898\uff0c\u9700\u8981\u5148\u719f\u6089 Rosenblatt \u611f\u77e5\u673a\u7406\u8bba\u3002Rosenblatt \u611f\u77e5\u673a\u7b97\u6cd5\u6bcf\u6b21\u53ea\u4f7f\u7528\u4e00\u4e2a\u5206\u7c7b\u9519\u8bef\u7684\u6837\u672c\u70b9\u66f4\u65b0\u6743\u91cd\uff0c\u4e5f\u5c31\u662f\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u7684\u65b9\u5f0f\u3002\u800c\u4e0a\u8ff0\u6a21\u578b\u5219\u662f\u4f7f\u7528\u6279\u68af\u5ea6\u4e0b\u964d\u7684\u65b9\u5f0f\u66f4\u65b0\u6743\u91cd\uff0c\u6bcf\u6279\u6b21\u4e3a16\u4e2a\u6837\u672c\u3002\u663e\u7136\uff0c16\u4e2a\u6837\u672c\u7684\u5e73\u5747\u68af\u5ea6\u548c1\u4e2a\u6837\u672c\u7684\u68af\u5ea6\u662f\u6709\u4e00\u70b9\u5dee\u5f02\u7684\u3002\u90a3\u4e48\uff0c\u6211\u4eec\u6765\u6d4b\u8bd5\u4e00\u4e0b <code>batch_size=1</code> \u7684\u6548\u679c\uff1a</p> <pre><code>model = Sequential()\nmodel.add(Dense(1, activation=\"hard_sigmoid\", input_shape=(2,),\n                use_bias=True, kernel_initializer='zeros',\n                bias_initializer='zeros'))\n\nmodel.compile(optimizer=\"SGD\", loss='mean_squared_error', metrics=['accuracy'])\nresult = model.fit(X, y_0_1.reshape(-1, 1), batch_size=1, epochs=200)\n</code></pre> <pre><code>y_predict = (model.predict(X) &gt; 0.5).astype('int32')\nW, b = model.get_weights()\nprint(\"weights:\", W)\nprint(\"bias:   \", b)\nprint(\"accuracy score:\", accuracy_score(y_0_1, y_predict))\n\nplot_perceptron(float(W[0, 0]), float(W[1, 0]), float(b[0]), X, y_0_1,\n                \"keras_perceptron_incorrect_sgd_0_1.svg\", \"keras Perceptron\")\n</code></pre> <pre><code>weights: [[-3.5219226]\n [-1.1625581]]\nbias:    [0.75313836]\naccuracy score: 0.98\n</code></pre> <p>\u7ed3\u679c\u51fa\u4e4e\u610f\u6599\uff0c\u5373\u4f7f\u5c06<code>batch_size</code>\u8bbe\u7f6e\u4e3a1\uff0cKeras Perceptron \u7684\u51c6\u786e\u7387\u8fd8\u662f\u65e0\u6cd5\u8fbe\u52301\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e0e\u5b66\u4e60\u7387\u4e5f\u6709\u5173\u7cfb\uff0c\u6709\u65f6\uff0c\u6211\u4eec\u9700\u8981\u9009\u53d6\u4e00\u4e2a\u6070\u5f53\u7684\u68af\u5ea6\u4e0b\u964d\u7b56\u7565\uff0c\u624d\u80fd\u627e\u5230\u6700\u4f18\u7684\u6743\u91cd\u503c\u3002</p> <pre><code>model = Sequential()\nmodel.add(Dense(1, activation=\"hard_sigmoid\", input_shape=(2,),\n                use_bias=True, kernel_initializer='zeros',\n                bias_initializer='zeros'))\n\nsgd = tf.optimizers.SGD(lr=0.01, decay=1e-6, momentum=0.9, nesterov=True)\nmodel.compile(optimizer=sgd, loss='mean_squared_error', metrics=['accuracy'])\nresult = model.fit(X, y_0_1.reshape(-1, 1), batch_size=1, epochs=200)\n</code></pre> <pre><code>y_predict = (model.predict(X) &gt; 0.5).astype('int32')\nW, b = model.get_weights()\nprint(\"weights:\", W)\nprint(\"bias:   \", b)\nprint(\"accuracy score:\", accuracy_score(y_0_1, y_predict))\n\nplot_perceptron(float(W[0, 0]), float(W[1, 0]), float(b[0]), X, y_0_1,\n                \"keras_perceptron_0_1.svg\", \"keras Perceptron\")\n</code></pre> <pre><code>weights: [[-6.69984 ]\n [-3.005875]]\nbias:    [0.98682415]\naccuracy score: 1.0\n</code></pre>"},{"location":"Python3/TensorFlow/12.7.keras%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B.html","title":"12.7.keras\u5feb\u901f\u5f00\u59cb","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.07.05\ntensorflow version:  2.2.0\n</code></pre> <pre><code>import keras\nfrom toolkit import H\n\nfrom keras import models\nfrom keras import layers\n# tf 2.0+ API\u66f4\u6539 keras \u548c tf.keras \u6df7\u7528\u53ef\u80fd\u4e0d\u517c\u5bb9\n# from keras.models import Sequential\n# from keras.layers import Dense, Activation\nfrom tensorflow.keras.models import Sequential\nfrom tensorflow.keras.layers import Dense, Activation\n# tf 2.0+ API\u66f4\u6539 \u4ee5\u4e0b\u8bed\u53e5\u4e0d\u518d\u53ef\u7528\n# from tensorflow.keras.backend import K\n# from keras.backend import K\nfrom tensorflow.keras.backend import mean\n\ngpus = tf.config.experimental.list_physical_devices('GPU')\ntf.config.experimental.set_memory_growth(gpus[0], True)\n</code></pre> <p>keras \u7684\u9876\u5c42api</p> <pre><code>h = H(keras)\nd = h.dicts\n</code></pre> <pre><code>module\n</code></pre> <pre><code>d[\"function\"]\n</code></pre> <pre><code>[]\n</code></pre> <pre><code>d[\"class\"]\n</code></pre> <pre><code>['Model', 'RandomRotation', 'Sequential']\n</code></pre> <pre><code>d[\"module\"]\n</code></pre> <pre><code>['activations.py',\n 'applications',\n 'backend.py',\n 'callbacks.py',\n 'constraints.py',\n 'datasets',\n 'engine',\n 'initializers.py',\n 'layers',\n 'losses.py',\n 'metrics.py',\n 'models.py',\n 'objectives.py',\n 'optimizers',\n 'preprocessing',\n 'regularizers.py',\n 'utils',\n 'wrappers']\n</code></pre>"},{"location":"Python3/TensorFlow/12.7.keras%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B.html#sequential","title":"\u5efa\u7acb Sequential \u6a21\u578b","text":"<pre><code>model = Sequential([Dense(32, input_shape=(784,)),\n                    Activation(\"relu\"), Dense(10),\n                    Activation(\"softmax\")])\n</code></pre> <p>\u6216\u8005\u4f7f\u7528add\u65b9\u6cd5\u5c06\u5404\u7f51\u7edc\u5c42\u6dfb\u52a0\u5230\u6a21\u578b</p> <pre><code>model = Sequential()\nmodel.add(Dense(32, input_dim=784))\nmodel.add(Activation(\"relu\"))\n</code></pre>"},{"location":"Python3/TensorFlow/12.7.keras%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B.html#compile","title":"\u914d\u7f6e\u5b66\u4e60\u8fc7\u7a0b compile\u65b9\u6cd5","text":"<p>\u7f16\u8bd1\u6a21\u578b\u65f6\u5fc5\u987b\u6307\u660e\u635f\u5931\u51fd\u6570\u548c\u4f18\u5316\u5668\uff0c\u4e5f\u53ef\u4ee5\u81ea\u5b9a\u4e49\u635f\u5931\u51fd\u6570\u3002</p> <p>\u591a\u5206\u7c7b</p> <pre><code>model.compile(optimizer='rmsprop', loss='categorical_crossentropy',\n              metrics=['accuracy'])\n</code></pre> <p>\u4e8c\u5206\u7c7b</p> <pre><code>model.compile(optimizer='rmsprop', loss='binary_crossentropy',\n              metrics=['accuracy'])\n</code></pre> <p>\u5747\u65b9\u8bef\u5dee\u56de\u5f52\u95ee\u9898</p> <pre><code>model.compile(optimizer='rmsprop', loss='mse')\n</code></pre> <p>\u81ea\u5b9a\u4e49\u8bc4\u4f30\u51fd\u6570</p> <pre><code>def mean_pred(y_true, y_pred):\n    # return K.mean(y_pred)\n    return mean(y_pred)\n\n\nmodel.compile(optimizer='rmsprop', loss='binary_crossentropy',\n              metrics=['accuracy', mean_pred])\n</code></pre>"},{"location":"Python3/TensorFlow/12.7.keras%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B.html#_1","title":"\u8bad\u7ec3","text":"<p>Keras \u6a21\u578b\u5728\u8f93\u5165\u6570\u636e\u548c\u6807\u7b7e\u7684 Numpy \u77e9\u9635\u4e0a\u8fdb\u884c\u8bad\u7ec3\u3002\u4e3a\u4e86\u8bad\u7ec3\u4e00\u4e2a\u6a21\u578b\uff0c\u4f60\u901a\u5e38\u4f1a\u4f7f \u7528 fit \u51fd\u6570\u3002</p>"},{"location":"Python3/TensorFlow/12.7.keras%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B.html#_2","title":"\u4e8c\u5206\u7c7b","text":"<p>\u5bf9\u4e8e\u5177\u6709 2 \u4e2a\u7c7b\u7684\u5355\u8f93\u5165\u6a21\u578b\uff08\u4e8c\u8fdb\u5236\u5206\u7c7b\uff09\uff1a</p> <pre><code>import numpy as np\n\n# \u751f\u6210\u865a\u62df\u6570\u636e\ndata = np.random.random((1000, 100))\nlabels = np.random.randint(2, size=(1000, 1))\n\n# \u642d\u5efa\u6a21\u578b\nmodel = Sequential()\nmodel.add(Dense(32, activation='relu', input_dim=100))\nmodel.add(Dense(1, activation='sigmoid'))\n\nmodel.compile(optimizer='rmsprop', loss='binary_crossentropy',\n              metrics=['accuracy'])\n\n# \u8bad\u7ec3\u6a21\u578b \u4ee5 64 \u4e2a\u6837\u672c\u4e3a\u4e00\u4e2a batch \u8fdb\u884c\u8fed\u4ee3\nmodel.fit(data, labels, epochs=2, batch_size=64)\ndata_pred = model.predict_classes(data)\n</code></pre> <pre><code>Epoch 1/2\n  1/16 [&gt;.............................] - ETA: 0s - loss: 0.6671 -\naccuracy:\n0.6250\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n8/16 [==============&gt;...............] - ETA: 0s - loss: 0.7103 -\naccuracy:\n0.5488\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n15/16 [===========================&gt;..] - ETA: 0s - loss: 0.7050 -\naccuracy:\n0.5302\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n16/16 [==============================] - 0s 7ms/step - loss: 0.7075 -\naccuracy: 0.5240\nEpoch 2/2\n  1/16 [&gt;.............................] - ETA: 0s - loss: 0.6855 -\naccuracy:\n0.6094\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n9/16 [===============&gt;..............] - ETA: 0s - loss: 0.6984 -\naccuracy:\n0.5104\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n16/16 [==============================] - 0s 6ms/step - loss: 0.7003 -\naccuracy: 0.5030\n</code></pre>"},{"location":"Python3/TensorFlow/12.7.keras%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B.html#_3","title":"\u591a\u5206\u7c7b","text":"<p>\u5bf9\u4e8e\u5177\u6709 10 \u4e2a\u7c7b\u7684\u5355\u8f93\u5165\u6a21\u578b\uff08\u591a\u5206\u7c7b\u5206\u7c7b\uff09\uff1a</p> <pre><code># \u751f\u6210\u865a\u62df\u6570\u636e\nnp.random.random((1000, 100))\nlabels = np.random.randint(10, size=(1000, 1))\n# \u5c06\u6807\u7b7e\u8f6c\u6362\u4e3a\u5206\u7c7b\u7684 one-hot \u7f16\u7801 \none_hot_labels = keras.utils.to_categorical(labels, num_classes=10)\n\nmodel = Sequential()\nmodel.add(Dense(32, activation='relu', input_dim=100))\nmodel.add(Dense(10, activation='softmax', ))\nmodel.compile(optimizer='rmsprop', loss='categorical_crossentropy',\n              metrics=['accuracy'])\n\n# \u8bad\u7ec3\u6a21\u578b \u4ee5 64 \u4e2a\u6837\u672c\u4e3a\u4e00\u4e2a batch \u8fdb\u884c\u8fed\u4ee3\nmodel.fit(data, one_hot_labels, epochs=2, batch_size=64)\n\nmodel.summary()\n\n# model.inputs[0]\n# model.evaluate()\n</code></pre> <pre><code>Epoch 1/2\n  1/16 [&gt;.............................] - ETA: 0s - loss: 2.6500 -\naccuracy:\n0.0938\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n7/16 [============&gt;.................] - ETA: 0s - loss: 2.4654 -\naccuracy:\n0.0804\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n13/16 [=======================&gt;......] - ETA: 0s - loss: 2.4299 -\naccuracy:\n0.0817\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n16/16 [==============================] - 0s 9ms/step - loss: 2.4209 -\naccuracy: 0.0810\nEpoch 2/2\n  1/16 [&gt;.............................] - ETA: 0s - loss: 2.3873 -\naccuracy:\n0.0625\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n6/16 [==========&gt;...................] - ETA: 0s - loss: 2.3356 -\naccuracy:\n0.0911\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n12/16 [=====================&gt;........] - ETA: 0s - loss: 2.3405 -\naccuracy:\n0.0872\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n16/16 [==============================] - 0s 9ms/step - loss: 2.3407 -\naccuracy: 0.0900\nModel: \"sequential_43\"\n_________________________________________________________________\nLayer (type)                 Output Shape              Param #\n=================================================================\ndense_75 (Dense)             (None, 32)                3232\n_________________________________________________________________\ndense_76 (Dense)             (None, 10)                330\n=================================================================\nTotal params: 3,562\nTrainable params: 3,562\nNon-trainable params: 0\n_________________________________________________________________\n</code></pre>"},{"location":"Python3/TensorFlow/12.8.math%20operations.html","title":"12.8.\u6570\u5b66\u8fd0\u7b97","text":"<pre><code>from pprint import pprint\nimport tensorflow as tf\n</code></pre> <pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.21\ntensorflow version:  2.5.0\n</code></pre>"},{"location":"Python3/TensorFlow/12.8.math%20operations.html#_1","title":"\u56db\u5219\u8fd0\u7b97","text":"<code>tf.add(x, y, name=None)</code> <code>tf.add_n(inputs, name=None)</code> <code>tf.divide(x, y, name=None)</code><pre><code>x = tf.constant([16, 12, 11])\ny = tf.constant([4, 6, 2])\ntf.divide(x, y)\n</code></pre> <pre><code>&lt;tf.Tensor: shape=(3,), dtype=float64, numpy=array([4. , 2. , 5.5])&gt;\n</code></pre> <code>tf.multiply(x, y, name=None)</code><p>\u5143\u7d20\u4e58\u6cd5\u3002</p> <pre><code>x = tf.constant(([1, 2, 3, 4]))\nprint(tf.multiply(x, x))\n\nx = tf.ones([1, 2])\ny = tf.ones([2, 1])\nprint(x * y)  # Taking advantage of operator overriding\n</code></pre> <pre><code>tf.Tensor([ 1  4  9 16], shape=(4,), dtype=int32)\ntf.Tensor(\n[[1. 1.]\n [1. 1.]], shape=(2, 2), dtype=float32)\n</code></pre> <code>tf.realdiv(x, y, name=None)</code> <code>tf.truncatediv(x, y, name=None)</code> <code>tf.truncatemod(x, y, name=None)</code> <code>tf.subtract(x, y, name=None)</code><p>\u8fd4\u56de$x-y$\u3002</p> <code>tf.truediv(x, y, name=None)</code><p>\u8fd4\u56de$x / y$\u3002</p>"},{"location":"Python3/TensorFlow/12.8.math%20operations.html#_2","title":"\u5176\u4ed6\u5e38\u89c1\u8fd0\u7b97","text":"<code>tf.abs(x, name=None)</code> <code>tf.cumsum(x, axis=0, exclusive=False, reverse=False, name=None)</code><pre><code># tf.cumsum([a, b, c])   # [a, a + b, a + b + c]\nx = tf.constant([2, 4, 6, 8])\nprint(tf.cumsum(x))\nprint(tf.cumsum(x, exclusive=True))\n# This is more efficient than using separate tf.reverse ops\nprint(tf.cumsum(x, reverse=True))\n</code></pre> <pre><code>tf.Tensor([ 2  6 12 20], shape=(4,), dtype=int32)\ntf.Tensor([ 0  2  6 12], shape=(4,), dtype=int32)\ntf.Tensor([20 18 14  8], shape=(4,), dtype=int32)\n</code></pre> <code>tf.exp(x, name=None)</code><p>$y=e^x$</p> <code>tf.floor(x, name=None)</code><pre><code>x = tf.constant([1.3324, -1.5, 5.555, -2.532, 0.99, float(\"inf\")])\ntf.floor(x).numpy()\n</code></pre> <pre><code>array([ 1., -2.,  5., -3.,  0., inf], dtype=float32)\n</code></pre> <code>tf.maximum(x, y, name=None)</code> <code>tf.minimum(x, y, name=None)</code> <code>tf.negative(x, name=None)</code> <code>tf.pow(x, y, name=None)</code><p>\u8fd4\u56de$x^y$\u3002</p> <code>tf.round(x, name=None)</code> <code>tf.sqrt(x, name=None)</code><p>\u8fd4\u56de$\\sqrt{x}$\u3002</p> <code>tf.square(x, name=None)</code><p>\u8fd4\u56de$x^2$\u3002</p> <code>tf.sigmoid(x, name=None)</code> <code>tf.sign(x, name=None)</code> <code>tf.scalar_mul(scalar, x, name=None)</code>"},{"location":"Python3/TensorFlow/12.8.math%20operations.html#_3","title":"\u964d\u7ef4\u51fd\u6570","text":"<code>tf.reduce_all(input_tensor, axis=None, keepdims=False, name=None)</code><pre><code>x = tf.constant([[True, False], [True, True]])\nprint(tf.reduce_all(x))\nprint(tf.reduce_all(x, 0))\nprint(tf.reduce_all(x, 1))\nprint(tf.reduce_all(x, 1, True))\n</code></pre> <pre><code>tf.Tensor(False, shape=(), dtype=bool)\ntf.Tensor([ True False], shape=(2,), dtype=bool)\ntf.Tensor([False  True], shape=(2,), dtype=bool)\ntf.Tensor(\n[[False]\n [ True]], shape=(2, 1), dtype=bool)\n</code></pre> <code>tf.reduce_any(input_tensor, axis=None, keepdims=False, name=None)</code> <code>tf.reduce_logsumexp(input_tensor, axis=None, keepdims=False, name=None)</code> <code>tf.reduce_max(input_tensor, axis=None, keepdims=False, name=None)</code> <code>tf.reduce_mean(input_tensor, axis=None, keepdims=False, name=None)</code> <code>tf.reduce_min(input_tensor, axis=None, keepdims=False, name=None)</code> <code>tf.reduce_prod(input_tensor, axis=None, keepdims=False, name=None)</code> <code>tf.reduce_sum(input_tensor, axis=None, keepdims=False, name=None)</code>"},{"location":"Python3/TensorFlow/12.8.math%20operations.html#_4","title":"\u4e09\u89d2\u51fd\u6570","text":"<code>tf.acos(x, name=None)</code> <code>tf.acosh(x, name=None)</code> <code>tf.asin(x, name=None)</code> <code>tf.asinh(x, name=None)</code> <code>tf.atan(x, name=None)</code> <code>tf.atan2(y, x, name=None)</code> <code>tf.atanh(x, name=None)</code> <code>tf.cos(x, name=None)</code> <code>tf.cosh(x, name=None)</code> <code>tf.sin(x, name=None)</code> <code>tf.sinh(x, name=None)</code> <code>tf.tan(x, name=None)</code> <code>tf.tanh(x, name=None)</code>"},{"location":"Python3/TensorFlow/12.8.math%20operations.html#_5","title":"\u903b\u8f91\u51fd\u6570","text":"<code>tf.equal(x, y, name=None)</code> <code>tf.not_equal(x, y, name=None)</code> <code>tf.greater(x, y, name=None)</code> <code>tf.greater_equal(x, y, name=None)</code> <code>tf.less(x, y, name=None)</code> <code>tf.less_equal(x, y, name=None)</code> <code>tf.logical_not(x, name=None)</code> <code>tf.logical_or(x, y, name=None)</code> <code>tf.logical_and(x, y, name=None)</code>"},{"location":"Python3/TensorFlow/12.8.math%20operations.html#_6","title":"\u7ebf\u6027\u4ee3\u6570","text":"<code>tf.matmul(a, b, transpose_a, transpose_b, adjoint_a, adjoint_b, a_is_sparse, b_is_sparse)</code><p>\u77e9\u9635\u4e58\u6cd5\u3002</p> <ul> <li><code>transpose_a</code> / <code>transpose_b</code>\uff1a\u5982\u679c<code>True</code>\uff0c<code>a</code> / <code>b</code>\u5728\u4e58\u6cd5\u4e4b\u524d\u8f6c\u7f6e\u3002</li> <li><code>adjoint_a</code> / <code>adjoint_b</code>\uff1a\u5982\u679c<code>True</code>\uff0c<code>a</code> / <code>b</code>\u5728\u4e58\u6cd5\u4e4b\u524d\u5171\u8f6d\u548c\u8f6c\u7f6e\u3002</li> <li><code>a_is_sparse</code> / <code>b_is_sparse</code>\uff1a\u5982\u679c<code>True</code>\uff0c<code>a</code> / <code>b</code>\u88ab\u89c6\u4e3a\u7a00\u758f\u77e9\u9635\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e0d\u652f\u6301<code>tf.sparse.SparseTensor</code>\u3002</li> </ul> <pre><code>a = tf.constant([1, 2, 3, 4, 5, 6], shape=[2, 3])\nprint(a)\nb = tf.constant([7, 8, 9, 10, 11, 12], shape=[3, 2])\nprint(b)\nc = tf.matmul(a, b)\nprint(c)\n</code></pre> <pre><code>tf.Tensor(\n[[1 2 3]\n [4 5 6]], shape=(2, 3), dtype=int32)\ntf.Tensor(\n[[ 7  8]\n [ 9 10]\n [11 12]], shape=(3, 2), dtype=int32)\ntf.Tensor(\n[[ 58  64]\n [139 154]], shape=(2, 2), dtype=int32)\n</code></pre> <code>tf.tensordot(a, b, axes, name=None)</code><p>$\\mathbf{x}^\\top \\mathbf{y} = \\sum_{i=1}^{d} x_i y_i$</p>"},{"location":"Python3/TensorFlow/12.9.%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BF%9D%E5%AD%98%E4%B8%8E%E5%AF%BC%E5%85%A5.html","title":"12.9.\u6a21\u578b\u7684\u4fdd\u5b58\u4e0e\u5bfc\u5165","text":"<pre><code>Linux 5.4.0-80-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.07.31\ntensorflow version:  2.5.0\n</code></pre> <pre><code>import keras\nimport tensorflow as tf\nfrom tensorflow.keras.models import Sequential\nfrom tensorflow.keras.layers import Dense\nimport os\nimport numpy as np\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.datasets import make_classification\n\n\nclass Loader:\n    def __init__(self):\n        self.train_data, self.train_label = make_classification(n_samples=100, n_features=2, n_classes=2,\n                                                                n_informative=2, n_redundant=0,\n                                                                n_repeated=0, n_clusters_per_class=1,\n                                                                flip_y=0, random_state=3)\n        self.num_train_data = self.train_data.shape[0]\n\n    def get_batch(self, batch_size):\n        index = np.random.randint(0, self.num_train_data, batch_size)\n        return self.train_data[index, :], self.train_label[index]  # (batch_size, 2), (batch_size,)\n\n\nclass Perceptron(tf.keras.Model):\n    def __init__(self):\n        super().__init__()\n        self.dense1 = tf.keras.layers.Dense(1, activation=None, input_shape=(2,),\n                                            use_bias=True, kernel_initializer=\"zeros\",\n                                            bias_initializer=\"zeros\")\n\n    def call(self, inputs):                            # (batch_size, 2)\n        x = self.dense1(inputs)                        # (batch_size, 1)\n        output = tf.keras.activations.hard_sigmoid(x)  # (batch_size, 1)\n        return output\n</code></pre>"},{"location":"Python3/TensorFlow/12.9.%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BF%9D%E5%AD%98%E4%B8%8E%E5%AF%BC%E5%85%A5.html#checkpoint","title":"Checkpoint","text":""},{"location":"Python3/TensorFlow/12.9.%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BF%9D%E5%AD%98%E4%B8%8E%E5%AF%BC%E5%85%A5.html#checkpoint_1","title":"\u4fdd\u5b58 Checkpoint","text":"<pre><code>num_epochs = 50\nbatch_size = 16\nlearning_rate = 0.001\n\nmodel = Perceptron()\ndata_loader = Loader()\noptimizer = tf.keras.optimizers.SGD(learning_rate=learning_rate, decay=1e-6, momentum=0.9, nesterov=True)\ncheckpoint = tf.train.Checkpoint(model=model, optimizer=optimizer)\n\nnum_batchs = int(data_loader.num_train_data // batch_size * num_epochs)\nfor batch_index in range(num_batchs):\n    X, y = data_loader.get_batch(batch_size)  # (batch_size, 2), (batch_size,)\n    with tf.GradientTape() as tape:\n        y_pred = model(X)  # (batch_size, 1)\n        loss = tf.keras.losses.mean_squared_error(y_true=y, y_pred=y_pred)  # (batch_size, )\n        loss = tf.reduce_mean(loss)  # scalar\n        # print(\"batch %d: loss %f\" % (batch_index, loss.numpy()))\n    grads = tape.gradient(loss, model.variables)\n    optimizer.apply_gradients(grads_and_vars=zip(grads, model.variables))\n    # print(model.get_weights())\n    if batch_index % 100 == 0:\n        checkpoint.save(\"./KerasPerceptron/model.ckpt\")\n\nprint(os.listdir(\"./KerasPerceptron\"))\n</code></pre> <pre><code>['checkpoint', 'model.ckpt-2.data-00000-of-00001',\n'model.ckpt-1.index', 'model.ckpt-1.data-00000-of-00001',\n'model.ckpt-3.index', 'model.ckpt-3.data-00000-of-00001',\n'model.ckpt-2.index']\n</code></pre>"},{"location":"Python3/TensorFlow/12.9.%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BF%9D%E5%AD%98%E4%B8%8E%E5%AF%BC%E5%85%A5.html#checkpoint_2","title":"\u6062\u590d Checkpoint","text":"<p><code>Checkpoint.restore</code> \u6062\u590d\u6a21\u578b\u6743\u91cd\u65f6\uff0c\u9700\u8981\u6307\u5b9a\u4fdd\u5b58\u8ba1\u6570\u3002</p> <pre><code>model_to_be_restored = KerasPerceptron()\ncheckpoint_2 = tf.train.Checkpoint(model=model_to_be_restored)\ncheckpoint_2.restore(r\"./KerasPerceptron/model.ckpt-3\")\n</code></pre> <pre><code>&lt;tensorflow.python.training.tracking.util.CheckpointLoadStatus at\n0x7f98447bd280&gt;\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>tf.train.latest_checkpoint</code> \u51fd\u6570\u81ea\u52a8\u786e\u5b9a\u6700\u540e\u7684\u4fdd\u5b58\u8ba1\u6570\u3002</p> <pre><code>checkpoint_2.restore(tf.train.latest_checkpoint(\"./KerasPerceptron/model.ckpt\"))\ncheckpoint_2.restore(tf.train.latest_checkpoint(\"./KerasPerceptron\"))\n</code></pre> <pre><code>&lt;tensorflow.python.training.tracking.util.CheckpointLoadStatus at\n0x7f98447bdfd0&gt;\n</code></pre>"},{"location":"Python3/TensorFlow/12.9.%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BF%9D%E5%AD%98%E4%B8%8E%E5%AF%BC%E5%85%A5.html#savemodel","title":"SaveModel","text":""},{"location":"Python3/gensim/14.1.word2vec%20model.html","title":"14.1.word2vec model","text":"<pre><code>import pprint\n%matplotlib inline\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#word2vec","title":"Word2Vec \u6a21\u578b","text":"<p>\u672c\u6587\u4ecb\u7ecdGensim\u7684Word2Vec\u6a21\u578b\uff0c\u5e76\u5728Lee Corpus\u4e0a\u6f14\u793a\u5176\u7528\u6cd5\u3002</p> <pre><code>import logging\nlogging.basicConfig(format='%(asctime)s : %(levelname)s : %(message)s', \n                    level=logging.INFO)\n</code></pre> <p>\u5982\u679c\u4f60\u4e4b\u524d\u9519\u8fc7\u4e86\u4ee4\u4eba\u632f\u594b\u7684\u7b97\u6cd5\uff0c\u90a3\u4e48word2vec\u73b0\u5728\u662f\u6df1\u5ea6\u5b66\u4e60\u7b97\u6cd5\u7684\u65b0\u661f\u4e4b\u4e00\uff0c\u56e0\u6b64\u53d7\u5230\u5e7f\u6cdb\u7684\u63a8\u8350\uff0c\u5c3d\u7ba1\u5b83\u672c\u8eab\u7684\u7f51\u7edc\u5c42\u5f88\u6d45\u3002word2vec\u53ef\u4ee5\u4ece\u5927\u91cf\u672a\u6ce8\u91ca\u7684\u7eaf\u6587\u672c\u4e2d\u81ea\u52a8\u5b66\u4e60\u5355\u8bcd\u4e4b\u95f4\u7684\u5173\u7cfb\u3002</p> <p>word2vec\u7684\u8f93\u51fa\u662f\u5177\u6709\u663e\u8457\u7ebf\u6027\u5173\u7cfb\u7684\u5411\u91cf\uff08\u6bcf\u4e2a\u5355\u8bcd\u5c31\u662f\u4e00\u4e2a\u5411\u91cf\uff09\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ul> <li>vec(\"king\") - vec(\"man\") + vec(\"woman\") =~ vec(\"queen\")</li> <li>vec(\"Montreal Canadiens\") \u2013 vec(\"Montreal\") + vec(\"Toronto\") =~ vec(\"Toronto Maple Leafs\")</li> </ul> <p>Word2vec\u5728\u81ea\u52a8\u6587\u672c\u6807\u8bb0\u3001\u63a8\u8350\u7cfb\u7edf\u548c\u673a\u5668\u7ffb\u8bd1\u4e2d\u975e\u5e38\u6709\u7528\u3002</p> <p>\u672c\u6559\u7a0b\u5c06:</p> <ol> <li>\u5f15\u5165\u201c Word2Vec\u201d\u4f5c\u4e3a\u5bf9\u4f20\u7edf bag-of-words \u6a21\u578b\u7684\u6539\u8fdb</li> <li>\u4f7f\u7528\u9884\u5148\u8bad\u7ec3\u7684\u6a21\u578b\u5c55\u793a\u201c Word2Vec\u201d\u7684\u529f\u80fd</li> <li>\u6f14\u793a\u6839\u636e\u60a8\u81ea\u5df1\u7684\u6570\u636e\u8bad\u7ec3\u65b0\u6a21\u578b</li> <li>\u6f14\u793a\u52a0\u8f7d\u548c\u4fdd\u5b58\u6a21\u578b</li> <li>\u4ecb\u7ecd\u51e0\u4e2a\u8bad\u7ec3\u53c2\u6570\u5e76\u6f14\u793a\u5176\u6548\u679c</li> <li>\u8ba8\u8bba\u5185\u5b58\u9700\u6c42</li> <li>\u901a\u8fc7\u5e94\u7528\u964d\u7ef4\u6765\u53ef\u89c6\u5316Word2Vec\u5d4c\u5165</li> </ol>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#bag-of-words","title":"\u56de\u987eBag-of-words\u6a21\u578b","text":"<p>\u6ce8\u610f\uff1a\u5982\u679c\u60a8\u5df2\u7ecf\u719f\u6089\u6a21\u578b\uff0c\u53ef\u4ee5\u8df3\u8fc7\u6a21\u578b\u56de\u987e\u3002 </p> <p>\u60a8\u53ef\u80fd\u4ece core_concepts_vector \u90e8\u5206\u719f\u6089\u4e86\u8bcd\u888b\u6a21\u578bhttps://en.wikipedia.org/wiki/Bag-of-words_model \u3002\u8be5\u6a21\u578b\u5c06\u6bcf\u4e2a\u6587\u6863\u8f6c\u6362\u4e3a\u56fa\u5b9a\u957f\u5ea6\u7684\u6574\u6570\u77e2\u91cf\u3002 \u4f8b\u5982\uff0c\u7ed9\u5b9a\u53e5\u5b50\uff1a</p> <ul> <li><code>John likes to watch movies. Mary likes movies too.</code></li> <li><code>John also likes to watch football games. Mary hates football.</code></li> </ul> <p>\u6a21\u578b\u8f93\u51fa\u5411\u91cf\uff1a</p> <ul> <li><code>[1, 2, 1, 1, 2, 1, 1, 0, 0, 0, 0]</code></li> <li><code>[1, 1, 1, 1, 0, 1, 0, 1, 2, 1, 1]</code></li> </ul> <p>\u6bcf\u4e2a\u5411\u91cf\u670910\u4e2a\u5143\u7d20\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5143\u7d20\u8ba1\u7b97\u6587\u6863\u4e2d\u7279\u5b9a\u5355\u8bcd\u51fa\u73b0\u7684\u6b21\u6570\u3002\u5143\u7d20\u7684\u987a\u5e8f\u662f\u4efb\u610f\u7684\u3002</p> <p>\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u5143\u7d20\u7684\u987a\u5e8f\u5bf9\u5e94\u4e8e\u4ee5\u4e0b\u5355\u8bcd\uff1a</p> <p><code>[\"John\", \"likes\", \"to\", \"watch\", \"movies\", \"Mary\", \"too\", \"also\", \"football\", \"games\", \"hates\"]</code>.</p> <p>\u8bcd\u888b\u6a21\u578b\u51fa\u5947\u5730\u6709\u6548\uff0c\u4f46\u6709\u51e0\u4e2a\u7f3a\u70b9\u3002</p> <p>\u9996\u5148\uff0c\u4ed6\u4eec\u4f1a\u4e22\u5931\u6240\u6709\u6709\u5173\u5355\u8bcd\u987a\u5e8f\u7684\u4fe1\u606f\uff1a\"John likes Mary\"\u548c\"Mary likes John\"\u5bf9\u5e94\u4e8e\u76f8\u540c\u7684\u5411\u91cf\u3002\u6709\u4e00\u4e2a\u89e3\u51b3\u65b9\u6848\uff1an-grams\u6a21\u578b\u8003\u8651\u957f\u5ea6\u4e3an\u7684\u5355\u8bcd\u77ed\u8bed\uff0c\u5c06\u6587\u6863\u8868\u793a\u4e3a\u56fa\u5b9a\u957f\u5ea6\u7684\u5411\u91cf\uff0c\u4ee5\u6355\u83b7\u5355\u8bcd\u987a\u5e8f\uff0c\u4f46\u906d\u53d7\u6570\u636e\u7a00\u758f\u548c\u9ad8\u7ef4\u5ea6\u7684\u56f0\u6270\u3002</p> <p>\u5176\u6b21\uff0c\u8be5\u6a21\u578b\u4e0d\u4f1a\u5c1d\u8bd5\u5b66\u4e60\u5355\u8bcd\u7684\u542b\u4e49\uff0c\u56e0\u6b64\uff0c\u5411\u91cf\u4e4b\u95f4\u7684\u8ddd\u79bb\u5e76\u4e0d\u603b\u662f\u53cd\u6620\u51fa\u542b\u4e49\u4e0a\u7684\u5dee\u5f02\u3002  Word2Vec\u6a21\u578b\u89e3\u51b3\u4e86\u7b2c\u4e8c\u4e2a\u95ee\u9898\u3002</p>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#word2vec_1","title":"Word2Vec\u6a21\u578b\u7b80\u4ecb","text":"<p>Word2Vec\u662f\u4e00\u79cd\u8f83\u65b0\u7684\u6a21\u578b\uff0c\u5b83\u4f7f\u7528\u6d45\u5c42\u795e\u7ecf\u7f51\u7edc\u5c06\u5355\u8bcd\u5d4c\u5165\u5230\u4f4e\u7ef4\u5411\u91cf\u7a7a\u95f4\u4e2d\u3002 \u7ed3\u679c\u662f\u4e00\u7ec4\u8bcd\u5411\u91cf\uff0c\u5728\u5411\u91cf\u7a7a\u95f4\u4e2d\u9760\u5728\u4e00\u8d77\u7684\u8bcd\u5411\u91cf\u6839\u636e\u4e0a\u4e0b\u6587\u5177\u6709\u76f8\u4f3c\u7684\u542b\u4e49\uff0c\u800c\u5f7c\u6b64\u8fdc\u79bb\u7684\u8bcd\u5411\u91cf\u5177\u6709\u4e0d\u540c\u7684\u542b\u4e49\u3002 \u4f8b\u5982\uff0c\u201c strong\u201d\u548c\u201c powerful\u201d\u5c06\u5f7c\u6b64\u9760\u8fd1\uff0c\u800c\u201c strong\u201d\u548c\u201c Paris\u201d\u5219\u76f8\u5bf9\u8f83\u8fdc\u3002</p> <p>\u8be5\u6a21\u578b\u6709\u4e24\u4e2a\u7248\u672c\uff0c<code>~gensim.models.word2vec.Word2Vec</code>\u7c7b\u5b9e\u73b0\u4e86\u4e24\u4e2a\u7248\u672c\uff1a</p> <ol> <li>Skip-grams (SG)</li> <li>Continuous-bag-of-words (CBOW)</li> </ol> <p>\u6ce8\u610f\uff1a\u4e0d\u8981\u8ba9\u4e0b\u9762\u7684\u5b9e\u73b0\u7ec6\u8282\u5413\u5230\u60a8\u3002\u5b83\u4eec\u662f\u9ad8\u7ea7\u6750\u6599\uff0c\u5982\u679c\u592a\u591a\uff0c\u5219\u7ee7\u7eed\u8fdb\u884c\u4e0b\u4e00\u90e8\u5206\u3002  </p> <p>\u4f8b\u5982\uff0c\u201cWord2Vec Skip-gram\u201d \u6a21\u578b\u5c06\u901a\u8fc7\u5728\u6587\u672c\u6570\u636e\u4e4b\u95f4\u8fdb\u884c\u7a97\u53e3\u79fb\u52a8\uff0c\u751f\u6210\u7684\u6210\u5bf9\u7684(word1\uff0cword2)\uff0c\u5e76\u6839\u636e\u8f93\u5165\u7684\u591a\u4e2a\u5355\u8bcd\u5bf9(word,word)\u8bad\u7ec3\u4e00\u4e2a1\u5c42\u9690\u85cf\u5c42\u7684\u795e\u7ecf\u7f51\u7edc\uff0c \u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u8f93\u5165\u9644\u8fd1\u5355\u8bcd\u7684\u9884\u6d4b\u6982\u7387\u5206\u5e03\u3002 \u5355\u8bcd\u7684one-hot \u7f16\u7801\u901a\u8fc7\u6295\u5f71\u5c42\uff08projection layer\uff09\u8fdb\u5165\u9690\u85cf\u5c42\uff1b\u8fd9\u4e9b\u6295\u5f71\u7684\u6743\u91cd\u88ab\u89e3\u91ca\u6210word embeddings\u3002\u56e0\u6b64\uff0c\u5982\u679c\u9690\u85cf\u5c42\u5177\u6709300\u4e2a\u795e\u7ecf\u5143\uff0c\u5219\u6b64\u7f51\u7edc\u5c06\u4e3a\u6211\u4eec\u63d0\u4f9b300\u7ef4\u7684word embeddings\u3002</p> <p>Continuous-bag-of-words Word2vec\u4e0eskip-gram model\u975e\u5e38\u76f8\u4f3c\u3002 \u5b83\u4e5f\u662f\u4e00\u4e2a\u542b\u67091\u5c42\u9690\u85cf\u5c42\u7684\u795e\u7ecf\u7f51\u7edc\u3002 \u5408\u6210\u8bad\u7ec3\u4efb\u52a1\u73b0\u5728\u4f7f\u7528\u591a\u4e2a\u8f93\u5165\u4e0a\u4e0b\u6587\u5355\u8bcd\u7684\u5e73\u5747\u503c\u6765\u9884\u6d4b\u76ee\u6807\u5355\u8bcd\uff0c\u800c\u4e0d\u662f\u50cfskip-gram model\u4e2d\u4f7f\u7528\u5355\u4e2a\u5355\u8bcd\u7684\u503c\u3002 \u540c\u6837\uff0c\u5c06one-hot\u7f16\u7801\u8f6c\u6362\u4e3a\u548c\u9690\u85cf\u5c42\u76f8\u540c\u7ef4\u5ea6\u7684\u5e73\u5747\u503c\u5411\u91cf\u7684\u6295\u5f71\u6743\u91cd\uff0c\u4e5f\u88ab\u89e3\u91ca\u4e3aword embeddings\u3002</p>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#word2vec_2","title":"Word2Vec \u6f14\u793a","text":"<p>\u8ba9\u6211\u4eec\u4e0b\u8f7d\u4e00\u4e2a\u9884\u5148\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u5e76\u8fdb\u884c\u8bd5\u7528\uff0c\u770b\u770bWord2Vec\u53ef\u4ee5\u505a\u4ec0\u4e48\u3002\u6211\u4eec\u5c06\u83b7\u53d6\u7684Word2Vec\u6a21\u578b\u4f7f\u7528Google\u65b0\u95fb\u6570\u636e\u8bad\u7ec3\uff0c\u8be5\u6a21\u578b\u6db5\u76d6\u5927\u7ea6300\u4e07\u4e2a\u5355\u8bcd\u548c\u77ed\u8bed\u3002\u8fd9\u6837\u7684\u6a21\u578b\u53ef\u80fd\u9700\u8981\u82b1\u8d39\u6570\u5c0f\u65f6\u6765\u8bad\u7ec3\uff0c\u4f46\u662f\u7531\u4e8e\u5df2\u7ecf\u53ef\u7528\uff0c\u56e0\u6b64\u4f7f\u7528Gensim\u8fdb\u884c\u4e0b\u8f7d\u548c\u52a0\u8f7d\u9700\u8981\u51e0\u5206\u949f\u3002</p> <p>\u6ce8\u610f\uff1a\u8be5\u6a21\u578b\u5927\u7ea6\u4e3a2GB\uff0c\u56e0\u6b64\u4f60\u9700\u8981\u4e00\u4e2a\u4e0d\u9519\u7684\u7f51\u7edc\u8fde\u63a5\u624d\u80fd\u7ee7\u7eed\u3002 \u5426\u5219\uff0c\u8bf7\u8df3\u81f3\u4e0b\u9762\u7684\u201c\u8bad\u7ec3\u81ea\u5df1\u7684\u6a21\u578b\u201d\u90e8\u5206\u3002</p> <p>\u60a8\u4e5f\u53ef\u4ee5\u67e5\u770b\u201c\u5728\u7ebfword2vec\u6f14\u793a\u201d\uff0c\u5728\u90a3\u91cc\u60a8\u53ef\u4ee5\u81ea\u5df1\u5c1d\u8bd5\u4f7f\u7528\u5411\u91cf\u4ee3\u6570\u3002\u8be5\u6f14\u793a\u5728\u6574\u4e2aGoogle\u65b0\u95fb\u6570\u636e\u96c6 (\u7ea61000\u4ebf\u4e2a\u5355\u8bcd) \u4e0a\u8fd0\u884cword2vec\u3002</p> <pre><code>import gensim.downloader as api\nwv = api.load('word2vec-google-news-300')\n</code></pre> <p>\u5982\u679c\u4f60\u672c\u5730\u5df2\u7ecf\u4e0b\u8f7d\u597d\u4e86<code>GoogleNews-vectors-negative300.bin</code>\u6a21\u578b\uff0c\u90a3\u4e48\u53ef\u4ee5\u8fd9\u6837\u5bfc\u5165\u6a21\u578b\uff1a</p> <pre><code>import gensim\nmodel_path = r\"C:\\Users\\two\\Desktop\\GoogleNews-vectors-negative300.bin\"\nwv = gensim.models.KeyedVectors.load_word2vec_format(model_path, binary=True)\n</code></pre> <pre><code>C:\\Users\\two\\AppData\\Roaming\\Python\\Python36\\site-packages\\gensim\\utils.py:1209: UserWarning: detected Windows; aliasing chunkize to chunkize_serial\nwarnings.warn(\"detected Windows; aliasing chunkize to chunkize_serial\")\n2020-01-21 15:28:51,172 : INFO : 'pattern' package not found; tag filters are not available for English\n2020-01-21 15:28:51,179 : INFO : loading projection weights from C:\\Users\\two\\Desktop\\GoogleNews-vectors-negative300.bin\nC:\\Users\\two\\AppData\\Roaming\\Python\\Python36\\site-packages\\smart_open\\smart_open_lib.py:402: UserWarning: This function is deprecated, use smart_open.open instead. See the migration notes for details: https://github.com/RaRe-Technologies/smart_open/blob/master/README.rst#migrating-to-the-new-open-function\n'See the migration notes for details: %s' % _MIGRATION_NOTES_URL\n2020-01-21 15:29:25,376 : INFO : loaded (3000000, 300) matrix from C:\\Users\\two\\Desktop\\GoogleNews-vectors-negative300.bin\n</code></pre> <p>\u5982\u679c\u52a0\u8f7d\u5165\u5b8c\u6574\u7684\u6a21\u578b\uff0c\u53ef\u4ee5\u770b\u5230\u63d0\u793a\uff1a</p> <pre><code> INFO : loaded (3000000, 300) matrix from GoogleNews-vectors-negative300.bin\n</code></pre> <p>\u8be5word2vec\u6a21\u578b\u7684\u8bcd\u5e93\u5305\u542b3000000\u4e2a\u5355\u8bcd\uff0c\u6bcf\u4e2a\u5355\u8bcd\u7684\u8bcd\u5411\u91cf\u6709300\u7ef4\u3002</p>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#_1","title":"\u83b7\u53d6\u8bcd\u5e93","text":"<p>\u5e38\u89c1\u7684\u64cd\u4f5c\u662f\u68c0\u7d22\u6a21\u578b\u7684\u8bcd\u6c47\u8868\u3002 \u8fd9\u5f88\u7b80\u5355\uff1a</p> <pre><code># .vocab  return dict {word:class  gensim.models.keyedvectors.Vocab}\n# gensim.models.keyedvectors.Vocab: A single vocabulary item, used internally for collecting per-word frequency/sampling info,\n# and for constructing binary trees (incl. both word leaves and inner nodes).\nfor i, word in enumerate(wv.vocab):\n    if i == 10:\n        break\n    print(word)\n\nprint(\"\u5f53\u524d\u8bcd\u5e93\u6709\",len(wv.vocab),\"\u4e2a\u5355\u8bcd\")\n</code></pre> <pre><code>&lt;/s&gt;\nin\nfor\nthat\nis\non\n##\nThe\nwith\nsaid\n\u5f53\u524d\u8bcd\u5e93\u6709 3000000 \u4e2a\u5355\u8bcd\n</code></pre> <pre><code># property \n# list of all words\nwv.index2word\nprint(\"\u5f53\u524d\u8bcd\u5e93\u6709\",len(wv.index2word),\"\u4e2a\u5355\u8bcd\")\n</code></pre> <pre><code>\u5f53\u524d\u8bcd\u5e93\u6709 3000000 \u4e2a\u5355\u8bcd\n</code></pre> <pre><code># property \n# list of all entities (words)\nwv.index2entity\nprint(\"\u5f53\u524d\u8bcd\u5e93\u6709\",len(wv.index2entity),\"\u4e2a\u5355\u8bcd\")\n</code></pre> <pre><code>\u5f53\u524d\u8bcd\u5e93\u6709 3000000 \u4e2a\u5355\u8bcd\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#_2","title":"\u83b7\u53d6\u8bcd\u5411\u91cf","text":"<p>\u83b7\u53d6\u8bcd\u5411\u91cf\u7684\u7ef4\u5ea6\u4fe1\u606f\uff1a</p> <pre><code>wv.vector_size\n</code></pre> <pre><code>300\n</code></pre> <p>\u8be5 word2vec \u6a21\u578b\u7684\u8bcd\u5411\u91cf\u6709300\u7ef4\u3002</p> <p>\u53ef\u4ee5\u8f7b\u677e\u5730\u83b7\u53d6\u5168\u90e8\u8bcd\u5411\u91cf\uff1a</p> <pre><code># property\n# \u5168\u90e8\u7684\u8bcd\u5411\u91cf\nprint(\"\u5b8c\u6574\u8bcd\u5411\u91cf\u77e9\u9635\u7684\u7ef4\u5ea6\u4fe1\u606f\uff1a\",wv.vectors.shape)\nwv.vectors\n# \u4e5f\u53ef\u4ee5\u4f7f\u7528 .syn0 \u5c5e\u6027\u83b7\u53d6\u5b8c\u6574\u7684\u8bcd\u5411\u91cf\n# \u4f46 .syn0 \u5c5e\u6027\u5728gensim4.0.0\u7248\u672c\u5c06\u4f1a\u88ab\u79fb\u9664\uff0c\u5efa\u8bae\u4f7f\u7528 .vectors\n</code></pre> <pre><code>\u5b8c\u6574\u8bcd\u5411\u91cf\u77e9\u9635\u7684\u7ef4\u5ea6\u4fe1\u606f\uff1a (3000000, 300)\n\narray([[ 1.1291504e-03, -8.9645386e-04,  3.1852722e-04, ...,\n        -1.5640259e-03, -1.2302399e-04, -8.6307526e-05],\n       [ 7.0312500e-02,  8.6914062e-02,  8.7890625e-02, ...,\n        -4.7607422e-02,  1.4465332e-02, -6.2500000e-02],\n       [-1.1779785e-02, -4.7363281e-02,  4.4677734e-02, ...,\n         7.1289062e-02, -3.4912109e-02,  2.4169922e-02],\n       ...,\n       [-1.9653320e-02, -9.0820312e-02, -1.9409180e-02, ...,\n        -1.6357422e-02, -1.3427734e-02,  4.6630859e-02],\n       [ 3.2714844e-02, -3.2226562e-02,  3.6132812e-02, ...,\n        -8.8500977e-03,  2.6977539e-02,  1.9042969e-02],\n       [ 4.5166016e-02, -4.5166016e-02, -3.9367676e-03, ...,\n         7.9589844e-02,  7.2265625e-02,  1.3000488e-02]], dtype=float32)\n</code></pre> <p>\u83b7\u53d6\u6807\u51c6\u5316\u4e4b\u540e\u7684\u8bcd\u5411\u91cf\u77e9\u9635\uff08\u4f46\u9884\u8bad\u7ec3\u6a21\u578b\u6ca1\u6709\u8fd9\u4e2a\u5c5e\u6027\uff0c\u56e0\u6b64\u4f1a\u629b\u51fa\u9519\u8bef\uff09\uff1a</p> <pre><code># wv.vector_size\n# property\n# \u5168\u90e8\u7684\u8bcd\u5411\u91cf\nprint(\"\u5b8c\u6574\u8bcd\u5411\u91cf\u77e9\u9635\u7684\u7ef4\u5ea6\u4fe1\u606f\uff1a\",wv.vectors_norm.shape)\nwv.vectors_norm\n# \u4e5f\u53ef\u4ee5\u4f7f\u7528 .syn0norm \u5c5e\u6027\u83b7\u53d6\u5b8c\u6574\u7684\u8bcd\u5411\u91cf\n# \u4f46 .syn0norm \u5c5e\u6027\u5728gensim4.0.0\u7248\u672c\u5c06\u4f1a\u88ab\u79fb\u9664\uff0c\u5efa\u8bae\u4f7f\u7528 .vectors_norm\n</code></pre> <pre><code>AttributeError: 'NoneType' object has no attribute 'shape'\n</code></pre> <p>\u5bf9\u4e8e\u51fa\u73b0\u5728\u6a21\u578b\u8bcd\u5e93\u4e2d\u7684\u8bcd\uff0c\u6211\u4eec\u53ef\u4ee5\u8f7b\u677e\u83b7\u5f97\u5b83\u7684\u5411\u91cf\u8868\u793a\uff1a</p> <pre><code>vec_king = wv['king']\n\nprint(\"\u8bcd\u5411\u91cf\u7684\u7ef4\u5ea6\uff1a\",vec_king.shape)\npprint.pprint(vec_king)\n# \u53ef\u4ee5\u8fd9\u6837\u83b7\u53d6\u591a\u4e2a\u5355\u8bcd\u7684\u8bcd\u5411\u91cf\n# wv[['king','car']]\n</code></pre> <pre><code>\u8bcd\u5411\u91cf\u7684\u7ef4\u5ea6\uff1a (300,)\narray([ 1.25976562e-01,  2.97851562e-02,  8.60595703e-03,  1.39648438e-01,\n       -2.56347656e-02, -3.61328125e-02,  1.11816406e-01, -1.98242188e-01,\n        5.12695312e-02,  3.63281250e-01, -2.42187500e-01, -3.02734375e-01,\n       -1.77734375e-01, -2.49023438e-02, -1.67968750e-01, -1.69921875e-01,\n        3.46679688e-02,  5.21850586e-03,  4.63867188e-02,  1.28906250e-01,\n        1.36718750e-01,  1.12792969e-01,  5.95703125e-02,  1.36718750e-01,\n        1.01074219e-01, -1.76757812e-01, -2.51953125e-01,  5.98144531e-02,\n        3.41796875e-01, -3.11279297e-02,  1.04492188e-01,  6.17675781e-02,\n        1.24511719e-01,  4.00390625e-01, -3.22265625e-01,  8.39843750e-02,\n        3.90625000e-02,  5.85937500e-03,  7.03125000e-02,  1.72851562e-01,\n        1.38671875e-01, -2.31445312e-01,  2.83203125e-01,  1.42578125e-01,\n        3.41796875e-01, -2.39257812e-02, -1.09863281e-01,  3.32031250e-02,\n       -5.46875000e-02,  1.53198242e-02, -1.62109375e-01,  1.58203125e-01,\n       -2.59765625e-01,  2.01416016e-02, -1.63085938e-01,  1.35803223e-03,\n       -1.44531250e-01, -5.68847656e-02,  4.29687500e-02, -2.46582031e-02,\n        1.85546875e-01,  4.47265625e-01,  9.58251953e-03,  1.31835938e-01,\n        9.86328125e-02, -1.85546875e-01, -1.00097656e-01, -1.33789062e-01,\n       -1.25000000e-01,  2.83203125e-01,  1.23046875e-01,  5.32226562e-02,\n       -1.77734375e-01,  8.59375000e-02, -2.18505859e-02,  2.05078125e-02,\n       -1.39648438e-01,  2.51464844e-02,  1.38671875e-01, -1.05468750e-01,\n        1.38671875e-01,  8.88671875e-02, -7.51953125e-02, -2.13623047e-02,\n        1.72851562e-01,  4.63867188e-02, -2.65625000e-01,  8.91113281e-03,\n        1.49414062e-01,  3.78417969e-02,  2.38281250e-01, -1.24511719e-01,\n       -2.17773438e-01, -1.81640625e-01,  2.97851562e-02,  5.71289062e-02,\n       -2.89306641e-02,  1.24511719e-02,  9.66796875e-02, -2.31445312e-01,\n        5.81054688e-02,  6.68945312e-02,  7.08007812e-02, -3.08593750e-01,\n       -2.14843750e-01,  1.45507812e-01, -4.27734375e-01, -9.39941406e-03,\n        1.54296875e-01, -7.66601562e-02,  2.89062500e-01,  2.77343750e-01,\n       -4.86373901e-04, -1.36718750e-01,  3.24218750e-01, -2.46093750e-01,\n       -3.03649902e-03, -2.11914062e-01,  1.25000000e-01,  2.69531250e-01,\n        2.04101562e-01,  8.25195312e-02, -2.01171875e-01, -1.60156250e-01,\n       -3.78417969e-02, -1.20117188e-01,  1.15234375e-01, -4.10156250e-02,\n       -3.95507812e-02, -8.98437500e-02,  6.34765625e-03,  2.03125000e-01,\n        1.86523438e-01,  2.73437500e-01,  6.29882812e-02,  1.41601562e-01,\n       -9.81445312e-02,  1.38671875e-01,  1.82617188e-01,  1.73828125e-01,\n        1.73828125e-01, -2.37304688e-01,  1.78710938e-01,  6.34765625e-02,\n        2.36328125e-01, -2.08984375e-01,  8.74023438e-02, -1.66015625e-01,\n       -7.91015625e-02,  2.43164062e-01, -8.88671875e-02,  1.26953125e-01,\n       -2.16796875e-01, -1.73828125e-01, -3.59375000e-01, -8.25195312e-02,\n       -6.49414062e-02,  5.07812500e-02,  1.35742188e-01, -7.47070312e-02,\n       -1.64062500e-01,  1.15356445e-02,  4.45312500e-01, -2.15820312e-01,\n       -1.11328125e-01, -1.92382812e-01,  1.70898438e-01, -1.25000000e-01,\n        2.65502930e-03,  1.92382812e-01, -1.74804688e-01,  1.39648438e-01,\n        2.92968750e-01,  1.13281250e-01,  5.95703125e-02, -6.39648438e-02,\n        9.96093750e-02, -2.72216797e-02,  1.96533203e-02,  4.27246094e-02,\n       -2.46093750e-01,  6.39648438e-02, -2.25585938e-01, -1.68945312e-01,\n        2.89916992e-03,  8.20312500e-02,  3.41796875e-01,  4.32128906e-02,\n        1.32812500e-01,  1.42578125e-01,  7.61718750e-02,  5.98144531e-02,\n       -1.19140625e-01,  2.74658203e-03, -6.29882812e-02, -2.72216797e-02,\n       -4.82177734e-03, -8.20312500e-02, -2.49023438e-02, -4.00390625e-01,\n       -1.06933594e-01,  4.24804688e-02,  7.76367188e-02, -1.16699219e-01,\n        7.37304688e-02, -9.22851562e-02,  1.07910156e-01,  1.58203125e-01,\n        4.24804688e-02,  1.26953125e-01,  3.61328125e-02,  2.67578125e-01,\n       -1.01074219e-01, -3.02734375e-01, -5.76171875e-02,  5.05371094e-02,\n        5.26428223e-04, -2.07031250e-01, -1.38671875e-01, -8.97216797e-03,\n       -2.78320312e-02, -1.41601562e-01,  2.07031250e-01, -1.58203125e-01,\n        1.27929688e-01,  1.49414062e-01, -2.24609375e-02, -8.44726562e-02,\n        1.22558594e-01,  2.15820312e-01, -2.13867188e-01, -3.12500000e-01,\n       -3.73046875e-01,  4.08935547e-03,  1.07421875e-01,  1.06933594e-01,\n        7.32421875e-02,  8.97216797e-03, -3.88183594e-02, -1.29882812e-01,\n        1.49414062e-01, -2.14843750e-01, -1.83868408e-03,  9.91210938e-02,\n        1.57226562e-01, -1.14257812e-01, -2.05078125e-01,  9.91210938e-02,\n        3.69140625e-01, -1.97265625e-01,  3.54003906e-02,  1.09375000e-01,\n        1.31835938e-01,  1.66992188e-01,  2.35351562e-01,  1.04980469e-01,\n       -4.96093750e-01, -1.64062500e-01, -1.56250000e-01, -5.22460938e-02,\n        1.03027344e-01,  2.43164062e-01, -1.88476562e-01,  5.07812500e-02,\n       -9.37500000e-02, -6.68945312e-02,  2.27050781e-02,  7.61718750e-02,\n        2.89062500e-01,  3.10546875e-01, -5.37109375e-02,  2.28515625e-01,\n        2.51464844e-02,  6.78710938e-02, -1.21093750e-01, -2.15820312e-01,\n       -2.73437500e-01, -3.07617188e-02, -3.37890625e-01,  1.53320312e-01,\n        2.33398438e-01, -2.08007812e-01,  3.73046875e-01,  8.20312500e-02,\n        2.51953125e-01, -7.61718750e-02, -4.66308594e-02, -2.23388672e-02,\n        2.99072266e-02, -5.93261719e-02, -4.66918945e-03, -2.44140625e-01,\n       -2.09960938e-01, -2.87109375e-01, -4.54101562e-02, -1.77734375e-01,\n       -2.79296875e-01, -8.59375000e-02,  9.13085938e-02,  2.51953125e-01],\n      dtype=float32)\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528<code>.get_vector()</code>\u65b9\u6cd5\u83b7\u53d6\u8bcd\u5411\u91cf\uff0c\u4f46<code>.get_vector()</code>\u65b9\u6cd5\u6bcf\u4e00\u6b21\u53ea\u80fd\u83b7\u53d6\u4e00\u4e2a\u8bcd\u5411\u91cf\uff1a</p> <pre><code>wv.get_vector(\"king\")\n</code></pre> <pre><code>array([ 1.25976562e-01,  2.97851562e-02,  8.60595703e-03,  1.39648438e-01,\n       -2.56347656e-02, -3.61328125e-02,  1.11816406e-01, -1.98242188e-01,\n        5.12695312e-02,  3.63281250e-01, -2.42187500e-01, -3.02734375e-01,\n       -1.77734375e-01, -2.49023438e-02, -1.67968750e-01, -1.69921875e-01,\n        3.46679688e-02,  5.21850586e-03,  4.63867188e-02,  1.28906250e-01,\n        1.36718750e-01,  1.12792969e-01,  5.95703125e-02,  1.36718750e-01,\n        1.01074219e-01, -1.76757812e-01, -2.51953125e-01,  5.98144531e-02,\n        3.41796875e-01, -3.11279297e-02,  1.04492188e-01,  6.17675781e-02,\n        1.24511719e-01,  4.00390625e-01, -3.22265625e-01,  8.39843750e-02,\n        3.90625000e-02,  5.85937500e-03,  7.03125000e-02,  1.72851562e-01,\n        1.38671875e-01, -2.31445312e-01,  2.83203125e-01,  1.42578125e-01,\n        3.41796875e-01, -2.39257812e-02, -1.09863281e-01,  3.32031250e-02,\n       -5.46875000e-02,  1.53198242e-02, -1.62109375e-01,  1.58203125e-01,\n       -2.59765625e-01,  2.01416016e-02, -1.63085938e-01,  1.35803223e-03,\n       -1.44531250e-01, -5.68847656e-02,  4.29687500e-02, -2.46582031e-02,\n        1.85546875e-01,  4.47265625e-01,  9.58251953e-03,  1.31835938e-01,\n        9.86328125e-02, -1.85546875e-01, -1.00097656e-01, -1.33789062e-01,\n       -1.25000000e-01,  2.83203125e-01,  1.23046875e-01,  5.32226562e-02,\n       -1.77734375e-01,  8.59375000e-02, -2.18505859e-02,  2.05078125e-02,\n       -1.39648438e-01,  2.51464844e-02,  1.38671875e-01, -1.05468750e-01,\n        1.38671875e-01,  8.88671875e-02, -7.51953125e-02, -2.13623047e-02,\n        1.72851562e-01,  4.63867188e-02, -2.65625000e-01,  8.91113281e-03,\n        1.49414062e-01,  3.78417969e-02,  2.38281250e-01, -1.24511719e-01,\n       -2.17773438e-01, -1.81640625e-01,  2.97851562e-02,  5.71289062e-02,\n       -2.89306641e-02,  1.24511719e-02,  9.66796875e-02, -2.31445312e-01,\n        5.81054688e-02,  6.68945312e-02,  7.08007812e-02, -3.08593750e-01,\n       -2.14843750e-01,  1.45507812e-01, -4.27734375e-01, -9.39941406e-03,\n        1.54296875e-01, -7.66601562e-02,  2.89062500e-01,  2.77343750e-01,\n       -4.86373901e-04, -1.36718750e-01,  3.24218750e-01, -2.46093750e-01,\n       -3.03649902e-03, -2.11914062e-01,  1.25000000e-01,  2.69531250e-01,\n        2.04101562e-01,  8.25195312e-02, -2.01171875e-01, -1.60156250e-01,\n       -3.78417969e-02, -1.20117188e-01,  1.15234375e-01, -4.10156250e-02,\n       -3.95507812e-02, -8.98437500e-02,  6.34765625e-03,  2.03125000e-01,\n        1.86523438e-01,  2.73437500e-01,  6.29882812e-02,  1.41601562e-01,\n       -9.81445312e-02,  1.38671875e-01,  1.82617188e-01,  1.73828125e-01,\n        1.73828125e-01, -2.37304688e-01,  1.78710938e-01,  6.34765625e-02,\n        2.36328125e-01, -2.08984375e-01,  8.74023438e-02, -1.66015625e-01,\n       -7.91015625e-02,  2.43164062e-01, -8.88671875e-02,  1.26953125e-01,\n       -2.16796875e-01, -1.73828125e-01, -3.59375000e-01, -8.25195312e-02,\n       -6.49414062e-02,  5.07812500e-02,  1.35742188e-01, -7.47070312e-02,\n       -1.64062500e-01,  1.15356445e-02,  4.45312500e-01, -2.15820312e-01,\n       -1.11328125e-01, -1.92382812e-01,  1.70898438e-01, -1.25000000e-01,\n        2.65502930e-03,  1.92382812e-01, -1.74804688e-01,  1.39648438e-01,\n        2.92968750e-01,  1.13281250e-01,  5.95703125e-02, -6.39648438e-02,\n        9.96093750e-02, -2.72216797e-02,  1.96533203e-02,  4.27246094e-02,\n       -2.46093750e-01,  6.39648438e-02, -2.25585938e-01, -1.68945312e-01,\n        2.89916992e-03,  8.20312500e-02,  3.41796875e-01,  4.32128906e-02,\n        1.32812500e-01,  1.42578125e-01,  7.61718750e-02,  5.98144531e-02,\n       -1.19140625e-01,  2.74658203e-03, -6.29882812e-02, -2.72216797e-02,\n       -4.82177734e-03, -8.20312500e-02, -2.49023438e-02, -4.00390625e-01,\n       -1.06933594e-01,  4.24804688e-02,  7.76367188e-02, -1.16699219e-01,\n        7.37304688e-02, -9.22851562e-02,  1.07910156e-01,  1.58203125e-01,\n        4.24804688e-02,  1.26953125e-01,  3.61328125e-02,  2.67578125e-01,\n       -1.01074219e-01, -3.02734375e-01, -5.76171875e-02,  5.05371094e-02,\n        5.26428223e-04, -2.07031250e-01, -1.38671875e-01, -8.97216797e-03,\n       -2.78320312e-02, -1.41601562e-01,  2.07031250e-01, -1.58203125e-01,\n        1.27929688e-01,  1.49414062e-01, -2.24609375e-02, -8.44726562e-02,\n        1.22558594e-01,  2.15820312e-01, -2.13867188e-01, -3.12500000e-01,\n       -3.73046875e-01,  4.08935547e-03,  1.07421875e-01,  1.06933594e-01,\n        7.32421875e-02,  8.97216797e-03, -3.88183594e-02, -1.29882812e-01,\n        1.49414062e-01, -2.14843750e-01, -1.83868408e-03,  9.91210938e-02,\n        1.57226562e-01, -1.14257812e-01, -2.05078125e-01,  9.91210938e-02,\n        3.69140625e-01, -1.97265625e-01,  3.54003906e-02,  1.09375000e-01,\n        1.31835938e-01,  1.66992188e-01,  2.35351562e-01,  1.04980469e-01,\n       -4.96093750e-01, -1.64062500e-01, -1.56250000e-01, -5.22460938e-02,\n        1.03027344e-01,  2.43164062e-01, -1.88476562e-01,  5.07812500e-02,\n       -9.37500000e-02, -6.68945312e-02,  2.27050781e-02,  7.61718750e-02,\n        2.89062500e-01,  3.10546875e-01, -5.37109375e-02,  2.28515625e-01,\n        2.51464844e-02,  6.78710938e-02, -1.21093750e-01, -2.15820312e-01,\n       -2.73437500e-01, -3.07617188e-02, -3.37890625e-01,  1.53320312e-01,\n        2.33398438e-01, -2.08007812e-01,  3.73046875e-01,  8.20312500e-02,\n        2.51953125e-01, -7.61718750e-02, -4.66308594e-02, -2.23388672e-02,\n        2.99072266e-02, -5.93261719e-02, -4.66918945e-03, -2.44140625e-01,\n       -2.09960938e-01, -2.87109375e-01, -4.54101562e-02, -1.77734375e-01,\n       -2.79296875e-01, -8.59375000e-02,  9.13085938e-02,  2.51953125e-01],\n      dtype=float32)\n</code></pre> <p><code>.get_vector()</code>\u65b9\u6cd5\u7b49\u6548\u4e8e<code>.word_vec(word, use_norm=False)</code>\uff0c\u4f46<code>.word_vec(word, use_norm=False)</code>\u65b9\u6cd5\u53ef\u4ee5\u901a\u8fc7<code>use_norm</code>\u53c2\u6570\u63a7\u5236\u662f\u5426\u8fd4\u56deL2\u5f52\u4e00\u5316\u540e\u7684\u8bcd\u5411\u91cf\uff1a</p> <pre><code>\"\"\"\nuse_norm (bool, optional) \u2013 If True - resulting vector will be L2-normalized (unit euclidean length).\n\"\"\"\n\nwv.word_vec('king', use_norm=False)\n</code></pre> <pre><code>array([ 1.25976562e-01,  2.97851562e-02,  8.60595703e-03,  1.39648438e-01,\n       -2.56347656e-02, -3.61328125e-02,  1.11816406e-01, -1.98242188e-01,\n        5.12695312e-02,  3.63281250e-01, -2.42187500e-01, -3.02734375e-01,\n       -1.77734375e-01, -2.49023438e-02, -1.67968750e-01, -1.69921875e-01,\n        3.46679688e-02,  5.21850586e-03,  4.63867188e-02,  1.28906250e-01,\n        1.36718750e-01,  1.12792969e-01,  5.95703125e-02,  1.36718750e-01,\n        1.01074219e-01, -1.76757812e-01, -2.51953125e-01,  5.98144531e-02,\n        3.41796875e-01, -3.11279297e-02,  1.04492188e-01,  6.17675781e-02,\n        1.24511719e-01,  4.00390625e-01, -3.22265625e-01,  8.39843750e-02,\n        3.90625000e-02,  5.85937500e-03,  7.03125000e-02,  1.72851562e-01,\n        1.38671875e-01, -2.31445312e-01,  2.83203125e-01,  1.42578125e-01,\n        3.41796875e-01, -2.39257812e-02, -1.09863281e-01,  3.32031250e-02,\n       -5.46875000e-02,  1.53198242e-02, -1.62109375e-01,  1.58203125e-01,\n       -2.59765625e-01,  2.01416016e-02, -1.63085938e-01,  1.35803223e-03,\n       -1.44531250e-01, -5.68847656e-02,  4.29687500e-02, -2.46582031e-02,\n        1.85546875e-01,  4.47265625e-01,  9.58251953e-03,  1.31835938e-01,\n        9.86328125e-02, -1.85546875e-01, -1.00097656e-01, -1.33789062e-01,\n       -1.25000000e-01,  2.83203125e-01,  1.23046875e-01,  5.32226562e-02,\n       -1.77734375e-01,  8.59375000e-02, -2.18505859e-02,  2.05078125e-02,\n       -1.39648438e-01,  2.51464844e-02,  1.38671875e-01, -1.05468750e-01,\n        1.38671875e-01,  8.88671875e-02, -7.51953125e-02, -2.13623047e-02,\n        1.72851562e-01,  4.63867188e-02, -2.65625000e-01,  8.91113281e-03,\n        1.49414062e-01,  3.78417969e-02,  2.38281250e-01, -1.24511719e-01,\n       -2.17773438e-01, -1.81640625e-01,  2.97851562e-02,  5.71289062e-02,\n       -2.89306641e-02,  1.24511719e-02,  9.66796875e-02, -2.31445312e-01,\n        5.81054688e-02,  6.68945312e-02,  7.08007812e-02, -3.08593750e-01,\n       -2.14843750e-01,  1.45507812e-01, -4.27734375e-01, -9.39941406e-03,\n        1.54296875e-01, -7.66601562e-02,  2.89062500e-01,  2.77343750e-01,\n       -4.86373901e-04, -1.36718750e-01,  3.24218750e-01, -2.46093750e-01,\n       -3.03649902e-03, -2.11914062e-01,  1.25000000e-01,  2.69531250e-01,\n        2.04101562e-01,  8.25195312e-02, -2.01171875e-01, -1.60156250e-01,\n       -3.78417969e-02, -1.20117188e-01,  1.15234375e-01, -4.10156250e-02,\n       -3.95507812e-02, -8.98437500e-02,  6.34765625e-03,  2.03125000e-01,\n        1.86523438e-01,  2.73437500e-01,  6.29882812e-02,  1.41601562e-01,\n       -9.81445312e-02,  1.38671875e-01,  1.82617188e-01,  1.73828125e-01,\n        1.73828125e-01, -2.37304688e-01,  1.78710938e-01,  6.34765625e-02,\n        2.36328125e-01, -2.08984375e-01,  8.74023438e-02, -1.66015625e-01,\n       -7.91015625e-02,  2.43164062e-01, -8.88671875e-02,  1.26953125e-01,\n       -2.16796875e-01, -1.73828125e-01, -3.59375000e-01, -8.25195312e-02,\n       -6.49414062e-02,  5.07812500e-02,  1.35742188e-01, -7.47070312e-02,\n       -1.64062500e-01,  1.15356445e-02,  4.45312500e-01, -2.15820312e-01,\n       -1.11328125e-01, -1.92382812e-01,  1.70898438e-01, -1.25000000e-01,\n        2.65502930e-03,  1.92382812e-01, -1.74804688e-01,  1.39648438e-01,\n        2.92968750e-01,  1.13281250e-01,  5.95703125e-02, -6.39648438e-02,\n        9.96093750e-02, -2.72216797e-02,  1.96533203e-02,  4.27246094e-02,\n       -2.46093750e-01,  6.39648438e-02, -2.25585938e-01, -1.68945312e-01,\n        2.89916992e-03,  8.20312500e-02,  3.41796875e-01,  4.32128906e-02,\n        1.32812500e-01,  1.42578125e-01,  7.61718750e-02,  5.98144531e-02,\n       -1.19140625e-01,  2.74658203e-03, -6.29882812e-02, -2.72216797e-02,\n       -4.82177734e-03, -8.20312500e-02, -2.49023438e-02, -4.00390625e-01,\n       -1.06933594e-01,  4.24804688e-02,  7.76367188e-02, -1.16699219e-01,\n        7.37304688e-02, -9.22851562e-02,  1.07910156e-01,  1.58203125e-01,\n        4.24804688e-02,  1.26953125e-01,  3.61328125e-02,  2.67578125e-01,\n       -1.01074219e-01, -3.02734375e-01, -5.76171875e-02,  5.05371094e-02,\n        5.26428223e-04, -2.07031250e-01, -1.38671875e-01, -8.97216797e-03,\n       -2.78320312e-02, -1.41601562e-01,  2.07031250e-01, -1.58203125e-01,\n        1.27929688e-01,  1.49414062e-01, -2.24609375e-02, -8.44726562e-02,\n        1.22558594e-01,  2.15820312e-01, -2.13867188e-01, -3.12500000e-01,\n       -3.73046875e-01,  4.08935547e-03,  1.07421875e-01,  1.06933594e-01,\n        7.32421875e-02,  8.97216797e-03, -3.88183594e-02, -1.29882812e-01,\n        1.49414062e-01, -2.14843750e-01, -1.83868408e-03,  9.91210938e-02,\n        1.57226562e-01, -1.14257812e-01, -2.05078125e-01,  9.91210938e-02,\n        3.69140625e-01, -1.97265625e-01,  3.54003906e-02,  1.09375000e-01,\n        1.31835938e-01,  1.66992188e-01,  2.35351562e-01,  1.04980469e-01,\n       -4.96093750e-01, -1.64062500e-01, -1.56250000e-01, -5.22460938e-02,\n        1.03027344e-01,  2.43164062e-01, -1.88476562e-01,  5.07812500e-02,\n       -9.37500000e-02, -6.68945312e-02,  2.27050781e-02,  7.61718750e-02,\n        2.89062500e-01,  3.10546875e-01, -5.37109375e-02,  2.28515625e-01,\n        2.51464844e-02,  6.78710938e-02, -1.21093750e-01, -2.15820312e-01,\n       -2.73437500e-01, -3.07617188e-02, -3.37890625e-01,  1.53320312e-01,\n        2.33398438e-01, -2.08007812e-01,  3.73046875e-01,  8.20312500e-02,\n        2.51953125e-01, -7.61718750e-02, -4.66308594e-02, -2.23388672e-02,\n        2.99072266e-02, -5.93261719e-02, -4.66918945e-03, -2.44140625e-01,\n       -2.09960938e-01, -2.87109375e-01, -4.54101562e-02, -1.77734375e-01,\n       -2.79296875e-01, -8.59375000e-02,  9.13085938e-02,  2.51953125e-01],\n      dtype=float32)\n</code></pre> <p>\u4e0d\u5e78\u7684\u662f\uff0c\u8be5word2vec\u6a21\u578b\u65e0\u6cd5\u63a8\u65ad\u51fa\u964c\u751f\u5355\u8bcd\u7684\u5411\u91cf\u3002\u8fd9\u662fWord2Vec\u7684\u4e00\u4e2a\u5c40\u9650\uff1a\u5982\u679c\u4f60\u9700\u8981\u8fd9\u4e2a\u529f\u80fd\uff0c\u8bf7\u67e5\u770bFastText\u6a21\u578b\u3002</p> <pre><code>try:\n    vec_cameroon = wv['cameroon']\nexcept KeyError:\n    print(\"The word 'cameroon' does not appear in this model\")\n</code></pre> <pre><code>The word 'cameroon' does not appear in this model\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#_3","title":"\u76f8\u4f3c\u6027\u4efb\u52a1","text":"<p>Word2Vec\u652f\u6301\u591a\u4e2a\u5355\u8bcd\u76f8\u4f3c\u6027\u4efb\u52a1\u3002\u4f60\u53ef\u4ee5\u770b\u5230\u76f8\u4f3c\u5ea6\u5982\u4f55\u968f\u7740\u5355\u8bcd\u53d8\u5f97\u8d8a\u6765\u8d8a\u5c11\u800c\u76f4\u89c2\u5730\u964d\u4f4e\u3002</p> <pre><code>pairs = [\n    ('car', 'minivan'),   # a minivan is a kind of car\n    ('car', 'bicycle'),   # still a wheeled vehicle\n    ('car', 'airplane'),  # ok, no wheels, but still a vehicle\n    ('car', 'cereal'),    # ... and so on\n    ('car', 'communism'),\n]\nfor w1, w2 in pairs:\n    print('%r\\t%r\\t%.2f' % (w1, w2, wv.similarity(w1, w2)))\n</code></pre> <pre><code>'car'   'minivan'   0.69\n'car'   'bicycle'   0.54\n'car'   'airplane'  0.42\n'car'   'cereal'    0.14\n'car'   'communism' 0.06\n</code></pre> <p>\u627e\u51fa5\u4e2a\u4e0ecar\u6216minivan\u6700\u76f8\u4f3c\u7684\u8bcd\uff1a</p> <pre><code>\"\"\"\nmost_similar(positive=None, negative=None, topn=10, restrict_vocab=None, indexer=None)\n    restrict_vocab: int \u7528\u4e8e\u9650\u5236\u641c\u7d22\u6700\u76f8\u4f3c\u5355\u8bcd\u7684\u5411\u91cf\u8303\u56f4\u3002\n                    \u4f8b\u5982\uff0crestrict_vocab=10000\u5c06\u53ea\u68c0\u67e5\u8bcd\u5e93\u987a\u5e8f\u4e2d\u7684\u524d10000\u4e2a\u8bcd\u5411\u91cf\u3002\n                    \u5982\u679c\u8bcd\u5e93\u7684\u6392\u5e8f\u662f\u6309\u987a\u5e8f\u7684\uff0c\u8bbe\u7f6e\u8fd9\u4e2a\u53c2\u6570\u53ef\u80fd\u4f1a\u6709\u610f\u4e49\u3002\n\n\u627e\u51fa\u6700\u76f8\u4f3c\uff08\u6216\u6700\u4e0d\u76f8\u4f3c\uff09\u7684\u524dtopn\u4e2a\u5355\u8bcd\u3002\n\"\"\"\nwv.most_similar(positive=['car', 'minivan'], topn=5)\n</code></pre> <pre><code>[('SUV', 0.8532191514968872),\n ('vehicle', 0.8175784349441528),\n ('pickup_truck', 0.7763689160346985),\n ('Jeep', 0.7567334175109863),\n ('Ford_Explorer', 0.7565719485282898)]\n</code></pre> <p>\u627e\u51fa5\u4e2a\u4e0ecar\u6216minivan\u6700\u4e0d\u76f8\u4f3c\u7684\u8bcd\uff1a</p> <pre><code>wv.most_similar(negative=['car','minivan'], topn=5)\n</code></pre> <pre><code>[('Philippe_Giaro_P.Geol', 0.31101420521736145),\n ('K.Kahne_###-###', 0.3042159676551819),\n ('C.Bowyer_###-###', 0.278561532497406),\n ('M.Truex_Jr._###-###', 0.27755749225616455),\n ('By_SEAN_BARRON', 0.27275702357292175)]\n</code></pre> <p><code>.most_similar_cosmul()</code>\u65b9\u6cd5\u4e0e<code>.most_similar()</code>\u65b9\u6cd5\u76f8\u4f3c\uff0c\u4f46\u662f<code>.most_similar_cosmul()</code>\u65b9\u6cd5\u4f7f\u7528multiplicative combination objective\u65b9\u6cd5\u53bb\u8ba1\u7b97\u5355\u8bcd\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002<code>.most_similar_cosmul()</code>\u8fd4\u56de\u7684\u6392\u540d\u4e0e<code>.most_similar()</code>\u76f8\u540c\u3002</p> <p>multiplicative combination objective\u8ba1\u7b97\u65b9\u6cd5\u51fa\u81ea Omer Levy and Yoav Goldberg \u201cLinguistic Regularities in Sparse and Explicit Word Representations\u201d</p> <pre><code>\"\"\"\nmost_similar_cosmul(positive=None, negative=None, topn=10)\n\u627e\u6700\u76f8\u4f3c\u7684\u524dn\u4e2a\u5355\u8bcd\n\"\"\"\nwv.most_similar_cosmul(positive=['car', 'minivan'], topn=5)\n</code></pre> <pre><code>[('SUV', 0.7949184775352478),\n ('vehicle', 0.7668868899345398),\n ('pickup_truck', 0.733077883720398),\n ('Jeep', 0.7184048891067505),\n ('Ford_Explorer', 0.7173909544944763)]\n</code></pre> <p>\u5355\u8bcdwater\u4e0e\u5217\u8868\u4e2d\u54ea\u4e2a\u5355\u8bcd\u6700\u76f8\u4f3c\uff1f</p> <pre><code>\"\"\"\nmost_similar_to_given(entity1, entities_list)\n\n\u4eceentities_list\u83b7\u53d6\u4e0eentity1\u6700\u76f8\u4f3c\u7684entity\u3002\n\"\"\"\nwv.most_similar_to_given(entity1='air', entities_list=['car', 'minivan','fire', 'water', 'land', 'sea'])\n</code></pre> <pre><code>'water'\n</code></pre> <p>\u4ee5\u4e0b\u54ea\u4e2a\u4e0d\u5c5e\u4e8e\u8be5\u5e8f\u5217\uff1f</p> <pre><code>wv.doesnt_match(['fire', 'water', 'land', 'sea', 'air', 'car'])\n</code></pre> <pre><code>C:\\Users\\two\\AppData\\Roaming\\Python\\Python36\\site-packages\\gensim\\models\\keyedvectors.py:893: FutureWarning: arrays to stack must be passed as a \"sequence\" type such as list or tuple. Support for non-sequence iterables such as generators is deprecated as of NumPy 1.16 and will raise an error in the future.\n  vectors = vstack(self.word_vec(word, use_norm=True) for word in used_words).astype(REAL)\n\n'car'\n</code></pre> <p>\u5728\u8bcd\u5e93\u4e2d\uff0c\u54ea\u4e9b\u5355\u8bcd\u6bd4SUV\u66f4\u63a5\u8fd1car\uff1f</p> <pre><code>\"\"\"\nwords_closer_than(w1, w2)\n    w1 (str) \u2013 Input word.\n    w2 (str) \u2013 Input word.\n\u5728\u8bcd\u5e93\u4e2d\u83b7\u53d6\u6240\u6709\u6bd4w2\u66f4\u63a5\u8fd1w1\u7684\u5355\u8bcd\u3002\n\"\"\"\n\nwv.words_closer_than('car','SUV')\n</code></pre> <pre><code>['vehicle', 'cars']\n</code></pre> <pre><code>\"\"\"\ncloser_than(entity1, entity2)\n\n\n\u83b7\u53d6\u6240\u6709\u6bd4entity2\u66f4\u63a5\u8fd1entity1\u7684entities\u3002\n\"\"\"\nwv.closer_than('car','SUV')\n</code></pre> <pre><code>['vehicle', 'cars']\n</code></pre> <pre><code>wv.get_keras_embedding()\n</code></pre> <pre><code>Using TensorFlow backend.\n2020-01-03 11:23:01,818 : WARNING : From C:\\Users\\two\\Anaconda3\\lib\\site-packages\\keras\\backend\\tensorflow_backend.py:74: The name tf.get_default_graph is deprecated. Please use tf.compat.v1.get_default_graph instead.\n\n\n&lt;keras.layers.embeddings.Embedding at 0x2663d025eb8&gt;\n</code></pre> <pre><code># wv.wmdistance(['car','minivan'], ['car']) errror:No module named 'pyemd'\n</code></pre> <pre><code># \u67e5\u770b word2vec model\u7684\u5168\u90e8\u5c5e\u6027\n[i for i in dir(wv) if not i.startswith(\"_\")]\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#_4","title":"\u83b7\u53d6\u4f59\u5f26\u8ddd\u79bb","text":"<pre><code>\"\"\"\ndistance(w1, w2) \n    w1: str \u2013 Input word\n    w2: str \u2013 Input word\n\u8ba1\u7b97\u4e24\u4e2a\u5355\u8bcd\u4e4b\u95f4\u7684\u4f59\u5f26\u8ddd\u79bb\uff0c\u8ddd\u79bb\u8d8a\u5c0f\u8d8a\u76f8\u4f3c\u3002\n\"\"\"\nwv.distance(\"car\",\"vehicle\")\n</code></pre> <pre><code>0.21789032220840454\n</code></pre> <pre><code>\"\"\"\ndistances(word_or_vector, other_words=())\n    word_or_vector: str, numpy.ndarray \u2013 Word or vector from which distances are to be computed.\n    other_words: iterable of str \u2013 \u5982\u679cother_words\u4e3a\u7a7a\uff0c\u5219\u8fd4\u56deword_or_vectors\u548cvocab\u4e2d\u6240\u6709\u5355\u8bcd\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002\n\u8ba1\u7b97\u5355\u8bcdword_or_vector\u548cother_words\u4e2d\u6240\u6709\u5355\u8bcd\u7684\u4f59\u5f26\u8ddd\u79bb\u3002\n\"\"\"\nwv.distances(word_or_vector=\"car\",other_words=(\"vehicle\",'SUV','truck','minivan','car'))\n</code></pre> <pre><code>array([0.21789044, 0.28390366, 0.32642102, 0.30929637, 0.        ],\n      dtype=float32)\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#_5","title":"\u83b7\u53d6\u4f59\u5f26\u76f8\u4f3c\u5ea6","text":"<pre><code>\"\"\"\nsimilarity(w1, w2)\n    w1 (str) \u2013 Input word.\n    w2 (str) \u2013 Input word.\n\u8ba1\u7b97\u4e24\u4e2a\u5355\u8bcd\u4e4b\u95f4\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\u3002\n\"\"\"\nwv.similarity(\"car\",\"car\")\n</code></pre> <pre><code>1.0\n</code></pre> <pre><code>\"\"\"\nn_similarity(ws1, ws2)\n    ws1 (list of str) \u2013 Sequence of words.\n    ws2 (list of str) \u2013 Sequence of words.\n\u8ba1\u7b97\u4e24\u7ec4\u5355\u8bcd\u4e4b\u95f4\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\u3002\n\"\"\"\nwv.n_similarity(['car','minivan'], ['car'])\n</code></pre> <pre><code>0.89490217\n</code></pre> <pre><code>\"\"\"\n# \u9759\u6001\u65b9\u6cd5\ncosine_similarities(vector_1, vectors_all)\n    vector_1 (numpy.ndarray) shape (dim,).\n    vectors_all (numpy.ndarray) shape (num_vectors, dim).\n\u8ba1\u7b97\u4e00\u4e2a\u5411\u91cf\u548c\u4e00\u7ec4\u5176\u4ed6\u5411\u91cf\u4e4b\u95f4\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\u3002    \n\"\"\"\nwv.cosine_similarities([1,2,3], [[1,2,3],[4,5,6]])\n</code></pre> <pre><code>array([1.        , 0.97463185])\n</code></pre> <p>\u8ba1\u7b97\u4e24\u4e2a\u5355\u8bcd\u4e4b\u95f4\u7684\u76f8\u5bf9\u4f59\u5f26\u76f8\u4f3c\u5ea6\uff1a</p> <p>\u8ba1\u7b97\u65b9\u6cd5\u51fa\u81ea Artuur Leeuwenberga, Mihaela Velab , Jon Dehdaribc, Josef van Genabithbc \u201cA Minimally Supervised Approach for Synonym Extraction with Word Embeddings\u201d \u7684\u516c\u5f0f(1)\u3002</p> <pre><code>\"\"\"\nrelative_cosine_similarity(wa, wb, topn=10)\n\n\u7ed9\u5b9a\u524dn\u4e2a\u76f8\u4f3c\u7684\u5355\u8bcd\uff0c\u8ba1\u7b97\u4e24\u4e2a\u5355\u8bcd\u4e4b\u95f4\u7684\u76f8\u5bf9\u4f59\u5f26\u76f8\u4f3c\u5ea6\u3002\n\"\"\"\nwv.relative_cosine_similarity(wa='car', wb= 'minivan', topn=10)\n</code></pre> <pre><code>0.1001322352889656\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#_6","title":"\u83b7\u53d6\u8ddd\u79bb\u6392\u540d","text":"<pre><code>\"\"\"\nrank(entity1, entity2)\n\n\u76f8\u5bf9\u4e8e\u6240\u6709entitie\u5230entity1\u7684\u8ddd\u79bb\uff0centity2\u5230entity1\u7684\u8ddd\u79bb\u7684\u6392\u540d\u3002\n\"\"\"\nprint(wv.rank(entity1='car', entity2='cars'))\nprint(wv.rank(entity1='car', entity2='car'))\n</code></pre> <pre><code>2\n1\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#_7","title":"\u8bad\u7ec3\u81ea\u5df1\u7684\u6a21\u578b","text":"<p>\u9996\u5148\uff0c\u4f60\u9700\u8981\u4e00\u4e9b\u6570\u636e\u6765\u8bad\u7ec3\u6a21\u578b\u3002 \u5bf9\u4e8e\u4ee5\u4e0b\u793a\u4f8b\uff0c\u6211\u4eec\u5c06\u4f7f\u7528<code>Lee Corpus</code>\u6570\u636e\uff0cgensim\u5e93\u5df2\u5e26\u6709\u8be5\u6570\u636e\u96c6\u3002</p> <p>\u8fd9\u4e2a\u8bed\u6599\u5e93\u8db3\u591f\u5c0f\uff0c\u53ef\u4ee5\u5b8c\u5168\u52a0\u8f7d\u5165\u5185\u5b58\u4e2d\uff0c\u4f46\u662f\u6211\u4eec\u5c06\u5b9e\u73b0\u4e00\u4e2a\u5bf9\u5185\u5b58\u53cb\u597d\u7684\u8fed\u4ee3\u5668\uff0c\u8be5\u8fed\u4ee3\u5668\u9010\u884c\u8bfb\u53d6\u5b83\uff0c\u7528\u6765\u6f14\u793agensim\u5982\u4f55\u5904\u7406\u66f4\u5927\u7684\u8bed\u6599\u5e93\u3002</p> <pre><code>from gensim.test.utils import datapath\nfrom gensim import utils\n\nclass MyCorpus(object):\n\"\"\"\u4ea7\u751f\u53e5\u5b50\uff08lists of str\uff09\u7684\u8fed\u4ee3\u5668\u3002\"\"\"\n\n    def __iter__(self):\n        corpus_path = datapath('lee_background.cor')\n        for line in open(corpus_path):\n            # \u5047\u8bbe\u6bcf\u884c\u6709\u4e00\u4e2a\u6587\u6863\uff0ctokens\u88ab\u7a7a\u683c\u5206\u5f00\n            yield utils.simple_preprocess(line)\n</code></pre> <pre><code>2020-01-02 21:16:01,714 : INFO : adding document #0 to Dictionary(0 unique tokens: [])\n2020-01-02 21:16:01,716 : INFO : built Dictionary(12 unique tokens: ['computer', 'human', 'interface', 'response', 'survey']...) from 9 documents (total 29 corpus positions)\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u60f3\u8fdb\u884c\u4efb\u4f55\u81ea\u5b9a\u4e49\u7684\u9884\u5904\u7406\uff0c\u4f8b\u5982\uff1a\u89e3\u7801\u975e\u6807\u51c6\u7f16\u7801\u6570\u636e\u3001\u5b57\u6bcd\u5c0f\u5199\u5316\u3001\u5220\u9664\u6570\u5b57\u3001\u63d0\u53d6\u547d\u540d\u5b9e\u4f53\u3002\u6240\u6709\u8fd9\u4e9b\u90fd\u53ef\u4ee5\u5728<code>MyCorpus</code>\u8fed\u4ee3\u5668\u5185\u5b8c\u6210\uff0c\u800c<code>word2vec</code>\u4e0d\u9700\u8981\u77e5\u9053\u8fd9\u4e9b\u5904\u7406\u3002<code>word2vec</code>\u53ea\u9700\u8f93\u5165\u7684\u8fed\u4ee3\u5668\u4ea7\u751f\u4e00\u4e2a\u53c8\u4e00\u4e2a\u53e5\u5b50(list of utf-8 words) \u3002</p> <p>\u8ba9\u6211\u4eec\u7ee7\u7eed\uff0c\u5728\u6211\u4eec\u7684\u8bed\u6599\u5e93\u4e0a\u8bad\u7ec3\u6a21\u578b\u3002 \u6682\u65f6\u4e0d\u5fc5\u62c5\u5fc3\u8bad\u7ec3\u53c2\u6570\uff0c\u6211\u4eec\u7a0d\u540e\u5c06\u5bf9\u5176\u8fdb\u884c\u8ba8\u8bba\u3002</p> <pre><code>import gensim.models\n\nsentences = MyCorpus()\nmodel = gensim.models.Word2Vec(sentences=sentences)\n</code></pre> <pre><code>2020-01-02 21:16:05,695 : INFO : collecting all words and their counts\n2020-01-02 21:16:05,698 : INFO : PROGRESS: at sentence #0, processed 0 words, keeping 0 word types\n2020-01-02 21:16:06,042 : INFO : collected 6981 word types from a corpus of 58152 raw words and 300 sentences\n2020-01-02 21:16:06,047 : INFO : Loading a fresh vocabulary\n2020-01-02 21:16:06,126 : INFO : effective_min_count=5 retains 1750 unique words (25% of original 6981, drops 5231)\n2020-01-02 21:16:06,128 : INFO : effective_min_count=5 leaves 49335 word corpus (84% of original 58152, drops 8817)\n2020-01-02 21:16:06,140 : INFO : deleting the raw counts dictionary of 6981 items\n2020-01-02 21:16:06,142 : INFO : sample=0.001 downsamples 51 most-common words\n2020-01-02 21:16:06,145 : INFO : downsampling leaves estimated 35935 word corpus (72.8% of prior 49335)\n2020-01-02 21:16:06,156 : INFO : estimated required memory for 1750 words and 100 dimensions: 2275000 bytes\n2020-01-02 21:16:06,157 : INFO : resetting layer weights\n2020-01-02 21:16:06,683 : INFO : training model with 3 workers on 1750 vocabulary and 100 features, using sg=0 hs=0 sample=0.001 negative=5 window=5\n2020-01-02 21:16:06,863 : INFO : worker thread finished; awaiting finish of 2 more threads\n2020-01-02 21:16:06,877 : INFO : worker thread finished; awaiting finish of 1 more threads\n2020-01-02 21:16:06,884 : INFO : worker thread finished; awaiting finish of 0 more threads\n2020-01-02 21:16:06,886 : INFO : EPOCH - 1 : training on 58152 raw words (35883 effective words) took 0.2s, 180122 effective words/s\n2020-01-02 21:16:07,060 : INFO : worker thread finished; awaiting finish of 2 more threads\n2020-01-02 21:16:07,062 : INFO : worker thread finished; awaiting finish of 1 more threads\n2020-01-02 21:16:07,075 : INFO : worker thread finished; awaiting finish of 0 more threads\n2020-01-02 21:16:07,077 : INFO : EPOCH - 2 : training on 58152 raw words (35909 effective words) took 0.2s, 192286 effective words/s\n2020-01-02 21:16:07,249 : INFO : worker thread finished; awaiting finish of 2 more threads\n2020-01-02 21:16:07,251 : INFO : worker thread finished; awaiting finish of 1 more threads\n2020-01-02 21:16:07,268 : INFO : worker thread finished; awaiting finish of 0 more threads\n2020-01-02 21:16:07,269 : INFO : EPOCH - 3 : training on 58152 raw words (36011 effective words) took 0.2s, 190390 effective words/s\n2020-01-02 21:16:07,485 : INFO : worker thread finished; awaiting finish of 2 more threads\n2020-01-02 21:16:07,490 : INFO : worker thread finished; awaiting finish of 1 more threads\n2020-01-02 21:16:07,504 : INFO : worker thread finished; awaiting finish of 0 more threads\n2020-01-02 21:16:07,506 : INFO : EPOCH - 4 : training on 58152 raw words (35955 effective words) took 0.2s, 154656 effective words/s\n2020-01-02 21:16:07,709 : INFO : worker thread finished; awaiting finish of 2 more threads\n2020-01-02 21:16:07,711 : INFO : worker thread finished; awaiting finish of 1 more threads\n2020-01-02 21:16:07,723 : INFO : worker thread finished; awaiting finish of 0 more threads\n2020-01-02 21:16:07,724 : INFO : EPOCH - 5 : training on 58152 raw words (35937 effective words) took 0.2s, 167155 effective words/s\n2020-01-02 21:16:07,726 : INFO : training on a 290760 raw words (179695 effective words) took 1.0s, 172497 effective words/s\n</code></pre> <p>\u5efa\u7acb\u6a21\u578b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e0e\u4e0a\u9762\u6f14\u793a\u76f8\u540c\u7684\u65b9\u6cd5\u3002</p> <p>\u6a21\u578b\u7684\u4e3b\u8981\u90e8\u5206\u662f<code>model.wv</code>\uff0c\u5176\u4e2d<code>wv</code>\u4ee3\u8868word vector\u3002</p> <pre><code>vec_king = model.wv['king'];vec_king\n</code></pre> <pre><code>array([-0.00835394, -0.0045849 ,  0.02337644,  0.06137834,  0.03927568,\n        0.0771808 , -0.00613491,  0.04881869, -0.01778515, -0.05783534,\n        0.05000733,  0.04546838, -0.04622583,  0.02119355, -0.08289969,\n        0.06297314,  0.00819165, -0.04722812, -0.01712785, -0.06220391,\n       -0.01792748, -0.01274053,  0.03496742, -0.0297276 , -0.06460014,\n        0.04213679, -0.02229733,  0.07136393,  0.00484056, -0.00886152,\n       -0.00471885, -0.00707228,  0.00073703,  0.00370342, -0.0162351 ,\n        0.01090373,  0.02818023, -0.04841179,  0.04993173,  0.04033299,\n       -0.0018242 , -0.00435686,  0.08839191, -0.06075187, -0.00611064,\n        0.00549908, -0.00981818,  0.0147628 , -0.03261513,  0.00605273,\n        0.03322693,  0.03558705,  0.03365535, -0.01211257, -0.05132781,\n        0.00949616, -0.00190306,  0.03689624, -0.01641419, -0.00697564,\n        0.03875671,  0.01708069,  0.00355519,  0.01152966,  0.04929205,\n        0.02247121, -0.01232615,  0.0412309 ,  0.00039095, -0.01177677,\n       -0.03727527,  0.07211189, -0.02746879,  0.01342012, -0.03975392,\n        0.01483131,  0.02386127,  0.01227524, -0.01146569, -0.00367378,\n        0.00885449, -0.01065395,  0.01139999, -0.03370672, -0.00587148,\n        0.02534425,  0.01000963, -0.04751983, -0.01368179, -0.0111518 ,\n        0.03696112,  0.02186877, -0.03961398, -0.00126779,  0.02945407,\n       -0.01498374,  0.00616166, -0.01830531, -0.0072393 , -0.01315761],\n      dtype=float32)\n</code></pre> <p>\u68c0\u7d22\u8bcd\u6c47\u7684\u65b9\u6cd5\u76f8\u540c\uff1a</p> <pre><code>for i, word in enumerate(model.wv.vocab):\n    if i == 10:\n        break\n    print(word)\n</code></pre> <pre><code>hundreds\nof\npeople\nhave\nbeen\nforced\nto\ntheir\nhomes\nin\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#_8","title":"\u5b58\u50a8\u548c\u52a0\u8f7d\u6a21\u578b","text":"<p>\u5982\u679c\u8bed\u6599\u5e93\u8f83\u5927\uff0c\u8bad\u7ec3\u6a21\u578b\u4f1a\u82b1\u8d39\u4e0d\u5c11\u65f6\u95f4\u3002\u5982\u679c\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u6309\u9884\u671f\u5de5\u4f5c\uff0c\u53ef\u4ee5\u5c06\u5176\u4fdd\u5b58\u5230\u78c1\u76d8\u3002 \u8fd9\u6837\u4e00\u6765\uff0c\u4e0d\u5fc5\u5728\u4ee5\u540e\u518d\u82b1\u65f6\u95f4\u8fdb\u884c\u8bad\u7ec3\u3002</p> <p>\u4f60\u53ef\u4ee5\u4f7f\u7528 gensim \u7684\u6807\u51c6\u65b9\u6cd5\u533a\u50a8\u5b58\u548c\u52a0\u8f7d\u6a21\u578b\uff1a</p> <pre><code>import tempfile\n\nwith tempfile.NamedTemporaryFile(prefix='gensim-model-', delete=False) as tmp:\n    temporary_filepath = tmp.name\nmodel.save(temporary_filepath)\n#\n    # The model is now safely stored in the filepath.\n    # You can copy it to other machines, share it with others, etc.\n    #\n    # To load a saved model:\n    #\nnew_model = gensim.models.Word2Vec.load(temporary_filepath)\n</code></pre> <p>\u8fd9\u79cd\u505a\u6cd5\u5c06\u4fdd\u5b58\u6a21\u578b\u7684\u5168\u90e8\u4fe1\u606f\uff0c\u5b83\u5728\u5185\u90e8\u4f7f\u7528pickle\uff0c\u53ef\u4ee5\u9009\u62e9\u5c06\u6a21\u578b\u7684\u5185\u90e8\u5927\u578bNumPy\u77e9\u9635\u76f4\u63a5\u4ece\u78c1\u76d8\u6587\u4ef6\u8f6c\u6362\u5230\u865a\u62df\u5185\u5b58\u4e2d\uff0c\u4ee5\u5b9e\u73b0\u8fdb\u7a0b\u95f4\u5185\u5b58\u5171\u4eab\u3002</p> <p>\u6b64\u5916\uff0c\u8fd8\u53ef\u4ee5\u53ea\u4fdd\u5b58\u6a21\u578b\u7684\u8bcd\u5d4c\u5165\u5c42\u6743\u91cd\uff1a</p> <p>\u8bd1\u8005\u6ce8\uff1a\u8fd9\u79cd\u4fdd\u5b58\u683c\u5f0f\u5e94\u8be5\u4e0e\u539f\u59cbC\u5de5\u5177\u7684\u4fdd\u5b58\u683c\u5f0f\u76f8\u540c</p> <pre><code>model.wv.save_word2vec_format()\n</code></pre> <p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u6587\u672c\u6216\u4e8c\u8fdb\u5236\u683c\u5f0f\u52a0\u8f7d\u7531\u539f\u59cbC\u5de5\u5177\u521b\u5efa\u7684\u6a21\u578b\uff1a</p> <pre><code>model = gensim.models.KeyedVectors.load_word2vec_format('/tmp/vectors.txt', \n                                                        binary=False)\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#gzippedbz2","title":"\u4e5f\u53ef\u4ee5\u8f93\u5165gzipped/bz2\u6587\u4ef6\uff0c\u65e0\u9700\u89e3\u538b\u7f29","text":"<pre><code>model = gensim.models.KeyedVectors.load_word2vec_format('/tmp/vectors.bin.gz', \n                                                        binary=True)\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#_9","title":"\u8bad\u7ec3\u53c2\u6570","text":"<p><code>Word2Vec</code>\u63a5\u53d7\u51e0\u4e2a\u540c\u65f6\u5f71\u54cd\u8bad\u7ec3\u901f\u5ea6\u548c\u8d28\u91cf\u7684\u53c2\u6570\u3002</p>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#min_count","title":"min_count","text":"<p><code>min_count</code>\u7528\u4e8e\u4fee\u526a\u5185\u90e8\u8bcd\u6c47\u8868\u3002\u5728\u5341\u4ebf\u4e2a\u5355\u8bcd\u7684\u8bed\u6599\u5e93\u4e2d\u4ec5\u51fa\u73b0\u4e00\u4e24\u6b21\u7684\u5355\u8bcd\u53ef\u80fd\u662f\u65e0\u8da3\u7684\u9519\u522b\u5b57\u548c\u5783\u573e\u3002\u6b64\u5916\uff0c\u6ca1\u6709\u8db3\u591f\u7684\u6570\u636e\u6765\u5bf9\u8fd9\u4e9b\u5355\u8bcd\u8fdb\u884c\u4efb\u4f55\u6709\u610f\u4e49\u7684\u8bad\u7ec3\uff0c\u56e0\u6b64\u6700\u597d\u5ffd\u7565\u5b83\u4eec\uff1a</p> <pre><code># default value of min_count=5\nmodel = gensim.models.Word2Vec(sentences, min_count=10)\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#size","title":"size","text":"<p><code>size</code>\u662fgensim Word2Vec\u5c06\u5355\u8bcd\u6620\u5c04\u5230\u7684N\u7ef4\u7a7a\u95f4\u7684\u7ef4\u6570\uff08N\uff09\u3002\u8f83\u5927\u7684\u503c\u9700\u8981\u66f4\u591a\u7684\u8bad\u7ec3\u6570\u636e\uff0c\u4f46\u53ef\u4ee5\u4ea7\u751f\u66f4\u597d\uff08\u66f4\u51c6\u786e\uff09\u7684\u6a21\u578b\u3002\u5408\u7406\u7684\u503c\u5728\u6570\u5341\u5230\u6570\u767e\u4e4b\u95f4\u3002</p> <pre><code># default value of size=100\nmodel = gensim.models.Word2Vec(sentences, size=200)\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#workers","title":"workers","text":"<p><code>workers</code> \u662f\u6700\u540e\u4e00\u4e2a\u4e3b\u8981\u7684\u53c2\u6570\uff08\u5168\u90e8\u53c2\u6570\u5217\u8868\u89c1\u8fd9\u91cc\uff0c\u5b83\u7528\u4e8e\u5e76\u884c\u5316\u8bad\u7ec3\uff0c\u52a0\u5feb\u8bad\u7ec3\u901f\u5ea6\uff1a</p> <pre><code># default value of workers=3 (tutorial says 1...)\nmodel = gensim.models.Word2Vec(sentences, workers=4)\n</code></pre> <p><code>workers</code> \u53ea\u6709\u5728\u4f7f\u7528<code>Cython</code>\u89e3\u6790\u5668\u7684\u65f6\u5019\u624d\u751f\u6548\uff0c\u5982\u679c\u6ca1\u6709Cython\uff0c\u56e0\u4e3a\u5b58\u5728GIL\uff0c\u6240\u4ee5\u53ea\u80fd\u4f7f\u7528\u4e00\u4e2acpu\u6838\u5fc3\uff0c\u8fd9\u6837\u7684\u8bdd\uff0cword2vec\u7684\u8bad\u7ec3\u901f\u5ea6\u4f1a\u53d8\u5f97\u5f88\u6162\u5f88\u6162\u3002</p>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#memory","title":"Memory","text":"<p>Word2vec \u6a21\u578b\u53c2\u6570\u7684\u6838\u5fc3\u662f\u5b58\u50a8\u4e3a\u77e9\u9635(NumPy \u6570\u7ec4)\u3002 \u6bcf\u4e2a\u6570\u7ec4\u5927\u5c0f\u90fd\u662f\u8bcd\u6c47\u8868\u7684\u957f\u5ea6\u4e58\u4ee5<code>size</code>\u53c2\u6570\u6d6e\u70b9\u6570\uff084\u5b57\u8282\u7684\u5355\u7cbe\u5ea6\uff09\u3002</p> <p>\u5728RAM\u4e2d\u4fdd\u5b58\u4e86\u4e09\u4e2a\u8fd9\u6837\u7684\u77e9\u9635\uff08\u6b63\u5728\u52aa\u529b\u5c06\u8be5\u6570\u76ee\u51cf\u5c11\u5230\u4e24\u4e2a\uff0c\u751a\u81f3\u4e00\u4e2a\uff09\u3002\u56e0\u6b64\uff0c\u5982\u679c\u60a8\u7684\u8f93\u5165\u7684\u8bcd\u6c47\u8868\u6709100,000\u552f\u4e00\u7684\u5355\u8bcd\uff0c\u5e76\u4e14\u60a8\u8981\u6c42\u7684\u9690\u85cf\u5c42\u5927\u5c0f\u4e3a200\uff0c\u5219\u8be5\u6a21\u578b\u5c06\u9700\u8981\u5927\u7ea6 $$ 100000 \\times 200 \\times 4 \\times 3\u5b57\u8282 \\approx 229 MB $$ \u5b58\u50a8 vocabulary tree \u9700\u8981\u4e00\u4e9b\u989d\u5916\u7684\u5185\u5b58\uff08100,000\u4e2a\u5355\u8bcd\u5c06\u82b1\u8d39\u51e0MB\u7684\u50a8\u5b58\uff09\u3002\u56e0\u6b64\uff0c\u5185\u5b58\u5360\u7528\u91cf\u7531\u4e0a\u8ff0\u4e09\u4e2a\u77e9\u9635\u51b3\u5b9a\uff0c\u9664\u975e\u60a8\u7684\u5355\u8bcd\u662f\u5f88\u957f\u5f88\u957f\u7684\u5b57\u7b26\u4e32\u3002</p>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#evaluating","title":"Evaluating","text":"<p><code>Word2Vec</code> training is an unsupervised task, there\u2019s no good way to objectively evaluate the result. Evaluation depends on your end application.</p> <p>Google has released their testing set of about 20,000 syntactic and semantic test examples, following the \u201cA is to B as C is to D\u201d task. It is provided in the 'datasets' folder.</p> <p>For example a syntactic analogy of comparative type is bad:worse;good:?. There are total of 9 types of syntactic comparisons in the dataset like plural nouns and nouns of opposite meaning.</p> <p>The semantic questions contain five types of semantic analogies, such as capital cities (Paris:France;Tokyo:?) or family members (brother:sister;dad:?).</p> <p>Gensim supports the same evaluation set, in exactly the same format:</p> <pre><code>model.accuracy('./datasets/questions-words.txt')\n</code></pre> <p>This <code>accuracy</code> takes an <code>optional parameter &lt;http://radimrehurek.com/gensim/models/word2vec.html#gensim.models.word2vec.Word2Vec.accuracy&gt;</code>_ <code>restrict_vocab</code> which limits which test examples are to be considered.</p> <p>In the December 2016 release of Gensim we added a better way to evaluate semantic similarity.</p> <p>By default it uses an academic dataset WS-353 but one can create a dataset specific to your business based on it. It contains word pairs together with human-assigned similarity judgments. It measures the relatedness or co-occurrence of two words. For example, 'coast' and 'shore' are very similar as they appear in the same context. At the same time 'clothes' and 'closet' are less similar because they are related but not interchangeable.</p> <pre><code>model.evaluate_word_pairs(datapath('wordsim353.tsv'))\n</code></pre> <p>.. Important::   Good performance on Google's or WS-353 test set doesn\u2019t mean word2vec will   work well in your application, or vice versa. It\u2019s always best to evaluate   directly on your intended task. For an example of how to use word2vec in a   classifier pipeline, see this <code>tutorial   &lt;https://github.com/RaRe-Technologies/movie-plots-by-genre&gt;</code>_.</p>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#_10","title":"\u5728\u7ebf\u8bad\u7ec3/\u589e\u91cf\u8bad\u7ec3","text":"<p>\u9ad8\u7ea7\u7528\u6237\u53ef\u4ee5\u52a0\u8f7d\u4e00\u4e2a\u6a21\u578b\uff0c\u5e76\u901a\u8fc7\u66f4\u591a\u7684\u53e5\u5b50\u6765\u7ee7\u7eed\u8bad\u7ec3\u6a21\u578b\uff1a</p> <pre><code>model = gensim.models.Word2Vec.load(temporary_filepath)\nmore_sentences = [\n    ['Advanced', 'users', 'can', 'load', 'a', 'model',\n     'and', 'continue', 'training', 'it', 'with', 'more', 'sentences']\n]\nmodel.build_vocab(more_sentences, update=True)\nmodel.train(more_sentences, total_examples=model.corpus_count, epochs=model.iter)\n\n# cleaning up temporary file\nimport os\nos.remove(temporary_filepath)\n</code></pre> <p>\u60a8\u53ef\u80fd\u9700\u8981\u5c06<code>total_words</code>\u53c2\u6570\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u4f60\u60f3\u8981\u7684\u5b66\u4e60\u901f\u7387\u8870\u51cf\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u65e0\u6cd5\u589e\u91cf\u8bad\u7ec3\u4f7f\u7528C\u5de5\u5177<code>KeyedVectors.load_word2vec_format()</code>\u751f\u6210\u7684\u6a21\u578b\uff0c\u4f46\u53ef\u4ee5\u5c06\u5b83\u4eec\u7528\u4e8e\u67e5\u8be2/\u76f8\u4f3c\u6027\uff0c\u56e0\u4e3a\u6a21\u578b\u4e22\u5931\u4e86\u5bf9\u8bad\u7ec3\u81f3\u5173\u91cd\u8981\u7684\u4fe1\u606f\uff08vocab tree\uff09\u3002</p>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#training-loss-computation","title":"Training Loss Computation","text":"<p>The parameter <code>compute_loss</code> can be used to toggle computation of loss while training the Word2Vec model. The computed loss is stored in the model attribute <code>running_training_loss</code> and can be retrieved using the function <code>get_latest_training_loss</code> as follows :</p> <pre><code># instantiating and training the Word2Vec model\nmodel_with_loss = gensim.models.Word2Vec(\n    sentences,\n    min_count=1,\n    compute_loss=True,\n    hs=0,\n    sg=1,\n    seed=42\n)\n\n# getting the training loss value\ntraining_loss = model_with_loss.get_latest_training_loss()\nprint(training_loss)\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#benchmarks","title":"Benchmarks","text":"<p>Let's run some benchmarks to see effect of the training loss computation code on training time.</p> <p>We'll use the following data for the benchmarks:</p>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#lee-background-corpus-included-in-gensims-test-data","title":". Lee Background corpus: included in gensim's test data","text":""},{"location":"Python3/gensim/14.1.word2vec%20model.html#text8-corpus-to-demonstrate-the-effect-of-corpus-size-well-look-at-the","title":". Text8 corpus.  To demonstrate the effect of corpus size, we'll look at the","text":"<p>first 1MB, 10MB, 50MB of the corpus, as well as the entire thing.</p> <pre><code>import io\nimport os\n\nimport gensim.models.word2vec\nimport gensim.downloader as api\nimport smart_open\n\n\ndef head(path, size):\n    with smart_open.open(path) as fin:\n        return io.StringIO(fin.read(size))\n\n\ndef generate_input_data():\n    lee_path = datapath('lee_background.cor')\n    ls = gensim.models.word2vec.LineSentence(lee_path)\n    ls.name = '25kB'\n    yield ls\n\n    text8_path = api.load('text8').fn\n    labels = ('1MB', '10MB', '50MB', '100MB')\n    sizes = (1024 ** 2, 10 * 1024 ** 2, 50 * 1024 ** 2, 100 * 1024 ** 2)\n    for l, s in zip(labels, sizes):\n        ls = gensim.models.word2vec.LineSentence(head(text8_path, s))\n        ls.name = l\n        yield ls\n\n\ninput_data = list(generate_input_data())\n</code></pre> <p>We now compare the training time taken for different combinations of input data and model training parameters like <code>hs</code> and <code>sg</code>.</p> <p>For each combination, we repeat the test several times to obtain the mean and standard deviation of the test duration.</p> <pre><code># Temporarily reduce logging verbosity\nlogging.root.level = logging.ERROR\n\nimport time\nimport numpy as np\nimport pandas as pd\n\ntrain_time_values = []\nseed_val = 42\nsg_values = [0, 1]\nhs_values = [0, 1]\n\nfast = True\nif fast:\n    input_data_subset = input_data[:3]\nelse:\n    input_data_subset = input_data\n\n\nfor data in input_data_subset:\n    for sg_val in sg_values:\n        for hs_val in hs_values:\n            for loss_flag in [True, False]:\n                time_taken_list = []\n                for i in range(3):\n                    start_time = time.time()\n                    w2v_model = gensim.models.Word2Vec(\n                        data,\n                        compute_loss=loss_flag,\n                        sg=sg_val,\n                        hs=hs_val,\n                        seed=seed_val,\n                    )\n                    time_taken_list.append(time.time() - start_time)\n\n                time_taken_list = np.array(time_taken_list)\n                time_mean = np.mean(time_taken_list)\n                time_std = np.std(time_taken_list)\n\n                model_result = {\n                    'train_data': data.name,\n                    'compute_loss': loss_flag,\n                    'sg': sg_val,\n                    'hs': hs_val,\n                    'train_time_mean': time_mean,\n                    'train_time_std': time_std,\n                }\n                print(\"Word2vec model #%i: %s\" % (len(train_time_values), model_result))\n                train_time_values.append(model_result)\n\ntrain_times_table = pd.DataFrame(train_time_values)\ntrain_times_table = train_times_table.sort_values(\n    by=['train_data', 'sg', 'hs', 'compute_loss'],\n    ascending=[False, False, True, False],\n)\nprint(train_times_table)\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#adding-word2vec-model-to-dict-method-to-production-pipeline","title":"Adding Word2Vec \"model to dict\" method to production pipeline","text":"<p>Suppose, we still want more performance improvement in production.</p> <p>One good way is to cache all the similar words in a dictionary.</p> <p>So that next time when we get the similar query word, we'll search it first in the dict.</p> <p>And if it's a hit then we will show the result directly from the dictionary.</p> <p>otherwise we will query the word and then cache it so that it doesn't miss next time.</p> <pre><code># re-enable logging\nlogging.root.level = logging.INFO\n\nmost_similars_precalc = {word : model.wv.most_similar(word) for word in model.wv.index2word}\nfor i, (key, value) in enumerate(most_similars_precalc.items()):\n    if i == 3:\n        break\n    print(key, value)\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#comparison-with-and-without-caching","title":"Comparison with and without caching","text":"<p>for time being lets take 4 words randomly</p> <pre><code>import time\nwords = ['voted', 'few', 'their', 'around']\n</code></pre> <p>Without caching</p> <pre><code>start = time.time()\nfor word in words:\n    result = model.wv.most_similar(word)\n    print(result)\nend = time.time()\nprint(end - start)\n</code></pre> <p>Now with caching</p> <pre><code>start = time.time()\nfor word in words:\n    if 'voted' in most_similars_precalc:\n        result = most_similars_precalc[word]\n        print(result)\n    else:\n        result = model.wv.most_similar(word)\n        most_similars_precalc[word] = result\n        print(result)\n\nend = time.time()\nprint(end - start)\n</code></pre> <p>Clearly you can see the improvement but this difference will be even larger when we take more words in the consideration.</p>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#visualising-the-word-embeddings","title":"Visualising the Word Embeddings","text":"<p>The word embeddings made by the model can be visualised by reducing dimensionality of the words to 2 dimensions using tSNE.</p> <p>Visualisations can be used to notice semantic and syntactic trends in the data.</p> <p>Example:</p> <ul> <li>Semantic: words like cat, dog, cow, etc. have a tendency to lie close by</li> <li>Syntactic: words like run, running or cut, cutting lie close together.</li> </ul> <p>Vector relations like vKing - vMan = vQueen - vWoman can also be noticed.</p> <p>.. Important::   The model used for the visualisation is trained on a small corpus. Thus   some of the relations might not be so clear.</p> <pre><code>from sklearn.decomposition import IncrementalPCA    # inital reduction\nfrom sklearn.manifold import TSNE                   # final reduction\nimport numpy as np                                  # array handling\n\n\ndef reduce_dimensions(model):\n    num_dimensions = 2  # final num dimensions (2D, 3D, etc)\n\n    vectors = [] # positions in vector space\n    labels = [] # keep track of words to label our data again later\n    for word in model.wv.vocab:\n        vectors.append(model.wv[word])\n        labels.append(word)\n\n    # convert both lists into numpy vectors for reduction\n    vectors = np.asarray(vectors)\n    labels = np.asarray(labels)\n\n    # reduce using t-SNE\n    vectors = np.asarray(vectors)\n    tsne = TSNE(n_components=num_dimensions, random_state=0)\n    vectors = tsne.fit_transform(vectors)\n\n    x_vals = [v[0] for v in vectors]\n    y_vals = [v[1] for v in vectors]\n    return x_vals, y_vals, labels\n\n\nx_vals, y_vals, labels = reduce_dimensions(model)\n\ndef plot_with_plotly(x_vals, y_vals, labels, plot_in_notebook=True):\n    from plotly.offline import init_notebook_mode, iplot, plot\n    import plotly.graph_objs as go\n\n    trace = go.Scatter(x=x_vals, y=y_vals, mode='text', text=labels)\n    data = [trace]\n\n    if plot_in_notebook:\n        init_notebook_mode(connected=True)\n        iplot(data, filename='word-embedding-plot')\n    else:\n        plot(data, filename='word-embedding-plot.html')\n\n\ndef plot_with_matplotlib(x_vals, y_vals, labels):\n    import matplotlib.pyplot as plt\n    import random\n\n    random.seed(0)\n\n    plt.figure(figsize=(12, 12))\n    plt.scatter(x_vals, y_vals)\n\n    #\n    # Label randomly subsampled 25 data points\n    #\n    indices = list(range(len(labels)))\n    selected_indices = random.sample(indices, 25)\n    for i in selected_indices:\n        plt.annotate(labels[i], (x_vals[i], y_vals[i]))\n\ntry:\n    get_ipython()\nexcept Exception:\n    plot_function = plot_with_matplotlib\nelse:\n    plot_function = plot_with_plotly\n\nplot_function(x_vals, y_vals, labels)\n</code></pre>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#_11","title":"\u603b\u7ed3","text":"<p>\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u5b66\u4e60\u4e86\u5982\u4f55\u5728\u81ea\u5b9a\u4e49\u6570\u636e\u4e0a\u8bad\u7ec3word2vec\u6a21\u578b\u4ee5\u53ca\u5982\u4f55\u5bf9\u5176\u8fdb\u884c\u8bc4\u4f30\u3002\u5e0c\u671b\u60a8\u4e5f\u80fd\u5728\u673a\u5668\u5b66\u4e60\u4efb\u52a1\u4f7f\u7528\u8fd9\u4e2a\u53d7\u6b22\u8fce\u7684\u5de5\u5177\uff01</p>"},{"location":"Python3/gensim/14.1.word2vec%20model.html#links","title":"Links","text":"<ul> <li>API docs: <code>gensim.models.word2vec</code></li> <li>Original C toolkit and word2vec papers by Google.</li> </ul>"},{"location":"Python3/gensim/14.2.word2vec%E5%8F%82%E6%95%B0.html","title":"14.2.word2vec\u53c2\u6570","text":"<ul> <li>sentences (iterable of iterables, optional)\uff1a\u53ef\u8fed\u4ee3\u7684sentences\u53ef\u4ee5\u53ea\u662ftoken\u7684\u5217\u8868\uff0c\u4f46\u662f\u5bf9\u4e8e\u8f83\u5927\u7684\u8bed\u6599\u5e93\uff0c\u8003\u8651\u4e00\u4e2a\u53ef\u4ee5\u76f4\u63a5\u4ece\u78c1\u76d8/\u7f51\u7edc\u751f\u6210sentence\u7684\u8fed\u4ee3\u5668\u3002 \u53c2\u8003\u5728 <code>word2vec</code> \u6a21\u5757\u4e2d\u7684 <code>BrownCorpus</code>\u3001 <code>Text8Corpus</code> \u3001<code>LineSentence</code>\u7c7b\u4e2d\u7684\u4f8b\u5b50\u3002\u53c2\u8003 tutorial on data streaming in Python\u3002 \u5982\u679c\u4f60\u4e0d\u63d0\u4f9bsentences\u53c2\u6570\uff0c\u6a21\u578b\u5c31\u4e0d\u4f1a\u88ab\u521d\u59cb\u5316\u3002\u5982\u679c\u4f60\u6253\u7b97\u4f7f\u7528\u5176\u4ed6\u65b9\u5f0f\u521d\u59cb\u5316\u6a21\u578b\uff0c\u53ef\u4ee5\u4e0d\u63d0\u4f9b\u53c2\u6570\u3002</li> <li>corpus_file (<code>str</code>, optional)\uff1a <code>LineSentence</code> \u683c\u5f0f\u7684 corpus\u6587\u4ef6\u8def\u5f84\u3002\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u53c2\u6570\u4ee3\u66ffsentences \u53c2\u6570\u6765\u52a0\u901f\u8bad\u7ec3\u3002</li> <li>size (<code>int</code>, optional)\uff1a\u8bcd\u5411\u91cf\u7684\u7ef4\u5ea6\u6570\u3002\u7ef4\u5ea6\u592a\u5c0f\u4f1a\u65e0\u6cd5\u6709\u6548\u8868\u8fbe\u8bcd\u4e0e\u8bcd\u7684\u5173\u7cfb\uff0c\u7ef4\u5ea6\u592a\u5927\u4f1a\u4f7f\u5173\u7cfb\u592a\u7a00\u758f\u800c\u96be\u4ee5\u627e\u51fa\u89c4\u5219\u3002</li> <li>window (<code>int</code>, optional)\uff1a\u53e5\u5b50\u4e2d\u5f53\u524d\u5355\u8bcd\u548c\u9884\u6d4b\u5355\u8bcd\u4e4b\u95f4\u7684\u6700\u5927\u8ddd\u79bb\u3002CBOW\u4e0b\u51b3\u5b9aWord2Vec\u4e00\u6b21\u53d6\u591a\u5c11\u8bcd\u6765\u9884\u6d4b\u4e2d\u95f4\u8bcd\uff08Skip-gram\u7684\u72b6\u51b5\u662f\u53cd\u8fc7\u6765\u7684\uff09</li> <li>min_count (<code>int</code>, optional)\uff1a\u5ffd\u7565\u6240\u6709\u4f4e\u4e8e\u8fd9\u4e2a\u9891\u7387\u7684\u5355\u8bcd\u3002</li> <li>workers (<code>int</code>, optional)\uff1a\u8bad\u7ec3\u4f7f\u7528\u7684\u7ebf\u7a0b\u6570\u3002</li> <li>sg (<code>{0, 1}</code>, optional)\uff1a\u9009\u62e9\u8bad\u7ec3\u7b97\u6cd5\uff1a1\u4ee3\u8868skip-gram\uff0c\u5426\u5219\u4e3a CBOW\u3002</li> <li>hs (<code>{0, 1}</code>, optional)\uff1ahs = 0\u65f6\u91c7\u7528Negative Sampling\uff0chs = 1\u65f6\u91c7\u7528 Hierarchical  Softmax\u3002</li> <li>negative (<code>int</code>, optional)\uff1a\u5982\u679c\u5927\u4e8e0\uff0c\u5c06\u4f7f\u7528Negative Sampling\uff0c\u6574\u6570\u503c\u6307\u5b9a\u5e94\u8be5\u7ed8\u5236\u591a\u5c11\u201c\u566a\u97f3\u5b57\u201d(\u901a\u5e38\u57285-20\u4e4b\u95f4)\u3002 \u5982\u679c\u4e3a0\uff0c\u5219\u4e0d\u4f7f\u7528Negative Sampling\u30025~20\u9002\u5408\u5c0f\u6570\u636e\uff0c2~5\u9002\u5408\u5927\u6570\u636e\u3002</li> <li>ns_exponent (<code>float</code>, optional)\uff1aexponent\u7528\u6765\u5f62\u6210negative sampling\u7684\u5206\u5e03.A value of 1.0 samples exactly in proportion to the frequencies, 0.0 samples all words equally, while a negative value samples low-frequency words more than high-frequency words. \u9ed8\u8ba4\u503c0.75\u662f\u7531\u539f\u59cbWord2Vec\u8bba\u6587\u9009\u62e9\u7684\u3002\u800c\u6700\u8fd1\u7684\u8bba\u6587 \u6307\u51fa\u5728\u63a8\u8350\u7cfb\u7edf\u7684\u5e94\u7528\u4e2d\uff0c\u8bbe\u7f6e\u5176\u4ed6\u503c\u4e5f\u8bb8\u4f1a\u5f97\u5230\u66f4\u597d\u7684\u6027\u80fd\u3002</li> <li>cbow_mean (<code>{0, 1}</code>, optional)\uff1acbow_mean=0\uff1a\u4f7f\u7528\u4e0a\u4e0b\u6587\u5355\u8bcd\u5411\u91cf\u4e4b\u548c\u3002cbow_mean=1\uff1a\u4f7f\u7528\u5e73\u5747\u503c\u3002\u53ea\u6709\u5f53\u4f7f\u7528 cbow \u65f6\u624d\u9002\u7528\u3002</li> <li>alpha (<code>float</code>, optional)\uff1a\u521d\u59cb\u5b66\u4e60\u7387\u3002</li> <li>min_alpha (<code>float</code>, optional) \u2013\u968f\u7740\u8bad\u7ec3\u7684\u8fdb\u884c\uff0c\u5b66\u4e60\u7387\u5c06\u7ebf\u6027\u4e0b\u964d\u5230 min alpha\u3002</li> <li>seed (<code>int</code>, optional)\uff1aSeed for the random number generator. Initial vectors for each word are seeded with a hash of the concatenation of word + str(seed). Note that for a fully deterministically-reproducible run, you must also limit the model to a single worker thread (workers=1), to eliminate ordering jitter from OS thread scheduling. (In Python 3, reproducibility between interpreter launches also requires use of the PYTHONHASHSEED environment variable to control hash randomization).</li> <li>max_vocab_size (<code>int</code>, optional)\uff1a\u5728\u8bcd\u6c47\u8868\u6784\u5efa\u8fc7\u7a0b\u4e2d\u9650\u5236\u5185\u5b58\u7684\u4f7f\u7528\uff0cWord2Vec\u7684\u8bcd\u5178\u5bb9\u7eb3\u4e0a\u9650\u3002\u5982\u679c\u8bcd\u5e93\u7684\u5355\u8bcd\u6570\u6bd4max_vocab_size\u5927\uff0c\u90a3\u4e48\u51fa\u73b0\u6b21\u6570\u6700\u4f4e\u7684\u8bcd\u4f1a\u4f18\u5148\u88ab\u5254\u9664\u3002\u6bcf1000\u4e07\u4e2a\u5355\u8bcd\u9700\u8981\u5927\u7ea61gb \u7684\u5185\u5b58\u3002\u8bbe\u7f6e\u4e3aNone\uff0c\u5219\u6ca1\u6709\u9650\u5236\u3002</li> <li>max_final_vocab (<code>int</code>, optional)\uff1a\u901a\u8fc7\u81ea\u52a8\u9009\u62e9\u4e00\u4e2a\u5339\u914d\u7684min_count\u6765\u9650\u5236vocab\u7684\u5927\u5c0f\u3002\u5982\u679c\u6307\u5b9a\u7684min_count\u5927\u4e8e\u8ba1\u7b97\u7684min_count\uff0c\u5219\u4f7f\u7528\u6307\u5b9a\u7684min_count\u3002\u5982\u679c\u4e0d\u9700\u8981\u5219\u8bbe\u7f6e\u4e3aNone\u3002</li> <li>sample (<code>float</code>, optional)\uff1aThe threshold for configuring which higher-frequency words are randomly downsampled, useful range is (0, 1e-5).</li> <li>hashfxn (<code>function</code>, optional)\uff1a\u7528Hash function\u6765\u968f\u673a\u521d\u59cb\u5316\u6743\u91cd\uff0c\u4ee5\u589e\u52a0\u8bad\u7ec3\u7684\u91cd\u590d\u6027\u3002</li> <li>iter (<code>int</code>, optional)\uff1a\u8bed\u6599\u5e93\u4e0a\u7684\u8fed\u4ee3\u6b21\u6570(epochs)\u3002</li> <li>trim_rule (<code>function</code>, optional)\uff1a\u8bcd\u6c47\u4fee\u526a\u89c4\u5219\uff0c\u6307\u5b9a\u54ea\u4e9b\u5355\u8bcd\u5e94\u4fdd\u7559\u5728\u8bcd\u6c47\u4e2d\u3001\u88ab\u4fee\u526a\u6389\u8fd8\u662f\u4f7f\u7528\u9ed8\u8ba4\u503c\u5904\u7406\uff08\u5982\u679c\u8bcd\u9891\u8ba1\u6570&lt;min_count\u5219\u4e22\u5f03\uff09\u3002\u5982\u679c\u4e3aNone\uff0c<code>min_count</code>\u53c2\u6570\u5c06\u88ab\u4f7f\u7528\u3002\u5982\u679c\u7ed9\u51fa\u89c4\u5219\uff0c\u5219\u8be5\u89c4\u5219\u4ec5\u7528\u4e8e\u5728<code>build_vocab()</code>\u671f\u95f4\u4fee\u526a\u8bcd\u6c47\uff0c\u800c\u4e0d\u4f1a\u5b58\u50a8\u4e3a\u6a21\u578b\u7684\u4e00\u90e8\u5206\u3002</li> <li>sorted_vocab (<code>{0, 1}</code>, optional)\uff1asorted_vocab=1\uff0c\u5728\u7ed9\u8bcd\u5e93\u7684\u5355\u8bcd\u7f16\u53f7\uff08\u7ed9word\u6307\u5b9aindex\uff09\u4e4b\u524d\u5148\u6309\u8bcd\u9891\u964d\u5e8f\u6392\u5217\u5355\u8bcd\u3002\u8bf7\u53c2\u9605<code>sort_vocab()</code>\u3002</li> <li>batch_words (<code>int</code>, optional)\uff1aTarget size (in words) for batches of examples passed to worker threads (and thus cython routines).(Larger batches will be passed if individual texts are longer than 10000 words, but the standard cython code truncates to that maximum.)</li> <li>compute_loss (<code>bool</code>, optional)\uff1aIf True, computes and stores loss value which can be retrieved using <code>get_latest_training_loss()</code>.</li> <li>callbacks (iterable of <code>CallbackAny2Vec</code>, optional)\uff1aSequence of callbacks to be executed at specific stages during training.</li> </ul>"},{"location":"Python3/pandas/9.1.Series.html","title":"9.1.Series","text":"<pre><code>import pandas as pd\nfrom pandas import Series\nfrom toolkit import H\n</code></pre> <pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.02.27\npandas version:  1.2.2\n</code></pre> <p>Series\u662f\u80fd\u591f\u4fdd\u5b58\u4efb\u4f55\u7c7b\u578b\u7684\u6570\u636e\u7684\u4e00\u7ef4\u6570\u7ec4\u3002Series\u7c7b\u4f3cnumpy\u7684\u4e00\u7ef4ndarray\uff0c\u4f46\u662f\u548cndarray\u53c8\u4e0d\u540c\uff0cndarray\u7684\u6240\u6709\u5143\u7d20\u7684\u7c7b\u578b\u6216\u7ed3\u6784\u5fc5\u987b\u76f8\u540c1\uff0c\u800cSeries\u80fd\u4fdd\u5b58\u4e0d\u540c\u7c7b\u578b\u3001\u7ed3\u6784\u7684\u6570\u636e\uff1b\u53e6\u5916Series\u7684\u5143\u7d20\u5e26\u6709\u7d22\u5f15\u3002Series\u50cf\u4e00\u4e2a\u6709\u5e8f\u5b57\u5178\uff0c\u56e0\u4e3a\u5b83\u662f\u7d22\u5f15\u503c\u5230\u6570\u636e\u503c\u7684\u4e00\u4e2a\u6620\u5c04\u3002\u5b83\u53ef\u4ee5\u7528\u5728\u8bb8\u591a\u539f\u672c\u9700\u8981\u5b57\u5178\u53c2\u6570\u7684\u51fd\u6570\u4e2d\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u521b\u5efaSeries\u6570\u636e\u7ed3\u6784\uff1a</p> <ul> <li>\u5b57\u5178</li> <li>\u4e00\u7ef4NumPy\u6570\u7ec4</li> <li>\u5355\u4e2a\u6807\u91cf\uff1a\u6570\u503c\u6807\u91cf\u3001\u5b57\u7b26\u4e32</li> <li>list\u3001tuple\uff08\u53ef\u4ee5\u662f\u591a\u5c42\u5d4c\u5957\u7684list\u3001tuple\uff09</li> </ul>"},{"location":"Python3/pandas/9.1.Series.html#series","title":"Series\u7c7b","text":"<pre><code>Series(data=None, index=None, dtype=None, name=None, copy=False,\n       fastpath=False)\n</code></pre> <p>\u53c2\u6570\uff1a</p> <ul> <li> <p><code>data</code>\uff1a<code>dict</code>\u3001<code>array-like</code>\u3001<code>list</code>\u3001<code>scalar</code>\u3002\u5982\u679c\u662f\u5e8f\u5217\u6216\u6570\u7ec4\uff0c\u5219\u5fc5\u987b\u662f\u4e00\u7ef4\u7684</p> <ul> <li>\u5982\u679c\u662f\u5b57\u5178\uff0c\u5219\u5b57\u5178\u7684\u952e\u6307\u5b9a\u4e86<code>label</code>\u3002\u5982\u679c\u540c\u65f6\u4f7f\u7528\u4e86<code>index</code>\uff0c\u5219\u4ee5<code>index</code>\u4e3a\u51c6\u3002</li> <li>\u5982\u679c\u662f\u6807\u91cf\uff0c\u5219\u7ed3\u679c\u4e3a\uff1a\u8be5\u6807\u91cf\u6269\u5145\u4e3a<code>index</code>\u957f\u5ea6\u76f8\u540c\u7684\u5217\u8868\u3002</li> </ul> </li> <li> <p><code>index</code>\uff1a\u4e00\u4e2a<code>array-like</code>\u6216\u8005\u4e00\u4e2a<code>Index</code>\u5bf9\u8c61\u3002\u5b83\u6307\u5b9a\u4e86<code>label</code>\u3002\u5176\u503c\u8981\u6c42<code>hashable</code>\uff0c\u4f46\u4e0d\u8981\u6c42\u60df\u4e00\uff0c\u957f\u5ea6\u4e0e<code>data</code>\u4e00\u81f4\u3002\u5982\u679c\u672a\u63d0\u4f9b\uff0c\u5219\u4f7f\u7528<code>RangeIndex (0, 1, 2, ..., n)</code>\u3002</p> </li> <li><code>name</code>\uff1a<code>str</code>\uff0c<code>Series</code>\u7684\u540d\u5b57\u3002</li> <li><code>dtype</code>\uff1a\u6307\u5b9a\u6570\u636e\u7c7b\u578b\u3002\u5982\u679c\u4e3a<code>None</code>\uff0c\u5219\u6570\u636e\u7c7b\u578b\u88ab\u81ea\u52a8\u63a8\u65ad</li> <li><code>copy</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u62f7\u8d1d\u8f93\u5165\u6570\u636e<code>data</code></li> </ul> <p>\u8fd8\u53ef\u4ee5\u901a\u8fc7\u7c7b\u65b9\u6cd5\u521b\u5efa<code>Series</code>\uff1a</p> <pre><code>Series.from_array(arr, index=None, \n                  name=None, dtype=None,\n                  copy=False, fastpath=False)\n</code></pre> <p>\u4f46<code>from_array</code>\u7c7b\u65b9\u6cd5\u4ecepandas 0.23\u7248\u672c\u8d77\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u5728\u672a\u6765\u7684\u7248\u672c\u4e2d\u4f1a\u88ab\u79fb\u9664\u3002</p> <pre><code>print(\"pandas version:\", pd.__version__)\nprint(\"Has 'from_array' attr?\", hasattr(Series, \"from_array\"))\n</code></pre> <pre><code>pandas version: 1.2.2\nHas 'from_array' attr? False\n</code></pre>"},{"location":"Python3/pandas/9.1.Series.html#dict","title":"\u4ece<code>dict</code>\u6765\u521b\u5efa","text":"<p>\u5982\u679c\u53ea\u4f20\u5165\u4e00\u4e2a\u5b57\u5178\uff0c\u5219\u7ed3\u679cSeries\u4e2d\u7684\u7d22\u5f15\u5c31\u662f\u539f\u5b57\u5178\u7684\u952e\uff1a</p> <pre><code>sdata = {'Ohio': 35000, 'Texas': 71000, 'Oregon': 16000, 'Utah': 5000}\n# dict\u7684key\u662f\u65e0\u5e8f\u7684\uff0c\u4f46series\u7684index\u662f\u6709\u5e8f\u7684\nSeries(sdata)\n</code></pre> <pre><code>Ohio      35000\nTexas     71000\nOregon    16000\nUtah       5000\ndtype: int64\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u6307\u5b9a\u539f\u5b57\u5178\u7684key\u7684\u6392\u5217\u987a\u5e8f\uff1a</p> <p>\u6ce8\u610f</p> <p>\u5982\u679c\u4f20\u5165dict\u548c\u5e76\u6307\u5b9aindex\uff0cindex\u9700\u8981\u548cdict\u7684\u952e\u5339\u914d\uff0c\u82e5index\u4e0d\u5728dict\u7684key\u4e2d\uff0c\u5bf9\u5e94\u7684series\u503c\u5219\u4e3aNaN\u3002</p> <pre><code>sdata = {'Ohio': 35000, 'Texas': 71000, 'Oregon': 16000, 'Utah': 5000}\nstates = ['California', 'Ohio', 'Oregon', 'Texas']\nSeries(sdata, index=states)\n</code></pre> <pre><code>California        NaN\nOhio          35000.0\nOregon        16000.0\nTexas         71000.0\ndtype: float64\n</code></pre>"},{"location":"Python3/pandas/9.1.Series.html#numpy","title":"\u4eceNumPy\u6570\u7ec4\u6765\u521b\u5efa","text":"<p>\u6570\u7ec4\u5fc5\u987b\u662f\u4e00\u7ef4\u7684\uff1a</p> <pre><code>import numpy as np\na = np.array([1,2,3])\nSeries(a)\n</code></pre> <pre><code>0    1\n1    2\n2    3\ndtype: int32\n</code></pre>"},{"location":"Python3/pandas/9.1.Series.html#_1","title":"\u4ece\u6807\u91cf\u521b\u5efa","text":"<p>\u5982\u679c\u63d0\u4f9b\u7d22\u5f15\uff0c\u5c06\u91cd\u590d\u6807\u91cf\u503c\u4ee5\u5339\u914d\u7d22\u5f15\u7684\u957f\u5ea6\u3002</p> <pre><code>Series(5, index=[0, 1, 2, 3])\n</code></pre> <pre><code>0    5\n1    5\n2    5\n3    5\ndtype: int64\n</code></pre> <ol> <li> <p>\u5b9e\u9645\u4e0anumpy\u53ef\u4ee5\u5b9a\u4e49\u50a8\u5b58\u4e0d\u540c\u7c7b\u578b\u6570\u636e\u7684\u7ed3\u6784\u6570\u7ec4\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"Python3/pandas/9.10.%E7%BB%98%E5%9B%BE.html","title":"9.10.\u7ed8\u56fe","text":"<pre><code>from toolkit.Help import Help as H\nimport numpy as np\nimport pandas as pd\n</code></pre> <pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.02.28\npandas version:  1.2.2\nnumpy version:  1.20.1\nmodule\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html","title":"9.11.\u6570\u636e\u5904\u7406","text":"<pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.02.28\npandas version:  1.2.2\n</code></pre> <pre><code>df = DataFrame(np.arange(24).reshape(6,4), columns=[\"a\",\"b\",\"c\",\"d\"])\ndf.iloc[3] = np.nan\ndf.loc[2,\"a\"] = np.nan\ndf.loc[4,\"a\"] = np.nan\ndf.loc[1,\"b\"] = np.nan\ndf.loc[5,\"c\"] = np.nan\ndf\n</code></pre> <pre><code>      a     b     c     d\n0   0.0   1.0   2.0   3.0\n1   4.0   NaN   6.0   7.0\n2   NaN   9.0  10.0  11.0\n3   NaN   NaN   NaN   NaN\n4   NaN  17.0  18.0  19.0\n5  20.0  21.0   NaN  23.0\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_1","title":"\u5904\u7406\u7f3a\u5931\u503c","text":"<p>pandas\u7684<code>DataFrame</code>\u8bd5\u56fe\u6a21\u4effR\u8bed\u8a00\u4e2d\u7684<code>data.frame</code>\u6570\u636e\u7ed3\u6784\uff0c\u4f46\u5728Python\u4e2d\uff0cpandas\u5efa\u7acb\u5728numpy\u4e4b\u4e0a\uff0c\u800c numpy \u53ea\u6709<code>nan</code>\u503c\uff08Not a Number\uff09\uff0c\u56e0\u6b64pandas\u7528<code>nan</code>\u503c\u8868\u793a\u7f3a\u5931\u6570\u636e\uff0cPython\u5185\u7f6e\u7684None\u503c\u5728<code>DataFrame</code>\u4e2d\u4e5f\u4f5c\u4e3a<code>nan</code>\u503c\u3002\u4f46\u5728R\u8bed\u8a00\u4e2d\uff0c<code>NA</code>\u3001<code>NaN</code>\u3001<code>Null</code>\u6709\u4e0d\u540c\u7684\u610f\u4e49\uff1a</p> <ol> <li><code>NA</code>\uff1a\u8868\u793a\u7f3a\u5931\u503c(Missing value)\uff0c\u662f\u201cNot Available\u201d\u7684\u7f29\u5199</li> <li><code>NaN</code>\uff1a\u8868\u793a\u975e\u6570\u503c\uff0c\u662f\u201cNot a Number\u201d\u7684\u7f29\u5199</li> <li><code>NULL</code>\uff1a\u8868\u793a\u7a7a\u503c\uff0c\u5373\u6ca1\u6709\u5185\u5bb9</li> </ol> <p>\u56e0\u6b64\u5728pandas\u4e2d\uff0c\u5224\u65ad\u7f3a\u5931\u503c\u6709\u4e24\u4e2a\u65b9\u6cd5\uff1a<code>.isna</code>\u548c<code>isnull</code>\uff0c\u5b83\u4eec\u7684\u4f5c\u7528\u662f\u76f8\u540c\u7684\u3002\u867d\u7136\u7f3a\u5931\u6570\u636e\u5728pandas\u4e2d\u5448\u73b0\u7684\u65b9\u5f0f\u6709\u4e9b\u4e0d\u5b8c\u7f8e\uff0c\u4f46\u5bf9\u4e8e\u5927\u591a\u6570\u7528\u6237\u53ef\u4ee5\u4fdd\u8bc1\u529f\u80fd\u6b63\u5e38\u3002</p> <p>\u4e0b\u8868\u5217\u51fa\u4e86\u4e00\u4e9b\u5173\u4e8e\u7f3a\u5931\u6570\u636e\u5904\u7406\u7684\u51fd\u6570\uff1a</p> \u65b9\u6cd5 \u8bf4\u660e <code>isnull</code>\u3001<code>isna</code> \u8fd4\u56de\u4e00\u4e2a\u542b\u6709\u5e03\u5c14\u503c\u7684\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u5e03\u5c14\u503c\u8868\u793a\u54ea\u4e9b\u503c\u662f\u7f3a\u5931\u503c/NA\uff0c\u8be5\u5bf9\u8c61\u7684\u7c7b\u578b\u4e0e\u6e90\u7c7b\u578b\u4e00\u6837 <code>fillna</code> \u7528\u6307\u5b9a\u503c\u6216\u63d2\u503c\u65b9\u6cd5\uff08\u5982<code>ffill</code>\u6216<code>bfill</code>\uff09\u586b\u5145\u7f3a\u5931\u6570\u636e <code>dropna</code> \u6839\u636e\u5404\u6807\u7b7e\u7684\u503c\u4e2d\u662f\u5426\u5b58\u5728\u7f3a\u5931\u6570\u636e\u5bf9\u8f74\u6807\u7b7e\u8fdb\u884c\u8fc7\u6ee4\uff0c\u53ef\u901a\u8fc7\u9608\u503c\u8c03\u8282\u5bf9\u7f3a\u5931\u503c\u7684\u5bb9\u5fcd\u5ea6 <code>notnull</code> <code>isnull</code>\u7684\u5426\u5b9a\u5f0f"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_2","title":"\u7b5b\u9009\u51fa\u7f3a\u5931\u6570\u636e","text":"<pre><code>df.isna()\n</code></pre> <pre><code>       a      b      c      d\n0  False  False  False  False\n1  False   True  False  False\n2   True  False  False  False\n3   True   True   True   True\n4   True  False  False  False\n5  False  False   True  False\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_3","title":"\u7b5b\u9009\u51fa\u6709\u7f3a\u5931\u503c\u7684\u6837\u672c","text":"<pre><code>df[np.array(df.isna())]\n</code></pre> <pre><code>      a     b     c     d\n1   4.0   NaN   6.0   7.0\n2   NaN   9.0  10.0  11.0\n3   NaN   NaN   NaN   NaN\n3   NaN   NaN   NaN   NaN\n3   NaN   NaN   NaN   NaN\n3   NaN   NaN   NaN   NaN\n4   NaN  17.0  18.0  19.0\n5  20.0  21.0   NaN  23.0\n</code></pre> <pre><code>print(df.isna().any(axis=1))\ndf[df.isna().any(axis=1)]\n</code></pre> <pre><code>0    False\n1     True\n2     True\n3     True\n4     True\n5     True\ndtype: bool\n</code></pre> <pre><code>      a     b     c     d\n1   4.0   NaN   6.0   7.0\n2   NaN   9.0  10.0  11.0\n3   NaN   NaN   NaN   NaN\n4   NaN  17.0  18.0  19.0\n5  20.0  21.0   NaN  23.0\n</code></pre> <p>\u7edf\u8ba1\u6709\u7f3a\u5931\u503c\u7684\u6837\u672c\u6570</p> <pre><code>df.isna().any(axis=1).sum()\n</code></pre> <pre><code>5\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_4","title":"\u7b5b\u9009\u51fa\u6709\u7f3a\u5931\u503c\u7684\u5217","text":"<pre><code>print(df.isna().any(axis=0))\ndf[np.array(df.isna())]\n</code></pre> <pre><code>a    True\nb    True\nc    True\nd    True\ndtype: bool\n</code></pre> <pre><code>      a     b     c     d\n1   4.0   NaN   6.0   7.0\n2   NaN   9.0  10.0  11.0\n3   NaN   NaN   NaN   NaN\n3   NaN   NaN   NaN   NaN\n3   NaN   NaN   NaN   NaN\n3   NaN   NaN   NaN   NaN\n4   NaN  17.0  18.0  19.0\n5  20.0  21.0   NaN  23.0\n</code></pre> <p>\u7edf\u8ba1\u6709\u7f3a\u5931\u503c\u7684\u5217\u6570</p> <pre><code>df.isna().any(axis=0).sum()\n</code></pre> <pre><code>4\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_5","title":"\u5220\u9664\u7f3a\u5931\u6570\u636e","text":"<pre><code>dropna(axis=0, how=\"any\", thresh=None, subset=None, inplace=False)\n</code></pre> <ul> <li><code>how</code>\uff1a<code>how=any</code>\uff0c\u5220\u9664\u5b58\u5728\u7f3a\u5931\u6570\u636e\u7684\u884c\u6216\u5217\uff1b<code>how=all</code>\uff0c\u5220\u9664\u6240\u6709\u6570\u636e\u90fd\u662f\u7f3a\u5931\u6570\u636e\u7684\u884c\u6216\u5217\u3002</li> <li><code>thresh</code>\uff1a\u5982\u679c\u67d0\u4e00\u884c\uff08\u5217\uff09\u6709<code>thresh</code>\u4e2a\u975e<code>NA</code>\u503c\uff0c\u5219\u4e0d\u5220\u9664\u8be5\u884c\uff08\u5217\uff09\u3002</li> <li><code>subset</code>\uff1a\u5220\u9664<code>NA</code>\u6570\u636e\u65f6\uff0c\u8981\u8003\u8651\u7684\u5176\u4ed6\u8f74\u4e0a\u7684\u6807\u7b7e\u3002\u5373\u53ea\u8981\u8be5\u6807\u7b7e\u4e0d\u662f<code>NA</code>\u503c\uff0c\u5219\u65e0\u9700\u5220\u9664\u3002</li> </ul> <p>\u5220\u9664\u6240\u6709\u5b58\u5728\u7f3a\u5931\u6570\u636e\u7684\u884c\u6216\u5217\uff1a</p> <pre><code>df.dropna(how=\"any\", axis=0)\n</code></pre> <pre><code>     a    b    c    d\n0  0.0  1.0  2.0  3.0\n</code></pre> <p>\u5220\u9664\u6240\u6709\u503c\u90fd\u662f\u7f3a\u5931\u6570\u636e\u7684\u884c\u6216\u5217\uff1a</p> <pre><code># \u56e0\u4e3a\u6ca1\u6709\u4e00\u884c\u6216\u5217\u90fd\u662fNA\u503c \u6240\u4ee5\u4e0d\u5220\u9664\u6570\u636e\ndf.dropna(how=\"all\", axis=0)\n</code></pre> <pre><code>      a     b     c     d\n0   0.0   1.0   2.0   3.0\n1   4.0   NaN   6.0   7.0\n2   NaN   9.0  10.0  11.0\n4   NaN  17.0  18.0  19.0\n5  20.0  21.0   NaN  23.0\n</code></pre> <p>\u6bcf\u4e00\u884c\u53ea\u8981\u67093\u4e2a\u503c\u4e0d\u662f<code>NA</code>\u503c\uff0c\u5219\u4e0d\u5220\u9664\uff1a</p> <pre><code>df.dropna(how=\"any\", axis=0, thresh=3)\n</code></pre> <pre><code>      a     b     c     d\n0   0.0   1.0   2.0   3.0\n1   4.0   NaN   6.0   7.0\n2   NaN   9.0  10.0  11.0\n4   NaN  17.0  18.0  19.0\n5  20.0  21.0   NaN  23.0\n</code></pre> <p>\u53ea\u8981\u5217<code>a</code>\u7684\u503c\u4e0d\u662f<code>NA</code>\u503c\uff0c\u5c31\u4e0d\u5220\u9664\uff1a</p> <pre><code>df.dropna(how=\"any\", axis=0, subset=[\"a\"])\n</code></pre> <pre><code>      a     b    c     d\n0   0.0   1.0  2.0   3.0\n1   4.0   NaN  6.0   7.0\n5  20.0  21.0  NaN  23.0\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_6","title":"\u586b\u5145\u7f3a\u5931\u6570\u636e","text":"<pre><code>fillna(value=None, method=None, axis=None, inplace=False,\n       limit=None, downcast=None)\n</code></pre> <ul> <li><code>value</code>\uff1a<code>scalar, dict, Series, or DataFrame</code>\u3002\u7528\u4e8e\u586b\u5145\u7684\u503c\u3002\u5982\u679c\u4f20\u5165<code>dict</code>\u3001<code>Series</code>\u3001<code>DataFrame</code>\uff0c\u5219\u6307\u5b9a\u54ea\u4e2a\u503c\u586b\u5145\u54ea\u4e2aindex\uff08\u5bf9\u4e8e<code>Series</code>\uff09\u6216\u54ea\u4e2a\u503c\u586b\u5145\u54ea\u4e2a\u5217\uff08\u5bf9\u4e8e<code>DataFrame</code>\uff09\u3002\u4e0d\u5728<code>dict</code>\u3001<code>Series</code>\u3001<code>DataFrame</code>\u4e2d\u7684\u503c\u5c06\u4e0d\u88ab\u586b\u5145\u3002 </li> <li><code>method</code>\uff1a<code>{'backfill', 'bfill', 'pad', 'ffill', None}</code>\u3002\u7528\u4e8e\u586b\u5145\u7684\u65b9\u6cd5\u3002<code>backfill</code>\u548c<code>bfill</code>\u662f\u540e\u5411\u586b\u5145\uff08\u4ece\u540e\u5411\u524d\uff09\uff0c<code>pad</code>\u548c<code>ffill</code>\u662f\u524d\u5411\u586b\u5145\u3002</li> <li><code>limit</code>\uff1a<code>int</code>\u3002\u5f53\u6307\u5b9a\u4e86<code>method</code>\u53c2\u6570\u65f6\uff0c<code>limit</code>\u662f\u6700\u5927\u8fde\u7eed\u586b\u5145\u7684\u6570\u91cf\u3002\u5f53\u6ca1\u6709\u6307\u5b9a<code>method</code>\u53c2\u6570\u65f6\uff0c<code>limit</code>\u662f\u6bcf\u4e2a\u8f74\u6700\u5927\u586b\u5145\u6570\u91cf\u3002</li> <li><code>downcast</code>\uff1a<code>dict of item-&gt;dtype</code>\uff0c\u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0c\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\u3002</li> </ul> <p>\u5168\u90e8<code>NA</code>\u503c\u586b\u5145\u4e3a10\uff0c\u6bcf\u4e2a\u8f74\u6700\u591a\u586b\u51452\u4e2a<code>NA</code>\u503c\uff1a</p> <pre><code>df.fillna(value=10, limit=2)\n</code></pre> <pre><code>      a     b     c     d\n0   0.0   1.0   2.0   3.0\n1   4.0  10.0   6.0   7.0\n2  10.0   9.0  10.0  11.0\n3  10.0  10.0  10.0  10.0\n4   NaN  17.0  18.0  19.0\n5  20.0  21.0  10.0  23.0\n</code></pre> <p>\u540e\u5411\u586b\u5145<code>NA</code>\u503c\uff0c\u6700\u591a\u8fde\u7eed\u586b\u51452\u4e2a<code>NA</code>\u503c\uff1a</p> <pre><code>df.fillna(method=\"bfill\", limit=2)\n</code></pre> <pre><code>      a     b     c     d\n0   0.0   1.0   2.0   3.0\n1   4.0   9.0   6.0   7.0\n2   NaN   9.0  10.0  11.0\n3  20.0  17.0  18.0  19.0\n4  20.0  17.0  18.0  19.0\n5  20.0  21.0   NaN  23.0\n</code></pre> <p>\u5982\u679c\u60f3\u7528\u5e73\u5747\u503c\u6216\u4e2d\u4f4d\u6570\u8fdb\u884c\u586b\u5145\uff0c\u4e5f\u662f\u5f88\u65b9\u4fbf\u7684\uff1a</p> <pre><code>print(df.mean())\ndf.fillna(df.mean())\n</code></pre> <pre><code>a     8.0\nb    12.0\nc     9.0\nd    12.6\ndtype: float64\n</code></pre> <pre><code>      a     b     c     d\n0   0.0   1.0   2.0   3.0\n1   4.0  12.0   6.0   7.0\n2   8.0   9.0  10.0  11.0\n3   8.0  12.0   9.0  12.6\n4   8.0  17.0  18.0  19.0\n5  20.0  21.0   9.0  23.0\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_7","title":"\u79fb\u9664\u91cd\u590d\u6570\u636e","text":"<pre><code>data = pd.DataFrame({'k1': ['one', 'two'] * 3 + ['two'],\n                     'k2': [1, 1, 2, 3, 3, 4, 4]})\n\ndata\n</code></pre> <pre><code>    k1  k2\n0  one   1\n1  two   1\n2  one   2\n3  two   3\n4  one   3\n5  two   4\n6  two   4\n</code></pre> <p>DataFrame\u7684<code>duplicated</code>\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u578b<code>Series</code>\uff0c\u8868\u793a\u5404\u884c\u662f\u5426\u662f\u91cd\u590d\u884c\uff08\u524d\u9762\u51fa\u73b0\u8fc7\u7684\u884c\uff09\uff1a</p> <pre><code>data.duplicated()\n</code></pre> <pre><code>0    False\n1    False\n2    False\n3    False\n4    False\n5    False\n6     True\ndtype: bool\n</code></pre> <p><code>drop_duplicates</code>\u65b9\u6cd5\u79fb\u9664\u91cd\u590d\u6570\u636e\uff1a</p> <pre><code>data.drop_duplicates()\n</code></pre> <pre><code>    k1  k2\n0  one   1\n1  two   1\n2  one   2\n3  two   3\n4  one   3\n5  two   4\n</code></pre> <p>\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u9ed8\u8ba4\u4f1a\u5224\u65ad\u5168\u90e8\u5217\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u90e8\u5206\u5217\u8fdb\u884c\u91cd\u590d\u9879\u5224\u65ad\uff1a</p> <pre><code>data.duplicated([\"k1\"])\n</code></pre> <pre><code>0    False\n1    False\n2     True\n3     True\n4     True\n5     True\n6     True\ndtype: bool\n</code></pre> <p><code>duplicated</code>\u548c<code>drop_duplicates</code>\u9ed8\u8ba4\u4fdd\u7559\u7684\u662f\u7b2c\u4e00\u4e2a\u51fa\u73b0\u7684\u503c\u7ec4\u5408\u3002\u4f20\u5165keep='last'\u5219\u4fdd\u7559\u6700\u540e\u4e00\u4e2a\uff1a</p> <pre><code>data.drop_duplicates(['k1', 'k2'], keep='last')\n</code></pre> <pre><code>    k1  k2\n0  one   1\n1  two   1\n2  one   2\n3  two   3\n4  one   3\n6  two   4\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_8","title":"\u5229\u7528\u51fd\u6570\u6216\u6620\u5c04\u8fdb\u884c\u6570\u636e\u8f6c\u6362","text":"<p>\u5bf9\u4e8e\u8bb8\u591a\u6570\u636e\u96c6\uff0c\u4f60\u53ef\u80fd\u5e0c\u671b\u6839\u636e\u6570\u7ec4\u3001Series\u6216DataFrame\u5217\u4e2d\u7684\u503c\u6765\u5b9e\u73b0\u8f6c\u6362\u5de5\u4f5c\u3002</p> <pre><code>data = pd.DataFrame({'food': ['bacon', 'pulled pork', 'bacon',\n                              'pastrami', 'corned beef', 'bacon',\n                              'pastrami', 'honey ham', 'nova lox'],\n                     'ounces': [4, 3, 12, 6, 7.5, 8, 3, 5, 6]})\n\ndata\n</code></pre> <pre><code>          food  ounces\n0        bacon     4.0\n1  pulled pork     3.0\n2        bacon    12.0\n3     pastrami     6.0\n4  corned beef     7.5\n5        bacon     8.0\n6     pastrami     3.0\n7    honey ham     5.0\n8     nova lox     6.0\n</code></pre> <p>\u5047\u8bbe\u4f60\u60f3\u8981\u6dfb\u52a0\u4e00\u5217\u8868\u793a\u8be5\u8089\u7c7b\u98df\u7269\u6765\u6e90\u7684\u52a8\u7269\u7c7b\u578b\u3002\u6211\u4eec\u5148\u7f16\u5199\u4e00\u4e2a\u4e0d\u540c\u8089\u7c7b\u5230\u52a8\u7269\u7684\u6620\u5c04\uff1a</p> <pre><code>meat_to_animal = {\n  'bacon': 'pig',\n  'pulled pork': 'pig',\n  'pastrami': 'cow',\n  'corned beef': 'cow',\n  'honey ham': 'pig',\n  'nova lox': 'salmon'\n}\n\ndata['food'].map(meat_to_animal)\n</code></pre> <pre><code>0       pig\n1       pig\n2       pig\n3       cow\n4       cow\n5       pig\n6       cow\n7       pig\n8    salmon\nName: food, dtype: object\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_9","title":"\u66ff\u6362\u503c","text":"<p>\u5229\u7528<code>fillna</code>\u65b9\u6cd5\u586b\u5145\u7f3a\u5931\u6570\u636e\u53ef\u4ee5\u770b\u505a\u503c\u66ff\u6362\u7684\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\u3002\u524d\u9762\u5df2\u7ecf\u770b\u5230\uff0c<code>map</code>\u53ef\u7528\u4e8e\u4fee\u6539\u5bf9\u8c61\u7684\u6570\u636e\u5b50\u96c6\uff0c\u800c<code>replace</code>\u5219\u63d0\u4f9b\u4e86\u4e00\u79cd\u5b9e\u73b0\u8be5\u529f\u80fd\u7684\u66f4\u7b80\u5355\u3001\u66f4\u7075\u6d3b\u7684\u65b9\u5f0f\u3002\u6211\u4eec\u6765\u770b\u770b\u4e0b\u9762\u8fd9\u4e2aSeries\uff1a</p> <pre><code>data = pd.Series([1., -999., 2., -999., -1000., 3.])\ndata\n</code></pre> <pre><code>0       1.0\n1    -999.0\n2       2.0\n3    -999.0\n4   -1000.0\n5       3.0\ndtype: float64\n</code></pre> <p>-999\u8fd9\u4e2a\u503c\u53ef\u80fd\u662f\u4e00\u4e2a\u8868\u793a\u7f3a\u5931\u6570\u636e\u7684\u6807\u8bb0\u503c\u3002\u8981\u5c06\u5176\u66ff\u6362\u4e3apandas\u80fd\u591f\u7406\u89e3\u7684NA\u503c\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528<code>replace</code>\u6765\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684Series\uff08\u9664\u975e\u4f20\u5165<code>inplace=True</code>\uff09\uff1a</p> <pre><code>data.replace(-999, np.nan)\n</code></pre> <pre><code>0       1.0\n1       NaN\n2       2.0\n3       NaN\n4   -1000.0\n5       3.0\ndtype: float64\n</code></pre> <p>\u5982\u679c\u4f60\u5e0c\u671b\u4e00\u6b21\u6027\u66ff\u6362\u591a\u4e2a\u503c\uff0c\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u7531\u5f85\u66ff\u6362\u503c\u7ec4\u6210\u7684\u5217\u8868\u4ee5\u53ca\u4e00\u4e2a\u66ff\u6362\u503c\uff1a</p> <pre><code>data.replace([-999, -1000], np.nan)\n</code></pre> <pre><code>0    1.0\n1    NaN\n2    2.0\n3    NaN\n4    NaN\n5    3.0\ndtype: float64\n</code></pre> <p>\u8981\u8ba9\u6bcf\u4e2a\u503c\u6709\u4e0d\u540c\u7684\u66ff\u6362\u503c\uff0c\u53ef\u4ee5\u4f20\u9012\u4e00\u4e2a\u66ff\u6362\u5217\u8868\uff1a</p> <pre><code>data.replace([-999, -1000], [np.nan, 0])\n</code></pre> <pre><code>0    1.0\n1    NaN\n2    2.0\n3    NaN\n4    0.0\n5    3.0\ndtype: float64\n</code></pre> <p>\u4f20\u5165\u7684\u53c2\u6570\u4e5f\u53ef\u4ee5\u662f\u5b57\u5178\uff1a</p> <pre><code>data.replace({-999: np.nan, -1000: 0})\n</code></pre> <pre><code>0    1.0\n1    NaN\n2    2.0\n3    NaN\n4    0.0\n5    3.0\ndtype: float64\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_10","title":"\u91cd\u547d\u540d\u8f74\u7d22\u5f15","text":"<p>\u8ddfSeries\u4e2d\u7684\u503c\u4e00\u6837\uff0c\u8f74\u6807\u7b7e\u4e5f\u53ef\u4ee5\u901a\u8fc7\u51fd\u6570\u6216\u6620\u5c04\u8fdb\u884c\u8f6c\u6362\uff0c\u4ece\u800c\u5f97\u5230\u4e00\u4e2a\u65b0\u7684\u4e0d\u540c\u6807\u7b7e\u7684\u5bf9\u8c61\u3002\u8f74\u8fd8\u53ef\u4ee5\u88ab\u5c31\u5730\u4fee\u6539\uff0c\u800c\u65e0\u9700\u65b0\u5efa\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\u3002\u63a5\u4e0b\u6765\u770b\u770b\u4e0b\u9762\u8fd9\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff1a</p> <pre><code>data = pd.DataFrame(np.arange(12).reshape((3, 4)),\n                    index=['Ohio', 'Colorado', 'New York'],\n                    columns=['one', 'two', 'three', 'four'])\ndata\n</code></pre> <pre><code>          one  two  three  four\nOhio        0    1      2     3\nColorado    4    5      6     7\nNew York    8    9     10    11\n</code></pre> <p>\u8ddfSeries\u4e00\u6837\uff0c\u8f74\u7d22\u5f15\u4e5f\u6709\u4e00\u4e2a<code>map</code>\u65b9\u6cd5\uff1a</p> <pre><code>transform = lambda x: x[:4].upper()\ndata.index.map(transform)\n</code></pre> <pre><code>Index(['OHIO', 'COLO', 'NEW '], dtype='object')\n</code></pre> <p>\u4f60\u53ef\u4ee5\u5c06\u5176\u8d4b\u503c\u7ed9index\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5bf9DataFrame\u8fdb\u884c\u5c31\u5730\u4fee\u6539\uff1a</p> <pre><code>data.index = data.index.map(transform)\ndata\n</code></pre> <pre><code>      one  two  three  four\nOHIO    0    1      2     3\nCOLO    4    5      6     7\nNEW     8    9     10    11\n</code></pre> <p>\u5982\u679c\u60f3\u8981\u521b\u5efa\u6570\u636e\u96c6\u7684\u8f6c\u6362\u7248\uff08\u800c\u4e0d\u662f\u4fee\u6539\u539f\u59cb\u6570\u636e\uff09\uff0c\u6bd4\u8f83\u5b9e\u7528\u7684\u65b9\u6cd5\u662f<code>rename</code>\uff1a</p> <pre><code>data.rename(index=str.title, columns=str.upper)\n</code></pre> <pre><code>      ONE  TWO  THREE  FOUR\nOhio    0    1      2     3\nColo    4    5      6     7\nNew     8    9     10    11\n</code></pre> <p>\u7279\u522b\u8bf4\u660e\u4e00\u4e0b\uff0c<code>rename</code>\u53ef\u4ee5\u7ed3\u5408\u5b57\u5178\u578b\u5bf9\u8c61\u5b9e\u73b0\u5bf9\u90e8\u5206\u8f74\u6807\u7b7e\u7684\u66f4\u65b0\uff1a</p> <pre><code>data.rename(index={'OHIO': 'INDIANA'},\n            columns={'three': 'peekaboo'})\n</code></pre> <pre><code>         one  two  peekaboo  four\nINDIANA    0    1         2     3\nCOLO       4    5         6     7\nNEW        8    9        10    11\n</code></pre> <p><code>rename</code>\u53ef\u4ee5\u5b9e\u73b0\u590d\u5236DataFrame\u5e76\u5bf9\u5176\u7d22\u5f15\u548c\u5217\u6807\u7b7e\u8fdb\u884c\u8d4b\u503c\u3002\u5982\u679c\u5e0c\u671b\u5c31\u5730\u4fee\u6539\u67d0\u4e2a\u6570\u636e\u96c6\uff0c\u4f20\u5165<code>inplace=True</code>\u5373\u53ef\uff1a</p> <pre><code>data.rename(index={'OHIO': 'INDIANA'}, inplace=True)\ndata\n</code></pre> <pre><code>         one  two  three  four\nINDIANA    0    1      2     3\nCOLO       4    5      6     7\nNEW        8    9     10    11\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_11","title":"\u79bb\u6563\u5316\u548c\u9762\u5143\u5212\u5206","text":"<p>\u6709\u65f6\u5019\uff0c\u6211\u4eec\u76f8\u5bf9\u8fde\u7eed\u7684\u6570\u636e\u5206\u7ec4\u5206\u6790\uff0c\u800cpandas\u6709\u4e00\u4e9b\u80fd\u6839\u636e\u6307\u5b9a\u201c\u9762\u5143\u201d\uff08bin\uff09\u6216\u6837\u672c\u5206\u4f4d\u6570\u5c06\u6570\u636e\u62c6\u5206\u6210\u591a\u5757\u7684\u5de5\u5177\uff08\u6bd4\u5982<code>pandas.cut()</code>\u548c<code>qcut</code>\uff09\u3002\u5c06\u8fd9\u4e9b\u51fd\u6570\u8ddf<code>groupby</code>\u7ed3\u5408\u8d77\u6765\uff0c\u5c31\u80fd\u975e\u5e38\u8f7b\u677e\u5730\u5b9e\u73b0\u5bf9\u6570\u636e\u96c6\u7684\u6876\uff08bucket\uff09\u6216\u5206\u4f4d\u6570\uff08quantile\uff09\u5206\u6790\u4e86\u3002</p> <p>\u5047\u8bbe\u6709\u4e00\u7ec4\u4eba\u5458\u6570\u636e\uff0c\u60f3\u5c06\u5b83\u4eec\u5212\u5206\u4e3a\u201c18\u523025\u201d\u3001\u201c26\u523035\u201d\u3001\u201c35\u523060\u201d\u4ee5\u53ca\u201c60\u4ee5\u4e0a\u201d4\u4e2a\u4e0d\u540c\u7684\u5e74\u9f84\u7ec4\uff1a</p> <pre><code>ages = [20, 22, 25, 27, 21, 23, 37, 31, 61, 45, 41, 32]\nbins = [18, 25, 35, 60, 100]\ncats = pd.cut(ages, bins)\ncats\n</code></pre> <pre><code>[(18, 25], (18, 25], (18, 25], (25, 35], (18, 25], ..., (25, 35], (60,\n100], (35, 60], (35, 60], (25, 35]]\nLength: 12\nCategories (4, interval[int64]): [(18, 25] &lt; (25, 35] &lt; (35, 60] &lt;\n(60, 100]]\n</code></pre> <pre><code>list(cats)\n</code></pre> <pre><code>[Interval(18, 25, closed='right'),\n Interval(18, 25, closed='right'),\n Interval(18, 25, closed='right'),\n Interval(25, 35, closed='right'),\n Interval(18, 25, closed='right'),\n Interval(18, 25, closed='right'),\n Interval(35, 60, closed='right'),\n Interval(25, 35, closed='right'),\n Interval(60, 100, closed='right'),\n Interval(35, 60, closed='right'),\n Interval(35, 60, closed='right'),\n Interval(25, 35, closed='right')]\n</code></pre> <p>pandas\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u7279\u6b8a\u7684Categorical\u5bf9\u8c61\u3002\u7ed3\u679c\u5c55\u793a\u4e86<code>pandas.cut</code>\u5212\u5206\u7684\u9762\u5143\u3002\u4f60\u53ef\u4ee5\u5c06\u8f93\u51fa\u7ed3\u679c\u770b\u505a\u4e00\u7ec4\u8868\u793a\u9762\u5143\u540d\u79f0\u7684\u5b57\u7b26\u4e32\u3002\u5b83\u7684\u5e95\u5c42\u542b\u6709\u4e00\u4e2a\u8868\u793a\u4e0d\u540c\u5206\u7c7b\u540d\u79f0\u7684\u7c7b\u578b\u6570\u7ec4\uff0c\u4ee5\u53ca\u4e00\u4e2acodes\u5c5e\u6027\u4e2d\u7684\u5e74\u9f84\u6570\u636e\u7684\u6807\u7b7e\uff1a</p> <pre><code>pprint.pprint(cats.codes)\npprint.pprint(cats.categories)\npd.value_counts(cats)\n</code></pre> <pre><code>array([0, 0, 0, 1, 0, 0, 2, 1, 3, 2, 2, 1], dtype=int8)\nIntervalIndex([(18, 25], (25, 35], (35, 60], (60, 100]],\n              closed='right',\n              dtype='interval[int64]')\n</code></pre> <pre><code>(18, 25]     5\n(25, 35]     3\n(35, 60]     3\n(60, 100]    1\ndtype: int64\n</code></pre> <p><code>pd.value_counts(cats)</code>\u662f<code>pandas.cut</code>\u7ed3\u679c\u7684\u9762\u5143\u8ba1\u6570\u3002</p>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_12","title":"\u793a\u4f8b\uff1a\u5206\u7ec4\u8fdb\u884c\u7edf\u8ba1\u8ba1\u7b97","text":"<p>\u7531<code>cut</code>\u8fd4\u56de\u7684<code>Categorical</code>\u5bf9\u8c61\u53ef\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165<code>groupby</code>\u65b9\u6cd5\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u50cf\u4e0b\u9762\u8fd9\u6837\u5bf9<code>ages</code>\u505a\u4e00\u4e9b\u7edf\u8ba1\u8ba1\u7b97\uff1a</p> <pre><code>def get_stats(group):\n    return {'min': group.min(), 'max': group.max(),\n            'count': group.count(), 'mean': group.mean()}\n\ngrouped = Series(ages).groupby(cats)\ngrouped.apply(get_stats).unstack()\n</code></pre> <pre><code>            min   max  count  mean\n(18, 25]   20.0  25.0    5.0  22.2\n(25, 35]   27.0  32.0    3.0  30.0\n(35, 60]   37.0  45.0    3.0  41.0\n(60, 100]  61.0  61.0    1.0  61.0\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_13","title":"\u793a\u4f8b\uff1a\u5206\u7ec4\u586b\u5145\u7f3a\u5931\u503c","text":"<p>\u5bf9\u4e8e\u7f3a\u5931\u6570\u636e\u7684\u586b\u5145\u5de5\u4f5c\uff0c\u6709\u65f6\u53ef\u80fd\u4f1a\u5e0c\u671b\u7528\u4e00\u4e2a\u7531\u6570\u636e\u96c6\u672c\u8eab\u6240\u884d\u751f\u51fa\u6765\u7684\u503c\u53bb\u586b\u5145NA\u503c\u3002\u4f8b\u5982\uff0c\u7528\u5e73\u5747\u503c\u53bb\u586b\u5145NA\u503c\u3002</p> <p>\u5047\u8bbe\u4f60\u9700\u8981\u5bf9\u4e0d\u540c\u7684\u5206\u7ec4\u586b\u5145\u4e0d\u540c\u7684\u503c\u3002\u4e00\u79cd\u65b9\u6cd5\u662f\u5c06\u6570\u636e\u5206\u7ec4\uff0c\u5e76\u4f7f\u7528<code>apply</code>\u548c\u4e00\u4e2a\u80fd\u591f\u5bf9\u5404\u6570\u636e\u5757\u8c03\u7528<code>fillna</code>\u7684\u51fd\u6570\u5373\u53ef\u3002\u4e0b\u9762\u662f\u4e00\u4e9b\u6709\u5173\u7f8e\u56fd\u51e0\u4e2a\u5dde\u7684\u793a\u4f8b\u6570\u636e\uff0c\u8fd9\u4e9b\u5dde\u53c8\u88ab\u5206\u4e3a\u4e1c\u90e8\u548c\u897f\u90e8\uff1a</p> <pre><code>data = pd.read_excel(r\"..\\datasets\\example.xlsx\", index_col=0)\nprint(data, \"\\n\")\nprint(data.groupby(\"region\").mean())\n</code></pre> <pre><code>            index region\nOhio         22.0   East\nNew York     -2.0   East\nVermont       NaN   East\nFlorida       1.0   East\nOregon       -8.0   West\nNevada        NaN   West\nCalifornia   10.0   West\nIdaho         NaN   West\n\n        index\nregion\nEast      7.0\nWest      1.0\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u7528\u5206\u7ec4\u5e73\u5747\u503c\u53bb\u586b\u5145NA\u503c:</p> <pre><code>fill_mean = lambda g: g.fillna(g.mean())\ndata.groupby(\"region\").apply(fill_mean)\n</code></pre> <pre><code>                   index region\nregion\nEast   Ohio         22.0   East\n       New York     -2.0   East\n       Vermont       7.0   East\n       Florida       1.0   East\nWest   Oregon       -8.0   West\n       Nevada        1.0   West\n       California   10.0   West\n       Idaho         1.0   West\n</code></pre> <p>\u53e6\u5916\uff0c\u4e5f\u53ef\u4ee5\u5728\u4ee3\u7801\u4e2d\u9884\u5b9a\u4e49\u5404\u7ec4\u7684\u586b\u5145\u503c\u3002\u7531\u4e8e\u5206\u7ec4\u5177\u6709\u4e00\u4e2a<code>name</code>\u5c5e\u6027\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u62ff\u6765\u7528\u4e00\u4e0b\uff1a</p> <pre><code>fill_values = {'East': 0.5, 'West': -1}\nfill_func = lambda g: g.fillna(fill_values[g.name])\ndata.groupby(\"region\").apply(fill_func)\n</code></pre> <pre><code>            index region\nOhio         22.0   East\nNew York     -2.0   East\nVermont       0.5   East\nFlorida       1.0   East\nOregon       -8.0   West\nNevada       -1.0   West\nCalifornia   10.0   West\nIdaho        -1.0   West\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#rightlabels","title":"<code>right</code>\u548c<code>labels</code>\u53c2\u6570","text":"<p>\u8ddf\u201c\u533a\u95f4\u201d\u7684\u6570\u5b66\u7b26\u53f7\u4e00\u6837\uff0c\u5706\u62ec\u53f7\u8868\u793a\u5f00\u7aef\uff0c\u800c\u65b9\u62ec\u53f7\u5219\u8868\u793a\u95ed\u7aef\uff08\u5305\u62ec\uff09\u3002\u54ea\u8fb9\u662f\u95ed\u7aef\u53ef\u4ee5\u901a\u8fc7<code>right=False</code>\u8fdb\u884c\u4fee\u6539\uff1a</p> <pre><code>pd.cut(ages, [18, 26, 36, 61, 100], right=False)\n</code></pre> <pre><code>[[18, 26), [18, 26), [18, 26), [26, 36), [18, 26), ..., [26, 36), [61,\n100), [36, 61), [36, 61), [26, 36)]\nLength: 12\nCategories (4, interval[int64]): [[18, 26) &lt; [26, 36) &lt; [36, 61) &lt;\n[61, 100)]\n</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7\u4f20\u9012\u4e00\u4e2a\u5217\u8868\u6216\u6570\u7ec4\u5230<code>labels</code>\u53c2\u6570\uff0c\u8bbe\u7f6e\u81ea\u5df1\u7684\u9762\u5143\u540d\u79f0\uff1a</p> <pre><code>group_names = ['Youth', 'YoungAdult', 'MiddleAged', 'Senior']\npd.cut(ages, bins, labels=group_names)\n</code></pre> <pre><code>['Youth', 'Youth', 'Youth', 'YoungAdult', 'Youth', ..., 'YoungAdult',\n'Senior', 'MiddleAged', 'MiddleAged', 'YoungAdult']\nLength: 12\nCategories (4, object): ['Youth' &lt; 'YoungAdult' &lt; 'MiddleAged' &lt;\n'Senior']\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#cut-vs-qcut","title":"<code>cut</code>\u51fd\u6570 vs <code>qcut</code>\u51fd\u6570","text":"<p>\u5982\u679c\u5411<code>cut</code>\u4f20\u5165\u7684\u662f\u9762\u5143\u7684\u6570\u91cf\u800c\u4e0d\u662f\u786e\u5207\u7684\u9762\u5143\u8fb9\u754c\uff0c\u5219\u5b83\u4f1a\u6839\u636e\u6570\u636e\u7684\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\u8ba1\u7b97\u7b49\u957f\u9762\u5143\u3002\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5c06\u4e00\u4e9b\u5747\u5300\u5206\u5e03\u7684\u6570\u636e\u5206\u6210\u56db\u7ec4\uff1a</p> <pre><code>data = np.random.rand(20)\npd.cut(data, 4, precision=2)\n</code></pre> <pre><code>[(0.75, 0.99], (0.75, 0.99], (0.0074, 0.25], (0.0074, 0.25], (0.25,\n0.5], ..., (0.5, 0.75], (0.75, 0.99], (0.5, 0.75], (0.75, 0.99],\n(0.0074, 0.25]]\nLength: 20\nCategories (4, interval[float64]): [(0.0074, 0.25] &lt; (0.25, 0.5] &lt;\n(0.5, 0.75] &lt; (0.75, 0.99]]\n</code></pre> <p>\u9009\u9879precision=2\uff0c\u9650\u5b9a\u5c0f\u6570\u53ea\u6709\u4e24\u4f4d\u3002</p> <p><code>qcut</code>\u662f\u4e00\u4e2a\u975e\u5e38\u7c7b\u4f3c\u4e8e<code>cut</code>\u7684\u51fd\u6570\uff0c\u5b83\u53ef\u4ee5\u6839\u636e\u6837\u672c\u5206\u4f4d\u6570\u5bf9\u6570\u636e\u8fdb\u884c\u9762\u5143\u5212\u5206\u3002\u6839\u636e\u6570\u636e\u7684\u5206\u5e03\u60c5\u51b5\uff0c<code>cut</code>\u53ef\u80fd\u65e0\u6cd5\u4f7f\u5404\u4e2a\u9762\u5143\u4e2d\u542b\u6709\u76f8\u540c\u6570\u91cf\u7684\u6570\u636e\u70b9\u3002\u800c<code>qcut</code>\u7531\u4e8e\u4f7f\u7528\u7684\u662f\u6837\u672c\u5206\u4f4d\u6570\uff0c\u56e0\u6b64\u53ef\u4ee5\u5f97\u5230\u5927\u5c0f\u57fa\u672c\u76f8\u7b49\u7684\u9762\u5143\uff1a</p> <pre><code>data = np.random.randn(1000)  # Normally distributed\ncats = pd.qcut(data, 4)  # Cut into quartiles\npd.value_counts(cats)\n</code></pre> <pre><code>(-2.9499999999999997, -0.691]    250\n(-0.691, -0.0192]                250\n(-0.0192, 0.62]                  250\n(0.62, 3.928]                    250\ndtype: int64\n</code></pre> <p>\u4e0ecut\u7c7b\u4f3c\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f20\u9012\u81ea\u5b9a\u4e49\u7684\u5206\u4f4d\u6570\uff080\u52301\u4e4b\u95f4\u7684\u6570\u503c\uff0c\u5305\u542b\u7aef\u70b9\uff09\uff1a</p> <pre><code>pd.qcut(data, [0, 0.1, 0.5, 0.9, 1.])\n</code></pre> <pre><code>[(1.289, 3.928], (-1.191, -0.0192], (-1.191, -0.0192], (-0.0192,\n1.289], (-0.0192, 1.289], ..., (1.289, 3.928], (-1.191, -0.0192],\n(-1.191, -0.0192], (-1.191, -0.0192], (-1.191, -0.0192]]\nLength: 1000\nCategories (4, interval[float64]): [(-2.9499999999999997, -1.191] &lt;\n(-1.191, -0.0192] &lt; (-0.0192, 1.289] &lt;\n                                    (1.289, 3.928]]\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_14","title":"\u68c0\u6d4b\u548c\u8fc7\u6ee4\u5f02\u5e38\u503c","text":"<p>\u8fc7\u6ee4\u6216\u53d8\u6362\u5f02\u5e38\u503c\uff08outlier\uff09\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u5c31\u662f\u8fd0\u7528\u6570\u7ec4\u8fd0\u7b97\u3002\u6765\u770b\u4e00\u4e2a\u542b\u6709\u6b63\u6001\u5206\u5e03\u6570\u636e\u7684DataFrame\uff1a</p> <pre><code>data = pd.DataFrame(np.random.randn(1000, 4))\ndata.describe()\n</code></pre> <pre><code>                 0            1            2            3\ncount  1000.000000  1000.000000  1000.000000  1000.000000\nmean      0.022282    -0.001383    -0.055245     0.043350\nstd       1.008995     0.995882     0.998735     0.996658\nmin      -3.184377    -3.745356    -3.428254    -3.645860\n25%      -0.628122    -0.697084    -0.747963    -0.600254\n50%      -0.016127    -0.026381    -0.096965     0.043663\n75%       0.695298     0.699046     0.622384     0.740562\nmax       3.525865     2.735527     3.366626     2.653656\n</code></pre> <p>\u5047\u8bbe\u4f60\u60f3\u8981\u627e\u51fa\u67d0\u5217\u4e2d\u7edd\u5bf9\u503c\u5927\u5c0f\u8d85\u8fc73\u7684\u503c\uff1a</p> <pre><code>col = data[2]\ncol[np.abs(col) &gt; 3]\n</code></pre> <pre><code>267   -3.428254\n644    3.366626\nName: 2, dtype: float64\n</code></pre> <p>\u8981\u9009\u51fa\u5168\u90e8\u542b\u6709\u201c\u8d85\u8fc73\u6216\uff0d3\u7684\u503c\u201d\u7684\u884c\uff0c\u4f60\u53ef\u4ee5\u5728\u5e03\u5c14\u578bDataFrame\u4e2d\u4f7f\u7528<code>any</code>\u65b9\u6cd5\uff1a</p> <pre><code>data[(np.abs(data) &gt; 3).any(axis=1)]\n</code></pre> <pre><code>            0         1         2         3\n50  -0.025907 -3.399312 -0.974657 -0.685312\n69   3.260383  0.963301  1.201206 -1.852001\n145 -0.196713 -3.745356 -1.520113 -0.346839\n244 -3.056990  1.918403 -0.578828  1.847446\n267  0.326045  0.425384 -3.428254 -0.296336\n331 -3.184377  1.369891 -1.074833 -0.089937\n552  0.208011 -0.150923 -0.362528 -3.548824\n644  0.193299  1.397822  3.366626 -2.372214\n791  3.525865  0.283070  0.544635  0.462204\n811 -0.450721 -0.080332  0.599947 -3.645860\n</code></pre> <p>\u6839\u636e\u8fd9\u4e9b\u6761\u4ef6\uff0c\u5c31\u53ef\u4ee5\u5bf9\u503c\u8fdb\u884c\u8bbe\u7f6e\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u5c06\u503c\u9650\u5236\u5728\u533a\u95f4\uff0d3\u52303\u4ee5\u5185\uff1a</p> <pre><code>data[np.abs(data) &gt; 3] = np.sign(data) * 3\ndata.describe()\n</code></pre> <pre><code>                 0            1            2            3\ncount  1000.000000  1000.000000  1000.000000  1000.000000\nmean      0.021737    -0.000238    -0.055183     0.044545\nstd       1.005754     0.992064     0.996186     0.992637\nmin      -3.000000    -3.000000    -3.000000    -3.000000\n25%      -0.628122    -0.697084    -0.747963    -0.600254\n50%      -0.016127    -0.026381    -0.096965     0.043663\n75%       0.695298     0.699046     0.622384     0.740562\nmax       3.000000     2.735527     3.000000     2.653656\n</code></pre> <p>\u6839\u636e\u6570\u636e\u7684\u503c\u662f\u6b63\u8fd8\u662f\u8d1f\uff0c<code>np.sign(data)</code>\u53ef\u4ee5\u751f\u62101\u548c-1\uff1a</p> <pre><code>np.sign(data).head()\n</code></pre> <pre><code>     0    1    2    3\n0  1.0  1.0  1.0 -1.0\n1  1.0  1.0 -1.0 -1.0\n2  1.0 -1.0 -1.0 -1.0\n3  1.0  1.0 -1.0  1.0\n4 -1.0 -1.0 -1.0 -1.0\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_15","title":"\u6392\u5217\u548c\u968f\u673a\u91c7\u6837","text":"<p>\u5229\u7528<code>numpy.random.permutation</code>\u51fd\u6570\u53ef\u4ee5\u8f7b\u677e\u5b9e\u73b0\u5bf9Series\u6216DataFrame\u7684\u5217\u7684\u6392\u5217\u5de5\u4f5c\uff08permuting\uff0c\u968f\u673a\u91cd\u6392\u5e8f\uff09\u3002\u901a\u8fc7\u9700\u8981\u6392\u5217\u7684\u8f74\u7684\u957f\u5ea6\u8c03\u7528permutation\uff0c\u53ef\u4ea7\u751f\u4e00\u4e2a\u8868\u793a\u65b0\u987a\u5e8f\u7684\u6574\u6570\u6570\u7ec4\uff1a</p> <pre><code>df = pd.DataFrame(np.arange(5 * 4).reshape((5, 4)))\nsampler = np.random.permutation(5)\nsampler\n</code></pre> <pre><code>array([4, 3, 2, 1, 0])\n</code></pre> <p>\u7136\u540e\u5c31\u53ef\u4ee5\u5728\u57fa\u4e8e<code>iloc</code>\u7684\u7d22\u5f15\u64cd\u4f5c\u6216take\u51fd\u6570\u4e2d\u4f7f\u7528\u8be5\u6570\u7ec4\u4e86\uff1a</p> <pre><code>df\ndf.take(sampler)\n</code></pre> <pre><code>    0   1   2   3\n4  16  17  18  19\n3  12  13  14  15\n2   8   9  10  11\n1   4   5   6   7\n0   0   1   2   3\n</code></pre> <p>\u5982\u679c\u4e0d\u60f3\u7528\u66ff\u6362\u7684\u65b9\u5f0f\u9009\u53d6\u968f\u673a\u5b50\u96c6\uff0c\u53ef\u4ee5\u5728Series\u548cDataFrame\u4e0a\u4f7f\u7528sample\u65b9\u6cd5\uff1a</p> <pre><code>df.sample(n=3)\n</code></pre> <pre><code>    0   1   2   3\n0   0   1   2   3\n4  16  17  18  19\n1   4   5   6   7\n</code></pre> <p>\u8981\u901a\u8fc7\u66ff\u6362\u7684\u65b9\u5f0f\u4ea7\u751f\u6837\u672c\uff08\u5141\u8bb8\u91cd\u590d\u9009\u62e9\uff09\uff0c\u53ef\u4ee5\u4f20\u9012<code>replace=True</code>\u5230<code>sample</code>\u65b9\u6cd5\uff1a</p> <pre><code>choices = pd.Series([5, 7, -1, 6, 4])\ndraws = choices.sample(n=10, replace=True)\ndraws\n</code></pre> <pre><code>0    5\n1    7\n3    6\n4    4\n0    5\n0    5\n1    7\n0    5\n0    5\n4    4\ndtype: int64\n</code></pre>"},{"location":"Python3/pandas/9.11.%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html#_16","title":"\u8ba1\u7b97\u6307\u6807/\u54d1\u53d8\u91cf","text":"<p>\u53e6\u4e00\u79cd\u5e38\u7528\u4e8e\u7edf\u8ba1\u5efa\u6a21\u6216\u673a\u5668\u5b66\u4e60\u7684\u8f6c\u6362\u65b9\u5f0f\u662f\uff1a\u5c06\u5206\u7c7b\u53d8\u91cf\uff08categorical variable\uff09\u8f6c\u6362\u4e3a\u201c\u54d1\u53d8\u91cf\u201d\u6216\u201c\u6307\u6807\u77e9\u9635\u201d\u3002</p> <p>\u5982\u679cDataFrame\u7684\u67d0\u4e00\u5217\u4e2d\u542b\u6709k\u4e2a\u4e0d\u540c\u7684\u503c\uff0c\u5219\u53ef\u4ee5\u6d3e\u751f\u51fa\u4e00\u4e2ak\u5217\u77e9\u9635\u6216DataFrame\uff08\u5176\u503c\u5168\u4e3a1\u548c0\uff09\u3002pandas\u6709\u4e00\u4e2aget_dummies\u51fd\u6570\u53ef\u4ee5\u5b9e\u73b0\u8be5\u529f\u80fd\uff08\u5176\u5b9e\u81ea\u5df1\u52a8\u624b\u505a\u4e00\u4e2a\u4e5f\u4e0d\u96be\uff09\u3002\u4f7f\u7528\u4e4b\u524d\u7684\u4e00\u4e2aDataFrame\u4f8b\u5b50\uff1a</p> <pre><code>df = pd.DataFrame({'key': ['b', 'b', 'a', 'c', 'a', 'b'],\n                   'data1': range(6)})\npd.get_dummies(df['key'])\n</code></pre> <pre><code>   a  b  c\n0  0  1  0\n1  0  1  0\n2  1  0  0\n3  0  0  1\n4  1  0  0\n5  0  1  0\n</code></pre> <p>\u6709\u65f6\u5019\uff0c\u4f60\u53ef\u80fd\u60f3\u7ed9\u6307\u6807DataFrame\u7684\u5217\u52a0\u4e0a\u4e00\u4e2a\u524d\u7f00\uff0c\u4ee5\u4fbf\u80fd\u591f\u8ddf\u5176\u4ed6\u6570\u636e\u8fdb\u884c\u5408\u5e76\u3002get_dummies\u7684prefix\u53c2\u6570\u53ef\u4ee5\u5b9e\u73b0\u8be5\u529f\u80fd\uff1a</p> <pre><code>dummies = pd.get_dummies(df['key'], prefix='key')\ndf_with_dummy = df[['data1']].join(dummies)\ndf_with_dummy\n</code></pre> <pre><code>   data1  key_a  key_b  key_c\n0      0      0      1      0\n1      1      0      1      0\n2      2      1      0      0\n3      3      0      0      1\n4      4      1      0      0\n5      5      0      1      0\n</code></pre> <p>\u5982\u679cDataFrame\u4e2d\u7684\u67d0\u884c\u540c\u5c5e\u4e8e\u591a\u4e2a\u5206\u7c7b\uff0c\u5219\u4e8b\u60c5\u5c31\u4f1a\u6709\u70b9\u590d\u6742\u3002\u770b\u4e00\u4e0bMovieLens 1M\u6570\u636e\u96c6\uff1a</p> <pre><code>mnames = ['movie_id', 'title', 'genres']\nmovies = pd.read_table('../datasets/movies.dat', sep='::', header=None,\n                       names=mnames,  engine='python')\nmovies[:10]\n</code></pre> <pre><code>   movie_id                               title                        genres\n0         1                    Toy Story (1995)   Animation|Children's|Comedy\n1         2                      Jumanji (1995)  Adventure|Children's|Fantasy\n2         3             Grumpier Old Men (1995)                Comedy|Romance\n3         4            Waiting to Exhale (1995)                  Comedy|Drama\n4         5  Father of the Bride Part II (1995)                        Comedy\n5         6                         Heat (1995)         Action|Crime|Thriller\n6         7                      Sabrina (1995)                Comedy|Romance\n7         8                 Tom and Huck (1995)          Adventure|Children's\n8         9                 Sudden Death (1995)                        Action\n9        10                    GoldenEye (1995)     Action|Adventure|Thriller\n</code></pre> <p>\u8981\u4e3a\u6bcf\u4e2agenre\u6dfb\u52a0\u6307\u6807\u53d8\u91cf\u5c31\u9700\u8981\u505a\u4e00\u4e9b\u6570\u636e\u89c4\u6574\u64cd\u4f5c\u3002\u9996\u5148\uff0c\u6211\u4eec\u4ece\u6570\u636e\u96c6\u4e2d\u62bd\u53d6\u51fa\u4e0d\u540c\u7684genre\u503c\uff1a</p> <pre><code>all_genres = []\nfor x in movies.genres:\n    all_genres.extend(x.split('|'))\ngenres = pd.unique(all_genres)\n</code></pre> <p>\u73b0\u5728\u6709\uff1a</p> <pre><code>genres\n</code></pre> <p>\u6784\u5efa\u6307\u6807DataFrame\u7684\u65b9\u6cd5\u4e4b\u4e00\u662f\u4ece\u4e00\u4e2a\u5168\u96f6DataFrame\u5f00\u59cb\uff1a</p> <pre><code>zero_matrix = np.zeros((len(movies), len(genres)))\ndummies = pd.DataFrame(zero_matrix, columns=genres)\n</code></pre> <p>\u73b0\u5728\uff0c\u8fed\u4ee3\u6bcf\u4e00\u90e8\u7535\u5f71\uff0c\u5e76\u5c06dummies\u5404\u884c\u7684\u6761\u76ee\u8bbe\u4e3a1\u3002\u8981\u8fd9\u4e48\u505a\uff0c\u6211\u4eec\u4f7f\u7528<code>dummies.columns</code>\u6765\u8ba1\u7b97\u6bcf\u4e2a\u7c7b\u578b\u7684\u5217\u7d22\u5f15\uff1a</p> <pre><code>gen = movies.genres[0]\ngen.split('|')\ndummies.columns.get_indexer(gen.split('|'))\n</code></pre> <pre><code>array([0, 1, 2], dtype=int64)\n</code></pre> <p>\u7136\u540e\uff0c\u6839\u636e\u7d22\u5f15\uff0c\u4f7f\u7528<code>.iloc</code>\u8bbe\u5b9a\u503c\uff1a</p> <pre><code>for i, gen in enumerate(movies.genres):\n    indices = dummies.columns.get_indexer(gen.split('|'))\n    dummies.iloc[i, indices] = 1\n</code></pre> <p>\u7136\u540e\uff0c\u548c\u4ee5\u524d\u6837\uff0c\u518d\u5c06\u5176\u4e0emovies\u5408\u5e76\u8d77\u6765\uff1a</p> <pre><code>movies_windic = movies.join(dummies.add_prefix('Genre_'))\nmovies_windic.iloc[0]\n</code></pre> <pre><code>movie_id                                       1\ntitle                           Toy Story (1995)\ngenres               Animation|Children's|Comedy\nGenre_Animation                              1.0\nGenre_Children's                             1.0\nGenre_Comedy                                 1.0\nGenre_Adventure                              0.0\nGenre_Fantasy                                0.0\nGenre_Romance                                0.0\nGenre_Drama                                  0.0\nGenre_Action                                 0.0\nGenre_Crime                                  0.0\nGenre_Thriller                               0.0\nGenre_Horror                                 0.0\nGenre_Sci-Fi                                 0.0\nGenre_Documentary                            0.0\nGenre_War                                    0.0\nGenre_Musical                                0.0\nGenre_Mystery                                0.0\nGenre_Film-Noir                              0.0\nGenre_Western                                0.0\nName: 0, dtype: object\n</code></pre> <p>\u7b14\u8bb0\uff1a\u5bf9\u4e8e\u5f88\u5927\u7684\u6570\u636e\uff0c\u7528\u8fd9\u79cd\u65b9\u5f0f\u6784\u5efa\u591a\u6210\u5458\u6307\u6807\u53d8\u91cf\u5c31\u4f1a\u53d8\u5f97\u975e\u5e38\u6162\u3002\u6700\u597d\u4f7f\u7528\u66f4\u4f4e\u7ea7\u7684\u51fd\u6570\uff0c\u5c06\u5176\u5199\u5165NumPy\u6570\u7ec4\uff0c\u7136\u540e\u7ed3\u679c\u5305\u88c5\u5728DataFrame\u4e2d\u3002</p> <p>\u4e00\u4e2a\u5bf9\u7edf\u8ba1\u5e94\u7528\u6709\u7528\u7684\u79d8\u8bc0\u662f\uff1a\u7ed3\u5408<code>get_dummies</code>\u548c\u8bf8\u5982<code>cut</code>\u4e4b\u7c7b\u7684\u79bb\u6563\u5316\u51fd\u6570\uff1a</p> <pre><code>np.random.seed(12345)\nvalues = np.random.rand(10)\nvalues\nbins = [0, 0.2, 0.4, 0.6, 0.8, 1]\npd.get_dummies(pd.cut(values, bins))\n</code></pre> <pre><code>   (0.0, 0.2]  (0.2, 0.4]  (0.4, 0.6]  (0.6, 0.8]  (0.8, 1.0]\n0           0           0           0           0           1\n1           0           1           0           0           0\n2           1           0           0           0           0\n3           0           1           0           0           0\n4           0           0           1           0           0\n5           0           0           1           0           0\n6           0           0           0           0           1\n7           0           0           0           1           0\n8           0           0           0           1           0\n9           0           0           0           1           0\n</code></pre> <p>\u6211\u4eec\u7528<code>numpy.random.seed</code>\uff0c\u4f7f\u8fd9\u4e2a\u4f8b\u5b50\u5177\u6709\u786e\u5b9a\u6027\u3002\u672c\u4e66\u540e\u9762\u4f1a\u4ecb\u7ecd<code>pandas.get_dummies</code>\u3002</p> <pre><code># h = H(pd)\n# d = h.dicts\n\n\n# d[\"function\"]\n\n# [i for i in dir(pd) if \"na\" in i]\n</code></pre>"},{"location":"Python3/pandas/9.2.DataFra.html","title":"9.2.DataFra","text":"<pre><code>from toolkit import H\nfrom pandas import DataFrame\nfrom pandas import Series\nimport numpy as np\n</code></pre> <pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.02.27\npandas version:  1.2.2\nnumpy version:  1.20.1\n</code></pre>"},{"location":"Python3/pandas/9.2.DataFra.html#dataframe","title":"DataFrame\u7c7b","text":"<p>DataFrame\u662f\u4e00\u4e2a\u8868\u683c\u578b\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5b83\u542b\u6709\u4e00\u7ec4\u6709\u5e8f\u7684\u5217\uff0c\u6bcf\u5217\u53ef\u4ee5\u662f\u4e0d\u540c\u7684\u503c\u7c7b\u578b1\uff08\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u7b49\uff09\u3002DataFrame\u65e2\u6709\u884c\u7d22\u5f15\u4e5f\u6709\u5217\u7d22\u5f15\uff0c\u5b83\u53ef\u4ee5\u88ab\u770b\u505a\u662fSeries\u7684\u5bb9\u5668\u3002</p> <p>pandas\u4e2d\u7684<code>DataFrame</code>\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u6784\u9020\u51fd\u6570\u521b\u5efa\uff1a</p> <pre><code>DataFrame(data=None, index=None, columns=None, dtype=None, copy=False)\n</code></pre> <ul> <li><code>data</code>\uff1a\u6570\u636e\u53ef\u4ee5\u662f\u5404\u79cd\u5f62\u5f0f\uff0c\u5982:<code>ndarray</code>\uff0c<code>series</code>\uff0c<code>map</code>\uff0c<code>lists</code>\uff0c<code>dict</code>\uff0c<code>constant</code>\u548c\u53e6\u4e00\u4e2a<code>DataFrame</code>\u3002</li> <li><code>index</code>\uff1a\u884c\u6807\u7b7e\u3002\u9ed8\u8ba4\u4e3a<code>np.arrange(n)</code>\u3002</li> <li><code>columns</code>\uff1a\u5217\u6807\u7b7e\u3002\u9ed8\u8ba4\u4e3a<code>np.arrange(n)</code>\u3002</li> <li><code>dtype</code>\uff1a\u6570\u636e\u7c7b\u578b\u3002</li> <li><code>copy</code>\uff1a\u662f\u5426\u590d\u5236\u6570\u636e\u3002</li> </ul> <p>\u53ef\u4ee5\u8f93\u5165\u7ed9DataFrame\u6784\u9020\u5668\u7684\u6570\u636e\uff1a</p> \u7c7b\u578b \u8bf4\u660e \u4e8c\u7ef4ndarray \u7531list\u6216tuple\u7ec4\u6210\u7684list \u7c7b\u4f3c\u4e8e\u201c\u4e8c\u7ef4ndarray\u201d \u7531\u6570\u7ec4\u3001\u5217\u8868\u6216\u5143\u7ec4\u7ec4\u6210\u7684\u5b57\u5178 \u6bcf\u4e2a\u5e8f\u5217\u4f5c\u4e3aDataFrame\u7684\u4e00\u5217\u3002\u6240\u6709\u5e8f\u5217\u7684\u957f\u5ea6\u5fc5\u987b\u76f8\u540c\u3002 \u7531Series\u7ec4\u6210\u7684\u5b57\u5178 \u6bcf\u4e2aSeries\u4f1a\u6210\u4e3a\u4e00\u5217\u3002\u5982\u679c\u6ca1\u6709\u663e\u5f0f\u6307\u5b9aindex\uff0c\u5219 \u5404Series\u7684index\u4f1a\u88ab\u5408\u5e76\u6210\u7ed3\u679c\u7684\u884c\u7d22\u5f15\u3002\u6bcf\u4e2aSeries\u7684\u957f\u5ea6\u4e0d\u8981\u6c42\u5fc5\u987b\u76f8\u540c\uff0cDataFrame\u4f1a\u4ee5NaN\u586b\u5145\u3002 NumPy\u7684\u7ed3\u6784\u5316/\u8bb0\u5f55\u6570\u7ec4 \u7c7b\u4f3c\u4e8e\u201c\u7531\u6570\u7ec4\u7ec4\u6210\u7684\u5b57\u5178\u201d \u7531\u5b57\u5178\u7ec4\u6210\u7684\u5b57\u5178 \u5404\u5185\u5c42\u5b57\u5178\u4f1a\u6210\u4e3a\u4e00\u5217\u3002\u952e\u4f1a\u88ab\u5408\u5e76\u6210\u7ed3\u679c\u7684\u884c\u7d22\u5f15\uff0c\u8ddf\u7531\u201cSeries\u7ec4\u6210\u7684\u5b57\u5178\u201d\u7684\u60c5\u51b5\u4e00\u6837 \u5b57\u5178\u6216Series\u7684\u5217\u8868 \u5404\u9879\u5c06\u4f1a\u6210\u4e3aDataFrame\u7684\u4e00\u884c\u3002\u5b57\u5178\u952e\u6216Series\u7d22\u5f15\u7684\u5e76\u96c6\u5c06\u4f1a\u6210\u4e3aDataFrame\u7684\u5217\u6807 \u53e6\u2014\u4e2aDataFrame \u8be5DataFrame\u7684\u7d22\u5f15\u5c06\u4f1a\u88ab\u6cbf\u7528\uff0c\u9664\u975e\u663e\u5f0f\u6307\u5b9a\u4e86\u5176\u4ed6\u7d22\u5f15 NumPy \u7684 Masked Array \u7c7b\u4f3c\u4e8e\u201c\u4e8c\u7ef4ndarray\u201d\u7684\u60c5\u51b5\uff0c\u53ea\u662f\u63a9\u7801\u503c\u5728\u7ed3\u679c DataFrame\u4f1a\u53d8\u6210NA/\u7f3a\u5931\u503c <p>\u603b\u7684\u6765\u8bf4\uff0c\u652f\u6301\u8f93\u5165\u7684\u6570\u636e\u7c7b\u578b\u662f\uff1a<code>dict</code>\u3001<code>list</code>\u3001<code>ndarray</code>\u3001<code>DataFrame</code>\u3002</p>"},{"location":"Python3/pandas/9.2.DataFra.html#_1","title":"\u4ece\u5217\u8868\u521b\u5efa","text":"<p>\u53ef\u4ee5\u4f7f\u7528\u5355\u4e2a\u5217\u8868\u6216\u5217\u8868\u5185\u5d4c\u5217\u8868\u6765\u521b\u5efaDataFrame\u3002</p> <p>\u5355\u4e2a\u5217\u8868\u7684\u4f8b\u5b50\uff1a</p> <pre><code>data = [1, 2, 3, 4, 5]\nDataFrame(data)\n</code></pre> <pre><code>   0\n0  1\n1  2\n2  3\n3  4\n4  5\n</code></pre> <p>\u5217\u8868\u5185\u5d4c\u5217\u8868\u7684\u4f8b\u5b50\uff1a</p> <pre><code>data = [['Alex', 10], ['Bob', 12], ['Clarke', 13]]\nDataFrame(data, columns=['Name', 'Age'])\n</code></pre> <pre><code>     Name  Age\n0    Alex   10\n1     Bob   12\n2  Clarke   13\n</code></pre> <p></p>"},{"location":"Python3/pandas/9.2.DataFra.html#arraylistseries","title":"\u4ece\u5305\u542barray/List/Series\u7684\u5b57\u5178\u521b\u5efa","text":"<p>\u4f20\u5165\u4e00\u4e2a\u7531\u7b49\u957flist\u3001ndarray\u7ec4\u6210\u7684\u5b57\u5178\uff1a</p> <p>\u7ed3\u679cDataFrame\u4f1a\u81ea\u52a8\u52a0\u4e0a\u7d22\u5f15\uff08\u8ddfSeries\u4e00\u6837\uff09\uff0c\u4e14\u5168\u90e8\u5217\u4f1a\u88ab\u6709\u5e8f\u6392\u5217\u3002</p> <pre><code>data = {'state': ['Ohio', 'Ohio', 'Ohio', 'Nevada', 'Nevada'],\n        'year': [2000, 2001, 2002, 2001, 2002],\n        'pop': [1.5, 1.7, 3.6, 2.4, 2.9]}\nDataFrame(data)\n</code></pre> <pre><code>    state  year  pop\n0    Ohio  2000  1.5\n1    Ohio  2001  1.7\n2    Ohio  2002  3.6\n3  Nevada  2001  2.4\n4  Nevada  2002  2.9\n</code></pre> <p>\u5982\u679c\u6307\u5b9a\u4e86\u5217\u5e8f\u5217\uff0c\u5219DataFrame\u7684\u5217\u5c31\u4f1a\u6309\u7167\u6307\u5b9a\u987a\u5e8f\u8fdb\u884c\u6392\u5217\uff1a</p> <pre><code>DataFrame(data, columns=['year', 'state', 'pop'])\n</code></pre> <pre><code>   year   state  pop\n0  2000    Ohio  1.5\n1  2001    Ohio  1.7\n2  2002    Ohio  3.6\n3  2001  Nevada  2.4\n4  2002  Nevada  2.9\n</code></pre> <p>\u4f20\u5165\u4e00\u4e2a\u7531\u7b49\u957fSeries\u6216\u4e0d\u7b49\u957fSeries\u7ec4\u6210\u7684\u5b57\u5178\uff1a</p> <pre><code>data = {'state': Series(['Ohio', 'Ohio', 'Nevada'], index=['a', 'b', 'c']),\n        'year': Series([2000, 2002, 2001, 2002], index=['a', 'b', 'c', 'd']),\n        'pop': Series([1.7, 3.6, 2.4], index=['b', 'c', 'd'])}\n\nDataFrame(data)\n</code></pre> <pre><code>    state  year  pop\na    Ohio  2000  NaN\nb    Ohio  2002  1.7\nc  Nevada  2001  3.6\nd     NaN  2002  2.4\n</code></pre> <p></p>"},{"location":"Python3/pandas/9.2.DataFra.html#_2","title":"\u4ece\u5b57\u5178\u5217\u8868\u521b\u5efa","text":"<pre><code>data = [{'a': 1, 'b': 2}, {'a': 5, 'b': 10, 'c': 20}]\nDataFrame(data, index=['first', 'second'])\n</code></pre> <pre><code>        a   b     c\nfirst   1   2   NaN\nsecond  5  10  20.0\n</code></pre>"},{"location":"Python3/pandas/9.2.DataFra.html#_3","title":"\u66ff\u4ee3\u6784\u9020\u51fd\u6570","text":""},{"location":"Python3/pandas/9.2.DataFra.html#dataframefrom_dict","title":"DataFrame.from_dict","text":"<pre><code>DataFrame.from_dict(data, orient='columns', dtype=None, columns=None)\n</code></pre> <p><code>DataFrame.from_dict</code>\u63a5\u53d7dict\u6216\u7c7b\u4f3c\u6570\u7ec4\u7684\u5e8f\u5217\u7684dict\u5e76\u8fd4\u56deDataFrame\u3002</p> <pre><code>DataFrame.from_dict(dict([('A', [1, 2, 3]), ('B', [4, 5, 6])]))\n\nDataFrame.from_dict(dict([('A', [1, 2, 3]), ('B', [4, 5, 6])]),\n                    orient='index', columns=['one', 'two', 'three'])\n</code></pre> <pre><code>   one  two  three\nA    1    2      3\nB    4    5      6\n</code></pre>"},{"location":"Python3/pandas/9.2.DataFra.html#dataframefrom_records","title":"DataFrame.from_records","text":"<pre><code>DataFrame.from_records(data, index=None, exclude=None, columns=None,\n                       coerce_float=False, nrows=None)\n</code></pre> <p><code>DataFrame.from_records</code>\u63a5\u53d7\u5177\u6709\u7ed3\u6784\u5316dtype\u7684\u5143\u7ec4\u6216ndarray\u7684\u5217\u8868\u3002\u5b83\u4e0e\u666e\u901a\u7684<code>DataFrame</code>\u6784\u9020\u51fd\u6570\u76f8\u4f3c\uff0c\u9664\u4e86\u6240\u5f97\u7684DataFrame\u7d22\u5f15\u53ef\u80fd\u662f\u7ed3\u6784\u5316dtype\u7684\u7279\u5b9a\u5b57\u6bb5\u3002\u4f8b\u5982\uff1a</p> <pre><code>data = np.array([(1, 2., b'Hello'), (2, 3., b'World')],\n                dtype=[('A', '&lt;i4'), ('B', '&lt;f4'), ('C', 'S10')])\n\nDataFrame.from_records(data, index='C')\n</code></pre> <pre><code>          A    B\nC\nb'Hello'  1  2.0\nb'World'  2  3.0\n</code></pre>"},{"location":"Python3/pandas/9.2.DataFra.html#dataframefrom_items","title":"DataFrame.from_items","text":"<p>\u4ece\u5143\u7ec4\u5e8f\u5217\u4e2d\u521b\u5efa<code>DataFrame</code>\u3002</p> <pre><code>DataFrame.from_items(items, columns=None, orient='columns')\n</code></pre> <ul> <li><code>items</code>\uff1a \u4e3a\u5143\u7ec4\u5e8f\u5217\uff0c\u5143\u7ec4\u683c\u5f0f\u4e3a\uff1a<code>(key, value)</code>\u3002</li> <li><code>columns</code>\uff1a\u5217\u6807\u7b7e\u3002\u5f53<code>orient='index'</code>\u65f6\u5fc5\u987b\u4f20\u5165<code>columns</code>\u3002\u5f53<code>orient='columns'</code>\u65f6\uff0c<code>key</code>\u5c31\u662f\u5217\u7684label\uff0c\u6b64\u65f6<code>columns</code>\u53c2\u6570\u6307\u5b9a\u7684\u5217label\u5fc5\u987b\u7b49\u4e8e\u67d0\u4e2a<code>key</code>\uff0c\u5426\u5219\u629b\u51fa\u5f02\u5e38\u3002</li> <li><code>orient</code>\uff1a\u6570\u636e\u7684\u65b9\u5411\uff0c<code>{'index', 'columns'}</code>\u3002</li> </ul> <p><code>DataFrame.from_items</code>\u7c7b\u65b9\u6cd5\u4ecepandas 0.23\u7248\u672c\u8d77\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u5728\u672a\u6765\u7684\u7248\u672c\u4e2d\u4f1a\u88ab\u79fb\u9664\u3002</p> <pre><code>print(\"pandas version:\", pd.__version__)\nprint(\"Has 'from_items' attr?\", hasattr(DataFrame, \"from_items\"))\n</code></pre> <pre><code>pandas version: 1.2.2\nHas 'from_items' attr? False\n</code></pre> <ol> <li> <p>\u5b9e\u9645\u4e0a\uff0cDataFrame\u6bcf\u4e00\u4e2a\u503c\u90fd\u53ef\u4ee5\u662f\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"Python3/pandas/9.3.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE.html","title":"9.3.\u9009\u62e9\u6570\u636e","text":"<pre><code>from toolkit import H\nimport numpy as np\nimport pandas as pd\nimport copy\n</code></pre> <pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.03.15\npandas version:  1.2.2\nnumpy version:  1.20.1\n</code></pre> <p>\u4e86\u89e3\u5e76\u533a\u522b pandas \u7684\u5404\u79cd\u7d22\u5f15\u65b9\u5f0f\u5bf9\u6570\u636e\u5904\u7406\u5f88\u6709\u5e2e\u52a9\u3002\u5f88\u591a\u65f6\u5019\uff0c\u6311\u9009\u6070\u5f53\u7684\u7d22\u5f15\u65b9\u5f0f\uff0c\u53ef\u4ee5\u907f\u514d\u6216\u51cf\u5c11\u5faa\u73af\u7684\u4f7f\u7528\u3002\u8fd9\u4e0d\u4ec5\u80fd\u8ba9\u4ee3\u7801\u66f4\u6e05\u6670\uff0c\u800c\u4e14\u8fd8\u80fd\u6781\u5927\u5730\u63d0\u5347\u7a0b\u5e8f\u7684\u6027\u80fd\u3002</p> <p>pandas \u57fa\u4e8e NumPy\uff0c\u5e76\u63d0\u4f9b\u4e86\u548c NumPy \u7c7b\u4f3c\u7684\u6570\u636e\u7d22\u5f15\u65b9\u5f0f\u3002\u719f\u6089 NumPy \u7684\u7528\u6237\u53ef\u4ee5\u5f88\u5feb\u4e0a\u624b pandas \u7684\u6570\u636e\u9009\u62e9\u65b9\u5f0f\uff0c\u4f46\u4ecd\u53ef\u80fd\u5bf9pandas\u7684\u7d22\u5f15\u65b9\u5f0f\u6709\u4e00\u4e9b\u56f0\u60d1\u3002</p> <p>\u4e00\u65b9\u9762\uff0c\u56e0\u4e3a NumPy \u7684\u7d22\u5f15\u65b9\u5f0f\u5f88\u590d\u6742\uff0c\u800c pandas \u7684\u7d22\u5f15\u65b9\u5f0f\u5219\u8f83\u4e3a\u7b80\u5355\uff0cNumPy \u7684\u4e00\u4e9b\u7d22\u5f15\u89c4\u5219\u4e0d\u88ab pandas \u652f\u6301\uff0c\u4f8b\u5982 pandas \u4e0d\u652f\u6301\u6574\u6570\u6570\u7ec4\u7d22\u5f15\uff1b\u53e6\u4e00\u65b9\u9762\uff0cpandas \u63d0\u4f9b\u7c7b\u4f3c ndarray \u7684\u6570\u636e\u7ed3\u6784\uff0c\u4f46\u5176\u7d22\u5f15\u89c4\u5219\u548c NumPy \u4ecd\u6709\u4e00\u4e9b\u533a\u522b\u3002</p>"},{"location":"Python3/pandas/9.3.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE.html#_1","title":"\u7d22\u5f15\u89c4\u5219","text":"<p>pandas \u63d0\u4f9b\u4e86\u4e24\u79cd\u4e3b\u8981\u7684\u6570\u636e\u7ed3\u6784\uff1aSeries \u548c DataFrame\u3002Series \u7c7b\u4f3c\u4e00\u7ef4\u7684 ndarray\uff0c\u800c DataFrame \u7c7b\u4f3c\u4e8c\u7ef4\u7684 ndarray\u3002\u4e0e ndarray \u4e0d\u540c\u7684\u662f\uff0cSeries \u548c DataFrame \u53ef\u4ee5\u6709\u6807\u7b7e\u7d22\u5f15\uff0c\u800c ndarray \u53ea\u6709\u6574\u6570\u7d22\u5f15\uff08\u9664\u4e86\u7ed3\u6784\u6570\u7ec4\uff09\u3002Series \u53ef\u4ee5\u6709\u884c\u6807\u7b7e\u7d22\u5f15\uff0cDataFrame \u5219\u53ef\u4ee5\u6709\u884c\u5217\u6807\u7b7e\u7d22\u5f15\u3002</p> <p>pandas \u652f\u6301\u5982\u4e0b\u7d22\u5f15\u79cd\u7c7b\uff1a</p> <ol> <li>\u6807\u91cf\uff1a\u6574\u6570\u3001\u6807\u7b7e</li> <li><code>1-D array-like</code>\uff1a\u6574\u6570\u5e8f\u5217\u3001\u6807\u7b7e\u5e8f\u5217</li> <li>\u5207\u7247\uff1a\u6574\u6570\u5207\u7247\u3001\u6807\u7b7e\u5207\u7247</li> <li>\u5e03\u5c14\u6570\u7ec4</li> </ol> <p>\u4e0e NumPy \u4e0d\u540c\uff0cpandas \u6709\u591a\u79cd\u8c03\u7528\u7d22\u5f15\u7684\u65b9\u5f0f\uff1a</p> <ol> <li>\u7d22\u5f15\u64cd\u4f5c\u7b26<code>[]</code></li> <li>\u7279\u6027<code>.loc\\iloc</code></li> <li>\u7279\u6027<code>.at\\iat</code></li> <li>\u65b9\u6cd5<code>take\\get</code></li> </ol> <p>\u7d22\u5f15\u89c4\u5219\uff1a</p> <ul> <li> <p>Series \u53ea\u80fd\u7d22\u5f15\u884c\u6570\u636e\uff0c\u56e0\u4e3a Series \u53ea\u6709\u4e00\u4e2a\u7ef4\u5ea6\u3002\u9009\u62e9 Series \u7684\u6570\u636e\u65f6\uff0c\u65e0\u8bba\u662f\u4f55\u79cd\u7d22\u5f15\u65b9\u5f0f\uff0c\u90fd\u53ea\u80fd\u4f20\u5165\u4e00\u4e2a\u7d22\u5f15\uff08\u884c\u7d22\u5f15\uff09\uff0c\u5426\u5219\u62a5\u9519\u3002</p> </li> <li> <p>\u7d22\u5f15\u64cd\u4f5c\u7b26<code>[]</code>\u652f\u6301\u5168\u90e8\u7684\u7d22\u5f15\u79cd\u7c7b\uff0c\u4f46<code>[]</code>\u53ea\u652f\u6301\u4f20\u5165\u4e00\u4e2a\u7d22\u5f15\uff0c\u4f8b\u5982<code>df[0, 1]</code>\u8fd9\u79cd\u5f62\u5f0f\u662f\u4e0d\u5141\u8bb8\u7684\u3002\u5bf9\u4e8e DataFrame\uff0c\u4f7f\u7528\u6807\u91cf\u7d22\u5f15\uff08\u6574\u6570\u3001\u6807\u7b7e\uff09\u548c\u5e8f\u5217\u7d22\u5f15\u65f6\uff0c<code>[]</code> \u7d22\u5f15\u5176\u5217\u6570\u636e\uff1b\u4f7f\u7528\u5207\u7247\u7d22\u5f15\u65f6\uff0c<code>[]</code> \u7d22\u5f15\u5176\u884c\u6570\u636e\u3002</p> </li> <li> <p><code>loc</code>\u652f\u6301\u5168\u90e8\u7684\u7d22\u5f15\u79cd\u7c7b\uff1b<code>iloc</code>\u662f integer-location \u7684\u7f29\u5199\uff0c\u4ec5\u652f\u6301\u6574\u6570\u3001\u4e00\u7ef4\u6574\u6570\u5e8f\u5217\u3001\u6574\u6570\u5207\u7247\u3001\u5e03\u5c14\u6570\u7ec4\u3002\u9009\u62e9 DataFrame \u7684\u6570\u636e\u65f6\uff0c<code>loc/iloc</code>\u53ef\u4ee5\u7701\u7565\u5217\u7d22\u5f15\uff0c\u4e0d\u80fd\u7701\u7565\u884c\u7d22\u5f15\u3002</p> </li> <li> <p><code>at</code>\u7c7b\u4f3c<code>loc</code>\uff0c\u4f46\u4ec5\u652f\u6301\u6807\u7b7e\u7d22\u5f15\u548c\u6574\u6570\u7d22\u5f15\uff1b<code>iat</code>\u7c7b\u4f3c<code>iloc</code>\uff0c\u4f46\u4ec5\u652f\u6301\u6574\u6570\u7d22\u5f15\u3002<code>at/iat</code>\u7528\u4e8e\u8fd4\u56de\u6216\u8bbe\u7f6e\u6807\u91cf\u3002\u9009\u62e9 DataFrame \u7684\u6570\u636e\u65f6\uff0c<code>at/iat</code>\u4e0d\u80fd\u7701\u7565\u884c\u7d22\u5f15\u6216\u5217\u7d22\u5f15\u3002</p> </li> <li> <p>\u5982\u679c Series/DataFrame \u8bbe\u7f6e\u4e86\u884c\u6807\u7b7e\u6216\u5217\u6807\u7b7e\uff0c\u90a3\u4e48 Series \u53ef\u4ee5\u901a\u8fc7\u5c5e\u6027\u7684\u65b9\u5f0f\u8bbf\u95ee\u6216\u8bbe\u7f6e\u884c\u6807\u91cf\uff0cDataFrame \u53ef\u4ee5\u901a\u8fc7\u5c5e\u6027\u8bbf\u95ee\u6216\u8bbe\u7f6e\u5217\u3002</p> </li> <li> <p>Series/DataFrame \u7684\u7d22\u5f15\u9ed8\u8ba4\u4e3a\u6574\u6570\u503c\uff0c\u6b64\u65f6<code>[]/loc/at</code>\u53ea\u80fd\u4f7f\u7528\u6574\u6570\u503c\u7d22\u5f15\uff1b\u82e5\u8bbe\u7f6e\u4e86\u884c\u6807\u7b7e\u6216\u5217\u6807\u7b7e\uff0c\u5219\u53ea\u80fd\u7528\u6807\u7b7e\u503c\u7d22\u5f15\u3002\u800c<code>iloc/iat</code>\u5728\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\u90fd\u53ef\u4ee5\u4f7f\u7528\u6574\u6570\u503c\u7d22\u5f15\u3002</p> </li> <li> <p>\u6574\u6570\u7d22\u5f15\u3001\u6807\u7b7e\u7d22\u5f15\u610f\u5473\u7740\u4ece\u5bf9\u5e94\u7684\u8f74\u53d6\u51fa 1 \u4e2a\u5143\u7d20\uff0c\u56e0\u6b64\uff0c\u6bcf\u591a 1 \u4e2a\u6574\u6570\u7d22\u5f15\u6216\u6807\u7b7e\u7d22\u5f15\uff0c\u7d22\u5f15\u7ed3\u679c\u5c31\u51cf\u5c11 1 \u4e2a\u7ef4\u5ea6\u3002\u4ece Series \u62bd\u53d6\u4e00\u4e2a\u5143\u7d20\uff0c\u8fd4\u56de\u6807\u91cf\uff1b\u4ece DataFrame \u62bd\u53d6\u4e00\u4e2a\u5143\u7d20\uff0c\u8fd4\u56de Series \u5bf9\u8c61\u3002</p> </li> <li> <p>pandas \u7684\u5207\u7247\u7d22\u5f15\u6709\u4e24\u79cd\uff1a\u6574\u6570\u5207\u7247\u3001\u6807\u7b7e\u5207\u7247\u3002\u6574\u6570\u5207\u7247\u662f\u5de6\u95ed\u53f3\u5f00\u7684\u534a\u5f00\u533a\u95f4\uff0c\u548cPython\u666e\u901a\u7684\u6574\u6570\u5207\u7247\u4e00\u81f4\uff1b\u800c\u6807\u7b7e\u5207\u7247\u662f\u95ed\u533a\u95f4\uff0c\u5373\u5176\u672b\u7aef\u662f\u5305\u542b\u7684\uff08inclusive\uff09\u3002</p> </li> <li> <p>\u82e5\u7d22\u5f15\u7ed3\u679c\u662f\u6807\u91cf\uff0c\u5219\u4e22\u5931\u5176\u7d22\u5f15\u4fe1\u606f\uff1b\u82e5\u7d22\u5f15\u7ed3\u679c\u662f Series \u6216 DataFrame\uff0c\u5176\u5bf9\u5e94\u7684\u7d22\u5f15\u4fe1\u606f\u4f1a\u88ab\u4fdd\u7559\u3002</p> </li> </ul> <p>Attention</p> <p>\u4ec5\u5f53<code>index</code>\u6216<code>columns</code>\u662fPython\u4e2d\u6709\u6548\u7684\u6807\u8bc6\u7b26\u65f6\uff0cSeries\u6216DataFrame\u624d\u53ef\u4ee5\u901a\u8fc7\u5c5e\u6027\u8bbf\u95ee\u884c\u6216\u5217\u3002\u4f8b\u5982\uff0c<code>ser.1</code>\u662f\u4e0d\u5141\u8bb8\u7684\u3002</p> <p>\u53e6\u5916\uff0c<code>index</code>\u6216<code>columns</code>\u4e0e\u73b0\u6709\u65b9\u6cd5\u540d\u51b2\u7a81\u65f6\uff0c\u8be5<code>index</code>\u6216<code>columns</code>\u5219\u65e0\u6cd5\u901a\u8fc7\u5c5e\u6027\u7684\u65b9\u5f0f\u8bbf\u95ee\u3002</p>"},{"location":"Python3/pandas/9.3.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE.html#_2","title":"\u7d22\u5f15\u793a\u4f8b\u4ee3\u7801","text":"\u521b\u5efa\u793a\u4f8b\u6570\u636e\u9009\u62e9\u884c\u9009\u62e9\u5217\u9009\u62e9\u591a\u884c\u9009\u62e9\u591a\u5217\u9009\u62e9\u6807\u91cf\u9009\u62e9\u591a\u884c\u591a\u5217 <pre><code>ser = pd.Series([4.5, 7.2, -5.3, 3.6, 6.1], index=['d', 'b', 'a', 'c', 'b'])\nprint(ser)\n</code></pre> <pre><code>d    4.5\nb    7.2\na   -5.3\nc    3.6\nb    6.1\ndtype: float64\n</code></pre> <pre><code>d = {'one': pd.Series([1, 2, 3, 5], index=['a', 'b', 'c', 'e']),\n     'two': pd.Series([1, 2, 3, 4, 5], index=['a', 'b', 'c', 'd', 'e'])}\n\ndf = pd.DataFrame(d)\nprint(df)\n</code></pre> <pre><code>   one  two\na  1.0    1\nb  2.0    2\nc  3.0    3\nd  NaN    4\ne  5.0    5\n</code></pre> \u6574\u6570\u7d22\u5f15\u6807\u7b7e\u7d22\u5f15\u5c5e\u6027 <pre><code># Series --&gt; Return scalar\nprint(ser[1])\nprint(ser.iloc[1])\nprint(ser.iat[1])\n</code></pre> <pre><code>7.2\n7.2\n7.2\n</code></pre> <pre><code># DataFrame --&gt; Return Series\nprint(df.iloc[0])  # equal to df.iloc[0, :]\n</code></pre> <pre><code>one    1.0\ntwo    1.0\nName: a, dtype: float64\n</code></pre> <pre><code># Series --&gt; Return scalar\nprint(ser[\"b\"])\nprint(ser.loc[\"b\"])\n</code></pre> <pre><code>b    7.2\nb    6.1\ndtype: float64\nb    7.2\nb    6.1\ndtype: float64\n</code></pre> <pre><code># DataFrame --&gt; Return Series\nprint(df.loc[\"a\"])  # equal to df.loc[\"a\", :]\n</code></pre> <pre><code>one    1.0\ntwo    1.0\nName: a, dtype: float64\n</code></pre> <pre><code>print(ser.b)\n</code></pre> <pre><code>b    7.2\nb    6.1\ndtype: float64\n</code></pre> \u6574\u6570\u7d22\u5f15\u6807\u7b7e\u5c5e\u6027 <pre><code># DataFrame --&gt; Return Series\nprint(df.iloc[:, 0])\n</code></pre> <pre><code>a    1.0\nb    2.0\nc    3.0\nd    NaN\ne    5.0\nName: one, dtype: float64\n</code></pre> <pre><code># DataFrame --&gt; Return Series\nprint(df[\"one\"])\nprint(df.loc[:, \"one\"])\n</code></pre> <pre><code>a    1.0\nb    2.0\nc    3.0\nd    NaN\ne    5.0\nName: one, dtype: float64\na    1.0\nb    2.0\nc    3.0\nd    NaN\ne    5.0\nName: one, dtype: float64\n</code></pre> <pre><code># DataFrame --&gt; Return Series\nprint(df.one)\n</code></pre> <pre><code>a    1.0\nb    2.0\nc    3.0\nd    NaN\ne    5.0\nName: one, dtype: float64\n</code></pre> \u6574\u6570\u5e8f\u5217\u6807\u7b7e\u5e8f\u5217\u6574\u6570\u5207\u7247\u6807\u7b7e\u5207\u7247 <pre><code># Series --&gt; Return Series\nprint(ser[[1, 0]])\nprint(ser.iloc[[1, 0]])\n</code></pre> <pre><code>b    7.2\nd    4.5\ndtype: float64\nb    7.2\nd    4.5\ndtype: float64\n</code></pre> <pre><code># DataFrame --&gt; Return DataFrame\nprint(df.iloc[[0, 1]])  # equal to df.loc[[0, 1], :]\n</code></pre> <pre><code>   one  two\na  1.0    1\nb  2.0    2\n</code></pre> <pre><code># Series --&gt; Return Series\nprint(ser[[\"b\", \"a\"]])\nprint(ser.loc[[\"b\", \"a\"]])\n</code></pre> <pre><code>b    7.2\nb    6.1\na   -5.3\ndtype: float64\nb    7.2\nb    6.1\na   -5.3\ndtype: float64\n</code></pre> <pre><code># DataFrame --&gt; Return DataFrame\nprint(df.loc[[\"a\", \"b\"]])\n</code></pre> <pre><code>   one  two\na  1.0    1\nb  2.0    2\n</code></pre> <p>\u4e0d\u80fd\u4f7f\u7528<code>()</code></p> <pre><code>try:\n    ser.loc[(\"b\", \"a\")]\nexcept Exception as e:\n    print(e)\n</code></pre> <pre><code>Too many indexers\n</code></pre> <pre><code># Series --&gt; Return Series\nprint(ser[1:3])\nprint(ser.iloc[1:3])\n</code></pre> <pre><code>b    7.2\na   -5.3\ndtype: float64\nb    7.2\na   -5.3\ndtype: float64\n</code></pre> <pre><code># DataFrame --&gt; Return DataFrame\nprint(df[0:3:2])\nprint(df[0:2])\n</code></pre> <pre><code>   one  two\na  1.0    1\nc  3.0    3\n   one  two\na  1.0    1\nb  2.0    2\n</code></pre> <pre><code># Series --&gt; Return Series\nprint(ser[\"d\":\"a\"])\n</code></pre> <pre><code>d    4.5\nb    7.2\na   -5.3\ndtype: float64\n</code></pre> <pre><code># DataFrame --&gt; Return DataFrame\nprint(df[\"a\":\"c\"])\n</code></pre> <pre><code>   one  two\na  1.0    1\nb  2.0    2\nc  3.0    3\n</code></pre> \u6807\u7b7e\u5e8f\u5217\u6807\u7b7e\u5207\u7247 <pre><code># DataFrame --&gt; Return DataFrame\nprint(df[[\"one\", \"two\"]])\nprint(df.loc[:, [\"one\", \"two\"]])\n</code></pre> <pre><code>   one  two\na  1.0    1\nb  2.0    2\nc  3.0    3\nd  NaN    4\ne  5.0    5\n   one  two\na  1.0    1\nb  2.0    2\nc  3.0    3\nd  NaN    4\ne  5.0    5\n</code></pre> <pre><code># DataFrame --&gt; Return DataFrame\nprint(df.loc[:, \"one\":\"two\"])\n</code></pre> <pre><code>   one  two\na  1.0    1\nb  2.0    2\nc  3.0    3\nd  NaN    4\ne  5.0    5\n</code></pre> <p>\u4f7f\u7528\u5207\u7247\u7d22\u5f15\u65f6\uff0c<code>[]</code>\u7d22\u5f15\u884c\u6570\u636e\uff0c\u800c\u4e0d\u662f\u7d22\u5f15\u5217\u6570\u636e\uff1a</p> <pre><code>print(df[\"one\":\"two\"])\n</code></pre> <pre><code>Empty DataFrame\nColumns: [one, two]\nIndex: []\n</code></pre> <pre><code># Series --&gt; Return scalar\nprint(ser.d)\nprint(ser[0])\nprint(ser.iloc[0])\nprint(ser.loc[\"d\"])\nprint(ser.iat[0])\nprint(ser.at[\"d\"])\n</code></pre> <pre><code>4.5\n4.5\n4.5\n4.5\n4.5\n4.5\n</code></pre> <pre><code># DataFrame --&gt; Return scalar\nprint(df.loc[\"a\", \"one\"])\nprint(df.iloc[0, 0])\nprint(df.at[\"a\", \"one\"])\nprint(df.iat[0, 0])\nprint(df[\"one\"][\"a\"])  # Not recommended\n</code></pre> <pre><code>1.0\n1.0\n1.0\n1.0\n1.0\n</code></pre> <p>\u5982\u679c\u5b58\u5728\u91cd\u590d\u7684\u6807\u7b7e\uff0c\u5728\u4f7f\u7528\u6807\u7b7e\u7d22\u5f15\u65f6\uff0cSeries \u548c DataFrame \u90fd\u4f1a\u8fd4\u56de Series\uff0c\u800c\u975e\u6807\u91cf\uff1a</p> <pre><code>print(ser.loc[\"b\"])\n</code></pre> <pre><code>b    7.2\nb    6.1\ndtype: float64\n</code></pre> <pre><code>print(df.loc[[\"a\", \"c\"], [\"one\", \"two\"]])\nprint(df.iloc[[0, 2], [0, 1]])\n\n# First select a single column, then select multiple rows\nprint(df[\"one\"][[\"a\", \"c\"]])  # Not recommended\nprint(df[[\"one\", \"two\"]].loc[[\"a\", \"c\"]])  # Not recommended\n</code></pre> <pre><code>   one  two\na  1.0    1\nc  3.0    3\n   one  two\na  1.0    1\nc  3.0    3\na    1.0\nc    3.0\nName: one, dtype: float64\n   one  two\na  1.0    1\nc  3.0    3\n</code></pre>"},{"location":"Python3/pandas/9.3.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE.html#atiat","title":"<code>at</code>\u548c<code>iat</code>\u7279\u6027\u2014\u2014\u5feb\u901f\u8bbf\u95ee\u6807\u91cf","text":"<p>\u56e0\u4e3a\u7d22\u5f15<code>[]</code>\u5fc5\u987b\u5904\u7406\u5f88\u591a\u60c5\u51b5\uff08\u6807\u7b7e\u5217\u8868\uff0c\u5207\u7247\uff0c\u5e03\u5c14\u7d22\u5f15\u7b49\uff09\uff0c\u6240\u4ee5\u5b83\u6709\u4e00\u4e9b\u5f00\u9500\u3002\u5982\u679c\u53ea\u60f3\u8bbf\u95ee\u6807\u91cf\u503c\uff0c\u6700\u5feb\u7684\u65b9\u6cd5\u662f\u4f7f\u7528<code>at</code>\u548c<code>iat</code>\u65b9\u6cd5\u3002</p> <pre><code>print(ser.at[\"b\"])\nprint(ser.iat[0])\nprint(df.at[\"a\", \"one\"])\nprint(df.iat[0, 1])\n</code></pre> <pre><code>b    7.2\nb    6.1\ndtype: float64\n4.5\n1.0\n1\n</code></pre> <p><code>at\\iat</code>\u4e0e<code>loc\\iloc</code>\u76f8\u4f3c\uff0c\u4f46<code>at\\iat</code>\u4e0d\u652f\u6301\u5207\u7247\u548c\u5e03\u5c14\u7d22\u5f15\u3002</p>"},{"location":"Python3/pandas/9.3.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE.html#_3","title":"\u91cd\u590d\u7684\u7d22\u5f15","text":"<p>\u867d\u7136\u5f88\u591a\u65f6\u5019\u90fd\u5f3a\u8c03\u8f74\u6807\u7b7e\uff08\u7d22\u5f15\u503c\uff09\u8981\u552f\u4e00\uff0c\u4f46\u8fd9\u5e76\u4e0d\u662f\u5f3a\u5236\u6027\u7684\u3002\u6765\u770b\u770b\u4e0b\u9762\u8fd9\u4e2a\u7b80\u5355\u7684\u5e26\u6709\u91cd\u590d\u7d22\u5f15\u503c\u7684DataFrame\uff1a</p> <pre><code>obj = pd.DataFrame(np.ones((5, 2)), index=['a', 'a', 'b', 'b', 'c'],\n                   columns=['one', 'one'])\n</code></pre> <p>\u7d22\u5f15\u7684is_unique\u5c5e\u6027\u53ef\u4ee5\u544a\u8bc9\u4f60\u5b83\u7684\u503c\u662f\u5426\u662f\u552f\u4e00\u7684</p> <pre><code>print(obj.index.is_unique)\nprint(obj.columns.is_unique)\n</code></pre> <pre><code>False\nFalse\n</code></pre> <p>\u5bf9\u4e8e\u5e26\u6709\u91cd\u590d\u503c\u7684\u7d22\u5f15\uff0c\u6570\u636e\u9009\u53d6\u7684\u884c\u4e3a\u5c06\u4f1a\u6709\u4e9b\u4e0d\u540c\u3002\u5982\u679c\u67d0\u4e2a\u7d22\u5f15\u5bf9\u5e94\u591a\u4e2a\u503c\uff0c\u5219\u8fd4\u56de\u4e00\u4e2aSeries\uff1b\u800c\u5bf9\u5e94\u5355\u4e2a\u503c\u7684\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u6807\u91cf\u503c\u3002</p>"},{"location":"Python3/pandas/9.3.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE.html#_4","title":"\u8fd0\u7b97\u5bf9\u9f50","text":"<p>\u5bf9Series\u8fdb\u884c\u8fd0\u7b97\uff08\u5e03\u5c14\u7d22\u5f15\u8fc7\u6ee4\u3001\u6807\u91cf\u4e58\u6cd5\u3001\u6570\u5b66\u51fd\u6570\u7b49\uff09\uff0c\u90fd\u4f1a\u4fdd\u7559\u6807\u7b7e\u548c\u503c\u4e4b\u95f4\u7684\u94fe\u63a5\u3002</p> <pre><code>a = pd.DataFrame(np.ones((2, 2)), index=['a', 'b'], columns=['c', 'd'])\nb = pd.DataFrame(np.arange(4).reshape(2, 2),\n                 index=['a', 'b'], columns=['d', 'c'])\na + b\n</code></pre> <pre><code>     c    d\na  2.0  1.0\nb  4.0  3.0\n</code></pre>"},{"location":"Python3/pandas/9.3.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE.html#_5","title":"\u5b58\u5728\u7f3a\u5931\u6807\u7b7e\u7684\u7d22\u5f15","text":"<p>\u5728\u65e7\u7248\u672c\u7684pandas\u4e2d\uff0c<code>.loc[list-of-labels]</code>\u53ea\u8981\u6709\u4e00\u4e2a<code>label</code>\u5b58\u5728\uff0c\u4ee3\u7801\u5c31\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\uff0c\u5426\u5219\u5c06\u5f15\u53d1<code>KeyError</code>\u3002\u4f46\u4ece0.21\u7248\u672c\u5f00\u59cb\uff0c\u4e0d\u63a8\u8350\u6b64\u884c\u4e3a\u3002\u63a8\u8350\u7684\u4ee3\u66ff\u65b9\u6848\u662f\u4f7f\u7528<code>.reindex()</code>\u65b9\u6cd5\u3002\u5728\u8f83\u65b0\u7684pandas\u7248\u672c\uff0c\u53ea\u8981\u7d22\u5f15\u4e2d\u5b58\u5728\u7f3a\u5931\u7684\u6807\u7b7e\uff0c\u5c06\u5f15\u53d1<code>KeyError</code>\u3002</p> <pre><code>df.reindex([\"a\", \"b\", \"y\", \"z\"])\n</code></pre> <pre><code>   one  two\na  1.0  1.0\nb  2.0  2.0\ny  NaN  NaN\nz  NaN  NaN\n</code></pre> <p>\u5982\u679c<code>df</code>\u4e2d\u5b58\u5728\u91cd\u590d\u7684\u7d22\u5f15\uff0c<code>reindex</code>\u5c06\u5f15\u53d1<code>ValueError</code>\uff1a</p> <pre><code>df_tmp = pd.DataFrame({'one': pd.Series([1, 2, 3, 5], index=['a', 'a', 'c', 'e']),\n                       'two': pd.Series([1, 2, 3, 4], index=['a', 'a', 'c', 'e'])})\ntry:\n    df_tmp.reindex([\"a\", \"c\"])\nexcept ValueError as e:\n    print(e)\n</code></pre> <pre><code>cannot reindex from a duplicate axis\n</code></pre> <p>\u5982\u679c\u4f7f\u7528\u5207\u7247\u7d22\u5f15\uff08\u6574\u6570/\u6807\u7b7e\u5207\u7247\uff09\uff0c\u5373\u4f7f\u5207\u7247\u8d85\u51fa\u8303\u56f4\uff0c\u4e5f\u4e0d\u4f1a\u5f15\u53d1\u9519\u8bef\u3002\u5982\u679c\u6574\u4e2a\u5207\u7247\u90fd\u4e0d\u5728\u7d22\u5f15\u8303\u56f4\uff0c\u5219\u8fd4\u56de\u7a7aSeries\uff0c\u6216\u7a7aDataFrame\u3002</p>"},{"location":"Python3/pandas/9.3.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE.html#_6","title":"\u91cd\u65b0\u8d4b\u503c","text":"<p><code>[]/iloc/loc/iat/at</code>\u4e0d\u4ec5\u53ef\u4ee5\u8fd4\u56de\u6240\u9009\u6570\u636e\uff0c\u8fd8\u53ef\u4ee5\u7ed9\u6240\u9009\u6570\u636e\u8d4b\u503c\uff1a</p> <pre><code>df.loc[\"two\"] = 2\n</code></pre> <p>\u4f7f\u7528<code>[]/loc/at</code>\u4e3a\u4e0d\u5b58\u5728\u7684\u6807\u7b7e\u8d4b\u503c\u65f6\uff0c\u53ef\u4ee5\u7ed9DataFrame\u6dfb\u52a0\u65b0\u7684\u6807\u7b7e\u884c\u6216\u6807\u7b7e\u5217\uff0c\u5373\u5bf9\u76ee\u6807\u5bf9\u8c61\u6267\u884c\u653e\u5927\u64cd\u4f5c\uff08enlargement\uff09\u3002</p> <pre><code>df[\"three\"] = 30\nprint(df)\n</code></pre> <pre><code>     one  two  three\na    1.0    1     30\nb    2.0    2     30\nc    3.0    3     30\nd    NaN    4     30\ne    5.0    5     30\ntwo  2.0    2     30\n</code></pre> <p>\u4f7f\u7528\u6570\u503c\u7d22\u5f15\u7684<code>iloc/iat</code>\u5219\u4e0d\u652f\u6301\u653e\u5927\u64cd\u4f5c\u3002<code>xs\\take\\lookup</code>\u65b9\u6cd5\u53ea\u80fd\u7528\u4e8e\u83b7\u53d6\u503c\uff0c\u4e0d\u80fd\u7528\u4e8e\u8d4b\u503c\u3002</p>"},{"location":"Python3/pandas/9.3.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE.html#get","title":"<code>get</code>\u65b9\u6cd5\u2014\u2014\u8fd4\u56de\u9ed8\u8ba4\u503c","text":"<pre><code>df.get(key, default=None)\n</code></pre> <p>Series\u6216DataFrame\u90fd\u6709\u4e00\u4e2a<code>get</code>\u65b9\u6cd5\uff0c\u8fd9\u7c7b\u4f3c\u5b57\u5178\u7684<code>get</code>\u65b9\u6cd5\uff0c\u53ef\u4ee5\u8fd4\u56de\u9ed8\u8ba4\u503c\u3002\u5bf9\u4e8eSeries\uff0c<code>get</code>\u65b9\u6cd5\u5bf9\u884c\u8fdb\u884c\u7d22\u5f15\uff1b\u5bf9\u4e8eDataFrame\uff0c<code>get</code>\u65b9\u6cd5\u5bf9\u5217\u8fdb\u884c\u7d22\u5f15\u3002</p> <pre><code>print(ser.get(\"a\"))\nprint(df.get([\"one\", \"two\"]), 5)\nprint(df.get([\"one\", \"three\"], 5))\n</code></pre> <pre><code>-5.3\n     one  two\na    1.0    1\nb    2.0    2\nc    3.0    3\nd    NaN    4\ne    5.0    5\ntwo  2.0    2 5\n     one  three\na    1.0     30\nb    2.0     30\nc    3.0     30\nd    NaN     30\ne    5.0     30\ntwo  2.0     30\n</code></pre>"},{"location":"Python3/pandas/9.3.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE.html#lookup","title":"<code>lookup</code>\u65b9\u6cd5","text":"<p>\u7ed9\u5b9a\u4e00\u7cfb\u5217\u884c\u6807\u7b7e\u548c\u5217\u6807\u7b7e\u7684\u60c5\u51b5\u4e0b\u63d0\u53d6\u4e00\u7ec4\u503c\uff0c\u8fd4\u56deNumPy\u6570\u7ec4\uff1a</p> <pre><code># \u8fd4\u56de ('c','one') \u548c ('b','two')\ndf.lookup([\"c\", \"b\"], [\"one\", \"two\"])\n</code></pre> <pre><code>&lt;ipython-input-1-9520edc4baa0&gt;:2: FutureWarning: The 'lookup' method\nis deprecated and will beremoved in a future version.You can use\nDataFrame.melt and DataFrame.locas a substitute.\n  df.lookup([\"c\", \"b\"], [\"one\", \"two\"])\n</code></pre> <pre><code>array([3., 2.])\n</code></pre>"},{"location":"Python3/pandas/9.3.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE.html#take","title":"<code>take</code>\u65b9\u6cd5","text":"<pre><code>pd.DataFrame.take(self, indices, axis=0, is_copy=None, kwargs)\n</code></pre> <ul> <li><code>indices</code>\uff1a\u4e00\u4e2a\u6574\u6570\u6570\u7ec4\uff0c\u6307\u660e\u4e86\u6240\u9700\u5143\u7d20\u7684\u4f4d\u7f6e\u3002</li> </ul> <p>\u4e0e<code>ndarray</code>\u76f8\u4f3c\uff0cpandas\u7684 <code>Index</code>\u3001<code>Series</code>\u548c<code>DataFrame</code> \u4e5f\u63d0\u4f9b<code>take()</code>\u65b9\u6cd5\u3002\u5b83\u53ef\u4ee5\u6cbf\u7740\u67d0\u4e2a\u7ef4\u5ea6\uff0c\u6309\u7167\u7ed9\u5b9a\u7684\u7d22\u5f15\u53d6\u56de\u6240\u6709\u7684\u5143\u7d20\u3002<code>take</code>\u65b9\u6cd5\u4e0d\u4f7f\u7528\u6807\u7b7e\u7d22\u5f15\uff0c\u8fd9\u610f\u5473\u7740\u7ed9\u5b9a\u7684\u7d22\u5f15\u5fc5\u987b\u662f\u6307\u660e\u5143\u7d20\u4f4d\u7f6e\u7684\u6574\u6570\u7d22\u5f15\u3002\u8fd9\u4e2a\u6574\u6570\u7d22\u5f15\u5fc5\u987b\u662f\u4e00\u7ef4\u7684array-like\u3002<code>take</code> \u4e5f\u53ef\u4ee5\u63a5\u53d7\u8d1f\u6574\u6570\uff0c\u4f5c\u4e3a\u76f8\u5bf9\u4e8e\u7ed3\u5c3e\u7684\u76f8\u5bf9\u4f4d\u7f6e\u3002</p> <pre><code># Index\nindex = pd.Index(np.random.randint(0, 1000, 10))\nprint(index)\n\npositions = [0, 9, 3]\n\nprint(index[positions])\nprint(index.take(positions))\n</code></pre> <pre><code>Int64Index([700, 922, 341, 534, 648, 885, 0, 215, 882, 889], dtype='int64')\nInt64Index([700, 889, 534], dtype='int64')\nInt64Index([700, 889, 534], dtype='int64')\n</code></pre> <pre><code># Series\nser = pd.Series(np.random.randn(10))\nprint(ser.iloc[positions])\nprint(ser.take(positions))\n</code></pre> <pre><code>0    0.759892\n9    2.094738\n3   -0.599890\ndtype: float64\n0    0.759892\n9    2.094738\n3   -0.599890\ndtype: float64\n</code></pre> <pre><code># DataFrame\nfrm = pd.DataFrame(np.random.randn(5, 3))\nprint(frm)\n\nprint(frm.take([1, 4, 3]))\nprint(frm.take([0, 2], axis=1))\n</code></pre> <pre><code>          0         1         2\n0 -0.578601  1.044800  1.194279\n1 -1.600242  1.506052  1.185538\n2  1.027127 -0.723504 -2.328613\n3  0.285260 -1.157831  0.564503\n4  1.219048  0.374449  0.014576\n          0         1         2\n1 -1.600242  1.506052  1.185538\n4  1.219048  0.374449  0.014576\n3  0.285260 -1.157831  0.564503\n          0         2\n0 -0.578601  1.194279\n1 -1.600242  1.185538\n2  1.027127 -2.328613\n3  0.285260  0.564503\n4  1.219048  0.014576\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cpandas\u5bf9\u8c61\u7684<code>take</code>\u65b9\u6cd5\u5e76\u4e0d\u4f1a\u6b63\u5e38\u5730\u5de5\u4f5c\u5728\u5e03\u5c14\u7d22\u5f15\u4e0a\uff0c\u5e76\u4e14\u6709\u53ef\u80fd\u4f1a\u8fd4\u56de\u4e00\u5207\u610f\u5916\u7684\u7ed3\u679c\u3002</p> <pre><code>arr = np.arange(10)\nprint(arr.take([False, False, True, True]))\n</code></pre> <pre><code>[0 0 1 1]\n</code></pre> <pre><code>ser = pd.Series(np.arange(10))\nprint(ser.take([False, False, True, True]))\n</code></pre> <pre><code>0    0\n0    0\n1    1\n1    1\ndtype: int32\n</code></pre> <p>\u6700\u540e\uff0c\u5173\u4e8e\u6027\u80fd\u65b9\u9762\u7684\u4e00\u4e2a\u5c0f\u5efa\u8bae\uff0c\u56e0\u4e3a<code>take</code>\u65b9\u6cd5\u5904\u7406\u7684\u662f\u4e00\u4e2a\u8303\u56f4\u66f4\u7a84\u7684\u8f93\u5165\uff0c\u56e0\u6b64\u4f1a\u6bd4\u82b1\u5f0f\u7d22\u5f15\uff08fancy indexing\uff09\u7684\u901f\u5ea6\u5feb\u5f88\u591a\u3002</p> <pre><code>arr = np.random.randn(10000, 5)\nindexer = np.arange(10000)\nnp.random.shuffle(indexer)\n\n%timeit arr[indexer]\n%timeit arr.take(indexer, axis=0)\n</code></pre> <pre><code>492 \u00b5s \u00b1 148 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1000 loops each)\n196 \u00b5s \u00b1 31.5 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\n</code></pre> <pre><code>ser = pd.Series(arr[:, 0])\n%timeit ser.iloc[indexer]\n%timeit ser.take(indexer)\n</code></pre> <pre><code>519 \u00b5s \u00b1 175 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1000 loops each)\n441 \u00b5s \u00b1 234 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1000 loops each)\n</code></pre>"},{"location":"Python3/pandas/9.3.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE.html#_7","title":"\u76f8\u5173\u672f\u8bed","text":"<p>\u4e3a\u4e86\u6df1\u5165\u4e86\u89e3 pandas \u7684\u7d22\u5f15\uff0c\u6211\u4eec\u5148\u5b9a\u4e49\u4e00\u4e9b\u4e0b\u9762\u4f1a\u7528\u5230\u7684\u672f\u8bed\uff1a</p> <ul> <li>\u8d4b\u503c/\u5206\u914d/\u8bbe\u7f6e\uff08Assignment/set\uff09\uff1a\u8bbe\u7f6e\u67d0\u5bf9\u8c61\u7684\u503c\u7684\u64cd\u4f5c\u3002</li> <li>\u83b7\u53d6/\u8bbf\u95ee\uff08Access/get\uff09\uff1a\u4ece\u67d0\u5bf9\u8c61\u83b7\u53d6\u503c\u7684\u64cd\u4f5c\u3002</li> <li>\u7d22\u5f15\u64cd\u4f5c\uff08Indexing\uff09\uff1a\u8bbf\u95ee\u6216\u8bbe\u7f6e\u67d0\u6570\u636e\u5bf9\u8c61\u7684\u5b50\u96c6\uff0c\u4f8b\u5982<code>df['one']</code>\u3001<code>df['one']=10</code>\u3002</li> <li>\u94fe\u5f0f\u7d22\u5f15\uff08chained indexing\uff09\uff1a\u80cc\u9760\u80cc\u5730\u4f7f\u7528\u591a\u4e2a\u7d22\u5f15\u64cd\u4f5c\uff0c\u4f8b\u5982<code>df['one']['second']</code>\u3002</li> <li>\u94fe\u5f0f\u8d4b\u503c\uff08chained assignment\uff09\uff1a\u901a\u8fc7\u80cc\u9760\u80cc\u5730\u4f7f\u7528\u591a\u4e2a\u7d22\u5f15\u64cd\u4f5c\u8fdb\u884c\u8d4b\u503c\uff0c\u4f8b\u5982<code>df['one']['second']=10</code>\u3002</li> </ul> <p>padnas \u7684\u7d22\u5f15\u64cd\u4f5c\u5305\u542b\u4e86\u83b7\u53d6\uff08indexing-get\uff09\u548c\u8d4b\u503c\uff08indexing-set\uff09\u4e24\u4e2a\u529f\u80fd\uff0c\u800c\u94fe\u5f0f\u8d4b\u503c\u662f\u94fe\u5f0f\u7d22\u5f15\u548c\u8d4b\u503c\u64cd\u4f5c\u7684\u7ed3\u5408\u3002</p>"},{"location":"Python3/pandas/9.3.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE.html#_8","title":"\u89c6\u56fe\u548c\u526f\u672c","text":"<p>\u719f\u6089 NumPy \u7684\u7528\u6237\u90fd\u4f1a\u77e5\u9053\uff0cndarray \u6570\u7ec4\u7684\u7d22\u5f15\u7ed3\u679c\u6709\u89c6\u56fe\u548c\u526f\u672c\u4e4b\u5206\u3002\u526f\u672c\u662f\u539f\u6570\u636e\u7684\u5b8c\u6574\u62f7\u8d1d\uff0c\u5176\u7269\u7406\u5185\u5b58\u548c\u539f\u6570\u636e\u7684\u5185\u5b58\u5728\u540c\u4e00\u4e2a\u4f4d\u7f6e\u3002\u89c6\u56fe\u662f\u539f\u6570\u636e\u7684\u522b\u79f0\u6216\u5f15\u7528\uff0c\u5176\u7269\u7406\u5185\u5b58\u548c\u539f\u6570\u636e\u7684\u5185\u5b58\u4f4d\u4e8e\u76f8\u540c\u7684\u7269\u7406\u4f4d\u7f6e\u3002\u5bf9\u526f\u672c\u8fdb\u884c\u4fee\u6539\uff0c\u4e0d\u4f1a\u5f71\u54cd\u539f\u6570\u636e\uff0c\u800c\u4fee\u6539\u89c6\u56fe\u5219\u4f1a\u5f71\u54cd\u539f\u6570\u636e\u3002</p> <p>pandas \u7684\u7d22\u5f15\u7ed3\u679c\u4e5f\u5206\u4e3a\u89c6\u56fe\u548c\u526f\u672c\u3002\u56e0\u4e3a pandas \u7684\u5e95\u5c42\u64cd\u4f5c\u57fa\u4e8e NumPy\uff0c\u5176\u7d22\u5f15\u7ed3\u679c\u8fd4\u56de\u89c6\u56fe\u8fd8\u662f\u526f\u672c\u7684\u903b\u8f91\u4e5f\u662f\u6765\u81ea\u4e8e NumPy\u3002</p> <p>ndarray \u6240\u6709\u5143\u7d20\u90fd\u662f\u540c\u8d28\u7684\uff0c\u5373\u90fd\u5177\u6709\u76f8\u540c\u7684<code>dtype</code>\u3002\u4f46 DataFrame \u5e76\u975e\u603b\u662f\u5982\u6b64\u3002\u5982\u679c\u4e00\u4e2a DataFrame \u7684\u6240\u6709\u5217\u90fd\u662f\u76f8\u540c\u7684<code>dtype</code>\uff0c\u90a3\u4e48\u5b83\u662f single-dtyped object\uff1b\u5982\u679c\u4e00\u4e2a DataFrame \u7684\u5217\u4e0d\u662f\u5168\u90e8\u5177\u6709\u76f8\u540c\u7684 dtype\uff0c\u90a3\u4e48\u5b83\u662f multi-dtyped object\uff0c\u6216\u8005\u79f0\u4e3a mixed-type\u3002</p> <p>\u5982\u679c\u7d22\u5f15\u7ed3\u679c\u662f multi-dtyped DataFrame\uff0c\u90a3\u4e48\u7d22\u5f15\u7ed3\u679c\u5fc5\u5b9a\u662f\u526f\u672c\u3002\u56e0\u4e3a pandas \u65e0\u6cd5\u5c06 multi-dtyped DataFrame \u4f5c\u4e3a\u5355\u4e2a\u540c\u8d28\u7684 NumPy \u6570\u7ec4\u7684\u89c6\u56fe\u8fd4\u56de\u3002\u4f46\u662f\uff0c\u4e3a\u4e86\u63d0\u9ad8\u6548\u7387\uff0c\u8fd4\u56de single-dtyped DataFrame \u7684\u7d22\u5f15\u64cd\u4f5c\u53ef\u80fd\u8fd4\u56de\u4e00\u4e2a\u89c6\u56fe\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u5bf9\u8c61\u7684\u5185\u5b58\u5e03\u5c40\u3002</p> <p>NumPy \u6570\u7ec4\u7684<code>flags</code>\u5c5e\u6027\u53ef\u4ee5\u663e\u793a\u6570\u7ec4\u662f\u526f\u672c\u8fd8\u662f\u89c6\u56fe\uff0c\u4f46 pandas \u7684 DataFrame \u5e76\u6ca1\u6709\u5bf9\u5916\u66b4\u9732\u8fd9\u6837\u7684\u63a5\u53e3\u3002\u4e0d\u8fc7\uff0cDataFrame \u7684\u4e00\u4e9b\u79c1\u6709\u5c5e\u6027\u5305\u542b\u4e86\u8fd9\u4e9b\u4fe1\u606f\uff0c\u6211\u4eec\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e9b\u79c1\u6709\u5c5e\u6027\uff0c\u4ece\u800c\u5224\u65ad\u7d22\u5f15\u7ed3\u679c\u662f\u526f\u672c\u8fd8\u662f\u89c6\u56fe\u3002</p> \u521b\u5efa\u793a\u4f8b\u5b9a\u4e49<code>get_df_info</code>\u51fd\u6570 <p>\u521b\u5efa\u793a\u4f8b DataFrame\uff1a</p> <pre><code>data = {\"one\": [1, 2, 3, 4, 5],\n        \"two\": [10, 20, 30, 40, 50],\n        \"three\": [\"A\", \"B\", \"C\", \"D\", \"D\"]}\nmixed_df = pd.DataFrame(data)\n\nprint(\"Is view?\", mixed_df._is_view)\nprint(\"Is mixed-type?\", mixed_df._is_mixed_type)\nprint(\"Is single-dtyped?\", mixed_df._mgr.is_single_block)\n\ndata = {\"one\": [1, 2, 3, 4, 5],\n        \"two\": [10, 20, 30, 40, 50]}\nsingle_df = pd.DataFrame(data)\n\nprint(\"Is view?\", single_df._is_view)\nprint(\"Is mixed-type?\", single_df._is_mixed_type)\nprint(\"Is single-dtyped?\", single_df._mgr.is_single_block)\n\nprint(\"mixed_df \u5185\u5b58\u5730\u5740:\", hex(id(mixed_df)).upper())\nprint(\"single_df \u5185\u5b58\u5730\u5740:\", hex(id(single_df)).upper())\n</code></pre> <pre><code>Is view? False\nIs mixed-type? True\nIs single-dtyped? False\nIs view? False\nIs mixed-type? False\nIs single-dtyped? True\nmixed_df \u5185\u5b58\u5730\u5740: 0X293C66A4850\nsingle_df \u5185\u5b58\u5730\u5740: 0X293C6648640\n</code></pre> <pre><code>def get_df_info(df, original_df=None):\n    if original_df is not None:\n        backup_df = copy.deepcopy(original_df)\n    else:\n        backup_df = copy.deepcopy(df)\n\n    print(\"  Is view?\", df._is_view)\n    if df._is_view != (df.values.base is None):\n        print(\"  Is 'values.base' None?\", df.values.base is None)\n    else:\n        print(\"* Is 'values.base' None?\", df.values.base is None)\n    print(\"  Is mixed-type?\", df._is_mixed_type)\n    print(\"  Is copy?\", df._is_copy.__str__().replace(\"0x00000\", \"0x\"))\n    try:\n        print(\"  Result type:\", df.dtypes.to_list())\n    except AttributeError:\n        print(\"  Result type:\", df.dtypes)\n\n    pd.set_option('mode.chained_assignment', None)\n    time.sleep(1)\n    timestamp_int = int(time.time())\n    if original_df is not None:\n        df[0] = timestamp_int\n        if df._is_view == (timestamp_int in original_df.values):\n            print(\"  Is original dataframe modified?\",\n                  timestamp_int in original_df.values)\n        else:\n            print(\"* Is original dataframe modified?\",\n                  timestamp_int in original_df.values)\n\n    pd.set_option('mode.chained_assignment', \"raise\")\n    try:\n        df[0] = timestamp_int\n    except pd.core.common.SettingWithCopyError:\n        # print('\\033[31mSettingWithCopyError\\033[0m')\n        print('* SettingWithCopyError')\n    return backup_df\n</code></pre> \u6574\u6570\u6807\u7b7e\u5e8f\u5217\u5207\u7247 <pre><code>print(\"single row from a mixed-type DataFrame:\")\nmixed_df = get_df_info(mixed_df.iloc[0], mixed_df)\nprint(\"single row from a single-typed DataFrame:\")\nsingle_df = get_df_info(single_df.iloc[0], single_df)\n\nprint(\"single column from a mixed-type DataFrame:\")\nmixed_df = get_df_info(mixed_df.iloc[:, 2], mixed_df)\nprint(\"single column from a single-typed DataFrame:\")\nsingle_df = get_df_info(single_df.iloc[:, 0], single_df)\n</code></pre> <pre><code>single row from a mixed-type DataFrame:\n  Is view? False\n  Is 'values.base' None? True\n  Is mixed-type? False\n  Is copy? &lt;weakref at 0x293C669A4F0; to 'DataFrame' at 0x293C66A4850&gt;\n  Result type: object\n  Is original dataframe modified? False\n* SettingWithCopyError\nsingle row from a single-typed DataFrame:\n  Is view? True\n  Is 'values.base' None? False\n  Is mixed-type? False\n  Is copy? None\n  Result type: int64\n  Is original dataframe modified? True\nsingle column from a mixed-type DataFrame:\n  Is view? True\n  Is 'values.base' None? False\n  Is mixed-type? False\n  Is copy? None\n  Result type: object\n  Is original dataframe modified? True\n* SettingWithCopyError\nsingle column from a single-typed DataFrame:\n  Is view? True\n  Is 'values.base' None? False\n  Is mixed-type? False\n  Is copy? None\n  Result type: int64\n  Is original dataframe modified? True\n</code></pre> <p>\u6807\u7b7e\u7d22\u5f15\u5f97\u5230\u7684\u7ed3\u679c\u548c\u6574\u6570\u7d22\u5f15\u662f\u4e00\u6837\u7684\u3002</p> <pre><code>print(\"single row from a mixed-type DataFrame:\")\nmixed_df = get_df_info(mixed_df.loc[0], mixed_df)\nprint(\"single row from a single-typed DataFrame:\")\nsingle_df = get_df_info(single_df.loc[0], single_df)\n\nprint(\"single column from a mixed-type DataFrame:\")\nmixed_df = get_df_info(mixed_df.loc[:, \"one\"], mixed_df)\nprint(\"single column from a single-typed DataFrame:\")\nsingle_df = get_df_info(single_df.loc[:, \"one\"], single_df)\n</code></pre> <pre><code>single row from a mixed-type DataFrame:\n  Is view? False\n  Is 'values.base' None? True\n  Is mixed-type? False\n  Is copy? &lt;weakref at 0x293C669AE50; to 'DataFrame' at 0x293C6648640&gt;\n  Result type: object\n  Is original dataframe modified? False\n* SettingWithCopyError\nsingle row from a single-typed DataFrame:\n  Is view? True\n  Is 'values.base' None? False\n  Is mixed-type? False\n  Is copy? None\n  Result type: int64\n  Is original dataframe modified? True\nsingle column from a mixed-type DataFrame:\n  Is view? True\n  Is 'values.base' None? False\n  Is mixed-type? False\n  Is copy? None\n  Result type: int64\n  Is original dataframe modified? True\n* SettingWithCopyError\nsingle column from a single-typed DataFrame:\n  Is view? True\n  Is 'values.base' None? False\n  Is mixed-type? False\n  Is copy? None\n  Result type: int64\n  Is original dataframe modified? True\n</code></pre> <p>\u6574\u6570\u5e8f\u5217\u548c\u6807\u7b7e\u5e8f\u5217\u5f97\u5230\u7684\u7ed3\u679c\u662f\u4e00\u81f4\u7684\uff0c\u56e0\u6b64\u8fd9\u91cc\u53ea\u5c55\u793a\u6574\u6570\u5e8f\u5217\u7684\u7ed3\u679c\u3002</p> <pre><code>index = [0, 1]\nprint(\"multi-rows from a mixed-type DataFrame:\")\nmixed_df = get_df_info(mixed_df.iloc[index], mixed_df)\nprint(\"multi-rows from a single-typed DataFrame:\")\nsingle_df = get_df_info(single_df.iloc[index], single_df)\n\nprint(\"multi-columns from a mixed-type DataFrame:\")\nmixed_df = get_df_info(mixed_df.iloc[:, index], mixed_df)\nprint(\"multi-columns from a single-typed DataFrame:\")\nsingle_df = get_df_info(single_df.iloc[:, index], single_df)\n</code></pre> <pre><code>multi-rows from a mixed-type DataFrame:\n  Is view? False\n* Is 'values.base' None? False\n  Is mixed-type? True\n  Is copy? &lt;weakref at 0x293C66A50E0; to 'DataFrame' at 0x293C66A4AF0&gt;\n  Result type: [dtype('int64'), dtype('int64'), dtype('O')]\n  Is original dataframe modified? False\n* SettingWithCopyError\nmulti-rows from a single-typed DataFrame:\n  Is view? False\n* Is 'values.base' None? False\n  Is mixed-type? False\n  Is copy? &lt;weakref at 0x293C669AE50; to 'DataFrame' at 0x293C66A43A0&gt;\n  Result type: [dtype('int64'), dtype('int64')]\n  Is original dataframe modified? False\n* SettingWithCopyError\nmulti-columns from a mixed-type DataFrame:\n  Is view? False\n* Is 'values.base' None? False\n  Is mixed-type? False\n  Is copy? &lt;weakref at 0x293C66A3180; to 'DataFrame' at 0x293C6698D00&gt;\n  Result type: [dtype('int64'), dtype('int64')]\n  Is original dataframe modified? False\nmulti-columns from a single-typed DataFrame:\n  Is view? False\n* Is 'values.base' None? False\n  Is mixed-type? False\n  Is copy? None\n  Result type: [dtype('int64'), dtype('int64')]\n  Is original dataframe modified? False\n</code></pre> <p>\u6574\u6570\u5207\u7247\u548c\u6807\u7b7e\u5207\u7247\u5f97\u5230\u7684\u7ed3\u679c\u662f\u4e00\u81f4\u7684\u3002</p> <pre><code>print(\"multi-rows from a mixed-type DataFrame:\")\nmixed_df = get_df_info(mixed_df.iloc[0:2], mixed_df)\nprint(\"multi-rows from a single-typed DataFrame:\")\nsingle_df = get_df_info(single_df.iloc[0:2], single_df)\n\nprint(\"multi-columns from a mixed-type DataFrame:\")\nmixed_df = get_df_info(mixed_df.loc[:, \"one\":\"three\"], mixed_df)\nprint(\"multi-columns from a single-typed DataFrame:\")\nsingle_df = get_df_info(single_df.loc[:, \"one\":\"three\"],single_df)\n</code></pre> <pre><code>multi-rows from a mixed-type DataFrame:\n  Is view? False\n* Is 'values.base' None? False\n  Is mixed-type? True\n  Is copy? &lt;weakref at 0x293C66A5450; to 'DataFrame' at 0x293C6635C40&gt;\n  Result type: [dtype('int64'), dtype('int64'), dtype('O')]\n  Is original dataframe modified? False\n* SettingWithCopyError\nmulti-rows from a single-typed DataFrame:\n  Is view? True\n  Is 'values.base' None? False\n  Is mixed-type? False\n  Is copy? &lt;weakref at 0x293C664AC70; to 'DataFrame' at 0x293C668CA90&gt;\n  Result type: [dtype('int64'), dtype('int64')]\n  Is original dataframe modified? False\n* SettingWithCopyError\nmulti-columns from a mixed-type DataFrame:\n  Is view? False\n* Is 'values.base' None? False\n  Is mixed-type? True\n  Is copy? None\n  Result type: [dtype('int64'), dtype('int64'), dtype('O')]\n  Is original dataframe modified? False\nmulti-columns from a single-typed DataFrame:\n  Is view? True\n  Is 'values.base' None? False\n  Is mixed-type? False\n  Is copy? &lt;weakref at 0x293C669D2C0; to 'DataFrame' at 0x293C666C460&gt;\n  Result type: [dtype('int64')]\n  Is original dataframe modified? False\n</code></pre> <p>\u901a\u8fc7\u5b57\u5178\u521b\u5efa DataFrame \u65f6\uff0cpandas \u6c38\u8fdc\u4e0d\u4f1a\u521b\u5efa\u89c6\u56fe\uff0c\u4f46\u901a\u8fc7 ndarray \u521b\u5efa DataFrame <code>df</code>\u65f6\uff0cpandas \u4f1a\u521b\u5efa\u89c6\u56fe\uff0c\u89c6\u56fe\u6307\u5411 ndarray\u3002<code>df</code>\u7684\u7d22\u5f15\u7ed3\u679c\u7684<code>_is_view</code>\u5c5e\u6027\u4e5f\u4e3a<code>True</code>\uff0c\u4f46\u7d22\u5f15\u7ed3\u679c\u7684\u89c6\u56fe\u5e76\u4e0d\u6307\u5411<code>df</code>\u3002\u6b64\u65f6\uff0c\u5bf9\u7d22\u5f15\u7ed3\u679c\u8fdb\u884c\u4fee\u6539\uff0c\u5e76\u4e0d\u4f1a\u5f71\u54cd<code>df</code>\u3002</p> <pre><code>df = pd.DataFrame(np.ones((4, 3)))\nget_df_info(df)\nprint()\ndf = pd.DataFrame(np.ones((4, 3)))\ndf = get_df_info(df[(df &gt; 0.5).any(axis=1)], df)\n</code></pre> <pre><code>  Is view? True\n  Is 'values.base' None? False\n  Is mixed-type? False\n  Is copy? None\n  Result type: [dtype('float64'), dtype('float64'), dtype('float64')]\n\n  Is view? True\n  Is 'values.base' None? False\n  Is mixed-type? False\n  Is copy? None\n  Result type: [dtype('float64'), dtype('float64'), dtype('float64')]\n  Is original dataframe modified? False\n</code></pre> <p>\u8fd9\u610f\u5473\u7740\u5373\u4f7f\u7d22\u5f15\u7ed3\u679c<code>_is_view</code>\u5c5e\u6027\u4e3a<code>True</code>\uff0c\u6211\u4eec\u4e5f\u65e0\u6cd5\u4fdd\u8bc1\u7d22\u5f15\u7ed3\u679c\u5c31\u662f\u539fDataFrame\u7684\u89c6\u56fe\uff0c\u5b83\u4e5f\u53ef\u80fd\u662f\u67d0\u4e2a ndarray \u7684\u89c6\u56fe\u3002\u6709\u4eba\u4f1a\u63d0\u51fa\u4f7f\u7528<code>df.values.base</code>\u5c5e\u6027\u66ff\u4ee3\u79c1\u6709\u5c5e\u6027<code>df._is_view</code>\u3002\u4f46\u5728\u4e0a\u9762\u7684\u5e8f\u5217\u7d22\u5f15\u548c\u5207\u7247\u7d22\u5f15\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c<code>df.values.base</code>\u5c5e\u6027\u53ef\u80fd\u548c<code>df._is_view</code>\u5c5e\u6027\u51fa\u73b0\u51b2\u7a81\u3002\u6211\u4e0d\u662f\u719f\u6089 pandas \u5185\u90e8\u6784\u9020\u7684\u4e13\u5bb6\uff0c\u65e0\u6cd5\u89e3\u91ca\u51fa\u73b0\u51b2\u7a81\u7684\u539f\u56e0\uff0c\u4f46\u53ef\u4ee5\u77e5\u9053\u901a\u8fc7<code>df.values.base</code>\u5c5e\u6027\u4e5f\u65e0\u6cd5\u51c6\u786e\u5224\u65ad\u7d22\u5f15\u7ed3\u679c\u662f\u5426\u4e3a\u539fDataFrame\u7684\u89c6\u56fe\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0cpandas \u65e0\u6cd5\u786e\u5b9a\u7d22\u5f15\u7ed3\u679c\u5230\u5e95\u662f\u526f\u672c\uff0c\u8fd8\u662f\u539fDataFrame\u7684\u89c6\u56fe\uff0c\u6216\u8005\u67d0\u4e2a ndarray \u7684\u89c6\u56fe\u3002</p> <pre><code>a = pd.DataFrame(np.arange(16).reshape((4,4)))\nx = a[(a &gt; 2).any(axis=1)]\n\n# Assign using equivalent notation to below\nx.iloc[:len(x), 1] = 100\nprint(x._is_view)\n\n# Assign using slightly different syntax\nx.iloc[:, 1] = 1\nprint(x._is_view)\n</code></pre> <pre><code>True\nFalse\n</code></pre> <p>\u56e0\u4e3a NumPy \u662f\u53ef\u4ee5\u9884\u6d4b\u5730\u8fd4\u56de\u89c6\u56fe\u6216\u526f\u672c\uff0c\u6709\u4eba\u53ef\u80fd\u4f1a\u56f0\u60d1\u4e8e\u57fa\u4e8e NumPy \u7684 pandas \u4e3a\u4f55\u4e0d\u80fd\u9884\u6d4b\u5730\u8fd4\u56de\u3002NumPy \u7684\u7d22\u5f15\u89c4\u5219\u867d\u7136\u8f83\u590d\u6742\uff0c\u4f46\u5176\u7d22\u5f15\u79cd\u7c7b\u548c\u7d22\u5f15\u65b9\u5f0f\u662f\u6bd4\u8f83\u5355\u4e00\u7684\u3002\u800c pandas \u4e3a\u4e86\u5b9e\u73b0\u529f\u80fd\u66f4\u52a0\u5f3a\u5927\u4e14\u901a\u7528\u7684\u7d22\u5f15\uff0c\u5176\u7d22\u5f15\u5e76\u6ca1\u6709\u5b8c\u5168\u4e0e\u4e0e\u5e95\u5c42 NumPy \u6570\u7ec4\u7684\u529f\u80fd\u76f8\u7ed3\u5408\u3002\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\uff0cpandas \u7d22\u5f15\u7684\u8bbe\u8ba1\u548c\u5e95\u5c42 NumPy \u529f\u80fd\u4e4b\u95f4\u7684\u76f8\u4e92\u4f5c\u7528\u5bfc\u81f4\u4e86\u4e00\u5957\u590d\u6742\u7684\u89c4\u5219\uff0c\u8fd9\u4e9b\u89c4\u5219\u51b3\u5b9a\u4e86\u662f\u5426\u53ef\u4ee5\u8fd4\u56de\u89c6\u56fe\u6216\u526f\u672c\u3002</p> <p>\u6700\u7ec8\uff0c\u53ea\u6709\u4e00\u4e2a\u7b80\u5355\u7684\u7b28\u65b9\u6cd5\u53ef\u4ee5\u5b8c\u5168\u786e\u5b9a\u7d22\u5f15\u64cd\u4f5c<code>x=df[]/df.loc[]/df.iloc[]</code>\u8fd4\u56de\u7684\u7ed3\u679c\u662f\u5426\u4e3a\u539fDataFrame\u7684\u89c6\u56fe\uff0c\u53ea\u9700\u67e5\u770b\u66f4\u6539<code>x</code>\u4e2d\u7684\u503c\u662f\u5426\u4f1a\u5f71\u54cd<code>x</code>\u3002\u5982\u679c\u662f\uff0c\u5219<code>x</code>\u4e3a\u89c6\u56fe\uff1b\u5982\u679c\u4e0d\u662f\uff0c\u5219<code>x</code>\u4e3a\u526f\u672c\u3002</p>"},{"location":"Python3/pandas/9.3.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE.html#_9","title":"\u94fe\u5f0f\u8d4b\u503c","text":"<p>pandas \u6240\u6709\u7684 indexing-set \u64cd\u4f5c\u90fd\u4f1a\u4fee\u6539<code>df</code>\u672c\u8eab\u3002</p> <pre><code>data = {\"one\": [1, 2, 3, 4, 5],\n        \"two\": [10, 20, 30, 40, 50]}\ndf = pd.DataFrame(data)\ndf[\"one\"] = 100\ndf.loc[0, \"one\"] = 200\ndf.iloc[0, 1] = 300\nprint(df)\n</code></pre> <pre><code>   one  two\n0  200  300\n1  100   20\n2  100   30\n3  100   40\n4  100   50\n</code></pre> <p>\u82e5<code>df</code>\u662f\u7531\u4e00\u4e9b\u539f\u59cb\u6570\u636e\u521b\u5efa\u7684DataFrame\uff0c\u6211\u4eec\u65e0\u9700\u62c5\u5fc3\uff08\u4f8b\u5982\u4e0a\u9762\u7684\u4ee3\u7801\uff09\u3002\u4e00\u65e6<code>df</code>\u662f\u5176\u4ed6DataFrame\u7684\u7d22\u5f15\u7ed3\u679c\uff0c<code>df</code>\u7684 indexing-set \u64cd\u4f5c\u5c31\u6709\u53ef\u80fd\u4ea7\u751f\u526f\u4f5c\u7528\uff0c\u6216\u8005\u51fa\u73b0\u975e\u9884\u671f\u7684\u7ed3\u679c\u3002</p> <ul> <li><code>df</code>\u662f\uff08\u4e34\u65f6\uff09\u526f\u672c\uff0c\u800c\u5b9e\u9645\u4e0a\u60f3\u4fee\u6539\u539fDataFrame\uff0c\u6b64\u65f6\u4ee3\u7801\u4e0d\u6309\u9884\u671f\u5de5\u4f5c\u3002</li> <li><code>df</code>\u662f\u89c6\u56fe\uff0c\u5bf9<code>df</code>\u8fdb\u884c\u4fee\u6539\u4f1a\u5f71\u54cd\u539fDataFrame\uff0c\u82e5\u4f60\u4e0d\u60f3\u4fee\u6539\u539fDataFrame\uff0c\u6b64\u65f6\u4ee3\u7801\u4fbf\u51fa\u73b0\u526f\u4f5c\u7528\u3002</li> </ul> <p>\u4e0a\u8ff0\u4e24\u79cd\u60c5\u51b5\u53ea\u4f1a\u5728\u94fe\u5f0f\u8d4b\u503c\uff08chained assignment\uff09\u65f6\u53d1\u751f\u3002\u6709\u7ecf\u9a8c\u7684 pandas \u5f00\u53d1\u8005\u80fd\u81ea\u5982\u5730\u64cd\u4f5c pandas \u7684\u7d22\u5f15\u884c\u4e3a\u3002\u7136\u800c\u5bf9\u4e8e pandas \u65b0\u624b\u6765\u8bf4\uff0c\u94fe\u5f0f\u7d22\u5f15\u51e0\u4e4e\u4e0d\u53ef\u907f\u514d\uff0c\u540c\u65f6\uff0c\u5982\u4e0a\u4e00\u8282\u6240\u8ff0\uff0cpandas \u65e0\u6cd5\u9884\u6d4b\u5730\u8fd4\u56de\u89c6\u56fe\u6216\u526f\u672c\uff0c\u4ece\u800c\u5bfc\u81f4\u94fe\u5f0f\u8d4b\u503c\u7684\u7ed3\u679c\u662f\u4e0d\u53ef\u9884\u6d4b\u7684\uff0c\u5f88\u5bb9\u6613\u51fa\u73b0\u4e0a\u8ff0\u4e24\u79cd\u975e\u9884\u671f\u7684\u64cd\u4f5c\u3002\u56e0\u6b64\uff0c\u57282013\u5e74\u5e95\uff0cpandas 0.13.0 \u7248\u672c\u5f15\u5165\u4e86<code>SettingWithCopyWarning</code>\u8fd9\u4e2a\u8b66\u544a\uff0c\u4ee5\u89e3\u51b3\u8bb8\u591a\u5f00\u53d1\u4eba\u5458\u9047\u5230\u7684\u94fe\u5f0f\u8d4b\u503c\u5931\u8d25\u7684\u95ee\u9898\u3002</p> <p>\u4e0d\u5e78\u7684\u662f\uff0c\u7528 Jeff Reback \uff08pandas \u7684\u6838\u5fc3\u5f00\u53d1\u8005\u4e4b\u4e00\uff09\u7684\u8bdd\u6765\u8bf4\uff0c\u201c\u4ece\u8bed\u8a00\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u76f4\u63a5\u68c0\u6d4b\u94fe\u5f0f\u8d4b\u503c\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u53ea\u80fd\u8fdb\u884c\u63a8\u65ad\u3002\u201d</p> <p>\u7406\u89e3\u8fd9\u53e5\u8bdd\uff0c\u9700\u8981\u8003\u8651 Python \u89e3\u91ca\u5668\u5982\u4f55\u6267\u884c\u6b64\u4ee3\u7801\uff1a</p> <pre><code># indexing-get\ndfmi.loc[:, ('one', 'second')] = value\n# becomes\ndfmi.loc.__setitem__((slice(None), ('one', 'second')), value)\n</code></pre> <p>\u94fe\u5f0f\u8d4b\u503c\u6709\u4e0d\u540c\u7684\u5904\u7406\u65b9\u5f0f\uff1a</p> <pre><code># chained assignment = indexing-get + indexing-set\ndfmi['one']['second'] = value\n# becomes\ndfmi.__getitem__('one').__setitem__('second', value)\n</code></pre> <p><code>__getitem__</code>\u548c<code>__setitem__</code>\u662f\u4e24\u4e2a\u72ec\u7acb\u7684\u64cd\u4f5c\uff0c<code>__setitem__</code>\u5e76\u4e0d\u77e5\u9053<code>__getitem__</code>\u3002</p> <p>\u5173\u4e8echained assignment\u7684\u8b66\u544a/\u5f02\u5e38\u65e8\u5728\u901a\u77e5\u7528\u6237\u53ef\u80fd\u5b58\u5728\u65e0\u6548\u7684\u8d4b\u503c\uff0c\u6709\u53ef\u80fd\u51fa\u73b0\u8bef\u62a5\uff08\u5047\u9633\u6027\uff09\u3001\u6216\u8005\u6f0f\u62a5\uff08\u5047\u9634\u6027\uff09\u7684\u60c5\u51b5\u3002</p> <p>\u8bef\u62a5\u5728\u65e9\u671f\u7684 pandas \u7248\u672c\u4e2d\u8f83\u4e3a\u666e\u904d\uff0c\u4f46\u6b64\u540e\u5927\u90e8\u5206\u88ab\u6d88\u9664\u4e86\u3002\u4e3a\u4e86\u5b8c\u6574\u8d77\u89c1\uff0c\u5728\u6b64\u5904\u6536\u5f55\u4e00\u4e9b\u5e38\u89c1\u7684\u8bef\u62a5\u793a\u4f8b\u3002\u5982\u679c\u60a8\u5728\u4f7f\u7528\u8f83\u65e9\u7248\u672c\u7684 pandas \u65f6\u9047\u5230\u4ee5\u4e0b\u4efb\u4f55\u60c5\u51b5\uff0c\u5219\u53ef\u4ee5\u5b89\u5168\u5730\u5ffd\u7565\u6216\u6d88\u9664\u8be5\u8b66\u544a\uff08\u6216\u901a\u8fc7\u5347\u7ea7\u5b8c\u5168\u907f\u514d\u8be5\u8b66\u544a\uff09\u3002</p> \u8bef\u62a5\u793a\u4f8b<p>\u4f7f\u7528\u5df2\u5b58\u5728\u7684\u5217\u7684\u503c\u5411<code>DataFrame</code> \u4e2d\u6dfb\u52a0\u65b0\u5217\u4f1a\u751f\u6210\u8b66\u544a\uff0c\u4f46\u6b64\u95ee\u9898\u5df2\u5f97\u5230\u89e3\u51b3\u3002</p> <pre><code>data['bidtime_hours'] = data.bidtime.map(lambda x: x * 24)\ndata.head(2)\n</code></pre> <p>\u5728<code>DataFrame</code>\u7684\u5207\u7247\u4e0a\u4f7f\u7528<code>apply</code>\u65b9\u6cd5\u8fdb\u884c indexing-set \u64cd\u4f5c\u65f6\uff0c\u4e5f\u4f1a\u51fa\u73b0\u8bef\u62a5\uff0c\u8fd9\u4e5f\u5df2\u7ecf\u5230\u89e3\u51b3\u3002</p> <pre><code>data.loc[:, 'bidtime_hours'] = data.bidtime.apply(lambda x: x * 24)\ndata.head(2)\n</code></pre> <p>pandas 0.17.0 \u7684<code>DataFrame.sample</code>\u65b9\u6cd5\u5b58\u5728\u4e00\u4e2abug\uff0c\u4f1a\u5bfc\u81f4\u8bef\u62a5\u3002\u73b0\u5728<code>DataFrame.sample</code>\u65b9\u6cd5\u603b\u4f1a\u8fd4\u56de\u526f\u672c\u3002</p> <pre><code>sample = data.sample(2)\nsample.loc[:, 'price'] = 120\nsample.head()\n</code></pre> <p>\u76f4\u5230\u73b0\u5728\uff0c\u6f0f\u62a5\u8fd8\u662f\u5f88\u5e38\u89c1\uff0c\u6f0f\u62a5\u7684\u793a\u4f8b\u53c2\u8003\u201c\u89c6\u56fe\u548c\u526f\u672c\u201d\u5c0f\u8282\u4e2d\u7684\u793a\u4f8b\u4ee3\u7801\u3002</p> <p>\u6709\u65f6\u5019\uff0c\u4ee3\u7801\u6ca1\u6709\u660e\u663e\u7684\u94fe\u5f0f\u8d4b\u503c\uff0c<code>SettingWithCopy</code> \u8b66\u544a\u4e5f\u4f1a\u51fa\u73b0\u3002\u5b9e\u9645\u4e0a\uff0c\u4f60\u53ef\u80fd\u5df2\u7ecf\u4f7f\u7528\u4e86\u94fe\u5f0f\u8d4b\u503c\uff1a</p> <pre><code>def do_something(df):\n    foo = df[['bar', 'baz']]  # Is foo a view? A copy? Nobody knows!\n    # ... many lines here ...\n    # We don't know whether this will modify df or not!\n    foo['quux'] = value\n    return foo\n</code></pre> <p>\u9664\u975e\u4f60\u5b8c\u5168\u660e\u786e\u7d22\u5f15\u64cd\u4f5c\u7684\u7ed3\u679c\uff0c\u5426\u5219\u5ffd\u7565\u8b66\u544a\u5c31\u50cf\u5728\u4ee3\u7801\u4e2d\u57cb\u96f7\u3002\u5e78\u8fd0\u7684\u662f\uff0c<code>SettingWithCopyWarning</code>\u8b66\u544a\u4e00\u822c\u5728\u94fe\u5f0f\u8d4b\u503c\u65f6\u624d\u4f1a\u51fa\u73b0\u3002\u56e0\u6b64\uff0c\u5b66\u4e60\u4e00\u4e9b\u6280\u5de7\uff0c\u907f\u514d\u4f7f\u7528\u94fe\u5f0f\u8d4b\u503c\uff0c\u4fbf\u53ef\u6d88\u9664\u8b66\u544a\u4fe1\u606f\u3002</p> <ul> <li>\u5982\u679c\u8981\u4fee\u6539\u539fDataFrame\uff0c\u5e94\u8be5\u76f4\u63a5\u5bf9\u539fDataFrame\u8fdb\u884c indexing-set \u64cd\u4f5c\uff0c\u800c\u4e0d\u662f\u4fee\u6539\u5176\u89c6\u56fe\u3002\u4f8b\u5982\uff0c\u4f7f\u7528<code>df.loc[0,'one']=10</code>\uff0c\u800c\u4e0d\u662f<code>df['one'][0]=10</code>\u3002</li> <li>\u5982\u679c\u4e0d\u60f3\u4fee\u6539\u539fDataFrame\uff0c\u5e94\u8be5\u663e\u5f0f\u521b\u5efa indexing-get \u7ed3\u679c\u7684\u526f\u672c\uff0c\u5e76\u5bf9\u526f\u672c\u6267\u884c indexing-set \u64cd\u4f5c\u3002\u4f8b\u5982\uff1a<code>a=df['one'].copy(); a=10</code>\u3002</li> </ul> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u867d\u7136\u4f7f\u7528<code>.copy</code>\u65b9\u6cd5\u53ef\u4ee5\u7ed5\u5f00\u8b66\u544a\uff0c\u4f46\u76f2\u76ee\u4f7f\u7528<code>.copy</code>\u65b9\u6cd5\u53ef\u80fd\u4f1a\u5e26\u6765\u53e6\u4e00\u4e2a\u95ee\u9898\u2014\u2014<code>MemoryError</code>\uff0c\u8fd9\u53d6\u51b3\u4e8e\u6240\u5904\u7406\u6570\u636e\u7684\u5927\u5c0f\u548c\u53ef\u7528\u5185\u5b58\u5927\u5c0f\u3002</p> <pre><code>from memory_profiler import profile\n\n@profile\ndef foo():\n    df = pd.DataFrame(np.random.randn(2 * 10 ** 7))\n\n    d1 = df[:]\n    d1 = d1.copy()\n\nfoo()\n</code></pre> <pre><code>Line #    Mem usage    Increment  Occurences   Line Contents\n#============================================================\n     6     75.4 MiB     75.4 MiB           1   @profile\n     7                                         def foo():\n     8    228.0 MiB    152.7 MiB           1       df = pd.DataFrame(np.random.randn(2 * 10 ** 7))\n     9\n    10    228.0 MiB      0.0 MiB           1       d1 = df[:]\n    11    380.6 MiB    152.6 MiB           1       d1 = d1.copy()\n</code></pre> <p>\u5728\u4e0a\u8ff0\u793a\u4f8b\u4e2d\uff0c<code>df1</code>\u662f<code>df</code>\u7684\u526f\u672c\uff0c\u4f46<code>df</code>\u5360\u7528\u7684\u5185\u5b58\u4e0d\u4f1a\u88ab\u81ea\u52a8\u56de\u6536\uff0c\u800c\u662f\u4fdd\u7559\u5728\u5185\u5b58\u4e2d\u3002\u5373\u4f7f\u6267\u884c<code>df=df[:].copy()</code>\u8bed\u53e5\uff0c\u65e7\u7684<code>df</code>\u6570\u636e\u548c\u65b0\u7684\u526f\u672c\u4e5f\u4f1a\u5728\u77ed\u6682\u7684\u65f6\u95f4\u5185\u540c\u65f6\u88ab\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u3002</p> <p>pandas \u63d0\u4f9b\u4e86\u663e\u5f0f\u63a7\u5236<code>SettingWithCopy</code>\u7684<code>mode.chained_assignment</code>\u8bbe\u7f6e\u9009\u9879\uff0c\u8be5\u9009\u9879\u53ef\u4ee5\u91c7\u7528\u4ee5\u4e0b\u7684\u503c\uff1a</p> <pre><code>pd.set_option('mode.chained_assignment', 'raise') # \u5f15\u53d1\u5f02\u5e38\npd.set_option('mode.chained_assignment', 'warn')  # \u663e\u793a\u8b66\u544a, \u9ed8\u8ba4\u503c\npd.set_option('mode.chained_assignment', None)    # \u5b8c\u5168\u5173\u95ed\u8b66\u544a\n</code></pre> <p>\u5982\u679c\u5f00\u53d1\u56e2\u961f\u4e2d\u6709\u7ecf\u9a8c\u4e0d\u8db3\u7684 pandas \u5f00\u53d1\u4eba\u5458\uff0c\u6216\u8005\u9879\u76ee\u9700\u8981\u9ad8\u5ea6\u4e25\u8c28\uff0c\u90a3\u4e48\u8fd9\u53ef\u80fd\u7279\u522b\u6709\u7528\u3002\u4f7f\u7528\u6b64\u8bbe\u7f6e\u7684\u4e00\u79cd\u66f4\u7cbe\u786e\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u3002</p> <pre><code># resets the option we set in the previous code segment\npd.reset_option('mode.chained_assignment')\nwith pd.option_context('mode.chained_assignment', None):\n    data[data.bidder == 'parakeet2004']['bidderrate'] = 100\n</code></pre> <p>\u8fd9\u79cd\u65b9\u6cd5\u652f\u6301\u7ec6\u7c92\u5ea6\u7684\u8b66\u544a\u63a7\u5236\uff0c\u800c\u4e0d\u662f\u4e0d\u52a0\u9009\u62e9\u5730\u5f71\u54cd\u6574\u4e2a\u73af\u5883\u3002</p>"},{"location":"Python3/pandas/9.3.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE.html#_10","title":"\u7d22\u5f15\u65b9\u5f0f\u603b\u7ed3\u8868","text":"\u7c7b\u578b <code>df[val]</code> \u4eceDataFrame\u9009\u53d6\u5355\u5217\u6216\u4e00\u7ec4\u5217\uff1b\u5728\u7279\u6b8a\u60c5\u51b5\u4e0b\u6bd4\u8f83\u4fbf\u5229\uff1a\u5e03\u5c14\u578b\u6570\u7ec4\uff08\u8fc7\u6ee4\u884c\uff09\u3001\u5207\u7247\uff08\u884c\u5207\u7247\uff09\u3001\u6216\u5e03\u5c14\u578bDataFrame (\u6839\u636e\u6761\u4ef6\u8bbe\u7f6e\u503c\uff09 <code>df.loc[val]</code> \u901a\u8fc7\u6807\u7b7e\uff0c\u9009\u53d6DataFrame\u7684\u5355\u4e2a\u884c\u6216\u4e00\u7ec4\u884c <code>df.loc[:, val]</code> \u901a\u8fc7\u6807\u7b7e\uff0c\u9009\u53d6\u5355\u5217\u6216\u5217\u5b50\u96c6 <code>df.loc[val1, val2]</code> \u901a\u8fc7\u6807\u7b7e\uff0c\u540c\u65f6\u9009\u53d6\u884c\u548c\u5217 <code>df.iloc[where]</code> \u901a\u8fc7\u6574\u6570\u4f4d\u7f6e\uff0c\u4eceDataFrame\u9009\u53d6\u5355\u4e2a\u884c\u6216\u884c\u5b50\u96c6 <code>df.iloc[:, where]</code> \u901a\u8fc7\u6574\u6570\u4f4d\u7f6e\uff0c\u4eceDataFrame\u9009\u53d6\u5355\u4e2a\u5217\u6216\u5217\u5b50\u96c6 <code>df.iloc[where_i, where_j]</code> \u901a\u8fc7\u6574\u6570\u4f4d\u7f6e\uff0c\u540c\u65f6\u9009\u53d6\u884c\u548c\u5217 <code>df.at [label_i, label_j]</code> \u901a\u8fc7\u884c\u548c\u5217\u6807\u7b7e\uff0c\u9009\u53d6\u5355\u4e00\u7684\u6807\u91cf <code>df.iat[i, j]</code> \u901a\u8fc7\u884c\u548c\u5217\u7684\u4f4d\u7f6e\uff08\u6574\u6570\uff09\uff0c\u9009\u53d6\u5355\u4e00\u7684\u6807\u91cf <code>reindex</code> \u901a\u8fc7\u6807\u7b7e\u9009\u53d6\u884c\u6216\u5217 <code>get _value, set_value</code> \u901a\u8fc7\u884c\u548c\u5217\u6807\u7b7e\u9009\u53d6\u5355\u4e00\u503c"},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html","title":"9.4.\u7d22\u5f15\u5bf9\u8c61","text":"<pre><code>from toolkit import H\nimport numpy as np\nimport pandas as pd\nimport pprint\n</code></pre> <pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.03.02\npandas version:  1.2.2\nnumpy version:  1.20.1\n</code></pre>"},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html#_1","title":"\u7d22\u5f15\u5bf9\u8c61","text":"<p>pandas\u7684\u7d22\u5f15\u5bf9\u8c61\u8d1f\u8d23\u7ba1\u7406\u8f74\u6807\u7b7e\u548c\u5176\u4ed6\u5143\u6570\u636e\uff08\u6bd4\u5982\u8f74\u540d\u79f0\u7b49\uff09\u3002\u6784\u5efaSeries\u6216DataFrame\u65f6\uff0c\u6240\u7528\u5230\u7684\u4efb\u4f55\u6570\u7ec4\u6216\u5176\u4ed6\u5e8f\u5217\u7684\u6807\u7b7e\u90fd\u4f1a\u88ab\u8f6c\u6362\u6210\u4e00\u4e2aIndex\uff0c\u800c index\u5bf9\u8c61\u662f\u4e0d\u53ef\u53d8\u7684 \uff0c\u4e5f\u5c31\u662findex\u5bf9\u8c61\u7684\u5143\u7d20\u4e0d\u53ef\u4fee\u6539\uff08immutable\uff09\u3002\u5982\u679c\u8981\u4fee\u6539index\u5185\u5bb9\uff0c\u53ea\u80fd\u901a\u8fc7\u91cd\u65b0\u8d4b\u503c\u7684\u5f62\u5f0f\u3002</p> <p>\u4e0d\u53ef\u4fee\u6539\u6027\u975e\u5e38\u91cd\u8981\uff0c\u56e0\u4e3a\u8fd9\u6837\u624d\u80fd\u4f7fIndex\u5bf9\u8c61\u5728\u591a\u4e2a\u6570\u636e\u7ed3\u6784\u4e4b\u95f4\u5b89\u5168\u5171\u4eab\u3002</p> <p>\u4e0b\u8868\u5217\u51fa\u4e86pandas\u4e2d\u4e3b\u8981\u7684Index\u5bf9\u8c61\uff1a</p> \u7c7b \u8bf4\u660e Index \u6700\u6cdb\u5316\u7684Index\u5bf9\u8c61\uff0c\u5c06\u8f74\u6807\u7b7e\u8868\u793a\u4e3a\u4e00\u4e2a\u7531Python\u5bf9\u8c61\u7ec4\u6210\u7684NumPy \u6570\u7ec4 Int64lndex \u9488\u5bf9\u6574\u6570\u7684\u7279\u6b8aIndex Multiindex \u201c\u5c42\u6b21\u5316\u201d\u7d22\u5f15\u5bf9\u8c61\uff0c\u8868\u793a\u5355\u4e2a\u8f74\u4e0a\u7684\u591a\u5c42\u7d22\u5f15\u3002\u53ef\u4ee5\u770b\u505a\u7531\u5143\u7ec4\u7ec4\u6210\u7684\u6570\u7ec4 Datetimelndex \u5b58\u50a8\u7eb3\u79d2\u7ea7\u65f6\u95f4\u622a\uff08\u7528NumPy\u7684datetime64\u7c7b\u578b\u8868\u793a\uff09 Periodlndex \u9488\u5bf9Period\u6570\u636e\uff08\u65f6\u95f4\u95f4\u9694\uff09\u7684\u7279\u6b8aIndex <p>\u4ee5\u4e0b\u662fpandas\u4e2d\u6240\u6709Index\u5bf9\u8c61\uff1a</p> <pre><code>['CategoricalIndex',\n 'DatetimeIndex',\n 'Float64Index',\n 'Index',\n 'Int64Index',\n 'IntervalIndex',\n 'MultiIndex',\n 'PeriodIndex',\n 'RangeIndex',\n 'TimedeltaIndex',\n 'UInt64Index']\n</code></pre> <p>\u6bcf\u4e2a\u7d22\u5f15\u90fd\u6709\u4e00\u4e9b\u65b9\u6cd5\u548c\u5c5e\u6027\uff0c\u5b83\u4eec\u53ef\u7528\u4e8e\u8bbe\u7f6e\u903b\u8f91\u5e76\u56de\u7b54\u6709\u5173\u8be5\u7d22\u5f15\u6240\u5305\u542b\u7684\u6570\u636e\u7684\u5e38\u89c1\u95ee\u9898\u3002\u4e0b\u8868\u5217\u51fa\u4e86\u8fd9\u4e9b\u51fd\u6570\uff1a</p> \u8bf4\u660e \u65b9\u6cd5 append \u8fde\u63a5\u53e6\u4e00\u4e2aindex\u5bf9\u8c61.\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684Index diff \u8ba1\u7b97\u5dee\u96c6\uff0c\u5e76\u5f97\u5230\u4e00\u4e2aIndex intersection \u8ba1\u7b97\u4ea4\u96c6 union \u8ba1\u7b97\u5e76\u96c6 isin \u8ba1\u7b97\u4e00\u4e2a\u6307\u793a\u5404\u503c\u662f\u5426\u90fd\u5305\u542b\u5728\u53c2\u6570\u96c6\u5408\u4e2d\u7684\u5e03\u5c14\u578b\u6570\u7ec4 delete \u5220\u9664\u7d22\u5f15i\u5904\u7684\u5143\u7d20\uff0c\u5e76\u5f97\u5230\u65b0\u7684Index drop \u5220\u9664\u4f20\u5165\u7684\u503c.\u5e76\u5f97\u5230\u65b0\u7684Index insert \u5c06\u5143\u7d20\u63d2\u5165\u5230\u7d22\u5f15i\u5904\uff0c\u5e76\u5f97\u5230\u65b0\u7684Index is_monotonic \u5f53\u5404\u5143\u7d20\u5747\u5927\u4e8e\u7b49\u4e8e\u524d\u4e00\u4e2a\u5143\u7d20\u65f6\uff0c\u8fd4\u56deTRUE is_unique \u5f53Index\u6ca1\u6709\u91cd\u590d\u503c\u65f6\uff0c\u8fd4\u56deTrue unique \u8ba1\u7b97Index\u4e2d\u552f\u4e00\u503c\u7684\u6570\u7ec4"},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html#index","title":"Index","text":"<pre><code>pd.Index(data=None, dtype=None, copy=False, name=None, tupleize_cols=True,\n         kwargs)\n</code></pre> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>data</code>\uff1a\u4e00\u4e2a<code>array-like</code>\uff0c\u5fc5\u987b\u662f\u4e00\u7ef4\u7684</li> <li><code>name</code>\uff1a\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4e3a<code>Index</code>\u7684\u540d\u5b57\u3002</li> <li><code>dtype</code>\uff1a\u6307\u5b9a\u6570\u636e\u7c7b\u578b\u3002\u5982\u679c\u4e3a<code>None</code>\uff0c\u5219\u9ed8\u8ba4\u4e3a<code>object</code></li> <li><code>copy</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u62f7\u8d1d\u8f93\u5165\u6570\u636e<code>data</code></li> <li><code>tupleize_cols</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u53ef\u80fd\u5219\u5c3d\u91cf\u521b\u5efa<code>MultiIndex</code>\u5bf9\u8c61</li> </ul> <pre><code>pd.Index(['a', 'b', 'c'])\n</code></pre> <pre><code>Index(['a', 'b', 'c'], dtype='object')\n</code></pre> <p>\u5b9e\u9645\u4e0a\uff0c\u901a\u8fc7<code>pd.Index</code>\u7c7b\u4e5f\u53ef\u4ee5\u521b\u5efa<code>pd.Int64Index</code>\u3001<code>pd.Float64Index</code>\u3001<code>pd.RangeIndex</code>\u3001<code>pd.UInt64Index</code>\u3001<code>pd.DatetimeIndex</code>\u3001<code>pd.TimedeltaIndex</code></p> <pre><code>from datetime import datetime, timedelta\n\nprint(type(pd.Index([1,2,3,4], dtype=np.uint64,  name='UInt64Index')))\nprint(type(pd.Index([1,2,3,4], dtype=np.int64,   name='Int64Index')))\nprint(type(pd.Index([1,2,3,4], dtype=np.float64, name='Float64Index')))\nprint(type(pd.Index(range(5),                    name='RangeIndex')))\nprint(type(pd.Index([datetime.today()],          name='DatetimeIndex')))\nprint(type(pd.Index([timedelta(microseconds=1)], name='TimedeltaIndex')))\n</code></pre> <pre><code>&lt;class 'pandas.core.indexes.numeric.UInt64Index'&gt;\n&lt;class 'pandas.core.indexes.numeric.Int64Index'&gt;\n&lt;class 'pandas.core.indexes.numeric.Float64Index'&gt;\n&lt;class 'pandas.core.indexes.range.RangeIndex'&gt;\n&lt;class 'pandas.core.indexes.datetimes.DatetimeIndex'&gt;\n&lt;class 'pandas.core.indexes.timedeltas.TimedeltaIndex'&gt;\n</code></pre>"},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html#multiindex","title":"\u591a\u7ea7\u7d22\u5f15 MultiIndex","text":"<p><code>MultiIndex</code>\u4ee3\u8868\u7684\u662f\u591a\u7ea7\u7d22\u5f15\u5bf9\u8c61\u3002\u5b83\u7ee7\u627f\u81ea<code>Index</code>\uff0c\u5176\u4e2d\u7684\u591a\u7ea7<code>label</code>\u91c7\u7528\u5143\u7ec4\u5bf9\u8c61\u6765\u8868\u793a\u3002\u56e0\u6b64\uff0c<code>MultiIndex</code>\u53ef\u4ee5\u770b\u4f5c\u4e00\u4e2a\u5143\u7ec4\u6570\u7ec4\u3002\u5728<code>MultiIndex</code>\u5185\u90e8\uff0c\u5e76\u4e0d\u76f4\u63a5\u4fdd\u5b58\u5143\u7ec4\u5bf9\u8c61\uff0c\u800c\u662f\u4f7f\u7528\u591a\u4e2a<code>Index</code>\u5bf9\u8c61\u4fdd\u5b58\u7d22\u5f15\u4e2d\u6bcf\u7ea7\u7684<code>label</code>\u3002</p> <pre><code>pd.MultiIndex(levels=None, codes=None, sortorder=None, names=None,\n              dtype=None, copy=False, name=None,\n              verify_integrity=True)\n</code></pre> <p>\u53c2\u6570\uff1a</p> <ul> <li><code>levels</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\u7684\u5217\u8868\uff0c\u6307\u5b9a\u6bcf\u4e00\u7ea7\u7684\u7d22\u5f15\u3002</li> <li><code>codes</code>\uff1a\u6574\u6570\u5217\u8868\u7684\u5217\u8868\uff0c\u6307\u5b9a\u6bcf\u4e2a\u4f4d\u7f6e\u5bf9\u5e94\u7684\u7d22\u5f15\u6807\u7b7e\u3002</li> <li><code>sortorder</code>\uff1a\u4e00\u4e2a\u6574\u6570\uff0c\u7ed9\u51fa\u4e86\u5df2\u7ecf\u6392\u5e8f\u597d\u4e86\u7684<code>level</code>\u7ea7\u522b\u3002</li> <li><code>names</code>\uff1a\u4e00\u4e2a\u5b57\u7b26\u4e32\u5e8f\u5217\uff0c\u6307\u5b9a\u6bcf\u7ea7\u7d22\u5f15\u7684<code>name</code>\u3002</li> <li><code>copy</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u62f7\u8d1d\u57fa\u7840\u6570\u636e\u3002</li> <li><code>verify_integrity</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u68c0\u6d4b\u5404\u7ea7\u522b\u7684<code>label/level</code>\u90fd\u662f\u8fde\u7eed\u7684\u4e14\u6709\u6548\u7684\u3002</li> <li><code>name</code>\uff1a<code>MultiIndex</code>\u7684\u540d\u5b57\u3002</li> </ul> <pre><code># index1 \u548c index2 \u662f\u7b49\u4ef7\u7684\nindex1 = pd.Index([('A', 'x1'), ('A', 'x2'), ('B', 'y1'),\n                   ('B', 'y2'), ('B', 'y3')], names=['class1', 'class2'])\nindex2 = pd.MultiIndex(levels=[['A', 'B'], ['x1', 'x2', 'y1', 'y2', 'y3']],\n                       codes=[[0, 0, 1, 1, 1], [0, 1, 2, 3, 4]],\n                       names=['class1', 'class2'])\npd.DataFrame(np.random.randint(1, 10, (5, 3)), index=index2)\n</code></pre> <pre><code>               0  1  2\nclass1 class2\nA      x1      8  1  7\n       x2      7  2  1\nB      y1      4  7  8\n       y2      2  6  5\n       y3      2  8  3\n</code></pre> <p>\u4e00\u822c\u4f7f\u7528\u5982\u4e0b\u66ff\u4ee3\u6784\u9020\u65b9\u6cd5\u6765\u521b\u5efa<code>MultiIndex</code>\uff1a</p> <ul> <li><code>MultiIndex.from_arrays(arrays, sortorder, names)</code>\uff1a\u5c06<code>list of array-likes</code>\u8f6c\u6362\u4e3a<code>MultiIndex</code>\u3002\u6bcf\u4e2a<code>array-like</code>\u5bf9\u8c61\u7ed9\u51fa\u5bf9\u5e94\u5c42\u7ea7\u7684\u6240\u6709\u6570\u636e\u70b9\u7684\u7d22\u5f15\u3002</li> <li><code>MultiIndex.from_tuples(tuples, sortorder, names)</code> \uff1a\u5c06<code>list of tuple-likes</code>\u8f6c\u6362\u4e3a<code>MultiIndex</code>\u3002\u6bcf\u4e2a<code>tuple-likes</code>\u90fd\u662f\u884c/\u5217\u7d22\u5f15\u3002</li> <li><code>MultiIndex.from_product(iterables, sortorder, names)</code>\uff1a\u5c06<code>list of iterables</code>\u8f6c\u6362\u4e3a<code>MultiIndex</code>\u3002\u5404\u4e2aiterable\u5bf9\u8c61\u6309\u987a\u5e8f\u6307\u660e\u4e86\u4e0d\u540c\u5c42\u7ea7\u7684\u7d22\u5f15\u6807\u7b7e\uff0c\u6bcf\u4e2a\u6570\u636e\u70b9\u7684\u7d22\u5f15\u6839\u636e\u7b1b\u5361\u5c14\u79ef\u7b97\u6cd5\u751f\u6210\u3002</li> <li><code>MultiIndex.from_frame(df, sortorder, names)</code>\uff1a\u5c06<code>DataFrame</code>\u8f6c\u6362\u4e3a<code>MultiIndex</code>\u3002<code>DataFrame</code>\u7684\u6bcf\u4e00\u5217\u7ed9\u51fa\u4e86\u5bf9\u5e94\u5c42\u7ea7\u7684\u6240\u6709\u6570\u636e\u70b9\u7684\u7d22\u5f15\u3002</li> </ul> <p>\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4f20\u9012\u4e00\u4e2a\u5143\u7ec4\u5217\u8868\u7ed9<code>Index()</code>\uff0c\u5e76\u4e14\u5c06<code>tupleize_cols</code>\u8bbe\u7f6e\u4e3a<code>True</code>\u6765\u521b\u5efa<code>MultiIndex</code></p>"},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html#from_tuples","title":"<code>from_tuples</code>","text":"<pre><code>arrays = [\n    ['bar', 'bar', 'baz', 'baz', 'foo', 'foo', 'qux', 'qux'],\n    ['one', 'two', 'one', 'two', 'one', 'two', 'one', 'two']]\n\ntuples = list(zip(*arrays))\npprint.pprint(tuples)\nprint('')\nindex = pd.MultiIndex.from_tuples(tuples, names=['first', 'second'])\n\npprint.pprint(index)\n</code></pre> <pre><code>[('bar', 'one'),\n ('bar', 'two'),\n ('baz', 'one'),\n ('baz', 'two'),\n ('foo', 'one'),\n ('foo', 'two'),\n ('qux', 'one'),\n ('qux', 'two')]\n\nMultiIndex([('bar', 'one'),\n            ('bar', 'two'),\n            ('baz', 'one'),\n            ('baz', 'two'),\n            ('foo', 'one'),\n            ('foo', 'two'),\n            ('qux', 'one'),\n            ('qux', 'two')],\n           names=['first', 'second'])\n</code></pre>"},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html#from_product","title":"<code>from_product</code>","text":"<pre><code>iterables = [['bar', 'baz', 'foo', 'qux'], ['one', 'two']]\npprint.pprint(iterables)\nprint('')\nindex = pd.MultiIndex.from_product(iterables, names=['first', 'second'])\npprint.pprint(index)\n</code></pre> <pre><code>[['bar', 'baz', 'foo', 'qux'], ['one', 'two']]\n\nMultiIndex([('bar', 'one'),\n            ('bar', 'two'),\n            ('baz', 'one'),\n            ('baz', 'two'),\n            ('foo', 'one'),\n            ('foo', 'two'),\n            ('qux', 'one'),\n            ('qux', 'two')],\n           names=['first', 'second'])\n</code></pre>"},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html#from_frame","title":"<code>from_frame</code>","text":"<pre><code>df = pd.DataFrame([['bar', 'one'], ['bar', 'two'],\n                   ['foo', 'one'], ['foo', 'two']],\n                  columns=['first', 'second'])\npprint.pprint(df)\nprint('') \nindex = pd.MultiIndex.from_frame(df)\npprint.pprint(index)\n</code></pre> <pre><code>  first second\n0   bar    one\n1   bar    two\n2   foo    one\n3   foo    two\n\nMultiIndex([('bar', 'one'),\n            ('bar', 'two'),\n            ('foo', 'one'),\n            ('foo', 'two')],\n           names=['first', 'second'])\n</code></pre>"},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html#list-likemultiindex","title":"\u4ecelist-like\u521b\u5efaMultiIndex","text":"<pre><code>arrays = [\n    np.array(['bar', 'bar', 'baz', 'baz', 'foo', 'foo', 'qux', 'qux']),\n    np.array(['one', 'two', 'one', 'two', 'one', 'two', 'one', 'two'])]\npprint.pprint(arrays)\n\npd.DataFrame(np.random.randn(8, 4), index=arrays)\n</code></pre> <pre><code>[array(['bar', 'bar', 'baz', 'baz', 'foo', 'foo', 'qux', 'qux'],\n      dtype='&lt;U3'),\n array(['one', 'two', 'one', 'two', 'one', 'two', 'one', 'two'],\n      dtype='&lt;U3')]\n</code></pre> <pre><code>                0         1         2         3\nbar one  1.438074  0.851745 -0.263231  0.285984\n    two  0.830161 -1.887687  0.175476  1.057429\nbaz one -1.066494 -0.282858  0.760714  0.069183\n    two  0.333587 -0.724593 -0.215265 -1.637538\nfoo one  0.050430 -1.658196 -0.409160  0.692135\n    two  0.397801 -0.158865  1.922566  0.529642\nqux one -1.022481  0.214911  0.513812  0.727262\n    two -1.325092 -2.795077  0.403388 -1.136477\n</code></pre> <pre><code># pd.Series(np.random.randn(8), index=arrays)\n</code></pre>"},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html#_2","title":"\u9009\u62e9\u6570\u636e","text":""},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html#_3","title":"\u5217\u7d22\u5f15\u662f\u591a\u7ea7\u7d22\u5f15","text":"<p>\u521b\u5efa\u793a\u4f8bdataframe\uff1a </p> <pre><code>tuples = [('bar', 'one'),\n          ('bar', 'two'),\n          ('baz', 'one'),\n          ('baz', 'two'),\n          ('foo', 'one'),\n          ('foo', 'two'),\n          ('qux', 'one'),\n          ('qux', 'two')]\nindex = pd.MultiIndex.from_tuples(tuples, names=['first', 'second'])\n\ndf = pd.DataFrame(np.random.randn(3, 8), index=['A', 'B', 'C'], columns=index)\ndf\n</code></pre> <pre><code>first        bar                 baz  ...       foo       qux          \nsecond       one       two       one  ...       two       one       two\nA      -0.936493  1.624851  0.381365  ...  0.510066 -0.079910 -0.659817\nB      -1.170663 -0.427186  1.827135  ... -0.489893  0.119415  0.853525\nC       0.358102 -1.269896  0.434656  ... -0.628121  0.234735 -0.563489\n\n[3 rows x 8 columns]\n</code></pre> <p>dataframe\u7684<code>[]</code>\u9009\u62e9\u5217\uff1a</p> <pre><code>df['bar']\n</code></pre> <pre><code>second       one       two\nA      -0.936493  1.624851\nB      -1.170663 -0.427186\nC       0.358102 -1.269896\n</code></pre> <p><code>[]</code>\u4f7f\u7528\u591a\u7ea7\u7d22\u5f15\uff1a</p> <pre><code># \u5b9e\u9645\u4e0a\u4e0e df[('bar', 'one')] \u7b49\u4ef7\ndf['bar', 'one']\n</code></pre> <pre><code>A   -0.936493\nB   -1.170663\nC    0.358102\nName: (bar, one), dtype: float64\n</code></pre> <p><code>[[]]</code>\u9009\u62e9\u591a\u5217\uff1a</p> <pre><code>df[['bar', 'baz', 'foo']] # list\n</code></pre> <pre><code>first        bar                 baz                 foo\nsecond       one       two       one       two       one       two\nA      -0.936493  1.624851  0.381365 -2.307657  0.144425  0.510066\nB      -1.170663 -0.427186  1.827135 -0.303377  0.037561 -0.489893\nC       0.358102 -1.269896  0.434656 -1.654805 -0.907289 -0.628121\n</code></pre> <p><code>()</code>\u7528\u4e8e\u540c\u4e00\u8f74\u7684\u591a\u7ea7\u7d22\u5f15\uff1a</p> <pre><code>df[[('bar', 'one'), ('baz','one')]] # list of tuples\n</code></pre> <pre><code>first        bar       baz\nsecond       one       one\nA      -0.936493  0.381365\nB      -1.170663  1.827135\nC       0.358102  0.434656\n</code></pre> <pre><code># \u884c\u5217\u7d22\u5f15\nprint(df.loc['A', 'bar'], '\\n')\n# () \u7528\u4e8e\u540c\u4e00\u8f74\u7684\u591a\u7ea7\u7d22\u5f15\nprint(df.loc['A', ('bar', 'one')], '\\n')\n# [] \u7528\u4e8e\u589e\u52a0\u8f74 \u4ee5\u4e0b\u4e09\u884c\u4ee3\u7801\u7b49\u4ef7\nprint(df.loc['A', [('bar', 'one')]], '\\n')\nprint(df.loc['A', ('bar', ['one'])], '\\n')\nprint(df.loc['A', (['bar'], 'one')], '\\n')\n# [] \u7528\u4e8e\u589e\u52a0\u8f74\nprint(df.loc['A', ['bar']], '\\n')\n</code></pre> <pre><code>second\none   -0.936493\ntwo    1.624851\nName: A, dtype: float64\n\n-0.9364927994329391\n\nfirst  second\nbar    one      -0.936493\nName: A, dtype: float64\n\nfirst  second\nbar    one      -0.936493\nName: A, dtype: float64\n\nfirst  second\nbar    one      -0.936493\nName: A, dtype: float64\n\nfirst  second\nbar    one      -0.936493\n       two       1.624851\nName: A, dtype: float64\n</code></pre> <pre><code># tuple of lists\nprint(df.loc['A', (['bar', 'foo'], ['one', 'two'])], '\\n')\n# list of tuples\nprint(df.loc['A', [('bar', 'one'), ('foo', 'two')]], '\\n')\n</code></pre> <pre><code>first  second\nbar    one      -0.936493\n       two       1.624851\nfoo    one       0.144425\n       two       0.510066\nName: A, dtype: float64\n\nfirst  second\nbar    one      -0.936493\nfoo    two       0.510066\nName: A, dtype: float64\n</code></pre>"},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html#_4","title":"\u884c\u7d22\u5f15\u662f\u591a\u7ea7\u7d22\u5f15","text":"<pre><code>df = pd.DataFrame(np.random.randn(8, 4), index=arrays)\ndf\n</code></pre> <pre><code>                0         1         2         3\nbar one  1.027278 -0.180081 -0.110635  0.724393\n    two -0.189482 -0.946654  0.910129 -0.504019\nbaz one -1.099056  1.757185 -0.422867  1.919558\n    two  0.066132  1.711503  0.033937 -0.691720\nfoo one -2.470554  0.587912 -2.073973 -0.550532\n    two -2.011376  0.480204 -1.050221  1.501428\nqux one -0.117892  2.151013  0.962524 -0.183576\n    two  0.319457 -0.230228  1.655544 -0.364321\n</code></pre> <pre><code>df.loc['bar', [0, 1]]\n</code></pre> <pre><code>            0         1\none  1.027278 -0.180081\ntwo -0.189482 -0.946654\n</code></pre> <pre><code>df.loc[(['bar'], 'one'), [0, 1]]\n# df.loc[(['bar'], 'one'), (0, 1)]\n</code></pre> <pre><code>                0         1\nbar one  1.027278 -0.180081\n</code></pre>"},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html#_5","title":"\u5206\u7c7b\u7d22\u5f15","text":"<p><code>CategoricalIndex</code>\u5206\u7c7b\u7d22\u5f15\u975e\u5e38\u9002\u5408\u6709\u91cd\u590d\u7684\u7d22\u5f15\u3002 \u8fd9\u662f\u4e00\u4e2a\u56f4\u7ed5<code>Categorical</code> \u800c\u521b\u5efa\u7684\u5bb9\u5668\u3002\u8fd9\u53ef\u4ee5\u975e\u5e38\u9ad8\u6548\u5730\u5b58\u50a8\u548c\u7d22\u5f15\u7684\u5177\u6709\u5927\u91cf\u91cd\u590d\u5143\u7d20\u7684\u7d22\u5f15\u3002</p> <pre><code># H.get_param(\"pd.CategoricalIndex\", globals())\nfrom pandas.api.types import CategoricalDtype\n\ndf = pd.DataFrame({'A': np.arange(6),\n                   'B': list('aabbca')})\n\ndf['B'] = df['B'].astype(CategoricalDtype(list('cab')))\n\nprint(df, '\\n')\nprint(df.dtypes, '\\n')\nprint(df.B.cat.categories, '\\n')\n</code></pre> <pre><code>   A  B\n0  0  a\n1  1  a\n2  2  b\n3  3  b\n4  4  c\n5  5  a\n\nA       int32\nB    category\ndtype: object\n\nIndex(['c', 'a', 'b'], dtype='object')\n</code></pre> <p>\u901a\u8fc7<code>.set_index()</code>\u5efa\u7acb\u4e00\u4e2a\u6709<code>CategoricalIndex</code> \u5206\u7c7b\u7d22\u5f15\u7684<code>df2</code>\uff1a</p> <pre><code>df2 = df.set_index('B')\nprint(df2.index)\n</code></pre> <pre><code>CategoricalIndex(['a', 'a', 'b', 'b', 'c', 'a'], categories=['c', 'a',\n'b'], ordered=False, name='B', dtype='category')\n</code></pre> <p>\u4f7f\u7528 <code>__getitem__/.iloc/.loc</code> \u8fdb\u884c\u7d22\u5f15\uff0c\u5728\u542b\u6709\u91cd\u590d\u503c\u7684\u7d22\u5f15\u4e0a\u7684\u5de5\u4f5c\u539f\u7406\u76f8\u4f3c\u3002\u7d22\u5f15\u503c\u5fc5\u987b\u5728\u4e00\u4e2a\u5206\u7c7b\u4e2d\uff0c\u5426\u8005\u5c06\u4f1a\u5f15\u53d1<code>KeyError</code>\u9519\u8bef\u3002</p> <pre><code>df2.loc['a']\n</code></pre> <pre><code>   A\nB\na  0\na  1\na  5\n</code></pre> <p><code>CategoricalIndex</code> \u5728\u7d22\u5f15\u4e4b\u540e\u4e5f\u4f1a\u88ab\u4fdd\u7559\uff1a</p> <pre><code>df2.loc['a'].index\n</code></pre> <pre><code>CategoricalIndex(['a', 'a', 'a'], categories=['c', 'a', 'b'],\nordered=False, name='B', dtype='category')\n</code></pre> <p>\u7d22\u5f15\u6392\u5e8f\u5c06\u4f1a\u6309\u7167\u7c7b\u522b\u6e05\u5355\u4e2d\u7684\u987a\u5e8f\u8fdb\u884c\uff08\u6211\u4eec\u5df2\u7ecf\u57fa\u4e8e <code>CategoricalDtype(list('cab'))</code>\u5efa\u7acb\u4e86\u4e00\u4e2a\u7d22\u5f15\uff0c\u56e0\u6b64\u6392\u5e8f\u7684\u987a\u5e8f\u662f<code>cab</code>\uff09</p> <pre><code>df2.sort_index()\n</code></pre> <pre><code>   A\nB\nc  4\na  0\na  1\na  5\nb  2\nb  3\n</code></pre> <p>\u5206\u7ec4\u64cd\u4f5c\uff08Groupby\uff09\u4e5f\u4f1a\u4fdd\u7559\u7d22\u5f15\u7684\u5168\u90e8\u4fe1\u606f\u3002</p> <pre><code>df2.groupby(level=0).sum()\ndf2.groupby(level=0).sum().index\n</code></pre> <pre><code>CategoricalIndex(['c', 'a', 'b'], categories=['c', 'a', 'b'],\nordered=False, name='B', dtype='category')\n</code></pre> <p>\u91cd\u8bbe\u7d22\u5f15\u7684\u64cd\u4f5c\u5c06\u4f1a\u6839\u636e\u8f93\u5165\u7684\u7d22\u5f15\u503c\u8fd4\u56de\u4e00\u4e2a\u7d22\u5f15\u3002\u4f20\u5165\u4e00\u4e2a\u5217\u8868\uff0c\u5c06\u4f1a\u8fd4\u56de\u4e00\u4e2a\u6700\u666e\u901a\u7684<code>Index</code>\uff1b\u5982\u679c\u4f7f\u7528\u7c7b\u522b\u5bf9\u8c61<code>Categorical</code>\uff0c\u5219\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5206\u7c7b\u7d22\u5f15<code>CategoricalIndex</code>\uff0c\u6309\u7167\u5176\u4e2d\u4f20\u5165\u7684\u7684\u7c7b\u522b\u503c<code>Categorical</code> dtype\u6765\u8fdb\u884c\u7d22\u5f15\u3002\u6b63\u5982\u540c\u4f60\u53ef\u4ee5\u5bf9\u4efb\u610fpandas\u7684\u7d22\u5f15\u8fdb\u884c\u91cd\u65b0\u7d22\u5f15\u4e00\u6837\uff0c\u8fd9\u5c06\u5141\u8bb8\u4f60\u968f\u610f\u7d22\u5f15\u4efb\u610f\u7684\u7d22\u5f15\u503c\uff0c\u5373\u4fbf\u5b83\u4eec\u5e76\u4e0d\u5b58\u5728\u5728\u4f60\u7684\u7c7b\u522b\u5bf9\u8c61\u4e2d\u3002</p> <pre><code>df2.reindex(['a', 'e'])\ndf2.reindex(['a', 'e']).index\n</code></pre> <pre><code>df2.reindex(pd.Categorical(['a', 'e'], categories=list('abcde')))\n\ndf2.reindex(pd.Categorical(['a', 'e'], categories=list('abcde'))).index\n</code></pre>"},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html#_6","title":"\u95f4\u9694\u7d22\u5f15","text":"<p>pandas\u5728 0.20.0 \u7248\u672c\u4e2d\u65b0\u52a0\u5165 <code>IntervalIndex</code>\u548c\u5b83\u81ea\u5df1\u7279\u6709\u7684<code>IntervalDtype</code>\u4ee5\u53ca <code>Interval</code> \u6807\u91cf\u7c7b\u578b\uff0c\u5728pandas\u4e2d\uff0c\u95f4\u9694\u6570\u636e\u662f\u83b7\u5f97\u5934\u7b49\u652f\u6301\u7684\u3002</p> <p><code>IntervalIndex</code>\u95f4\u9694\u7d22\u5f15\u5141\u8bb8\u4e00\u4e9b\u552f\u4e00\u7684\u7d22\u5f15\uff0c\u5e76\u4e14\u4e5f\u662f <code>cut()</code> \u548c<code>qcut()</code>\u7684\u8fd4\u56de\u7c7b\u578b</p>"},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html#_7","title":"\u4f7f\u7528 \u95f4\u9694\u7d22\u5f15 \u6765\u8fdb\u884c\u6570\u636e\u7d22\u5f15","text":"<pre><code>df = pd.DataFrame({'A': [1, 2, 3, 4]},\n                  index=pd.IntervalIndex.from_breaks([0, 1, 2, 3, 4]))\n\ndf\n</code></pre> <pre><code>        A\n(0, 1]  1\n(1, 2]  2\n(2, 3]  3\n(3, 4]  4\n</code></pre> <p>\u95f4\u9694\u7d22\u5f15\u4e5f\u53ef\u4ee5\u4f7f\u7528\u57fa\u4e8e\u6807\u7b7e\u7684\u7d22\u5f15<code>.loc</code>\uff1a</p> <pre><code># 2\u4f4d\u4e8e(1, 2]\u4e4b\u4e2d\ndf.loc[2]\n</code></pre> <pre><code>A    2\nName: (1, 2], dtype: int64\n</code></pre> <pre><code># 2\u4f4d\u4e8e(1, 2]\u4e4b\u4e2d  3\u4f4d\u4e8e(2, 3]\u4e4b\u4e2d\ndf.loc[[2, 3]]\n</code></pre> <pre><code>        A\n(1, 2]  2\n(2, 3]  3\n</code></pre> <p>\u5982\u679c\u6807\u7b7e\u88ab\u5305\u542b\u5728\u95f4\u9694\u5f53\u4e2d\uff0c\u8fd9\u4e2a\u95f4\u9694\u4e5f\u5c06\u4f1a\u88ab\u9009\u62e9</p> <pre><code>print(df.loc[2.5])\nprint(df.loc[[2.5, 3.5]])\n</code></pre> <pre><code>A    3\nName: (2, 3], dtype: int64\n        A\n(2, 3]  3\n(3, 4]  4\n</code></pre> <p>\u4f7f\u7528 <code>Interval</code>\u6765\u9009\u62e9\u6570\u636e\uff0c\u5c06\u53ea\u8fd4\u56de\u4e25\u683c\u5339\u914d\uff08\u4ecepandas0.25.0\u5f00\u59cb\uff09\u3002</p> <pre><code>df.loc[pd.Interval(1, 2)]\n</code></pre> <pre><code>A    2\nName: (1, 2], dtype: int64\n</code></pre> <p>\u8bd5\u56fe\u9009\u62e9\u4e00\u4e2a\u6ca1\u6709\u88ab\u4e25\u683c\u5305\u542b\u5728 <code>IntervalIndex</code> \u5185\u7684\u533a\u95f4<code>Interval</code>\uff0c\u5c06\u4f1a\u51fa\u53d1<code>KeyError</code>\u9519\u8bef\u3002</p> <pre><code>try:\n    df.loc[pd.Interval(0.5, 2.5)]\nexcept KeyError as e:\n    print('KeyError:', e)\n</code></pre> <pre><code>KeyError: Interval(0.5, 2.5, closed='right')\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528<code>overlaps()</code>\u6765\u521b\u5efa\u4e00\u4e2a\u5e03\u5c14\u9009\u62e9\u5668\uff0c\u6765\u9009\u4e2d\u6240\u6709\u4e0e\u7ed9\u5b9a\u533a\u95f4(<code>Interval</code>)\u91cd\u590d\u7684\u6240\u6709\u533a\u95f4\u3002</p> <pre><code>idxr = df.index.overlaps(pd.Interval(0.5, 2.5))\nprint(idxr)\nprint(df[idxr])\n</code></pre> <pre><code>[ True  True  True False]\n        A\n(0, 1]  1\n(1, 2]  2\n(2, 3]  3\n</code></pre>"},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html#cut-qcut","title":"\u4f7f\u7528 <code>cut</code> \u548c <code>qcut</code>\u6765\u4e3a\u6570\u636e\u5206\u5757","text":"<p><code>cut()</code> \u548c <code>qcut()</code> \u90fd\u5c06\u8fd4\u56de\u4e00\u4e2a\u5206\u7c7b<code>Categorical</code> \u5bf9\u8c61\uff0c\u5e76\u4e14\u6bcf\u4e2a\u5206\u5757\u533a\u57df\u90fd\u4f1a\u4ee5 \u5206\u7c7b\u7d22\u5f15<code>IntervalIndex</code>\u7684\u65b9\u5f0f\u88ab\u521b\u5efa\u5e76\u4fdd\u5b58\u5728\u5b83\u7684<code>.categories</code>\u5c5e\u6027\u4e2d\u3002</p> <pre><code>c = pd.cut(range(4), bins=2)\nprint(c)\nprint(c.categories)\n</code></pre> <pre><code>[(-0.003, 1.5], (-0.003, 1.5], (1.5, 3.0], (1.5, 3.0]]\nCategories (2, interval[float64]): [(-0.003, 1.5] &lt; (1.5, 3.0]]\nIntervalIndex([(-0.003, 1.5], (1.5, 3.0]],\n              closed='right',\n              dtype='interval[float64]')\n</code></pre> <p><code>cut()</code> \u4e5f\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a <code>IntervalIndex</code> \u4f5c\u4e3a\u4ed6\u7684 <code>bins</code> \u53c2\u6570\uff0c\u8fd9\u6837\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684pandas\u7684\u5199\u6cd5\u3002 \u9996\u5148\uff0c\u6211\u4eec\u8c03\u7528 <code>cut()</code> \u5728\u4e00\u4e9b\u6570\u636e\u4e0a\u9762\uff0c\u5e76\u4e14\u5c06 <code>bins</code>\u8bbe\u7f6e\u4e3a\u67d0\u4e00\u4e2a\u56fa\u5b9a\u7684\u6570 \uff0c\u4ece\u800c\u751f\u6210bins\u3002</p> <p>\u968f\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u5176\u4ed6\u7684\u6570\u636e\u4e0a\u8c03\u7528 <code>cut()</code>\uff0c\u5e76\u4f20\u5165<code>.categories</code> \u7684\u503c\uff0c\u4f5c\u4e3a <code>bins</code>\u53c2\u6570\u3002\u8fd9\u6837\u65b0\u7684\u6570\u636e\u5c31\u4e5f\u5c06\u4f1a\u88ab\u5206\u914d\u5230\u540c\u6837\u7684bins\u91cc\u9762</p> <pre><code>pd.cut([0, 3, 5, 1], bins=c.categories)\n</code></pre> <pre><code>[(-0.003, 1.5], (1.5, 3.0], NaN, (-0.003, 1.5]]\nCategories (2, interval[float64]): [(-0.003, 1.5] &lt; (1.5, 3.0]]\n</code></pre> <p>\u4efb\u4f55\u843d\u5728bins\u4e4b\u5916\u7684\u6570\u636e\u90fd\u5c06\u4f1a\u88ab\u8bbe\u4e3a <code>NaN</code></p>"},{"location":"Python3/pandas/9.4.%E7%B4%A2%E5%BC%95%E5%AF%B9%E8%B1%A1.html#_8","title":"\u751f\u6210\u4e00\u5b9a\u533a\u95f4\u5185\u7684\u95f4\u9694","text":"<p>\u5982\u679c\u6211\u4eec\u9700\u8981\u7ecf\u5e38\u5730\u4f7f\u7528\u6b65\u8fdb\u533a\u95f4\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>interval_range()</code> \u51fd\u6570\uff0c\u7ed3\u5408 <code>start</code>, <code>end</code>, \u548c <code>periods</code>\u6765\u5efa\u7acb\u4e00\u4e2a <code>IntervalIndex</code> \u5bf9\u4e8e\u6570\u503c\u578b\u7684\u95f4\u9694\uff0c\u9ed8\u8ba4\u7684 <code>interval_range</code>\u95f4\u9694\u9891\u7387\u662f1\uff0c\u5bf9\u4e8edatetime\u7c7b\u578b\u7684\u95f4\u9694\u5219\u662f\u65e5\u5386\u65e5\u3002</p> <pre><code>pd.interval_range(start=0, end=5)\n\npd.interval_range(start=pd.Timestamp('2017-01-01'), periods=4)\n\npd.interval_range(end=pd.Timedelta('3 days'), periods=3)\n</code></pre> <pre><code>IntervalIndex([(0 days 00:00:00, 1 days 00:00:00], (1 days 00:00:00, 2\ndays 00:00:00], (2 days 00:00:00, 3 days 00:00:00]],\n              closed='right',\n              dtype='interval[timedelta64[ns]]')\n</code></pre> <p><code>freq</code> \u53c2\u6570\u53ef\u4ee5\u88ab\u7528\u6765\u660e\u786e\u975e\u9ed8\u8ba4\u7684\u9891\u7387\uff0c\u5e76\u4e14\u53ef\u4ee5\u5145\u5206\u5730\u5229\u7528\u5404\u79cd\u5404\u6837\u7684 frequency aliasesdatetime\u7c7b\u578b\u7684\u65f6\u95f4\u95f4\u9694\u3002</p> <pre><code>pd.interval_range(start=0, periods=5, freq=1.5)\n\npd.interval_range(start=pd.Timestamp('2017-01-01'), periods=4, freq='W')\n\npd.interval_range(start=pd.Timedelta('0 days'), periods=3, freq='9H')\n</code></pre> <pre><code>IntervalIndex([(0 days 00:00:00, 0 days 09:00:00], (0 days 09:00:00, 0\ndays 18:00:00], (0 days 18:00:00, 1 days 03:00:00]],\n              closed='right',\n              dtype='interval[timedelta64[ns]]')\n</code></pre> <p>\u6b64\u5916\uff0c <code>closed</code> \u53c2\u6570\u53ef\u4ee5\u7528\u6765\u58f0\u660e\u54ea\u4e2a\u8fb9\u754c\u662f\u5305\u542b\u7684\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u95f4\u9694\u7684\u53f3\u754c\u662f\u5305\u542b\u7684\u3002</p> <pre><code>pd.interval_range(start=0, end=4, closed='both')\n\npd.interval_range(start=0, end=4, closed='neither')\n</code></pre> <pre><code>IntervalIndex([(0, 1), (1, 2), (2, 3), (3, 4)],\n              closed='neither',\n              dtype='interval[int64]')\n</code></pre> <p>0.23.0\u7248\u672c\u52a0\u5165\u7684\u529f\u80fd</p> <p>\u4f7f\u7528<code>start</code>, <code>end</code>, \u548c <code>periods</code>\u53ef\u4ee5\u4ece <code>start</code> \u5230 <code>end</code>\uff08\u5305\u542b\uff09\u751f\u6210\u4e00\u4e2a\u5e73\u5747\u5206\u914d\u7684\u95f4\u9694\uff0c\u5728\u8fd4\u56de<code>IntervalIndex</code>\u4e2d\u751f\u6210<code>periods</code>\u8fd9\u4e48\u591a\u7684\u5143\u7d20\uff08\u8bd1\u8005\uff1a\u533a\u95f4\uff09\u3002</p> <pre><code>pd.interval_range(start=0, end=6, periods=4)\n\npd.interval_range(pd.Timestamp('2018-01-01'),\n                  pd.Timestamp('2018-02-28'), periods=3)\n</code></pre> <pre><code>IntervalIndex([(2018-01-01, 2018-01-20 08:00:00], (2018-01-20\n08:00:00, 2018-02-08 16:00:00], (2018-02-08 16:00:00, 2018-02-28]],\n              closed='right',\n              dtype='interval[datetime64[ns]]')\n</code></pre>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html","title":"9.5.\u9009\u62e9\u6570\u636e\u8fdb\u9636","text":"<pre><code>from toolkit import H\nimport numpy as np\nimport pandas as pd\nimport pprint\n</code></pre> <pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.04.18\npandas version:  1.2.2\nnumpy version:  1.20.1\n</code></pre>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#_1","title":"\u521b\u5efa\u7d22\u5f15\u548c\u793a\u4f8b\u6570\u636e","text":"Create indexoutput <pre><code>def mklbl(prefix, n):\n    return ['%s%s' % (prefix, i) for i in range(n)]\n\n\nmiindex = pd.MultiIndex.from_product([mklbl('A', 4),\n                                      mklbl('B', 2),\n                                      mklbl('C', 4),\n                                      mklbl('D', 2)])\n\nmicolumns = pd.MultiIndex.from_tuples([('a', 'foo'),\n                                       ('a', 'bar'),\n                                       ('b', 'foo'),\n                                       ('b', 'bah')],\n                                      names=['lvl0', 'lvl1'])\n\nprint(miindex, '\\n')\nprint(micolumns, '\\n')\n</code></pre> <pre><code>MultiIndex([('A0', 'B0', 'C0', 'D0'),\n            ('A0', 'B0', 'C0', 'D1'),\n            ('A0', 'B0', 'C1', 'D0'),\n            ('A0', 'B0', 'C1', 'D1'),\n            ('A0', 'B0', 'C2', 'D0'),\n            ('A0', 'B0', 'C2', 'D1'),\n            ('A0', 'B0', 'C3', 'D0'),\n            ('A0', 'B0', 'C3', 'D1'),\n            ('A0', 'B1', 'C0', 'D0'),\n            ('A0', 'B1', 'C0', 'D1'),\n            ('A0', 'B1', 'C1', 'D0'),\n            ('A0', 'B1', 'C1', 'D1'),\n            ('A0', 'B1', 'C2', 'D0'),\n            ('A0', 'B1', 'C2', 'D1'),\n            ('A0', 'B1', 'C3', 'D0'),\n            ('A0', 'B1', 'C3', 'D1'),\n            ('A1', 'B0', 'C0', 'D0'),\n            ('A1', 'B0', 'C0', 'D1'),\n            ('A1', 'B0', 'C1', 'D0'),\n            ('A1', 'B0', 'C1', 'D1'),\n            ('A1', 'B0', 'C2', 'D0'),\n            ('A1', 'B0', 'C2', 'D1'),\n            ('A1', 'B0', 'C3', 'D0'),\n            ('A1', 'B0', 'C3', 'D1'),\n            ('A1', 'B1', 'C0', 'D0'),\n            ('A1', 'B1', 'C0', 'D1'),\n            ('A1', 'B1', 'C1', 'D0'),\n            ('A1', 'B1', 'C1', 'D1'),\n            ('A1', 'B1', 'C2', 'D0'),\n            ('A1', 'B1', 'C2', 'D1'),\n            ('A1', 'B1', 'C3', 'D0'),\n            ('A1', 'B1', 'C3', 'D1'),\n            ('A2', 'B0', 'C0', 'D0'),\n            ('A2', 'B0', 'C0', 'D1'),\n            ('A2', 'B0', 'C1', 'D0'),\n            ('A2', 'B0', 'C1', 'D1'),\n            ('A2', 'B0', 'C2', 'D0'),\n            ('A2', 'B0', 'C2', 'D1'),\n            ('A2', 'B0', 'C3', 'D0'),\n            ('A2', 'B0', 'C3', 'D1'),\n            ('A2', 'B1', 'C0', 'D0'),\n            ('A2', 'B1', 'C0', 'D1'),\n            ('A2', 'B1', 'C1', 'D0'),\n            ('A2', 'B1', 'C1', 'D1'),\n            ('A2', 'B1', 'C2', 'D0'),\n            ('A2', 'B1', 'C2', 'D1'),\n            ('A2', 'B1', 'C3', 'D0'),\n            ('A2', 'B1', 'C3', 'D1'),\n            ('A3', 'B0', 'C0', 'D0'),\n            ('A3', 'B0', 'C0', 'D1'),\n            ('A3', 'B0', 'C1', 'D0'),\n            ('A3', 'B0', 'C1', 'D1'),\n            ('A3', 'B0', 'C2', 'D0'),\n            ('A3', 'B0', 'C2', 'D1'),\n            ('A3', 'B0', 'C3', 'D0'),\n            ('A3', 'B0', 'C3', 'D1'),\n            ('A3', 'B1', 'C0', 'D0'),\n            ('A3', 'B1', 'C0', 'D1'),\n            ('A3', 'B1', 'C1', 'D0'),\n            ('A3', 'B1', 'C1', 'D1'),\n            ('A3', 'B1', 'C2', 'D0'),\n            ('A3', 'B1', 'C2', 'D1'),\n            ('A3', 'B1', 'C3', 'D0'),\n            ('A3', 'B1', 'C3', 'D1')],\n           )\n\nMultiIndex([('a', 'foo'),\n            ('a', 'bar'),\n            ('b', 'foo'),\n            ('b', 'bah')],\n           names=['lvl0', 'lvl1'])\n</code></pre> <pre><code># Create DataFrame\ndfmi = pd.DataFrame(np.arange(len(miindex) * len(micolumns)).\n                    reshape((len(miindex), len(micolumns))),\n                    index=miindex,\n                    columns=micolumns).sort_index().sort_index(axis=1)\nprint(dfmi)\n</code></pre> <pre><code>lvl0           a         b\nlvl1         bar  foo  bah  foo\nA0 B0 C0 D0    1    0    3    2\n         D1    5    4    7    6\n      C1 D0    9    8   11   10\n         D1   13   12   15   14\n      C2 D0   17   16   19   18\n...          ...  ...  ...  ...\nA3 B1 C1 D1  237  236  239  238\n      C2 D0  241  240  243  242\n         D1  245  244  247  246\n      C3 D0  249  248  251  250\n         D1  253  252  255  254\n\n[64 rows x 4 columns]\n</code></pre> <p>\u53ea\u6709\u6807\u7b7e\u503c\u7d22\u5f15\u5177\u6709\u591a\u5c42\u7ea7\u7ed3\u6784\uff0c\u5373\u6574\u6570\u503c\u7d22\u5f15\u6ca1\u6709\u591a\u7ea7\u7ed3\u6784\uff0c<code>iloc/iat</code>\u4e0d\u652f\u6301\u591a\u7ea7\u7d22\u5f15\u3002\u591a\u7ea7\u7d22\u5f15\u7684\u4f7f\u7528\u8ba9\u7d22\u5f15\u8bed\u6cd5\u53d8\u5f97\u590d\u6742\uff0c\u4f46\u603b\u7684\u6765\u8bf4\uff0c\u5176\u7d22\u5f15\u79cd\u7c7b\u53ef\u4ee5\u5206\u4e3a\u5982\u4e0b\u51e0\u79cd\uff1a</p> <ol> <li>\u6807\u91cf\uff1a\u5355\u4e2a\u6807\u7b7e\u5143\u7ec4\uff1a<ul> <li>\u7701\u7565\u9760\u540e\u5c42\u7ea7\uff1a<code>(\"A0\", \"B1\")</code></li> <li>\u5305\u542b\u5b8c\u6574\u5c42\u7ea7\uff1a<code>(\"A0\", \"B1\", \"C1\", \"D0\")</code></li> </ul> </li> <li> <p>\u5e8f\u5217</p> <ul> <li>\u975e\u91cd\u590d\u7684\u7b2c\u4e00\u5c42\u7ea7\u6807\u7b7e\u5e8f\u5217\uff1a<ul> <li><code>[\"A0\", \"A1\", \"A2\"]</code></li> <li><code>np.array([\"A0\", \"A1\", \"A2\"])</code></li> </ul> </li> <li>\u5b8c\u6574\u5c42\u7ea7\u7684\u6807\u7b7e\u5143\u7ec4\u5e8f\u5217\uff1a<ul> <li><code>[(\"A0\", \"B1\", \"C1\", \"D0\"), (\"A0\", \"B0\", \"C0\", \"D1\")]</code></li> <li><code>[[\"A0\", \"B1\", \"C1\", \"D0\"], [\"A0\", \"B0\", \"C0\", \"D1\"]]</code></li> <li><code>[np.array([\"A0\", \"B1\", \"C1\", \"D0\"]), np.array([\"A0\", \"B0\", \"C0\", \"D1\"])]</code></li> </ul> </li> <li>\u5d4c\u5957\u5728\u5355\u4e2a\u6807\u7b7e\u5143\u7ec4\u5185\u7684\u5355\u5c42\u7ea7\u6807\u7b7e\u5e8f\u5217\uff1a<code>(\"A0\", [\"B0\", \"B1\"], [\"C0\", \"C1\"])</code></li> </ul> </li> <li> <p>\u5207\u7247</p> </li> </ol> <p>\u540c\u4e00\u8f74\u7684\u591a\u7ea7\u7d22\u4f7f\u7528\u8fd0\u7b97\u7b26<code>()</code>\u62ec\u8d77\u6765\uff0c\u8fd9\u8868\u793a\u4e00\u4e2a\u5143\u7ec4\u3002</p> <pre><code>dfmi.loc[(\"A0\", \"B1\", \"C1\")]  # \u7701\u7565\u7b2c\u56db\u5c42\u7d22\u5f15\n</code></pre> <pre><code>lvl0   a       b\nlvl1 bar foo bah foo\nD0    41  40  43  42\nD1    45  44  47  46\n</code></pre> <p>\u5b9e\u9645\u4e0a\uff0c<code>loc</code>\u9ed8\u8ba4\u9009\u62e9\u884c\uff0c\u53ef\u4ee5\u7701\u7565\u5217\u7d22\u5f15\uff0c\u800c\u7d22\u5f15\u8fd0\u7b97\u7b26<code>[]</code>\u53ea\u80fd\u9009\u62e9\u884c\u6216\u5217\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u53ea\u4f7f\u7528\u201c\u5355\u4e2a\u6807\u7b7e\u5143\u7ec4\u201d\uff0c\u5219<code>loc/[]</code>\u53ef\u4ee5\u7701\u7565\u62ec\u53f7<code>()</code>\uff1b\u82e5\u5217\u7d22\u5f15\u4e0d\u7701\u7565\uff0c<code>loc</code>\u7684\u591a\u7ea7\u884c\u7d22\u5f15\u4e0d\u80fd\u7701\u7565\u62ec\u53f7<code>()</code>\uff1a</p> <pre><code>print(dfmi.loc[\"A0\", \"B1\", \"C1\"])\nprint()\ntry:\n    dfmi.loc[\"A0\", [\"B0\", \"B1\"], [\"C0\"], \"a\"]\nexcept KeyError as e:\n    print(f\"KeyError: {e}\")\n</code></pre> <pre><code>lvl0   a       b\nlvl1 bar foo bah foo\nD0    41  40  43  42\nD1    45  44  47  46\n\nKeyError: 'a'\n</code></pre> <p><code>at</code>\u7528\u4e8e\u9009\u62e9\u6807\u91cf\uff0c\u867d\u7136\u5176\u8fd4\u56de\u7684\u4e0d\u4e00\u5b9a\u662f\u6807\u91cf\uff0c\u4f46\u5fc5\u987b\u4f7f\u7528\u5b8c\u6574\u7684\u591a\u7ea7\u7d22\u5f15\uff1a</p> <pre><code>dfmi.at[(\"A0\", \"B1\", \"C0\", \"D0\"), (\"a\", \"foo\")]\n</code></pre> <pre><code>32\n</code></pre> <p>\u4f7f\u7528\u201c\u5355\u4e2a\u6807\u7b7e\u5143\u7ec4\u201d\u65f6\uff0c<code>loc/[]</code>\u53ea\u80fd\u7701\u7565\u9760\u540e\u5c42\u7ea7\u7684\u7d22\u5f15\uff0c\u4e0d\u80fd\u7701\u7565\u524d\u9762\u5c42\u7ea7\u7684\u7d22\u5f15\uff0c\u4f8b\u5982\u4e0b\u9762\u524d 4 \u884c\u4ee3\u7801\u90fd\u662f\u9519\u8bef\u7684\uff1a</p> <pre><code>dfmi.loc[, \"B1\", \"C1\"]              # SyntaxError\ndfmi.loc[(:, \"B1\", \"C1\")]           # SyntaxError\ndfmi.loc[\"B1\", \"C1\"]                # KeyError: 'B1'\ndfmi[\"foo\"]                         # KeyError: 'foo'\ndfmi.loc[slice(None), \"B1\", \"C1\"]   # \u221a\ndfmi[\"a\"]                           # \u221a\n</code></pre> <p>\u5bf9\u4e8e<code>loc</code>\uff0c\u5982\u679c\u201c\u5355\u4e2a\u6807\u7b7e\u5143\u7ec4\u201d\u5185\u5d4c\u5e8f\u5217\u7d22\u5f15\uff0c\u4e14\u7701\u7565\u5217\u7d22\u5f15\uff0c\u5728\u5982\u4e0b\u7279\u6b8a\u60c5\u51b5\u4e2d\uff0c\u4e0d\u80fd\u7701\u7565\u62ec\u53f7<code>()</code>\uff1a</p> inputoutput <pre><code># Is actually interpreted as dfmi.loc[\"A0\", [\"B0\", \"B1\"]]\ntry:\n    dfmi.loc[(\"A0\", [\"B0\", \"B1\"])]\nexcept KeyError as e:\n    print(e)\n\n# The correct syntax is as follows\nprint(dfmi.loc[(\"A0\", [\"B0\", \"B1\"]), ])\n# If the used index level more than 2, can omit `()`\nprint(dfmi.loc[\"A0\", [\"B0\", \"B1\"], [\"C0\"]])\n</code></pre> <pre><code>\"['B0' 'B1'] not in index\"\nlvl0          a       b\nlvl1        bar foo bah foo\nA0 B0 C0 D0   1   0   3   2\n         D1   5   4   7   6\n      C1 D0   9   8  11  10\n         D1  13  12  15  14\n      C2 D0  17  16  19  18\n         D1  21  20  23  22\n      C3 D0  25  24  27  26\n         D1  29  28  31  30\n   B1 C0 D0  33  32  35  34\n         D1  37  36  39  38\n      C1 D0  41  40  43  42\n         D1  45  44  47  46\n      C2 D0  49  48  51  50\n         D1  53  52  55  54\n      C3 D0  57  56  59  58\n         D1  61  60  63  62\nlvl0          a       b\nlvl1        bar foo bah foo\nA0 B0 C0 D0   1   0   3   2\n         D1   5   4   7   6\n   B1 C0 D0  33  32  35  34\n         D1  37  36  39  38\n</code></pre> <p>\u5982\u679c\u201c\u5e8f\u5217\u7d22\u5f15\u201d\u975e\u5d4c\u5957\u5728\u201c\u5355\u4e2a\u6807\u7b7e\u5143\u7ec4\u201d\u5185\uff0c\u5176\u5143\u7d20\u8981\u4e48\u662f \u540c\u4e00\u5c42\u7ea7\u4e14\u975e\u91cd\u590d\u7684\u6807\u7b7e\u6807\u91cf\uff0c\u8981\u4e48\u662f\u5b8c\u6574\u7684\u591a\u7ea7\u7d22\u5f15\u3002</p> <pre><code># Label scalar\ndfmi.loc[np.array([\"A0\", \"B1\"])]  # KeyError: \"['B1'] not in index\"\ndfmi[np.array([\"a\", \"foo\"])]      # KeyError: \"['foo'] not in index\"\ndfmi.loc[[\"A0\", \"A1\"]]            # \u221a\ndfmi[[\"a\", \"b\"]]                  # \u221a\n</code></pre> <p>\u5728\u201c\u5e8f\u5217\u7d22\u5f15\u201d\u4e2d\u4f7f\u7528\u5c42\u7ea7\u7d22\u5f15\u65f6\uff0c\u5b8c\u6574\u7684\u5c42\u7ea7\u7d22\u5f15\u53ef\u4ee5\u5305\u88f9\u5728\u5e8f\u5217<code>()/[]/array</code>\u4e4b\u4e2d\u3002</p> <pre><code># Full multi-level index\ndfmi[[ [\"a\", \"foo\"], [\"a\", \"bar\"] ]]                      # \u221a\ndfmi[[ np.array([\"a\", \"foo\"]), np.array([\"a\", \"bar\"]) ]]  # \u221a\ndfmi.loc[[ [\"A0\", \"B0\", \"C0\", \"D0\"] ]]                    # \u221a\ndfmi.loc[[ (\"A0\", \"B0\", \"C0\", \"D0\") ]]                    # \u221a\n\ntry:\n    dfmi.loc[[ (\"A0\", \"B0\", \"C0\") ]]\nexcept ValueError as e:\n    print(e)\n</code></pre> <pre><code>operands could not be broadcast together with shapes (1,3) (4,) (1,3)\n</code></pre>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#_2","title":"\u4f7f\u7528\u5207\u7247","text":""},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#slice","title":"slice","text":"inputoutput <pre><code>dfmi.loc[(slice('A1', 'A3'), slice(None), ['C1', 'C3']), :]\ndfmi.loc['A1', (slice(None), 'foo')]\n</code></pre> <pre><code>lvl0        a    b\nlvl1      foo  foo\nB0 C0 D0   64   66\n      D1   68   70\n   C1 D0   72   74\n      D1   76   78\n   C2 D0   80   82\n      D1   84   86\n   C3 D0   88   90\n      D1   92   94\nB1 C0 D0   96   98\n      D1  100  102\n   C1 D0  104  106\n      D1  108  110\n   C2 D0  112  114\n      D1  116  118\n   C3 D0  120  122\n      D1  124  126\n</code></pre>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#indexslice","title":"IndexSlice","text":"inputoutput <pre><code>idx = pd.IndexSlice\ndfmi.loc[idx[:, :, ['C1', 'C3']], idx[:, 'foo']]\n</code></pre> <pre><code>lvl0           a    b\nlvl1         foo  foo\nA0 B0 C1 D0    8   10\n         D1   12   14\n      C3 D0   24   26\n         D1   28   30\n   B1 C1 D0   40   42\n         D1   44   46\n      C3 D0   56   58\n         D1   60   62\nA1 B0 C1 D0   72   74\n         D1   76   78\n      C3 D0   88   90\n         D1   92   94\n   B1 C1 D0  104  106\n         D1  108  110\n      C3 D0  120  122\n         D1  124  126\nA2 B0 C1 D0  136  138\n         D1  140  142\n      C3 D0  152  154\n         D1  156  158\n   B1 C1 D0  168  170\n         D1  172  174\n      C3 D0  184  186\n         D1  188  190\nA3 B0 C1 D0  200  202\n         D1  204  206\n      C3 D0  216  218\n         D1  220  222\n   B1 C1 D0  232  234\n         D1  236  238\n      C3 D0  248  250\n         D1  252  254\n</code></pre>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#lociloc","title":"\u7ed9 <code>loc</code>\u6216<code>iloc</code> \u6307\u5b9a\u8f74\u53c2\u6570","text":"<p><code>loc</code>\u9ed8\u8ba4\u5bf9\u884c\u8fdb\u884c\u7d22\u5f15\uff0c\u4f46\u4e5f\u53ef\u4ee5\u5bf9\u5176\u6307\u5b9a<code>axis</code>\u53c2\u6570\uff0c\u6307\u5b9a\u9700\u8981\u7d22\u5f15\u7684\u8f74\u3002\u5f53\u5b58\u5728\u591a\u7ea7\u7d22\u5f15\uff0c\u6216\u8005\u60f3\u663e\u5f0f\u6307\u5b9a\u9700\u8981\u7d22\u5f15\u7684\u8f74\u65f6\u6bd4\u8f83\u6709\u7528\u3002</p> inputoutput <pre><code>print(dfmi.loc(axis=0)[:, :, ['C1', 'C3']])\nprint(dfmi.loc(axis=1)['a'])\n</code></pre> <pre><code>lvl0           a         b\nlvl1         bar  foo  bah  foo\nA0 B0 C1 D0    9    8   11   10\n         D1   13   12   15   14\n      C3 D0   25   24   27   26\n         D1   29   28   31   30\n   B1 C1 D0   41   40   43   42\n         D1   45   44   47   46\n      C3 D0   57   56   59   58\n         D1   61   60   63   62\nA1 B0 C1 D0   73   72   75   74\n         D1   77   76   79   78\n      C3 D0   89   88   91   90\n         D1   93   92   95   94\n   B1 C1 D0  105  104  107  106\n         D1  109  108  111  110\n      C3 D0  121  120  123  122\n         D1  125  124  127  126\nA2 B0 C1 D0  137  136  139  138\n         D1  141  140  143  142\n      C3 D0  153  152  155  154\n         D1  157  156  159  158\n   B1 C1 D0  169  168  171  170\n         D1  173  172  175  174\n      C3 D0  185  184  187  186\n         D1  189  188  191  190\nA3 B0 C1 D0  201  200  203  202\n         D1  205  204  207  206\n      C3 D0  217  216  219  218\n         D1  221  220  223  222\n   B1 C1 D0  233  232  235  234\n         D1  237  236  239  238\n      C3 D0  249  248  251  250\n         D1  253  252  255  254\nlvl1         bar  foo\nA0 B0 C0 D0    1    0\n         D1    5    4\n      C1 D0    9    8\n         D1   13   12\n      C2 D0   17   16\n...          ...  ...\nA3 B1 C1 D1  237  236\n      C2 D0  241  240\n         D1  245  244\n      C3 D0  249  248\n         D1  253  252\n\n[64 rows x 2 columns]\n</code></pre>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#_3","title":"\u5e03\u5c14\u7d22\u5f15","text":"<p>\u5e03\u5c14\u7d22\u5f15\u7ecf\u5e38\u4f1a\u7528\u5230\uff0c\u4f8b\u5982\u60f3\u627e\u51faDataFrame\u4e2d\u5927\u4e8e\u3001\u5c0f\u4e8e\u6216\u7b49\u4e8e\u67d0\u503c\u7684\u6240\u6709\u5143\u7d20\uff1a</p> <pre><code>mask = dfmi[('a', 'foo')] &gt; 200\ndfmi.loc[idx[mask, :, ['C1', 'C3']], idx[:, 'foo']]\n</code></pre> <pre><code>lvl0           a    b\nlvl1         foo  foo\nA3 B0 C1 D1  204  206\n      C3 D0  216  218\n         D1  220  222\n   B1 C1 D0  232  234\n         D1  236  238\n      C3 D0  248  250\n         D1  252  254\n</code></pre> <p>\u53ef\u4ee5\u5bf9\u5e03\u5c14\u7d22\u5f15\u6267\u884c\u5e76\u3001\u6216\u3001\u975e\u8fd0\u7b97\uff0c\u4ece\u800c\u5f97\u5230\u590d\u6742\u7684\u8fc7\u6ee4\u6761\u4ef6</p> <pre><code>s = pd.Series(range(-3, 4))\nprint(s[(s &lt; -1) | (s &gt; 0.5)])\nprint(s[~((s &lt; -1) | (s &gt; 0.5))])\n</code></pre> <pre><code>0   -3\n1   -2\n4    1\n5    2\n6    3\ndtype: int64\n2   -1\n3    0\ndtype: int64\n</code></pre> <p>\u4f7f\u7528\u5217\u8868\u63a8\u5bfc\u5f0f\u548c<code>map</code>\u51fd\u6570\u53ef\u4ea7\u751f\u66f4\u590d\u6742\u7684\u6761\u4ef6\uff1a</p> <pre><code>df2 = pd.DataFrame({'a': ['one', 'one', 'two', 'three', 'two', 'one', 'six'],\n                    'b': ['x', 'y', 'y', 'x', 'y', 'x', 'x'],\n                    'c': np.random.randn(7)})\n\n# only want 'two' or 'three'\ncriterion = df2['a'].map(lambda x: x.startswith('t'))\nprint(df2[criterion])\n\n# equivalent but slower\nprint(df2[[x.startswith('t') for x in df2['a']]])\n\n# Multiple criteria\nprint(df2[criterion &amp; (df2['b'] == 'x')])\n</code></pre> <pre><code>       a  b         c\n2    two  y  0.818708\n3  three  x  1.481461\n4    two  y  0.243370\n       a  b         c\n2    two  y  0.818708\n3  three  x  1.481461\n4    two  y  0.243370\n       a  b         c\n3  three  x  1.481461\n</code></pre>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#wheremask","title":"<code>where/mask</code>\u65b9\u6cd5","text":"<p>\u5e03\u5c14\u7d22\u5f15\u8fd4\u56de\u7684\u7ed3\u679c\u901a\u5e38\u662f\u6570\u636e\u7684\u5b50\u96c6\uff1a</p> <pre><code>ser = pd.Series([2, 2, 3])\nprint(ser[ser &gt; 2])\n</code></pre> <pre><code>2    3\ndtype: int64\n</code></pre> <p>\u73b0\u5728\u5e03\u5c14\u7d22\u5f15\u5728DataFrame\u4e0a\u8fd4\u56de\u7684\u7ed3\u679c\u548c\u539f\u59cb\u6570\u636e\u5177\u6709\u76f8\u540c\u7684\u5f62\u72b6\uff1a</p> <pre><code>df = pd.DataFrame({\"a\": [4, 2, 3],\n                   \"b\": [4, 3, 1]})\nprint(df[df &gt;= 4])\n</code></pre> <pre><code>     a    b\n0  4.0  4.0\n1  NaN  NaN\n2  NaN  NaN\n</code></pre> <p>\u8fd9\u662f\u901a\u8fc7<code>where</code>\u65b9\u6cd5\u5b9e\u73b0\u7684\uff0c\u5b9e\u9645\u4e0a\u7b49\u6548\u4e8e<code>df.where[df &gt;= 4]</code>\u3002\u4e3a\u4e86\u786e\u4fdd\u5e03\u5c14\u7d22\u5f15\u7684\u8f93\u51fa\u4e0e\u539f\u59cb\u6570\u636e\u5177\u6709\u76f8\u540c\u7684\u5f62\u72b6\uff0c\u53ef\u4ee5\u4f7f\u7528<code>where</code>\u65b9\u6cd5\uff1a</p> <pre><code>ser.where(ser &gt; 2)\n</code></pre> <pre><code>0    NaN\n1    NaN\n2    3.0\ndtype: float64\n</code></pre> <p><code>where</code>\u65b9\u6cd5\u8fd8\u6709\u51e0\u4e2a\u53ef\u9009\u53c2\u6570\uff1a</p> <pre><code>df.where(cond, other=nan, inplace=False, axis=None, level=None,\n         errors='raise', try_cast=False)\n</code></pre> <ul> <li><code>other</code>\uff1a<code>cond</code>\u4e3a<code>False</code>\u7684\u6761\u76ee\u5c06\u88ab\u66ff\u6362\u4e3a<code>other</code>\u3002\u5982\u679c<code>other</code>\u662f\u53ef\u8c03\u7528\u7684\uff0c\u5219\u5728DataFrame\u4e0a\u5bf9\u5176\u8fdb\u884c\u8ba1\u7b97\uff0c\u5e76\u5e94\u8fd4\u56de\u6807\u91cf\u6216DataFrame\u3002\u53ef\u8c03\u7528\u5bf9\u8c61\u4e0d\u5f97\u66f4\u6539DataFrame\uff08\u5c3d\u7ba1pandas\u4e0d\u4f1a\u5bf9\u5176\u8fdb\u884c\u68c0\u67e5\uff09\u3002</li> </ul> <p><code>mask</code>\u65b9\u6cd5\u662f\u7684<code>where</code>\u7684\u9006\u5e03\u5c14\u8fd0\u7b97\uff0c\u5b83\u548c<code>where</code>\u65b9\u6cd5\u5177\u6709\u76f8\u540c\u7684\u53c2\u6570\u3002</p> <pre><code>ser.mask(ser &gt; 2)\n</code></pre> <pre><code>0    2.0\n1    2.0\n2    NaN\ndtype: float64\n</code></pre>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#isin","title":"<code>isin</code>\u65b9\u6cd5","text":"<p>Series\u3001DataFrame\u3001Index\u90fd\u6709<code>.isin</code>\u65b9\u6cd5\u3002<code>.isin</code>\u65b9\u6cd5\u63a5\u53d7\u6570\u7ec4\u6216\u5b57\u5178\u4f5c\u4e3a\u53c2\u6570\u3002\u5982\u679c\u53c2\u6570\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u5219<code>isin</code>\u8fd4\u56de\u4e0e\u539f\u59cbDataFrame\u5f62\u72b6\u76f8\u540c\u7684\u5e03\u5c14DataFrame\u3002</p> <pre><code>df = pd.DataFrame({'vals': [1, 2, 3, 4],\n                   'ids': ['a', 'b', 'f', 'n'],\n                   'ids2': ['a', 'n', 'c', 'n']})\n\nvalues = ['a', 'b', 1, 3]\ndf.isin(values)\n</code></pre> <pre><code>    vals    ids   ids2\n0   True   True   True\n1  False   True  False\n2   True  False  False\n3  False  False  False\n</code></pre> <p>\u6709\u65f6\u9700\u8981\u5c06\u67d0\u4e9b\u503c\u4e0e\u67d0\u4e9b\u5217\u5339\u914d\u3002\u6b64\u65f6\uff0c\u5219\u9700\u8981\u5c06dict\u4f5c\u4e3a<code>.isin</code>\u65b9\u6cd5\u7684\u53c2\u6570\u3002\u8be5\u5b57\u5178\u7684\u952e\u4e3a\u5217\u6807\u7b7e\uff0c\u5176\u503c\u4e3a\u8981\u68c0\u67e5\u7684\u5143\u7d20\u5217\u8868\u3002</p> <pre><code>values = {'ids': ['a', 'b'], 'vals': [1, 3]}\ndf.isin(values)\n</code></pre> <pre><code>    vals    ids   ids2\n0   True   True  False\n1  False   True  False\n2   True  False  False\n3  False  False  False\n</code></pre>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#xs","title":"<code>xs</code>\u65b9\u6cd5\uff1a\u9009\u53d6\u6a2a\u622a\u9762\u6570\u636e","text":"<pre><code>pd.DataFrame.xs(self, key, axis=0, level=None, drop_level=True)\n</code></pre> <p><code>DataFrame</code> \u7684<code>xs()</code>\u65b9\u6cd5\u53ef\u4ee5\u65b9\u4fbf\u5730\u57280\u8f74\u62161\u8f74\u7684\u591a\u7ea7\u7d22\u5f15\u4e2d\u7684\u67d0\u4e00\u4e2a\u5c42\u7ea7\u8fdb\u884c\u6570\u636e\u7684\u9009\u53d6\u3002<code>xs</code>\u65b9\u6cd5\u5b9e\u9645\u4e0a\u4e5f\u53ef\u4ee5\u4f5c\u7528\u4e0e\u5355\u5c42\u7d22\u5f15\uff0c\u4f46\u4e00\u822c\u4e0d\u4f1a\u8fd9\u6837\u4f7f\u7528\u3002\u4e0e<code>loc</code>\u3001<code>iloc</code>\u65b9\u6cd5\u4e0d\u540c\uff0c<code>xs</code>\u65b9\u6cd5\u53ea\u8fd4\u56de\u503c\uff0c\u4e0d\u80fd\u7528\u4e8e\u8d4b\u503c\u3002</p> <pre><code>df = dfmi.loc[(\"A0\", \"B0\", [\"C0\", \"C1\"])]\ndf\n</code></pre> <pre><code>lvl0          a       b\nlvl1        bar foo bah foo\nA0 B0 C0 D0   1   0   3   2\n         D1   5   4   7   6\n      C1 D0   9   8  11  10\n         D1  13  12  15  14\n</code></pre> <p><code>.xs</code>\u65b9\u6cd5\u9ed8\u8ba4<code>axis=0</code>\uff1a</p> <pre><code>df.xs('bar', level='lvl1', axis=1)\n</code></pre> <pre><code>lvl0          a\nA0 B0 C0 D0   1\n         D1   5\n      C1 D0   9\n         D1  13\n</code></pre> <pre><code>df.xs(('a', 'bar'), level=('lvl0', 'lvl1'), axis=1)\n</code></pre> <pre><code>lvl0          a\nlvl1        bar\nA0 B0 C0 D0   1\n         D1   5\n      C1 D0   9\n         D1  13\n</code></pre> <p><code>.xs</code>\u65b9\u6cd5\u9ed8\u8ba4<code>drop_level=False</code>\uff1a</p> <pre><code>df.xs('a', level='lvl0', axis=1, drop_level=False)\n</code></pre> <pre><code>lvl0          a\nlvl1        bar foo\nA0 B0 C0 D0   1   0\n         D1   5   4\n      C1 D0   9   8\n         D1  13  12\n</code></pre> <pre><code>df.xs('a', level='lvl0', axis=1, drop_level=True)\n</code></pre> <pre><code>lvl1         bar  foo\nA0 B0 C0 D0    1    0\n         D1    5    4\n      C1 D0    9    8\n         D1   13   12\n</code></pre>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#queryquery-the-columns-with-boolean-expression","title":"<code>query</code>\u65b9\u6cd5\uff1aQuery the columns with boolean expression","text":"<p><code>query</code>\u65b9\u6cd5\u5141\u8bb8DataFrame\u5bf9\u8c61\u5177\u6709\u4f7f\u7528\u8868\u8fbe\u5f0f\u9009\u62e9\u5217\u6570\u636e\u3002<code>query</code>\u65b9\u6cd5\u76ee\u524d\u4f7f\u7528\u4e24\u79cd\u540e\u7aef\u6267\u884c\u8868\u8fbe\u5f0f\uff1a\u7eafPython\u3001numexpr\u3002</p> <pre><code>df.query(expr, inplace=False, kwargs)\n</code></pre> queryresult <pre><code>df = pd.DataFrame(np.random.rand(8, 3), columns=list('abc'))\nprint(df[(df['a'] &lt; df['b']) &amp; (df['b'] &lt; df['c'])])\nprint(df.query('(a &lt; b) &amp; (b &lt; c)'))\n</code></pre> <pre><code>          a         b         c\n3  0.393407  0.755739  0.924355\n7  0.126168  0.249316  0.434050\n          a         b         c\n3  0.393407  0.755739  0.924355\n7  0.126168  0.249316  0.434050\n</code></pre> <p>\u5982\u679c\u6ca1\u6709\u540d\u79f0\u4e3a<code>a</code>\u7684\u5217\uff0c\u5219\u4f7f\u7528\u547d\u540d\u884c\u7d22\u5f15\uff1a</p> queryresult <pre><code>df = pd.DataFrame(np.random.randint(4, size=(4, 2)), columns=list('bc'))\ndf.index.name = 'a'\nprint(df.query('a &lt; b and b &lt; c'))\n</code></pre> <pre><code>Empty DataFrame\nColumns: [b, c]\nIndex: []\n</code></pre> <p>\u5982\u679c\u884c\u7d22\u5f15\u540d\u79f0\u4e0e\u5217\u540d\u91cd\u53e0\uff0c\u5219\u5217\u540d\u4f18\u5148\u3002\u5982\u679c\u60a8\u4e0d\u60f3\u6216\u65e0\u6cd5\u547d\u540d\u884c\u7d22\u5f15\uff0c\u5219\u53ef\u4ee5\u5728\u67e5\u8be2\u8868\u8fbe\u5f0f\u4e2d\u4f7f\u7528<code>\"index\"</code>\uff1a</p> queryresult <pre><code>df = pd.DataFrame(np.random.randint(4, size=(4, 2)), columns=list('bc'))\nprint(df.query('index &lt; b &lt; c'))\n</code></pre> <pre><code>Empty DataFrame\nColumns: [b, c]\nIndex: []\n</code></pre> <p>\u4e0d\u7ba1\u884c\u7d22\u5f15\u662f\u5426\u88ab\u547d\u540d\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u7279\u6b8a\u6807\u8bc6\u7b26<code>'index'</code>\u5728\u67e5\u8be2\u8868\u8fbe\u5f0f\u4e2d\u4f7f\u7528\u884c\u7d22\u5f15\u3002\u5982\u679c\u5df2\u7ecf\u6709\u4e00\u4e2a\u540d\u4e3a<code>'index'</code>\u7684\u5217\uff0c\u90a3\u4e48\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>'ilevel_0'</code>\u5f15\u7528\u884c\u7d22\u5f15\uff0c<code>'ilevel_0'</code>\u8868\u793a\u884c\u7d22\u5f15\u7684\u7b2c0\u5c42\u7ea7\u3002\u4f46\u6b64\u65f6\uff0c\u60a8\u5e94\u8be5\u8003\u8651\u5c06\u5217\u91cd\u547d\u540d\u4e3a\u4e0d\u592a\u6a21\u7cca\u7684\u540d\u79f0\u3002</p>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#multiindexquery","title":"<code>MultiIndex</code>\u4e2d\u7684<code>query</code>\u8bed\u6cd5","text":"<p>\u5982\u679c\u884c\u7d22\u5f15\u662f<code>MultiIndex</code>\u7684\uff0c\u4f60\u53ef\u4ee5\u50cf\u4f7f\u7528\u5217\u6570\u636e\u4e00\u6837\u4f7f\u7528\u884c\u7d22\u5f15\u3002</p> <pre><code>level_0 = ['red', 'red', 'red', 'green', 'green',\n           'green', 'green', 'green', 'green', 'green']\nlevel_1 = ['ham', 'ham', 'eggs', 'eggs', 'eggs',\n           'ham', 'ham', 'eggs', 'eggs', 'eggs']\nindex = pd.MultiIndex.from_tuples(tuple(zip(level_0, level_1)),\n                                  names=['color', 'food'])\ndf = pd.DataFrame(np.random.randn(10, 2), index=index)\nprint(df)\nprint(df.query('color == \"red\"'))\n</code></pre> <pre><code>                   0         1\ncolor food\nred   ham  -0.112306 -0.397632\n      ham  -0.549562  1.640438\n      eggs  0.872731 -1.482375\ngreen eggs  0.859140 -0.526051\n      eggs -0.119190  0.916026\n      ham   1.895757 -1.374306\n      ham   0.040974  0.553177\n      eggs -0.585628  0.746558\n      eggs  1.313762  0.601611\n      eggs -1.233061  1.108511\n                   0         1\ncolor food\nred   ham  -0.112306 -0.397632\n      ham  -0.549562  1.640438\n      eggs  0.872731 -1.482375\n</code></pre> <p>\u5982\u679c<code>MultiIndex</code>\u7684\u7ea7\u522b\u672a\u547d\u540d\uff0c\u53ef\u4ee5\u4f7f\u7528\u7279\u6b8a\u540d\u79f0\u5f15\u7528\u5b83\u4eec\uff1a</p> <pre><code>df.index.names = [None, None]\nprint(df)\nprint(df.query('ilevel_0 == \"red\"'))\n</code></pre> <pre><code>                   0         1\nred   ham  -0.112306 -0.397632\n      ham  -0.549562  1.640438\n      eggs  0.872731 -1.482375\ngreen eggs  0.859140 -0.526051\n      eggs -0.119190  0.916026\n      ham   1.895757 -1.374306\n      ham   0.040974  0.553177\n      eggs -0.585628  0.746558\n      eggs  1.313762  0.601611\n      eggs -1.233061  1.108511\n                 0         1\nred ham  -0.112306 -0.397632\n    ham  -0.549562  1.640438\n    eggs  0.872731 -1.482375\n</code></pre>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#query","title":"<code>query</code>\u7528\u4f8b","text":"<p>\u5f53\u4f60\u62e5\u6709\u4e00\u7ec4 DataFrame \u5bf9\u8c61\uff0c\u5b83\u4eec\u5177\u6709\u5171\u540c\u7684\u5217\u540d\u5b50\u96c6(\u6216\u7d22\u5f15\u5c42\u7ea7\u540d\u79f0)\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u5c06\u76f8\u540c\u7684\u67e5\u8be2\u4f20\u9012\u7ed9\u8fd9\u4e24\u4e2a DataFrame \uff0c\u800c\u4e0d\u5fc5\u6307\u5b9a\u8981\u67e5\u8be2\u7684 DataFrame\u3002</p> <pre><code>df = pd.DataFrame(np.random.rand(4, 3), columns=list('abc'))\ndf2 = pd.DataFrame(np.random.rand(6, 3), columns=df.columns)\nexpr = '0.0 &lt;= a &lt;= c &lt;= 0.5'\nmap(lambda frame: frame.query(expr), [df, df2])\n</code></pre> <pre><code>&lt;map at 0x1dd96d666a0&gt;\n</code></pre>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#innot-in","title":"<code>in\\not in</code>\u64cd\u4f5c\u7b26","text":"<pre><code>df = pd.DataFrame({'a': list('aabbccddeeff'), 'b': list('aaaabbbbcccc'),\n                   'c': np.random.randint(5, size=12),\n                   'd': np.random.randint(9, size=12)})\nprint(df)\n\ndf.query('a in b')\n# How you'd do it in pure Python\ndf[df['a'].isin(df['b'])]\n\ndf.query('a not in b')\n# pure Python\ndf[~df['a'].isin(df['b'])]\n</code></pre> <p><code>in\\not in</code>\u662f\u5728 vanilla Python \u4e2d\u8ba1\u7b97\u7684\uff0c\u56e0\u4e3a numexpr \u6ca1\u6709\u6b64\u7b49\u6548\u64cd\u4f5c\u3002\u901a\u5e38\uff0c\u53ef\u4ee5\u7531 numexpr \u6267\u884c\u7684\u64cd\u4f5c\u90fd\u662f\u7531 numexpr \u8ba1\u7b97\u7684\u3002\u4f8b\u5982\uff0c<code>(b + c + d)</code>\u7531 numexpr \u8ba1\u7b97\uff0c\u7136\u540e\u5728 Python \u4e2d\u8ba1\u7b97 <code>in</code> \u64cd\u4f5c\u3002</p> <pre><code>df.query('a in b + c + d')\n</code></pre>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#list","title":"\u4e0elist\u5171\u7528\u7684<code>==</code>\u64cd\u4f5c\u7b26","text":"<p>\u4f7f\u7528<code>==/!=</code>\u4e0e\u5305\u542b\u5217\u540d\u7684\u5217\u8868\u8fdb\u884c\u6bd4\u8f83\uff0c\u7c7b\u4f3c\u4e8e<code>in/not in</code>\u3002</p> <pre><code>df.query('b == [\"a\", \"b\", \"c\"]')\n# pure Python\ndf[df['b'].isin([\"a\", \"b\", \"c\"])]\ndf.query('c == [1, 2]')\ndf.query('c != [1, 2]')\n# using in/not in\ndf.query('[1, 2] in c')\ndf.query('[1, 2] not in c')\n# pure Python\ndf[df['c'].isin([1, 2])]\n</code></pre>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#_4","title":"\u5e03\u5c14\u8fd0\u7b97\u7b26","text":"<p>\u53ef\u4ee5\u4f7f\u7528<code>not</code>\u6216<code>~</code>\u8fd0\u7b97\u7b26\u5bf9\u5e03\u5c14\u8868\u8fbe\u5f0f\u6c42\u53cd\u3002</p> queryresult <pre><code>df = pd.DataFrame(np.random.rand(3, 3), columns=list('abc'))\ndf['bools'] = np.random.rand(len(df)) &gt; 0.5\nprint(df.query('~bools'))\nprint(df.query('not bools'))\nprint(df.query('not bools') == df[~df['bools']])\n</code></pre> <pre><code>          a         b         c  bools\n0  0.735107  0.618887  0.925549  False\n1  0.688604  0.147859  0.128913  False\n2  0.277222  0.312845  0.830238  False\n          a         b         c  bools\n0  0.735107  0.618887  0.925549  False\n1  0.688604  0.147859  0.128913  False\n2  0.277222  0.312845  0.830238  False\n      a     b     c  bools\n0  True  True  True   True\n1  True  True  True   True\n2  True  True  True   True\n</code></pre> <p>\u5f53\u7136\uff0c\u8868\u8fbe\u5f0f\u4e5f\u53ef\u4ee5\u4efb\u610f\u590d\u6742:</p> <pre><code># short query syntax\nshorter = df.query('a &lt; b &lt; c and (not bools) or bools &gt; 2')\n# equivalent in pure Python\nlonger = df[(df['a'] &lt; df['b'])\n            &amp; (df['b'] &lt; df['c'])\n            &amp; (~df['bools'])\n            | (df['bools'] &gt; 2)]\n</code></pre>"},{"location":"Python3/pandas/9.5.%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6.html#query_1","title":"<code>query</code>\u7684\u6027\u80fd","text":"<p>\u5982\u679c DataFrame \u6709\u5927\u7ea6 200,000 \u884c\u4ee5\u4e0a\uff0c\u4f7f\u7528 numexpr \u540e\u7aef\u624d\u80fd\u770b\u5230\u6027\u80fd\u4f18\u52bf\u3002</p> <p>\u5bf9\u4e8e big DataFrame\uff0c\u4f7f\u7528 numexpr \u540e\u7aef\u7684<code>DataFrame.query()</code>\u6bd4\u7eaf Python \u7a0d\u5feb\u4e00\u4e9b\u3002</p>"},{"location":"Python3/pandas/9.6.%E7%B4%A2%E5%BC%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html","title":"9.6.\u7d22\u5f15\u7684\u57fa\u672c\u64cd\u4f5c","text":"<pre><code>from toolkit import H\nimport pandas as pd\nfrom pandas import DataFrame, Series\nimport numpy as np\n</code></pre> <pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.02.28\npandas version:  1.2.2\nnumpy version:  1.20.1\n</code></pre>"},{"location":"Python3/pandas/9.6.%E7%B4%A2%E5%BC%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html#_1","title":"\u7d22\u5f15\u5bf9\u8c61\u7684\u65b9\u6cd5","text":"<pre><code>tuples = [('bar', 'one'),\n          ('bar', 'two'),\n          ('baz', 'one'),\n          ('baz', 'two'),\n          ('foo', 'one'),\n          ('foo', 'two'),\n          ('qux', 'one'),\n          ('qux', 'two')]\nindex = pd.MultiIndex.from_tuples(tuples, names=['first', 'second'])\nprint(index)\n</code></pre> <pre><code>MultiIndex([('bar', 'one'),\n            ('bar', 'two'),\n            ('baz', 'one'),\n            ('baz', 'two'),\n            ('foo', 'one'),\n            ('foo', 'two'),\n            ('qux', 'one'),\n            ('qux', 'two')],\n           names=['first', 'second'])\n</code></pre> <p><code>.levels</code>\u4e3a<code>property</code>\u5c5e\u6027\uff0c\u5b83\u8fd4\u56de\u4e00\u4e2a<code>FrozenList</code>\uff08\u4e0d\u53ef\u53d8\u5217\u8868\uff09\uff0c\u5217\u8868\u4e2d\u5b58\u50a8\u6bcf\u4e00\u7ea7\u7684<code>label</code>\uff08\u4e5f\u5c31\u662f\u521b\u5efa<code>MultiIndex</code>\u65f6\u4f20\u5165\u7684<code>levels</code>\u53c2\u6570\uff09\u3002</p> <pre><code>index.levels\n</code></pre> <pre><code>FrozenList([['bar', 'baz', 'foo', 'qux'], ['one', 'two']])\n</code></pre> <p><code>.get_level_values(level)</code>\uff1a\u8fd4\u56de\u6307\u5b9a<code>level</code>\u7684<code>Index</code>\uff0c\u7528\u4e8e<code>MultiIndex</code>\u3002</p> <pre><code>print(index.get_level_values(0), \"\\n\")\nprint(index.get_level_values(1), \"\\n\")\nprint(index.get_level_values('second'))\n</code></pre> <pre><code>Index(['bar', 'bar', 'baz', 'baz', 'foo', 'foo', 'qux', 'qux'],\ndtype='object', name='first')\n\nIndex(['one', 'two', 'one', 'two', 'one', 'two', 'one', 'two'],\ndtype='object', name='second')\n\nIndex(['one', 'two', 'one', 'two', 'one', 'two', 'one', 'two'],\ndtype='object', name='second')\n</code></pre> <pre><code>df = pd.DataFrame(np.random.randn(6, 6), index=index[:6], columns=index[:6])\n\ndf.columns.levels  # original MultiIndex\n\ndf[['foo','qux']].columns.levels  # sliced\ndf[['foo', 'qux']].columns.to_numpy()\n# for a specific level\ndf[['foo', 'qux']].columns.get_level_values(0)\n</code></pre> <pre><code>Index(['foo', 'foo'], dtype='object', name='first')\n</code></pre> <pre><code>new_mi = df[['foo', 'qux']].columns.remove_unused_levels()\nnew_mi.levels\n</code></pre> <pre><code>FrozenList([['foo'], ['one', 'two']])\n</code></pre>"},{"location":"Python3/pandas/9.6.%E7%B4%A2%E5%BC%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html#_2","title":"\u7d22\u5f15\u91cd\u8d4b\u503c\u3001\u7d22\u5f15\u5bf9\u9f50","text":"<p><code>level</code>\u53c2\u6570\u5df2\u7ecf\u88ab\u52a0\u5165\u5230pandas\u5bf9\u8c61\u4e2d\u7684 <code>reindex()</code> \u548c <code>align()</code> \u65b9\u6cd5\u4e2d\u3002\u8fd9\u5c06\u6709\u52a9\u4e8e\u6cbf\u7740\u4e00\u4e2a\u5c42\u7ea7\u6765\u5e7f\u64ad\u503c\uff08broadcast values\uff09\u3002\u4f8b\u5982\uff1a</p> <p>\u521b\u5efa\u793a\u4f8b<code>df</code>\uff1a</p> <pre><code>midx = pd.MultiIndex(levels=[['zero', 'one'], ['x', 'y']],\n                      codes=[[1, 1, 0, 0], [1, 0, 1, 0]])\n\n\ndf = pd.DataFrame(np.random.randn(4, 2), index=midx)\n\ndf\n</code></pre> <pre><code>               0         1\none  y  0.969419 -1.461856\n     x  1.060536 -0.447844\nzero y -1.034162 -0.611150\n     x  1.191578  0.220043\n</code></pre> <p>\u521b\u5efa\u793a\u4f8b<code>df2</code>\uff1a</p> <pre><code>df2 = df.mean(level=0)\ndf2\n</code></pre> <pre><code>             0         1\none   1.014978 -0.954850\nzero  0.078708 -0.195553\n</code></pre> <pre><code>df2.reindex(df.index, level=0)\n</code></pre> <pre><code>               0         1\none  y  1.014978 -0.954850\n     x  1.014978 -0.954850\nzero y  0.078708 -0.195553\n     x  0.078708 -0.195553\n</code></pre> <pre><code># aligning\ndf_aligned, df2_aligned = df.align(df2, level=0)\n\nprint(df_aligned, \"\\n\")\nprint(df2_aligned)\n</code></pre> <pre><code>               0         1\none  y  0.969419 -1.461856\n     x  1.060536 -0.447844\nzero y -1.034162 -0.611150\n     x  1.191578  0.220043\n\n               0         1\none  y  1.014978 -0.954850\n     x  1.014978 -0.954850\nzero y  0.078708 -0.195553\n     x  0.078708 -0.195553\n</code></pre>"},{"location":"Python3/pandas/9.6.%E7%B4%A2%E5%BC%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html#reindex","title":"<code>reindex</code>\u65b9\u6cd5\u53c2\u6570","text":"<pre><code>DataFrame.reindex(self, labels=None, index=None, columns=None,\n                  axis=None, method=None, copy=True, level=None,\n                  fill_value=nan, limit=None, tolerance=None)\n</code></pre> <ul> <li><code>index</code>\uff1a<code>array-like</code>. \u7ed9\u51fa\u4e86\u65b0\u7684<code>index</code>\u7684<code>label</code></li> <li><code>columns</code>\uff1a<code>array-like</code>. \u7ed9\u51fa\u4e86\u65b0\u7684<code>columns</code>\u7684<code>label</code></li> <li><code>method</code>\uff1a\u5f53\u65b0\u7684<code>label</code>\u7684\u503c\u7f3a\u5931\u65f6\uff0c\u5982\u4f55\u5904\u7406\u3002\u53c2\u6570\u503c\u53ef\u4ee5\u4e3a\uff1a<ul> <li><code>None</code>\uff1a\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff0c\u7f3a\u5931\u5730\u65b9\u586b\u5145<code>NaN</code></li> <li><code>'backfill'/'bfill'</code>\uff1a\u7528\u4e0b\u4e00\u4e2a\u53ef\u7528\u7684\u503c\u586b\u5145\u8be5\u7a7a\u7f3a\uff08\u540e\u5411\u586b\u5145\uff09</li> <li><code>'pad'/'ffill'</code>\uff1a\u7528\u4e0a\u4e00\u4e2a\u53ef\u7528\u7684\u503c\u586b\u5145\u8be5\u7a7a\u7f3a\uff08\u524d\u5411\u586b\u5145\uff09</li> <li><code>'nearest'</code>\uff1a\u7528\u6700\u8fd1\u7684\u53ef\u7528\u503c\u586b\u5145\u8be5\u7a7a\u7f3a</li> </ul> </li> <li><code>copy</code>\uff1a\u5e03\u5c14\u503c. \u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684<code>Series</code>\u5bf9\u8c61\uff08\u5373\u4f7f\u4f20\u5165\u7684<code>index</code>\u4e0e\u539f\u6765\u7684<code>index</code>\u76f8\u540c\uff09</li> <li><code>level</code>\uff1a\u4e00\u4e2a\u6574\u6570\u6216\u8005<code>name</code>\uff0c\u5728<code>MultiIndex</code>\u7684\u6307\u5b9a\u7ea7\u522b\u4e0a\u5339\u914d\u7b80\u5355\u7d22\u5f15</li> <li><code>fill_value</code>\uff1a\u4e00\u4e2a\u6807\u91cf\u3002\u6307\u5b9a\u7f3a\u5931\u503c\u7684\u586b\u5145\u6570\u636e\uff0c\u9ed8\u8ba4\u4e3a<code>NaN</code>\uff08\u5982\u679c\u8be5\u53c2\u6570\u4e0e<code>method</code>\u540c\u65f6\u51fa\u73b0\uff0c\u5219\u4ee5<code>method</code>\u4e3a\u4e3b\uff09</li> <li><code>limit</code>\uff1a\u6574\u6570. \u6307\u5b9a\u524d\u5411/\u540e\u5411\u586b\u5145\u65f6\uff1a\u5982\u679c\u6709\u8fde\u7eed\u7684<code>k</code>\u4e2a<code>NaN</code>\uff0c\u5219\u53ea\u586b\u5145\u5176\u4e2d<code>limit</code>\u4e2a\u3002\u5b83\u4e0e<code>method</code>\u914d\u5408</li> <li><code>tolerance</code>\uff1a\u6574\u6570. \u7528\u4e8e\u7ed9\u51fa\u5728\u4e0d\u5339\u914d\u65f6\uff0c\u8fde\u7eed\u91c7\u7528\u524d\u5411/\u540e\u5411/\u6700\u8fd1\u90bb\u5339\u914d\u7684\u8de8\u5ea6\u7684\u6700\u5927\u503c\u3002\u5b83\u4e0e<code>method</code>\u914d\u5408</li> </ul>"},{"location":"Python3/pandas/9.6.%E7%B4%A2%E5%BC%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html#_3","title":"\u4ea4\u6362\u7d22\u5f15\u5c42\u7ea7","text":""},{"location":"Python3/pandas/9.6.%E7%B4%A2%E5%BC%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html#swaplevel","title":"<code>swaplevel</code>\u65b9\u6cd5","text":"<pre><code>DataFrame.swaplevel(self, i=-2, j=-1, axis=0)\n</code></pre> <p><code>swaplevel()</code>\u51fd\u6570\u53ef\u4ee5\u7528\u6765\u4ea4\u6362\u4e24\u4e2a\u5c42\u7ea7</p> <pre><code>print(df, \"\\n\")\nprint(df.swaplevel(0, 1, axis=0))\n</code></pre> <pre><code>               0         1\none  y  0.969419 -1.461856\n     x  1.060536 -0.447844\nzero y -1.034162 -0.611150\n     x  1.191578  0.220043\n\n               0         1\ny one   0.969419 -1.461856\nx one   1.060536 -0.447844\ny zero -1.034162 -0.611150\nx zero  1.191578  0.220043\n</code></pre>"},{"location":"Python3/pandas/9.6.%E7%B4%A2%E5%BC%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html#reorder_levels","title":"<code>reorder_levels</code>\u65b9\u6cd5","text":"<pre><code>DataFrame.reorder_levels(self, order, axis=0)\n</code></pre> <p><code>reorder_levels()</code>\u662f\u4e00\u4e2a\u66f4\u4e00\u822c\u5316\u7684 <code>swaplevel</code>\u65b9\u6cd5\uff0c\u5141\u8bb8\u60a8\u7528\u7b80\u5355\u7684\u4e00\u6b65\u6765\u91cd\u6392\u5217\u7d22\u5f15\u7684\u5c42\u7ea7\uff1a</p> <pre><code>print(df, \"\\n\")\nprint(df.reorder_levels([1, 0], axis=0))\n</code></pre> <pre><code>               0         1\none  y  0.969419 -1.461856\n     x  1.060536 -0.447844\nzero y -1.034162 -0.611150\n     x  1.191578  0.220043\n\n               0         1\ny one   0.969419 -1.461856\nx one   1.060536 -0.447844\ny zero -1.034162 -0.611150\nx zero  1.191578  0.220043\n</code></pre>"},{"location":"Python3/pandas/9.6.%E7%B4%A2%E5%BC%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html#rename","title":"\u91cd\u547d\u540d\u7d22\u5f15\uff1a<code>rename</code>","text":"<pre><code>DataFrame.rename(self, mapper=None, index=None, columns=None,\n                 axis=None, copy=True, inplace=False, level=None,\n                 errors='ignore')\n</code></pre> <p><code>rename()</code>\u65b9\u6cd5\u7528\u6765\u91cd\u547d\u540d\u591a\u5c42\u7d22\u5f15\u3002<code>renames</code>\u7684<code>index</code>\u6216<code>columns</code>\u53c2\u6570\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u5b57\u5178\uff0c\u4ece\u800c\u4ec5\u4ec5\u91cd\u547d\u540d\u60a8\u5e0c\u671b\u66f4\u6539\u540d\u5b57\u7684\u884c\u6216\u5217\uff1a</p> <pre><code>df.rename(columns={0: \"col0\", 1: \"col1\"})\n</code></pre> <pre><code>            col0      col1\none  y  0.969419 -1.461856\n     x  1.060536 -0.447844\nzero y -1.034162 -0.611150\n     x  1.191578  0.220043\n</code></pre> <pre><code>df.rename(index={\"one\": \"two\", \"y\": \"z\"})\n</code></pre> <pre><code>               0         1\ntwo  z  0.969419 -1.461856\n     x  1.060536 -0.447844\nzero z -1.034162 -0.611150\n     x  1.191578  0.220043\n</code></pre>"},{"location":"Python3/pandas/9.6.%E7%B4%A2%E5%BC%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html#rename_axis","title":"\u91cd\u547d\u540d\u7d22\u5f15\u5c42\u7ea7\uff1a<code>rename_axis</code>","text":"<pre><code>DataFrame.rename_axis(self, mapper=None, index=None, columns=None,\n                      axis=None, copy=True, inplace=False)\n</code></pre> <p><code>rename_axis()</code>\u65b9\u6cd5\u53ef\u4ee5\u7528\u4e8e\u5bf9<code>Index</code> \u6216\u8005 <code>MultiIndex</code>\u8fdb\u884c\u91cd\u547d\u540d\u3002\u5c24\u5176\u5730\uff0c\u60a8\u53ef\u4ee5\u660e\u786e<code>MultiIndex</code>\u4e2d\u7684\u4e0d\u540c\u5c42\u7ea7\u7684\u540d\u79f0\uff0c\u8fd9\u53ef\u4ee5\u88ab\u7528\u4e8e\u5728\u4e4b\u540e\u4f7f\u7528 <code>reset_index()</code> \uff0c\u628a\u591a\u5c42\u7ea7\u7d22\u5f15\u7684\u503c\u8f6c\u6362\u4e3a\u4e00\u4e2a\u5217\u3002</p> <pre><code>df.rename_axis(index=['abc', 'def'])\n</code></pre> <pre><code>                 0         1\nabc  def\none  y    0.969419 -1.461856\n     x    1.060536 -0.447844\nzero y   -1.034162 -0.611150\n     x    1.191578  0.220043\n</code></pre> <pre><code>df.rename_axis(columns=\"Cols\").columns\n</code></pre> <pre><code>RangeIndex(start=0, stop=2, step=1, name='Cols')\n</code></pre> <p><code>rename</code> \u548c<code>rename_axis</code>\u90fd\u652f\u6301\u4e00\u4e2a\u660e\u786e\u7684\u5b57\u5178\u3001<code>Series</code> \u6216\u8005\u4e00\u4e2a\u6620\u5c04\u51fd\u6570\uff0c\u5c06\u6807\u7b7e\uff0c\u540d\u79f0\u6620\u5c04\u4e3a\u65b0\u7684\u503c\u3002</p> <pre><code>df.rename_axis(index=['abc', 'def'], inplace=True)\nprint(df)\n</code></pre> <pre><code>                 0         1\nabc  def\none  y    0.969419 -1.461856\n     x    1.060536 -0.447844\nzero y   -1.034162 -0.611150\n     x    1.191578  0.220043\n</code></pre>"},{"location":"Python3/pandas/9.6.%E7%B4%A2%E5%BC%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html#sort_index","title":"\u5bf9\u591a\u5c42\u7ea7\u7d22\u5f15\u8fdb\u884c\u6392\u5e8f\uff1a<code>sort_index</code>","text":"<pre><code>DataFrame.sort_index(self, axis=0, level=None, ascending=True,\n                     inplace=False, kind='quicksort',\n                     na_position='last', sort_remaining=True,\n                     ignore_index=False, key=None)\n</code></pre> <p>\u5bf9\u4e8e\u62e5\u6709\u591a\u5c42\u7ea7\u7d22\u5f15\u7684\u5bf9\u8c61\u6765\u8bf4\uff0c\u4f7f\u7528 <code>sort_index</code>\u65b9\u6cd5\u6765\u6392\u5e8f\u3002</p> <p>\u521b\u5efa\u793a\u4f8b<code>s</code>\uff1a</p> <pre><code>import random\n\ntuples = [('bar', 'one'),\n          ('bar', 'two'),\n          ('baz', 'one'),\n          ('baz', 'two'),\n          ('foo', 'one'),\n          ('foo', 'two'),\n          ('qux', 'one'),\n          ('qux', 'two')]\nrandom.shuffle(tuples)\n\ns = pd.Series(np.random.randn(8), index=pd.MultiIndex.from_tuples(tuples))\ns\n</code></pre> <pre><code>foo  two   -1.176215\nqux  one    1.108736\nfoo  one    0.652951\nqux  two   -0.402180\nbar  one   -0.100761\nbaz  two   -1.303137\nbar  two   -0.996656\nbaz  one   -0.249797\ndtype: float64\n</code></pre> <pre><code># \u4e24\u8005\u7b49\u4ef7\ns.sort_index()\ns.sort_index(level=0)\n</code></pre> <pre><code>bar  one   -0.100761\n     two   -0.996656\nbaz  one   -0.249797\n     two   -1.303137\nfoo  one    0.652951\n     two   -1.176215\nqux  one    1.108736\n     two   -0.402180\ndtype: float64\n</code></pre> <pre><code>s.sort_index(level=1)\n</code></pre> <pre><code>bar  one   -0.100761\nbaz  one   -0.249797\nfoo  one    0.652951\nqux  one    1.108736\nbar  two   -0.996656\nbaz  two   -1.303137\nfoo  two   -1.176215\nqux  two   -0.402180\ndtype: float64\n</code></pre> <p>\u5982\u679c\u201c\u591a\u5c42\u7ea7\u7d22\u5f15\u201d\u90fd\u88ab\u547d\u540d\u4e86\u7684\u8bdd\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5411 <code>sort_index</code> \u4f20\u5165\u4e00\u4e2a\u5c42\u7ea7\u540d\u79f0\u3002</p> <pre><code>s.index.set_names(['L1', 'L2'], inplace=True)\n\nprint(s.sort_index(level='L1'), \"\\n\")\nprint(s.sort_index(level='L2'))\n</code></pre> <pre><code>L1   L2\nbar  one   -0.100761\n     two   -0.996656\nbaz  one   -0.249797\n     two   -1.303137\nfoo  one    0.652951\n     two   -1.176215\nqux  one    1.108736\n     two   -0.402180\ndtype: float64\n\nL1   L2\nbar  one   -0.100761\nbaz  one   -0.249797\nfoo  one    0.652951\nqux  one    1.108736\nbar  two   -0.996656\nbaz  two   -1.303137\nfoo  two   -1.176215\nqux  two   -0.402180\ndtype: float64\n</code></pre> <p>\u5bf9\u4e8e\u591a\u7ef4\u5ea6\u7684\u5bf9\u8c61\u6765\u8bf4\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5bf9\u4efb\u610f\u7684\u7684\u7ef4\u5ea6\u6765\u8fdb\u884c\u7d22\u5f15\uff0c\u53ea\u8981\u4ed6\u4eec\u662f\u5177\u6709\u591a\u5c42\u7ea7\u7d22\u5f15\u7684\uff1a</p> <pre><code>df.T.sort_index(level=1, axis=1)\n</code></pre> <pre><code>abc       one      zero       one      zero\ndef         x         x         y         y\n0    1.060536  1.191578  0.969419 -1.034162\n1   -0.447844  0.220043 -1.461856 -0.611150\n</code></pre> <p>\u5982\u679c\u7d22\u5f15\u6ca1\u6709\u6392\u5e8f\uff0c\u60a8\u4ecd\u7136\u53ef\u4ee5\u5bf9\u5b83\u4eec\u8fdb\u884c\u7d22\u5f15\uff0c\u4f46\u662f\u7d22\u5f15\u7684\u6548\u7387\u4f1a\u6781\u5927\u964d\u4f4e\uff0c\u5e76\u4e14\u4f1a\u629b\u51fa<code>PerformanceWarning</code>\u8b66\u544a\u3002\u800c\u4e14\uff0c\u8fd9\u5c06\u8fd4\u56de\u6570\u636e\u7684\u526f\u672c\u800c\u975e\u6570\u636e\u7684\u89c6\u56fe\uff1a</p> <pre><code>dfm = pd.DataFrame({'jim': [0, 0, 1, 1],\n                    'joe': ['x', 'x', 'z', 'y'],\n                    'jolie': np.random.rand(4)})\n# y \u5e94\u8be5\u5728 z \u7684\u524d\u9762\ndfm = dfm.set_index(['jim', 'joe'])\nprint(dfm)\nprint(dfm.loc[(1, 'z')])\n</code></pre> <pre><code>            jolie\njim joe\n0   x    0.340107\n    x    0.745068\n1   z    0.260104\n    y    0.458321\n            jolie\njim joe\n1   z    0.260104\n&lt;ipython-input-1-23c78e5aac00&gt;:7: PerformanceWarning: indexing past\nlexsort depth may impact performance.\n  print(dfm.loc[(1, 'z')])\n</code></pre> <p>\u53e6\u5916\uff0c\u5982\u679c\u8bd5\u56fe\u901a\u8fc7\u201d\u5207\u7247\u201c\u7d22\u5f15\u4e00\u4e2a\u6ca1\u6709\u5b8c\u5168lexsorted\u7684\u5bf9\u8c61\uff0c\u60a8\u5c06\u4f1a\u78b0\u5230\u5982\u4e0b\u7684\u9519\u8bef\uff1a</p> <pre><code>try:\n    dfm.loc[(0, 'y'):(1, 'z')]\nexcept Exception as e:\n    print(f\"UnsortedIndexError: {e}\")\n</code></pre> <pre><code>UnsortedIndexError: 'Key length (2) was greater than MultiIndex\nlexsort depth (1)'\n</code></pre> <p>\u6392\u5e8f\u4e4b\u540e\u5219\u4e0d\u4f1a\u62a5\u9519</p> <pre><code>dfm.sort_index().loc[(0, 'y'):(1, 'z')]\n</code></pre> <pre><code>            jolie\njim joe\n1   y    0.458321\n    z    0.260104\n</code></pre> <p>\u5728<code>MultiIndex</code>\u4e0a\u4f7f\u7528<code>is_lexsorted()</code>\u65b9\u6cd5\uff0c\u53ef\u4ee5\u67e5\u770b\u8be5\u7d22\u5f15\u662f\u5426\u5df2\u7ecf\u88ab\u6392\u5e8f\u3002\u800c\u4f7f\u7528<code>lexsort_depth</code>\u5c5e\u6027\u5219\u53ef\u4ee5\u8fd4\u56de\u6392\u5e8f\u7684\u6df1\u5ea6\uff1a</p> <pre><code>print(\"*****\u672a\u6392\u5e8f*****\")\nprint(\"is lexsorted:\", dfm.index.is_lexsorted())\nprint(\"lexsort depth:\", dfm.index.lexsort_depth)\n\ndfm = dfm.sort_index()\n\nprint(\"*****\u5df2\u6392\u5e8f*****\")\nprint(\"is lexsorted:\", dfm.index.is_lexsorted())\nprint(\"lexsort depth:\", dfm.index.lexsort_depth)\n</code></pre> <pre><code>*****\u672a\u6392\u5e8f*****\nis lexsorted: False\nlexsort depth: 1\n*****\u5df2\u6392\u5e8f*****\nis lexsorted: True\nlexsort depth: 2\n</code></pre> <p>\u73b0\u5728\uff0c\u5207\u7247\u7d22\u5f15\u5c31\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\u4e86\u3002</p> <pre><code>dfm.loc[(0, 'y'):(1, 'z')]\n</code></pre> <pre><code>            jolie\njim joe\n1   y    0.458321\n    z    0.260104\n</code></pre>"},{"location":"Python3/pandas/9.6.%E7%B4%A2%E5%BC%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html#set_index","title":"\u5c06\u5217\u8f6c\u6362\u4e3a\u7d22\u5f15\uff1a<code>set_index</code>","text":"<p>\u5c06\u5217\u6570\u636e\u53d8\u6210\u884c\u7d22\u5f15\uff08\u53ea\u5bf9<code>DataFrame</code>\u6709\u6548\uff0c\u56e0\u4e3a<code>Series</code>\u6ca1\u6709\u5217\u7d22\u5f15\uff09\uff0c\u5176\u4e2d\uff1a<code>col label</code>\u53d8\u6210<code>index name</code>\uff0c\u5217\u6570\u636e\u53d8\u6210\u884c<code>label</code>\uff1a</p> <pre><code>DataFrame.set_index(self, keys, drop=True, append=False,\n                    inplace=False, verify_integrity=False)\n</code></pre> <ul> <li><code>keys</code>\uff1a \u6307\u5b9a\u4e86\u4e00\u4e2a\u6216\u8005\u4e00\u5217\u7684<code>column label</code>\u3002\u8fd9\u4e9b\u5217\u5c06\u4f1a\u8f6c\u6362\u4e3a\u884c<code>index</code></li> <li><code>drop</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219<code>keys</code>\u5bf9\u5e94\u7684\u5217\u4f1a\u88ab\u5220\u9664\uff1b\u5426\u5219\u8fd9\u4e9b\u5217\u4ecd\u7136\u88ab\u4fdd\u7559</li> <li><code>append</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u539f\u6709\u7684\u884c\u7d22\u5f15\u5c06\u4fdd\u7559\uff08\u6b64\u65f6\u4e00\u5b9a\u662f\u4e2a\u591a\u7ea7\u7d22\u5f15\uff09\uff1b\u5426\u5219\u629b\u5f03\u539f\u6765\u7684\u884c\u7d22\u5f15\u3002</li> <li><code>inplace</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u539f\u5730\u4fee\u6539\u5e76\u4e14\u8fd4\u56de<code>None</code></li> <li><code>verify_integrity</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u68c0\u67e5\u65b0\u7684<code>index</code>\u662f\u5426\u6709\u91cd\u590d\u503c\u3002\u5426\u5219\u4f1a\u63a8\u8fdf\u5230\u68c0\u6d4b\u8fc7\u7a0b\u5230\u5fc5\u987b\u68c0\u6d4b\u7684\u65f6\u5019\u3002</li> </ul> <pre><code>df = DataFrame(np.random.randint(low=0, high=10, size=(4, 3)))\ndf[\"key\"] = [\"A\", \"B\", \"C\", \"D\"]\nprint(df)\n\ndf.set_index(keys=\"key\", append=True)\n</code></pre> <pre><code>   0  1  2 key\n0  2  1  5   A\n1  3  7  0   B\n2  1  8  4   C\n3  2  4  2   D\n</code></pre> <pre><code>       0  1  2\n  key\n0 A    2  1  5\n1 B    3  7  0\n2 C    1  8  4\n3 D    2  4  2\n</code></pre>"},{"location":"Python3/pandas/9.6.%E7%B4%A2%E5%BC%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html#reset_index","title":"\u5c06\u7d22\u5f15\u8f6c\u6362\u4e3a\u5217\uff1a<code>reset_index</code>","text":"<p><code>reset_index</code>\u4f1a\u5c06\u5c42\u6b21\u5316\u7684\u884c<code>index</code>\u8f6c\u79fb\u5230\u5217\u4e2d\uff0c\u6210\u4e3a\u65b0\u7684\u4e00\u5217\u3002\u540c\u65f6<code>index</code> \u53d8\u6210\u4e00\u4e2a\u6574\u6570\u578b\u7684\uff0c\u4ece0\u5f00\u59cb\u7f16\u53f7\uff1a</p> <pre><code>DataFrame.reset_index(self, level=None, drop=False, inplace=False,\n                      col_level=0, col_fill='')\n\nSeries.reset_index(self, level=None, drop=False, name=None,\n                   inplace=False)\n</code></pre> <ul> <li><code>level</code>\uff1a\u4e00\u4e2a\u6574\u6570\u3001<code>str</code>\u3001\u5143\u7ec4\u6216\u8005\u5217\u8868\u3002\u5b83\u6307\u5b9a\u4e86\u5c06\u4ece\u5c42\u6b21\u5316\u7684<code>index</code>\u4e2d\u79fb\u9664\u7684<code>level</code>\u3002\u5982\u679c\u4e3a<code>None</code>\uff0c\u5219\u79fb\u9664\u6240\u6709\u7684<code>level</code>\u3002</li> <li><code>drop</code>\uff1a<code>drop=True</code>\uff0c\u4e22\u5f03\u6307\u5b9alevel\uff0c\u4e0d\u52a0\u5165\u5217\u4e2d\u3002<code>drop=False</code>\uff0c\u5219\u5c06\u6307\u5b9a\u7684level\u8f6c\u6362\u4e3a\u5217\u3002</li> <li><code>inplace</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u539f\u5730\u4fee\u6539\u5e76\u4e14\u8fd4\u56de<code>None</code>\u3002</li> <li><code>col_level</code>\uff1a\u7d22\u5f15\u8f6c\u6362\u4e3a\u5217\u540e\uff0c\u6307\u5b9a\u8be5\u5217\u7684\u5217\u6807\u7b7e\u4f4d\u4e8e\u5217\u7d22\u5f15\u7684\u54ea\u4e2alevel\u3002</li> <li><code>col_fill</code>\uff1a\u6307\u5b9a\u9664<code>col_level</code>\u4e4b\u5916\u7684\u5217level\u7684\u540d\u5b57\u3002\u9ed8\u8ba4\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002\u5f53\u5b58\u5728\u591a\u7ea7\u5217\u7d22\u5f15\u65f6\u751f\u6548\u3002</li> </ul> <p>\u5bf9\u4e8e<code>Series</code>\uff0c<code>name</code>\u5c31\u662f\u63d2\u5165\u540e\uff0c\u5bf9\u5e94\u7684\u5217<code>label</code></p> <pre><code>columns = [[\"a\", \"a\", \"b\"], [\"1\", \"2\", \"3\"]]\ndf = DataFrame(np.random.randint(low=0, high=10, size=(4, 3)), columns=columns)\nprint(df)\n\ndf.reset_index(drop=False, col_level=0)\n</code></pre> <pre><code>   a     b\n   1  2  3\n0  3  6  5\n1  6  8  5\n2  0  6  9\n3  1  8  1\n</code></pre> <pre><code>  index  a     b\n         1  2  3\n0     0  3  6  5\n1     1  6  8  5\n2     2  0  6  9\n3     3  1  8  1\n</code></pre>"},{"location":"Python3/pandas/9.6.%E7%B4%A2%E5%BC%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html#labeldrop","title":"\u6309label\u5220\u9664\u884c\u3001\u5217\uff1a<code>drop</code>","text":"<p>\u4e22\u5f03\u67d0\u6761\u8f74\u4e0a\u7684\u4e00\u4e2a\u6216\u8005\u591a\u4e2a<code>label</code></p> <pre><code>DataFrame.drop(self, labels=None, axis=0, index=None, columns=None,\n               level=None, inplace=False, errors='raise')\n</code></pre> <ul> <li><code>labels</code>\uff1a\u5355\u4e2a<code>label</code>\u6216\u8005\u4e00\u4e2a<code>label</code>\u5e8f\u5217\uff0c\u4ee3\u8868\u8981\u88ab\u4e22\u5f03\u7684<code>label</code></li> <li><code>axis</code>\uff1a\u4e00\u4e2a\u6574\u6570\uff0c\u6216\u8005\u8f74\u7684\u540d\u5b57\u3002\u9ed8\u8ba4\u4e3a 0 \u8f74</li> <li><code>level</code>\uff1a\u4e00\u4e2a\u6574\u6570\u6216\u8005<code>level</code>\u540d\u5b57\uff0c\u7528\u4e8e<code>MultiIndex</code>\u3002\u56e0\u4e3a\u53ef\u80fd\u5728\u591a\u4e2a<code>level</code>\u4e0a\u90fd\u6709\u540c\u540d\u7684<code>label</code>\u3002</li> <li><code>inplace</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u539f\u5730\u4fee\u6539\u5e76\u4e14\u8fd4\u56de<code>None</code></li> <li><code>errors</code>\uff1a\u53ef\u4ee5\u4e3a<code>'ignore'/'raise'</code></li> </ul> <pre><code>a = df.reset_index(drop=False, col_level=0)\nprint(a)\na.drop(labels=\"a\", axis=1)\n</code></pre> <pre><code>  index  a     b\n         1  2  3\n0     0  3  6  5\n1     1  6  8  5\n2     2  0  6  9\n3     3  1  8  1\nD:\\Software\\miniconda\\envs\\blog\\lib\\site-\npackages\\pandas\\core\\generic.py:4152: PerformanceWarning: dropping on\na non-lexsorted multi-index without a level parameter may impact\nperformance.\n  obj = obj._drop_axis(labels, axis, level=level, errors=errors)\n</code></pre> <pre><code>  index  b\n         3\n0     0  5\n1     1  5\n2     2  9\n3     3  1\n</code></pre>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html","title":"9.7.\u62fc\u63a5","text":"<pre><code>from toolkit import H\nimport numpy as np\nimport pandas as pd\n</code></pre> <pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.09\npandas version:  1.2.4\nnumpy version:  1.20.3\n</code></pre> <p>Pandas\u6709\u4e24\u79cd\u62fc\u63a5DataFrame\u7684\u51fd\u6570\uff0c\u4e00\u79cd\u662f<code>concat</code>\u51fd\u6570\uff0c\u53e6\u4e00\u79cd\u662fSQL\u98ce\u683c\u7684\u62fc\u63a5\u51fd\u6570\uff0c\u4f8b\u5982<code>merge</code>\u51fd\u6570\u3002<code>concat</code>\u51fd\u6570\u53ea\u80fd\u6309\u8f74\u7d22\u5f15\u8fdb\u884c\u62fc\u63a5\uff0c\u800c<code>merge</code>\u51fd\u6570\u5219\u66f4\u52a0\u7075\u6d3b\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u6839\u636e\u5217\u7d22\u5f15\u8fdb\u884c\u62fc\u63a5\uff0c\u4e5f\u53ef\u4ee5\u6309\u7167\u6307\u5b9a\u7684\u5217\u8fdb\u884c\u62fc\u63a5\u3002\u4f46<code>merge</code>\u51fd\u6570\u4e0d\u80fd\u6839\u636e\u884c\u6807\u7b7e\u8fdb\u884c\u62fc\u63a5\u3002</p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#concat","title":"<code>concat</code>\u51fd\u6570","text":"<p>\u5728\u6df1\u5165\u7814\u7a76<code>concat</code>\u51fd\u6570\u7684\u7ec6\u8282\u53ca\u5176\u4f5c\u7528\u4e4b\u524d\uff0c\u8fd9\u91cc\u6709\u4e00\u4e2a\u7b80\u5355\u7684\u793a\u4f8b\uff1a</p> <pre><code>df1 = pd.DataFrame({'A': ['A0', 'A1', 'A2', 'A3'],\n                    'B': ['B0', 'B1', 'B2', 'B3'],\n                    'C': ['C0', 'C1', 'C2', 'C3'],\n                    'D': ['D0', 'D1', 'D2', 'D3']},\n                   index=[0, 1, 2, 3])\n\ndf2 = pd.DataFrame({'A': ['A4', 'A5', 'A6', 'A7'],\n                    'B': ['B4', 'B5', 'B6', 'B7'],\n                    'C': ['C4', 'C5', 'C6', 'C7'],\n                    'D': ['D4', 'D5', 'D6', 'D7']},\n                   index=[4, 5, 6, 7])\n\ndf3 = pd.DataFrame({'A': ['A8', 'A9', 'A10', 'A11'],\n                    'B': ['B8', 'B9', 'B10', 'B11'],\n                    'C': ['C8', 'C9', 'C10', 'C11'],\n                    'D': ['D8', 'D9', 'D10', 'D11']},\n                   index=[8, 9, 10, 11])\n\nframes = [df1, df2, df3]\nresult = pd.concat(frames)\n</code></pre> <p></p> <p>\u4e0e<code>numpy.concatenate</code>\u4e00\u6837\uff0c<code>pandas.concat</code>\u83b7\u53d6\u5305\u542b\u540c\u7c7b\u578b\u5bf9\u8c61\u7684\u5217\u8868\u6216\u5b57\u5178\uff0c\u5c06\u5b83\u4eec\u6cbf\u7740\u4e32\u8054\u8f74\u62fc\u63a5\u8d77\u6765\uff0c\u5e76\u5904\u7406\u975e\u4e32\u8054\u8f74\u7684\u903b\u8f91\u3002</p> <pre><code>pd.concat(objs, axis=0, join='outer', ignore_index=False, keys=None,\n          levels=None, names=None, verify_integrity=False, sort=False,\n          copy=True)\n</code></pre> <ul> <li><code>objs</code>\uff1a\u5305\u542bSeries\u6216DataFrame\u5bf9\u8c61\u7684\u5e8f\u5217\u6216\u5b57\u5178\u3002\u5982\u679c\u4f20\u9012\u4e86<code>dict</code>\uff0c<code>dict</code>\u7684\u6392\u5e8f\u540e\u7684<code>key</code>\u503c\u5c06\u4f5c\u4e3a<code>keys</code>\u53c2\u6570\uff0c\u9664\u975e\u663e\u5f0f\u4f20\u5165<code>keys</code>\u53c2\u6570\u3002\u5e8f\u5217\u6216\u5b57\u5178\u4e2d\u53ef\u4ee5\u5305\u542b<code>None</code>\uff0c<code>None</code>\u4f1a\u88ab\u9759\u9ed8\u5220\u9664\uff0c\u4f46\u6240\u6709\u5bf9\u8c61\u90fd\u4e3a<code>None</code>\u5c06\u5f15\u53d1<code>ValueError</code>\u3002</li> <li><code>axis</code>\uff1a<code>{0,1,\u2026}</code>. \u6cbf\u7740\u8be5\u8f74\u8fdb\u884c\u62fc\u63a5\u3002</li> <li><code>join</code>\uff1a<code>{'inner','outer'}</code>. \u5904\u7406\u5176\u4ed6\u8f74\u7684\u7d22\u5f15\u7684\u903b\u8f91\uff0c<code>'outer'</code>\u4e3a\u5e76\u96c6\uff0c<code>'inner'</code>\u4e3a\u4ea4\u96c6\u3002</li> <li><code>ignore_index</code>\uff1a<code>bool</code>. \u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u7528<code>0, \u2026, n-1</code>\u4ee3\u66ff\u4e32\u8054\u8f74\u7684\u539f\u7d22\u5f15\u3002\u6ce8\u610f\uff0c\u62fc\u63a5\u65f6\u4ecd\u4f1a\u8003\u8651\u5176\u4ed6\u8f74\u4e0a\u7684\u7d22\u5f15\u503c\u3002</li> <li><code>keys</code>\uff1a<code>list of str</code>, <code>list of tuple</code>. \u7528\u4e8e\u6784\u9020\u591a\u5c42\u7ea7\u7d22\u5f15\u3002\u5982\u679c\u8981\u4f20\u5165\u591a\u5c42\u7ea7\u7d22\u5f15\uff0c\u5219\u5e94\u4f20\u5165<code>list of tuple</code>\u3002</li> <li><code>levels</code>\uff1a\u5e8f\u5217\u5217\u8868\uff0c\u9ed8\u8ba4\u4e3a\u65e0\u3002\u7528\u4e8e\u6784\u9020MultiIndex\u7684\u7279\u5b9a\u7ea7\u522b\uff08\u552f\u4e00\u503c\uff09\u3002\u5426\u5219\uff0c\u5c06\u4ece\u6309\u952e\u63a8\u65ad\u51fa\u5b83\u4eec\u3002</li> <li><code>names</code>\uff1a<code>list</code>. \u6307\u5b9a\u591a\u5c42\u7ea7\u7d22\u5f15\u5404\u5c42\u7ea7\u7684\u540d\u79f0\u3002</li> <li><code>verify_integrity</code>\uff1a<code>bool</code>. \u68c0\u67e5\u65b0\u7684\u4e32\u8054\u8f74\u662f\u5426\u5305\u542b\u91cd\u590d\u9879\u3002\u6027\u80fd\u4ee3\u4ef7\u53ef\u80fd\u975e\u5e38\u6602\u8d35\u3002</li> <li><code>copy</code>\uff1a<code>bool</code>. \u5982\u679c\u4e3a<code>False</code>\uff0c\u5728\u975e\u5fc5\u8981\u7684\u60c5\u51b5\u4e0b\u4e0d\u4f1a\u590d\u5236\u6570\u636e\u3002</li> </ul> <p>\u6ca1\u6709\u4e00\u4e2a\u4f8b\u5b50\uff0c\u8ba8\u8bba\u8fd9\u4e9b\u53c2\u6570\u7684\u4f5c\u7528\u6ca1\u6709\u591a\u5927\u610f\u4e49\u3002\u56de\u987e\u4e00\u4e0b\u4e0a\u9762\u7684\u4f8b\u5b50\u3002\u5047\u8bbe\u6211\u4eec\u60f3\u5c06\u7279\u5b9a\u7684\u952e\u4e0e\u5404\u4e2a\u5f85\u62fc\u63a5\u7684DataFrame\u76f8\u5173\u8054\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>keys</code>\u53c2\u6570\u6765\u505a\u5230\u8fd9\u4e00\u70b9 \uff1a</p> <pre><code>result = pd.concat(frames, keys=['x', 'y', 'z'])\n</code></pre> <p></p> <p>\u8fd4\u56de\u5bf9\u8c61\u7684\u7d22\u5f15\u5177\u6709\u5c42\u6b21\u7ed3\u6784\u7d22\u5f15\u3002\u8fd9\u610f\u5473\u7740\u73b0\u5728\u53ef\u4ee5\u901a\u8fc7\u952e\u503c\u9009\u62e9\u6bcf\u4e2a\u5757\uff1a</p> <pre><code>result.loc['y']\n</code></pre> <pre><code>    A   B   C   D\n4  A4  B4  C4  D4\n5  A5  B5  C5  D5\n6  A6  B6  C6  D6\n7  A7  B7  C7  D7\n</code></pre> <p>\u610f\u8bc6\u5230\u8fd9\u4e2a\u529f\u80fd\u662f\u975e\u5e38\u6709\u7528\u7684\u5e76\u4e0d\u662f\u4e00\u4ef6\u5bb9\u6613\u7684\u4e8b\uff0c\u6709\u5173\u6b64\u529f\u80fd\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u89c1\u4e0b\u6587\u3002</p> <p>Attention</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f<code>concat()</code>\u4f1a\u5b8c\u6574\u590d\u5236\u6570\u636e\uff08<code>append()</code>\u65b9\u6cd5\u4e5f\u662f\u5982\u6b64\uff09\uff0c\u4e0d\u65ad\u91cd\u590d\u4f7f\u7528\u6b64\u51fd\u6570\u4f1a\u4e25\u91cd\u5f71\u54cd\u6027\u80fd\u3002\u5982\u679c\u9700\u8981\u5bf9\u591a\u4e2a\u6570\u636e\u96c6\u4f7f\u7528\u8be5\u64cd\u4f5c\uff0c\u8bf7\u4f7f\u7528\u5217\u8868\u63a8\u5bfc\u5f0f\u3002</p> <pre><code>frames = [process_your_file(f) for f in files]\nresult = pd.concat(frames)\n</code></pre>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#join","title":"\u5904\u7406\u5176\u4ed6\u8f74\u7684\u903b\u8f91\uff1ajoin\u53c2\u6570","text":"<p>\u62fc\u63a5\u591a\u4e2aDataFrame\u65f6\uff0c\u6709\u5982\u4e0b\u4e24\u79cd\u65b9\u5f0f\u53ef\u7528\u4e8e\u5904\u7406\u975e\u4e32\u8054\u8f74\uff1a</p> <ol> <li><code>join='outer'</code>\uff1a\u5e76\u96c6\u903b\u8f91\uff0c\u4fdd\u7559\u975e\u4e32\u8054\u8f74\u4e0a\u7684\u6240\u6709\u7d22\u5f15\u503c\u3002\u8fd9\u662f\u9ed8\u8ba4\u9009\u9879\uff0c\u4e0d\u4f1a\u4e22\u5931\u4fe1\u606f\u3002</li> <li><code>join='inner'</code>\uff1a\u4ea4\u96c6\u903b\u8f91\uff0c\u53ea\u4fdd\u7559\u6240\u6709DataFrame\u7684\u975e\u4e32\u8054\u8f74\u4e0a\u90fd\u5b58\u5728\u7684\u7d22\u5f15\u503c\u3002</li> </ol> <p>\u9ed8\u8ba4<code>join='outer'</code>\uff1a</p> <pre><code>df4 = pd.DataFrame({'B': ['B2', 'B3', 'B6', 'B7'],\n                    'D': ['D2', 'D3', 'D6', 'D7'],\n                    'F': ['F2', 'F3', 'F6', 'F7']},\n                   index=[2, 3, 7, 6])\n\nresult = pd.concat([df1, df4], axis=1, sort=True, join=\"outer\")\n</code></pre> <p></p> <p>\u53ea\u4fdd\u7559\u4ea4\u96c6<code>join='inner'</code>\uff1a</p> <pre><code>result = pd.concat([df1, df4], axis=1, join='inner')\n</code></pre> <p></p> <p>\u5982\u679c\u53ea\u60f3\u7528\u5176\u4e2d\u4e00\u4e2aDataFrame\u7684\u7d22\u5f15\uff1a</p> <pre><code>result = pd.concat([df1, df4], axis=1).reindex(df1.index)\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u5728\u8fde\u63a5\u4e4b\u524d\u5efa\u7acb\u7d22\u5f15\uff1a</p> <pre><code>pd.concat([df1, df4.reindex(df1.index)], axis=1)\n</code></pre> <pre><code>    A   B   C   D    B    D    F\n0  A0  B0  C0  D0  NaN  NaN  NaN\n1  A1  B1  C1  D1  NaN  NaN  NaN\n2  A2  B2  C2  D2   B2   D2   F2\n3  A3  B3  C3  D3   B3   D3   F3\n</code></pre> <p></p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#append","title":"\u4f7f\u7528<code>append</code>\u65b9\u6cd5\u8fdb\u884c\u62fc\u63a5","text":"<p><code>append()</code>\u662fSeries\u548cDataFrame\u7684\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u5b83\u662f<code>concat()</code>\u7684\u4e00\u4e2a\u5feb\u6377\u65b9\u5f0f\uff0c\u4f46\u5b9e\u9645\u4e0a\uff0c<code>append</code>\u6bd4<code>concat</code>\u66f4\u65e9\u51fa\u73b0\u3002<code>append</code>\u65b9\u6cd5\u8ba9Series\u548cDataFrame\u6cbf\u7740\u884c\uff08<code>axis=0</code>\uff09\u62fc\u63a5\u5728\u4e00\u8d77\uff1a</p> <pre><code>df.append(self, other, ignore_index=False, verify_integrity=False, sort=False)\n</code></pre> <p></p> <p><code>append</code>\u4e0d\u8981\u6c42\u4e24\u4e2aDataFrame\u7684\u884c\u7d22\u5f15\u6216\u5217\u7d22\u5f15\u4ea4\u96c6\u4e3a\u7a7a\uff1a</p> <pre><code>result = df1.append(df4, sort=False, ignore_index=True)\n</code></pre> <p></p> <p><code>append</code> \u53ef\u4ee5\u62fc\u63a5\u591a\u4e2a\u5bf9\u8c61\uff1a</p> <pre><code>result = df1.append([df2, df3])\n</code></pre> <p></p> <p>\u4e0elist\u5bf9\u8c61\u7684<code>append()</code>\u65b9\u6cd5\u4e0d\u540c\uff0cDataFrame\u5bf9\u8c61\u7684<code>append()</code>\u65b9\u6cd5\u4f1a\u8fd4\u56de\u526f\u672c\uff0c\u4e0d\u4f1a\u4fee\u6539 <code>df1</code>\u3002</p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#ignore_index","title":"\u5ffd\u7565\u4e32\u8054\u8f74\u7d22\u5f15\uff1aignore_index","text":"<p>\u5982\u679c<code>DataFrame</code>\u7684\u7d22\u5f15\u6ca1\u6709\u610f\u4e49\uff0c\u53ef\u4ee5\u4f7f\u7528<code>ignore_index</code>\u53c2\u6570\uff1a</p> <pre><code>result = pd.concat([df1, df4], ignore_index=True, sort=False)\n</code></pre> <p></p> <p><code>DataFrame.append()</code>\u65b9\u6cd5\u4e5f\u6709\u8fd9\u4e2a\u53c2\u6570\uff1a</p> <pre><code>result = df1.append(df4, ignore_index=True, sort=False)\n</code></pre> <p></p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#seriesdataframe","title":"\u6df7\u5408\u4e32\u8054<code>Series</code>\u548c<code>DataFrame</code>","text":"<p>\u53ef\u4ee5\u62fc\u63a5<code>Series</code>\u548c<code>DataFrame</code>\u3002\u8be5 <code>Series</code>\u4f1a\u8f6c\u5316\u4e3a<code>DataFrame</code>\u7684\u4e00\u5217\uff0c\u5217\u540d\u662f<code>Series</code>\u7684<code>name</code>\u3002</p> <pre><code>s1 = pd.Series(['X0', 'X1', 'X2', 'X3'], name='X')\nresult = pd.concat([df1, s1], axis=1)\n</code></pre> <p></p> <p>\u5982\u679c<code>Series</code>\u672a\u547d\u540d\uff0c\u5219\u5c06\u8fde\u7eed\u7f16\u53f7\u3002</p> <pre><code>s2 = pd.Series(['_0', '_1', '_2', '_3'])\nresult = pd.concat([df1, s2, s2, s2], axis=1)\n</code></pre> <p></p> <p>\u901a\u8fc7<code>ignore_index=True</code>\u5220\u9664\u539f\u6709\u7d22\u5f15\u6807\u7b7e\u3002</p> <pre><code>result = pd.concat([df1, s1], axis=1, ignore_index=True)\n</code></pre> <p></p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#key","title":"<code>key</code>\u53c2\u6570","text":"<p><code>keys</code>\u53c2\u6570\u7684\u4e00\u4e2a\u76f8\u5f53\u666e\u904d\u7684\u7528\u6cd5\u662f\u91cd\u65b0\u6307\u5b9a\u539fDataFrame\u6216Series\u7684\u540d\u5b57\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u62fc\u63a5\u540e\u7684DataFrame\u7684\u5217\u7d22\u5f15\uff1a</p> <pre><code>s3 = pd.Series([0, 1, 2, 3], name='foo')\ns4 = pd.Series([0, 1, 2, 3])\ns5 = pd.Series([0, 1, 4, 5])\n\npd.concat([s3, s4, s5], axis=1)\n</code></pre> <pre><code>   foo  0  1\n0    0  0  0\n1    1  1  1\n2    2  2  4\n3    3  3  5\n</code></pre> <p>\u901a\u8fc7<code>keys</code>\u53c2\u6570\uff0c\u53ef\u4ee5\u8986\u76d6\u73b0\u6709\u7684\u5217\u540d\u3002</p> <pre><code>pd.concat([s3, s4, s5], axis=1, keys=['red', 'blue', 'yellow'])\n</code></pre> <pre><code>   red  blue  yellow\n0    0     0       0\n1    1     1       1\n2    2     2       4\n3    3     3       5\n</code></pre> <p>\u8ba9\u6211\u4eec\u8003\u8651\u7b2c\u4e00\u4e2a\u793a\u4f8b\u7684\u53d8\u4f53\uff1a</p> <pre><code>result = pd.concat(frames, keys=['x', 'y', 'z'])\n</code></pre> <p></p> <p>\u8fd8\u53ef\u4ee5\u5c06\u5305\u542bDataFrame\u5bf9\u8c61\u7684\u5b57\u5178\u4f20\u9012\u7ed9<code>concat</code>\u51fd\u6570\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b57\u5178\u7684\u952e\u5c06\u7528\u4f5c<code>keys</code>\u53c2\u6570\uff08\u9664\u975e\u6307\u5b9a\u4e86\u5176\u4ed6\u952e\uff09\uff1a</p> <pre><code>pieces = {'x': df1, 'y': df2, 'z': df3}\nresult = pd.concat(pieces)\n</code></pre> <p></p> <pre><code>result = pd.concat(pieces, keys=['z', 'y'])\n</code></pre> <p></p> <p>\u521b\u5efa\u7684MultiIndex\u7531\u4f20\u9012\u7684\u952e\u548c<code>DataFrame</code>\u884c\u7d22\u5f15\u6784\u9020\uff1a</p> <pre><code>result.index.levels\n</code></pre> <pre><code>FrozenList([['z', 'y'], [4, 5, 6, 7, 8, 9, 10, 11]])\n</code></pre> <p>\u5982\u679c\u60f3\u6307\u5b9a\u5176\u4ed6\u7ea7\u522b\uff08\u5076\u5c14\u4f1a\u8fd9\u6837\uff09\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b<code>levels</code>\u53c2\u6570\uff1a</p> <pre><code>result = pd.concat(pieces, keys=['x', 'y', 'z'],\n                   levels=[['z', 'y', 'x', 'w']],\n                   names=['group_key'])\n</code></pre> <p></p> <pre><code>result.index.levels\n</code></pre> <pre><code>FrozenList([['z', 'y', 'x', 'w'], [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,\n11]])\n</code></pre>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#dataframe","title":"\u5c06\u884c\u8ffd\u52a0\u5230 DataFrame","text":"<p>\u5c3d\u7ba1\u6548\u7387\u4e0d\u662f\u5f88\u9ad8\uff08\u56e0\u4e3a\u5fc5\u987b\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\uff09\uff0c\u4f46\u662f\u53ef\u4ee5\u5411<code>append</code>\u4f20\u9012\u4e00\u4e2a<code>Series</code>\u6216<code>dict</code>\u6765\u5c06\u4e00\u884c\u9644\u52a0\u5230<code>DataFrame</code>\uff1a</p> <pre><code>s2 = pd.Series(['X0', 'X1', 'X2', 'X3'], index=['A', 'B', 'C', 'D'])\nresult = df1.append(s2, ignore_index=True)\n</code></pre> <p></p> <p>\u8fd8\u53ef\u4ee5\u4f20\u9012\u5b57\u5178\u6216\u7cfb\u5217\u7684\u5217\u8868\uff1a</p> <pre><code>dicts = [{'A': 1, 'B': 2, 'C': 3, 'X': 4},\n         {'A': 5, 'B': 6, 'C': 7, 'Y': 8}]\n\nresult = df1.append(dicts, ignore_index=True, sort=False)\n</code></pre> <p></p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#_1","title":"\u6570\u636e\u5e93\u5f62\u5f0f\u7684\u62fc\u63a5","text":"<p>pandas\u5177\u6709\u5168\u529f\u80fd\u3001\u9ad8\u6027\u80fd\u7684\u5185\u5b58\u8fde\u63a5\u64cd\u4f5c\uff0c\u4e0eSQL\u7b49\u5173\u7cfb\u6570\u636e\u5e93\u975e\u5e38\u76f8\u4f3c\u3002\u8fd9\u4e9b\u65b9\u6cd5\u7684\u6027\u80fd\u6bd4\u5176\u4ed6\u5f00\u6e90\u5b9e\u73b0\uff08\u5982R\u4e2d\u7684<code>base::merge.data.frame</code>\uff09\u8981\u597d\u5f97\u591a\uff08\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u751a\u81f3\u8d85\u8fc7\u4e00\u4e2a\u6570\u91cf\u7ea7\uff09\u3002\u539f\u56e0\u662f\u4ed4\u7ec6\u7684\u7b97\u6cd5\u8bbe\u8ba1\u548cDataFrame\u7684\u6570\u636e\u7684\u5185\u90e8\u5e03\u5c40\u3002</p> <p>pandas\u63d0\u4f9b\u51fd\u6570<code>merge()</code>\uff0c\u4f5c\u4e3aDataFrame\u6216Series\u5bf9\u8c61\u4e4b\u95f4\u6240\u6709\u6807\u51c6\u6570\u636e\u5e93\u62fc\u63a5\u64cd\u4f5c\u7684\u5165\u53e3\u70b9\uff1a</p> <pre><code>pd.merge(left, right, how='inner', on=None, left_on=None, right_on=None,\n         left_index=False, right_index=False, sort=False, suffixes=('_x', '_y'),\n         copy=True, indicator=False, validate=None)\n</code></pre> <ul> <li><code>left</code>\uff1a<code>DataFrame</code>, <code>Series</code>.</li> <li><code>right</code>\uff1a<code>DataFrame</code>, <code>Series</code>.</li> <li><code>on</code>\uff1a<code>str</code>, <code>list of str</code>. \u5b83\u6307\u5b9a\u7528\u4f5c\u8fde\u63a5\u952e\u7684\u5217\u7684<code>label</code>\u3002\u5e76\u4e14\u5fc5\u987b\u5728\u4e24\u4e2a<code>DataFrame</code>\u4e2d\u8fd9\u4e9b<code>label</code>\u90fd\u5b58\u5728\u3002\u5982\u679c\u5b83\u4e3a<code>None</code>\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528\u4e24\u4e2a<code>DataFrame</code>\u7684\u5217<code>label</code>\u7684\u4ea4\u96c6\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7<code>left_on/right_on</code>\u5206\u522b\u6307\u5b9a\u4e24\u4fa7<code>DataFrame</code>\u5bf9\u9f50\u7684\u8fde\u63a5\u952e\u3002</li> <li><code>left_on</code>\uff1a<code>str</code>, <code>list of str</code>. \u6307\u5b9a<code>left</code>\u5bf9\u8c61\u7528\u4f5c\u8fde\u63a5\u952e\u7684\u5217\uff0c\u53c2\u8003<code>on</code>\u3002</li> <li><code>right_on</code>\uff1a<code>str</code>, <code>list of str</code>. \u6307\u5b9a<code>right</code>\u5bf9\u8c61\u7528\u4f5c\u8fde\u63a5\u952e\u7684\u5217\uff0c\u53c2\u8003<code>on</code>\u3002</li> <li><code>left_index</code>\uff1a<code>bool</code>. \u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u4f7f\u7528<code>left</code>\u5bf9\u8c61\u7684\u884c\u7d22\u5f15\u6765\u4f5c\u4e3a\u8fde\u63a5\u952e\u6765\u5408\u5e76\u3002</li> <li><code>right_index</code>\uff1a<code>bool</code>. \u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u4f7f\u7528<code>right</code>\u5bf9\u8c61\u7684\u884c\u7d22\u5f15\u6765\u4f5c\u4e3a\u8fde\u63a5\u952e\u6765\u5408\u5e76\u3002</li> <li><code>how</code>\uff1a<code>{'left', 'right', 'outer', 'inner'}</code>\u3002\u9ed8\u8ba4\u4e3a<code>inner</code>\u3002\u6709\u5173\u6bcf\u79cd\u65b9\u6cd5\u7684\u8be6\u7ec6\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1\u4e0b\u6587\u3002</li> <li><code>sort</code>\uff1a<code>bool</code>. \u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u5728\u7ed3\u679c\u4e2d\uff0c\u5bf9\u5408\u5e76\u91c7\u7528\u7684\u8fde\u63a5\u952e\u8fdb\u884c\u6392\u5e8f\u3002</li> <li><code>suffixes</code>\uff1a\u4e00\u4e2a\u4e8c\u5143\u5e8f\u5217\u3002\u5bf9\u4e8e\u7ed3\u679c\u4e2d\u540c\u540d\u7684\u5217\uff0c\u6dfb\u52a0\u524d\u7f00\u6765\u6307\u793a\u5b83\u4eec\u6765\u81ea\u54ea\u4e2a<code>DataFrame</code>\u3002</li> <li><code>copy</code>\uff1a<code>bool</code>. \u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u62f7\u8d1d\u57fa\u7840\u6570\u636e\u3002\u5426\u5219\u4e0d\u62f7\u8d1d\u6570\u636e\u3002</li> <li><code>indicator</code>\uff1a<code>str</code>, <code>bool</code>.<ol> <li>\u5982\u679c\u4e3a<code>True</code>\uff0c\u7ed3\u679c\u4e2d\u4f1a\u591a\u51fa\u4e00\u4e2a\u540d\u4e3a<code>_merge</code>\u7684\u5217\uff0c\u7528\u4e8e\u6307\u793a\u6bcf\u4e00\u884c\u6765\u81ea\u4e8e\u54ea\u4e2a<code>DataFrame</code>\u3002</li> <li>\u5982\u679c\u4e3a\u5b57\u7b26\u4e32\uff0c\u7ed3\u679c\u4e2d\u4f1a\u591a\u51fa\u4e00\u4e2a\u540d\u4e3a<code>indicator</code>\u7684\u5217\uff0c\u7528\u4e8e\u6307\u793a\u6bcf\u4e00\u884c\u6765\u81ea\u4e8e\u54ea\u4e2a<code>DataFrame</code>\u3002</li> </ol> </li> <li><code>validate</code>\uff1a<code>str</code>, <code>None</code>. \u5982\u679c\u6307\u5b9a\uff0c\u5219\u68c0\u67e5\u5408\u5e76\u662f\u5426\u4e3a\u6307\u5b9a\u7684\u7c7b\u578b\u3002<ol> <li><code>'one_to_one'</code>\u6216<code>'1:1'</code>\uff1a\u68c0\u67e5\u5408\u5e76\u952e\u5728<code>left</code>\u548c<code>right</code>\u4e2d\u662f\u5426\u552f\u4e00\u3002</li> <li><code>'one_to_many'</code>\u6216<code>'1:m'</code>\uff1a\u68c0\u67e5\u5408\u5e76\u952e\u5728<code>left</code>\u4e2d\u662f\u5426\u552f\u4e00\u3002</li> <li><code>'many_to_one'</code>\u6216<code>'m:1'</code>\uff1a\u68c0\u67e5\u5408\u5e76\u952e\u5728<code>right</code>\u4e2d\u662f\u5426\u552f\u4e00\u3002</li> <li><code>'many_to_many'</code>\u6216<code>'m:m'</code>\uff1a\u5141\u8bb8\u5408\u5e76\u952e\u5728<code>left</code>\u548c<code>right</code>\u4e2d\u5b58\u5728\u91cd\u590d\u3002</li> </ol> </li> </ul> <p>\u65b0\u529f\u80fd</p> <p>0.23.0\u7248\u672c\u4e2d\u6dfb\u52a0\u4e86\u6307\u5b9a\u7d22\u5f15\u7ea7\u522b\u7684<code>on</code>\u3001<code>left_on</code>\u3001<code>right_on</code>\u53c2\u6570\u7684\u652f\u6301\u3002\u57280.24.0\u7248\u4e2d\u6dfb\u52a0\u4e86\u5bf9\u88ab\u547d\u540d\u7684Series\u5408\u5e76\u7684\u652f\u6301\u3002</p> <p><code>merge</code>\u662fpandas\u547d\u540d\u7a7a\u95f4\u4e2d\u7684\u4e00\u4e2a\u51fd\u6570\uff0c\u5b83\u4e5f\u53ef\u4ee5\u4f5c\u4e3aDataFrame\u5b9e\u4f8b\u65b9\u6cd5<code>merge()</code>\u4f7f\u7528\uff0c\u8c03\u7528 <code>DataFrame.merge</code>\u65f6\uff0c<code>DataFrame</code>\u88ab\u89c6\u4e3a\u62fc\u63a5\u4e2d\u7684\u5de6\u4fa7\u5bf9\u8c61\u3002</p> <p>\u76f8\u5173<code>join()</code>\u65b9\u6cd5\u5728<code>merge</code>\u5185\u90e8\u7528\u4e8e\u7d22\u5f15\u7d22\u5f15\u8fde\u63a5\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff09\u548c\u7d22\u5f15\u5217\u8fde\u63a5\u3002\u5982\u679c\u4ec5\u52a0\u5165\u7d22\u5f15\uff0c\u5219\u53ef\u80fd\u5e0c\u671b\u4f7f\u7528<code>DataFrame.join</code>\u6765\u8282\u7701\u4e00\u4e9b\u8f93\u5165\u3002</p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#_2","title":"\u5408\u5e76\u65b9\u6cd5\u7b80\u4ecb\uff08\u5173\u7cfb\u4ee3\u6570\uff09","text":"<p>\u6709\u7ecf\u9a8c\u7684\u5173\u7cfb\u6570\u636e\u5e93\u7528\u6237\u719f\u6089\u7528\u4e8e\u63cf\u8ff0\u4e24\u4e2aSQL\u7c7b\u8868\u7ed3\u6784\uff08DataFrame\u5bf9\u8c61\uff09\u4e4b\u95f4\u7684\u8fde\u63a5\u64cd\u4f5c\u7684\u672f\u8bed\u3002\u6709\u51e0\u4e2a\u6848\u4f8b\u9700\u8981\u8003\u8651\uff0c\u8fd9\u4e9b\u6848\u4f8b\u975e\u5e38\u91cd\u8981\uff1a</p> <ul> <li>one-to-one\u8fde\u63a5\uff1a\u4e24\u4e2aDataFrame\u5bf9\u8c61\u7684\u7ec4\u5408\u952e\u90fd\u662f\u552f\u4e00\u503c\u3002</li> <li>many-to-one\u8fde\u63a5\uff1a\u5176\u4e2d\u4e00\u4e2aDataFrame\u5bf9\u8c61\u7684\u7ec4\u5408\u952e\u662f\u552f\u4e00\u503c\uff0c\u53e6\u4e00\u4e2a\u6709\u91cd\u590d\u503c\u3002</li> <li>many-to-many\u8fde\u63a5\uff1a\u4e24\u4e2aDataFrame\u5bf9\u8c61\u7684\u7ec4\u5408\u952e\u90fd\u6709\u91cd\u590d\u503c\u3002</li> </ul> <p>Caution</p> <p>\u5728\u5217\u4e0a\u8fde\u63a5\u5217\u65f6\uff08\u53ef\u80fd\u662f\u591a\u5bf9\u591a\u8fde\u63a5\uff09\uff0c\u4f20\u9012\u7684<code>DataFrame</code>\u5bf9\u8c61\u4e0a\u7684\u6240\u6709\u7d22\u5f15\u90fd\u5c06\u88ab\u4e22\u5f03\u3002</p> <p>\u503c\u5f97\u82b1\u4e9b\u65f6\u95f4\u4e86\u89e3\u591a\u5bf9\u591a\u8fde\u63a5\u6848\u4f8b\u7684\u7ed3\u679c\u3002\u5728SQL/\u6807\u51c6\u5173\u7cfb\u4ee3\u6570\u4e2d\uff0c\u5982\u679c\u952e\u7ec4\u5408\u5728\u4e24\u4e2a\u8868\u4e2d\u51fa\u73b0\u4e0d\u6b62\u4e00\u6b21\uff0c\u5219\u751f\u6210\u7684\u8868\u5c06\u5177\u6709\u5173\u8054\u6570\u636e\u7684\u7b1b\u5361\u5c14\u79ef\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u975e\u5e38\u57fa\u672c\u7684\u4f8b\u5b50\uff0c\u4f7f\u7528\u4e00\u4e2a\u7ec4\u5408\u952e\uff0c\u5e76\u4e14\u7ec4\u5408\u952e\u7684\u503c\u90fd\u662f\u552f\u4e00\u7684\uff1a</p> <pre><code>left = pd.DataFrame({'key': ['K0', 'K1', 'K2', 'K3'],\n                     'A': ['A0', 'A1', 'A2', 'A3'],\n                     'B': ['B0', 'B1', 'B2', 'B3']})\n\nright = pd.DataFrame({'key': ['K0', 'K1', 'K2', 'K3'],\n                      'C': ['C0', 'C1', 'C2', 'C3'],\n                      'D': ['D0', 'D1', 'D2', 'D3']})\n\nresult = pd.merge(left, right, on='key')\n</code></pre> <p></p> <p>\u591a\u4e2a\u7ec4\u5408\u952e\u7684\u793a\u4f8b\uff08\u9ed8\u8ba4<code>how='inner'</code>\uff09\uff1a</p> <pre><code>left = pd.DataFrame({'key1': ['K0', 'K0', 'K1', 'K2'],\n                     'key2': ['K0', 'K1', 'K0', 'K1'],\n                     'A': ['A0', 'A1', 'A2', 'A3'],\n                     'B': ['B0', 'B1', 'B2', 'B3']})\n\nright = pd.DataFrame({'key1': ['K0', 'K1', 'K1', 'K2'],\n                      'key2': ['K0', 'K0', 'K0', 'K0'],\n                      'C': ['C0', 'C1', 'C2', 'C3'],\n                      'D': ['D0', 'D1', 'D2', 'D3']})\n\nresult = pd.merge(left, right, on=['key1', 'key2'])\n</code></pre> <p></p> <p>\u5f53\u5de6\u53f3\u4e24\u8fb9\u7684\u7ec4\u5408\u952e\u4e0d\u4e00\u81f4\u65f6\uff0c\u5904\u7406\u884c\u4e3a\u7531<code>how</code>\u53c2\u6570\u6307\u5b9a\u3002\u4ee5\u4e0b\u662f<code>how</code>\u9009\u9879\u53ca\u5176SQL\u7b49\u6548\u540d\u79f0\u7684\u6458\u8981\uff1a</p> \u5408\u5e76\u65b9\u5f0f SQL\u8fde\u63a5\u540d\u79f0 \u63cf\u8ff0 <code>left</code> <code>LEFT OUTER JOIN</code> \u4ec5\u4fdd\u7559left\u51fa\u73b0\u7684\u7ec4\u5408\u952e <code>right</code> <code>RIGHT OUTER JOIN</code> \u4ec5\u4fdd\u7559right\u51fa\u73b0\u7684\u7ec4\u5408\u952e <code>outer</code> <code>FULL OUTER JOIN</code> \u4fdd\u7559left\u548cright\u7ec4\u5408\u952e\u7684\u5e76\u96c6 <code>inner</code> <code>INNER JOIN</code> \u4fdd\u7559left\u548cright\u7ec4\u5408\u952e\u7684\u4ea4\u96c6 <pre><code>result = pd.merge(left, right, how='left', on=['key1', 'key2'])\n</code></pre> <p></p> <pre><code>result = pd.merge(left, right, how='right', on=['key1', 'key2'])\n</code></pre> <p></p> <pre><code>result = pd.merge(left, right, how='outer', on=['key1', 'key2'])\n</code></pre> <p></p> <pre><code>result = pd.merge(left, right, how='inner', on=['key1', 'key2'])\n</code></pre> <p></p> <p>\u8fd9\u662f\u7ec4\u5408\u952e\u5177\u6709\u91cd\u590d\u503c\u7684\u793a\u4f8b\uff1a</p> <pre><code>left = pd.DataFrame({'A': [1, 2], 'B': [2, 2]})\nright = pd.DataFrame({'A': [4, 5, 6], 'B': [2, 2, 2]})\nresult = pd.merge(left, right, on='B', how='outer')\n</code></pre> <p></p> <p>Caution</p> <p>\u5728\u91cd\u590d\u952e\u4e0a\u8fdb\u884c\u62fc\u63a5\uff0c\u4f1a\u5bfc\u81f4\u8fd4\u56de\u7684DataFrame\u7684\u51fd\u6570\u662f\u539f\u6765\u4e24\u4e2aDataFrame\u884c\u6570\u7684\u4e58\u79ef\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u5185\u5b58\u6ea2\u51fa\u3002\u5982\u679cDataFrame\u5f88\u5927\uff0c\u5e94\u8be5\u5bf9\u91cd\u590d\u952e\u8fdb\u884c\u7ba1\u7406\u3002</p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#validate","title":"\u68c0\u67e5\u91cd\u590d\u952e\uff1avalidate","text":"<p>pandas 0.21.0 \u7248\u672c\u6dfb\u52a0\u4e86\u6b64\u53c2\u6570\uff0c\u7528\u4e8e\u81ea\u52a8\u68c0\u67e5\u7ec4\u5408\u952e\u4e2d\u662f\u5426\u6709\u610f\u5916\u7684\u91cd\u590d\u9879\u3002\u5728\u5408\u5e76\u64cd\u4f5c\u4e4b\u524d\u68c0\u67e5\u952e\u7684\u552f\u4e00\u6027\uff0c\u53ef\u4ee5\u9632\u6b62\u5185\u5b58\u6ea2\u51fa\u3002\u68c0\u67e5\u7ec4\u5408\u952e\u7684\u552f\u4e00\u6027\u4e5f\u662f\u786e\u4fdd\u6570\u636e\u7ed3\u6784\u7b26\u5408\u9884\u671f\u7684\u4e00\u79cd\u597d\u65b9\u6cd5\u3002</p> <p>\u5728\u4ee5\u4e0b\u793a\u4f8b\u4e2d\uff0cright\u4e2d\u7684<code>B</code>\u5b58\u5728\u91cd\u590d\u7684\u503c\u3002\u7531\u4e8e\u8fd9\u4e0d\u662f<code>validate</code>\u53c2\u6570\u4e2d\u6307\u5b9a\u7684\u4e00\u5bf9\u4e00\u5408\u5e76\uff0c\u56e0\u6b64\u5c06\u5f15\u53d1\u5f02\u5e38\u3002</p> <pre><code>left = pd.DataFrame({'A': [1, 2], 'B': [1, 2]})\nright = pd.DataFrame({'A': [4, 5, 6], 'B': [2, 2, 2]})\ntry:\n    result = pd.merge(left, right, on='B', how='outer', validate=\"one_to_one\")\nexcept Exception as e:\n    print(\"MergeError:\", e)\n</code></pre> <pre><code>MergeError: Merge keys are not unique in right dataset; not a one-to-\none merge\n</code></pre> <p>\u5982\u679c\u7528\u6237\u77e5\u9053\u53f3\u8fb9\u7684\u91cd\u590d\u9879\uff0c<code>DataFrame</code>\u4f46\u8981\u786e\u4fdd\u5de6\u8fb9\u7684DataFrame\u4e2d\u6ca1\u6709\u91cd\u590d\u9879\uff0c\u5219\u53ef\u4ee5\u6539\u7528\u8be5<code>validate='one_to_many'</code>\u53c2\u6570\uff0c\u8fd9\u4e0d\u4f1a\u5f15\u53d1\u5f02\u5e38\u3002</p> <pre><code>pd.merge(left, right, on='B', how='outer', validate=\"one_to_many\")\n</code></pre> <pre><code>   A_x  B  A_y\n0    1  1  NaN\n1    2  2  4.0\n2    2  2  5.0\n3    2  2  6.0\n</code></pre>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#indicator","title":"\u6307\u793a\u7b26\uff1aindicator","text":"<p><code>merge()</code>\u63a5\u53d7\u6307\u793a\u7b26\u53c2\u6570<code>indicator</code>\u3002\u5982\u679c<code>indicator=True</code>\uff0c\u5219\u5c06\u4e00\u4e2a\u540d\u4e3a<code>_merge</code>\uff0cdtype\u4e3aCategorical\u7684\u5217\u6dfb\u52a0\u5230\u8f93\u51faDataFrame\u7684\u672b\u5c3e\uff1a</p> indicator <code>_merge</code>\u503c \u4ec5\u51fa\u73b0\u5728<code>'left'</code>\u7ec4\u5408\u952e <code>left_only</code> \u4ec5\u51fa\u73b0\u5728<code>'right'</code>\u7ec4\u5408\u952e <code>right_only</code> \u540c\u65f6\u51fa\u73b0\u5728<code>'left'</code>\u548c<code>'right'</code>\u7ec4\u5408\u952e <code>both</code> <pre><code>df1 = pd.DataFrame({'col1': [0, 1], 'col_left': ['a', 'b']})\ndf2 = pd.DataFrame({'col1': [1, 2, 2], 'col_right': [2, 2, 2]})\npd.merge(df1, df2, on='col1', how='outer', indicator=True)\n</code></pre> <pre><code>   col1 col_left  col_right      _merge\n0     0        a        NaN   left_only\n1     1        b        2.0        both\n2     2      NaN        2.0  right_only\n3     2      NaN        2.0  right_only\n</code></pre> <p><code>indicator</code>\u53c2\u6570\u8fd8\u53ef\u4ee5\u63a5\u53d7\u5b57\u7b26\u4e32\u53c2\u6570\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6307\u6807\u51fd\u6570\u5c06\u4f7f\u7528\u4f20\u9012\u7684\u5b57\u7b26\u4e32\u7684\u503c\u4f5c\u4e3a\u6307\u6807\u5217\u7684\u540d\u79f0\u3002</p> <pre><code>pd.merge(df1, df2, on='col1', how='outer', indicator='indicator_column')\n</code></pre> <pre><code>   col1 col_left  col_right indicator_column\n0     0        a        NaN        left_only\n1     1        b        2.0             both\n2     2      NaN        2.0       right_only\n3     2      NaN        2.0       right_only\n</code></pre>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#_3","title":"\u5408\u5e76\u65f6\u6570\u636e\u7c7b\u578b\u7684\u8f6c\u6362","text":"<p>\u5408\u5e76\u5c06\u4fdd\u7559\u7ec4\u5408\u952e\u7684\u6570\u636e\u7c7b\u578b</p> <pre><code>left = pd.DataFrame({'key': [1], 'v1': [10]})\nprint(left, \"\\n\")\n\nright = pd.DataFrame({'key': [1, 2], 'v1': [20, 30]})\nprint(right)\n</code></pre> <pre><code>   key  v1\n0    1  10\n\n   key  v1\n0    1  20\n1    2  30\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u4fdd\u7559\u7ec4\u5408\u952e\uff1a</p> <pre><code>print(pd.merge(left, right, how='outer'), \"\\n\")\nprint(pd.merge(left, right, how='outer').dtypes)\n</code></pre> <pre><code>   key  v1\n0    1  10\n1    1  20\n2    2  30\n\nkey    int64\nv1     int64\ndtype: object\n</code></pre> <p>\u5982\u679c\u7f3a\u5c11\u5f15\u5165\u7684\u503c\uff0c\u5219\u751f\u6210\u7684dtype\u5c06\u88ab\u8f6c\u6362\uff1a</p> <pre><code>print(pd.merge(left, right, how='outer', on='key'), \"\\n\")\nprint(pd.merge(left, right, how='outer', on='key').dtypes)\n</code></pre> <pre><code>   key  v1_x  v1_y\n0    1  10.0    20\n1    2   NaN    30\n\nkey       int64\nv1_x    float64\nv1_y      int64\ndtype: object\n</code></pre> <p>\u5408\u5e76\u5c06\u4fdd\u7559mergands\u7684category\u7c7b\u578b\u3002\u53e6\u8bf7\u53c2\u9605\u5173\u4e8ecategoricals\u7684\u90e8\u5206\u3002</p> <p>left\uff1a</p> <pre><code>from pandas.api.types import CategoricalDtype\n\nX = pd.Series(np.random.choice(['foo', 'bar'], size=(10,)))\nX = X.astype(CategoricalDtype(categories=['foo', 'bar']))\n\nleft = pd.DataFrame({'X': X,\n                     'Y': np.random.choice(['one', 'two', 'three'],\n                                           size=(10,))})\n\nprint(left, \"\\n\")\nprint(left.dtypes)\n</code></pre> <pre><code>     X      Y\n0  foo    one\n1  foo    one\n2  foo    one\n3  foo    one\n4  foo    one\n5  foo    two\n6  bar    one\n7  bar  three\n8  bar  three\n9  bar    one\n\nX    category\nY      object\ndtype: object\n</code></pre> <p>right\uff1a</p> <pre><code>right = pd.DataFrame({'X': pd.Series(['foo', 'bar'],\n                                     dtype=CategoricalDtype(['foo', 'bar'])),\n                      'Z': [1, 2]})\n\nprint(right, \"\\n\")\nprint(right.dtypes)\n</code></pre> <pre><code>     X  Z\n0  foo  1\n1  bar  2\n\nX    category\nZ       int64\ndtype: object\n</code></pre> <p>\u5408\u5e76\u7ed3\u679c\uff1a</p> <pre><code>result = pd.merge(left, right, how='outer')\n\nprint(result, \"\\n\")\nprint(result.dtypes)\n</code></pre> <pre><code>     X      Y  Z\n0  foo    one  1\n1  foo    one  1\n2  foo    one  1\n3  foo    one  1\n4  foo    one  1\n5  foo    two  1\n6  bar    one  2\n7  bar  three  2\n8  bar  three  2\n9  bar    one  2\n\nX    category\nY      object\nZ       int64\ndtype: object\n</code></pre> <p>\u6ce8\u610f</p> <p>category \u7c7b\u578b\u5fc5\u987b\u5b8c\u5168\u76f8\u540c\uff0c\u8fd9\u610f\u5473\u7740category\u5bf9\u8c61\u6709\u76f8\u540c\u7684\u7c7b\u522b\u548c\u6709\u5e8f\u5c5e\u6027\u3002\u5426\u5219\uff0ccategory\u7c7b\u578b\u5c06\u88ab\u8f6c\u6362\u6210object\u7c7b\u578b\u3002</p> <p>\u6ce8\u610f</p> <p>\u4e0eobject\u6570\u636e\u7c7b\u578b\u5408\u5e76\u76f8\u6bd4\uff0c\u5728\u76f8\u540c\u7684category\u6570\u636e\u7c7b\u578b\u4e0a\u8fdb\u884c\u5408\u5e76\u53ef\u4ee5\u83b7\u5f97\u66f4\u597d\u7684\u6027\u80fd\u3002</p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#join_1","title":"<code>join</code>\u65b9\u6cd5","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u57fa\u672c\u7684\u793a\u4f8b\uff1a</p> <pre><code>left = pd.DataFrame({'A': ['A0', 'A1', 'A2'],\n                     'B': ['B0', 'B1', 'B2']},\n                    index=['K0', 'K1', 'K2'])\n\nright = pd.DataFrame({'C': ['C0', 'C2', 'C3'],\n                      'D': ['D0', 'D2', 'D3']},\n                     index=['K0', 'K2', 'K3'])\n\nresult = left.join(right)\n</code></pre> <p></p> <pre><code>result = left.join(right, how='outer')\n</code></pre> <p></p> <p>\u4e0e\u4e0a\u8ff0\u76f8\u540c\uff0c\u4f46\u5e26\u6709<code>how='inner'</code>\uff1a</p> <pre><code>result = left.join(right, how='inner')\n</code></pre> <p></p> <p>\u6b64\u5904\u7684\u6570\u636e\u5bf9\u9f50\u5728\u7d22\u5f15\uff08\u884c\u6807\u7b7e\uff09\u4e0a\u3002\u4f7f\u7528<code>merge</code>\u6307\u793a\u5176\u4f7f\u7528\u7d22\u5f15\u7684\u9644\u52a0\u53c2\u6570\u53ef\u4ee5\u5b9e\u73b0\u76f8\u540c\u7684\u884c\u4e3a\uff1a</p> <pre><code>result = pd.merge(left, right, left_index=True, right_index=True, how='outer')\n</code></pre> <p></p> <pre><code>result = pd.merge(left, right, left_index=True, right_index=True, how='inner')\n</code></pre> <p></p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#_4","title":"\u62fc\u63a5\u5217\u548c\u7d22\u5f15","text":"<p><code>join()</code>\u63a5\u53d7\u4e00\u4e2a\u53ef\u9009\u7684<code>on</code>\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u53ef\u4ee5\u662f\u4e00\u4e2a\u5217\u6216\u591a\u4e2a\u5217\u540d\uff0c\u5b83\u6307\u5b9a<code>right</code>\u7684\u884c\u7d22\u5f15\u5c06\u5728<code>left</code>\u4e2d\u7684\u8be5\u5217\u4e0a\u5bf9\u9f50\u3002\u5373\u4ee5\u4e0b\u4e24\u4e2a\u51fd\u6570\u8c03\u7528\u5b8c\u5168\u7b49\u4ef7\uff1a</p> <pre><code>left.join(right, on=key_or_keys, how='left', sort=False)\npd.merge(left, right, left_on=key_or_keys, right_index=True,\n         how='left', sort=False)\n</code></pre> <p>\u60a8\u53ef\u4ee5\u9009\u62e9\u4efb\u4f55\u4e00\u79cd\u66f4\u65b9\u4fbf\u7684\u5f62\u5f0f\u3002\u5bf9\u4e8emany-to-one\u62fc\u63a5\uff08\u5176\u4e2d\u4e00\u4e2aDataFrame\u7684\u7d22\u5f15\u662f\u7ec4\u5408\u952e\uff09\uff0c\u4f7f\u7528<code>join</code>\u53ef\u80fd\u4f1a\u66f4\u65b9\u4fbf\u3002\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u793a\u4f8b\uff1a</p> <pre><code>left = pd.DataFrame({'A': ['A0', 'A1', 'A2', 'A3'],\n                     'B': ['B0', 'B1', 'B2', 'B3'],\n                     'key': ['K0', 'K1', 'K0', 'K1']})\n\nright = pd.DataFrame({'C': ['C0', 'C1'],\n                      'D': ['D0', 'D1']},\n                     index=['K0', 'K1'])\n\nresult = left.join(right, on='key')\n</code></pre> <p></p> <pre><code>result = pd.merge(left, right, left_on='key', right_index=True,\n                  how='left', sort=False)\n</code></pre> <p></p> <p>\u5982\u679c\u7ec4\u5408\u952e\u6709\u591a\u4e2a\uff0c\u4f20\u9012\u7684DataFrame\u5fc5\u987b\u5177\u6709<code>MultiIndex</code>\uff1a</p> <pre><code>left = pd.DataFrame({'A': ['A0', 'A1', 'A2', 'A3'],\n                     'B': ['B0', 'B1', 'B2', 'B3'],\n                     'key1': ['K0', 'K0', 'K1', 'K2'],\n                     'key2': ['K0', 'K1', 'K0', 'K1']})\n\nindex = pd.MultiIndex.from_tuples([('K0', 'K0'),\n                                   ('K1', 'K0'),\n                                   ('K2', 'K0'),\n                                   ('K2', 'K1')])\n\nright = pd.DataFrame({'C': ['C0', 'C1', 'C2', 'C3'],\n                      'D': ['D0', 'D1', 'D2', 'D3']},\n                     index=index)\n</code></pre> <p>\u73b0\u5728\uff0c\u53ef\u4ee5\u901a\u8fc7\u4f20\u9012\u4e24\u4e2a\u7ec4\u5408\u952e\u6765\u8fdb\u884c\u62fc\u63a5\uff1a</p> <pre><code>result = left.join(right, on=['key1', 'key2'])\n</code></pre> <p></p> <p>\u9ed8\u8ba4\u7684<code>DataFrame.join</code>\u662f\u6267\u884c\u5de6\u8054\u63a5\uff08\u5bf9\u4e8eExcel\u7528\u6237\uff0c\u672c\u8d28\u4e0a\u662f\u201c VLOOKUP\u201d\u64cd\u4f5c\uff09\uff0c\u8be5\u8054\u63a5\u4ec5\u4f7f\u7528\u5728\u8c03\u7528DataFrame\u4e2d\u627e\u5230\u7684\u952e\u3002\u5176\u4ed6\u8054\u63a5\u7c7b\u578b\uff08\u4f8b\u5982\u5185\u90e8\u8054\u63a5\uff09\u4e5f\u53ef\u4ee5\u8f7b\u677e\u6267\u884c\uff1a</p> <pre><code>result = left.join(right, on=['key1', 'key2'], how='inner')\n</code></pre> <p></p> <p>\u5982\u60a8\u6240\u89c1\uff0c\u8fd9\u5c06\u5220\u9664\u6240\u6709\u4e0d\u5339\u914d\u7684\u884c\u3002</p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#_5","title":"\u62fc\u63a5\u5355\u5c42\u7d22\u5f15\u548c\u591a\u5c42\u7d22\u5f15","text":"<p>\u53ef\u4ee5\u5c06\u5355\u5c42\u7d22\u5f15DataFrame\u4e0e\u591a\u5c42\u7d22\u5f15DataFrame\u7684\u4e00\u4e2a\u7ea7\u522b\u8fde\u63a5\u8d77\u6765\u3002\u8be5\u7ea7\u522b\u5c06\u4e0e\u5355\u7d22\u5f15DataFrame\u7684\u7d22\u5f15\u540d\u79f0\u548c\u591a\u7d22\u5f15DataFrame\u7684\u7ea7\u522b\u540d\u79f0\u76f8\u5339\u914d</p> <pre><code>left = pd.DataFrame({'A': ['A0', 'A1', 'A2'],\n                     'B': ['B0', 'B1', 'B2']},\n                    index=pd.Index(['K0', 'K1', 'K2'], name='key'))\n\nindex = pd.MultiIndex.from_tuples([('K0', 'Y0'),\n                                   ('K1', 'Y1'),\n                                   ('K2', 'Y2'),\n                                   ('K2', 'Y3')],\n                                  names=['key', 'Y'])\n\nright = pd.DataFrame({'C': ['C0', 'C1', 'C2', 'C3'],\n                      'D': ['D0', 'D1', 'D2', 'D3']},\n                     index=index)\n\nresult = left.join(right, how='inner')\n</code></pre> <p></p> <p>\u4e0b\u9762\u7684\u51fd\u6570\u548c\u4e0a\u9762\u7684\u65b9\u6cd5\u662f\u7b49\u6548\u7684\uff0c\u4f46<code>pd.merge</code>\u7684\u4fe1\u606f\u66f4\u8be6\u7ec6\uff0c\u5b58\u50a8\u6548\u7387\u66f4\u9ad8/\u66f4\u5feb\u3002</p> <pre><code>result = pd.merge(left.reset_index(), right.reset_index(),\n                  on=['key'], how='inner').set_index(['key', 'Y'])\n</code></pre> <p></p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#multiindexes","title":"\u62fc\u63a5MultiIndexes","text":"<p>\u53ea\u8981\u5728\u8fde\u63a5\u4e2d\u5b8c\u5168\u4f7f\u7528\u4e86\u53f3\u53c2\u6570\u7684\u7d22\u5f15\uff0c\u5e76\u4e14\u8be5\u53c2\u6570\u662f\u5de6\u53c2\u6570\u4e2d\u7d22\u5f15\u7684\u5b50\u96c6\uff0c\u5c31\u53ef\u4ee5\u7528\u6709\u9650\u7684\u65b9\u5f0f\u6765\u652f\u6301\u5b83\uff0c\u5982\u4e0b\u4f8b\u6240\u793a\uff1a</p> <pre><code>leftindex = pd.MultiIndex.from_product([list('abc'), list('xy'), [1, 2]],\n                                       names=['abc', 'xy', 'num'])\n\nleft = pd.DataFrame({'v1': range(12)}, index=leftindex)\nprint(left, \"\\n\")\n\nrightindex = pd.MultiIndex.from_product([list('abc'), list('xy')],\n                                        names=['abc', 'xy'])\n\nright = pd.DataFrame({'v2': [100 * i for i in range(1, 7)]}, index=rightindex)\n\nprint(right, \"\\n\")\n\nleft.join(right, on=['abc', 'xy'], how='inner')\n</code></pre> <pre><code>            v1\nabc xy num\na   x  1     0\n       2     1\n    y  1     2\n       2     3\nb   x  1     4\n       2     5\n    y  1     6\n       2     7\nc   x  1     8\n       2     9\n    y  1    10\n       2    11\n\n         v2\nabc xy\na   x   100\n    y   200\nb   x   300\n    y   400\nc   x   500\n    y   600\n</code></pre> <pre><code>            v1   v2\nabc xy num\na   x  1     0  100\n       2     1  100\n    y  1     2  200\n       2     3  200\nb   x  1     4  300\n       2     5  300\n    y  1     6  400\n       2     7  400\nc   x  1     8  500\n       2     9  500\n    y  1    10  600\n       2    11  600\n</code></pre> <p>\u5982\u679c\u4e0d\u6ee1\u8db3\u8be5\u6761\u4ef6\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\u5b8c\u6210\u5177\u6709\u4e24\u4e2a\u591a\u7d22\u5f15\u7684\u8054\u63a5\u3002</p> <pre><code>leftindex = pd.MultiIndex.from_tuples([('K0', 'X0'), ('K0', 'X1'),\n                                       ('K1', 'X2')],\n                                      names=['key', 'X'])\n\nleft = pd.DataFrame({'A': ['A0', 'A1', 'A2'],\n                     'B': ['B0', 'B1', 'B2']},\n                    index=leftindex)\n\nrightindex = pd.MultiIndex.from_tuples([('K0', 'Y0'), ('K1', 'Y1'),\n                                        ('K2', 'Y2'), ('K2', 'Y3')],\n                                       names=['key', 'Y'])\n\nright = pd.DataFrame({'C': ['C0', 'C1', 'C2', 'C3'],\n                      'D': ['D0', 'D1', 'D2', 'D3']},\n                     index=rightindex)\n\nresult = pd.merge(left.reset_index(), right.reset_index(),\n                  on=['key'], how='inner').set_index(['key', 'X', 'Y'])\n</code></pre> <p></p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#_6","title":"\u6309\u7167\u5217\u548c\u7d22\u5f15\u5408\u5e76","text":"<p>\u8fd9\u662f 0.23 \u7248\u4e2d\u6dfb\u52a0\u7684\u529f\u80fd\u3002</p> <p><code>on</code>\u3001<code>left_on</code>\u548c<code>right_on</code>\u53c2\u6570\u53ef\u4ee5\u5f15\u7528\u5217\u540d\u6216\u7d22\u5f15\u7ea7\u540d\u79f0\u3002\u8fd9\u5141\u8bb8\u5728\u7d22\u5f15\u548c\u5217\u7684\u7ec4\u5408\u4e0a\u5408\u5e76DataFrame\u5b9e\u4f8b\uff0c\u800c\u4e0d\u5fc5\u91cd\u7f6e\u7d22\u5f15\uff1a</p> <pre><code>left_index = pd.Index(['K0', 'K0', 'K1', 'K2'], name='key1')\n\nleft = pd.DataFrame({'A': ['A0', 'A1', 'A2', 'A3'],\n                     'B': ['B0', 'B1', 'B2', 'B3'],\n                     'key2': ['K0', 'K1', 'K0', 'K1']},\n                    index=left_index)\n\nright_index = pd.Index(['K0', 'K1', 'K2', 'K2'], name='key1')\n\nright = pd.DataFrame({'C': ['C0', 'C1', 'C2', 'C3'],\n                      'D': ['D0', 'D1', 'D2', 'D3'],\n                      'key2': ['K0', 'K0', 'K0', 'K1']},\n                     index=right_index)\n\nresult = left.merge(right, on=['key1', 'key2'])\n</code></pre> <p></p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#_7","title":"\u540d\u5b57\u91cd\u590d\u7684\u7ec4\u5408\u952e","text":"<p><code>merge</code>\u51fd\u6570\u7684<code>suffixes</code>\u53c2\u6570\u63a5\u53d7\u5b57\u7b26\u4e32\u5217\u8868\u7684\u5143\u7ec4\uff0c\u4ee5\u9644\u52a0\u5230\u8f93\u5165DataFrame\u4e2d\u91cd\u53e0\u7684\u5217\u540d\u4ee5\u6d88\u9664\u7ed3\u679c\u5217\u7684\u6b67\u4e49\uff1a</p> <pre><code>left = pd.DataFrame({'k': ['K0', 'K1', 'K2'], 'v': [1, 2, 3]})\nright = pd.DataFrame({'k': ['K0', 'K0', 'K3'], 'v': [4, 5, 6]})\nresult = pd.merge(left, right, on='k')\n</code></pre> <p></p> <pre><code>result = pd.merge(left, right, on='k', suffixes=['_l', '_r'])\n</code></pre> <p></p> <p><code>DataFrame.join()</code>\u5177\u6709<code>lsuffix</code>\u548c<code>rsuffix</code>\u884c\u4e3a\u7c7b\u4f3c\u7684\u53c2\u6570\u3002</p> <pre><code>left = left.set_index('k')\nright = right.set_index('k')\nresult = left.join(right, lsuffix='_l', rsuffix='_r')\n</code></pre> <p></p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#dataframes","title":"\u62fc\u63a5\u591a\u4e2aDataFrames","text":"<p><code>DataFrames</code>\u4e5f\u53ef\u4ee5\u4f20\u9012\u7684\u5217\u8868\u6216\u5143\u7ec4\u4ee5<code>join()</code> \u5c06\u5b83\u4eec\u8fde\u63a5\u5230\u5b83\u4eec\u7684\u7d22\u5f15\u4e0a\u3002</p> <pre><code>right2 = pd.DataFrame({'v': [7, 8, 9]}, index=['K1', 'K1', 'K2'])\n\nresult = left.join([right, right2])\n</code></pre> <p></p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#_8","title":"\u6309\u7d22\u5f15\u586b\u8865\u7f3a\u5931\u503c","text":"<p>\u53e6\u4e00\u4e2a\u76f8\u5f53\u5e38\u89c1\u7684\u60c5\u51b5\u662f\u6709\u4e24\u4e2a\u7d22\u5f15\u5b58\u5728\u4ea4\u96c6\u7684\u5bf9\u8c61\uff0c\u5176\u4e2d\u4e00\u4e2a\u5b58\u5728\u7f3a\u5931\u503c\uff0c\u60f3\u901a\u8fc7\u53e6\u4e00\u4e2a\u5bf9\u8c61\u586b\u8865\u7f3a\u5931\u503c\u3002\u8fd9\u662f\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>df1 = pd.DataFrame([[np.nan, 3., 5.], [-4.6, np.nan, np.nan],\n                    [np.nan, 7., np.nan]])\n\ndf2 = pd.DataFrame([[-42.6, np.nan, -8.2], [-5., 1.6, 4]],\n                   index=[1, 2])\n</code></pre> <p><code>combine_first()</code>\u65b9\u6cd5\u53ef\u4ee5\u8fbe\u5230\u8fd9\u4e2a\u6548\u679c\uff1a</p> <pre><code>result = df1.combine_first(df2)\n</code></pre> <p></p> <p>\u8bf7\u6ce8\u610f\uff0c<code>combine_first</code>\u8fd4\u56de\u526f\u672c\uff0c\u800c<code>update()</code>\u5219\u4f1a\u4fee\u6539\u539f\u5bf9\u8c61\uff1a</p> <pre><code>df1.update(df2)\n</code></pre> <p></p>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#_9","title":"\u62fc\u63a5\u65f6\u95f4\u5e8f\u5217\u6570\u636e","text":""},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#_10","title":"\u62fc\u63a5\u6709\u5e8f\u6570\u636e","text":"<p><code>merge_ordered()</code>\u51fd\u6570\u5141\u8bb8\u62fc\u63a5\u65f6\u95f4\u5e8f\u5217\u548c\u5176\u4ed6\u6709\u5e8f\u6570\u636e\u3002</p> <pre><code>pd.merge_ordered(left, right, on=None, left_on=None, right_on=None,\n                 left_by=None, right_by=None, fill_method=None,\n                 suffixes=('_x', '_y'), how='outer')\n</code></pre> <ul> <li><code>left_by</code>: Group left DataFrame by group columns and merge piece by piece with right DataFrame</li> </ul> <pre><code>left = pd.DataFrame({'k': ['K0', 'K1', 'K1', 'K2'],\n                     'lv': [1, 2, 3, 4],\n                     's': ['a', 'b', 'c', 'd']})\n\nright = pd.DataFrame({'k': ['K1', 'K2', 'K4'],\n                      'rv': [1, 2, 3]})\n\nprint(left, \"\\n\")\nprint(right)\npd.merge_ordered(left, right, fill_method=None, left_by='s')\n</code></pre> <pre><code>    k  lv  s\n0  K0   1  a\n1  K1   2  b\n2  K1   3  c\n3  K2   4  d\n\n    k  rv\n0  K1   1\n1  K2   2\n2  K4   3\n</code></pre> <pre><code>     k   lv  s   rv\n0   K0  1.0  a  NaN\n1   K1  NaN  a  1.0\n2   K2  NaN  a  2.0\n3   K4  NaN  a  3.0\n4   K1  2.0  b  1.0\n5   K2  NaN  b  2.0\n6   K4  NaN  b  3.0\n7   K1  3.0  c  1.0\n8   K2  NaN  c  2.0\n9   K4  NaN  c  3.0\n10  K1  NaN  d  1.0\n11  K2  4.0  d  2.0\n12  K4  NaN  d  3.0\n</code></pre> <p>\u5b83\u5177\u6709\u4e00\u4e2a\u53ef\u9009<code>fill_method</code>\u5173\u952e\u5b57\u6765\u586b\u5145\u4e22\u5931\u7684\u6570\u636e\uff1a</p> <pre><code># \u524d\u5411\u586b\u5145\uff1a\u540e\u9762\u7684\u7f3a\u5931\u503c\u7528\u524d\u9762\u7684\u6570\u5b57\u586b\u5145\npd.merge_ordered(left, right, fill_method=\"ffill\", left_by='s')\n</code></pre> <pre><code>     k   lv  s   rv\n0   K0  1.0  a  NaN\n1   K1  1.0  a  1.0\n2   K2  1.0  a  2.0\n3   K4  1.0  a  3.0\n4   K1  2.0  b  1.0\n5   K2  2.0  b  2.0\n6   K4  2.0  b  3.0\n7   K1  3.0  c  1.0\n8   K2  3.0  c  2.0\n9   K4  3.0  c  3.0\n10  K1  NaN  d  1.0\n11  K2  4.0  d  2.0\n12  K4  4.0  d  3.0\n</code></pre>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#asof","title":"\u62fc\u63a5ASOF","text":"<p><code>merge_asof()</code>\u7c7b\u4f3c\u4e8e\u6709\u5e8f\u5de6\u8054\u63a5\uff0c\u53ea\u662f\u6211\u4eec\u5339\u914d\u6700\u8fd1\u7684\u952e\u800c\u4e0d\u662f\u76f8\u7b49\u7684\u952e\u3002\u5bf9\u4e8e\u5de6\u6570\u636e\u6846\u4e2d\u7684\u6bcf\u4e00\u884c\uff0c\u6211\u4eec\u9009\u62e9\u53f3\u6570\u636e\u6846\u4e2d\u7684\u6700\u540e\u4e00\u884c\uff0c\u8be5\u884c\u7684on\u952e\u5c0f\u4e8elefs\u952e\u3002\u4e24\u4e2a\u6570\u636e\u5e27\u90fd\u5fc5\u987b\u6309\u952e\u6392\u5e8f\u3002</p> <p>\u53ef\u9009\u5730\uff0casof\u5408\u5e76\u53ef\u4ee5\u6267\u884c\u9010\u7ec4\u5408\u5e76\u3002\u9664\u4e86on\u952e\u4e0a\u6700\u63a5\u8fd1\u7684\u5339\u914d\u4e4b\u5916\uff0c\u5b83\u4e0eby\u952e\u7684\u5339\u914d\u76f8\u540c</p> <pre><code>pd.merge_asof(left, right, on=None, left_on=None, right_on=None,\n              left_index=False, right_index=False, by=None, left_by=None,\n              right_by=None, suffixes=('_x', '_y'), tolerance=None,\n              allow_exact_matches=True, direction='backward')\n</code></pre> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u80fd\u6709<code>trades</code>\u548c<code>quotes</code>\uff0c\u6211\u4eec\u60f3\u5408\u5e76\u5b83\u4eec</p> <pre><code>trades = pd.DataFrame({\n    'time': pd.to_datetime(['20160525 13:30:00.023',\n                            '20160525 13:30:00.038',\n                            '20160525 13:30:00.048',\n                            '20160525 13:30:00.048',\n                            '20160525 13:30:00.048']),\n    'ticker': ['MSFT', 'MSFT',\n               'GOOG', 'GOOG', 'AAPL'],\n    'price': [51.95, 51.95,\n              720.77, 720.92, 98.00],\n    'quantity': [75, 155,\n                 100, 100, 100]},\n    columns=['time', 'ticker', 'price', 'quantity'])\n\nquotes = pd.DataFrame({\n    'time': pd.to_datetime(['20160525 13:30:00.023',\n                            '20160525 13:30:00.023',\n                            '20160525 13:30:00.030',\n                            '20160525 13:30:00.041',\n                            '20160525 13:30:00.048',\n                            '20160525 13:30:00.049',\n                            '20160525 13:30:00.072',\n                            '20160525 13:30:00.075']),\n    'ticker': ['GOOG', 'MSFT', 'MSFT',\n               'MSFT', 'GOOG', 'AAPL', 'GOOG',\n               'MSFT'],\n    'bid': [720.50, 51.95, 51.97, 51.99,\n            720.50, 97.99, 720.50, 52.01],\n    'ask': [720.93, 51.96, 51.98, 52.00,\n            720.93, 98.01, 720.88, 52.03]},\n    columns=['time', 'ticker', 'bid', 'ask'])\n\nprint(trades, \"\\n\")\nprint(quotes)\n</code></pre> <pre><code>                     time ticker   price  quantity\n0 2016-05-25 13:30:00.023   MSFT   51.95        75\n1 2016-05-25 13:30:00.038   MSFT   51.95       155\n2 2016-05-25 13:30:00.048   GOOG  720.77       100\n3 2016-05-25 13:30:00.048   GOOG  720.92       100\n4 2016-05-25 13:30:00.048   AAPL   98.00       100\n\n                     time ticker     bid     ask\n0 2016-05-25 13:30:00.023   GOOG  720.50  720.93\n1 2016-05-25 13:30:00.023   MSFT   51.95   51.96\n2 2016-05-25 13:30:00.030   MSFT   51.97   51.98\n3 2016-05-25 13:30:00.041   MSFT   51.99   52.00\n4 2016-05-25 13:30:00.048   GOOG  720.50  720.93\n5 2016-05-25 13:30:00.049   AAPL   97.99   98.01\n6 2016-05-25 13:30:00.072   GOOG  720.50  720.88\n7 2016-05-25 13:30:00.075   MSFT   52.01   52.03\n</code></pre> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u91c7\u7528\u7684\u662fquotes\u3002</p> <pre><code>pd.merge_asof(trades, quotes,\n              on='time',\n              by='ticker')\n</code></pre> <pre><code>                     time ticker   price  quantity     bid     ask\n0 2016-05-25 13:30:00.023   MSFT   51.95        75   51.95   51.96\n1 2016-05-25 13:30:00.038   MSFT   51.95       155   51.97   51.98\n2 2016-05-25 13:30:00.048   GOOG  720.77       100  720.50  720.93\n3 2016-05-25 13:30:00.048   GOOG  720.92       100  720.50  720.93\n4 2016-05-25 13:30:00.048   AAPL   98.00       100     NaN     NaN\n</code></pre> <p>\u6211\u4eec\u53ea\u5728quote \u65f6\u95f4\u548ctrade \u65f6\u95f4\u4e4b\u95f4\u76842\u6beb\u79d2\u5185\u5408\u5e76\uff1a</p> <pre><code>pd.merge_asof(trades, quotes,\n              on='time',\n              by='ticker',\n              tolerance=pd.Timedelta('2ms'))\n</code></pre> <pre><code>                     time ticker   price  quantity     bid     ask\n0 2016-05-25 13:30:00.023   MSFT   51.95        75   51.95   51.96\n1 2016-05-25 13:30:00.038   MSFT   51.95       155     NaN     NaN\n2 2016-05-25 13:30:00.048   GOOG  720.77       100  720.50  720.93\n3 2016-05-25 13:30:00.048   GOOG  720.92       100  720.50  720.93\n4 2016-05-25 13:30:00.048   AAPL   98.00       100     NaN     NaN\n</code></pre> <p>\u6211\u4eec\u53ea\u5728quote \u65f6\u95f4\u548ctrade \u65f6\u95f4\u4e4b\u95f4\u768410\u6beb\u79d2\u5185\u5408\u5e76\uff0c\u5e76\u4e14\u4e0d\u5305\u62ec\u7cbe\u786e\u5339\u914d\u3002\u6ce8\u610f\uff0c\u5c3d\u7ba1\u6211\u4eec\u6392\u9664\u4e86\uff08quotes\u7684\uff09\u5b8c\u5168\u5339\u914d\u9879\uff0c\u4f46\u4ee5\u524d\u7684quotes\u786e\u5b9e\u4f1a\u4f20\u64ad\u5230\u90a3\u4e2a\u65f6\u95f4\u70b9\u3002</p> <pre><code>pd.merge_asof(trades, quotes,\n              on='time',\n              by='ticker',\n              tolerance=pd.Timedelta('10ms'),\n              allow_exact_matches=False)\n</code></pre> <pre><code>                     time ticker   price  quantity    bid    ask\n0 2016-05-25 13:30:00.023   MSFT   51.95        75    NaN    NaN\n1 2016-05-25 13:30:00.038   MSFT   51.95       155  51.97  51.98\n2 2016-05-25 13:30:00.048   GOOG  720.77       100    NaN    NaN\n3 2016-05-25 13:30:00.048   GOOG  720.92       100    NaN    NaN\n4 2016-05-25 13:30:00.048   AAPL   98.00       100    NaN    NaN\n</code></pre>"},{"location":"Python3/pandas/9.7.%E6%8B%BC%E6%8E%A5.html#_11","title":"\u6bd4\u8f83\u5bf9\u8c61","text":"<pre><code>df.compare(self, other, align_axis=1, keep_shape=False,\n           keep_equal=False)\n</code></pre> <p>pandas v1.1.0 \u7248\u672c\u4e2d\u6dfb\u52a0\u4e86<code>compare</code>\u65b9\u6cd5\uff0c\u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2aDataFrame\u6216Series\u7684\u5dee\u5f02\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u80fd\u60f3\u8981\u6bd4\u8f83\u4e24\u4e2a<code>DataFrame</code>\u5e76\u5e76\u6392\u5806\u53e0\u5b83\u4eec\u7684\u5dee\u5f02\u3002</p> <pre><code>df = pd.DataFrame({\"col1\": [\"a\", \"a\", \"b\", \"b\", \"a\"],\n                   \"col2\": [1.0, 2.0, 3.0, np.nan, 5.0],\n                   \"col3\": [1.0, 2.0, 3.0, 4.0, 5.0]},\n                  columns=[\"col1\", \"col2\", \"col3\"])\nprint(df)\n\ndf2 = df.copy()\ndf2.loc[0, \"col1\"] = \"c\"\ndf2.loc[2, \"col3\"] = 4.0\nprint(df2)\n\ndf.compare(df2)\n</code></pre> <pre><code>  col1  col2  col3\n0    a   1.0   1.0\n1    a   2.0   2.0\n2    b   3.0   3.0\n3    b   NaN   4.0\n4    a   5.0   5.0\n  col1  col2  col3\n0    c   1.0   1.0\n1    a   2.0   2.0\n2    b   3.0   4.0\n3    b   NaN   4.0\n4    a   5.0   5.0\n</code></pre> <pre><code>  col1       col3\n  self other self other\n0    a     c  NaN   NaN\n2  NaN   NaN  3.0   4.0\n</code></pre> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u4e24\u4e2a\u5bf9\u5e94\u7684\u503c\u76f8\u7b49\uff0c\u5b83\u4eec\u5c06\u663e\u793a\u4e3a<code>NaN</code>\u3002\u6b64\u5916\uff0c\u5982\u679c\u6574\u4e2a\u884c/\u5217\u4e2d\u7684\u503c\u90fd\u6ca1\u6709\u5dee\u5f02\uff0c\u5219\u7ed3\u679c\u5c06\u7701\u7565\u8be5\u884c/\u5217\u3002\u5176\u4f59\u5dee\u5f02\u5c06\u5728\u5217\u4e0a\u5bf9\u9f50\u3002</p> <p>\u5982\u679c\u613f\u610f\uff0c\u53ef\u4ee5\u9009\u62e9\u5c06\u5dee\u5f02\u6309\u884c\u5806\u53e0\u3002\u5982\u679c\u4f60\u5e0c\u671b\u4fdd\u7559\u6240\u6709\u539f\u59cb\u884c\u548c\u5217\uff0c\u8bf7\u5c06<code>keep_shape</code>\u53c2\u6570\u8bbe\u7f6e\u4e3a<code>True</code>\u3002\u4f60\u4e5f\u53ef\u4ee5\u4fdd\u7559\u6240\u6709\u539f\u59cb\u503c\uff0c\u5373\u4f7f\u5b83\u4eec\u76f8\u7b49\u3002</p>"},{"location":"Python3/pandas/9.8.%E5%8F%98%E6%8D%A2%E7%B4%A2%E5%BC%95.html","title":"9.8.\u53d8\u6362\u7d22\u5f15","text":"<pre><code>from toolkit import H\nimport numpy as np\nimport pandas as pd\n</code></pre> <pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.04.18\npandas version:  1.2.2\nnumpy version:  1.20.1\n</code></pre>"},{"location":"Python3/pandas/9.8.%E5%8F%98%E6%8D%A2%E7%B4%A2%E5%BC%95.html#_1","title":"\u91cd\u5851\u548c\u6570\u636e\u900f\u89c6\u8868","text":""},{"location":"Python3/pandas/9.8.%E5%8F%98%E6%8D%A2%E7%B4%A2%E5%BC%95.html#pivot","title":"pivot","text":"<p><code>DataFrame.pivot()</code>\u65b9\u6cd5\u91cd\u6392\u6570\u636e\u3002\u5b83\u662f\u4e00\u4e2a\u5feb\u6377\u65b9\u5f0f\uff0c\u5b83\u4f7f\u7528<code>set_index</code>\u5c06\u5217\u6570\u636e\u53d8\u6210\u884c\u7d22\u5f15\uff0c\u7136\u540e\u4f7f\u7528<code>unstack</code>\u5c06\u884c\u7d22\u5f15\u8f6c\u4e3a\u5217\u7d22\u5f15\u3002</p> <pre><code>DataFrame.pivot(self, index=None, columns=None, values=None)\n</code></pre> <ul> <li> <p><code>index</code>\uff1a<code>str</code>. \u6307\u5b9a\u4e00\u4e2a<code>column name</code>\uff0c\u5bf9\u8be5\u5217\u6570\u636e\u6267\u884c<code>set_index</code>\u64cd\u4f5c\uff08\u5c06\u8be5\u5217\u6570\u636e\u53d8\u6210\u884c\u7d22\u5f15\uff0c\u5e76\u5220\u9664\u539f\u6765\u7684\u884c\u7d22\u5f15\uff09\u3002\u5982\u679c\u4e3a<code>None</code>\uff0c\u5219\u4e0d\u6267\u884c<code>set_index</code>\u3002</p> </li> <li> <p><code>columns</code>\uff1a<code>str</code>. \u6307\u5b9a\u4e86\u54ea\u5217\u6570\u636e\u4f5c\u4e3a\u7ed3\u679c\u7684<code>columns labels</code>\u3002</p> </li> </ul> <p>\u5b9e\u9645\u4e0a\u5bf9 index,clumns \u6307\u5b9a\u7684\u5217\u6570\u636e\u5747 set_index\uff0c\u7136\u540e\u4ec5\u5bf9 columns \u5bf9\u5e94\u7684\u5217\u6570\u636e unstack</p> <ul> <li><code>values</code>\uff1a<code>str</code>. \u6307\u5b9a\u4e86\u54ea\u5217\u6570\u636e\u4f5c\u4e3a\u7ed3\u679c\u7684\u5143\u7d20\u3002\u5982\u679c\u672a\u63d0\u4f9b\uff0c\u5219\u5269\u4f59\u7684\u6240\u6709\u5217\u90fd\u5c06\u4f5c\u4e3a\u7ed3\u679c\u7684\u5143\u7d20\u3002</li> </ul> <p>\u521b\u5efa\u793a\u4f8bDataFrame\uff1a</p> <pre><code>import pandas.util.testing as tm\n# import pandas.testing as tm\n\ntm.N = 3\n\ndef unpivot(frame):\n    N, K = frame.shape\n    data = {'value': frame.to_numpy().ravel('F'),\n            'variable': np.asarray(frame.columns).repeat(N),\n            'date': np.tile(np.asarray(frame.index), K)}\n    return pd.DataFrame(data, columns=['date', 'variable', 'value'])\n\ndf = unpivot(tm.makeTimeDataFrame())\ndf\n</code></pre> <pre><code>          date variable     value\n0   2000-01-03        A -1.782234\n1   2000-01-04        A  0.101391\n2   2000-01-05        A  1.419975\n3   2000-01-06        A  1.314406\n4   2000-01-07        A -0.125151\n..         ...      ...       ...\n115 2000-02-07        D -0.629166\n116 2000-02-08        D -1.680323\n117 2000-02-09        D  0.374173\n118 2000-02-10        D  0.805691\n119 2000-02-11        D  0.176506\n\n[120 rows x 3 columns]\n</code></pre> <p>\u8981\u9009\u62e9\u6240\u6709<code>variable=A</code>\u7684\u503c\uff0c\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a</p> <pre><code>df[df['variable'] == 'A']\n</code></pre> <pre><code>         date variable     value\n0  2000-01-03        A -1.782234\n1  2000-01-04        A  0.101391\n2  2000-01-05        A  1.419975\n3  2000-01-06        A  1.314406\n4  2000-01-07        A -0.125151\n5  2000-01-10        A -0.004296\n6  2000-01-11        A  1.032221\n7  2000-01-12        A -0.799518\n8  2000-01-13        A -1.177311\n9  2000-01-14        A  1.328925\n10 2000-01-17        A -0.739238\n11 2000-01-18        A  0.905413\n12 2000-01-19        A  2.075981\n13 2000-01-20        A  0.399985\n14 2000-01-21        A -0.198506\n15 2000-01-24        A -2.124259\n16 2000-01-25        A  0.770036\n17 2000-01-26        A -0.465471\n18 2000-01-27        A  0.775741\n19 2000-01-28        A -0.175636\n20 2000-01-31        A -1.466900\n21 2000-02-01        A  0.791248\n22 2000-02-02        A  0.698035\n23 2000-02-03        A  0.070490\n24 2000-02-04        A -0.035969\n25 2000-02-07        A  0.182505\n26 2000-02-08        A -0.046646\n27 2000-02-09        A  0.791771\n28 2000-02-10        A  0.020424\n29 2000-02-11        A  0.055036\n</code></pre> <p>\u4f46\u662f\u5047\u8bbe\u6211\u4eec\u5e0c\u671b\u5bf9\u53d8\u91cf\u8fdb\u884c\u65f6\u95f4\u5e8f\u5217\u8fd0\u7b97\uff0c\u66f4\u597d\u7684\u8868\u793a\u65b9\u6cd5\u662f\u5217\u662f\u552f\u4e00\u7684\u53d8\u91cf\uff0c\u884c\u7d22\u5f15\u4f5c\u4e3a\u65e5\u671f\u3002\u4e3a\u4e86\u5c06\u6570\u636e\u91cd\u5851\u4e3a\u8fd9\u79cd\u5f62\u5f0f\uff0c\u6211\u4eec\u4f7f\u7528<code>DataFrame.pivot()</code>\u65b9\u6cd5\uff08\u4e5f\u5b9e\u73b0\u4e3a\u9876\u7ea7\u51fd\u6570<code>pivot()</code>\uff09\uff1a</p> <pre><code>df.pivot(index='date', columns='variable', values='value')\n</code></pre> <pre><code>variable           A         B         C         D\ndate\n2000-01-03 -1.782234 -0.230027  0.792949  0.946672\n2000-01-04  0.101391 -0.301494  0.043205  0.739108\n2000-01-05  1.419975 -1.714240  0.416010 -0.236371\n2000-01-06  1.314406  1.584313  1.220858 -0.151637\n2000-01-07 -0.125151 -0.562998  0.870561 -0.077207\n2000-01-10 -0.004296  1.807812  1.180116 -0.470526\n2000-01-11  1.032221 -0.500968  0.658132 -0.942816\n2000-01-12 -0.799518 -1.109232  2.085041 -0.477622\n2000-01-13 -1.177311  1.452246  0.030806 -0.385781\n2000-01-14  1.328925  0.527299  1.804724 -0.100643\n2000-01-17 -0.739238  0.884090  0.199108  0.296472\n2000-01-18  0.905413  0.874131  1.173765  0.151686\n2000-01-19  2.075981 -0.929207  1.587471 -0.638356\n2000-01-20  0.399985  0.590234  1.565763 -0.364313\n2000-01-21 -0.198506  0.034625  0.207252  0.372477\n2000-01-24 -2.124259  0.315902  0.405071  0.525225\n2000-01-25  0.770036  0.651360 -0.673813 -0.610529\n2000-01-26 -0.465471  0.251278  0.351564 -1.552060\n2000-01-27  0.775741 -0.287602 -0.784822 -0.553045\n2000-01-28 -0.175636  1.729924  0.413734  0.589292\n2000-01-31 -1.466900  0.115719  0.684800 -0.193683\n2000-02-01  0.791248  0.395742 -0.218322 -0.042245\n2000-02-02  0.698035  0.524885 -0.266027  1.120873\n2000-02-03  0.070490 -1.879266  1.875913 -0.540630\n2000-02-04 -0.035969 -1.353574  0.780084  2.047943\n2000-02-07  0.182505  2.131582  0.220263 -0.629166\n2000-02-08 -0.046646  2.010064 -0.730357 -1.680323\n2000-02-09  0.791771 -0.402250  0.802552  0.374173\n2000-02-10  0.020424 -0.323662 -0.925276  0.805691\n2000-02-11  0.055036  0.351664 -0.744864  0.176506\n</code></pre> <p>\u5982\u679c\u7701\u7565<code>values</code>\u53c2\u6570\uff0c\u5e76\u4e14\u8f93\u5165<code>DataFrame</code>\u5177\u6709\u591a\u4e8e\u4e00\u5217\u7684\u503c\uff0c\u5219\u7ed3\u679cDataFrame\u5c06\u5177\u6709\u591a\u5c42\u6b21\u5217\u7d22\u5f15\uff1a</p> <pre><code>df['value2'] = df['value'] * 2\nprint(df)\n\npivoted = df.pivot(index='date', columns='variable')\npivoted\n</code></pre> <pre><code>          date variable     value    value2\n0   2000-01-03        A -1.782234 -3.564468\n1   2000-01-04        A  0.101391  0.202782\n2   2000-01-05        A  1.419975  2.839951\n3   2000-01-06        A  1.314406  2.628813\n4   2000-01-07        A -0.125151 -0.250301\n..         ...      ...       ...       ...\n115 2000-02-07        D -0.629166 -1.258331\n116 2000-02-08        D -1.680323 -3.360647\n117 2000-02-09        D  0.374173  0.748347\n118 2000-02-10        D  0.805691  1.611382\n119 2000-02-11        D  0.176506  0.353012\n\n[120 rows x 4 columns]\n</code></pre> <pre><code>               value                      ...    value2                    \nvariable           A         B         C  ...         B         C         D\ndate                                      ...                              \n2000-01-03 -1.782234 -0.230027  0.792949  ... -0.460055  1.585898  1.893344\n2000-01-04  0.101391 -0.301494  0.043205  ... -0.602988  0.086411  1.478215\n2000-01-05  1.419975 -1.714240  0.416010  ... -3.428479  0.832020 -0.472741\n2000-01-06  1.314406  1.584313  1.220858  ...  3.168626  2.441716 -0.303274\n2000-01-07 -0.125151 -0.562998  0.870561  ... -1.125997  1.741123 -0.154415\n2000-01-10 -0.004296  1.807812  1.180116  ...  3.615624  2.360232 -0.941052\n2000-01-11  1.032221 -0.500968  0.658132  ... -1.001935  1.316265 -1.885632\n2000-01-12 -0.799518 -1.109232  2.085041  ... -2.218464  4.170082 -0.955244\n2000-01-13 -1.177311  1.452246  0.030806  ...  2.904491  0.061611 -0.771561\n2000-01-14  1.328925  0.527299  1.804724  ...  1.054597  3.609447 -0.201287\n2000-01-17 -0.739238  0.884090  0.199108  ...  1.768179  0.398216  0.592945\n2000-01-18  0.905413  0.874131  1.173765  ...  1.748262  2.347530  0.303372\n2000-01-19  2.075981 -0.929207  1.587471  ... -1.858415  3.174941 -1.276712\n2000-01-20  0.399985  0.590234  1.565763  ...  1.180468  3.131526 -0.728627\n2000-01-21 -0.198506  0.034625  0.207252  ...  0.069250  0.414504  0.744954\n2000-01-24 -2.124259  0.315902  0.405071  ...  0.631803  0.810141  1.050450\n2000-01-25  0.770036  0.651360 -0.673813  ...  1.302721 -1.347626 -1.221058\n2000-01-26 -0.465471  0.251278  0.351564  ...  0.502556  0.703129 -3.104120\n2000-01-27  0.775741 -0.287602 -0.784822  ... -0.575204 -1.569645 -1.106090\n2000-01-28 -0.175636  1.729924  0.413734  ...  3.459848  0.827468  1.178585\n2000-01-31 -1.466900  0.115719  0.684800  ...  0.231438  1.369600 -0.387366\n2000-02-01  0.791248  0.395742 -0.218322  ...  0.791483 -0.436645 -0.084490\n2000-02-02  0.698035  0.524885 -0.266027  ...  1.049769 -0.532054  2.241745\n2000-02-03  0.070490 -1.879266  1.875913  ... -3.758531  3.751826 -1.081260\n2000-02-04 -0.035969 -1.353574  0.780084  ... -2.707148  1.560167  4.095886\n2000-02-07  0.182505  2.131582  0.220263  ...  4.263163  0.440526 -1.258331\n2000-02-08 -0.046646  2.010064 -0.730357  ...  4.020128 -1.460713 -3.360647\n2000-02-09  0.791771 -0.402250  0.802552  ... -0.804499  1.605104  0.748347\n2000-02-10  0.020424 -0.323662 -0.925276  ... -0.647325 -1.850551  1.611382\n2000-02-11  0.055036  0.351664 -0.744864  ...  0.703327 -1.489728  0.353012\n\n[30 rows x 8 columns]\n</code></pre> <p>\u6ce8\u610f</p> <p>\u5982\u679c\u7d22\u5f15\u5305\u542b\u91cd\u590d\u9879\uff0c<code>pivot()</code>\u5c06\u51fa\u9519\uff0c\u65e0\u6cd5\u91cd\u5851\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8bf7\u8003\u8651\u4f7f\u7528<code>pivot_table()</code>\uff0c\u5b83\u662fpivot\u7684\u6cdb\u5316\uff0c\u53ef\u4ee5\u5904\u7406\u4e00\u4e2a\u7d22\u5f15/\u5217\u5bf9\u7684\u91cd\u590d\u503c\u3002</p>"},{"location":"Python3/pandas/9.8.%E5%8F%98%E6%8D%A2%E7%B4%A2%E5%BC%95.html#stack-rightarrow","title":"<code>stack</code>: \u5217\u7d22\u5f15 $\\rightarrow$ \u884c\u7d22\u5f15","text":"<p><code>DataFrame.stack</code>\u65b9\u6cd5\u5c06\u6570\u636e\u7684\u5217\u7d22\u5f15\u65cb\u8f6c\u4e3a\u884c\u7d22\u5f15\uff0c \u65b0\u7684\u884c\u7d22\u5f15\u662f\u591a\u7ea7\u7d22\u5f15\uff0c\u6700\u5185\u5c42\u7684\u884c\u7d22\u5f15\u5c31\u662f\u539f\u6765\u7684\u5217\u7d22\u5f15\u3002\u6ce8\u610f\uff1a\u5b83\u8ddf\u8f6c\u7f6e\u4e0d\u540c\uff0c\u8f6c\u7f6e\u4f1a\u540c\u65f6\u65cb\u8f6c\u6570\u636e\u3002</p> <pre><code>DataFrame.stack(self, level=-1, dropna=True)\n</code></pre> <ul> <li><code>level</code>\uff1a<code>int</code>, <code>str</code>, <code>list of int</code>, <code>list of str</code>. \u5982\u679c\u5217\u7d22\u5f15\u4e3a\u591a\u7ea7\u7d22\u5f15\uff0c\u5b83\u6307\u5b9a\u4e86\u5c06\u54ea\u4e2a\u7ea7\u522b\u7684\u7d22\u5f15\u65cb\u8f6c\u4e3a\u884c\u7d22\u5f15\u3002</li> <li><code>dropna</code>\uff1a<code>bool</code>. \u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u5982\u679c\u7ed3\u679c\u4e2d\u67d0\u884c\u5168\u4e3a<code>NaN</code>\uff0c\u5219\u629b\u5f03\u8be5\u884c\u3002</li> </ul> <p>\u6700\u6e05\u6670\u7684\u89e3\u91ca\u65b9\u5f0f\u662f\u901a\u8fc7\u793a\u4f8b\u3002\u5148\u521b\u5efa\u4e00\u4e2a\u793a\u4f8b\u6570\u636e\uff1a</p> <pre><code>tuples = list(zip(*[['bar', 'bar', 'baz', 'baz',\n                     'foo', 'foo', 'qux', 'qux'],\n                    ['one', 'two', 'one', 'two',\n                     'one', 'two', 'one', 'two']]))\nindex = pd.MultiIndex.from_tuples(tuples, names=['first', 'second'])\ndf = pd.DataFrame(np.random.randn(8, 2), index=index, columns=['A', 'B'])\n\ndf2 = df[:4]\ndf2\n</code></pre> <pre><code>                     A         B\nfirst second\nbar   one     1.731770 -0.852230\n      two     0.268685 -0.266598\nbaz   one     0.989354 -1.077744\n      two     0.408281  0.163966\n</code></pre> <pre><code>stacked = df2.stack()\nstacked\n</code></pre> <pre><code>first  second\nbar    one     A    1.731770\n               B   -0.852230\n       two     A    0.268685\n               B   -0.266598\nbaz    one     A    0.989354\n               B   -1.077744\n       two     A    0.408281\n               B    0.163966\ndtype: float64\n</code></pre>"},{"location":"Python3/pandas/9.8.%E5%8F%98%E6%8D%A2%E7%B4%A2%E5%BC%95.html#unstack-rightarrow","title":"<code>unstack</code>: \u884c\u7d22\u5f15 $\\rightarrow$ \u5217\u7d22\u5f15","text":"<p>\u4e0e<code>DataFrame.stack</code>\u5bf9\u5e94\u7684\u662f<code>DataFrame.unstack</code>\u65b9\u6cd5\u3002\u5b83\u5c06\u6570\u636e\u7684\u884c\u7d22\u5f15\u8f6c\u6362\u4e3a\u5217\u7d22\u5f15\u3002 \u6ce8\u610f\uff1a\u5b83\u8ddf\u8f6c\u7f6e\u4e0d\u540c\uff0c\u8f6c\u7f6e\u4f1a\u540c\u65f6\u65cb\u8f6c\u6570\u636e\u3002</p> <pre><code>DataFrame.unstack(self, level=-1, fill_value=None)\n</code></pre> <ul> <li><code>level</code>\uff1a<code>int</code>, <code>str</code>, <code>list of int</code>, <code>list of str</code>. \u5982\u679c\u884c\u7d22\u5f15\u4e3a\u591a\u7ea7\u7d22\u5f15\uff0c\u5b83\u6307\u5b9a\u4e86\u5c06\u54ea\u4e2a\u7ea7\u522b\u7684\u884c\u7d22\u5f15\u65cb\u8f6c\u4e3a\u5217\u7d22\u5f15\u3002</li> <li><code>fill_value</code>\uff1a\u4e00\u4e2a\u6807\u91cf\u3002\u5982\u679c\u7ed3\u679c\u4e2d\u6709<code>NaN</code>\uff0c\u5219\u4f7f\u7528<code>fill_value</code>\u66ff\u6362\u3002</li> </ul> <p><code>unstack</code>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5c06\u6700\u540e\u4e00\u7ea7\u884c\u7d22\u5f15\u8f6c\u6362\u6210\u5217\u7d22\u5f15\uff1a</p> <pre><code>print(stacked)\n</code></pre> <pre><code>first  second\nbar    one     A    1.731770\n               B   -0.852230\n       two     A    0.268685\n               B   -0.266598\nbaz    one     A    0.989354\n               B   -1.077744\n       two     A    0.408281\n               B    0.163966\ndtype: float64\n</code></pre> <pre><code>stacked.unstack()\n</code></pre> <pre><code>                     A         B\nfirst second\nbar   one     1.731770 -0.852230\n      two     0.268685 -0.266598\nbaz   one     0.989354 -1.077744\n      two     0.408281  0.163966\n</code></pre> <pre><code>stacked.unstack(1)\n</code></pre> <pre><code>second        one       two\nfirst\nbar   A  1.731770  0.268685\n      B -0.852230 -0.266598\nbaz   A  0.989354  0.408281\n      B -1.077744  0.163966\n</code></pre> <pre><code>stacked.unstack(0)\n</code></pre> <pre><code>first          bar       baz\nsecond\none    A  1.731770  0.989354\n       B -0.852230 -1.077744\ntwo    A  0.268685  0.408281\n       B -0.266598  0.163966\n</code></pre> <p></p> <p></p> <p>\u5982\u679c\u7d22\u5f15\u5177\u6709\u540d\u79f0\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u7ea7\u522b\u540d\u79f0\u800c\u4e0d\u662f\u6307\u5b9a\u7ea7\u522b\u7f16\u53f7\uff1a</p> <pre><code>stacked.unstack('second')\n</code></pre> <pre><code>second        one       two\nfirst\nbar   A  1.731770  0.268685\n      B -0.852230 -0.266598\nbaz   A  0.989354  0.408281\n      B -1.077744  0.163966\n</code></pre> <p>\u6ce8\u610f\uff0c<code>stack</code>\u548c<code>unstack</code>\u65b9\u6cd5\u4f1a\u9690\u5f0f\u5730\u5bf9\u7d22\u5f15\u8fdb\u884c\u6392\u5e8f\uff1a</p> <pre><code>index = pd.MultiIndex.from_product([[2, 1], ['a', 'b']])\n\ndf = pd.DataFrame(np.random.randn(4), index=index, columns=['A'])\n\nprint(df, \"\\n\")\nprint(df.unstack().stack())\n\nall(df.unstack().stack() == df.sort_index())\n</code></pre> <pre><code>            A\n2 a  2.625688\n  b -0.594094\n1 a -0.060549\n  b  0.364438\n\n            A\n1 a -0.060549\n  b  0.364438\n2 a  2.625688\n  b -0.594094\n</code></pre> <pre><code>True\n</code></pre>"},{"location":"Python3/pandas/9.8.%E5%8F%98%E6%8D%A2%E7%B4%A2%E5%BC%95.html#_2","title":"\u591a\u7ea7\u522b\u7d22\u5f15","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u4f20\u9012<code>list of label</code>\u6765\u4e00\u6b21\u6027 stack \u6216 unstack \u591a\u4e2a\u7ea7\u522b\u7684\u7d22\u5f15\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6700\u7ec8\u7ed3\u679c\u5c31\u597d\u50cf\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u7ea7\u522b\u7684\u7d22\u5f15\u90fd\u662f\u5355\u72ec\u5904\u7406\u7684\uff1a</p> <pre><code>columns = pd.MultiIndex.from_tuples([\n    ('A', 'cat', 'long'), ('B', 'cat', 'long'),\n    ('A', 'dog', 'short'), ('B', 'dog', 'short')],\n    names=['exp', 'animal', 'hair_length'])\n\ndf = pd.DataFrame(np.random.randn(4, 4), columns=columns)\nprint(df)\n\ndf.stack(level=['animal', 'hair_length'])\n</code></pre> <pre><code>exp                 A         B         A         B\nanimal            cat       cat       dog       dog\nhair_length      long      long     short     short\n0            0.881071 -1.103850 -0.507086  1.147644\n1            0.952815 -0.245752 -1.461688  2.184861\n2            0.940424  0.688161  0.353364  0.320918\n3           -0.958997  2.038420  2.283049 -0.890982\n</code></pre> <pre><code>exp                          A         B\n  animal hair_length\n0 cat    long         0.881071 -1.103850\n  dog    short       -0.507086  1.147644\n1 cat    long         0.952815 -0.245752\n  dog    short       -1.461688  2.184861\n2 cat    long         0.940424  0.688161\n  dog    short        0.353364  0.320918\n3 cat    long        -0.958997  2.038420\n  dog    short        2.283049 -0.890982\n</code></pre> <p>\u7d22\u5f15\u5217\u8868\u53ef\u4ee5\u5305\u542b\u7d22\u5f15\u540d\u79f0\u6216\u7d22\u5f15\u7ea7\u522b\u7684\u7f16\u53f7\uff08\u4f46\u4e0d\u80fd\u540c\u65f6\u5305\u542b\u4e24\u8005\uff09\uff1a</p> <pre><code># df.stack(level=['animal', 'hair_length'])\n# from above is equivalent to:\ndf.stack(level=[1, 2])\n</code></pre> <pre><code>exp                          A         B\n  animal hair_length\n0 cat    long         0.881071 -1.103850\n  dog    short       -0.507086  1.147644\n1 cat    long         0.952815 -0.245752\n  dog    short       -1.461688  2.184861\n2 cat    long         0.940424  0.688161\n  dog    short        0.353364  0.320918\n3 cat    long        -0.958997  2.038420\n  dog    short        2.283049 -0.890982\n</code></pre>"},{"location":"Python3/pandas/9.8.%E5%8F%98%E6%8D%A2%E7%B4%A2%E5%BC%95.html#_3","title":"\u7f3a\u5931\u6570\u636e","text":"<p>\u8fd9\u4e9b\u51fd\u6570\u5bf9\u4e8e\u5904\u7406\u4e22\u5931\u7684\u6570\u636e\u975e\u5e38\u667a\u80fd\uff0c\u5e76\u4e14\u4e0d\u5e0c\u671b\u5c42\u6b21\u7d22\u5f15\u4e2d\u7684\u6bcf\u4e2a\u5b50\u7ec4\u90fd\u5177\u6709\u76f8\u540c\u7684\u6807\u7b7e\u96c6\u3002\u5b83\u4eec\u8fd8\u53ef\u4ee5\u5904\u7406\u672a\u6392\u5e8f\u7684\u7d22\u5f15\uff08\u5f53\u7136\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528sort_index\u5bf9\u5176\u8fdb\u884c\u6392\u5e8f\uff09\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u66f4\u590d\u6742\u7684\u4f8b\u5b50\uff1a</p> <pre><code>columns = pd.MultiIndex.from_tuples([('A', 'cat'), ('B', 'dog'),\n                                     ('B', 'cat'), ('A', 'dog')],\n                                    names=['exp', 'animal'])\n\nindex = pd.MultiIndex.from_product([('bar', 'baz', 'foo', 'qux'),\n                                    ('one', 'two')],\n                                   names=['first', 'second'])\n\ndf = pd.DataFrame(np.random.randn(8, 4), index=index, columns=columns)\n\ndf2 = df.iloc[[0, 1, 2, 4, 5, 7]]\nprint(df2)\n</code></pre> <pre><code>exp                  A         B                   A\nanimal             cat       dog       cat       dog\nfirst second\nbar   one    -0.097444  0.818370  0.515666  2.315783\n      two     0.849560  0.814575 -0.296291 -0.095546\nbaz   one     0.071727 -0.778597 -0.642056  0.307554\nfoo   one     0.017500  0.925994  0.239425 -0.768354\n      two    -0.248389 -0.145917  0.759299 -1.099883\nqux   two     0.743433 -0.534109 -0.236758  0.831853\n</code></pre> <p>\u5982\u4e0a\u6240\u8ff0\uff0c<code>stack</code>\u53ef\u4ee5\u4f7f\u7528<code>level</code>\u53c2\u6570\u6765\u8c03\u7528\u4ee5\u9009\u62e9\u8981\u5806\u53e0\u7684\u5217\u4e2d\u7684\u7ea7\u522b\uff1a</p> <pre><code>df2.stack('exp')\n</code></pre> <pre><code>animal                 cat       dog\nfirst second exp\nbar   one    A   -0.097444  2.315783\n             B    0.515666  0.818370\n      two    A    0.849560 -0.095546\n             B   -0.296291  0.814575\nbaz   one    A    0.071727  0.307554\n             B   -0.642056 -0.778597\nfoo   one    A    0.017500 -0.768354\n             B    0.239425  0.925994\n      two    A   -0.248389 -1.099883\n             B    0.759299 -0.145917\nqux   two    A    0.743433  0.831853\n             B   -0.236758 -0.534109\n</code></pre> <pre><code>df2.stack('animal')\n</code></pre> <pre><code>exp                         A         B\nfirst second animal\nbar   one    cat    -0.097444  0.515666\n             dog     2.315783  0.818370\n      two    cat     0.849560 -0.296291\n             dog    -0.095546  0.814575\nbaz   one    cat     0.071727 -0.642056\n             dog     0.307554 -0.778597\nfoo   one    cat     0.017500  0.239425\n             dog    -0.768354  0.925994\n      two    cat    -0.248389  0.759299\n             dog    -1.099883 -0.145917\nqux   two    cat     0.743433 -0.236758\n             dog     0.831853 -0.534109\n</code></pre> <p>\u5982\u679c\u5b50\u7ec4\u6ca1\u6709\u76f8\u540c\u7684\u6807\u7b7e\u96c6\uff0c\u5219\u53d6\u6d88\u5806\u53e0\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7f3a\u5c11\u503c\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u7f3a\u5c11\u7684\u503c\u5c06\u66ff\u6362\u4e3a\u8be5\u6570\u636e\u7c7b\u578b\u7684\u9ed8\u8ba4\u586b\u5145\u503c\uff0cNaN\u8868\u793a\u6d6e\u70b9\uff0cNaT\u8868\u793adatetimelike\uff0c\u7b49\u7b49\u3002\u5bf9\u4e8e\u6574\u6570\u7c7b\u578b\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6570\u636e\u5c06\u8f6c\u6362\u4e3a\u6d6e\u70b9\uff0c\u7f3a\u5c11\u7684\u503c\u5c06\u8bbe\u7f6e\u4e3aNaN\uff1a</p> <pre><code>df3 = df.iloc[[0, 1, 4, 7], [1, 2]]\nprint(df3)\n\ndf3.unstack()\n</code></pre> <pre><code>exp                  B\nanimal             dog       cat\nfirst second\nbar   one     0.818370  0.515666\n      two     0.814575 -0.296291\nfoo   one     0.925994  0.239425\nqux   two    -0.534109 -0.236758\n</code></pre> <pre><code>exp            B\nanimal       dog                 cat\nsecond       one       two       one       two\nfirst\nbar     0.818370  0.814575  0.515666 -0.296291\nfoo     0.925994       NaN  0.239425       NaN\nqux          NaN -0.534109       NaN -0.236758\n</code></pre> <p>\u6216\u8005\u8bbe\u7f6e<code>fill_value</code>\u53c2\u6570\uff0c\u7528\u4e8e\u6307\u5b9a\u7f3a\u5931\u6570\u636e\u7684\u503c\u3002</p> <pre><code>df3.unstack(fill_value=-1e9)\n</code></pre> <pre><code>exp                B\nanimal           dog                         cat\nsecond           one           two           one           two\nfirst\nbar     8.183697e-01  8.145746e-01  5.156662e-01 -2.962912e-01\nfoo     9.259943e-01 -1.000000e+09  2.394253e-01 -1.000000e+09\nqux    -1.000000e+09 -5.341089e-01 -1.000000e+09 -2.367577e-01\n</code></pre>"},{"location":"Python3/pandas/9.8.%E5%8F%98%E6%8D%A2%E7%B4%A2%E5%BC%95.html#_4","title":"\u591a\u7ea7\u7d22\u5f15","text":"<p>\u5f53\u5217\u662f\u591a\u7d22\u5f15\u65f6\uff0c\u53d6\u6d88\u5806\u6808\u4e5f\u4f1a\u5c0f\u5fc3\u5730\u6267\u884c\u6b63\u786e\u7684\u64cd\u4f5c\uff1a</p> <pre><code>df[:3].unstack(0)\n</code></pre> <pre><code>exp            A                   B  ...                   A          \nanimal       cat                 dog  ...       cat       dog          \nfirst        bar       baz       bar  ...       baz       bar       baz\nsecond                                ...                              \none    -0.097444  0.071727  0.818370  ... -0.642056  2.315783  0.307554\ntwo     0.849560       NaN  0.814575  ...       NaN -0.095546       NaN\n\n[2 rows x 8 columns]\n</code></pre> <pre><code>df2.unstack(1)\n</code></pre> <pre><code>exp            A                   B  ...                   A          \nanimal       cat                 dog  ...       cat       dog          \nsecond       one       two       one  ...       two       one       two\nfirst                                 ...                              \nbar    -0.097444  0.849560  0.818370  ... -0.296291  2.315783 -0.095546\nbaz     0.071727       NaN -0.778597  ...       NaN  0.307554       NaN\nfoo     0.017500 -0.248389  0.925994  ...  0.759299 -0.768354 -1.099883\nqux          NaN  0.743433       NaN  ... -0.236758       NaN  0.831853\n\n[4 rows x 8 columns]\n</code></pre>"},{"location":"Python3/pandas/9.8.%E5%8F%98%E6%8D%A2%E7%B4%A2%E5%BC%95.html#melt","title":"\u901a\u8fc7Melt\u91cd\u5851","text":"<pre><code>cheese = pd.DataFrame({'first': ['John', 'Mary'],\n                        'last': ['Doe', 'Bo'],\n                      'height': [5.5, 6.0],\n                      'weight': [130, 150]})\n\nprint(cheese)\n</code></pre> <pre><code>  first last  height  weight\n0  John  Doe     5.5     130\n1  Mary   Bo     6.0     150\n</code></pre> <pre><code>cheese.melt(id_vars=['first', 'last'])\n</code></pre> <pre><code>  first last variable  value\n0  John  Doe   height    5.5\n1  Mary   Bo   height    6.0\n2  John  Doe   weight  130.0\n3  Mary   Bo   weight  150.0\n</code></pre> <pre><code>cheese.melt(id_vars=['first', 'last'], var_name='quantity')\n</code></pre> <pre><code>  first last quantity  value\n0  John  Doe   height    5.5\n1  Mary   Bo   height    6.0\n2  John  Doe   weight  130.0\n3  Mary   Bo   weight  150.0\n</code></pre> <p>\u53e6\u4e00\u79cd\u8f6c\u6362\u65b9\u6cd5\u662f\u4f7f\u7528<code>wide_to_long()</code>\u9762\u677f\u6570\u636e\u4fbf\u5229\u529f\u80fd\u3002\u5b83\u4e0d\u5982\u7075\u6d3b<code>melt()</code>\uff0c\u4f46\u66f4\u6613\u4e8e\u4f7f\u7528\u3002</p> <pre><code>dft = pd.DataFrame({\"A1970\": {0: \"a\", 1: \"b\", 2: \"c\"},\n                    \"A1980\": {0: \"d\", 1: \"e\", 2: \"f\"},\n                    \"B1970\": {0: 2.5, 1: 1.2, 2: .7},\n                    \"B1980\": {0: 3.2, 1: 1.3, 2: .1},\n                        \"X\": dict(zip(range(3), np.random.randn(3)))})\n\ndft[\"id\"] = dft.index\nprint(dft)\n\npd.wide_to_long(dft, [\"A\", \"B\"], i=\"id\", j=\"year\")\n</code></pre> <pre><code>  A1970 A1980  B1970  B1980         X  id\n0     a     d    2.5    3.2  2.127480   0\n1     b     e    1.2    1.3 -0.217594   1\n2     c     f    0.7    0.1 -1.218903   2\n</code></pre> <pre><code>                X  A    B\nid year\n0  1970  2.127480  a  2.5\n1  1970 -0.217594  b  1.2\n2  1970 -1.218903  c  0.7\n0  1980  2.127480  d  3.2\n1  1980 -0.217594  e  1.3\n2  1980 -1.218903  f  0.1\n</code></pre>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html","title":"9.9.\u5206\u7ec4\u4e0e\u805a\u5408","text":"<pre><code>from toolkit import H\nimport pprint\nimport numpy as np\nimport pandas as pd\nfrom pandas import DataFrame\n</code></pre> <pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.02.28\npandas version:  1.2.2\nnumpy version:  1.20.1\n</code></pre> <p>\u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u5206\u7ec4\u5e76\u5bf9\u5404\u7ec4\u5e94\u7528\u4e00\u4e2a\u51fd\u6570\uff08\u65e0\u8bba\u662f\u805a\u5408\u8fd8\u662f\u8f6c\u6362\uff09\uff0c\u901a\u5e38\u662f\u6570\u636e\u5206\u6790\u5de5\u4f5c\u4e2d\u7684\u91cd\u8981\u73af\u8282\u3002\u5728\u5c06\u6570\u636e\u96c6\u52a0\u8f7d\u3001\u878d\u5408\u3001\u51c6\u5907\u597d\u4e4b\u540e\uff0c\u901a\u5e38\u5c31\u662f\u8ba1\u7b97\u5206\u7ec4\u7edf\u8ba1\u6216\u751f\u6210\u900f\u89c6\u8868\u3002pandas\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7075\u6d3b\u9ad8\u6548\u7684<code>gruopby</code>\u529f\u80fd\uff0c\u5b83\u80fd\u4ee5\u4e00\u79cd\u81ea\u7136\u7684\u65b9\u5f0f\u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u5207\u7247\u3001\u5207\u5757\u3001\u6458\u8981\u7b49\u64cd\u4f5c\u3002</p> <p>\u5173\u7cfb\u578b\u6570\u636e\u5e93\u548cSQL\uff08Structured Query Language\uff0c\u7ed3\u6784\u5316\u67e5\u8be2\u8bed\u8a00\uff09\u80fd\u591f\u5982\u6b64\u6d41\u884c\u7684\u539f\u56e0\u4e4b\u4e00\u5c31\u662f\u5176\u80fd\u591f\u65b9\u4fbf\u5730\u5bf9\u6570\u636e\u8fdb\u884c\u8fde\u63a5\u3001\u8fc7\u6ee4\u3001\u8f6c\u6362\u548c\u805a\u5408\u3002\u4f46\u662f\uff0c\u50cfSQL\u8fd9\u6837\u7684\u67e5\u8be2\u8bed\u8a00\u6240\u80fd\u6267\u884c\u7684\u5206\u7ec4\u8fd0\u7b97\u7684\u79cd\u7c7b\u5f88\u6709\u9650\u3002pandas\u53ef\u4ee5\u6267\u884c\u590d\u6742\u5f97\u591a\u7684\u5206\u7ec4\u8fd0\u7b97\uff08\u5229\u7528\u4efb\u4f55\u53ef\u4ee5\u63a5\u53d7pandas\u5bf9\u8c61\u6216NumPy\u6570\u7ec4\u7684\u51fd\u6570\uff09\u3002</p>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#groupby","title":"<code>GroupBy</code>\u673a\u5236","text":"<p>Hadley Wickham\uff08\u8bb8\u591a\u70ed\u95e8R\u8bed\u8a00\u5305\u7684\u4f5c\u8005\uff09\u521b\u9020\u4e86\u4e00\u4e2a\u7528\u4e8e\u8868\u793a\u5206\u7ec4\u8fd0\u7b97\u7684\u672f\u8bed\"split-apply-combine\"\uff08\u62c6\u5206\uff0d\u5e94\u7528\uff0d\u5408\u5e76\uff09\uff1a</p> <ul> <li> <p>split\uff1a\u6839\u636e\u5206\u7ec4\u952e\u5c06pandas\u5bf9\u8c61\uff08Series\u3001DataFrame\u6216\u8005\u5176\u4ed6\uff09\u5206\u6210\u51e0\u7ec4\u3002</p> </li> <li> <p>apply\uff1a\u5c06\u51fd\u6570\u72ec\u7acb\u5730\u5e94\u7528\u4e8e\u6bcf\u4e2a\u7ec4\u3002 </p> </li> <li> <p>combine\uff1a\u5c06\u51fd\u6570\u8fd4\u56de\u7684\u503c\u5408\u5e76\u5230\u4e00\u4e2a\u65b0\u5bf9\u8c61\u3002</p> </li> </ul> <p>\u4e0b\u56fe\u5927\u81f4\u8bf4\u660e\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u5206\u7ec4\u805a\u5408\u8fc7\u7a0b\uff1a</p> <p></p> <p>\u62c6\u5206\u6b65\u9aa4\u662f\u6700\u7b80\u5355\u7684\uff0c\u5206\u7ec4\u952e\u53ef\u4ee5\u6709\u591a\u79cd\u5f62\u5f0f\uff0c\u4e14\u7c7b\u578b\u4e0d\u5fc5\u76f8\u540c\uff1a</p> <ul> <li>\u5217\u8868\u6216\u6570\u7ec4\uff0c\u5176\u957f\u5ea6\u4e0e\u5f85\u5206\u7ec4\u7684\u8f74\u4e00\u6837\u3002</li> <li>\u8868\u793aDataFrame\u67d0\u4e2a\u5217\u540d\u7684\u503c\u3002</li> <li>\u5b57\u5178\u6216Series\uff0c\u7ed9\u51fa\u5f85\u5206\u7ec4\u8f74\u4e0a\u7684\u503c\u4e0e\u5206\u7ec4\u540d\u4e4b\u95f4\u7684\u5bf9\u5e94\u5173\u7cfb\u3002</li> <li>\u51fd\u6570\uff0c\u7528\u4e8e\u5904\u7406\u8f74\u7d22\u5f15\u6216\u7d22\u5f15\u4e2d\u7684\u5404\u4e2a\u6807\u7b7e\u3002</li> </ul> <p>\u540e\u4e09\u79cd\u90fd\u53ea\u662f\u7b2c\u4e00\u79cd\u7684\u5feb\u6377\u65b9\u5f0f\u800c\u5df2\uff0c\u5176\u6700\u7ec8\u76ee\u7684\u4ecd\u7136\u662f\u4ea7\u751f\u4e00\u7ec4\u7528\u4e8e\u62c6\u5206\u5bf9\u8c61\u7684\u503c\u3002</p> <p>\u5728apply\u7684\u6b65\u9aa4\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u5e0c\u671b\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\u4e4b\u4e00\uff1a</p> <ol> <li> <p>\u6c47\u603b\uff1a\u591a\u4e2a\u6570\u6c47\u603b\u6210\u4e00\u4e2a\u6570\u503c\uff08\u4f8b\u5982\uff1a\u6c42\u548c\u3001\u5e73\u5747\u503c\uff09\u3002</p> </li> <li> <p>\u8f6c\u6362\uff1a\u6267\u884c\u4e00\u4e9b\u8ba1\u7b97\u5e76\u8fd4\u56de\u5177\u6709\u76f8\u4f3c\u7d22\u5f15\u7684\u5bf9\u8c61\uff08\u4f8b\u5982\uff1a\u6807\u51c6\u5316\u3001\u586b\u5145NA\u503c\uff09\u3002</p> </li> <li> <p>\u8fc7\u6ee4\uff1a\u6839\u636e\u51fd\u6570\u5728group\u4e0a\u9762\u7684\u8ba1\u7b97\u7ed3\u679c\u5f97\u5230<code>True</code>\u6216<code>False</code>\uff0c\u7531\u6b64\u51b3\u5b9a\u4e22\u5f03\u4e00\u4e9b\u7ec4\uff08\u4f8b\u5982\uff1a\u4e22\u5f03\u6210\u5458\u4e2a\u6570\u8fc7\u5c11\u7684\u7ec4\u3001\u6839\u636e\u5e73\u5747\u503c\u7b5b\u9009\u6570\u636e\uff09\u3002</p> </li> </ol>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#groupby_1","title":"<code>groupby</code>\u65b9\u6cd5","text":"<p><code>groupby()</code>\u65b9\u6cd5\u662f\u5206\u7ec4\u65b9\u6cd5\uff1a</p> <pre><code>DataFrame.groupby(self, by=None, axis=0, level=None, as_index=True,\n                  sort=True, group_keys=True, squeeze=&lt;object&gt;,\n                  observed=False, dropna=True)\n</code></pre> <ul> <li> <p><code>by</code>\uff1a<code>mapping function</code>\u3001<code>list of function</code>\u3001<code>dict</code>\u3001<code>list</code>\u3001<code>tuple</code>\u3001<code>list of column name</code>\u3002\u5b83\u6307\u5b9a\u4e86\u5206\u7ec4\u6570\u636e\uff08\u5206\u7ec4\u952e\uff09\u3002</p> <ol> <li> <p>\u4f20\u5165\u51fd\u6570\uff0c\u5219\u5728\u6bcf\u4e2a<code>index value</code>\u4e0a\u8c03\u7528\u51fd\u6570\u6765\u4ea7\u751f\u5206\u7ec4\u6570\u636e\uff0c<code>axis</code>\u6307\u5b9a\u662f\u54ea\u4e2a\u8f74\u7684<code>index value</code></p> </li> <li> <p>\u4f20\u5165<code>Series</code>\u6216\u8005<code>dict</code>\uff0c\u5219\u6839\u636e\u6bcf\u4e2a<code>index value</code>\u5728\u5b57\u5178/<code>Series</code>\u4e2d\u7684\u503c\u6765\u4ea7\u751f\u5206\u7ec4\u6570\u636e</p> </li> <li> <p>\u4f20\u5165<code>column label</code>\uff0c\u5219\u4f7f\u7528\u8be5<code>label</code>\u62bd\u53d6\u51fa\u6765\u7684\u4e00\u5217\u6570\u636e\u4ea7\u751f\u5206\u7ec4\u6570\u636e</p> </li> <li> <p>\u4f20\u5165<code>column label</code>\u7684<code>list</code>\uff0c\u5219\u4f7f\u7528\u4e00\u7ec4<code>column label</code>\u62bd\u53d6\u51fa\u6765\u7684\u591a\u5217\u6570\u636e\u4f5c\u4e3a\u5206\u7ec4\u6570\u636e\u3002</p> </li> <li> <p>\u4f20\u5165<code>list</code>\uff0c\u5219\u5b83\u76f4\u63a5\u6307\u5b9a\u4e86\u5206\u7ec4\u6570\u636e\u3002</p> </li> <li> <p>\u4f20\u5165\u5e8f\u5217\u7684\u5e8f\u5217\uff0c\u5219\u4f7f\u7528\u8fd9\u4e9b\u5e8f\u5217\u62fc\u63a5\u6210\u4e00\u4e2a<code>MulitiIndex</code>\uff0c\u7136\u540e\u6839\u636e\u8fd9\u4e2a<code>MultiIndex</code>\u66ff\u6362\u6389<code>index</code>\u540e\uff0c\u6839\u636e<code>label value</code>\u6765\u5206\u7ec4\u3002\uff08\u4e8b\u5b9e\u4e0a\u5e76\u6ca1\u6709\u66ff\u6362\uff0c\u53ea\u662f\u7528\u4e8e\u8bf4\u660e\u8fd9\u4e2a\u8fc7\u7a0b\uff09</p> </li> </ol> </li> <li> <p><code>axis</code>\uff1a\u6307\u5b9a\u6cbf\u7740\u54ea\u4e2a\u8f74\u5206\u7ec4</p> </li> <li> <p><code>level</code>\uff1a\u4e00\u4e2a\u6574\u6570\u3001<code>level name</code>\u6216\u8005\u5176\u5e8f\u5217\u3002\u5982\u679c<code>axis</code>\u662f\u4e2a<code>MultiIndex</code>\uff0c\u5219\u5728\u6307\u5b9a\u7ea7\u522b\u4e0a\u7684\u7d22\u5f15\u6765\u5206\u7ec4</p> </li> <li> <p><code>as_index</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u5c06<code>group label</code>\u4f5c\u4e3a\u8f93\u51fa\u7684<code>index</code>\u3002\u5982\u679c\u4e3a<code>False</code>\uff0c\u5219\u8f93\u51fa\u662f<code>SQL</code>\u98ce\u683c\u7684\u5206\u7ec4\uff08\u6b64\u65f6\u5206\u7ec4\u7684<code>key</code>\u4f5c\u4e3a\u4e00\u5217\uff0c\u800c\u4e0d\u662f\u4f5c\u4e3a<code>index</code>\uff09\u3002<code>Series</code>\u4e2d\uff0c\u8be5\u53c2\u6570\u5fc5\u987b\u4e3a<code>True</code>\u3002</p> </li> <li> <p><code>sort</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u5bf9\u5206\u7ec4\u7684\u952e\u8fdb\u884c\u6392\u5e8f\u3002</p> </li> <li> <p><code>group_keys</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u4e14\u8c03\u7528\u4e86\u51fd\u6570\u6765\u51b3\u5b9a\u5206\u7ec4\uff0c\u5219\u6dfb\u52a0\u5206\u7ec4\u952e\u6765\u533a\u5206\u4e0d\u540c\u7684\u6570\u636e</p> </li> <li> <p><code>squeeze</code>\uff1abool, deprecated. \u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u5c3d\u53ef\u80fd\u7684\u7f29\u51cf\u7ed3\u679c\u7684\u7c7b\u578b\u3002</p> </li> </ul> <p>\u8be5\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a<code>GroupBy</code>\u5bf9\u8c61\u3002</p>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#_1","title":"\u62c6\u5206\u7ec4","text":"<p>\u521b\u5efa\u793a\u4f8b\u6570\u636e:    </p> <pre><code>df = pd.DataFrame({'Class': ['1\u73ed', '2\u73ed', '1\u73ed', '1\u73ed', '2\u73ed', '2\u73ed'],\n                   'Gender': ['\u7537', '\u7537', '\u5973', '\u7537', '\u5973', '\u5973'],\n                   'Math Score': [72, 86, 76, 85, 89, 90],\n                   'Language Score': [73, 88, 81, 82, 79, 86]},\n                  index=['\u5c0f\u660e', '\u5c0f\u806a', '\u5c0f\u7ea2', '\u5c0f\u534e', '\u5c0f\u4e3d', '\u5c0f\u7f8e'])\n\ndf.index.name = \"Name\"\ndf\n</code></pre> <pre><code>     Class Gender  Math Score  Language Score\nName\n\u5c0f\u660e      1\u73ed      \u7537          72              73\n\u5c0f\u806a      2\u73ed      \u7537          86              88\n\u5c0f\u7ea2      1\u73ed      \u5973          76              81\n\u5c0f\u534e      1\u73ed      \u7537          85              82\n\u5c0f\u4e3d      2\u73ed      \u5973          89              79\n\u5c0f\u7f8e      2\u73ed      \u5973          90              86\n</code></pre> <p>\u4ee5\u4e0b\u662f\u4f7f\u7528\u4e0d\u540c\u7c7b\u578b\u7684\u5206\u7ec4\u952e\u7684\u793a\u4f8b\u3002</p>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#series","title":"Series\u6216\u5b57\u5178","text":"<pre><code>grouped = df['Math Score'].groupby(dict(df['Class']))\n# grouped = df['Math Score'].groupby(df['Class'])\npprint.pprint(list(grouped))\n</code></pre> <pre><code>[('1\u73ed', Name\n\u5c0f\u660e    72\n\u5c0f\u7ea2    76\n\u5c0f\u534e    85\nName: Math Score, dtype: int64),\n ('2\u73ed', Name\n\u5c0f\u806a    86\n\u5c0f\u4e3d    89\n\u5c0f\u7f8e    90\nName: Math Score, dtype: int64)]\n</code></pre>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#column-label","title":"column label","text":"<pre><code>grouped = df.groupby('Class')\npprint.pprint(list(grouped))\n</code></pre> <pre><code>[('1\u73ed',\n       Class Gender  Math Score  Language Score\nName                                         \n\u5c0f\u660e      1\u73ed      \u7537          72              73\n\u5c0f\u7ea2      1\u73ed      \u5973          76              81\n\u5c0f\u534e      1\u73ed      \u7537          85              82),\n ('2\u73ed',\n       Class Gender  Math Score  Language Score\nName                                         \n\u5c0f\u806a      2\u73ed      \u7537          86              88\n\u5c0f\u4e3d      2\u73ed      \u5973          89              79\n\u5c0f\u7f8e      2\u73ed      \u5973          90              86)]\n</code></pre> <p>\u901a\u8fc7<code>axis</code>\u53c2\u6570\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u884c\u7684index\uff1a</p> <pre><code>grouped = df.groupby('Name', axis=0)\nlist(grouped)\n</code></pre> <pre><code>[('\u5c0f\u4e3d',\n       Class Gender  Math Score  Language Score\n  Name                                         \n  \u5c0f\u4e3d      2\u73ed      \u5973          89              79),\n ('\u5c0f\u534e',\n       Class Gender  Math Score  Language Score\n  Name                                         \n  \u5c0f\u534e      1\u73ed      \u7537          85              82),\n ('\u5c0f\u660e',\n       Class Gender  Math Score  Language Score\n  Name                                         \n  \u5c0f\u660e      1\u73ed      \u7537          72              73),\n ('\u5c0f\u7ea2',\n       Class Gender  Math Score  Language Score\n  Name                                         \n  \u5c0f\u7ea2      1\u73ed      \u5973          76              81),\n ('\u5c0f\u7f8e',\n       Class Gender  Math Score  Language Score\n  Name                                         \n  \u5c0f\u7f8e      2\u73ed      \u5973          90              86),\n ('\u5c0f\u806a',\n       Class Gender  Math Score  Language Score\n  Name                                         \n  \u5c0f\u806a      2\u73ed      \u7537          86              88)]\n</code></pre>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#list-of-column-label","title":"list of column label","text":"<pre><code># axis=1 \u6cbf\u77401\u8f74\u62c6\u5206 \u4f7f\u75280\u8f74\u7684lable\ngrouped = df.groupby(['Class', 'Gender'], axis=0)\npprint.pprint(list(grouped))\n</code></pre> <pre><code>[(('1\u73ed', '\u5973'),\n       Class Gender  Math Score  Language Score\nName                                         \n\u5c0f\u7ea2      1\u73ed      \u5973          76              81),\n (('1\u73ed', '\u7537'),\n       Class Gender  Math Score  Language Score\nName                                         \n\u5c0f\u660e      1\u73ed      \u7537          72              73\n\u5c0f\u534e      1\u73ed      \u7537          85              82),\n (('2\u73ed', '\u5973'),\n       Class Gender  Math Score  Language Score\nName                                         \n\u5c0f\u4e3d      2\u73ed      \u5973          89              79\n\u5c0f\u7f8e      2\u73ed      \u5973          90              86),\n (('2\u73ed', '\u7537'),\n       Class Gender  Math Score  Language Score\nName                                         \n\u5c0f\u806a      2\u73ed      \u7537          86              88)]\n</code></pre>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#_2","title":"\u5e8f\u5217","text":"<pre><code>seq_1 = list(df['Class'])\nseq_2 = list(df['Gender'])\n</code></pre> <pre><code>grouped = df['Math Score'].groupby(seq_1)\nprint(list(grouped), \"\\n\")\ngrouped = df['Math Score'].groupby([seq_1, seq_2])\nprint(list(grouped))\n</code></pre> <pre><code>[('1\u73ed', Name\n\u5c0f\u660e    72\n\u5c0f\u7ea2    76\n\u5c0f\u534e    85\nName: Math Score, dtype: int64), ('2\u73ed', Name\n\u5c0f\u806a    86\n\u5c0f\u4e3d    89\n\u5c0f\u7f8e    90\nName: Math Score, dtype: int64)] \n\n[(('1\u73ed', '\u5973'), Name\n\u5c0f\u7ea2    76\nName: Math Score, dtype: int64), (('1\u73ed', '\u7537'), Name\n\u5c0f\u660e    72\n\u5c0f\u534e    85\nName: Math Score, dtype: int64), (('2\u73ed', '\u5973'), Name\n\u5c0f\u4e3d    89\n\u5c0f\u7f8e    90\nName: Math Score, dtype: int64), (('2\u73ed', '\u7537'), Name\n\u5c0f\u806a    86\nName: Math Score, dtype: int64)]\n</code></pre>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#_3","title":"\u51fd\u6570","text":"<pre><code># \u5b9a\u4e49\u51fd\u6570\ndef fun_1(key):\n    return key\ndef fun_2(key):\n    return \"a\"\n\n# function\ngrouped = df['Math Score'].groupby(fun_1)\nprint(list(grouped), \"\\n\")\n\n# list of function\ngrouped = df.groupby([fun_1, fun_2])\nprint(list(grouped))\n</code></pre> <pre><code>[('\u5c0f\u4e3d', Name\n\u5c0f\u4e3d    89\nName: Math Score, dtype: int64), ('\u5c0f\u534e', Name\n\u5c0f\u534e    85\nName: Math Score, dtype: int64), ('\u5c0f\u660e', Name\n\u5c0f\u660e    72\nName: Math Score, dtype: int64), ('\u5c0f\u7ea2', Name\n\u5c0f\u7ea2    76\nName: Math Score, dtype: int64), ('\u5c0f\u7f8e', Name\n\u5c0f\u7f8e    90\nName: Math Score, dtype: int64), ('\u5c0f\u806a', Name\n\u5c0f\u806a    86\nName: Math Score, dtype: int64)]\n\n[(('\u5c0f\u4e3d', 'a'),      Class Gender  Math Score  Language Score\nName\n\u5c0f\u4e3d      2\u73ed      \u5973          89              79), (('\u5c0f\u534e', 'a'),\nClass Gender  Math Score  Language Score\nName\n\u5c0f\u534e      1\u73ed      \u7537          85              82), (('\u5c0f\u660e', 'a'),\nClass Gender  Math Score  Language Score\nName\n\u5c0f\u660e      1\u73ed      \u7537          72              73), (('\u5c0f\u7ea2', 'a'),\nClass Gender  Math Score  Language Score\nName\n\u5c0f\u7ea2      1\u73ed      \u5973          76              81), (('\u5c0f\u7f8e', 'a'),\nClass Gender  Math Score  Language Score\nName\n\u5c0f\u7f8e      2\u73ed      \u5973          90              86), (('\u5c0f\u806a', 'a'),\nClass Gender  Math Score  Language Score\nName\n\u5c0f\u806a      2\u73ed      \u7537          86              88)]\n</code></pre>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#_4","title":"\u904d\u5386\u7ec4","text":"<pre><code>grouped = df.groupby('Class')\n\nfor name, group in grouped:\n    print(name)\n    print(group)\n</code></pre> <pre><code>1\u73ed\n     Class Gender  Math Score  Language Score\nName\n\u5c0f\u660e      1\u73ed      \u7537          72              73\n\u5c0f\u7ea2      1\u73ed      \u5973          76              81\n\u5c0f\u534e      1\u73ed      \u7537          85              82\n2\u73ed\n     Class Gender  Math Score  Language Score\nName\n\u5c0f\u806a      2\u73ed      \u7537          86              88\n\u5c0f\u4e3d      2\u73ed      \u5973          89              79\n\u5c0f\u7f8e      2\u73ed      \u5973          90              86\n</code></pre>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#_5","title":"\u9009\u62e9\u7ec4","text":"<pre><code>grouped = df.groupby('Class') \ngrouped.get_group(\"1\u73ed\")\n</code></pre> <pre><code>     Class Gender  Math Score  Language Score\nName\n\u5c0f\u660e      1\u73ed      \u7537          72              73\n\u5c0f\u7ea2      1\u73ed      \u5973          76              81\n\u5c0f\u534e      1\u73ed      \u7537          85              82\n</code></pre>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#cut","title":"<code>cut</code> \u51fd\u6570","text":"<pre><code>pd.cut(x, bins, right=True, labels=None, retbins=False, precision=3,\n       include_lowest=False, duplicates='raise', ordered=True)\n</code></pre> <ul> <li><code>x</code>\uff1a\u4e00\u7ef4\u7684\u6570\u7ec4\u3002</li> <li> <p><code>bins</code>\uff1a\u4e00\u4e2a\u6574\u6570\u3001\u4e00\u4e2a\u5e8f\u5217\u3002</p> <ul> <li> <p>\u6574\u6570\uff1a\u5b83\u6307\u5b9a\u4e86\u5212\u5206\u533a\u95f4\u7684\u6570\u91cf\u3002\u6bcf\u4e2a\u533a\u95f4\u662f\u7b49\u957f\u7684\uff0c\u4e14\u6700\u5de6\u4fa7\u7684\u533a\u95f4\u7684\u5de6\u4fa7\u6bd4<code>x</code>\u6700\u5c0f\u503c\u5c0f<code>0.1%</code>\uff1b\u6700\u53f3\u4fa7\u7684\u533a\u95f4\u7684\u53f3\u4fa7\u6bd4<code>x</code>\u6700\u5927\u503c\u5927<code>0.1%</code>\u3002</p> </li> <li> <p>\u4e00\u4e2a\u5e8f\u5217\uff1a\u5b83\u7ed9\u51fa\u4e86<code>bins</code>\u7684\u6bcf\u4e2a\u5212\u5206\u70b9\u3002</p> </li> </ul> </li> <li> <p><code>right</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u533a\u95f4\u662f\u5de6\u5f00\u53f3\u95ed\uff1b\u5426\u5219\u533a\u95f4\u662f\u5de6\u95ed\u53f3\u5f00\u7684\u533a\u95f4\u3002</p> </li> <li><code>labels</code>\uff1a\u4e00\u4e2a<code>array</code>\u6216\u8005<code>None</code>\u3002\u5982\u679c\u4e3a\u4e00\u4e2a<code>array</code>\uff0c\u5219\u5b83\u6307\u5b9a\u4e86\u7ed3\u679c<code>bins</code>\u7684<code>label</code>\uff08\u8981\u6c42\u957f\u5ea6\u4e0e<code>bins</code>\u6570\u91cf\u76f8\u540c\uff09\u3002\u5982\u679c\u4e3a<code>None</code>\uff0c\u5219\u4f7f\u7528\u533a\u95f4\u6765\u8868\u793a\u3002</li> <li><code>retbins</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u8fd4\u56de<code>bins</code></li> <li><code>precision</code>\uff1a\u4e00\u4e2a\u6574\u6570\uff0c\u7ed9\u51fa\u5b58\u50a8\u548c\u663e\u793a<code>bin label</code>\u7684\u7cbe\u5ea6</li> <li><code>include_lowest</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u6700\u5de6\u4fa7<code>bin</code>\u7684\u5de6\u4fa7\u662f\u95ed\u533a\u95f4</li> </ul> <p>\u8fd4\u56de\u7684\u662f\u4e00\u4e2a<code>Categorical</code>\u5bf9\u8c61\u6216\u8005<code>Series</code>\u5bf9\u8c61\u3002\u8be5\u51fd\u6570\u7c7b\u4f3c\u4e8e<code>numpy.histogram()</code>\u51fd\u6570\u3002</p>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#qcut","title":"<code>qcut</code> \u51fd\u6570","text":"<pre><code>pd.qcut(x, q, labels=None, retbins=False, precision=3,\n        duplicates='raise')\n</code></pre> <ul> <li> <p><code>q</code>\uff1a\u4e00\u4e2a\u6574\u6570\u6216\u8005\u5e8f\u5217\u3002</p> <ul> <li> <p>\u6574\u6570\uff1a\u5b83\u6307\u5b9a\u4e86\u5212\u5206\u533a\u95f4\u7684\u6570\u91cf\u3002</p> </li> <li> <p>\u4e00\u4e2a\u5e8f\u5217\uff1a\u5b83\u7ed9\u51fa\u4e86\u767e\u5206\u6bd4\u5212\u5206\u70b9\u3002\u6bd4\u5982<code>[0,0.25,0.5,0.75,0.1]</code>\u3002<code>0.25</code>\u4ee3\u8868<code>25%</code>\u5212\u5206\u70b9\u3002\u5982\u679c\u6570\u636e\u4e0d\u5728\u4efb\u4f55\u533a\u95f4\u5185\uff0c\u5219\u6807\u8bb0\u4e3a<code>NaN</code>\u3002</p> </li> </ul> </li> <li> <p>\u5176\u4ed6\u53c2\u6570\u4e0e<code>cut</code>\u76f8\u540c\u3002(<code>qcut</code>\u6ca1\u6709<code>bins</code>\u53c2\u6570\uff09</p> </li> </ul>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#_6","title":"\u805a\u5408","text":""},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#_7","title":"\u5e38\u7528\u805a\u5408\u51fd\u6570","text":"<p>\u805a\u5408\u51fd\u6570\u53ef\u4ee5\u51cf\u5c0f\u8fd4\u56de\u5bf9\u8c61\u7684\u5c3a\u5bf8\u3002\u4e0b\u9762\u5217\u51fa\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u6c47\u603b\u529f\u80fd\uff1a </p> \u529f\u80fd \u63cf\u8ff0 <code>mean()</code> \u8ba1\u7b97\u7ec4\u7684\u5e73\u5747\u503c <code>sum()</code> \u8ba1\u7b97\u7ec4\u503c\u4e4b\u548c <code>size()</code> \u8ba1\u7b97\u7ec4\u5927\u5c0f <code>count()</code> \u8ba1\u7b97\u5404\u7ec4\u7684\u5143\u7d20\u7684\u6570\u91cf <code>std()</code> \u7ec4\u7684\u6807\u51c6\u504f\u5dee <code>var()</code> \u8ba1\u7b97\u7ec4\u7684\u65b9\u5dee <code>sem()</code> \u5747\u503c\u7684\u6807\u51c6\u8bef <code>describe()</code> \u751f\u6210\u63cf\u8ff0\u6027\u7edf\u8ba1 <code>first()</code> \u8fd4\u56de\u6bcf\u7ec4\u7684\u7b2c\u4e00\u4e2a\u503c <code>last()</code> \u8fd4\u56de\u6bcf\u7ec4\u7684\u6700\u540e\u4e00\u4e2a\u503c <code>nth()</code> \u53d6\u7b2cn\u4e2a\u503c\uff0c\u5982\u679cn\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u5219\u53d6\u4e00\u4e2a\u5b50\u96c6 <code>min()</code> \u8ba1\u7b97\u7ec4\u503c\u7684\u6700\u5c0f\u503c <code>max()</code> \u8ba1\u7b97\u7ec4\u503c\u7684\u6700\u5927\u503c <p>\u4e0a\u9762\u7684\u6c47\u603b\u51fd\u6570\u5c06\u6392\u9664<code>NA</code>\u503c\u3002 \u5c06Series\u51cf\u5c11\u4e3a\u6807\u91cf\u503c\u7684\u4efb\u4f55\u51fd\u6570\u90fd\u662f\u805a\u5408\u51fd\u6570\uff0c\u5e76\u4e14\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\uff0c\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u662f\u3002</p>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#_8","title":"\u81ea\u5b9a\u4e49\u805a\u5408\u51fd\u6570","text":"<p>\u5982\u679c\u5e0c\u671b\u4f7f\u7528\u81ea\u5df1\u7684\u805a\u5408\u51fd\u6570\uff0c\u53ea\u9700\u8981\u5c06\u5176\u4f20\u5165<code>.aggregate(func, *args, **kwargs)</code>\u6216\u8005<code>.agg()</code>\u65b9\u6cd5\u5373\u53ef\u3002\u5176\u4e2d<code>func</code>\u63a5\u53d7\u4e00\u7ef4\u6570\u7ec4\uff0c\u8fd4\u56de\u4e00\u4e2a\u6807\u91cf\u503c\u3002</p> <ul> <li>\u6ce8\u610f\uff1a\u81ea\u5b9a\u4e49\u805a\u5408\u51fd\u6570\u4f1a\u6162\u5f97\u591a\u3002\u8fd9\u662f\u56e0\u4e3a\u5728\u6784\u9020\u4e2d\u95f4\u5206\u7ec4\u6570\u636e\u5757\u65f6\u5b58\u5728\u975e\u5e38\u5927\u7684\u5f00\u9500\uff08\u51fd\u6570\u8c03\u7528\u3001\u6570\u636e\u91cd\u6392\u7b49\uff09</li> <li>\u4f60\u53ef\u4ee5\u5c06\u524d\u9762\u4ecb\u7ecd\u7684<code>GroupBy</code>\u7684\u7edf\u8ba1\u51fd\u6570\u540d\u4ee5\u5b57\u7b26\u4e32\u7684\u5f62\u5f0f\u4f20\u5165\u3002</li> <li>\u5982\u679c\u4f60\u4f20\u5165\u4e86\u4e00\u7ec4\u51fd\u6570\u6216\u8005\u51fd\u6570\u540d\uff0c\u5219\u5f97\u5230\u7684\u7ed3\u679c\u4e2d\uff0c\u76f8\u5e94\u7684\u5217\u5c31\u7528\u5bf9\u5e94\u7684\u51fd\u6570\u540d\u547d\u540d\u3002\u5982\u679c\u4f60\u5e0c\u671b\u63d0\u4f9b\u4e00\u4e2a\u81ea\u5df1\u7684\u540d\u5b57\uff0c\u5219\u4f7f\u7528<code>(name,function)</code>\u5143\u7ec4\u7684\u5e8f\u5217\u3002\u5176\u4e2d<code>name</code>\u7528\u4f5c\u7ed3\u679c\u5217\u7684\u5217\u540d\u3002</li> <li>\u5982\u679c\u4f60\u5e0c\u671b\u5bf9\u4e0d\u540c\u7684\u5217\u91c7\u7528\u4e0d\u540c\u7684\u805a\u5408\u51fd\u6570\uff0c\u5219\u5411<code>agg()</code>\u4f20\u5165\u4e00\u4e2a\u5b57\u5178\u3002\u5b57\u5178\u7684\u952e\u5c31\u662f\u5217\u540d\uff0c\u503c\u5c31\u662f\u4f60\u5e0c\u671b\u5bf9\u8be5\u5217\u91c7\u7528\u7684\u51fd\u6570\u3002</li> </ul> <pre><code>grouped = df.groupby('Class')\ngrouped.aggregate(np.sum)\n</code></pre> <pre><code>       Math Score  Language Score\nClass\n1\u73ed            233             236\n2\u73ed            265             253\n</code></pre>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#apply","title":"<code>apply</code> \u65b9\u6cd5","text":"<pre><code>DataFrame.apply(self, func, axis=0, raw=False, result_type=None,\n                args=(), kwds)\n</code></pre> <ul> <li><code>func</code>\uff1a\u4e00\u4e2a\u53ef\u8c03\u7528\u5bf9\u8c61\uff0c\u5b83\u4f1a\u5e94\u7528\u4e8e\u6bcf\u4e00\u884c\u6216\u8005\u6bcf\u4e00\u5217</li> <li><code>axis</code>\uff1a\u6307\u5b9a\u5e94\u7528\u4e8e\u884c\u8fd8\u662f\u5217\u3002\u5982\u679c\u4e3a<code>0/'index'</code>\uff0c\u5219\u6cbf\u77400\u8f74\u8ba1\u7b97\uff08\u5e94\u7528\u4e8e\u6bcf\u4e00\u5217\uff09\uff1b\u5982\u679c\u4e3a<code>1/'columns'</code>\uff0c\u5219\u6cbf\u77401\u8f74\u8ba1\u7b97\uff08\u5e94\u7528\u4e8e\u6bcf\u4e00\u884c\uff09\u3002</li> <li><code>broadcast</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u7ed3\u679c\u4e3a<code>DataFrame</code>\uff08\u4e0d\u8db3\u7684\u90e8\u5206\u901a\u8fc7\u5e7f\u64ad\u6765\u586b\u5145\uff09</li> <li><code>raw</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>False</code>\uff0c\u5219\u8f6c\u6362\u6bcf\u4e00\u884c/\u6bcf\u4e00\u5217\u4e3a\u4e00\u4e2a<code>Series</code>\uff0c\u7136\u540e\u4f20\u7ed9 <code>func</code> \u4f5c\u4e3a\u53c2\u6570\u3002\u5982\u679c<code>True</code>\uff0c\u5219<code>func</code>\u63a5\u53d7\u5230\u7684\u662f<code>ndarray</code>\uff0c\u800c\u4e0d\u662f<code>Series</code></li> <li><code>reduce</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u7528\u4e8e\u5224\u65ad\u5f53<code>DataFrame</code>\u4e3a\u7a7a\u65f6\uff0c\u5e94\u8be5\u8fd4\u56de\u4e00\u4e2a<code>Series</code>\u8fd8\u662f\u8fd4\u56de\u4e00\u4e2a<code>DataFrame</code>\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u7ed3\u679c\u4e3a<code>Series</code>\uff1b\u5982\u679c\u4e3a<code>False</code>\uff0c\u5219\u7ed3\u679c\u4e3a<code>DataFrame</code>\u3002</li> <li><code>args</code>\uff1a\u4f20\u9012\u7ed9<code>func</code>\u7684\u989d\u5916\u7684\u4f4d\u7f6e\u53c2\u6570\uff08\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u53c2\u6570\u59cb\u7ec8\u4e3a<code>Series/ndarray</code>\uff09</li> </ul>"},{"location":"Python3/pandas/9.9.%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88.html#_9","title":"\u5206\u7ec4\u7ea7\u8fd0\u7b97","text":"<ul> <li> <p><code>agg/aggregate</code>\u53ea\u662f\u5206\u7ec4\u7ea7\u8fd0\u7b97\u5176\u4e2d\u7684\u4e00\u79cd\u3002\u5b83\u63a5\u53d7\u4e00\u7ef4\u6570\u7ec4\uff0c\u8fd4\u56de\u4e00\u4e2a\u6807\u91cf\u503c\u3002</p> </li> <li> <p><code>transform</code>\u662f\u53e6\u4e00\u4e2a\u5206\u7ec4\u7ea7\u8fd0\u7b97\u3002\u5b83\u4e5f\u63a5\u53d7\u4e00\u7ef4\u6570\u7ec4\u3002\u53ea\u80fd\u8fd4\u56de\u4e24\u79cd\u7ed3\u679c\uff1a\u8981\u4e48\u662f\u4e00\u4e2a\u6807\u91cf\u503c\uff08\u8be5\u6807\u91cf\u503c\u5c06\u88ab\u5e7f\u64ad\uff09\uff0c\u6216\u8005\u4e00\u4e2a\u76f8\u540c\u5927\u5c0f\u7684\u7ed3\u679c\u6570\u7ec4\u3002</p> <ul> <li>\u65e0\u6cd5\u901a\u8fc7\u5b57\u5178\u6765\u5bf9\u4e0d\u540c\u7684\u5217\u8fdb\u884c\u4e0d\u540c\u7684<code>transform</code></li> </ul> </li> </ul> <pre><code>GroupBy.transform(func, *args, **kwargs)\n</code></pre> <ul> <li><code>apply</code>\u662f\u53e6\u4e00\u4e2a\u5206\u7ec4\u7ea7\u8fd0\u7b97\u3002\u5b83\u662f\u6700\u4e00\u822c\u5316\u7684\u5206\u7ec4\u7ea7\u8fd0\u7b97\u3002\u5b83\u5c06\u5f85\u5904\u7406\u7684\u5bf9\u8c61\u62c6\u5206\u6210\u591a\u4e2a\u7247\u6bb5\uff0c\u7136\u540e\u5bf9\u5404\u4e2a\u7247\u6bb5\u8c03\u7528\u4f20\u5165\u7684\u51fd\u6570\uff0c\u6700\u540e\u5c1d\u8bd5\u5c06\u5404\u4e2a\u7247\u6bb5\u7ec4\u5408\u5230\u4e00\u8d77\u3002</li> </ul> <pre><code> GroupBy.apply(func, *args, **kwargs) \n</code></pre> <ul> <li> <p><code>func</code>\uff1a\u8fd0\u7b97\u51fd\u6570\u3002\u5176\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u53c2\u6570\u4e3a\u5f85\u5904\u7406\u5bf9\u8c61\u3002\u5176\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u6807\u91cf\u503c\u6216\u8005<code>pandas</code>\u5bf9\u8c61\u3002</p> </li> <li> <p><code>args/kwargs</code>\u662f\u4f20\u9012\u7ed9<code>func</code>\u7684\u989d\u5916\u7684\u4f4d\u7f6e\u53c2\u6570\u4e0e\u5173\u952e\u5b57\u53c2\u6570\u3002</p> </li> </ul> <p>\u5bf9\u4e8e<code>DataFrame</code>\u7684<code>.groupby</code>\u65f6\uff0c\u4f20\u9012\u7ed9<code>func</code>\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f<code>DataFrame</code>\uff1b\u5bf9\u4e8e<code>Series</code>\u7684<code>.groupby</code>\uff0c\u4f20\u9012\u7ed9<code>func</code>\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f<code>Series</code>\u3002</p> <ul> <li><code>pd.cut()/qcut()</code>\u51fd\u6570\u8fd4\u56de\u7684\u662f<code>Categorical</code>\u5bf9\u8c61\u3002\u6211\u4eec\u53ef\u4ee5\u7528\u5b83\u4f5c\u4e3a<code>.groupby()</code>\u7684<code>by</code>\u53c2\u6570\u7684\u503c\u3002\u8fd9\u6837\u53ef\u4ee5\u5b9e\u73b0\u6876\u5206\u6790\u3002 </li> </ul>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html","title":"11.1.\u6570\u636e\u96c6","text":"<pre><code>from toolkit import H\nfrom sklearn import datasets\n</code></pre> <pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.11.07\nsklearn version:  0.23.1\n</code></pre>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#_1","title":"\u6570\u636e\u96c6","text":"<p><code>sklearn</code>\u5305\u81ea\u5e26\u4e00\u4e9b\u73a9\u5177\u6570\u636e\u96c6\uff0c\u8fd8\u5177\u6709\u4e00\u4e9b\u4eba\u5de5\u6570\u636e\u751f\u6210\u5668\u3002\u4e3b\u8981\u63a5\u53e3\u5982\u4e0b\uff1a</p> <ol> <li> <p><code>datasets.load_*()</code>\uff1a\u83b7\u53d6\u5c0f\u89c4\u6a21\u6570\u636e\u96c6\uff0c\u6570\u636e\u5df2\u7ecf\u5305\u542b\u5728datasets\u91cc\u9762\u3002 <code>load_*</code>\u51fd\u6570\u6709\u4e00\u4e2a\u901a\u7528\u53c2\u6570<code>return_X_y</code>\uff0c\u9ed8\u8ba4\u503c\u4e3a<code>return_X_y=False</code>\uff0c\u8fd9\u4f1a\u8fd4\u56de\u4e00\u4e2a<code>sklearn.utils.Bunch</code>\u5bf9\u8c61\u3002\u5982\u679c<code>return_X_y=True</code>\uff0c\u5219\u4ec5\u8fd4\u56detuple\uff1a<code>(data,target)</code>\u3002</p> </li> <li> <p><code>datasets.fetch_*()</code>\uff1a\u83b7\u53d6\u5927\u89c4\u6a21\u6570\u636e\u96c6\uff0c\u9700\u8981\u4ece\u7f51\u7edc\u4e0a\u4e0b\u8f7d\u3002\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f<code>data_home</code>\uff0c\u8868\u793a\u6570\u636e\u96c6\u4e0b\u8f7d\u7684\u76ee\u5f55\uff0c\u9ed8\u8ba4\u662f<code>~/scikit_learn_data/</code>\u3002<code>~</code>\u8868\u793a\u8ba1\u7b97\u673a\u7528\u6237\u8def\u5f84\uff0c\u4f8b\u5982'C:\\Users\\UserName'\u3002\u8981\u4fee\u6539\u9ed8\u8ba4\u76ee\u5f55\uff0c\u53ef\u4ee5\u4fee\u6539\u73af\u5883\u53d8\u91cfSCIKIT_LEARN_DATA\u3002</p> </li> <li> <p><code>datasets.make_*()</code>\uff1a\u672c\u5730\u751f\u6210\u6570\u636e\u96c6\u3002 </p> </li> </ol> <pre><code>datasets.get_data_home() # \u83b7\u53d6\u6570\u636e\u96c6\u76ee\u5f55\ndatasets.clear_data_home(data_home=None) # \u5220\u9664\u6240\u6709\u4e0b\u8f7d\u6570\u636e\n</code></pre> <p><code>load*</code>\u548c<code>fetch*</code>\u51fd\u6570\u8fd4\u56de\u7684\u6570\u636e\u7c7b\u578b\u662f<code>datasets.base.Bunch</code>\uff0c\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a<code>dict</code>\u3002\u53ef\u50cf<code>dict</code>\u4e00\u6837\uff0c\u901a\u8fc7<code>key</code>\u8bbf\u95ee<code>value</code>\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5bf9\u8c61\u5c5e\u6027\u65b9\u5f0f\u8bbf\u95ee\uff0c\u4e3b\u8981\u5305\u542b\u4ee5\u4e0b\u5c5e\u6027\uff1a</p> <ol> <li> <p>data\uff1a\u7279\u5f81\u6570\u636e\u6570\u636e\uff08\u6837\u672c\u96c6\uff09\uff0c\u662f $\\text{n_samples} \\times \\text{n_features}$ \u7684\u4e8c\u7ef4<code>numpy.ndarray</code>\u6570\u7ec4</p> </li> <li> <p>target\uff1a\u6807\u7b7e\u6570\u7ec4\uff0c\u662f<code>n_samples</code>\u7684\u4e00\u7ef4<code>numpy.ndarray</code></p> </li> <li> <p>DESCR\uff1a\u6570\u636e\u63cf\u8ff0</p> </li> <li> <p>feature_names\uff1a\u7279\u5f81\u540d</p> </li> <li> <p>target_names\uff1a\u6807\u7b7e\u540d</p> </li> </ol>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#loaders","title":"loaders:\u52a0\u8f7d\u5668\u2014\u2014\u83b7\u53d6\u5c0f\u6570\u636e\u96c6","text":"<p>\u5c0f\u6570\u636e\u96c6\u5728<code>sklearn</code>\u91cc\u9762\u7684API\u7edf\u4e00\u4e3a<code>load_</code>\uff0cThe dataset loaders\u53ef\u4ee5\u52a0\u8f7d\u5c0f\u578b\u6807\u51c6\u6570\u636e\u3002\u5c0f\u6570\u636e\u96c6\u662f\u5c01\u88c5\u5728<code>sklearn</code>\u91cc\u9762\u7684\u3002</p> <p>\u4e00\u5171\u670912\u4e2a\u5c0f\u6570\u636e\u96c6\u3002\u5206\u522b\u5982\u4e0b\uff1a</p> <ol> <li> <p>\u6ce2\u58eb\u987f\u623f\u4ef7\u6570\u636e\u96c6<code>load_boston(return_X_y)</code>\uff0c\u56de\u5f52</p> </li> <li> <p>\u4e73\u817a\u764c\u6570\u636e\u96c6<code>load_breast_cancer(return_X_y)</code>\uff0c\u5206\u7c7b</p> </li> <li> <p>\u7cd6\u5c3f\u75c5\u6570\u636e\u96c6<code>load_diabetes(return_X_y)</code>\uff0c\u56de\u5f52</p> </li> <li> <p>\u6570\u5b57\u6570\u636e\u96c6<code>load_digits(n_class, return_X_y)</code>\uff0c\u5206\u7c7b</p> </li> <li> <p>\u9e22\u5c3e\u82b1\u6570\u636e\u96c6<code>load_iris(return_X_y)</code>\uff0c\u5206\u7c7b</p> </li> <li> <p>\u8461\u8404\u9152\u6570\u636e\u96c6<code>load_wine(return_X_y)</code>\uff0c\u5206\u7c7b</p> </li> <li> <p>\u00b7\u00b7\u00b7</p> </li> </ol> <p>\u8fd9\u4e9b\u6570\u636e\u96c6\u53ef\u7528\u4e8e\u5feb\u901f\u5b9e\u73b0<code>scikit-learn</code>\u4e2d\u7684\u5404\u79cd\u7b97\u6cd5\u3002\u4f46\u662f\u8fd9\u4e9b\u6570\u636e\u96c6\u592a\u5c0f\uff0c\u5e76\u4e0d\u80fd\u4ee3\u8868\u73b0\u5b9e\u4e16\u754c\u7684\u673a\u5668\u5b66\u4e60\u4efb\u52a1\u3002</p> <pre><code>'''\n\u7528\u4e8e\u5206\u7c7b\u7684iris\u6570\u636e\n'''\niris = datasets.load_iris(return_X_y=True) # (data,target) \u7684\u4e8c\u7ef4tuple\ntype(iris)\n\niris = datasets.load_iris(return_X_y=False)\ntype(iris)\n</code></pre> <pre><code>iris.data # \u6837\u672c\u6570\u636e\niris[\"data\"]\n\niris.target # label \u6570\u636e\niris.DESCR # \u6570\u636e\u63cf\u8ff0\niris.feature_names # \u6837\u672c\u7279\u5f81\u540d\uff08\u53d8\u91cf\u540d\uff09\niris.target_names # label \u540d\n</code></pre>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#fetchers","title":"fetchers:\u63d0\u53d6\u5668\u2014\u2014\u83b7\u53d6\u5927\u6570\u636e\u96c6","text":"<pre><code># \u52a0\u8f7d20\u4e2a\u65b0\u95fb\u7ec4\u6570\u636e\u96c6\u4e2d\u7684\u6587\u4ef6\u540d\u548c\u6570\u636e\ndatasets.fetch_20newsgroups(data_home=None, subset='train', categories=None, \n                           shuffle=True, random_state=42, remove=(), \n                           download_if_missing=True)\n</code></pre> <p><code>data_home</code>: \u6307\u5b9a\u6570\u636e\u96c6\u7684\u7f13\u5b58\u6587\u4ef6\u5939\u3002\u9ed8\u8ba4\u503c\uff1aNone\uff0c\u8868\u793a\u5b58\u50a8\u5728<code>\u301c/ scikit_learn_data</code>\u6587\u4ef6\u5939\u4e2d\u3002</p> <p><code>subset</code>: <code>train</code>\u6216\u8005<code>test</code>,<code>all</code>\uff0c\u53ef\u9009\uff0c\u5206\u522b\u5bf9\u5e94\u8bad\u7ec3\u96c6\u3001\u6d4b\u8bd5\u96c6\u3001\u4e24\u8005\u3002</p> <p><code>categories</code>: \u65e0\u6216\u5b57\u7b26\u4e32\u6216<code>Unicode</code>\u7684\u96c6\u5408\uff0c\u9ed8\u8ba4\u503c\u4e3aNone\uff0c\u52a0\u8f7d\u6240\u6709\u7c7b\u522b\u3002\u5982\u679c\u4e0d\u662f\u65e0\uff0c\u8981\u52a0\u8f7d\u7684\u7c7b\u522b\u540d\u79f0\u5217\u8868\uff08\u5ffd\u7565\u5176\u4ed6\u7c7b\u522b\uff09</p> <p><code>shuffle</code>: \u662f\u5426\u5bf9\u6570\u636e\u8fdb\u884c\u6d17\u724c\u3002</p> <p><code>random_state</code>: <code>numpy</code>\u968f\u673a\u6570\u751f\u6210\u5668\u6216\u79cd\u5b50\u6574\u6570\u3002</p> <p><code>download_if_missing</code>: \u53ef\u9009\uff0c\u9ed8\u8ba4\u4e3aTrue\uff0c\u5982\u679cFalse\uff0c\u5982\u679c\u6570\u636e\u4e0d\u5728\u672c\u5730\u53ef\u7528\u800c\u4e0d\u662f\u5c1d\u8bd5\u4ece\u6e90\u7ad9\u70b9\u4e0b\u8f7d\u6570\u636e\uff0c\u5219\u5f15\u53d1<code>IOError</code>\u3002</p> <p>\u4e00\u5171\u670911\u4e2a\u5c0f\u6570\u636e\u96c6\u3002\u5206\u522b\u5982\u4e0b\uff1a</p> <ol> <li> <p>20\u7ec4\u65b0\u95fb\u6570\u636e<code>fetch_20newsgroups()</code>\uff0c\u5206\u7c7b</p> </li> <li> <p>20\u7ec4\u5411\u91cf\u5316\u7684\u65b0\u95fb\u6570\u636e<code>fetch_20newsgroups_vectorized()</code>\uff0c\u5206\u7c7b</p> </li> <li> <p>\u52a0\u5229\u798f\u5c3c\u4e9a\u4f4f\u623f\u6570\u636e\u96c6<code>fetch_california_housing()</code>\uff0c\u56de\u5f52</p> </li> <li> <p><code>fetch_covtype()</code>\uff0c\u5206\u7c7b</p> </li> <li> <p><code>fetch_kddcup99()</code>\uff0c\u5206\u7c7b</p> </li> <li> <p><code>fetch_lfw_pairs()</code>\uff0c\u5206\u7c7b</p> </li> <li> <p><code>fetch_lfw_people()</code>\uff0c\u5206\u7c7b</p> </li> <li> <p><code>fetch_olivetti_faces()</code>\uff0c</p> </li> <li> <p><code>fetch_openml()</code>\uff0c</p> </li> <li> <p><code>fetch_rcvl()</code>\uff0c\u5206\u7c7b</p> </li> <li> <p><code>fetch_species_distributions()</code>\uff0c\u5206\u7c7b</p> </li> </ol>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#samples-generators","title":"Samples generators:\u6837\u672c\u751f\u6210\u5668","text":""},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#_2","title":"\u591a\u7c7b\u522b\u5206\u7c7b","text":"<p><code>make_classification</code>\uff1a\u751f\u6210\u968f\u673a\u7684$n$\u5206\u7c7b\u6570\u636e\u3002</p> <pre><code>datasets.make_classification(n_samples=100, n_features=20,\n                             n_informative=2, n_redundant=2,\n                             n_repeated=0, n_classes=2,\n                             n_clusters_per_class=2, weights=None,\n                             flip_y=0.01, class_sep=1.0,\n                             hypercube=True, shift=0.0, scale=1.0,\n                             shuffle=True, random_state=None)\n</code></pre> <p><code>n_samples</code>: <code>int</code>\uff0coptional\uff08default = 100)\uff0c\u6837\u672c\u6570\u91cf\u3002</p> <p><code>n_features</code>: <code>int</code>\uff0c\u53ef\u9009\uff08\u9ed8\u8ba4= 20\uff09\uff0c\u7279\u5f81\u603b\u6570\u3002<code>n_features</code>\u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e<code>n_repeated</code>+<code>n_repeated</code>+<code>n_informative</code>\u3002</p> <p><code>n_repeated</code>: <code>int</code>\uff0c\u91cd\u590d\u7684\u7279\u5f81\u6570\u91cf\u3002</p> <p><code>n_redundant</code>: <code>int</code>\uff0c\u4e0e\u5176\u4ed6\u7279\u5f81\u7ebf\u6027\u76f8\u5173\u7684\u7279\u5f81\u6570\u91cf (\u5197\u4f59\u7279\u5f81)\u3002</p> <p><code>n_informative</code>: <code>int</code>\uff0c\u5e26\u6709\u4fe1\u606f\u7684\u7279\u5f81\u7684\u6570\u91cf\u3002n_clusters_per_class must be smaller or equal 2 ** n_informative\u3002</p> <p><code>n_classes</code>: <code>int</code>\uff0c\u53ef\u9009\uff08default = 2)\uff0c\u7c7b\uff08\u6216\u6807\u7b7e\uff09\u7684\u5206\u7c7b\u95ee\u9898\u7684\u6570\u91cf\u3002</p> <p><code>weights</code>: \u6bcf\u4e2a\u7c7b\u7684\u6743\u91cd\uff0c\u7528\u4e8e\u5206\u914d\u6837\u672c\u70b9\u3002</p> <p><code>lip_y</code>: \u968f\u673a\u5206\u914d\u7c7b\u522b\u7684\u6837\u672c\u6bd4\u4f8b\u3002\u8f83\u5927\u7684\u503c\u4f1a\u5728\u6807\u7b7e\u4e2d\u5f15\u5165\u566a\u97f3\uff0c\u5e76\u4f7f\u5206\u7c7b\u4efb\u52a1\u66f4\u52a0\u56f0\u96be\u3002 <code>class_sep</code>: \u8d85\u7acb\u65b9\u4f53\u5927\u5c0f\u4e58\u4ee5\u7684\u56e0\u5b50\u3002\u8f83\u5927\u7684\u503c\u5206\u6563\u4e86\u7fa4\u96c6/\u7c7b\uff0c\u4f7f\u5206\u7c7b\u4efb\u52a1\u66f4\u52a0\u5bb9\u6613\u3002</p> <p><code>random_state</code>: <code>int</code>\uff0c<code>RandomState</code>\u5b9e\u4f8b\u6216\u65e0\uff0c\u53ef\u9009\uff08\u9ed8\u8ba4=\u65e0\uff09\u5982\u679c<code>int</code>\uff0c<code>random_state</code>\u662f\u968f\u673a\u6570\u751f\u6210\u5668\u4f7f\u7528\u7684\u79cd\u5b50\u5982\u679c<code>RandomState</code>\u7684\u5b9e\u4f8b\uff0c<code>random_state</code>\u662f\u968f\u673a\u6570\u751f\u6210\u5668\u5982\u679c\u6ca1\u6709\uff0c\u968f\u673a\u6570\u751f\u6210\u5668\u6240\u4f7f\u7528\u7684<code>RandomState</code>\u5b9e\u4f8b<code>np.random</code>\u3002</p> <p><code>return</code>: <code>X</code>\u7279\u5f81\u6570\u636e\u96c6\uff1b<code>y</code>\u76ee\u6807\u5206\u7c7b\u503c\u3002</p>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#_3","title":"\u591a\u6807\u7b7e\u5206\u7c7b","text":"<pre><code>datasets.make_multilabel_classification(n_samples=100, n_features=20,\n                                        n_classes=5, n_labels=2,\n                                        length=50,\n                                        allow_unlabeled=True,\n                                        sparse=False,\n                                        return_indicator='dense',\n                                        return_distributions=False,\n                                        random_state=None)\n</code></pre>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#_4","title":"\u56de\u5f52","text":"<p><code>make_regression</code>\uff1a\u751f\u6210\u56de\u5f52\u6570\u636e\u3002</p> <pre><code># \u751f\u6210\u7528\u4e8e\u56de\u5f52\u7684\u6570\u636e\u96c6\ndatasets.make_regression(n_samples=100, n_features=100, n_informative=10, \n                         n_targets=1, bias=0.0, effective_rank=None, \n                         tail_strength=0.5, noise=0.0, shuffle=True, \n                         coef=False, random_state=None)\n</code></pre> <p><code>n_samples</code>: <code>int</code>\uff0coptional\uff08default = 100)\uff0c\u6837\u672c\u6570\u91cf\u3002</p> <p><code>n_features</code>: <code>int</code>,optional\uff08default = 100)\uff0c\u7279\u5f81\u6570\u91cf\u3002</p> <p><code>coef</code>: <code>boolean</code>\uff0coptional\uff08default = False\uff09\uff0c\u5982\u679c\u4e3aTrue\uff0c\u5219\u8fd4\u56de\u5e95\u5c42\u7ebf\u6027\u6a21\u578b\u7684\u7cfb\u6570\u3002</p> <p><code>random_state</code>: <code>int</code>\uff0c<code>RandomState</code>\u5b9e\u4f8b\u6216\u65e0\uff0c\u53ef\u9009\uff08\u9ed8\u8ba4=\u65e0\uff09\u5982\u679c<code>int</code>\uff0c<code>random_state</code>\u662f\u968f\u673a\u6570\u751f\u6210\u5668\u4f7f\u7528\u7684\u79cd\u5b50\u5982\u679c<code>RandomState</code>\u7684\u5b9e\u4f8b\uff0c<code>random_state</code>\u662f\u968f\u673a\u6570\u751f\u6210\u5668\u5982\u679c\u6ca1\u6709\uff0c\u968f\u673a\u6570\u751f\u6210\u5668\u6240\u4f7f\u7528\u7684<code>RandomState</code>\u5b9e\u4f8b<code>np.random</code>\u3002</p> <p><code>return</code>: <code>X</code>\u7279\u5f81\u6570\u636e\u96c6\uff1b<code>y</code>\u76ee\u6807\u5206\u7c7b\u503c\u3002</p>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#_5","title":"\u4e24\u4e2a\u4ea4\u9519\u7684\u534a\u5706","text":"<p><code>make_moons</code>\u751f\u6210\u7684\u6570\u636e\u53ef\u7528\u4e8e\u5206\u7c7b\u6216\u805a\u7c7b\u4efb\u52a1\u3002</p> <pre><code>datasets.make_moons(n_samples=100, shuffle=True, noise=None,\n                    random_state=None)\n</code></pre> <p><code>noise</code>\uff1a\u52a0\u5230\u6570\u636e\u4e2d\u7684\u9ad8\u65af\u566a\u58f0\u7684\u6807\u51c6\u5dee\u3002</p> <pre><code>X, y = datasets.make_moons(n_samples=100, random_state=1)\nX1, y1 = datasets.make_moons(n_samples=100, noise=0.1, random_state=1)\nplt.scatter(X[y==0][:,0], X[y==0][:,1], c=\"#CD5C5C\",label=\"noise=0\")\nplt.scatter(X[y==1][:,0], X[y==1][:,1], c=\"#F08080\",label=\"noise=0\")\nplt.scatter(X1[y1==0][:,0], X1[y1==0][:,1], c=\"#5F9EA0\",label=\"noise=0.1\")\nplt.scatter(X1[y1==1][:,0], X1[y1==1][:,1], c=\"#B0E0E6\",label=\"noise=0.1\")\nplt.title(\"two interleaving half circles\".title())\nplt.legend()\nplt.show()\n</code></pre>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#_6","title":"\u5e38\u91cf\u5bf9\u89d2\u5757\u77e9\u9635","text":"<p><code>make_biclusters</code>\u751f\u6210\u5177\u6709constant block\u5bf9\u89d2\u7ebf\u7ed3\u6784\u7684\u77e9\u9635\uff0c\u53ef\u7528\u4e8e\u53cc\u805a\u7c7b\u3002</p> <pre><code>datasets.make_biclusters(shape, n_clusters, noise=0.0, minval=10,\n                         maxval=100, shuffle=True, random_state=None)\n</code></pre> <pre><code>params = dict(shape=(100, 100), n_clusters=3,\n              minval=1, maxval=10, noise=0,\n              random_state=None, shuffle=False)\n\nX, row_idx, col_idx = datasets.make_biclusters(**params)\nX1, *_ = datasets.make_biclusters(\n    **{k: v if k != \"noise\" else 1 for k, v in params.items()})\nX2, *_ = datasets.make_biclusters(\n    **{k: v if k != \"shuffle\" else True for k, v in params.items()})\n\nfig, axs = plt.subplots(1, 3, sharex=True, sharey=True)\ndata = [X, X1, X2]\ntitles = [\"noise=0, shuffle=False\", \"noise=1.0\", \"shuffle=True\"]\nfor i, data, title in zip(range(3), [X, X1, X2], titles):\n    axs[i].matshow(data, cmap=plt.cm.Blues)\n    axs[i].set_xlabel(title)\n    axs[i].xaxis.set_ticks_position('none')\n    axs[i].yaxis.set_ticks_position('none')\nplt.show()\n</code></pre>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#_7","title":"\u5404\u5411\u540c\u6027\u7684\u9ad8\u65af\u70b9","text":"<pre><code>datasets.make_blobs(n_samples=100, n_features=2, centers=None,\n                    cluster_std=1.0, center_box=(-10.0, 10.0),\n                    shuffle=True, random_state=None, return_centers=False)\n</code></pre> <pre><code>X, label, centers = datasets.make_blobs(cluster_std=1, return_centers=True,\n                                        random_state=1)\nfor i in set(label):\n    plt.scatter(X[label==i][:,0], X[label==i][:,1])\n    plt.scatter(centers[i,0], centers[i,1], s=80, marker=\"+\")\nplt.show()\n</code></pre>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#_8","title":"\u68cb\u76d8\u683c\u7ed3\u6784\u7684\u77e9\u9635","text":"<p><code>make_checkerboard</code>\u751f\u6210\u5177\u6709\u68cb\u76d8\u683c\u7ed3\u6784\u7684\u77e9\u9635\uff0c\u53ef\u7528\u4e8e\u53cc\u805a\u7c7b\u3002</p> <pre><code>datasets.make_checkerboard(shape, n_clusters, noise=0.0, minval=10,\n                           maxval=100, shuffle=True, random_state=None)\n</code></pre> <pre><code># datasets.make_checkerboard\nX, row_idx, col_idx = datasets.make_checkerboard(shape=(100, 100), n_clusters=3,\n                                                 minval=0, maxval=20, noise=0.1,\n                                                 shuffle=False, random_state=1)\nplt.matshow(X, cmap=plt.cm.Blues)\nplt.show()\n</code></pre>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#_9","title":"\u5305\u542b\u5c0f\u5706\u7684\u5927\u5706","text":"<p>\u7528\u4e8e\u805a\u7c7b\u548c\u5206\u7c7b\u3002</p> <pre><code>datasets.make_circles(n_samples=100, shuffle=True, noise=None,\n                      random_state=None, factor=0.8)\n</code></pre> <pre><code>X, y = datasets.make_circles()\nouter, inner = y==0, y==1\nplt.scatter(X[outer][:,0], X[outer][:,1])\nplt.scatter(X[inner][:,0], X[inner][:,1])\nplt.show()\n</code></pre>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#_10","title":"\u745e\u58eb\u5377","text":"<pre><code>datasets.make_swiss_roll(n_samples=100, noise=0.0, random_state=None)\n</code></pre> <pre><code>import mpl_toolkits.mplot3d.axes3d as p3\n\nX, y = datasets.make_swiss_roll(2000)\n\nfig = plt.figure()\nax = p3.Axes3D(fig)\nax.view_init(7, -70)\nax.scatter(X[:, 0], X[:, 1], X[:, 2],\n           # color=\"#DAA520\",\n           c = y,\n           cmap = plt.cm.Pastel1,\n           s=20, edgecolor='k')\nplt.title(\"Swiss Roll\")\nplt.show()\n</code></pre>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#_11","title":"\u66f2\u9762","text":"<pre><code>datasets.make_s_curve(n_samples=100, noise=0.0, random_state=None)\n</code></pre> <pre><code>X, color = datasets.make_s_curve(1000, random_state=0)\n\nfig = plt.figure(figsize=(8, 6))\n# fig.suptitle(\"S curve\", fontsize=25)\n\nax = plt.subplot2grid((5,4), (1,0), rowspan=3, colspan=1)\nax.scatter(X[:, 0], X[:, 2], c=color, cmap=plt.cm.Spectral)\n# ax.xaxis.set_major_formatter(NullFormatter())\n# ax.yaxis.set_major_formatter(NullFormatter())\n\n# Add 3d scatter plot\nax = plt.subplot2grid((5,4), (0,1), rowspan=5, colspan=3, projection='3d')\nax.scatter(X[:, 0], X[:, 1], X[:, 2], c=color, cmap=plt.cm.Spectral)\nax.view_init(4, -60)\nplt.show()\n</code></pre>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#_12","title":"\u968f\u673a\u5bf9\u79f0\u6b63\u5b9a\u77e9\u9635","text":"<pre><code>datasets.make_spd_matrix(n_dim, random_state=None)\n</code></pre> <pre><code>X = datasets.make_spd_matrix(10, random_state=1)\n\nplt.matshow(X, cmap=plt.cm.Blues)\nplt.show()\n</code></pre>"},{"location":"Python3/scikit-learn/11.1.%E6%95%B0%E6%8D%AE%E9%9B%86.html#_13","title":"\u968f\u673a\u5bf9\u79f0\u6b63\u5b9a\u7a00\u758f\u77e9\u9635","text":"<pre><code>datasets.make_spd_matrix(n_dim, random_state=None)\n</code></pre> <pre><code>X = datasets.make_sparse_spd_matrix(10, random_state=1)\n\nplt.matshow(X, cmap=plt.cm.Blues)\nplt.show()\n</code></pre>"},{"location":"Python3/scikit-learn/11.10.%E8%BD%AC%E6%8D%A2%E9%A2%84%E6%B5%8B%E7%9B%AE%E6%A0%87y.html","title":"11.10.\u8f6c\u6362\u9884\u6d4b\u76ee\u6807y","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.05.14\nsklearn version:  0.22.1\n</code></pre>"},{"location":"Python3/scikit-learn/11.10.%E8%BD%AC%E6%8D%A2%E9%A2%84%E6%B5%8B%E7%9B%AE%E6%A0%87y.html#label","title":"label\u7f16\u7801","text":""},{"location":"Python3/scikit-learn/11.10.%E8%BD%AC%E6%8D%A2%E9%A2%84%E6%B5%8B%E7%9B%AE%E6%A0%87y.html#labelbinarizer","title":"LabelBinarizer\uff1a \u4e8c\u5206\u7c7b\u6216\u591a\u5206\u7c7b","text":"<p>\u4ee5 one-vs-all \u7684\u65b9\u5f0f\u5bf9label\u8fdb\u884c\u4e8c\u503c\u5316\u3002\u5c06\u4e8c\u5206\u7c7b\u7684\u7b97\u6cd5\u63a8\u5e7f\u5230\u591a\u5206\u7c7b\u4efb\u52a1\u7684\u4e00\u4e2a\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u4f7f\u7528 one-vs-all \u65b9\u6848\u3002</p> <pre><code>LabelBinarizer(neg_label=0, pos_label=1, sparse_output=False)\n</code></pre> <pre><code>from sklearn.preprocessing import LabelBinarizer\n\nlb = LabelBinarizer()\nlb.fit([1, 2, 6, 4, 2])\n\nprint(lb.classes_)\nlb.transform([1, 6])\n</code></pre> <pre><code>[1 2 4 6]\n</code></pre> <pre><code>array([[1, 0, 0, 0],\n       [0, 0, 0, 1]])\n</code></pre> <p>\u4e0a\u8ff0\u8fc7\u7a0b\u548c <code>OneHotEncoder</code> \u5f88\u50cf\uff0c\u4f46\u5e76\u4e0d\u4e00\u6837\uff0c<code>OneHotEncoder</code>\u7528\u4e8e\u8f6c\u6362\u7279\u5f81\uff0c\u5e76\u4e14\u8981\u6c42\u6570\u636e\u662f\u4e8c\u7ef4\u7684\uff0c\u4ee5\u53ca<code>fit</code>\u7684\u6570\u636e\u548c<code>transform</code>\u7684\u6570\u636e\u5177\u6709\u76f8\u540c\u7684\u7ef4\u5ea6\u3002</p> <p>\u5c06\u4e8c\u5206\u7c7b\u8f6c\u6362\u4e3a\u5217\u5411\u91cf\u8868\u793a\uff1a</p> <pre><code>lb = LabelBinarizer()\nlb.fit_transform(['yes', 'no', 'no', 'yes'])\n</code></pre> <pre><code>array([[1],\n       [0],\n       [0],\n       [1]])\n</code></pre> <p>\u5c06\u591a\u5206\u7c7b\u8f6c\u6362\u4e3a\u4e8c\u7ef4\u77e9\u9635\u8868\u793a\uff1a</p> <pre><code>import numpy as np\n# fit \u53ea\u5b66\u4e60\u4e86\u8f93\u5165\u6570\u7ec4\u7684\u5f62\u72b6\nlb.fit(np.array([[0, 1, 1], \n                 [1, 0, 0]]))\n\nprint(lb.classes_)\nlb.transform([0, 1, 2, 1])\n</code></pre> <pre><code>[0 1 2]\n</code></pre> <pre><code>array([[1, 0, 0],\n       [0, 1, 0],\n       [0, 0, 1],\n       [0, 1, 0]])\n</code></pre>"},{"location":"Python3/scikit-learn/11.10.%E8%BD%AC%E6%8D%A2%E9%A2%84%E6%B5%8B%E7%9B%AE%E6%A0%87y.html#multilabelbinarizer","title":"MultiLabelBinarizer\uff1a \u591a\u6807\u7b7e","text":"<p><code>LabelBinarizer</code>\u53ea\u9002\u5408\u591a\u5206\u7c7b\u4efb\u52a1\uff0c\u800c\u591a\u6807\u7b7e\u7684\u60c5\u51b5\u5219\u9700\u8981<code>MultiLabelBinarizer</code>\u3002</p> <pre><code>from sklearn.preprocessing import MultiLabelBinarizer\nmlb = MultiLabelBinarizer()\nprint(mlb.fit_transform([(1, 2), (3,)]))\nmlb.classes_\n</code></pre> <pre><code>[[1 1 0]\n [0 0 1]]\n</code></pre> <pre><code>array([1, 2, 3])\n</code></pre> <pre><code>print(mlb.fit_transform([{'sci-fi', 'thriller'}, \n                         {'comedy'}]))\nlist(mlb.classes_)\n</code></pre> <pre><code>[[0 1 1]\n [1 0 0]]\n</code></pre> <pre><code>['comedy', 'sci-fi', 'thriller']\n</code></pre> <p>\u4e00\u4e2a\u5e38\u89c1\u7684\u9519\u8bef\u662f\u7ed9<code>MultiLabelBinarizer</code>\u4f20\u5165\u4e00\u7ef4\u5217\u8868\uff1a</p> <pre><code>mlb = MultiLabelBinarizer()\nmlb.fit(['sci-fi', 'thriller', 'comedy'])\nmlb.classes_\n\n# \u8981\u66f4\u6b63\u6b64\u95ee\u9898\uff0c\u6807\u7b7e\u5217\u8868\u5e94\u6309\u4ee5\u4e0b\u65b9\u5f0f\u4f20\u9012\uff1a\n\nmlb = MultiLabelBinarizer()\nmlb.fit([['sci-fi', 'thriller', 'comedy']])\nmlb.classes_\n</code></pre> <pre><code>array(['comedy', 'sci-fi', 'thriller'], dtype=object)\n</code></pre>"},{"location":"Python3/scikit-learn/11.10.%E8%BD%AC%E6%8D%A2%E9%A2%84%E6%B5%8B%E7%9B%AE%E6%A0%87y.html#labelencoder-label","title":"LabelEncoder\uff1a label\u7684\u6574\u6570\u7f16\u7801","text":"<pre><code>from sklearn.preprocessing import LabelEncoder\n\nle = LabelEncoder()\nle.fit(['beijing', 'shanghai', 'guangzhou', 'hangzhou', 'nanjing', 'wuhan'])\nprint(le.classes_)\nle.transform(['hangzhou', 'guangzhou', 'beijing', \n              'hangzhou', 'nanjing', 'guangzhou'])\n</code></pre> <pre><code>['beijing' 'guangzhou' 'hangzhou' 'nanjing' 'shanghai' 'wuhan']\n</code></pre> <pre><code>array([2, 1, 0, 2, 3, 1], dtype=int64)\n</code></pre>"},{"location":"Python3/scikit-learn/11.11.%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9.html","title":"11.11.\u7279\u5f81\u9009\u62e9","text":"<pre><code>Windows 10\nPython 3.6.9 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.05.15\nsklearn version:  0.22.1\n</code></pre>"},{"location":"Python3/scikit-learn/11.11.%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9.html#_1","title":"\u8fc7\u6ee4\u5f0f\u7279\u5f81\u9009\u53d6","text":""},{"location":"Python3/scikit-learn/11.11.%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9.html#variancethreshold","title":"VarianceThreshold","text":"<p><code>VarianceThreshold</code> \u7528\u4e8e\u5254\u9664\u65b9\u5dee\u5f88\u5c0f\u7684\u7279\u5f81\uff1a</p> <pre><code>VarianceThreshold(threshold=0.0)\n</code></pre> <ul> <li><code>threshold</code>\uff1a\u4e00\u4e2a\u6d6e\u70b9\u6570\uff0c\u6307\u5b9a\u65b9\u5dee\u7684\u9608\u503c\u3002\u4f4e\u4e8e\u6b64\u9608\u503c\u7684\u7279\u5f81\u5c06\u88ab\u5254\u9664\u3002</li> </ul> <p>\u4f8b\u5982\uff0c\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u7279\u5f81\u662f\u5e03\u5c14\u503c\u7684\u6570\u636e\u96c6\uff0c\u6211\u4eec\u60f3\u8981\u79fb\u9664\u90a3\u4e9b\u5728\u6574\u4e2a\u6570\u636e\u96c6\u4e2d\u7279\u5f81\u503c\u4e3a0\u6216\u8005\u4e3a1\u7684\u6bd4\u4f8b\u8d85\u8fc780%\u7684\u7279\u5f81\u3002\u5e03\u5c14\u7279\u5f81\u662f\u4f2f\u52aa\u5229\uff08 Bernoulli \uff09\u968f\u673a\u53d8\u91cf\uff0c\u53d8\u91cf\u7684\u65b9\u5dee\u4e3a:</p> <p>$$\\operatorname{Var}[X]=p(1-p)$$</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u9608\u503c<code>.8 * (1 - .8)</code>\u8fdb\u884c\u9009\u62e9:    </p> <pre><code>from sklearn.feature_selection import VarianceThreshold\n\nX = [[0, 0, 1], \n     [0, 1, 0], \n     [1, 0, 0], \n     [0, 1, 1], \n     [0, 1, 0], \n     [0, 1, 1]]\n\nsel = VarianceThreshold(threshold=(.8 * (1 - .8)))\nprint(sel.fit_transform(X))\nprint(sel.get_support(indices=False))\n</code></pre> <pre><code>[[0 1]\n [1 0]\n [0 0]\n [1 1]\n [1 0]\n [1 1]]\n[False  True  True]\n</code></pre> <p>\u5c5e\u6027\uff1a</p> <ul> <li><code>variances_</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u5143\u7d20\u5206\u522b\u662f\u5404\u7279\u5f81\u7684\u65b9\u5dee\u3002</li> </ul> <p>\u65b9\u6cd5\uff1a</p> <ul> <li><code>fit(X[, y])</code>\uff1a\u4ece\u6837\u672c\u6570\u636e\u4e2d\u5b66\u4e60\u6bcf\u4e2a\u7279\u5f81\u7684\u65b9\u5dee\u3002</li> <li><code>transform(X)</code>\uff1a\u6267\u884c\u7279\u5f81\u9009\u62e9\uff0c\u5373\u5220\u9664\u4f4e\u4e8e\u6307\u5b9a\u9608\u503c\u7684\u7279\u5f81\u3002</li> <li><code>fit_transform(X[, y])</code>\uff1a\u4ece\u6837\u672c\u6570\u636e\u4e2d\u5b66\u4e60\u6bcf\u4e2a\u7279\u5f81\u7684\u65b9\u5dee\uff0c\u7136\u540e\u6267\u884c\u7279\u5f81\u9009\u62e9\u3002</li> <li> <p><code>get_support([indices])</code>\uff1a\u8fd4\u56de\u4fdd\u7559\u7684\u7279\u5f81\u3002</p> <ul> <li> <p>\u5982\u679c<code>indices=True</code>\uff0c\u5219\u8fd4\u56de\u88ab\u9009\u51fa\u7684\u7279\u5f81\u7684\u7d22\u5f15\u3002</p> </li> <li> <p>\u5982\u679c<code>indices=False</code>\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u7ec4\u6210\u7684\u6570\u7ec4\uff0c\u8be5\u6570\u7ec4\u6307\u793a\u54ea\u4e9b\u7279\u5f81\u88ab\u9009\u62e9\u3002</p> </li> </ul> </li> <li> <p><code>inverse_transform(X)</code>\uff1a\u6839\u636e\u88ab\u9009\u51fa\u6765\u7684\u7279\u5f81\u8fd8\u539f\u539f\u59cb\u6570\u636e\uff08\u7279\u5f81\u9009\u53d6\u7684\u9006\u64cd\u4f5c\uff09\uff0c\u4f46\u662f\u5bf9\u4e8e\u88ab\u5220\u9664\u7684\u7279\u5f81\u7684\u503c\u5168\u90e8\u7528 0 \u4ee3\u66ff\u3002</p> </li> </ul>"},{"location":"Python3/scikit-learn/11.11.%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9.html#selectkbest","title":"SelectKBest","text":"<p><code>SelectKBest</code> \u7528\u4e8e\u4fdd\u7559\u7edf\u8ba1\u5f97\u5206\u6700\u9ad8\u7684K\u4e2a\u7279\u5f81\uff1a</p> <pre><code>SelectKBest(score_func=&lt;function f_classif&gt;, k=10)\n</code></pre> <ul> <li> <p><code>score_func</code>\uff1a\u4e00\u4e2a\u51fd\u6570\uff0c\u7528\u4e8e\u7ed9\u51fa\u7edf\u8ba1\u6307\u6807\u3002\u8be5\u51fd\u6570\u7684\u53c2\u6570\u4e3a <code>(X,y)</code> \uff0c\u8fd4\u56de\u503c\u4e3a<code>(scores,pvalues)</code> \u3002</p> <ul> <li> <p><code>X</code> \uff1a\u6837\u672c\u96c6\u5408\u3002\u901a\u5e38\u662f\u4e00\u4e2a<code>numpy array</code>\uff0c\u6bcf\u884c\u4ee3\u8868\u4e00\u4e2a\u6837\u672c\uff0c\u6bcf\u5217\u4ee3\u8868\u4e00\u4e2a\u7279\u5f81\u3002</p> </li> <li> <p><code>y</code> \uff1a\u6837\u672c\u7684\u6807\u7b7e\u96c6\u5408\u3002\u5b83\u4e0e<code>X</code> \u7684\u6bcf\u4e00\u884c\u76f8\u5bf9\u5e94\u3002</p> </li> <li> <p><code>scores</code> \uff1a\u6837\u672c\u7684\u5f97\u5206\u96c6\u5408\u3002\u5b83\u4e0e<code>X</code> \u7684\u6bcf\u4e00\u884c\u76f8\u5bf9\u5e94\u3002</p> </li> <li> <p><code>pvalues</code>\uff1a\u6837\u672c\u5f97\u5206\u7684<code>p</code> \u503c\u3002\u5b83\u4e0e<code>X</code> \u7684\u6bcf\u4e00\u884c\u76f8\u5bf9\u5e94\u3002</p> </li> </ul> </li> <li> <p><code>k</code>\uff1a\u4e00\u4e2a\u6574\u6570\u6216\u8005\u5b57\u7b26\u4e32<code>'all'</code>\uff0c\u6307\u5b9a\u8981\u4fdd\u7559\u6700\u4f73\u7684\u51e0\u4e2a\u7279\u5f81\u3002\u5982\u679c\u4e3a<code>'all'</code>\uff0c\u5219\u4fdd\u7559\u6240\u6709\u7684\u7279\u5f81\u3002</p> </li> </ul> <p><code>sklearn</code>\u63d0\u4f9b\u7684\u5e38\u7528\u7684\u7edf\u8ba1\u6307\u6807\u51fd\u6570\u6709\uff1a</p> <ul> <li><code>sklearn.feature_selection.f_regression</code>\uff1a\u57fa\u4e8e\u7ebf\u6027\u56de\u5f52\u5206\u6790\u6765\u8ba1\u7b97\u7edf\u8ba1\u6307\u6807\uff0c\u9002\u7528\u4e8e\u56de\u5f52\u95ee\u9898\u3002</li> <li><code>sklearn.feature_selection.chi2</code>\uff1a\u8ba1\u7b97\u5361\u65b9\u7edf\u8ba1\u91cf\uff0c\u9002\u7528\u4e8e\u5206\u7c7b\u95ee\u9898\u3002</li> <li><code>sklearn.feature_selection.f_classif</code>\uff1a\u6839\u636e\u65b9\u5dee\u5206\u6790<code>Analysis of variance\uff1aANOVA</code>\u7684\u539f\u7406\uff0c\u4f9d\u9760<code>F-\u5206\u5e03</code>\u4e3a\u673a\u7387\u5206\u5e03\u7684\u4f9d\u636e\uff0c\u5229\u7528\u5e73\u65b9\u548c\u4e0e\u81ea\u7531\u5ea6\u6240\u8ba1\u7b97\u7684\u7ec4\u95f4\u4e0e\u7ec4\u5185\u5747\u65b9\u4f30\u8ba1\u51fa<code>F</code>\u503c\u3002\u9002\u7528\u4e8e\u5206\u7c7b\u95ee\u9898 \u3002</li> </ul> <p>\u5c5e\u6027\uff1a</p> <ul> <li><code>scores_</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u7ed9\u51fa\u4e86\u6240\u6709\u7279\u5f81\u7684\u5f97\u5206\u3002</li> <li><code>pvalues_</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u7ed9\u51fa\u4e86\u6240\u6709\u7279\u5f81\u5f97\u5206\u7684<code>p-values</code> \u3002</li> </ul> <p>\u65b9\u6cd5\uff1a\u53c2\u8003<code>VarianceThreshold</code> \u3002</p> <pre><code>from sklearn.datasets import load_iris\nfrom sklearn.feature_selection import SelectKBest\nfrom sklearn.feature_selection import chi2\n\nX, y = load_iris(return_X_y=True)\nprint(X.shape)\n\nX_new = SelectKBest(chi2, k=2).fit_transform(X, y)\nprint(X_new.shape)\n</code></pre> <pre><code>(150, 4)\n(150, 2)\n</code></pre>"},{"location":"Python3/scikit-learn/11.11.%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9.html#selectpercentile","title":"SelectPercentile","text":"<p><code>SelectPercentile</code> \u7528\u4e8e\u4fdd\u7559\u7edf\u8ba1\u5f97\u5206\u6700\u9ad8\u7684 \u6bd4\u4f8b\u7684\u7279\u5f81\uff1a</p> <pre><code>SelectPercentile(score_func=&lt;function f_classif&gt;,percentile=10)\n</code></pre> <ul> <li><code>score_func</code>\uff1a\u4e00\u4e2a\u51fd\u6570\uff0c\u7528\u4e8e\u7ed9\u51fa\u7edf\u8ba1\u6307\u6807\u3002\u53c2\u8003<code>SelectKBest</code>  \u3002</li> <li><code>percentile</code>\uff1a\u4e00\u4e2a\u6574\u6570\uff0c\u6307\u5b9a\u8981\u4fdd\u7559\u6700\u4f73\u7684\u767e\u5206\u4e4b\u51e0\u7684\u7279\u5f81\uff0c\u5982<code>10</code>\u8868\u793a\u4fdd\u7559\u6700\u4f73\u7684\u767e\u5206\u4e4b\u5341\u7684\u7279\u5f81</li> </ul> <p>\u5c5e\u6027\uff1a\u53c2\u8003<code>SelectKBest</code> \u3002</p> <p>\u65b9\u6cd5\uff1a\u53c2\u8003<code>VarianceThreshold</code> \u3002</p>"},{"location":"Python3/scikit-learn/11.11.%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9.html#_2","title":"\u5305\u88f9\u5f0f\u7279\u5f81\u9009\u53d6","text":""},{"location":"Python3/scikit-learn/11.11.%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9.html#rfe","title":"RFE","text":"<p><code>RFE</code>\u7c7b\u7528\u4e8e\u5b9e\u73b0\u5305\u88f9\u5f0f\u7279\u5f81\u9009\u53d6\uff0c\u5176\u539f\u578b\u4e3a\uff1a</p> <pre><code>RFE(estimator, n_features_to_select=None,step=1,verbose=0)\n</code></pre> <ul> <li><code>estimator</code>\uff1a\u4e00\u4e2a\u5b66\u4e60\u5668\uff0c\u5b83\u5fc5\u987b\u63d0\u4f9b\u4e00\u4e2a<code>.fit</code>\u65b9\u6cd5\u548c\u4e00\u4e2a<code>.coef_</code>\u7279\u5f81\u3002\u5176\u4e2d<code>.coef_</code>\u7279\u5f81\u4e2d\u5b58\u653e\u7684\u662f\u5b66\u4e60\u5230\u7684\u5404\u7279\u5f81\u7684\u6743\u91cd\u7cfb\u6570\u3002</li> </ul> <p>\u901a\u5e38\u4f7f\u7528<code>SVM</code>\u548c\u5e7f\u4e49\u7ebf\u6027\u6a21\u578b\u4f5c\u4e3a<code>estimator</code>\u53c2\u6570\u3002</p> <ul> <li><code>n_features_to_select</code>\uff1a\u4e00\u4e2a\u6574\u6570\u6216\u8005<code>None</code>\uff0c\u6307\u5b9a\u8981\u9009\u51fa\u51e0\u4e2a\u7279\u5f81\u3002</li> </ul> <p>\u5982\u679c\u4e3a<code>None</code>\uff0c\u5219\u9ed8\u8ba4\u9009\u53d6\u4e00\u534a\u7684\u7279\u5f81\u3002</p> <ul> <li> <p><code>step</code>\uff1a\u4e00\u4e2a\u6574\u6570\u6216\u8005\u6d6e\u70b9\u6570\uff0c\u6307\u5b9a\u6bcf\u6b21\u8fed\u4ee3\u8981\u5254\u9664\u6743\u91cd\u6700\u5c0f\u7684\u51e0\u4e2a\u7279\u5f81\u3002</p> </li> <li> <p>\u5982\u679c\u5927\u4e8e\u7b49\u4e8e1\uff0c\u5219\u4f5c\u4e3a\u6574\u6570\uff0c\u6307\u5b9a\u6bcf\u6b21\u8fed\u4ee3\u8981\u5254\u9664\u7279\u5f81\u7684\u6570\u91cf\u3002  - \u5982\u679c\u5728<code>0.0~1.0</code>\u4e4b\u95f4\uff0c\u5219\u6307\u5b9a\u6bcf\u6b21\u8fed\u4ee3\u8981\u5254\u9664\u7279\u5f81\u7684\u6bd4\u4f8b\u3002</p> </li> <li> <p><code>verbose</code>\uff1a\u4e00\u4e2a\u6574\u6570\uff0c\u63a7\u5236\u8f93\u51fa\u65e5\u5fd7\u3002</p> </li> </ul> <p><code>RFE</code>\u8981\u6c42\u5b66\u4e60\u5668\u80fd\u591f\u5b66\u4e60\u7279\u5f81\u7684\u6743\u91cd\uff08\u5982\u7ebf\u6027\u6a21\u578b\uff09\uff0c\u5176\u539f\u7406\u4e3a\uff1a</p> <ul> <li>\u9996\u5148\u5b66\u4e60\u5668\u5728\u521d\u59cb\u7684\u7279\u5f81\u96c6\u5408\u4e0a\u8bad\u7ec3\u3002</li> <li>\u7136\u540e\u5b66\u4e60\u5668\u5b66\u5f97\u6bcf\u4e2a\u7279\u5f81\u7684\u6743\u91cd\uff0c\u5254\u9664\u5f53\u524d\u6743\u91cd\u4e00\u6279\u7279\u5f81\uff0c\u6784\u6210\u65b0\u7684\u8bad\u7ec3\u96c6\u3002</li> <li>\u518d\u5c06\u5b66\u4e60\u5668\u5728\u65b0\u7684\u8bad\u7ec3\u96c6\u4e0a\u8bad\u7ec3\uff0c\u76f4\u5230\u5269\u4e0b\u7684\u7279\u5f81\u7684\u6570\u91cf\u6ee1\u8db3\u6761\u4ef6\u3002</li> </ul> <p>\u5c5e\u6027\uff1a</p> <ul> <li><code>n_features_</code>\uff1a\u4e00\u4e2a\u6574\u6570\uff0c\u7ed9\u51fa\u4e86\u88ab\u9009\u51fa\u7684\u7279\u5f81\u7684\u6570\u91cf\u3002</li> <li><code>support_</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u7ed9\u51fa\u4e86\u7279\u5f81\u662f\u5426\u88ab\u9009\u62e9\u7684<code>mask</code> \u3002</li> <li><code>ranking_</code>\uff1a\u7279\u5f81\u6743\u91cd\u6392\u540d\u3002\u539f\u59cb\u7b2c <code>i</code> \u4e2a\u7279\u5f81\u7684\u6392\u540d\u4e3a <code>raning_[i]</code> \u3002</li> <li><code>estimator_</code>\uff1a \u5916\u90e8\u63d0\u4f9b\u7684\u5b66\u4e60\u5668 \u3002</li> </ul> <p>\u65b9\u6cd5\uff1a</p> <ul> <li><code>fit(X,y)</code>\uff1a\u8bad\u7ec3<code>RFE</code>\u6a21\u578b</li> <li><code>transform(X)</code>\uff1a\u6267\u884c\u7279\u5f81\u9009\u62e9\u3002</li> <li><code>fit_transform(X,y)</code>\uff1a\u4ece\u6837\u672c\u6570\u636e\u4e2d\u5b66\u4e60<code>RFE</code>\u6a21\u578b\uff0c\u7136\u540e\u6267\u884c\u7279\u5f81\u9009\u62e9\u3002</li> <li> <p><code>get_support([indices])</code>\uff1a\u8fd4\u56de\u4fdd\u7559\u7684\u7279\u5f81\u3002</p> <ul> <li> <p>\u5982\u679c<code>indices=True</code>\uff0c\u5219\u8fd4\u56de\u88ab\u9009\u51fa\u7684\u7279\u5f81\u7684\u7d22\u5f15\u3002</p> </li> <li> <p>\u5982\u679c<code>indices=False</code>\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u7ec4\u6210\u7684\u6570\u7ec4\uff0c\u8be5\u6570\u7ec4\u6307\u793a\u54ea\u4e9b\u7279\u5f81\u88ab\u9009\u62e9\u3002</p> </li> </ul> </li> <li> <p><code>inverse_transform(X)</code>\uff1a\u6839\u636e\u88ab\u9009\u51fa\u6765\u7684\u7279\u5f81\u8fd8\u539f\u539f\u59cb\u6570\u636e\uff08\u7279\u5f81\u9009\u53d6\u7684\u9006\u64cd\u4f5c\uff09\uff0c\u4f46\u662f\u5bf9\u4e8e\u88ab\u5220\u9664\u7684\u7279\u5f81\u503c\u5168\u90e8\u7528 0 \u4ee3\u66ff\u3002</p> </li> <li><code>predict(X)/predict_log_proba(X) /predict_proba(X)</code>\uff1a\u5c06<code>X</code>\u8fdb\u884c\u7279\u5f81\u9009\u62e9\u4e4b\u540e\uff0c\u5728\u4f7f\u7528\u5185\u90e8\u7684<code>estimator</code>\u6765\u9884\u6d4b\u3002</li> <li><code>score(X, y)</code> \uff1a\u5c06<code>X</code>\u8fdb\u884c\u7279\u5f81\u9009\u62e9\u4e4b\u540e\uff0c\u8bad\u7ec3\u5185\u90e8<code>estimator</code> \u5e76\u5bf9\u5185\u90e8\u7684<code>estimator</code>\u8fdb\u884c\u8bc4\u5206\u3002</li> </ul>"},{"location":"Python3/scikit-learn/11.11.%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9.html#rfecv","title":"RFECV","text":"<p><code>RFECV</code>\u662f<code>RFE</code>\u7684\u4e00\u4e2a\u53d8\u4f53\uff0c\u5b83\u6267\u884c\u4e00\u4e2a\u4ea4\u53c9\u9a8c\u8bc1\u6765\u5bfb\u627e\u6700\u4f18\u7684\u5269\u4f59\u7279\u5f81\u6570\u91cf\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u6307\u5b9a\u4fdd\u7559\u591a\u5c11\u4e2a\u7279\u5f81\u3002</p> <pre><code>RFECV(estimator, step=1, cv=None, scoring=None,verbose=0)\n</code></pre> <ul> <li> <p><code>cv</code>\uff1a\u4e00\u4e2a\u6574\u6570\uff0c\u6216\u8005\u4ea4\u53c9\u9a8c\u8bc1\u751f\u6210\u5668\u6216\u8005\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u5b83\u51b3\u5b9a\u4e86\u4ea4\u53c9\u9a8c\u8bc1\u7b56\u7565\u3002</p> <ul> <li> <p>\u5982\u679c\u4e3a<code>None</code>\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7684<code>3</code>\u6298\u4ea4\u53c9\u9a8c\u8bc1\u3002</p> </li> <li> <p>\u5982\u679c\u4e3a\u6574\u6570  \uff0c\u5219\u4f7f\u7528  \u6298\u4ea4\u53c9\u9a8c\u8bc1\u3002</p> </li> <li> <p>\u5982\u679c\u4e3a\u4ea4\u53c9\u9a8c\u8bc1\u751f\u6210\u5668\uff0c\u5219\u76f4\u63a5\u4f7f\u7528\u8be5\u5bf9\u8c61\u3002</p> </li> <li> <p>\u5982\u679c\u4e3a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u5219\u4f7f\u7528\u8be5\u53ef\u8fed\u4ee3\u5bf9\u8c61\u8fed\u4ee3\u751f\u6210<code>\u8bad\u7ec3-\u6d4b\u8bd5</code>\u96c6\u5408\u3002</p> </li> </ul> </li> <li> <p>\u5176\u5b83\u53c2\u6570\u53c2\u8003<code>RFE</code> \u3002</p> </li> </ul> <p>\u5c5e\u6027\uff1a</p> <ul> <li><code>grid_scores_</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u7ed9\u51fa\u4e86\u4ea4\u53c9\u9a8c\u8bc1\u7684\u9884\u6d4b\u6027\u80fd\u5f97\u5206\u3002\u5176\u5143\u7d20\u4e3a\u6bcf\u4e2a\u7279\u5f81\u5b50\u96c6\u4e0a\u6267\u884c\u4ea4\u53c9\u9a8c\u8bc1\u540e\u7684\u9884\u6d4b\u5f97\u5206\u3002</li> <li>\u5176\u5b83\u5c5e\u6027\u53c2\u8003<code>RFE</code> \u3002</li> </ul> <p>\u65b9\u6cd5\uff1a\u53c2\u8003<code>RFE</code> \u3002</p>"},{"location":"Python3/scikit-learn/11.11.%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9.html#_3","title":"\u5d4c\u5165\u5f0f\u7279\u5f81\u9009\u62e9","text":"<p><code>SelectFromModel</code>\u7528\u4e8e\u5b9e\u73b0\u5d4c\u5165\u5f0f\u7279\u5f81\u9009\u53d6\uff0c\u5176\u539f\u578b\u4e3a\uff1a</p> <pre><code>SelectFromModel(estimator, threshold=None, prefit=False)\n</code></pre> <ul> <li><code>estimator</code>\uff1a\u4e00\u4e2a\u5b66\u4e60\u5668\uff0c\u5b83\u53ef\u4ee5\u662f\u672a\u8bad\u7ec3\u7684(<code>prefit=False</code>)\uff0c\u6216\u8005\u662f\u5df2\u7ecf\u8bad\u7ec3\u597d\u7684(<code>prefit=True</code>)\u3002</li> </ul> <p><code>estimator</code> \u5fc5\u987b\u6709<code>coef_</code>\u6216\u8005<code>feature_importances_</code>\u5c5e\u6027\uff0c\u7ed9\u51fa\u6bcf\u4e2a\u7279\u5f81\u7684\u91cd\u8981\u6027\u3002\u5f53\u67d0\u4e2a\u7279\u5f81\u7684\u91cd\u8981\u6027\u4f4e\u4e8e\u67d0\u4e2a\u9608\u503c\u65f6\uff0c\u8be5\u7279\u5f81\u5c06\u88ab\u79fb\u9664\u3002</p> <ul> <li> <p><code>threshold</code>\uff1a\u4e00\u4e2a\u5b57\u7b26\u4e32\u6216\u8005\u6d6e\u70b9\u6570\u6216\u8005<code>None</code>\uff0c\u6307\u5b9a\u7279\u5f81\u91cd\u8981\u6027\u7684\u4e00\u4e2a\u9608\u503c\u3002\u4f4e\u4e8e\u6b64\u9608\u503c\u7684\u7279\u5f81\u5c06\u88ab\u5254\u9664\u3002</p> <ul> <li> <p>\u5982\u679c\u4e3a\u6d6e\u70b9\u6570\uff0c\u5219\u6307\u5b9a\u9608\u503c\u7684\u7edd\u5bf9\u5927\u5c0f\u3002</p> </li> <li> <p>\u5982\u679c\u4e3a\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u662f\uff1a</p> <ul> <li> <p><code>'mean'</code>\uff1a\u9608\u503c\u4e3a\u7279\u5f81\u91cd\u8981\u6027\u7684\u5747\u503c\u3002</p> </li> <li> <p><code>'median'</code>\uff1a\u9608\u503c\u4e3a\u7279\u5f81\u91cd\u8981\u6027\u7684\u4e2d\u503c\u3002</p> </li> <li> <p>\u5982\u679c\u662f<code>'1.5*mean'</code>\uff0c\u5219\u8868\u793a\u9608\u503c\u4e3a 1.5 \u500d\u7684\u7279\u5f81\u91cd\u8981\u6027\u7684\u5747\u503c\u3002</p> </li> <li> <p>\u5982\u679c\u4e3a<code>None</code>\uff1a</p> </li> <li> <p>\u5982\u679c<code>estimator</code>\u6709\u4e00\u4e2a<code>penalty</code>\u53c2\u6570\uff0c\u4e14\u8be5\u53c2\u6570\u8bbe\u7f6e\u4e3a<code>'l1'</code>\uff0c\u5219\u9608\u503c\u9ed8\u8ba4\u4e3a<code>1e-5</code>\u3002</p> </li> <li> <p>\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u9608\u503c\u9ed8\u8ba4\u4e3a<code>'mean'</code> \u3002</p> </li> </ul> </li> </ul> </li> <li> <p><code>prefit</code>\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u6307\u5b9a<code>estimator</code>\u662f\u5426\u5df2\u7ecf\u8bad\u7ec3\u597d\u4e86\u3002</p> </li> </ul> <p>\u5982\u679c<code>prefit=False</code>\uff0c\u5219<code>estimator</code>\u662f\u672a\u8bad\u7ec3\u7684\u3002</p> <p>\u5c5e\u6027\uff1a</p> <ul> <li><code>threshold_</code>\uff1a\u4e00\u4e2a\u6d6e\u70b9\u6570\uff0c\u5b58\u50a8\u4e86\u7528\u4e8e\u7279\u5f81\u9009\u53d6\u91cd\u8981\u6027\u7684\u9608\u503c\u3002</li> </ul> <p>\u65b9\u6cd5\uff1a</p> <ul> <li> <p><code>fit(X,y)</code>\uff1a\u8bad\u7ec3<code>SelectFromModel</code>\u6a21\u578b\u3002</p> </li> <li> <p><code>transform(X)</code>\uff1a\u6267\u884c\u7279\u5f81\u9009\u62e9\u3002</p> </li> <li> <p><code>fit_transform(X,y)</code>\uff1a\u4ece\u6837\u672c\u6570\u636e\u4e2d\u5b66\u4e60<code>SelectFromModel</code>\u6a21\u578b\uff0c\u7136\u540e\u6267\u884c\u7279\u5f81\u9009\u62e9\u3002</p> </li> <li> <p><code>get_support([indices])</code>\uff1a\u8fd4\u56de\u4fdd\u7559\u7684\u7279\u5f81\u3002</p> </li> <li> <p>\u5982\u679c<code>indices=True</code>\uff0c\u5219\u8fd4\u56de\u88ab\u9009\u51fa\u7684\u7279\u5f81\u7684\u7d22\u5f15\u3002  - \u5982\u679c<code>indices=False</code>\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u7ec4\u6210\u7684\u6570\u7ec4\uff0c\u8be5\u6570\u7ec4\u6307\u793a\u54ea\u4e9b\u7279\u5f81\u88ab\u9009\u62e9\u3002</p> </li> <li> <p><code>inverse_transform(X)</code>\uff1a\u6839\u636e\u88ab\u9009\u51fa\u6765\u7684\u7279\u5f81\u8fd8\u539f\u539f\u59cb\u6570\u636e\uff08\u7279\u5f81\u9009\u53d6\u7684\u9006\u64cd\u4f5c\uff09\uff0c\u4f46\u662f\u5bf9\u4e8e\u88ab\u5220\u9664\u7684\u7279\u5f81\u503c\u5168\u90e8\u7528 0 \u4ee3\u66ff\u3002</p> </li> <li> <p><code>partial_fit(X[, y])</code>\uff1a\u901a\u8fc7\u90e8\u5206\u6570\u636e\u6765\u5b66\u4e60<code>SelectFromModel</code>\u6a21\u578b\u3002</p> </li> </ul> <p>\u5b83\u652f\u6301\u6279\u91cf\u5b66\u4e60\uff0c\u8fd9\u6837\u5bf9\u4e8e\u5185\u5b58\u66f4\u53cb\u597d\u3002\u5373\u8bad\u7ec3\u6570\u636e\u5e76\u4e0d\u662f\u4e00\u6b21\u6027\u5b66\u4e60\uff0c\u800c\u662f\u5206\u6279\u5b66\u4e60\u3002</p>"},{"location":"Python3/scikit-learn/11.12.%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96.html","title":"11.12.\u7279\u5f81\u63d0\u53d6","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.05.14\nsklearn version:  0.22.1\n</code></pre>"},{"location":"Python3/scikit-learn/11.12.%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96.html#_1","title":"\u4ece\u5b57\u5178\u7c7b\u578b\u52a0\u8f7d\u7279\u5f81","text":"<p>\u7c7b <code>DictVectorizer</code> \u53ef\u4ee5\u5c06<code>dict</code>\u5bf9\u8c61\u8f6c\u6362\u4e3a scikit-learn \u4f30\u8ba1\u5668\u4f7f\u7528\u7684 NumPy/SciPy \u6570\u636e\u5f62\u5f0f\u3002\u7c7b <code>DictVectorizer</code> \u5b9e\u73b0\u4e86 \u201cone-of-K\u201d \u6216 \u201cone-hot\u201d \u7f16\u7801\uff0c\u7528\u4e8e\u7c7b\u522b\u7279\u5f81\u3002</p> <pre><code>DictVectorizerDictVectorizer(dtype=&lt;class 'numpy.float64'&gt;, separator='=', \n                             sparse=True, sort=True)\n</code></pre> <p>\u5728\u4e0b\u9762\u7684\u793a\u4f8b\uff0ccity \u662f\u4e00\u4e2a\u5206\u7c7b\u5c5e\u6027\uff0c\u800c temperature \u662f\u6570\u503c\u7279\u5f81:</p> <pre><code>measurements = [\n    {'city': 'Dubai', 'temperature': 33.},\n    {'city': 'London', 'temperature': 12.},\n    {'city': 'San Francisco', 'temperature': 18.},\n]\n\nfrom sklearn.feature_extraction import DictVectorizer\n\nvec = DictVectorizer()\nvec.fit_transform(measurements).toarray()\n</code></pre> <pre><code>array([[ 1.,  0.,  0., 33.],\n       [ 0.,  1.,  0., 12.],\n       [ 0.,  0.,  1., 18.]])\n</code></pre> <pre><code>vec.get_feature_names()\n</code></pre> <pre><code>['city=Dubai', 'city=London', 'city=San Francisco', 'temperature']\n</code></pre>"},{"location":"Python3/scikit-learn/11.13.%E7%BC%BA%E5%A4%B1%E5%80%BC%E5%A4%84%E7%90%86.html","title":"11.13.\u7f3a\u5931\u503c\u5904\u7406","text":"<pre><code># -*- coding: utf-8 -*-\n\"\"\"\nCreated on Mon Jun 29 10:13:47 2020\n\n@author: two\n\"\"\"\n\n\nimport numpy as np\nfrom toolkit import H\nfrom sklearn.impute import SimpleImputer, MissingIndicator, KNNImputer\n</code></pre> <p>SimpleImputer</p> <pre><code>imp_mean = SimpleImputer(missing_values=np.nan, strategy='mean')\nH.get_param(MissingIndicator)\n\nX = np.array([[7, 2, 3], [4, np.nan, 6], [10, 5, 9]])\n\nimp_mean.fit(X)\nprint(imp_mean.transform(X))\n</code></pre> <pre><code>(missing_values=nan, features='missing-only', sparse='auto',\nerror_on_new=True)\n[[ 7.   2.   3. ]\n [ 4.   3.5  6. ]\n [10.   5.   9. ]]\n</code></pre> <p>MissingIndicator</p> <pre><code>X1 = np.array([[np.nan, 1, 3],\n               [4, 0, np.nan],\n               [8, 1, 0]])\n\nX2 = np.array([[5, 1, np.nan],\n               [np.nan, 2, 3],\n               [2, 4, 0]])\n\nindicator = MissingIndicator(features=\"all\")\nindicator.fit(X1)\n\nX2_tr = indicator.transform(X2)\nX2_tr\n</code></pre> <pre><code>array([[False, False,  True],\n       [ True, False, False],\n       [False, False, False]])\n</code></pre> <p>KNNImputer</p> <pre><code>X = np.array([[1, 2, np.nan], [3, 4, 3], [np.nan, 6, 5], [8, 8, 7]])\nH.get_param(KNNImputer)\n\nimputer = KNNImputer(n_neighbors=2)\nimputer.fit_transform(X)\n</code></pre> <pre><code>(missing_values=nan, n_neighbors=5, weights='uniform',\nmetric='nan_euclidean', copy=True, add_indicator=False)\n</code></pre> <pre><code>array([[1. , 2. , 4. ],\n       [3. , 4. , 3. ],\n       [5.5, 6. , 5. ],\n       [8. , 8. , 7. ]])\n</code></pre>"},{"location":"Python3/scikit-learn/11.14.%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92.html","title":"11.14.\u7ebf\u6027\u56de\u5f52","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.11.03\nsklearn version:  0.23.1\n</code></pre> <pre><code>import matplotlib.pyplot as plt\nfrom toolkit import H\nimport numpy as np\nfrom scipy import linalg\nfrom sklearn import datasets\nfrom sklearn.metrics import mean_squared_error, r2_score\nfrom sklearn.linear_model import (LinearRegression, \n                                  Ridge, \n                                  SGDRegressor)\n</code></pre>"},{"location":"Python3/scikit-learn/11.14.%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92.html#_1","title":"\u6c42\u89e3\u4e8c\u4e58\u6700\u5c0f\u95ee\u9898","text":"<p>$$ y = c_1 \\times e^{-x} + c_2 \\times x $$</p> <p>$$ z = y + \\varepsilon $$</p> <p>$$ \\boldsymbol{A} = \\left(\\boldsymbol{e^{-x}}, \\boldsymbol{x} \\right)\\qquad $$</p> <pre><code># \u8bbe\u5b9a\u771f\u5b9e\u51fd\u6570\u7684\u53c2\u6570\nc1, c2 = 5.0, 2.0\n# \u751f\u6210\u51fd\u6570\u7684\u81ea\u53d8\u91cf X\nX = np.r_[0.1:1.1:0.1]\n# \u8bbe\u7f6e\u771f\u5b9e\u51fd\u6570\ny = c1 * np.exp(-X) + c2 * X\n# \u76ee\u6807\u51fd\u6570\uff1a\u771f\u5b9e\u51fd\u6570 + \u968f\u673a\u5e72\u6270\nz = y + 0.05 * np.max(y) * np.random.randn(len(y))\n# A \u662f\u81ea\u53d8\u91cf\u77e9\u9635\nA = np.c_[np.exp(-X)[:, np.newaxis], X[:, np.newaxis]]\nprint(f\"\u7cfb\u6570\u77e9\u9635 A:\\n{A}\")\n\n# \u6c42\u89e3\u6700\u5c0f\u4e8c\u4e58 A*c = z\nc, mse, rank, sigma = linalg.lstsq(A, z)  # \u89e3 \u5747\u65b9\u5dee \u79e9\nprint(f\"Parameters estimated by Least Squares: c1={c[0]:.3f}\\tc2={c[1]:.3f}\")\nprint(f\"Real parameters: c1={c1}\\tc2={c2}\")\n\n# \u5229\u7528\u4f30\u8ba1\u53c2\u6570\u8ba1\u7b97z\u7684\u9884\u6d4b\u503c\nz_pred = c[0] * A[:, 0] + c[1] * A[:, 1]\nlstsq_mse = np.mean(np.square(z - z_pred))\nprint(f\"Mean squared error: {lstsq_mse}\")\n</code></pre> <pre><code>\u7cfb\u6570\u77e9\u9635 A:\n[[0.90483742 0.1       ]\n [0.81873075 0.2       ]\n [0.74081822 0.3       ]\n [0.67032005 0.4       ]\n [0.60653066 0.5       ]\n [0.54881164 0.6       ]\n [0.4965853  0.7       ]\n [0.44932896 0.8       ]\n [0.40656966 0.9       ]\n [0.36787944 1.        ]]\nParameters estimated by Least Squares: c1=5.425 c2=1.852\nReal parameters: c1=5.0 c2=2.0\nMean squared error: 0.03904797048010764\n</code></pre> <p></p>"},{"location":"Python3/scikit-learn/11.14.%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92.html#linearregression","title":"LinearRegression","text":"<pre><code>LinearRegression(fit_intercept=True, normalize=False, copy_X=True,\n                 n_jobs=None)\n</code></pre> <p>\u53c2\u6570</p> <ul> <li><code>fit_intercept</code>\uff1a\u5e03\u5c14\u503c\u3002\u662f\u5426\u8ba1\u7b97\u7ebf\u6027\u56de\u5f52\u4e2d\u7684\u622a\u8ddd\u3002</li> <li><code>normalize</code>\uff1a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u90a3\u4e48\u8bad\u7ec3\u6837\u672c\u5c06\u4f7f\u7528L2\u8303\u6570\u8fdb\u884c\u5f52\u4e00\u5316\u3002<code>fit_intercept=False</code>\u65f6\u5ffd\u7565\u8be5\u53c2\u6570\u3002</li> <li><code>copy_X</code>\uff1a\u5e03\u5c14\u503c\u3002\u662f\u5426\u590d\u5236<code>X</code>\uff0c\u4e0d\u590d\u5236\u7684\u8bdd\u53ef\u80fd\u4f1a\u6539\u5199<code>X</code>\u53d8\u91cf\u3002</li> <li><code>n_jobs</code>\uff1a\u6574\u6570\u3002\u6307\u5b9a\u4efb\u52a1\u5e76\u884c\u65f6\u4f7f\u7528\u7684CPU\u6570\u91cf\uff0c\u5982\u679c\u53d6\u503c\u4e3a-1\u5219\u4f7f\u7528\u6240\u6709\u53ef\u7528\u7684CPU\u3002</li> </ul> <p>\u5c5e\u6027</p> <ul> <li><code>coef</code>\uff1a\u6743\u91cd\u5411\u91cf</li> <li><code>intercept_</code>\uff1a\u622a\u8ddd</li> </ul> <p>\u65b9\u6cd5</p> <ul> <li><code>fit(X,y)</code>\uff1a\u8bad\u7ec3\u6a21\u578b\u3002</li> <li><code>predict(X)</code>\uff1a\u9884\u6d4b\u3002</li> <li><code>score(X,y)</code>\uff1a\u8bc4\u5206\uff0c\u8ba1\u7b97\u516c\u5f0f\u4e3a$\\text{score} = R^2 = 1 - \\frac{\\sum(y - \\hat{y})^2}{\\sum(y - \\bar{y})^2}$\u3002score\u6700\u5927\u503c\u662f1\uff0c\u4f46\u6709\u53ef\u80fd\u662f\u8d1f\u503c(\u9884\u6d4b\u6548\u679c\u592a\u5dee)\u3002score\u8d8a\u5927\uff0c\u9884\u6d4b\u6027\u80fd\u8d8a\u597d\u3002</li> </ul> <pre><code># Create linear regression object\nregress_model = LinearRegression(fit_intercept=False, normalize=False)\n\n# Train the model using the training sets\nregress_model.fit(A, z)\n\n# Make predictions using the testing set\nz_pred = regress_model.predict(A)\n\nsklearn_mse = np.mean(np.square(z-z_pred))\n# The coefficients\nprint(f'Parameters estimated by LinearRegression: {regress_model.coef_}')\n# The mean squared error\nprint('Mean squared error: %.2f' % mean_squared_error(z, z_pred))\n# The coefficient of determination: 1 is perfect prediction\nprint('Coefficient of determination: %.2f' % r2_score(z, z_pred))\n</code></pre> <pre><code>Parameters estimated by LinearRegression: [5.42512871 1.85174901]\nMean squared error: 0.04\nCoefficient of determination: 0.81\n</code></pre> <p></p>"},{"location":"Python3/scikit-learn/11.14.%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92.html#sgdregressor","title":"SGDRegressor","text":"<pre><code>SGDRegressor(loss='squared_loss', penalty='l2', alpha=0.0001,\n             l1_ratio=0.15, fit_intercept=True, max_iter=1000,\n             tol=0.001, shuffle=True, verbose=0, epsilon=0.1,\n             random_state=None, learning_rate='invscaling', eta0=0.01,\n             power_t=0.25, early_stopping=False,\n             validation_fraction=0.1, n_iter_no_change=5,\n             warm_start=False, average=False)\n</code></pre> <ul> <li><code>loss</code>\uff1a\u8981\u4f7f\u7528\u7684\u635f\u5931\u51fd\u6570\u3002\u53ef\u80fd\u7684\u503c\u4e3a<code>\"squared_loss\"</code>\uff0c<code>\"huber\"</code>\uff0c<code>\"epsilon_insensitive\"</code>, <code>\"squared_epsilon_insensitive\"</code>\u3002</li> <li><code>penalty</code>\uff1a\u6b63\u5219\u9879\u3002\u53ef\u80fd\u7684\u503c\u4e3a<code>\"l2\"</code>, <code>\"l1\"</code>, <code>\"elasticnet\"</code>\uff0c\u9ed8\u8ba4\u4e3a<code>\"l2\"</code>\u3002</li> <li><code>alpha</code>\uff1a\u4e0e\u6b63\u5219\u9879\u76f8\u4e58\u7684\u5e38\u6570\u3002\u503c\u8d8a\u9ad8\uff0c\u6b63\u5219\u5316\u8d8a\u5f3a\u3002\u9ed8\u8ba4\u4e3a0.0001\u3002</li> <li><code>l1_ratio</code>\uff1a Elastic \u7f51\u7edc\u6df7\u5408\u53c2\u6570\u3002\u53d6\u503c\u8303\u56f4\u4e3a0 &lt;= l1_ratio &lt;= 1\u30021_ratio=0\u76f8\u5f53\u4e8eL2\u6b63\u5219\u9879\uff0c1_ratio=1\u76f8\u5f53\u4e8eL1\u6b63\u5219\u9879\u3002\u4ec5\u5728<code>penalty='elasticnet'</code>\u65f6\u6709\u6548\u3002</li> <li><code>fit_intercept</code>\uff1a\u662f\u5426\u5e94\u8be5\u4f30\u8ba1\u622a\u8ddd\u3002\u5982\u679c\u4e3aFalse\uff0c\u5219\u5047\u5b9a\u6570\u636e\u5df2\u7ecf\u4e2d\u5fc3\u5316\u3002</li> <li><code>max_iter</code>\uff1a\u8bad\u7ec3\u96c6\u7684\u6700\u5927\u8fed\u4ee3\u6b21\u6570\uff0c\u53c8\u79f0\u4e3aepochs\uff0c\u5b83\u53ea\u4f1a\u5f71\u54cd<code>fit</code>\u65b9\u6cd5\u4e2d\u7684\u884c\u4e3a\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd <code>partial_fit</code>\u65b9\u6cd5\u3002</li> <li><code>tol</code>\uff1a\u505c\u6b62\u51c6\u5219\u3002\u5982\u679c\u975e<code>None</code>\uff0c\u5219\u5f53 loss &gt; best_loss - tol \u6301\u7eed <code>n_iter_no_change</code> \u6b21\u8fed\u4ee3\u540e\uff0c\u8bad\u7ec3\u5c06\u505c\u6b62\u3002</li> <li><code>shuffle</code>\uff1a\u5728\u6bcf\u4e2aepoch\u4e4b\u540e\u662f\u5426\u5e94\u91cd\u65b0\u5bf9\u8bad\u7ec3\u6570\u636e\u8fdb\u884c\u6d17\u724c\u3002</li> <li><code>epsilon</code>\uff1aepsilon-insensitive \u635f\u5931\u51fd\u6570\u4e2d\u7684Epsilon \uff0c\u4ec5\u5f53<code>loss</code>\u4e3a<code>\"huber\"</code>\uff0c<code>\"epsilon_insensitive\"</code>, <code>\"squared_epsilon_insensitive\"</code>\u65f6\u6709\u6548\u3002</li> <li> <p><code>learning_rate</code>\uff1a\u5b66\u4e60\u7387\u8c03\u6574\u7b56\u7565\u3002\u53ef\u80fd\u7684\u503c\u4e3a\uff1a</p> <ul> <li> <p><code>\"constant\"</code>: <code>eta = eta0</code></p> </li> <li> <p><code>\"optimal\"</code>: <code>eta = 1.0 / (alpha * (t + t0))</code> \u5176\u4e2dt0\u7531Leon Bottou\u63d0\u51fa\u7684\u542f\u53d1\u5f0f\u65b9\u6cd5\u9009\u62e9\u3002</p> </li> <li> <p><code>\"invscaling\"</code>: <code>eta = eta0 / pow(t, power_t)</code></p> </li> <li> <p><code>\"adaptive\"</code>: eta = eta0</p> </li> </ul> </li> <li> <p><code>eta0</code>\uff1a\u5b66\u4e60\u7387\u3002</p> </li> <li><code>early_stopping</code>\uff1a\u5f53\u9a8c\u8bc1\u5206\u6570\u6ca1\u6709\u63d0\u9ad8\u65f6\uff0c\u662f\u5426\u4f7f\u7528\u63d0\u524d\u505c\u6b62\u6765\u7ec8\u6b62\u57f9\u8bad\u3002\u5982\u679c\u8bbe\u7f6e\u4e3a True\uff0c\u5b83\u5c06\u81ea\u52a8\u7559\u51fa\u4e00\u90e8\u5206\u8bad\u7ec3\u6570\u636e\u4f5c\u4e3a\u9a8c\u8bc1\uff0c\u5e76\u5728<code>score</code>\u65b9\u6cd5\u8fd4\u56de\u7684\u9a8c\u8bc1\u5f97\u5206\u81f3\u5c11<code>n_iter_no_change</code>\u4e2aepoch\u6ca1\u6709\u51cf\u5c11<code>tol</code>\u65f6\u7ec8\u6b62\u8bad\u7ec3\u3002</li> <li><code>validation_fraction</code>\uff1a\u9884\u7559\u7684\u9a8c\u8bc1\u96c6\u7684\u6bd4\u4f8b\u3002\u4ec5\u5728<code>early_stopping</code>\u4e3aTrue\u65f6\u4f7f\u7528\u3002</li> </ul> <pre><code>sgd_regression_model = SGDRegressor(loss='squared_loss',\n                                    fit_intercept=False, max_iter=10000,\n                                    alpha=0.001, validation_fraction=0.3)\n\n\nsgd_regression_model.fit(A, z)\nprint(f'Coefficients: {sgd_regression_model.coef_}')\n</code></pre> <pre><code>Coefficients: [4.11459251 2.76786944]\n</code></pre> <p>\u5982\u679c\u8bad\u7ec3\u96c6\u6837\u672c\u91cf\u592a\u5c11\uff0c\u5373\u4f7f\u589e\u52a0epoch\u7684\u5927\u5c0f\uff0c\u4e5f\u96be\u4ee5\u62df\u5408\u3002\u4ee5\u4e0b\u5bf9\u8bad\u7ec3\u96c6\u8fdb\u884c\u8fc7\u91c7\u6837\u3002</p> <pre><code>repeat_num = 10000\nnew_A = np.concatenate([A]*repeat_num)\nnew_z = np.concatenate([z]*repeat_num)\n\nsgd_regression_model.fit(new_A, new_z)\n\n# Make predictions using the testing set\nz_pred = sgd_regression_model.predict(A)\n\n# The coefficients\nprint(f'Coefficients: {sgd_regression_model.coef_}')\n# The mean squared error\nprint('Mean squared error: %.2f' % mean_squared_error(z, z_pred))\n# The coefficient of determination: 1 is perfect prediction\nprint('Coefficient of determination: %.2f' % r2_score(z, z_pred))\n</code></pre> <pre><code>Coefficients: [5.4053131  1.86414048]\nMean squared error: 0.04\nCoefficient of determination: 0.81\n</code></pre> <p></p>"},{"location":"Python3/scikit-learn/11.14.%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92.html#sgdregressor_1","title":"\u624b\u52a8\u5b9e\u73b0SGDRegressor","text":"<pre><code>import numpy as np\n\n\nclass SGDRegressorSimple:\n    def __init__(self, learn_ratio=0.001, max_iter=1000):\n        self.learn_ratio = learn_ratio\n        self.max_iter = max_iter\n        self.C = None\n\n    def _calculate_gradient(self, X, Y):\n        step = self.learn_ratio * np.sum((np.dot(A, self.C) - Y) * A, axis=0)\n        step = step.reshape(self.C.shape)\n        self.C -= step\n\n    def fit(self, X, y):\n        Y = np.array(y)\n        X = np.array(X)\n        if len(Y.shape) == 1:\n            Y = Y.reshape(-1, 1)\n        elif len(Y.shape) != 2:\n            raise ValueError(\"the shape of Y must be 2 dim\")\n        if len(X.shape) != 2:\n            raise ValueError(\"the shape of X must be 2 dim\")\n        Y_shape = Y.shape\n        X_shape = X.shape\n        if self.C is None:\n            self.C = np.zeros((X_shape[1], 1))\n        C_shape = self.C.shape\n\n        if X_shape[0] != Y_shape[0]:\n            raise ValueError(\"the length of X and y are not equal\")\n        if X_shape[1] != C_shape[0]:\n            raise ValueError(\"X.shape[1] is not equal to C.shape[1]\")\n\n        for i in range(self.max_iter):\n            self._calculate_gradient(X, Y)\n</code></pre> <pre><code>sgd = SGDRegressorSimple(learn_ratio=0.01, max_iter=1000)\n\nsgd.fit(A, y)\nprint(f'Coefficients: {sgd.C.flatten()}')\n</code></pre> <pre><code>Coefficients: [4.9999651  2.00003525]\n</code></pre>"},{"location":"Python3/scikit-learn/11.15.%E5%86%B3%E7%AD%96%E6%A0%91.html","title":"11.15.\u51b3\u7b56\u6811","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.11.07\nsklearn version:  0.23.1\n</code></pre> <pre><code>from sklearn.tree import (DecisionTreeClassifier, DecisionTreeRegressor,\n                          ExtraTreeClassifier, ExtraTreeRegressor)\nfrom sklearn import tree\n\n[i for i in dir(tree) if not i.startswith(\"_\")]\n</code></pre> <pre><code>['BaseDecisionTree',\n 'DecisionTreeClassifier',\n 'DecisionTreeRegressor',\n 'ExtraTreeClassifier',\n 'ExtraTreeRegressor',\n 'export_graphviz',\n 'export_text',\n 'plot_tree']\n</code></pre>"},{"location":"Python3/scikit-learn/11.15.%E5%86%B3%E7%AD%96%E6%A0%91.html#_1","title":"\u53c2\u6570\u8bf4\u660e","text":"<pre><code>DecisionTreeClassifier(criterion='gini', splitter='best', max_depth=None,\n                       min_samples_split=2, min_samples_leaf=1,\n                       min_weight_fraction_leaf=0.0, max_features=None,\n                       random_state=None, max_leaf_nodes=None,\n                       min_impurity_decrease=0.0, min_impurity_split=None,\n                       class_weight=None, presort='deprecated', ccp_alpha=0.0)\n\nDecisionTreeRegressor(criterion='mse', splitter='best', max_depth=None,\n                      min_samples_split=2, min_samples_leaf=1,\n                      min_weight_fraction_leaf=0.0, max_features=None,\n                      random_state=None, max_leaf_nodes=None,\n                      min_impurity_decrease=0.0, min_impurity_split=None,\n                      presort='deprecated', ccp_alpha=0.0)\n</code></pre> <p>\u5206\u88c2\u7b56\u7565\u53c2\u6570</p> <p><code>criterion</code>\uff1a\u5206\u88c2\u51c6\u5219\u3002\u5bf9\u4e8e\u5206\u7c7b\u6811\uff1a<code>{'gini', 'entropy'}</code>\uff0c\u4f7f\u7528Gini\u7cfb\u6570\u6216\u8005\u4fe1\u606f\u589e\u76ca\u3002 \u5bf9\u4e8e\u56de\u5f52\u6811\uff1a<code>{\"mse\", \"friedman_mse\", \"mae\"}</code>\u3002</p> <p><code>splitter</code>\uff1a<code>{'best', 'random'}</code>\u3002\u5206\u88c2\u7b56\u7565\u3002<code>'best'</code>\u8868\u793a\u9009\u62e9\u6700\u4f18\u7684\u62c6\u5206\uff1b<code>'random'</code>\u8868\u793a\u968f\u673a\u9009\u62e9\u6700\u4f18\u7684\u62c6\u5206\u3002<code>'best'</code>\u9002\u5408\u6837\u672c\u91cf\u4e0d\u5927\u7684\u60c5\u51b5\uff0c\u5982\u679c\u6837\u672c\u6570\u636e\u91cf\u975e\u5e38\u5927\uff0c\u63a8\u8350\u4f7f\u7528 <code>'random'</code>\u3002</p> <p><code>max_features</code>\uff1a\u6307\u5b9a\u5bfb\u627ebest split\u65f6\u8003\u8651\u7684\u7279\u5f81\u6570\u91cf\u3002\u5728\u627e\u5230\u81f3\u5c11\u4e00\u4e2a\u6709\u6548\u7684\u7279\u5f81\u7528\u4e8e\u5206\u88c2\u4e4b\u524d\uff0c\u4e0d\u4f1a\u505c\u6b62\u641c\u7d22\uff0c\u5373\u4f7f\u641c\u7d22\u7684\u7279\u5f81\u6570\u91cf\u8d85\u8fc7<code>max_features</code>\u3002</p> <ul> <li>\u5982\u679c\u662f\u6574\u6570\uff0c\u5219\u6bcf\u6b21\u5207\u5206\u53ea\u8003\u8651<code>max_features</code>\u4e2a\u7279\u5f81</li> <li>\u5982\u679c\u662f\u6d6e\u70b9\u6570\uff0c\u6bcf\u6b21\u5207\u5206\u53ea\u8003\u8651<code>max_features*n_features</code>\u4e2a\u7279\u5f81</li> <li>\u5982\u679c\u662f\u5b57\u7b26\u4e32<code>'auto'</code>\uff0c\u5219<code>max_features=sqrt(n_features)</code></li> <li>\u5982\u679c\u662f\u5b57\u7b26\u4e32<code>'sqrt'</code>\uff0c\u5219<code>max_features=sqrt(n_features)</code></li> <li>\u5982\u679c\u662f\u5b57\u7b26\u4e32<code>'log2'</code>\uff0c\u5219<code>max_features=log2(n_features)</code></li> <li>\u5982\u679c\u662f<code>None</code>\uff0c\u5219<code>max_features=n_features</code></li> </ul> <p>\u9884\u526a\u679d\u53c2\u6570</p> <p><code>max_depth</code>\uff1a\u53ef\u4ee5\u4e3a\u6574\u6570\u6216\u8005None\uff0c\u6307\u5b9a\u6811\u7684\u6700\u5927\u6df1\u5ea6\uff0c\u9632\u6b62\u8fc7\u62df\u5408\u3002\u5982\u679c\u4e3aNone\uff0c\u5219\u6811\u7684\u6df1\u5ea6\u4e0d\u9650\uff0c\u76f4\u5230\u6bcf\u4e2a\u53f6\u5b50\u7ed3\u70b9\u90fd\u662f\u7eaf\u7684\uff08\u5373\u6240\u6709\u6837\u672c\u70b9\u90fd\u5c5e\u4e8e\u4e00\u4e2a\u7c7b\uff09\uff0c\u6216\u8005\u53f6\u5b50\u7ed3\u70b9\u5305\u542b\u7684\u6837\u672c\u91cf\u5c0f\u4e8e min_samples_split\u3002\u5982\u679c<code>max_leaf_nodes</code>\u53c2\u6570\u975eNone\uff0c\u5219\u5ffd\u7565\u6b64\u9879\u3002</p> <p><code>min_samples_split</code>\uff1a\u6307\u5b9a\u6bcf\u4e2a\u5185\u90e8\u7ed3\u70b9\uff08\u975e\u53f6\u7ed3\u70b9\uff09\u5305\u542b\u7684\u6700\u5c11\u7684\u6837\u672c\u6570\u3002</p> <ul> <li>\u5982\u679c\u662f\u6574\u6570\uff0c\u8be5\u6574\u6570\u5c31\u662f\u6700\u5c11\u6837\u672c\u6570\u3002</li> <li>\u5982\u679c\u662f\u6d6e\u70b9\u6570\uff0c\u5219<code>ceil(min_samples_split * n_samples)</code>\u662f\u6700\u5c11\u6837\u672c\u6570\u3002</li> </ul> <p><code>min_samples_leaf</code>\uff1a\u6307\u5b9a\u6bcf\u4e2a\u53f6\u5b50\u7ed3\u70b9\u5305\u542b\u7684\u6700\u5c11\u7684\u6837\u672c\u6570\u3002\u53ea\u6709\u5f53\u5de6\u53f3\u5206\u652f\u90fd\u81f3\u5c11\u6709min_samples_leaf\u4e2a\u6837\u672c\uff0c\u7ed3\u70b9\u624d\u4f1a\u8fdb\u884c\u5206\u88c2\u3002</p> <ul> <li>\u5982\u679c\u662f\u6574\u6570\uff0c\u8be5\u6574\u6570\u5c31\u662f\u6700\u5c11\u7684\u6837\u672c\u6570\u3002</li> <li>\u5982\u679c\u662f\u6d6e\u70b9\u6570\uff0c\u5219<code>ceil(min_samples_split * n_samples)</code>\u662f\u6700\u5c11\u6837\u672c\u6570\u3002</li> </ul> <p><code>min_weight_fraction_leaf</code>\uff1a\u6d6e\u70b9\u6570\uff0c\u53f6\u5b50\u7ed3\u70b9\u4e2d\u6240\u6709\u6837\u672c\u6743\u91cd\u4e4b\u548c\u7684\u6700\u5c0f\u503c\uff0c\u9ed8\u8ba4\u4e3a0.0\u3002</p> <p><code>max_leaf_nodes</code>\uff1a\u6574\u6570\u6216None\uff0c\u6307\u5b9a\u53f6\u5b50\u7ed3\u70b9\u7684\u6700\u5927\u6570\u91cf\u3002\u5982\u679c\u4e3a<code>None</code>\uff0c\u6b64\u65f6\u53f6\u5b50\u8282\u70b9\u6570\u4e0d\u9650\u3002\u5982\u679c\u975e<code>None</code>\uff0c\u5219<code>max_depth</code>\u53c2\u6570\u88ab\u5ffd\u7565\u3002</p> <p><code>min_impurity_decrease</code>\uff1a\u9ed8\u8ba4\u4e3a0.0\uff0c\u5982\u679c\u8be5\u5206\u88c2\u5bfc\u81f4\u4e0d\u7eaf\u5ea6\u7684\u51cf\u5c11\u91cf\u5927\u4e8e\u6216\u7b49\u4e8e\u8be5\u503c\uff0c\u5219\u5c06\u5206\u88c2\u8282\u70b9\u3002\u52a0\u6743\u7684\u4e0d\u7eaf\u5ea6\u51cf\u5c11\u91cf\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff1a $$ \\frac{N_t}{N} \\times (\\text{impurity} - \\frac{N_{t_R}}{N_t} \\times \\text{impurity}_R- \\frac{N{t_L}}{N_t} \\times \\text{impurity}_L) $$</p> <p><code>min_impurity_split</code>\uff1a\u5f03\u7528\uff0c\u65e9\u505c\u7684impurity\u9608\u503c\u3002\u5982\u679c\u7ed3\u70b9\u7684impurity\u9ad8\u4e8e\u8be5\u9608\u503c\uff0c\u5219\u5206\u88c2\u7ed3\u70b9\uff0c\u5426\u5219\u6807\u8bb0\u4e3a\u53f6\u7ed3\u70b9\u3002\u8be5\u53c2\u6570\u57280.25\u7248\u672c\u4e2d\u5c06\u88ab\u79fb\u9664\uff0c\u5efa\u8bae\u4f7f\u7528<code>min_impurity_decrease</code>\u53c2\u6570\u3002</p> <p>\u540e\u526a\u679d\u53c2\u6570</p> <p><code>ccp_alpha</code>\uff1a\u6210\u672c\u590d\u6742\u5ea6\u53c2\u6570\uff0c\u9ed8\u8ba4\u4e3a0.0\uff0c\u5373\u4e0d\u4f1a\u6267\u884c\u540e\u526a\u679d\u3002</p> <p>\u5176\u4ed6\u53c2\u6570</p> <p><code>class_weight</code>\uff1adict, list of dict or \"balanced\", or None. \u6307\u5b9a\u4e86\u5404\u7c7b\u522b\u7684\u6743\u91cd\u3002</p> <ul> <li> <p>\u5982\u679c\u662f\u591a\u5206\u7c7b\u95ee\u9898\uff0c\u5219\u901a\u8fc7<code>{class_label: weight}</code>\u7684\u5f62\u5f0f\u6307\u5b9a\u6743\u91cd\u3002</p> </li> <li> <p>\u5982\u679c\u662f\u591a\u6807\u7b7e\u5206\u7c7b\u95ee\u9898\uff0c\u4f8b\u59824-class\u591a\u6807\u7b7e\u5206\u7c7b\u95ee\u9898\u5e94\u8be5\u901a\u8fc7\u5982\u4e0b\u5f62\u5f0f\u6307\u5b9a\u6743\u91cd\uff1a</p> <p><code>[{0: 1, 1: 1}, {0: 1, 1: 5}, {0: 1, 1: 1}, {0: 1, 1: 1}]</code></p> <p>\u5217\u8868\u4e2d\u6bcf\u4e2adict\u5bf9\u5e94<code>y</code>\u7684\u6bcf\u4e00\u5217\u3002\u800c\u4e0d\u662f\u901a\u8fc7\u5982\u4e0b\u5f62\u5f0f\u6307\u5b9a\u6743\u91cd\uff1a</p> <p><code>[{1:1}, {2:5}, {3:1}, {4:1}]</code></p> </li> <li> <p>\u5982\u679c\u4e3a<code>None</code>\uff0c\u5219\u6bcf\u4e2a\u7c7b\u522b\u6743\u91cd\u90fd\u4e3a1\u3002</p> </li> <li>\u5982\u679c\u4e3a<code>\u2018balanced\u2019</code>\uff0c\u5219\u7c7b\u522b\u6743\u91cd\u5c06\u81ea\u52a8\u8ba1\u7b97\uff0c\u516c\u5f0f\u4e3a\uff1a<code>n_samples / (n_classes * np.bincount(y))</code>\u3002\u5982\u679c\u662f\u591a\u6807\u7b7e\u5206\u7c7b\uff0c<code>y</code>\u7684\u6bcf\u4e00\u5217\u5c06\u76f8\u4e58\u3002</li> <li>\u5982\u679c\u5728<code>fit</code>\u65b9\u6cd5\u6307\u5b9a\u4e86<code>sample_weight</code>\uff0c\u5219<code>sample_weight</code>\u5c06\u4e8e\u5bf9\u5e94\u7684<code>class_weight</code>\u76f8\u4e58\u3002</li> </ul> <p><code>presort</code>\uff1a\u5f03\u7528\uff0c\u6307\u5b9a\u4e86\u662f\u5426\u8981\u63d0\u524d\u6392\u5e8f\u6570\u636e\u4ece\u800c\u52a0\u901f\u5bfb\u627e\u6700\u4f18\u5206\u5272\u7684\u8fc7\u7a0b\u3002\u8be5\u53c2\u6570\u5c06\u57280.24\u7248\u672c\u4e2d\u88ab\u79fb\u9664\u3002\u8bbe\u7f6e\u4e3aTrue\u65f6\uff0c\u5bf9\u4e8e\u5927\u6570\u636e\u96c6\u4f1a\u51cf\u6162\u603b\u4f53\u8bad\u7ec3\u8fc7\u7a0b\uff0c\u4f46\u5bf9\u4e8e\u5c0f\u6570\u636e\u96c6\u6216\u8005\u8bbe\u5b9a\u4e86\u6700\u5927\u6df1\u5ea6\u7684\u60c5\u51b5\u4e0b\uff0c\u5219\u4f1a\u52a0\u901f\u8bad\u7ec3\u8fc7\u7a0b\u3002</p>"},{"location":"Python3/scikit-learn/11.15.%E5%86%B3%E7%AD%96%E6%A0%91.html#_2","title":"\u5c5e\u6027","text":"<p><code>classes_</code>\uff1a\u5404\u7c7b\u522b\u7684\u6807\u7b7e\u503c\u3002</p> <p><code>feature_importances_</code>\uff1a\u7279\u5f81\u7684\u91cd\u8981\u7a0b\u5ea6\u3002\u8be5\u503c\u8d8a\u9ad8\uff0c\u5219\u7279\u5f81\u8d8a\u91cd\u8981(\u4e5f\u79f0\u4e3aGini importance)\u3002</p> <p><code>max_features_</code>\uff1a<code>max_feature</code>\u53c2\u6570\u7684\u63a8\u65ad\u503c\u3002</p> <p><code>n_classes_</code>\uff1a\u7c7b\u522b\u7684\u6570\u91cf\u3002</p> <p><code>n_features_</code>\uff1a\u6267\u884cfit\u540e\uff0c\u7279\u5f81\u7684\u6570\u91cf\u3002</p> <p><code>n_outputs_</code>\uff1a\u6267\u884cfit\u540e\uff0c\u8f93\u51fa\u7684\u6570\u91cf\u3002</p> <p><code>tree_</code>\uff1a\u5e95\u5c42\u7684\u51b3\u7b56\u6811\u5bf9\u8c61\u3002</p>"},{"location":"Python3/scikit-learn/11.15.%E5%86%B3%E7%AD%96%E6%A0%91.html#_3","title":"\u65b9\u6cd5","text":"<code>apply</code>(X[, check_input]) \u8fd4\u56de\u6bcf\u4e2a\u6837\u672c\u8fdb\u5165\u7684\u53f6\u5b50\u7ed3\u70b9\u7684\u7d22\u5f15 <code>cost_complexity_pruning_path</code>(X, y[, \u2026]) \u5728Minimal Cost-Complexity\u526a\u679d\u671f\u95f4\u8ba1\u7b97\u526a\u679d\u8def\u5f84 <code>decision_path</code>(X[, check_input]) \u8fd4\u56de\u6811\u7684\u51b3\u7b56\u8def\u5f84 <code>fit</code>(X, y[, sample_weight, check_input, \u2026]) Build a decision tree classifier from the training set (X, y). <code>get_depth</code>() Return the depth of the decision tree. <code>get_n_leaves</code>() Return the number of leaves of the decision tree. <code>get_params</code>([deep]) Get parameters for this estimator. <code>predict</code>(X[, check_input]) Predict class or regression value for X. <code>predict_log_proba</code>(X) Predict class log-probabilities of the input samples X. <code>predict_proba</code>(X[, check_input]) Predict class probabilities of the input samples X. <code>score</code>(X, y[, sample_weight]) Return the mean accuracy on the given test data and labels. <code>set_params</code>(**params) Set the parameters of this estimator. <p>\u5bf9\u4e8e\u5206\u7c7b\u6811\uff0c<code>score()</code>\u65b9\u6cd5\u8fd4\u56de\u7684\u7ed3\u679c\u662f\uff1a</p> <pre><code>accuracy_score(y, self.predict(X), sample_weight=sample_weight)\n</code></pre> <p>\u5bf9\u4e8e\u56de\u5f52\u6811\uff0c<code>score()</code>\u65b9\u6cd5\u8fd4\u56de\u7684\u7ed3\u679c\u662f\uff1a</p> <pre><code>r2_score(y, y_pred, sample_weight=sample_weight)\n</code></pre> <p>$$ R^2 = 1 - \\frac{\\sum(y - \\hat{y})^2}{\\sum(y - \\bar{y})^2} $$</p> <p>$R^2$\u6709\u53ef\u80fd\u4e3a\u8d1f\u503c\u3002</p>"},{"location":"Python3/scikit-learn/11.15.%E5%86%B3%E7%AD%96%E6%A0%91.html#extremely-randomized-tree","title":"extremely randomized tree","text":"<p>\u6781\u7aef\u968f\u673a\u6811\u4e0e\u7ecf\u5178\u51b3\u7b56\u6811\u7684\u6784\u5efa\u65b9\u5f0f\u4e0d\u540c\u3002\u5bfb\u627e\u6700\u4f73\u5206\u5272\u65f6\uff0cExtra-trees \u5728\u6240\u6709\u62c6\u5206\u4e2d\u968f\u673a\u9009\u62e9<code>max_features</code>\u4e2a\u62c6\u5206\uff0c\u5e76\u5728<code>max_features</code>\u4e2a\u62c6\u5206\u4e2d\u9009\u62e9\u6700\u4f73\u62c6\u5206\u3002\u5f53<code>max_features</code>\u8bbe\u7f6e\u4e3a1\u65f6\uff0c\u5373\u5efa\u7acb\u4e86\u4e00\u4e2a\u5b8c\u5168\u968f\u673a\u7684\u51b3\u7b56\u6811\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c<code>ExtraTree</code> \u7ee7\u627f\u81ea <code>DecisionTree</code>\uff0c<code>ExtraTree</code>\u53ea\u662f\u5c06<code>splitter</code>\u3001<code>max_features</code>\u53c2\u6570\u5206\u522b\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a<code>\"random\"</code>\u548c<code>\"auto\"</code>\u800c\u5df2\u3002</p> <pre><code>ExtraTreeClassifier(criterion='gini', splitter='random', max_depth=None,\n                    min_samples_split=2, min_samples_leaf=1,\n                    min_weight_fraction_leaf=0.0, max_features='auto',\n                    random_state=None, max_leaf_nodes=None,\n                    min_impurity_decrease=0.0, min_impurity_split=None,\n                    class_weight=None, ccp_alpha=0.0)\n\nExtraTreeRegressor(criterion='mse', splitter='random', max_depth=None,\n                   min_samples_split=2, min_samples_leaf=1,\n                   min_weight_fraction_leaf=0.0, max_features='auto',\n                   random_state=None, min_impurity_decrease=0.0,\n                   min_impurity_split=None, max_leaf_nodes=None, ccp_alpha=0.0)\n</code></pre>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html","title":"11.2.\u8bc4\u4ef7\u6307\u6807-\u5206\u7c7b","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.05.10\nsklearn version:  0.22.1\n</code></pre>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#_1","title":"\u8bc4\u4ef7\u6307\u6807","text":"<p>sklearn\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8bc4\u4f30\u6307\u6807\u53ef\u7528\u4e8e\u5206\u7c7b\u4efb\u52a1\uff1a</p> \u51fd\u6570 \u8bf4\u660e <code>accuracy_score(y_true, y_pred[, \u2026])</code> \u2705 \u8ba1\u7b97accuracy <code>balanced_accuracy_score(y_true, y_pred)</code> \u2705 \u8ba1\u7b97 balanced accuracy <code>precision_score(y_true, y_pred[, \u2026])</code> \u2705 \u8ba1\u7b97 precision <code>recall_score(y_true, y_pred[, \u2026])</code> \u2705 \u8ba1\u7b97 recall <code>f1_score(y_true, y_pred[, labels, \u2026])</code> \u2705 \u8ba1\u7b97 F1 score <code>fbeta_score(y_true, y_pred, beta[, \u2026])</code> \u2705 \u8ba1\u7b97 F-beta score <code>classification_report(y_true, y_pred)</code> \u2705 \u663e\u793a\u4e3b\u8981\u7684\u5206\u7c7b\u6307\u6807 <code>precision_recall_fscore_support(\u2026)</code> \u2705 \u8ba1\u7b97\u6bcf\u4e2a\u7c7b\u522b\u7684 precision\u3001recall\u3001F-measure\u3001support <code>confusion_matrix(y_true, y_pred[, \u2026])</code> \u2705 \u8ba1\u7b97\u6df7\u6dc6\u77e9\u9635 <code>precision_recall_curve(y_true, \u2026)</code> \u2705 \u8ba1\u7b97\u4e0d\u540c\u6982\u7387\u9608\u503c\u7684 precision \u548c recall <code>roc_curve(y_true, y_score[, \u2026])</code> \u2705 \u8ba1\u7b97 Receiver operating characteristic (ROC) <code>roc_auc_score(y_true, y_score[, \u2026])</code> \u2705 \u8ba1\u7b97  ROC \u66f2\u7ebf\u4e0b\u7684\u9762\u79ef\uff08AUC\uff09 <code>auc(x, y)</code> \u2705 \u8ba1\u7b97  AUC\uff0c\u4f7f\u7528\u68af\u5f62\u8ba1\u7b97\u516c\u5f0f <code>average_precision_score(y_true, y_score)</code> \u2705 \u8ba1\u7b97average precision (AP) <code>brier_score_loss(y_true, y_prob[, \u2026])</code> \u2705 \u8ba1\u7b97 Brier score <code>cohen_kappa_score(y1, y2[, labels, \u2026])</code> \ud83d\udd32 Cohen\u2019s kappa: a statistic that measures inter-annotator agreement <code>dcg_score(y_true, y_score[, k, \u2026])</code> \ud83d\udd32 \u8ba1\u7b97Discounted Cumulative Gain <code>hamming_loss(y_true, y_pred[, \u2026])</code> \u2705 \u8ba1\u7b97 average Hamming loss <code>hinge_loss(y_true, pred_decision[, \u2026])</code> \ud83d\udd32 \u8ba1\u7b97 Average hinge loss (non-regularized) <code>jaccard_score(y_true, y_pred[, \u2026])</code> \u2705 \u8ba1\u7b97 Jaccard similarity coefficient score <code>log_loss(y_true, y_pred[, eps, \u2026])</code> \u2705 Log loss, aka logistic loss or cross-entropy loss <code>matthews_corrcoef(y_true, y_pred[, \u2026])</code> \ud83d\udd32 \u8ba1\u7b97 the Matthews correlation coefficient (MCC) <code>multilabel_confusion_matrix(y_true, \u2026)</code> \u2705 Compute a confusion matrix for each class or sample <code>ndcg_score(y_true, y_score[, k, \u2026])</code> \ud83d\udd32 Compute Normalized Discounted Cumulative Gain. <code>zero_one_loss(y_true, y_pred[, \u2026])</code> \u2705 \u8ba1\u7b97Zero-one\u5206\u7c7b\u635f\u5931"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#_2","title":"\u5e94\u7528\u573a\u666f","text":"<p>\u53ea\u80fd\u7528\u4e8e\u4e8c\u5206\u7c7b\uff1a</p> <ol> <li>precision_recall_curve</li> <li>roc_curve</li> <li>brier_score_loss</li> </ol> <p>\u53ea\u80fd\u7528\u4e8e\u591a\u5206\u7c7b\uff1a</p> <ol> <li>confusion_matrix</li> <li>balanced_accuracy_score</li> <li>hinge_loss</li> <li>cohen_kappa_score</li> <li>matthews_corrcoef</li> </ol> <p>\u591a\u5206\u7c7b\u548c\u591a\u6807\u7b7e\uff1a</p> <ol> <li>accuracy_score</li> <li>recall_score</li> <li>precision_score</li> <li>f1_score</li> <li>fbeta_score</li> <li>classification_report</li> <li>precision_recall_fscore_support</li> <li>hamming_loss</li> <li>jaccard_similarity_score</li> <li>log_loss</li> <li>zero_one_loss</li> </ol> <p>\u4e8c\u5206\u7c7b\u548c\u591a\u6807\u7b7e\uff1a</p> <ol> <li>average_precision_score</li> <li>roc_auc_score</li> </ol> <p>ranking\uff1a</p> <ol> <li>dcg_score</li> <li>ndcg_score</li> </ol>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#accuracy","title":"accuracy","text":"<p>$$ \\texttt{accuracy}(y, \\hat{y}) = \\frac{1}{n_\\text{samples}} \\sum_{i=0}^{n_\\text{samples}-1} \\mathbb{I}(\\hat{y}_i = y_i) $$</p> <p>\u5982\u679c\u8bbe\u7f6e\u4e86\u6743\u91cd\uff0c\u5219\u4e00\u822c\u5316\u7684\u516c\u5f0f\u5982\u4e0b\uff1a</p> <p>$$ \\texttt{accuracy}(y, \\hat{y}) = \\frac{1}{\\sum_{i=0}^{n_\\text{samples}-1}w_i} \\sum_{i=0}^{n_\\text{samples}-1} \\mathbb{I}(\\hat{y}_i = y_i)w_i $$</p> <pre><code>from sklearn.metrics import accuracy_score\n</code></pre> <pre><code>accuracy_score(y_true, y_pred, normalize=True, sample_weight=None)\n</code></pre> <ul> <li><code>normalize</code> : \u5982\u679c<code>False</code>\uff0c\u5219\u8fd4\u56de\u5206\u7c7b\u6b63\u786e\u7684\u6837\u672c\u6570\u91cf\uff0c\u5982\u679c<code>True</code>\uff0c\u5219\u8fd4\u56de\u603b\u4f53\u7684\u6b63\u786e\u7387\u3002</li> </ul> <pre><code>y_true = [0, 1, 2, 3]\ny_pred = [0, 2, 1, 3]\n\nprint(accuracy_score(y_true, y_pred))\nprint(accuracy_score(y_true, y_pred, normalize=False))\nprint(accuracy_score(y_true, y_pred, sample_weight=(1,1,1,10)))\n</code></pre> <pre><code>0.5\n2\n0.8461538461538461\n</code></pre>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#balanced-accuracy","title":"balanced accuracy","text":"<p>$$ \\texttt{balanced accuracy}(y, \\hat{y}) = \\frac{1}{n_\\text{class}} \\sum_{i=1}^{n_\\text{class}} \\text{accuracy}_i $$</p> <p>\u5982\u679c\u8bbe\u7f6e\u4e86\u6743\u91cd\uff0c\u5219$\\text{accuracy}_i$\u5e94\u8be5\u5148\u6309\u6743\u91cd\u8ba1\u7b97\u3002</p> <pre><code>from sklearn.metrics import balanced_accuracy_score\n</code></pre> <pre><code>balanced_accuracy_score(y_true, y_pred, sample_weight=None, adjusted=False)\n</code></pre> <ul> <li><code>adjusted</code>: The best value is 1 and the worst value is 0 when <code>adjusted=False</code>. When true, the result is adjusted for chance, so that random performance would score 0, and perfect performance scores 1.</li> </ul> <pre><code>y_true = [0, 1, 0, 0, 1, 0]\ny_pred = [0, 1, 0, 0, 0, 1]\nbalanced_accuracy_score(y_true, y_pred)\n</code></pre> <pre><code>0.625\n</code></pre>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#confusion-matrix","title":"confusion matrix","text":"<pre><code>from toolkit import H\nfrom sklearn.metrics import confusion_matrix\nfrom sklearn.metrics import multilabel_confusion_matrix\nfrom sklearn.metrics import plot_confusion_matrix\nfrom sklearn.metrics import ConfusionMatrixDisplay\nimport numpy as np\n</code></pre> <pre><code>confusion_matrix(y_true, y_pred, labels=None, sample_weight=None, normalize=None)\n</code></pre> <pre><code>y_true = [0, 1, 0, 0, 1, 0, 2, 1, 2, 2]\ny_pred = [0, 1, 0, 0, 0, 1, 2, 1, 0, 2]\n\nconfusion_matrix(y_true, y_pred, labels=[1, 0, 2])\n</code></pre> <pre><code>array([[2, 1, 0],\n       [1, 3, 0],\n       [0, 1, 2]], dtype=int64)\n</code></pre>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#multilabel-confusion-matrix","title":"<code>multilabel confusion matrix</code>","text":"<pre><code>multilabel_confusion_matrix(y_true, y_pred, sample_weight=None,\n                                labels=None, samplewise=False)\n</code></pre> <pre><code>y_true = [\"cat\", \"ant\", \"cat\", \"cat\", \"ant\", \"bird\"]\ny_pred = [\"ant\", \"ant\", \"cat\", \"cat\", \"ant\", \"cat\"]\nmultilabel_confusion_matrix(y_true, y_pred,\n                            labels=[\"ant\", \"bird\", \"cat\"])\n\n\ny_true = np.array([[1, 0, 1],\n                   [0, 1, 0]])\n\ny_pred = np.array([[1, 0, 0],\n                   [0, 1, 1]])\nmultilabel_confusion_matrix(y_true, y_pred, samplewise=True)\n</code></pre> <pre><code>array([[[1, 0],\n        [1, 1]],\n\n       [[1, 1],\n        [0, 1]]], dtype=int64)\n</code></pre>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#confusion-matrix_1","title":"confusion matrix\u53ef\u89c6\u5316","text":"<p><code>confusion_matrix</code>\u51fd\u6570\u548c<code>multilabel_confusion_matrix</code>\u51fd\u6570\u53ef\u4ee5\u901a\u8fc7<code>labels</code>\u53c2\u6570\u8bbe\u7f6elabel\u7684\u6392\u5217\u987a\u5e8f\u3002\u4f46\u5b83\u4eec\u7684\u8f93\u51fa\u662f<code>ndarray</code>\u5bf9\u8c61\uff0c\u5e76\u6ca1\u6709\u6307\u660e\u771f\u5b9e\u503c\u3001\u9884\u6d4b\u503c\u4e0e\u884c\u3001\u5217\u7684\u5bf9\u5e94\u5173\u7cfb\u3002\u4f7f\u7528<code>plot_confusion_matrix</code>\u51fd\u6570\u53ef\u4ee5\u628a\u6df7\u6dc6\u77e9\u9635\u8f93\u51fa\u4e3a\u56fe\u8868\uff0c\u5f97\u5230\u66f4\u76f4\u89c2\u7684\u6548\u679c\uff1a</p> <pre><code>plot_confusion_matrix(estimator, X, y_true, labels=None, sample_weight=None,    \n                      normalize=None, display_labels=None, include_values=True, \n                      xticks_rotation='horizontal', values_format=None, \n                      cmap='viridis', ax=None)\n</code></pre> <p>\u8981\u6ce8\u610f\u7684\u662f\uff0c\u9700\u8981\u628a<code>estimator</code>\u4f20\u5165<code>plot_confusion_matrix</code>\u51fd\u6570\u3002</p> <pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nfrom sklearn import svm, datasets\nfrom sklearn.model_selection import train_test_split\n\n\n# import some data to play with\niris = datasets.load_iris()\nX = iris.data\ny = iris.target\nclass_names = iris.target_names\n\n# Split the data into a training set and a test set\nX_train, X_test, y_train, y_test = train_test_split(X, y, random_state=0)\n\n# Run classifier, using a model that is too regularized (C too low) to see\n# the impact on the results\nclassifier = svm.SVC(kernel='linear', C=0.01).fit(X_train, y_train)\n\nnp.set_printoptions(precision=2)\n\n# Plot non-normalized confusion matrix\ndisp = plot_confusion_matrix(classifier, X_test, y_test,\n                             display_labels=class_names,\n                             cmap=plt.cm.Blues,\n                             include_values=True,\n                             normalize=None)\n\ndisp.ax_.set_title(\"Confusion matrix\")\nprint(disp.confusion_matrix)\nplt.show()\n</code></pre> <pre><code>[[13  0  0]\n [ 0 10  6]\n [ 0  0  9]]\n</code></pre> <p></p> <p>\u901a\u8fc7 <code>plot_confusion_matrix</code> \u51fd\u6570\u8fd4\u56de\u7684<code>ConfusionMatrixDisplay</code>\u5bf9\u8c61\u7684<code>ax_</code>\u5c5e\u6027\u53ef\u4ee5\u8bbf\u95ee<code>Axes</code>\u5bf9\u8c61\u3002</p> <p>\u5982\u679c\u5df2\u6709\u6df7\u6dc6\u77e9\u9635\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7<code>ConfusionMatrixDisplay</code>\u7c7b\u8f93\u51fa\u6df7\u6dc6\u77e9\u9635\u56fe\u3002</p> <pre><code>ConfusionMatrixDisplay(confusion_matrix, display_labels)\n\nConfusionMatrixDisplay.plot(include_values=True, cmap='viridis', \n                            xticks_rotation='horizontal', \n                            values_format=None, ax=None)\n</code></pre> <pre><code>disp_2 = ConfusionMatrixDisplay(disp.confusion_matrix, \n                                display_labels=[0,1,2]).plot()\n# disp_2.figure_.savefig()\ndisp_2.figure_\n</code></pre> <p></p>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#_3","title":"\u4ece\u4e8c\u5206\u7c7b\u5230\u591a\u5206\u7c7b\u3001\u591a\u6807\u7b7e","text":"<p>\u4e00\u4e9b\u8bc4\u4ef7\u6307\u6807\u57fa\u672c\u4e0a\u662f\u4e3a\u4e8c\u5206\u7c7b\u4efb\u52a1\u5b9a\u4e49\u7684\uff08\u4f8b\u5982 f1_score\u3001roc_auc_score\uff09\u3002\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4ec5\u8bc4\u4f30 positive label\u3002</p> <p>\u5c06 binary metric \u62d3\u5c55\u5230 multiclass \u6216 multilabel \u95ee\u9898\u65f6\uff0c\u6570\u636e\u5c06\u88ab\u89c6\u4e3a\u4e8c\u5206\u7c7b\u95ee\u9898\u7684\u96c6\u5408\uff0c\u6bcf\u4e2a\u7c7b\u90fd\u6709\u4e00\u4e2ametric\u3002 \u4f8b\u5982\uff0c\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\u90fd\u88ab\u62c6\u5206\u4e3a3\u4e2a\u4e8c\u5206\u7c7b\u4efb\u52a1\uff1a</p> <pre><code>multiclass task: [1, 2, 3]\nmultilabel task: [1, 0, 1]\n</code></pre> <p>\u7136\u540e\u5404\u4e2a\u7c7b\u7684metric\u5c06\u4ee5\u67d0\u79cd\u65b9\u5f0f\u4f5c\u5747\u503c\u8fd0\u7b97\uff0c\u5f97\u5230\u7684\u5747\u503c\u5c06\u4f5c\u4e3a multiclass \u6216 multilabel \u95ee\u9898\u7684\u8bc4\u4ef7\u6307\u6807\u3002 \u5747\u503c\u8fd0\u7b97\u7684\u65b9\u5f0f\u901a\u8fc7 <code>average</code> \u53c2\u6570\u6307\u5b9a\u3002</p> <ul> <li><code>macro</code> \uff1a\u5404\u4e2a binary metrics \u4f5c\u7b80\u5355\u7684\u7b97\u672f\u5e73\u5747\uff0c\u6bcf\u4e2a\u7c7b\u522b\u5177\u6709\u76f8\u540c\u7684\u6743\u91cd\u3002binary metrics \u7531\u5404\u7c7b\u7684\u6df7\u6dc6\u77e9\u9635\u5f97\u5230\uff08\u6bcf\u4e2a\u7c7b\u6709\u4e00\u4e2a\u6df7\u6dc6\u77e9\u9635\uff09\u3002\u5728\u90a3\u4e9b\u5177\u6709\u4e0d\u9891\u7e41\u7c7b\u522b\uff0c\u4f46\u4e0d\u9891\u7e41\u7c7b\u4ecd\u7136\u91cd\u8981\u7684\u95ee\u9898\u4e0a\uff0cmacro-averaging\u662f\u7a81\u51fa\u5176\u6027\u80fd\u7684\u4e00\u79cd\u624b\u6bb5\u3002\u4f46\u53e6\u4e00\u65b9\u9762\uff0c\u6240\u6709\u7c7b\u522b\u540c\u6837\u91cd\u8981\u7684\u5047\u8bbe\u901a\u5e38\u662f\u4e0d\u771f\u5b9e\u7684\uff0c\u56e0\u6b64 macro-averaging \u5c06\u8fc7\u5ea6\u5f3a\u8c03\u4e0d\u9891\u7e41\u7c7b\u7684\u4f4e\u6027\u80fd\u3002</li> <li><code>weighted</code>\uff1a\u6bcf\u4e2a\u6837\u672c\u8d4b\u4e88\u4e00\u4e2a\u6743\u91cd\uff0c\u5404\u4e2a\u7c7b\u7684\u6743\u91cd\u53d6\u51b3\u4e8e\u5b83\u4eec\u6837\u672c\u7684\u6743\u91cd\u3002\u6240\u4ee5\u5b9e\u9645\u4e0a\uff0c<code>weighted</code>\u5e73\u5747\u662f\u52a0\u6743\u7684<code>macro</code>\u5e73\u5747\u3002</li> <li><code>micro</code>\uff1a \u5404\u4e2a\u7c7b\u7684\u6df7\u6dc6\u77e9\u9635\u6c42\u548c\uff0c\u518d\u6839\u636e\u6837\u672c\u6570\u6c42\u5e73\u5747\u503c\uff08\u5404\u4e2a\u6837\u672c\u6709\u540c\u6837\u7684\u6743\u91cd\uff09\uff0c\u5f97\u5230\u5e73\u5747\u6df7\u6dc6\u77e9\u9635\uff0c\u6700\u540e\u6839\u636e\u5e73\u5747\u6df7\u6dc6\u77e9\u9635\u6c42\u51fametric\u3002\u5728 multilabel \u4efb\u52a1\u548c\u9700\u8981\u5ffd\u7565\u9891\u7e41\u7c7b\u7684 multiclass\u4efb\u52a1\u4e2d\uff0cMicro-averaging \u53ef\u80fd\u662f\u4f18\u5148\u9009\u62e9\u7684\u3002</li> <li><code>samples</code>\uff1a\u4ec5\u9002\u7528\u4e8e multilabel problems\u3002 \u5404\u4e2a binary metrics \u4f5c\u7684\u7b97\u672f\u5e73\u5747\uff0cbinary metrics \u7531\u5404\u6837\u672c\u7684\u6df7\u6dc6\u77e9\u9635\u5f97\u5230\uff08\u6bcf\u4e2a\u6837\u672c\u6709\u4e00\u4e2a\u6df7\u6dc6\u77e9\u9635\uff09\u3002\u5e76\u8fd4\u56de (<code>sample_weight</code>-weighted) \u52a0\u6743\u5e73\u5747\u3002</li> <li><code>None</code>\uff1a\u8fd4\u56de\u6bcf\u4e2a\u7c7b\u7684 score \u3002</li> </ul>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#precisionrecallf1","title":"precision\u3001recall\u3001F1","text":"<p>\u4e8c\u5206\u7c7b</p> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u4e8c\u5206\u7c7b\u6df7\u6dc6\u77e9\u9635\u7684precision\u3001recall\u3001F1\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff1a</p> <p>$$ \\text{precision} = \\frac{TP}{TP+FP} $$</p> <p>$$ \\text{recall} = \\frac{TP}{TP+FN} $$</p> <p>$$ F1 = \\frac{2\\times\\text{precision}\\times \\text{recall}}{\\text{precision}+ \\text{recall}} $$</p> <p>\u5982\u679c\u662f\u591a\u5206\u7c7b\u6df7\u6dc6\u77e9\u9635\uff0c\u5219\u53ef\u80fd\u4f7f\u7528\u5982\u4e0b\u8ba1\u7b97\u516c\u5f0f\uff1a</p> <p>Macro-averaging</p> <p>\u5b8f\u5e73\u5747\uff08Macro-averaging\uff09\u662f\u6307\u6240\u6709\u7c7b\u522b\u7684\u6bcf\u4e00\u4e2a\u7edf\u8ba1\u6307\u6807\u503c\u7684\u7b97\u672f\u5e73\u5747\u503c\uff0c\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff1a</p> <p>$$ {P_{\\text {macro}}=\\frac{1}{n} \\sum_{i=1}^{n} P_{i}} $$</p> <p>$$ {R_{\\text {macro}}=\\frac{1}{n} \\sum_{i=1}^{n} R_{i}} $$</p> <p>$$ {F_{\\text {macro}}=\\frac{2 \\times P_{\\text {macro}} \\times R_{\\text {macro}}}{P_{\\text {macro}}+R_{\\text {macro}}}} $$</p> <p>Micro-averaging</p> <p>\u5fae\u5e73\u5747\uff08Micro-averaging\uff09\u662f\u5bf9\u6570\u636e\u96c6\u4e2d\u7684\u6bcf\u4e00\u4e2a\u793a\u4f8b\u4e0d\u5206\u7c7b\u522b\u8fdb\u884c\u7edf\u8ba1\u5efa\u7acb\u5168\u5c40\u6df7\u6dc6\u77e9\u9635\uff0c\u7136\u540e\u8ba1\u7b97\u76f8\u5e94\u7684\u6307\u6807\u3002\u5176\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff1a</p> <p>$$ \\begin{aligned}  P_{\\text {micro }}=\\frac{\\overline{T P}}{\\overline{T P}+\\overline{F P}}&amp; =\\frac{\\frac{1}{n_{\\text {class}}} \\sum_{i=1}^{n} T P_{i}}{\\frac{1}{n_{\\text {class}}} \\sum_{i=1}^{n} T P_{i}+\\frac{1}{n_{\\text {class}}} \\sum_{i=1}^{n} F P_{i}}  \\\\ &amp;=\\frac{\\sum_{i=1}^{n} T P_{i}}{\\sum_{i=1}^{n} T P_{i}+\\sum_{i=1}^{n} F P_{i}} \\end{aligned} $$</p> <p>$$ {R_{\\text {micro}}=\\frac{\\overline{TP}}{\\overline{TP} + \\overline{F N}}=\\frac{\\sum_{i=1}^{n} T P_{i}}{\\sum_{i=1}^{n} T P_{i}+\\sum_{i=1}^{n} F N_{i}}} $$</p> <p>$$ {F_{\\text {micro}}=\\frac{2 \\times P_{\\text {micro}} \\times R_{\\text {micro}}}{P_{\\text {micro}}+R_{\\text {micro}}}} $$</p> <p>\u5728<code>sklearn</code>\u4e2d\uff0c<code>precision_score</code>\u3001<code>recall_score</code>\u548c<code>f1_score</code>\u4e09\u4e2a\u51fd\u6570\u7684\u63a5\u53e3\u662f\u4e00\u81f4\uff0c\u5b83\u4eec\u62e5\u6709\u76f8\u540c\u7684\u53c2\u6570\u3002</p> <pre><code>precision_score(y_true, y_pred,labels = None, pos_label = 1,\n                average ='binary', sample_weight = None)\n\nrecall_score(y_true, y_pred, labels=None, pos_label=1, \n             average='binary', sample_weight=None)\n\nf1_score(y_true, y_pred, labels=None, pos_label=1,\n         average='binary', sample_weight=None)\n</code></pre> <p><code>labels</code> :  <code>list</code>, optional\u3002\u53ef\u4ee5\u6392\u9664\u6570\u636e\u4e2d\u5b58\u5728\u7684label\uff0c\u800c\u5982\u679c\u8f93\u5165\u6570\u636e\u4e2d\u4e0d\u5b58\u5728\u7684label\uff0c\u5219\u4f1a\u4ee50\u586b\u5145\u5bf9\u5e94\u7684\u4f4d\u7f6e\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c<code>y_true</code>\u548c<code>y_pred</code>\u4e2d\u7684\u6240\u6709label\u4f1a\u81ea\u52a8\u6392\u5e8f\u3002</p> <p><code>pos_label</code> :  <code>str</code> or <code>int</code>, 1 by default\u3002\u5bf9\u4e8e\u4e8c\u5206\u7c7b\u6570\u636e\u6709\u6548\uff0c\u5982\u679c\u6570\u636e\u662f\u591a\u5206\u7c7b\u7684\uff0c\u8be5\u53c2\u6570\u5c06\u88ab\u5ffd\u7565\u3002</p> <p><code>average</code> :  <code>string, [None, 'binary' (default), 'micro', 'macro', 'samples','weighted']</code>\u3002\u5bf9\u4e8e\u591a\u7c7b\u3001\u591a\u6807\u7b7e\u6570\u636e\uff0c\u6b64\u53c2\u6570\u662f\u5fc5\u9700\u7684\u3002\u5982\u679c\u4e3a<code>None</code>\uff0c\u5219\u8fd4\u56de\u6bcf\u4e2a\u7c7b\u522b\u7684\u5206\u6570\u3002\u5426\u5219\u5c06\u6267\u884c\u6307\u5b9a\u7684\u5e73\u5747\u7c7b\u578b\u3002</p> <ol> <li> <p><code>'binary'</code>: \u4ec5\u8fd4\u56de<code>pos_label</code>\u7684\u5206\u6570\uff0c\u4ec5\u5f53\u4e8c\u5206\u7c7b\u65f6\u624d\u9002\u7528\u3002</p> </li> <li> <p><code>'micro'</code>: \u8fd4\u56demicro\u5e73\u5747\u3002</p> </li> <li> <p><code>'macro'</code>: \u8fd4\u56demacro\u5e73\u5747\uff08\u672a\u52a0\u6743\uff0c\u5373\u672a\u8003\u8651\u6570\u636e\u4e0d\u5e73\u8861\u7684\u95ee\u9898\uff09</p> </li> <li> <p><code>'weighted'</code>: \u52a0\u6743\u7684macro\u5e73\u5747\uff0c\u8003\u8651\u6570\u636e\u4e0d\u5e73\u8861\u7684\u95ee\u9898\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4F1\u4e0d\u5728precision\u548crecall\u4e4b\u95f4\u3002</p> </li> <li> <p><code>'samples'</code>: \u8ba1\u7b97\u6bcf\u4e2a\u5b9e\u4f8b\u7684\u6307\u6807\uff0c\u5e76\u627e\u5230\u5176\u5e73\u5747\u503c\uff0c\u4ec5\u5bf9\u4e8e\u591a\u6807\u7b7e\u5206\u7c7b\u6709\u610f\u4e49\u3002</p> </li> </ol> <p><code>sample_weight</code> : array-like of shape = [n_samples], optional\u3002Sample weights.</p> <p>\u5047\u8bbe\u73b0\u5728\u6709\u5982\u4e0b\u6570\u636e\uff1a</p> <pre><code>y_true = [0, 0, 0, 2, 1, 2, 0, 1, 1, 2]\ny_pred = [0, 0, 2, 1, 0, 2, 0, 2, 1, 2]\n</code></pre> <p>\u5bfc\u5165\u51fd\u6570\uff1a</p> <pre><code>from sklearn.metrics import precision_score\nfrom sklearn.metrics import recall_score\nfrom sklearn.metrics import f1_score\nfrom sklearn.metrics import confusion_matrix\n</code></pre> <p>\u5148\u8ba1\u7b97\u51fa\u6df7\u6dc6\u77e9\u9635\u5982\u4e0b\uff1a</p> <pre><code>confusion_matrix(y_true, y_pred, labels=[0,1,2])\n</code></pre> <pre><code>array([[3, 0, 1],\n       [1, 1, 1],\n       [0, 1, 2]], dtype=int64)\n</code></pre> <p>\u6839\u636e\u516c\u5f0f\uff0c\u5404\u5206\u7c7b\u7684\u6307\u6807\u8ba1\u7b97\u5982\u4e0b\uff1a $$ P_{0} = \\frac{\\text{\u6b63\u786e\u9884\u6d4b\u4e3a0\u7684\u6837\u672c\u4e2a\u6570}}{\\text{\u9884\u6d4b\u4e3a0\u7684\u6837\u672c\u4e2a\u6570}} = \\frac{3}{4} \\\\ R_{0} = \\frac{\\text{\u6b63\u786e\u9884\u6d4b\u4e3a0\u7684\u6837\u672c\u4e2a\u6570}}{\\text{\u771f\u5b9e\u4e3a0\u7684\u6837\u672c\u4e2a\u6570}} = \\frac{3}{4} \\\\ F_{0} = \\frac{2\\times P_{0}\\times R_{0}}{P_{0} + R_{0}} = \\frac{3}{4} $$</p> <p>$$ P_{1} = \\frac{\\text{\u6b63\u786e\u9884\u6d4b\u4e3a1\u7684\u6837\u672c\u4e2a\u6570}}{\\text{\u9884\u6d4b\u4e3a1\u7684\u6837\u672c\u4e2a\u6570}} = \\frac{1}{2} \\\\ R_{1} = \\frac{\\text{\u6b63\u786e\u9884\u6d4b\u4e3a1\u7684\u6837\u672c\u4e2a\u6570}}{\\text{\u771f\u5b9e\u4e3a1\u7684\u6837\u672c\u4e2a\u6570}} = \\frac{1}{3} \\\\ F_{1} = \\frac{2\\times P_{1}\\times R_{1}}{P_{1} + R_{1}} = \\frac{2}{5} $$</p> <p>$$ P_{2} = \\frac{\\text{\u6b63\u786e\u9884\u6d4b\u4e3a2\u7684\u6837\u672c\u4e2a\u6570}}{\\text{\u9884\u6d4b\u4e3a2\u7684\u6837\u672c\u4e2a\u6570}} = \\frac{2}{4} \\\\ R_{2} = \\frac{\\text{\u6b63\u786e\u9884\u6d4b\u4e3a2\u7684\u6837\u672c\u4e2a\u6570}}{\\text{\u771f\u5b9e\u4e3a2\u7684\u6837\u672c\u4e2a\u6570}} = \\frac{2}{3} \\\\ F_{2} = \\frac{2\\times P_{2}\\times R_{2}}{P_{2} + R_{2}} = \\frac{4}{7} $$</p> <p>\u5373</p> <p>$$ P_{0} = \\frac{3}{4}   P_{1}=\\frac{1}{2}   P_{2}=\\frac{1}{2} \\\\ R_{0} = \\frac{3}{4}   R_{1}=\\frac{1}{3}   R_{2}=\\frac{2}{3} \\\\ F_{0} = \\frac{3}{4}   F_{1}=\\frac{2}{5}   F_{2}=\\frac{4}{7} $$</p> <pre><code>precision_score(y_true, y_pred, average=None)\n</code></pre> <pre><code>array([0.75, 0.5 , 0.5 ])\n</code></pre> <pre><code>recall_score(y_true, y_pred, average=None)\n</code></pre> <pre><code>array([0.75, 0.33, 0.67])\n</code></pre> <pre><code>f1_score(y_true, y_pred, average=None)\n</code></pre> <pre><code>array([0.75, 0.4 , 0.57])\n</code></pre> <p>\u518d\u8ba1\u7b97Macro-averaging\u548cMicro-averaging\uff1a</p> <p>$$ P_{\\text {macro}} = \\frac{1}{3}\\times (\\frac{3}{4} + \\frac{1}{2} + \\frac{1}{2}) = 0.58 \\\\ R_{\\text {macro}} = \\frac{1}{3}\\times (\\frac{3}{4} + \\frac{1}{3} + \\frac{2}{3}) = 0.58 \\\\ F_{\\text {macro}} = \\frac{1}{3}\\times (\\frac{3}{4} + \\frac{2}{5} + \\frac{4}{7}) = 0.57 $$</p> <p>\u6ce8\u610f\uff1a\u5728<code>sklearn</code>\u4e2d\uff0c$F_\\text{macro}$\u548c$F_{\\text{mirco}}$\u7684\u8ba1\u7b97\u65b9\u5f0f\u90fd\u662f\u7b97\u672f\u5e73\u5747\uff0c\u5e76\u4e0d\u662f\u4e0a\u8ff0\u516c\u5f0f\u4e2d\u7684\u8c03\u548c\u5e73\u5747\u3002 </p> <pre><code>print( precision_score(y_true, y_pred, average='macro') )\nprint( recall_score(y_true, y_pred, average='macro') )\nprint( recall_score(y_true, y_pred, average='macro'))\n</code></pre> <pre><code>0.5833333333333334\n0.5833333333333334\n0.5833333333333334\n</code></pre> <p>$$ P_{\\text {micro}} = \\frac{3+1+2}{4+2+4} = 0.6 \\\\ R_{\\text {micro}} = \\frac{3+1+2}{4+3+3} = 0.6 \\\\ F_{\\text {micro}} = 0.6 $$</p> <pre><code>print( precision_score(y_true, y_pred, average='micro') )\nprint( recall_score(y_true, y_pred, average='micro') )\nprint( f1_score(y_true, y_pred, average='micro') )\n</code></pre> <pre><code>0.6\n0.6\n0.6\n</code></pre> <p>\u5728\u4e0a\u8ff0\u6570\u636e\u4e2d\uff0c\u5404\u5206\u7c7b\u7684\u6743\u91cd\u5206\u522b\u4e3a\uff1a<code>0</code>\u7c7b\uff1a4\u3001<code>1</code>\u7c7b\uff1a3\u3001<code>2</code>\u7c7b\uff1a3\uff0c\u603b\u6743\u91cd\u4e3a10\u3002\u90a3\u4e48\uff0c\u52a0\u6743\u7684macro\u5e73\u5747\u8ba1\u7b97\u5982\u4e0b\uff1a</p> <p>$$ P_{\\text {macro}} = \\frac{1}{10}\\times (\\frac{3}{4}\\times4 + \\frac{1}{2}\\times3 + \\frac{1}{2}\\times3) = 0.6 \\\\ R_{\\text {macro}} = \\frac{1}{10}\\times (\\frac{3}{4}\\times4 + \\frac{1}{3}\\times3 + \\frac{2}{3}\\times3) = 0.6 \\\\ F_{\\text {macro}} = \\frac{1}{10}\\times (\\frac{3}{4}\\times4 + \\frac{2}{5}\\times3 + \\frac{4}{7}\\times3) = 0.59 $$</p> <pre><code>print( precision_score(y_true, y_pred, average='weighted') )\nprint( recall_score(y_true, y_pred, average='weighted') )\nprint( f1_score(y_true, y_pred, average='weighted') )\n</code></pre> <pre><code>0.6\n0.6\n0.5914285714285714\n</code></pre>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#f-beta","title":"F-beta","text":"<p>$$ F_{\\beta} = \\frac{(1+\\beta^2)\\times P\\times R}{\\beta^2\\times P + R} $$</p> <pre><code>fbeta_score(y_true, y_pred, beta, labels=None, pos_label=1, average=\u2019binary\u2019, \n            sample_weight=None)\n</code></pre>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#_4","title":"\u663e\u793a\u4e3b\u8981\u7684\u5206\u7c7b\u6307\u6807","text":"<p><code>classification_report</code>\u51fd\u6570\u548c<code>precision_recall_fscore_support</code>\u51fd\u6570\u90fd\u53ef\u4ee5\u663e\u793a\u4e3b\u8981\u7684\u5206\u7c7b\u6307\u6807\u3002<code>classification_report</code>\u51fd\u6570\u66f4\u9f50\u5168\u548c\u65b9\u4fbf\u4e00\u4e9b\u3002</p> <p><code>classification_report</code></p> <pre><code>classification_report(y_true, y_pred, labels=None, target_names=None,\n                          sample_weight=None, digits=2, output_dict=False)\n\n- labels: \u9009\u62e9\u5c55\u793a\u5206\u6570\u4fe1\u606f\u7684\u7c7b\u522b\uff0c\u9ed8\u8ba4\u4e3aNone\uff0c\u5c55\u793a\u6240\u6709\u7c7b\u522b\n- target_names\uff1alabel\u7684\u522b\u540d\n- digits\uff1a\u5c0f\u6570\u7cbe\u5ea6\uff0c\u4ec5\u5f53output_dict=False\u65f6\u6709\u6548\n- output_dict\uff1a\u9ed8\u8ba4\u4e3aFalse\uff0c\u8fd4\u56de\u5b57\u7b26\u4e32\uff0c\u82e5\u4e3aTrue\uff0c\u8fd4\u56dedict\n</code></pre> <pre><code>from sklearn.metrics import classification_report\n\ny_true = [0, 0, 0, 2, 1, 2, 0, 1, 1, 2]\ny_pred = [0, 0, 2, 1, 0, 2, 0, 2, 1, 2]\n\nprint( classification_report(y_true, y_pred, target_names=[\"A\",\"B\",\"C\"]) )\n</code></pre> <pre><code>              precision    recall  f1-score   support\n\n           A       0.75      0.75      0.75         4\n           B       0.50      0.33      0.40         3\n           C       0.50      0.67      0.57         3\n\n    accuracy                           0.60        10\n   macro avg       0.58      0.58      0.57        10\nweighted avg       0.60      0.60      0.59        10\n</code></pre> <p><code>precision_recall_fscore_support</code></p> <pre><code>precision_recall_fscore_support(y_true, y_pred, beta=1.0,  \n                                labels=None, pos_label=1, average=None, \n                                warn_for=(\u2018precision\u2019, \u2019recall\u2019, \u2019f-score\u2019), \n                                sample_weight=None)\n</code></pre> <pre><code>from sklearn.metrics import precision_recall_fscore_support\n\ny_true = [0, 0, 0, 2, 1, 2, 0, 1, 1, 2]\ny_pred = [0, 0, 2, 1, 0, 2, 0, 2, 1, 2]\n\nprint(precision_recall_fscore_support(y_true, y_pred, average='macro'))\nprint(precision_recall_fscore_support(y_true, y_pred, average='micro'))\nprint(precision_recall_fscore_support(y_true, y_pred, average='weighted'))\n</code></pre> <pre><code>(0.5833333333333334, 0.5833333333333334, 0.5738095238095239, None)\n(0.6, 0.6, 0.6, None)\n(0.6, 0.6, 0.5914285714285714, None)\n</code></pre>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#p-r","title":"P-R\u66f2\u7ebf","text":"<pre><code>precision_recall_curve(y_true, probas_pred, pos_label=None, sample_weight=None)\n</code></pre> <pre><code>import numpy as np\nfrom sklearn.metrics import precision_recall_curve\n\ny_true = np.array([0, 0, 1, 1])\ny_scores = np.array([0.1, 0.4, 0.35, 0.8])\n\nprecision, recall, thresholds = precision_recall_curve(y_true, y_scores)\n# precision, recall, thresholds = precision_recall_curve(y_true, y_scores, \n#                                                        pos_label=0)\n\nprint(thresholds)\nprint(precision)\nprint(recall)\n</code></pre> <pre><code>[0.35 0.4  0.8 ]\n[0.67 0.5  1.   1.  ]\n[1.  0.5 0.5 0. ]\n</code></pre> <p>\u6709\u4e86\u5404\u4e2a\u9608\u503c\u6240\u5bf9\u5e94\u7684<code>precision</code>\u548c<code>recall</code>\u6570\u636e\uff0c\u53ef\u4ee5\u5feb\u901f\u7b2c\u7ed8\u5236\u4e00\u4e2a\u7b80\u5355\u7684P-R\u66f2\u7ebf\u56fe\uff1a</p> <p></p> <p><code>sklearn</code>\u63d0\u4f9b\u4e86<code>plot_precision_recall_curve</code>\u51fd\u6570\uff0c\u53ef\u4ee5\u5feb\u901f\u5730\u7ed8\u5236P-R\u66f2\u7ebf\u56fe\uff1a</p> <pre><code>plot_precision_recall_curve(estimator, X, y, sample_weight=None, \n                            response_method='auto', name=None, ax=None, kwargs)\n</code></pre> <pre><code>from sklearn.metrics import plot_precision_recall_curve\n\nfrom sklearn import svm, datasets\nfrom sklearn.model_selection import train_test_split\nimport numpy as np\nfrom sklearn.metrics import plot_precision_recall_curve\nimport matplotlib.pyplot as plt\n\niris = datasets.load_iris()\nX = iris.data\ny = iris.target\n\n# Add noisy features\nrandom_state = np.random.RandomState(0)\nn_samples, n_features = X.shape\nX = np.c_[X, random_state.randn(n_samples, 200 * n_features)]\n\n# Limit to the two first classes, and split into training and test\nX_train, X_test, y_train, y_test = train_test_split(X[y &lt; 2], y[y &lt; 2],\n                                                    test_size=.5,\n                                                    random_state=random_state)\n\n# Create a simple classifier\nclassifier = svm.LinearSVC(random_state=random_state)\nclassifier.fit(X_train, y_train)\ny_score = classifier.decision_function(X_test)\n\ndisp = plot_precision_recall_curve(classifier, X_test, y_test)\ndisp.ax_.set_title('2-class Precision-Recall curve')\n</code></pre> <pre><code>Text(0.5, 1.0, '2-class Precision-Recall curve')\n</code></pre> <p></p>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#roc","title":"ROC\u66f2\u7ebf","text":"<pre><code>roc_curve(y_true, y_score, pos_label=None, sample_weight=None, \n          drop_intermediate=True)\n</code></pre> <pre><code>import numpy as np\nfrom sklearn import metrics\n\ny = np.array([1, 1, 2, 2])\nscores = np.array([0.1, 0.4, 0.35, 0.8])\nfpr, tpr, thresholds = metrics.roc_curve(y, scores, pos_label=2)\n\nprint(thresholds)\nprint(fpr)\nprint(tpr)\n</code></pre> <pre><code>[1.8  0.8  0.4  0.35 0.1 ]\n[0.  0.  0.5 0.5 1. ]\n[0.  0.5 0.5 1.  1. ]\n</code></pre>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#auc","title":"\u8ba1\u7b97AUC","text":"<p>\u5728<code>sklearn</code>\u4e2d\uff0c\u8ba1\u7b97AUC\u6709\u4e24\u4e2a\u51fd\u6570\uff1a<code>auc</code>\u3001<code>roc_auc_score</code>\u3002<code>auc</code>\u662f\u4f7f\u7528\u68af\u5f62\u9762\u79ef\u516c\u5f0f\u8ba1\u7b97AUC\uff0c\u9700\u8981\u4f20\u5165<code>fpr</code>\u3001<code>tpr</code>\u53c2\u6570\uff1b\u800c<code>roc_auc_score</code>\u5219\u662f\u76f4\u63a5\u4f20\u5165<code>y_true</code>\u3001<code>y_score</code>\u53c2\u6570\u5c31\u53ef\u4ee5\u5f97\u51faAUC\u3002</p> <pre><code>roc_auc_score(y_true, y_score, average=\u2019macro\u2019, sample_weight=None, max_fpr=None)\n</code></pre> <pre><code>auc(x, y, reorder=\u2019deprecated\u2019)\n</code></pre> <pre><code>import numpy as np\nfrom sklearn.metrics import roc_auc_score\ny_true = np.array([0, 0, 1, 1])\ny_scores = np.array([0.1, 0.4, 0.35, 0.8])\nroc_auc_score(y_true, y_scores)\n</code></pre> <pre><code>0.75\n</code></pre> <pre><code>import numpy as np\nfrom sklearn import metrics\ny = np.array([1, 1, 2, 2])\npred = np.array([0.1, 0.4, 0.35, 0.8])\nfpr, tpr, thresholds = metrics.roc_curve(y, pred, pos_label=2)\nmetrics.auc(fpr, tpr)\n</code></pre> <pre><code>0.75\n</code></pre>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#average-precision","title":"Average Precision","text":"<pre><code>average_precision_score(y_true, y_score, average='macro', pos_label=1, \n                        sample_weight=None)\n</code></pre> <p>$$ \\text{AP} = \\sum_n (R_n - R_{n-1}) P_n $$</p> <p>\u5176\u4e2d\uff0c$P_n$ \u548c $R_n$ \u662f\u7b2c$n$\u4e2a\u9608\u503c\u5904\u7684precision\u548crecall\u3002</p> <p></p> <p>\u8be5\u8ba1\u7b97\u516c\u5f0f\u4e0e\u4f7f\u7528\u68af\u5f62\u516c\u5f0f\u7cbe\u786e\u8ba1\u7b97\u66f2\u7ebf\u4e0b\u7684\u9762\u79ef\u4e0d\u540c\u3002\u5b9e\u9645\u4e0a\uff0c\u5982\u679c\u5728\u8fde\u7eed\u7684\u573a\u5408\uff0c\u8be5\u516c\u5f0f\u5c31\u662f\u4e00\u4e2a\u5b9a\u79ef\u5206\u3002\u5728sklearn\u4e2d\uff0c\u6b64\u5b9e\u73b0\u672a\u8fdb\u884c\u63d2\u503c\uff0c\u56e0\u4e3a\u4f7f\u7528\u7ebf\u6027\u63d2\u503c\u53ef\u80fd\u4f7f\u7ed3\u679c\u8fc7\u4e8e\u4e50\u89c2\u3002</p> <p>\u6ce8\u610f\uff1a\u6b64\u5b9e\u73b0\u4ec5\u9650\u4e8e\u4e8c\u5206\u7c7b\u4efb\u52a1\u6216\u8005 multilabel classification\u4efb\u52a1\u3002</p>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#brier-score","title":"brier score","text":"<pre><code>brier_score_loss(y_true, y_prob, sample_weight=None, pos_label=None)\n</code></pre> <p>Brier\u5206\u6570\u6700\u5e38\u89c1\u7684\u8868\u8ff0\u662f</p> <p>$$ B S=\\frac{1}{N} \\sum_{t=1}{N}\\left(f_{t}-o_{t}\\right) $$</p> <p>\u5176\u4e2d\uff0c$f_{t}$\u662f\u88ab\u9884\u6d4b\u7684\u6982\u7387\uff0c$o_{t}$\u662f\u4e8b\u4ef6\u5728$t$\u65f6\u523b\u7684\u5b9e\u9645\u7ed3\u679c\uff08$o_{t}=0$ \u4e8b\u4ef6\u6ca1\u6709\u53d1\u751f\uff0c$o_{t}=1$ \u4e8b\u4ef6\u53d1\u751f\uff09\uff0c$N$\u662f\u9884\u6d4b\u5b9e\u4f8b\u6570\u3002\u5b9e\u9645\u4e0a\uff0cBrier\u5206\u6570\u5c31\u662f\u6240\u6709\u6837\u672c\u7684\u9884\u6d4b\u6982\u7387\u4e0e\u5b9e\u9645\u7ed3\u679c\u4e4b\u95f4\u7684\u5747\u65b9\u5dee\u3002 Brier\u5206\u6570\u8d8a\u5c0f\u8d8a\u597d\uff0c\u56e0\u6b64\u547d\u540d\u4e3a\u201c loss\u201d\u3002Brier\u5206\u6570\u7684\u53d6\u503c\u8303\u56f4\u57280\u52301\u4e4b\u95f4\u3002\u6b64\u516c\u5f0f\u4e3b\u8981\u7528\u4e8e\u4e8c\u5206\u7c7b\u4efb\u52a1\uff0c\u4f46 Brier \u5206\u6570\u7684\u539f\u59cb\u5b9a\u4e49\u662f\u9002\u7528\u4e8e\u591a\u5206\u7c7b\u4efb\u52a1\u7684\u3002</p> <pre><code>from sklearn.metrics import brier_score_loss\n\ny_true = [0, 1, 1]\ny_prob = [1, 1, 1]\n\n# pos_label\u6307\u660e\u4e86y_prob\u662f\u54ea\u4e2alabel\u7684\u6982\u7387\nbrier_score_loss(y_true, y_prob, sample_weight=None, pos_label=1)\n</code></pre> <pre><code>0.3333333333333333\n</code></pre>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#cohen-kappa-score","title":"cohen kappa score","text":""},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#dcg-score","title":"dcg score","text":""},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#hamming-loss","title":"hamming loss","text":"<pre><code>hamming_loss(y_true, y_pred, labels=None, sample_weight=None)\n</code></pre> <p>$$ \\text{Hamming Loss}=\\frac{1}{N}\\sum_{i=1}^N\\frac{\\text{XOR}(Y_{i,j}, P_{i,j})}{L} $$</p> <p>$N$ \u662f\u6837\u672c\u7684\u6570\u91cf\uff0c$L$ \u662f\u6807\u7b7e\u7684\u4e2a\u6570\uff0c$Y_{i,j}$ \u662f\u7b2c$i$\u4e2a\u9884\u6d4b\u7ed3\u679c\u4e2d\u7b2c$j$\u4e2a\u5206\u91cf\u7684\u771f\u5b9e\u503c\uff0c$P_{i,j}$ \u662f\u7b2c$i$\u4e2a\u9884\u6d4b\u7ed3\u679c\u4e2d\u7b2c$j$\u4e2a\u5206\u91cf\u7684\u9884\u6d4b\u503c\uff0c$\\text{XOR}$\u662f\u6291\u6216\uff0c$\\text{XOR}(0,1)=\\text{XOR}(1,0)=1$\uff0c$\\text{XOR}(0,0)=\\text{XOR}(1,1)=0$\u3002</p> <p>Hamming Loss\u662f\u7528\u6765\u8ba1\u7b97\u591a\u6807\u7b7e\u5206\u7c7b (Multi-label classification) \u6a21\u578b\u7cbe\u5ea6\u7684\u3002</p> <p>\u5728multiclass\u4efb\u52a1\u4e2d, Hamming loss \u7b49\u4ef7\u4e8e zero_one_loss\uff08<code>normalize=True</code> \uff09 \u3002</p> <p>\u5728multilabel\u4efb\u52a1\u4e2d, Hamming loss \u548c zero-one loss \u6709\u70b9\u4e0d\u540c\u3002zero-one loss\u4f1a\u8003\u8651\u6837\u672c\u771f\u5b9elabel\u7684\u96c6\u5408\u548c\u9884\u6d4blabel\u7684\u96c6\u5408\u662f\u5426\u5b8c\u5168\u4e00\u81f4\u3002\u53ea\u6709\u5b8c\u5168\u4e00\u81f4\u65f6\uff0czero-one loss \u4e3a0\u3002\u4f46 Hamming loss \u5219\u6ca1\u6709\u8fd9\u4e48\u4e25\u683c\uff0c\u5b83\u53ea\u60e9\u7f5a\u5355\u4e2a\u6807\u7b7e\u3002</p> <p>Hamming loss \u662f zero-one loss\uff08<code>normalize=True</code> \uff09\u7684\u4e0a\u9650\uff0cHamming loss\u7684\u503c\u603b\u662f\u4f4d\u4e8e0\u548c1\u4e4b\u95f4\u3002</p> <p>\u4f8b\u5b50\uff1a\u4e09\u4e2a\u6837\u672c</p> <p>$$ Y_{1}=(0,1,1,1,0), P_{1}=(1,1,1,0,0) $$</p> <p>$$ Y_{2}=(1,0,0,1,1), P_{2}=(1,0,0,0,1) $$</p> <p>$$ Y_{3}=(1,1,0,0,0), P_{3}=(1,0,1,0,1) $$</p> <p>$$ \\text{HammingLoss}=\\frac{1}{3}\\times\\frac{2+1+3}{5}=0.4 $$</p> <pre><code>from sklearn.metrics import hamming_loss\nimport numpy as np\n\ny_true = np.array([[0, 1], [1, 1]])\ny_pred = np.zeros((2, 2))\nprint(y_true,\"\\n\")\nprint(y_pred)\n\n# \u4e00\u51712\u4e2a\u6837\u672c \u6bcf\u4e2a\u6837\u672c\u67092\u4e2alabel\n# \u53ea\u67091\u4e2alabel\u9884\u6d4b\u6b63\u786e \ud83d\udc49 \u56e0\u6b64 loss = 3/4\nhamming_loss(y_true, y_pred)\n</code></pre> <pre><code>[[0 1]\n [1 1]]\n\n[[0. 0.]\n [0. 0.]]\n</code></pre> <pre><code>0.75\n</code></pre>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#hinge-loss","title":"Hinge loss","text":"<p>https://zh.wikipedia.org/wiki/Hinge_loss</p>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#jaccard-score","title":"jaccard score","text":"<pre><code>jaccard_score(y_true, y_pred, labels=None, pos_label=1, \n              average='binary', sample_weight=None)\n</code></pre> <p>\u6570\u5b66\u5b9a\u4e49\u53c2\u8003\u4e8estatisticshowto-accardindex\u3002</p> <p><code>jaccard_similarity_score</code>\u51fd\u6570\u4f1a\u8ba1\u7b97\u4e24\u5bf9label\u96c6\u4e4b\u95f4\u7684Jaccard\u76f8\u4f3c\u5ea6\u7cfb\u6570\u7684\u5e73\u5747\u503c\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff09\u6216\u603b\u548c\u3002\u5b83\u4e5f\u88ab\u79f0\u4e3aJaccard index\u3002</p> <p>\u7b2c$i$\u4e2a\u6837\u672c\u7684Jaccard\u76f8\u4f3c\u5ea6\u7cfb\u6570\uff08Jaccard similarity coefficient\uff09\uff0c\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <p>$$ J(y_i, \\hat{y}_i) = \\frac{|y_i \\cap \\hat{y}_i|}{|y_i \\cup \\hat{y}_i|}. $$</p> <p>\u5176\u4e2d\uff0c\u771f\u5b9e\u6807\u7b7e\u96c6\u4e3a$y_i$\uff0c\u9884\u6d4b\u6807\u7b7e\u96c6\u4e3a\uff1a$\\hat{y}_j$\u3002</p> <p>\u4e8c\u5206\u7c7b\u7684\u60c5\u51b5\uff1a</p> <pre><code>from sklearn.metrics import jaccard_score\n\ny_true = [0, 1, 1]\ny_pred = [1, 1, 1]\n\n# (0/2 + 1/1 + 1/1)*(1/3) = 2/3\nprint(jaccard_score(y_true, y_pred, pos_label=1))\n# (0/2)*(1/1) = 0\nprint(jaccard_score(y_true, y_pred, pos_label=0))\n</code></pre> <pre><code>0.6666666666666666\n0.0\n</code></pre> <p>multilabel\u7684\u60c5\u51b5:</p> <pre><code>import numpy as np\n\ny_true = np.array([[0, 1, 1],\n                   [1, 1, 0]])\ny_pred = np.array([[1, 1, 1],\n                   [1, 0, 0]])\n\nprint(jaccard_score(y_true, y_pred, average='samples')) # 0.5833333333333333\n# a = jaccard_score(y_true[0], y_pred[0], pos_label=1)\n# b = jaccard_score(y_true[1], y_pred[1], pos_label=1)\n# (a+b)/2 = 0.5833333333333333\n\nprint(jaccard_score(y_true, y_pred, average='macro')) # 0.6666666666666666\n# label\u95ee\u9898\u8f6c\u6362\u4e3a3\u4e2a\u4e8c\u5206\u7c7b\n# (1/2 + 1/2 + 1/1)/3 = 0.6666666666666666\n\nprint(jaccard_score(y_true, y_pred, average='micro')) # 0.6\n# label\u95ee\u9898\u8f6c\u6362\u4e3a3\u4e2a\u4e8c\u5206\u7c7b\n# (1 + 1 + 1) / (2 + 2 + 1) = 0.6\n\nprint(jaccard_score(y_true, y_pred, average=None))\n</code></pre> <pre><code>0.5833333333333333\n0.6666666666666666\n0.6\n[0.5 0.5 1. ]\n</code></pre> <p>\u591a\u5206\u7c7b\u7684\u60c5\u51b5:</p> <pre><code>y_pred = [0, 2, 1, 2]\ny_true = [0, 1, 2, 2]\n\n# \u591a\u5206\u7c7b average \u53c2\u6570\u4e0d\u80fd\u4f7f\u7528 \u2018samples\u2019 \nprint(jaccard_score(y_true, y_pred, average=None))\n\nprint(jaccard_score(y_true, y_pred, average=\"macro\")) # 0.4444444444444444\n# sum(jaccard_score(y_true, y_pred, average=None))/3\n\nprint(jaccard_score(y_true, y_pred, average=\"micro\")) # 0.3333333333333333\n# \u7b2c\u4e00\u4e2a\u5206\u7c7b 0 \u5339\u914d 1\u4e2a \u57fa\u6570\u4e3a1\n# \u7b2c\u4e8c\u4e2a\u5206\u7c7b 1 \u5339\u914d 0\u4e2a \u57fa\u6570\u4e3a2\n# \u7b2c\u4e8c\u4e2a\u5206\u7c7b 3 \u5339\u914d 1\u4e2a \u57fa\u6570\u4e3a3\n# (1+0+1)/(1+2+3) = 0.3333333333333333\n</code></pre> <pre><code>[1.   0.   0.33]\n0.4444444444444444\n0.3333333333333333\n</code></pre>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#log-loss","title":"log loss","text":"<pre><code>log_loss(y_true, y_pred, eps=1e-15, normalize=True, sample_weight=None,\n         labels=None)\n</code></pre> <p>Log loss\u4e5f\u88ab\u79f0\u4e3a logistic \u56de\u5f52\u635f\u5931\uff0c\u6216\u8005\u4ea4\u53c9\u71b5\u635f\u5931(cross-entropy loss)\uff0c\u7528\u4e8e\u6982\u7387\u4f30\u8ba1\u3002\u5b83\u901a\u5e38\u7528\u5728(multinomial)\u7684LR\u548c\u795e\u7ecf\u7f51\u7edc\u4e0a\uff0c\u4ee5\u6700\u5927\u671f\u671b\uff08EM: expectation-maximization\uff09\u7684\u53d8\u79cd\u7684\u65b9\u5f0f\uff0c\u7528\u4e8e\u8bc4\u4f30\u4e00\u4e2a\u5206\u7c7b\u5668\u7684\u6982\u7387\u8f93\u51fa\uff0c\u800c\u975e\u8fdb\u884c\u79bb\u6563\u9884\u6d4b\u3002</p> <p>\u5bf9\u4e8e\u4e8c\u5206\u7c7b\uff0c\u771f\u5b9e\u7c7b\u522b\u4e3a\uff1a$y\u2208{0,1}$\uff0c\u6982\u7387\u4f30\u8ba1\u4e3a\uff1a$p=P(y=1)$\u3002\u5355\u4e2a\u6837\u672c\u7684log loss\u4e3a\uff1a</p> <p>$$ L_{\\log}(y, p) = -\\log \\operatorname{P}(y|p) = -\\left( y \\log (p) + (1 - y) \\log (1 - p) \\right) $$</p> <p>\u4e5f\u5c31\u662f\uff1a</p> <p>$$ L_{\\log}(y, p) =  \\begin{cases} -\\log(p) &amp;, \\text{if}  y=1 \\\\ -\\log(1-p) &amp;, \\text{if}  y=0 \\\\ \\end{cases} $$</p> <p>\u4e0b\u9762\u4e24\u5e45\u56fe\u5c55\u793a\u4e86\u771f\u5b9e\u7c7b\u522b\u4e3a1\u548c0\u65f6\uff0cLog Loss\u53d6\u503c\u968f\u7740 $p$ \u589e\u5927\u7684\u53d8\u5316\u8d8b\u52bf\u3002\u663e\u7136\uff0c\u5f53\u771f\u5b9e\u7c7b\u522b\u4e3a1\uff0c$p$\u8d8a\u5927\uff0c\u635f\u5931\u5e94\u8be5\u8d8a\u5c0f\uff1b\u5f53\u771f\u5b9e\u7c7b\u522b\u4e3a0\uff0c$p$\u8d8a\u5927\uff0c\u635f\u5931\u5e94\u8be5\u8d8a\u5927\u3002</p> <p></p> <p>\u5f53\u6269\u5c55\u5230\u591a\u5143\u5206\u7c7b\uff08multiclass\uff09\u65f6\u3002\u53ef\u4ee5\u5c06\u6837\u672c\u7684 true label \u7f16\u7801\u6210 1-of-K \u4e2a\u4e8c\u5143\u6307\u793a\u5668\u77e9\u9635$Y$\uff0c\u5982\u679c\u4ecelabel K\u96c6\u5408\u4e2d\u53d6\u51fa\u7684\u6837\u672ci\uff0c\u5bf9\u5e94\u7684label\u4e3ak\uff0c\u5219$y_{i,k}=1$\uff0c$P$\u4e3a\u6982\u7387\u4f30\u8ba1\u77e9\u9635\uff0c$p_{i,k} = \\operatorname{P}(t_{i,k} = 1)$\u3002\u6574\u4e2a\u96c6\u5408\u7684log loss\u8868\u793a\u5982\u4e0b\uff1a $$ L_{\\log}(Y, P) = -\\log \\operatorname{P}(Y|P) = - \\frac{1}{N} \\sum_{i=0}^{N-1} \\sum_{k=0}^{K-1} y_{i,k} \\log p_{i,k} $$</p> <pre><code>from sklearn.metrics import log_loss\nimport numpy as np\n\ny_true = [1,   0,   1,    0]\ny_pred = [0.8, 0.2, 0.85, 0.6]\n\nloss_1 = log_loss(y_true, y_pred, normalize=False)\nloss_2 = - np.log(0.8) - np.log(0.8) - np.log(0.85) - np.log(0.4)\nprint(\"loss_1:\", loss_1)\nprint(\"loss_2:\", loss_2)\n\nloss_1 = log_loss(y_true, y_pred, normalize=True)\nloss_2 = (- np.log(0.8) - np.log(0.8) - np.log(0.85) - np.log(0.4))/4\nprint(\"loss_1:\", loss_1)\nprint(\"loss_2:\", loss_2)\n</code></pre> <pre><code>loss_1: 1.5250967640003492\nloss_2: 1.5250967640003492\nloss_1: 0.3812741910000873\nloss_2: 0.3812741910000873\n</code></pre>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#matthews-corrcoef","title":"matthews corrcoef","text":"<p>http://d0evi1.com/sklearn/model_evaluation/</p>"},{"location":"Python3/scikit-learn/11.2.%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87.html#zero-one-loss","title":"zero one loss","text":"<pre><code>zero_one_loss(y_true, y_pred, normalize=True, sample_weight=None)\n</code></pre> <p>0-1\u635f\u5931\u5f88\u7b80\u5355\uff0c\u5982\u679c\u5404\u4e2a\u6837\u672c\u6743\u91cd\u76f8\u7b49\uff0c\u90a3\u4e48\u635f\u5931\u5c31\u662f\u771f\u5b9e\u503c\u548c\u9884\u6d4b\u503c\u4e0d\u76f8\u7b49\u7684\u4e2a\u6570\u6c42\u548c\u3002</p> <p></p> <p>\u4f46\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c<code>zero_one_loss</code>\u7684\u7ed3\u679c\u4f1a\u8fdb\u884c\u5f52\u4e00\u5316\u5904\u7406\uff1a</p> <p></p> <p>\u5176\u4e2d\uff0c$w_i$\u662f\u6743\u91cd\u3002</p> <pre><code>from sklearn.metrics import zero_one_loss\n\ny_true = [0, 1, 0, 0, 1, 0]\ny_pred = [0, 1, 0, 0, 0, 1]\nweight = [1, 1, 1, 1, 1, 2]\n\nprint(zero_one_loss(y_true, y_pred, normalize=False, sample_weight=weight))\nprint(zero_one_loss(y_true, y_pred, normalize=True, sample_weight=weight))\n</code></pre> <pre><code>3\n0.4285714285714286\n</code></pre> <p>\u5982\u679c\u662f multilabel \u5206\u7c7b\u4efb\u52a1\uff0c\u771f\u5b9e\u503c\u7684label\u548c\u9884\u6d4b\u503c\u7684label\u8981\u4e25\u683c\u5339\u914d\uff0c0-1\u635f\u5931\u624d\u4e3a0\u3002</p> <pre><code>y_true = [[0,1,1],[1,1,0],[1,0,0]]\ny_pred = [[0,1,1],[0,1,1],[1,0,1]]\nzero_one_loss(y_true, y_pred, normalize=False)\n</code></pre> <pre><code>2\n</code></pre>"},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html","title":"11.5.\u62c6\u5206\u6570\u636e","text":"<pre><code>from toolkit import H\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom matplotlib.patches import Patch\nimport matplotlib\nmatplotlib.rcParams['font.family'] = \"SIMHEI\"  # \u7528\u6765\u6b63\u5e38\u663e\u793a\u4e2d\u6587\u6807\u7b7e\nmatplotlib.rcParams['axes.unicode_minus'] = False  # \u7528\u6765\u6b63\u5e38\u663e\u793a\u8d1f\u53f7\n\nfrom sklearn.model_selection import (KFold, GroupKFold, StratifiedKFold, \n                                     RepeatedKFold, RepeatedStratifiedKFold,\n                                     LeaveOneOut, LeavePOut, LeaveOneGroupOut,\n                                     LeavePGroupsOut, PredefinedSplit,\n                                     ShuffleSplit, GroupShuffleSplit,\n                                     StratifiedShuffleSplit, TimeSeriesSplit)\n</code></pre> <pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.05.04\nsklearn version:  0.22.1\n</code></pre>"},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#_1","title":"\u62c6\u5206\u6570\u636e\u96c6","text":""},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#train_test_split","title":"<code>train_test_split</code>\uff1a\u7b80\u5355\u62c6\u5206","text":"<p>\u62c6\u5206\u51fd\u6570\uff08Splitter Functions\uff09<code>train_test_split()</code>\u53ef\u4ee5\u5b9e\u73b0\u7b80\u5355\u62c6\u5206\u3002</p> <pre><code>from sklearn.model_selection import train_test_split\n</code></pre> <pre><code>train_test_split(*arrays, test_size=None, train_size=None, \n                 random_state=None, shuffle=True, stratify=None)\n</code></pre> <ol> <li> <p><code>test_size</code>\uff1a\u5982\u679c\u4e3a<code>float</code>\uff0c\u5219\u5e94\u4ecb\u4e8e0.0\u548c1.0\u4e4b\u95f4\uff0c\u8868\u793a\u6d4b\u8bd5\u96c6\u6bd4\u4f8b\u3002\u5982\u679c\u662f<code>int</code>\uff0c\u5219\u8868\u793a\u6d4b\u8bd5\u6837\u672c\u7684\u7edd\u5bf9\u6570\u91cf\u3002\u5982\u679c\u4e3a<code>None</code>\uff0c\u5219\u5c06\u8be5\u503c\u8bbe\u7f6e\u4e3a\u8bad\u7ec3\u96c6\u6bd4\u5217\u7684\u8865\u7801\u3002\u5982\u679c<code>train_size=None</code>\uff0c\u5219\u9ed8\u8ba4\u503c\u4e3a0.25\u3002</p> </li> <li> <p><code>train_size</code>\uff1a\u5982\u679c\u4e3a<code>float</code>\uff0c\u5219\u5e94\u4ecb\u4e8e0.0\u548c1.0\u4e4b\u95f4\uff0c\u8868\u793a\u8bad\u7ec3\u96c6\u6bd4\u4f8b\u3002\u5982\u679c\u662f<code>int</code>\uff0c\u5219\u8868\u793a\u8bad\u7ec3\u6837\u672c\u7684\u7edd\u5bf9\u6570\u91cf\u3002\u5982\u679c\u4e3a<code>None</code>\uff0c\u5219\u5c06\u8be5\u503c\u8bbe\u7f6e\u4e3a\u6d4b\u8bd5\u96c6\u6bd4\u5217\u7684\u8865\u7801\u3002</p> </li> <li> <p><code>random_state</code>\uff1a\u968f\u673a\u79cd\u5b50\u3002</p> </li> <li> <p><code>shuffle</code>\uff1a<code>boolean</code>\uff0c\u62c6\u5206\u6570\u636e\u96c6\u4e4b\u524d\u662f\u5426\u5bf9\u6570\u636e\u8fdb\u884c\u6df7\u6d17\u3002</p> </li> <li> <p><code>stratify</code>\uff1a\u5206\u5c42\u53c2\u6570\u3002\u5982\u679c\u4e0d\u662fNone\uff0c\u5219\u4ee5\u5206\u5c42\u65b9\u5f0f\u62c6\u5206\u6570\u636e\uff0c\u5e76\u5c06\u5176\u7528\u4f5c\u7c7b\u6807\u7b7e\u3002stratify\u7684array\u4e0ey\u7684array\u4e00\u4e00\u5bf9\u5e94\u3002</p> </li> </ol> <pre><code>data = np.arange(1,11)\nx_train, x_test = train_test_split(data, test_size=0.3, shuffle=False)\n\n# shuffle=False\nnum = 3\nfig, axs = plt.subplots(num, 1, sharex=True, sharey=True, figsize=(8, 0.5*num))\nfor i in range(num):\n    x_train, x_test = train_test_split(data, test_size=0.3, shuffle=False)\n    axs[i].spines['left'].set_color('none')\n    axs[i].spines['right'].set_color('none')\n    axs[i].spines['top'].set_color('none')\n    axs[i].spines['bottom'].set_color('none')\n    axs[i].plot(x_train,np.full(7, 0),'o',label=\"train\")\n    axs[i].plot(x_test,np.full(3, 0),'o',label=\"test\")\n    axs[i].xaxis.set_ticks_position('none')\n    axs[i].set_yticks([])\n    axs[i].set_ylabel(f\"\u7b2c{i+1}\u6b21\u5212\u5206\",  fontsize=13, rotation=0, labelpad=18,\n                      position=(0,0.25))\naxs[i].xaxis.set_ticks_position('bottom')\naxs[i].set_xticks(np.hstack((x_train, x_test)))\nplt.xticks(fontsize=13)\nplt.legend(loc='upper right', bbox_to_anchor=(0.7, 4.5), ncol=2, \n           fontsize=13, framealpha=0.5)\nplt.savefig(r\".\\markdown\\figures\\train_test_split_no_shuffle.svg\", dpi=600, \n            bbox_inches = 'tight')\nplt.show()\n</code></pre> <p></p> <pre><code># shuffle=True    \nnum = 3\nfig, axs = plt.subplots(num, 1, sharex=True, sharey=True, figsize=(8, 0.5*num))\nfor i in range(num):\n    x_train, x_test = train_test_split(data, test_size=0.3, shuffle=True)\n    axs[i].spines['left'].set_color('none')\n    axs[i].spines['right'].set_color('none')\n    axs[i].spines['top'].set_color('none')\n    axs[i].spines['bottom'].set_color('none')\n    axs[i].plot(x_train,np.full(7, 0),'o',label=\"train\")\n    axs[i].plot(x_test,np.full(3, 0),'o',label=\"test\")\n    axs[i].xaxis.set_ticks_position('none')\n    axs[i].set_yticks([])\n    axs[i].set_ylabel(f\"\u7b2c{i+1}\u6b21\u5212\u5206\",  fontsize=13, rotation=0, labelpad=18,\n                      position=(0,0.25))\naxs[i].xaxis.set_ticks_position('bottom')\naxs[i].set_xticks(np.hstack((x_train, x_test)))\nplt.xticks(fontsize=13)\nplt.legend(loc='upper right', bbox_to_anchor=(0.7, 4.5), ncol=2, \n           fontsize=13, framealpha=0.5)\nplt.savefig(r\".\\markdown\\figures\\train_test_split_shuffle.svg\", dpi=600, \n            bbox_inches = 'tight')\nplt.show()\n</code></pre> <p></p>"},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#_2","title":"\u62c6\u5206\u5668\u53ef\u89c6\u5316","text":"<p>sklearn \u63d0\u4f9b\u4e86\u5982\u4e0b15\u4e2a\u62c6\u5206\u5668\uff0c\u6bcf\u4e2a\u62c6\u5206\u5668\u8c03\u7528<code>split()</code>\u793a\u4f8b\u65b9\u6cd5\u5b8c\u6210\u62c6\u5206\u3002\u6240\u6709\u62c6\u5206\u5668\u7684<code>split()</code>\u65b9\u6cd5\u90fd\u6709\u4e09\u4e2a\u53c2\u6570\uff1a<code>X</code>\u3001<code>y</code>\u3001<code>groups</code>\uff0c\u4f46<code>groups</code>\u5e76\u4e0d\u662f\u5bf9\u6240\u6709\u62c6\u5206\u5668\u90fd\u8d77\u4f5c\u7528\uff0c\u6709\u4e9b\u62c6\u5206\u5668\u7684<code>split()</code>\u65b9\u6cd5\u6709<code>groups</code>\u53c2\u6570\u53ea\u662f\u4e3a\u4e86\u517c\u5bb9\u6027\uff0c\u8be5\u53c2\u6570\u662f\u65e0\u6548\u7684\u3002</p> <p>\u4e3a\u4e86\u4e86\u89e3\u8fd9\u4e9b\u62c6\u5206\u5668\u7684\u7528\u6cd5\uff0c\u9700\u8981\u4e86\u89e3\u4ee5\u4e0b\u56db\u4e2a\u57fa\u672c\u6982\u5ff5\uff1a</p> <ol> <li>n_splits\uff1a\u6570\u636e\u96c6\u62c6\u5206\u6210 n_splits \u4e2a\u4e92\u65a5\u7684\u5b50\u96c6\uff0c\u6bcf\u4e2a\u5b50\u96c6\u4f9d\u6b21\u4f5c\u4e3a\u6d4b\u8bd5\u96c6\uff0c\u6240\u4ee5\u4f1a\u8fd4\u56de n_splits \u4e2a\u7ed3\u679c\u3002</li> <li>groups\uff1a\u6bcf\u4e2a\u6837\u672c\u90fd\u6709\u4e00\u4e2a\u5206\u7ec4\uff0c\u76f8\u540c\u7ec4\u522b\u7684\u6837\u672c\u88ab\u5728\u540c\u4e00\u4e2a\u62c6\u5206\u5b50\u96c6\u3002</li> <li>stratified\uff1a\u6837\u672c\u6709\u4e0d\u540c\u7684\u7c7b\u522b $y$\uff0c\u6bcf\u4e2a\u62c6\u5206\u5b50\u96c6\u5c3d\u91cf\u4fdd\u6301\u4e0e\u603b\u4f53\u76f8\u540c\u7684\u7c7b\u522b\u6bd4\u4f8b\u3002</li> <li>shuffle\uff1a\u968f\u673a\u6311\u9009\u6837\u672c\u8fdb\u62c6\u5206\u7ec4\u3002</li> </ol> \u8bf4\u660e \u7c7b\u53c2\u6570 split\u65b9\u6cd5\u7684\u53c2\u6570 K\u6298\u62c6\u5206 KFold(n_splits, shuffle, random_state) X, y, groups K \u7ec4\u62c6\u5206 GroupKFold(n_splits) X, y, groups \u5206\u5c42K\u6298\u62c6\u5206 StratifiedKFold(n_splits, shuffle, random_state) X, y, groups \u91cd\u590dK\u6298\u62c6\u5206 RepeatedKFold(n_splits, n_repeats, random_state) X, y, groups \u91cd\u590d\u5206\u5c42K\u6298\u62c6\u5206 RepeatedStratifiedKFold(n_splits, n_repeats, random_state) X, y, groups \u7559\u4e00\u62c6\u5206 LeaveOneOut() X, y, groups \u7559P\u62c6\u5206 LeavePOut(p) X, y, groups \u7559\u4e00\u7ec4 LeaveOneGroupOut() X, y, groups \u7559P\u7ec4 LeavePGroupsOut(n_groups) X, y, groups \u9884\u5b9a\u4e49\u62c6\u5206 PredefinedSplit(test_fold) X, y, groups \u968f\u673a\u62c6\u5206 ShuffleSplit(n_splits=10, test_size, train_size, random_state) X, y, groups \u5206\u7ec4\u968f\u673a\u62c6\u5206 GroupShuffleSplit(n_splits, test_size, train_size, random_state) X, y, groups \u5206\u5c42\u5206\u7ec4\u968f\u673a\u62c6\u5206 StratifiedShuffleSplit(n_splits=10, test_size, train_size, random_state) X, y, groups \u65f6\u5e8f\u62c6\u5206 TimeSeriesSplit(n_splits, max_train_size) X, y, groups <p>\u521b\u5efa\u793a\u4f8b\u6570\u636e\uff1a</p> <pre><code>np.random.seed(123)\ncmap_data = plt.cm.Paired\ncmap_cv = plt.cm.coolwarm\nn_splits = 4 # \u62c6\u5206\u62104\u7ec4\n\n# Generate the class/group data\nsample_num = 100 # \u4e00\u767e\u4e2a\u6837\u672c\nX = np.random.randn(sample_num, 10)\n\npercentiles_classes = [.1, .3, .6]\ny = np.hstack([[ii] * int(100 * perc)\n               for ii, perc in enumerate(percentiles_classes)])\n\n# Evenly spaced groups repeated once\ngroups = np.hstack([[ii] * 10 for ii in range(10)])\n\ndef visualize_groups(classes, groups, name):\n    # Visualize dataset groups\n    fig, ax = plt.subplots()\n    ax.scatter(range(len(groups)),  [.5] * len(groups), c=groups, marker='_',\n               lw=50, cmap=cmap_data)\n    ax.scatter(range(len(groups)),  [3.5] * len(groups), c=classes, marker='_',\n               lw=50, cmap=cmap_data)\n    ax.set(ylim=[-1, 5], yticks=[.5, 3.5],\n           yticklabels=['Data\\ngroup', 'Data\\nclass'], xlabel=\"Sample index\")\n\nvisualize_groups(y, groups, 'no groups')\n</code></pre> <p></p> <p>\u5404\u4e2a\u62c6\u5206\u5668\u7684\u533a\u522b\uff1a</p> <pre><code># \u5b9a\u4e49\u51fd\u6570\ndef plot_cv_indices(cv, X, y, group, ax, n_splits, lw=10):\n\"\"\"Create a sample plot for indices of a cross-validation object.\"\"\"\n\n    # Generate the training/testing visualizations for each CV split\n    for ii, (tr, tt) in enumerate(cv.split(X=X, y=y, groups=group)):\n        # Fill in indices with the training/test groups\n        indices = np.array([np.nan] * len(X))\n        indices[tt] = 1\n        indices[tr] = 0\n\n        # Visualize the results\n        ax.scatter(range(len(indices)), [ii + .5] * len(indices),\n                   c=indices, marker='_', lw=lw, cmap=cmap_cv,\n                   vmin=-.2, vmax=1.2)\n\n    # Plot the data classes and groups at the end\n    ax.scatter(range(len(X)), [ii + 1.5] * len(X),\n               c=y, marker='_', lw=lw, cmap=cmap_data)\n\n    ax.scatter(range(len(X)), [ii + 2.5] * len(X),\n               c=group, marker='_', lw=lw, cmap=cmap_data)\n\n    # Formatting\n    yticklabels = list(range(n_splits)) + ['class', 'group']\n    ax.set(yticks=np.arange(n_splits+2) + .5, yticklabels=yticklabels,\n           xlabel='Sample index', ylabel=\"CV iteration\",\n           ylim=[n_splits+2.2, -.2], xlim=[0, 100])\n    ax.set_title('{}'.format(type(cv).__name__), fontsize=15)\n    return ax\n</code></pre> <pre><code>cvs = [KFold,\n        GroupKFold,\n        StratifiedKFold,\n        ShuffleSplit,\n        GroupShuffleSplit,\n        StratifiedShuffleSplit,\n        TimeSeriesSplit]\n\nfor cv in cvs:\n    this_cv = cv(n_splits=n_splits)\n    fig, ax = plt.subplots(figsize=(6, 3))\n    plot_cv_indices(this_cv, X, y, groups, ax, n_splits)\n\n    ax.legend([Patch(color=cmap_cv(.8)), Patch(color=cmap_cv(.02))],\n              ['Testing set', 'Training set'], loc=(1.02, .8))\n    # Make the legend fit\n    plt.tight_layout()\n    fig.subplots_adjust(right=.7)\nplt.show()\n</code></pre> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>\u8fd9\u91cc\u672a\u63d0\u5230\u7684\u62c6\u5206\u5668\u7684\u7528\u6cd5\u53ef\u4ee5\u53c2\u8003\u4e0b\u6587\uff0c\u4e0b\u6587\u4e3a\u6bcf\u4e2a\u62c6\u5206\u5668\u63d0\u4f9b\u4e86\u793a\u4f8b\u3002</p>"},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#kfoldk","title":"<code>KFold</code>\uff1aK\u6298\u62c6\u5206","text":"<p>\u5c06\u6570\u636e\u96c6\u5212\u5206\u5f97\u5230K\u4e2a\u4e92\u65a5\u5b50\u96c6\u3002</p> <pre><code>KFold(n_splits=5, random_state=None, shuffle=False)\n</code></pre> <pre><code>from sklearn.model_selection import KFold\n\nX = np.array([[1, 2], [3, 4], [5, 6], [7, 8]])\ny = np.array([0, 0, 1, 1])\nkf = KFold(n_splits=2,shuffle=False)\nkf.get_n_splits(X)\nprint(kf)\n\nfor train_index, test_index in kf.split(X):\n   print(\"TRAIN:\", train_index, \"TEST:\", test_index)\n   X_train, X_test = X[train_index], X[test_index]\n   y_train, y_test = y[train_index], y[test_index]\n</code></pre> <pre><code>KFold(n_splits=2, random_state=None, shuffle=False)\nTRAIN: [2 3] TEST: [0 1]\nTRAIN: [0 1] TEST: [2 3]\n</code></pre> <pre><code>print(\"\u672a\u8bbe\u7f6e\u968f\u673a\u6405\u52a8\")\nkf = KFold(n_splits=2, shuffle=False) # \u672a\u8bbe\u7f6e\u968f\u673a\u6405\u52a8\ni=0\nwhile i &lt; 5:\n    for train_index, test_index in kf.split(X):\n        print(\"TRAIN:\", train_index, \"TEST:\", test_index)\n        X_train, X_test = X[train_index], X[test_index]\n        y_train, y_test = y[train_index], y[test_index]\n    print(\"------------------------------\")\n    i=i+1\n</code></pre> <pre><code>\u672a\u8bbe\u7f6e\u968f\u673a\u6405\u52a8\nTRAIN: [2 3] TEST: [0 1]\nTRAIN: [0 1] TEST: [2 3]\n------------------------------\nTRAIN: [2 3] TEST: [0 1]\nTRAIN: [0 1] TEST: [2 3]\n------------------------------\nTRAIN: [2 3] TEST: [0 1]\nTRAIN: [0 1] TEST: [2 3]\n------------------------------\nTRAIN: [2 3] TEST: [0 1]\nTRAIN: [0 1] TEST: [2 3]\n------------------------------\nTRAIN: [2 3] TEST: [0 1]\nTRAIN: [0 1] TEST: [2 3]\n------------------------------\n</code></pre> <pre><code>print(\"\u8bbe\u7f6e\u968f\u673a\u6405\u52a8\")\nprint(\"\u53ef\u4ee5\u770b\u5230\u6bcf\u6b21\u7684\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u90fd\u4f1a\u5c3d\u91cf\u6539\u53d8\")\nkf = KFold(n_splits=2,shuffle=True) # \u8bbe\u7f6e\u968f\u673a\u6405\u52a8\ni=0\nwhile i &lt; 5:\n    for train_index, test_index in kf.split(X):\n        print(\"TRAIN:\", train_index, \"TEST:\", test_index)\n        X_train, X_test = X[train_index], X[test_index]\n        y_train, y_test = y[train_index], y[test_index]\n    print(\"------------------------------\")\n    i=i+1\n</code></pre> <pre><code>\u8bbe\u7f6e\u968f\u673a\u6405\u52a8\n\u53ef\u4ee5\u770b\u5230\u6bcf\u6b21\u7684\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u90fd\u4f1a\u5c3d\u91cf\u6539\u53d8\nTRAIN: [0 2] TEST: [1 3]\nTRAIN: [1 3] TEST: [0 2]\n------------------------------\nTRAIN: [0 1] TEST: [2 3]\nTRAIN: [2 3] TEST: [0 1]\n------------------------------\nTRAIN: [0 3] TEST: [1 2]\nTRAIN: [1 2] TEST: [0 3]\n------------------------------\nTRAIN: [0 1] TEST: [2 3]\nTRAIN: [2 3] TEST: [0 1]\n------------------------------\nTRAIN: [2 3] TEST: [0 1]\nTRAIN: [0 1] TEST: [2 3]\n------------------------------\n</code></pre>"},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#groupkfoldk","title":"<code>GroupKFold</code>\uff1aK \u7ec4\u62c6\u5206","text":"<p><code>GroupKFold</code> \u5728\u4fdd\u8bc1<code>kFold</code>\u7684\u57fa\u7840\u4e0a\uff0c\u4fdd\u8bc1\u540c\u4e00\u4e2a<code>group</code>\u7684\u6837\u672c\u5728\u540c\u4e00\u4e2a\u62c6\u5206\u3002</p> <pre><code>GroupKFold(n_splits=5)\n</code></pre> <pre><code>from sklearn.model_selection import GroupKFold\n\nX = np.array([[1, 2], [3, 4], [5, 6], [7, 8], [9, 10]])\ny = np.array([0, 0, 1, 1, 0])\ngroups = np.array([0, 0, 1, 1, 0])\ngroup_kfold = GroupKFold(n_splits=2)\ngroup_kfold.get_n_splits(X, y, groups)\nprint(group_kfold)\n\nfor train_index, test_index in group_kfold.split(X, y, groups):\n    print(\"TRAIN:\", train_index, \"TEST:\", test_index)\n    X_train, X_test = X[train_index], X[test_index]\n    y_train, y_test = y[train_index], y[test_index]\n</code></pre> <pre><code>GroupKFold(n_splits=2)\nTRAIN: [2 3] TEST: [0 1 4]\nTRAIN: [0 1 4] TEST: [2 3]\n</code></pre>"},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#stratifiedkfoldk","title":"<code>StratifiedKFold</code>\uff1a\u5206\u5c42K\u6298\u62c6\u5206","text":"<p>\u4e0eKFold\u76f8\u4f3c\uff0c\u4f46\u662f\u5206\u5c42K\u6298\u62c6\u5206\u6309\u7167\u539f\u6570\u636e\u5404\u7c7b\u6807\u7b7e\u7684\u6240\u5360\u6bd4\u4f8b\u8fdb\u884c\u62c6\u5206\uff0c\u7ef4\u6301\u6bcf\u7ec4\u7684\u6807\u7b7e\u6bd4\u4f8b\u4e0d\u53d8\u3002</p> <pre><code>StratifiedKFold(n_splits=5, shuffle=False, random_state=None)\n</code></pre> <p><code>StratifiedKFold.split</code> \u6709\u4e00\u4e2a\u65e0\u6548\u7684 groups \u53c2\u6570\uff08\u53ea\u662f\u4e3a\u4e86\u517c\u5bb9\uff09\uff0cgroups \u603b\u662f\u9ed8\u8ba4\u4e3ay\uff0c\u5206\u7c7b\u5373\u5206\u5c42\u3002</p> <pre><code>from sklearn.model_selection import StratifiedKFold\n\nX = np.random.random(150)\ny = np.concatenate([np.zeros(50), np.ones(50), np.full(50,2)])\nskf = StratifiedKFold(n_splits=2)\nskf.get_n_splits(X, y)\n\nprint(skf)\n\nfor train_index, test_index in skf.split(X, y):\n#   print(\"TRAIN:\", train_index, \"TEST:\", test_index)\n    X_train, X_test = X[train_index], X[test_index]\n    y_train, y_test = y[train_index], y[test_index]\n    for i in [0,1,2]:\n        print(f\"\u7b2c{i}\u7c7b\",len(y_train[y_train==i]))\n    print(\"------------------------------\")\n</code></pre> <pre><code>StratifiedKFold(n_splits=2, random_state=None, shuffle=False)\n\u7b2c0\u7c7b 25\n\u7b2c1\u7c7b 25\n\u7b2c2\u7c7b 25\n------------------------------\n\u7b2c0\u7c7b 25\n\u7b2c1\u7c7b 25\n\u7b2c2\u7c7b 25\n------------------------------\n</code></pre>"},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#repeatedkfoldk","title":"<code>RepeatedKFold</code>\uff1a\u91cd\u590dK\u6298\u62c6\u5206","text":"<pre><code>StratifiedKFold(n_splits=5, n_repeats=10, random_state=None)\n</code></pre> <p>RepeatedKFold \u91cd\u590d K-Fold n \u6b21\u3002\u5f53\u9700\u8981\u8fd0\u884c\u65f6\u53ef\u4ee5\u4f7f\u7528\u5b83 KFold n \u6b21\uff0c\u5c3d\u91cf\u5728\u6bcf\u6b21\u91cd\u590d\u4e2d\u4ea7\u751f\u4e0d\u540c\u7684\u5206\u5272\u3002</p> <pre><code># 2\u6298 K-Fold \u91cd\u590d 2 \u6b21\u7684\u793a\u4f8b:\nfrom sklearn.model_selection import RepeatedKFold\n\nX = np.array([[1, 2], [3, 4], [5, 6], [7, 8]])\ny = np.array([0, 0, 1, 1])\nrkf = RepeatedKFold(n_splits=2, n_repeats=2, random_state=2652124)\nfor train_index, test_index in rkf.split(X):\n    print(\"TRAIN:\", train_index, \"TEST:\", test_index)\n    X_train, X_test = X[train_index], X[test_index]\n    y_train, y_test = y[train_index], y[test_index]\n    print(\"------------------------------\")\n</code></pre> <pre><code>TRAIN: [0 1] TEST: [2 3]\n------------------------------\nTRAIN: [2 3] TEST: [0 1]\n------------------------------\nTRAIN: [1 2] TEST: [0 3]\n------------------------------\nTRAIN: [0 3] TEST: [1 2]\n------------------------------\n</code></pre>"},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#repeatedstratifiedkfoldk","title":"<code>RepeatedStratifiedKFold</code>\uff1a\u91cd\u590d\u5206\u5c42K\u6298\u62c6\u5206","text":"<pre><code>RepeatedStratifiedKFold(n_splits=5, n_repeats=10, random_state=None)\n</code></pre> <p><code>RepeatedStratifiedKFold.split</code>\u540c\u6837\u6709\u4e00\u4e2a\u65e0\u6548\u7684<code>groups</code>\u53c2\u6570\uff0c\u5728\u5185\u90e8<code>groups</code>\u603b\u662f\u9ed8\u8ba4\u4e3aY \u5206\u7c7b\u5373\u5206\u5c42\u3002    </p> <pre><code>from sklearn.model_selection import RepeatedStratifiedKFold\n\nX = np.array([[1, 2], [3, 4], [5, 6], [7, 8]])\ny = np.array([0, 0, 1, 1])\nrskf = RepeatedStratifiedKFold(n_splits=2, n_repeats=2)\nfor train_index, test_index in rskf.split(X, y):\n    print(\"TRAIN:\", train_index, \"TEST:\", test_index)\n    X_train, X_test = X[train_index], X[test_index]\n    y_train, y_test = y[train_index], y[test_index]\n</code></pre> <pre><code>TRAIN: [1 2] TEST: [0 3]\nTRAIN: [0 3] TEST: [1 2]\nTRAIN: [0 3] TEST: [1 2]\nTRAIN: [1 2] TEST: [0 3]\n</code></pre>"},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#leaveoneout","title":"<code>LeaveOneOut</code>\uff1a\u7559\u4e00\u6cd5","text":"<pre><code>LeaveOneOut()\n</code></pre> <p>\u4f1a\u8fd4\u56de$C_n^1$\u5bf9\u8bad\u7ec3\u3001\u6d4b\u8bd5\u6570\u636e\u96c6\u3002    </p> <pre><code>from sklearn.model_selection import LeaveOneOut\n\nX = np.array([[1, 2], [3, 4], [5, 6], [7, 8]])\ny = np.array([0, 0, 1, 1])\nloo = LeaveOneOut()\nloo.get_n_splits(X)\n\nprint(loo)\n\nfor train_index, test_index in loo.split(X):\n    print(\"TRAIN\u7d22\u5f15:\", train_index, \"TEST\u7d22\u5f15:\", test_index)\n    X_train, X_test = X[train_index], X[test_index]\n    y_train, y_test = y[train_index], y[test_index]\n    print(\"------------------------------\")\n</code></pre> <pre><code>LeaveOneOut()\nTRAIN\u7d22\u5f15: [1 2 3] TEST\u7d22\u5f15: [0]\n------------------------------\nTRAIN\u7d22\u5f15: [0 2 3] TEST\u7d22\u5f15: [1]\n------------------------------\nTRAIN\u7d22\u5f15: [0 1 3] TEST\u7d22\u5f15: [2]\n------------------------------\nTRAIN\u7d22\u5f15: [0 1 2] TEST\u7d22\u5f15: [3]\n------------------------------\n</code></pre>"},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#leavepoutp","title":"<code>LeavePOut</code>\uff1a\u7559P\u6cd5","text":"<p>\u6d4b\u8bd5\u6570\u636e\u7684\u53ef\u80fd\u7ec4\u6570\u4e3a$C_n^P$\u3002</p> <pre><code>LeavePOut(p)\n</code></pre> <pre><code>from sklearn.model_selection import LeavePOut\n\nX = np.array([[1, 2], [3, 4], [5, 6], [7, 8]])\ny = np.array([0, 0, 1, 1])\nlpo = LeavePOut(2)\nlpo.get_n_splits(X)\n\nprint(lpo)\n\nfor train_index, test_index in lpo.split(X):\n    print(\"TRAIN:\", train_index, \"TEST:\", test_index)\n    X_train, X_test = X[train_index], X[test_index]\n    y_train, y_test = y[train_index], y[test_index]\n    print(\"------------------------------\")\n</code></pre> <pre><code>LeavePOut(p=2)\nTRAIN: [2 3] TEST: [0 1]\n------------------------------\nTRAIN: [1 3] TEST: [0 2]\n------------------------------\nTRAIN: [1 2] TEST: [0 3]\n------------------------------\nTRAIN: [0 3] TEST: [1 2]\n------------------------------\nTRAIN: [0 2] TEST: [1 3]\n------------------------------\nTRAIN: [0 1] TEST: [2 3]\n------------------------------\n</code></pre>"},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#leaveonegroupout","title":"<code>LeaveOneGroupOut</code>\uff1a\u7559\u4e00\u7ec4","text":"<p>\u4e0e\u7559\u4e00\u6cd5\u76f8\u4f3c\uff0c\u53ea\u662f\u7559\u4e00\u6cd5\u76f8\u5bf9\u4e8e\u5355\u4e2a\u5143\u7d20\uff0c\u7559\u4e00\u7ec4\u76f8\u5bf9\u4e8e\u4e00\u7ec4\u5143\u7d20\u3002</p> <pre><code>from sklearn.model_selection import LeaveOneGroupOut\n\nX = np.array([[1, 2], [3, 4], [5, 6], [7, 8]])\ny = np.array([1, 2, 1, 2])\ngroups = np.array([1, 1, 2, 2])\nlogo = LeaveOneGroupOut()\n# 'groups' is always required\n## group \u53c2\u6570\u4e0d\u4f1a\u9ed8\u8ba4\u4e3ay\u7684label\nlogo.get_n_splits(X, y, groups)\n#logo.get_n_splits(groups=groups) # 'groups' is always required\n\nprint(logo)\n\nfor train_index, test_index in logo.split(X, y, groups):\n    print(\"\\n\",\"TRAIN:\", train_index, \"TEST:\", test_index)\n    X_train, X_test = X[train_index], X[test_index]\n    y_train, y_test = y[train_index], y[test_index]\n    print(\"------------------------------\")\n</code></pre> <pre><code>LeaveOneGroupOut()\n\n TRAIN: [2 3] TEST: [0 1]\n------------------------------\n\n TRAIN: [0 1] TEST: [2 3]\n------------------------------\n</code></pre>"},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#leavepgroupsoutp","title":"<code>LeavePGroupsOut</code>\uff1a\u7559P\u7ec4","text":"<pre><code>from sklearn.model_selection import LeavePGroupsOut\n\nX = np.array([[1, 2], [3, 4], [5, 6]])\ny = np.array([1, 2, 1])\ngroups = np.array([1, 2, 3])\nlpgo = LeavePGroupsOut(n_groups=2)\nlpgo.get_n_splits(X, y, groups) # 'groups' is always required\n\nprint(lpgo)\n\nfor train_index, test_index in lpgo.split(X, y, groups):\n    print(\"\\n\",\"TRAIN:\", train_index, \"TEST:\", test_index)\n    X_train, X_test = X[train_index], X[test_index]\n    y_train, y_test = y[train_index], y[test_index]\n    print(\"------------------------------\")\n</code></pre> <pre><code>LeavePGroupsOut(n_groups=2)\n\n TRAIN: [2] TEST: [0 1]\n------------------------------\n\n TRAIN: [1] TEST: [0 2]\n------------------------------\n\n TRAIN: [0] TEST: [1 2]\n------------------------------\n</code></pre>"},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#predefinedsplit","title":"<code>PredefinedSplit</code>\uff1a\u9884\u5b9a\u4e49\u62c6\u5206","text":"<pre><code>from sklearn.model_selection import PredefinedSplit\n\nX = np.array([[1, 2], [3, 4], [1, 2], [3, 4]])\ny = np.array([0, 0, 1, 1])\ntest_fold = [0, 1, -1, 1]\n\"\"\"\ntest_fold = [0, 1, -1, 1]\n\u8868\u793a\u5728\u7b2c\u4e00\u4e2a\u9a8c\u8bc1\u96c6\u5305\u542b test_fold\u4e2d0\u5143\u7d20\u5bf9\u5e94\u7d22\u5f15\u7684\u6837\u672c\n\u7b2c\u4e8c\u4e2a\u9a8c\u8bc1\u96c6\u5305\u542btest_fold\u4e2d1\u5143\u7d20\u5bf9\u5e94\u7d22\u5f15\u7684\u6837\u672c\n\u7d22\u5f15\u4e3a2\u7684\u6837\u672c\uff08\u7b2c\u4e09\u4e2a\u6837\u672c\uff09\u4e0d\u5305\u542b\u5728\u4efb\u4f55\u9a8c\u8bc1\u96c6\uff0c\u53ea\u5728\u8bad\u7ec3\u96c6\n\n\u53ef\u89c1\uff0ctest_fold\u4f1a\u51b3\u5b9a\u4ea7\u751f\u7684\u62c6\u5206\u6b21\u6570\uff0c\u8fd9\u91cc\u62c6\u5206\u6b21\u6570\u5b9e\u9645\u4e0a\u662f2\uff0c\u56e0\u4e3a1\u548c1\u91cd\u590d\n\n\u5c06\u8bad\u7ec3\u96c6\u5bf9\u5e94\u7684index\u8bbe\u4e3a-1\uff0c\u8868\u793a\u6c38\u8fdc\u4e0d\u5212\u5206\u5230\u9a8c\u8bc1\u96c6\u4e2d\n\"\"\"\nps = PredefinedSplit(test_fold)\nps.get_n_splits()\n\nprint(ps)       \n\nfor train_index, test_index in ps.split():\n   print(\"TRAIN:\", train_index, \"TEST:\", test_index)\n   X_train, X_test = X[train_index], X[test_index]\n   y_train, y_test = y[train_index], y[test_index]\n</code></pre> <pre><code>PredefinedSplit(test_fold=array([ 0,  1, -1,  1]))\nTRAIN: [1 2 3] TEST: [0]\nTRAIN: [0 2] TEST: [1 3]\n</code></pre>"},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#shufflesplit","title":"<code>ShuffleSplit</code>\uff1a\u968f\u673a\u62c6\u5206","text":"<p>\u5c06\u6837\u672c\u96c6\u5408\u968f\u673a\u201c\u6253\u6563\u201d\u540e\u5212\u5206\u4e3a\u8bad\u7ec3\u96c6\u3001\u6d4b\u8bd5\u96c6\u3002</p> <pre><code>ShuffleSplit(n_splits=10, test_size=\u2019default\u2019, train_size=None, \n             random_state=None)\n</code></pre> <pre><code>from sklearn.model_selection import ShuffleSplit\n\nX = np.array([[1, 2], [3, 4], [5, 6], [7, 8], [3, 4], [5, 6]])\ny = np.array([1, 2, 1, 2, 1, 2])\nrs = ShuffleSplit(n_splits=5, test_size=.25, random_state=0)\nrs.get_n_splits(X)\n\nprint(rs)\n\nfor train_index, test_index in rs.split(X):\n   print(\"TRAIN:\", train_index, \"TEST:\", test_index)\n   print(\"----------------------------\")\n</code></pre> <pre><code>ShuffleSplit(n_splits=5, random_state=0, test_size=0.25,\ntrain_size=None)\nTRAIN: [1 3 0 4] TEST: [5 2]\n----------------------------\nTRAIN: [4 0 2 5] TEST: [1 3]\n----------------------------\nTRAIN: [1 2 4 0] TEST: [3 5]\n----------------------------\nTRAIN: [3 4 1 0] TEST: [5 2]\n----------------------------\nTRAIN: [3 5 1 0] TEST: [2 4]\n----------------------------\n</code></pre> <pre><code>rs = ShuffleSplit(n_splits=5, train_size=0.5, test_size=.25, random_state=0)\nfor train_index, test_index in rs.split(X):\n   print(\"TRAIN:\", train_index, \"TEST:\", test_index)\n   print(\"----------------------------\")\n</code></pre> <pre><code>TRAIN: [1 3 0] TEST: [5 2]\n----------------------------\nTRAIN: [4 0 2] TEST: [1 3]\n----------------------------\nTRAIN: [1 2 4] TEST: [3 5]\n----------------------------\nTRAIN: [3 4 1] TEST: [5 2]\n----------------------------\nTRAIN: [3 5 1] TEST: [2 4]\n----------------------------\n</code></pre>"},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#groupshufflesplit","title":"GroupShuffleSplit","text":""},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#stratifiedshufflesplit","title":"StratifiedShuffleSplit","text":""},{"location":"Python3/scikit-learn/11.5.%E6%8B%86%E5%88%86%E6%95%B0%E6%8D%AE.html#timeseriessplit","title":"TimeSeriesSplit","text":""},{"location":"Python3/scikit-learn/11.6.%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81.html","title":"11.6.\u4ea4\u53c9\u9a8c\u8bc1","text":"<pre><code>from pandas import DataFrame\n</code></pre> <pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.05.05\nsklearn version:  0.22.1\n</code></pre>"},{"location":"Python3/scikit-learn/11.6.%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81.html#_1","title":"\u6a21\u578b\u9a8c\u8bc1\u51fd\u6570","text":""},{"location":"Python3/scikit-learn/11.6.%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81.html#model-validation","title":"Model validation","text":"<p>sklearn \u63d0\u4f9b\u4e866\u4e2a\u51fd\u6570\u7528\u6765\u9a8c\u8bc1\u6a21\u578b\uff1a</p> \u51fd\u6570 \u8bf4\u660e <code>cross_validate(estimator, X)</code> \u901a\u8fc7\u4ea4\u53c9\u9a8c\u8bc1\u5f97\u5230\u8bc4\u4f30\u6307\u6807\uff0c\u5e76\u8bb0\u5f55\u62df\u5408/\u5f97\u5206\u65f6\u95f4 <code>cross_val_predict(estimator, X)</code> \u4e3a\u6bcf\u4e2a\u8f93\u5165\u6570\u636e\u70b9\u751f\u6210\u4ea4\u53c9\u9a8c\u8bc1\u7684\u4f30\u8ba1 <code>cross_val_score(estimator, X)</code> \u901a\u8fc7\u4ea4\u53c9\u9a8c\u8bc1\u5f97\u5230\u8bc4\u4f30\u6307\u6807 <code>learning_curve(estimator, X, y)</code> \u5b66\u4e60\u66f2\u7ebf <code>permutation_test_score(\u2026)</code> \u901a\u8fc7\u91cd\u6392\u5217\u6837\u672c\u7684label\uff0c\u4f30\u8ba1\u4ea4\u53c9\u9a8c\u8bc1\u7684\u663e\u8457\u6027 <code>validation_curve(estimator, \u2026)</code> \u9a8c\u8bc1\u66f2\u7ebf"},{"location":"Python3/scikit-learn/11.6.%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81.html#cross_val_score","title":"cross_val_score:\u4ea4\u53c9\u8bc4\u5206","text":"<p>cross_val_score\u4f7f\u7528\u62c6\u5206\u5668\u628a\u6570\u636e\u62c6\u5206\u4e3ak\u4efd\uff0c\u4f7f\u7528k-1\u4efd\u6570\u636e\u8fdb\u884c\u8bad\u7ec3\uff0c\u518d\u4f7f\u7528\u5269\u4e0b\u76841\u4efd\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\u8bc4\u5206\uff0c\u8fd4\u56de\u6bcf\u6b21\u6d4b\u8bd5\u8bc4\u5206\u503c\u3002</p> <pre><code>cross_val_score(estimator, X, y=None, groups=None, scoring=None, \n                cv=None, n_jobs=1,verbose=0, fit_params=None, \n                pre_dispatch='2*n_jobs')\n</code></pre> <ol> <li><code>y</code>\uff1a\u5728\u76d1\u7763\u5b66\u4e60\u4e2d\uff0c\u5c1d\u8bd5\u9884\u6d4b\u7684\u76ee\u6807\u53d8\u91cf</li> <li><code>groups</code>\uff1alike-array\uff0cwith shape (n _samples,), optional\u3002\u5206\u7ec4\u6570\u7ec4\u96c6\u7684\u6837\u672c\u7ec4\u6807\u7b7e\u3002</li> <li><code>scoring</code>\uff1a</li> <li> <p><code>cv</code>\uff1a\u4ea4\u53c9\u9a8c\u8bc1\u62c6\u5206\u6570\u636e\u96c6\u7684\u7b56\u7565\u3002\u53ef\u80fd\u7684\u53d6\u503c\u4e3a\uff1a</p> <p>\u5bf9\u4e8einteger\u6216None\u7684\u8f93\u5165\uff0c\u5982\u679c\u4f30\u8ba1\u5668\u662f\u4e00\u4e2a\u5206\u7c7b\u5668\uff0c\u540c\u65f6y\u662feither binary \u6216\u8005\u591a\u5206\u7c7b\uff0c\u5c06\u4f1a\u9ed8\u8ba4\u4f7f\u7528StratifiedKFold\u62c6\u5206\u5668\uff0c\u5176\u4ed6\u60c5\u51b5\uff0c\u5c06\u4f7f\u7528KFold\u62c6\u5206\u5668\u3002</p> <ul> <li> <p><code>None</code>\uff0c\u9ed8\u8ba4\u4f7f\u75283-fold cross vaildation</p> </li> <li> <p><code>integer</code>\uff0c\u6307\u5b9a\u4f7f\u7528\u4f55\u79cdKFold</p> </li> <li> <p><code>CV splitter</code>\uff0c\u4ea4\u53c9\u9a8c\u8bc1\u751f\u6210\u5668\u5bf9\u8c61</p> </li> <li> <p>\u4e00\u4e2a\u53ef\u4ea7\u751f\u8bad\u7ec3\u96c6\u3001\u6d4b\u8bd5\u96c6\u7684\u8fed\u4ee3\u5668</p> </li> </ul> </li> <li> <p><code>n_jobs</code>\uff1ainteger\uff0c\u7528\u4e8e\u8ba1\u7b97\u7684CPU\u6570\u91cf\uff0c-1\u8868\u793a\u4f7f\u7528\u6240\u6709CPU\u3002</p> </li> <li><code>verbose</code>: integer, optional\uff0cThe verbosity level\u3002</li> <li><code>fit_params</code>\uff1adict\uff0c\u8981\u4f20\u9012\u7ed9\u4f30\u8ba1\u5668\u7684\u53c2\u6570\u3002</li> </ol> <pre><code>from sklearn.model_selection import cross_val_score\nfrom sklearn.datasets import load_wine\nfrom sklearn.svm import SVC\n\nwine = load_wine()\nsvc = SVC(kernel='linear')\n\nscores = cross_val_score(svc, wine.data, wine.target)\nprint('\u4ea4\u53c9\u9a8c\u8bc1\u5f97\u5206\uff1a{}'.format(scores))\n</code></pre> <pre><code>\u4ea4\u53c9\u9a8c\u8bc1\u5f97\u5206\uff1a[0.88888889 0.94444444 0.97222222 1.         1.        ]\n</code></pre>"},{"location":"Python3/scikit-learn/11.6.%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81.html#cross_validate","title":"cross_validate\uff1a\u4ea4\u53c9\u8bc4\u5206","text":"<p><code>cross_validate</code>\u548c<code>cross_val_score</code>\u7684\u4e0d\u540c\u5728\u4e8e<code>scoring</code>\u53c2\u6570\u548c\u8fd4\u56de\u503c\uff1a</p> <ol> <li>\u8bc4\u4f30\u7684\u65f6\u5019\u53ef\u4ee5\u9009\u62e9\u591a\u4e2a\u6307\u6807</li> <li>\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u62df\u5408\u65f6\u95f4\u3001\u6253\u5206\u65f6\u95f4\u3001\u6d4b\u8bd5\u5206\u6570\u3001\u8bad\u7ec3\u5206\u6570\u7684\u5b57\u5178\u3002</li> </ol> <p>\u53c2\u6570\uff1a</p> <ol> <li> <p>scoring\uff1a</p> <ul> <li> <p>\u5355\u4e2a\u5b57\u7b26\u4e32\uff08\u4f7f\u7528\u9884\u5b9a\u4e49\u7684\u8bc4\u5206\u65b9\u6cd5\uff0c\u53c2\u89c1 The scoring parameter: defining model evaluation rules\uff09</p> </li> <li> <p>\u53ef\u5f15\u7528\u5bf9\u8c61\uff08\u53ef\u81ea\u5b9a\u4e49\u8bc4\u5206\u65b9\u6cd5\uff0c\u53c2\u89c1 Defining your scoring strategy from metric functions\uff09</p> </li> </ul> </li> </ol> <p>\u5355\u4e2a\u5b57\u7b26\u4e32\uff1a</p> <pre><code>from sklearn.model_selection import cross_validate\nfrom sklearn.datasets import load_wine\nfrom sklearn.svm import SVC\nimport pprint\n\nwine = load_wine()\nsvc = SVC(kernel='linear')\n\nscores = cross_validate(svc, wine.data, wine.target, scoring=\"precision_macro\")\nprint(type(scores))\nDataFrame(scores)\n</code></pre> <pre><code>&lt;class 'dict'&gt;\n</code></pre> <pre><code>   fit_time  score_time  test_score\n0  0.104000    0.002001    0.897436\n1  0.119005    0.002005    0.944056\n2  0.140989    0.002004    0.977778\n3  0.121999    0.002005    1.000000\n4  0.099990    0.002003    1.000000\n</code></pre> <p>\u591a\u6307\u6807\u6307\u5b9a\u7684\u65f6\u5019\u53ef\u4ee5\u662f\u4e00\u4e2alist\uff0ctuple\u6216\u8005set\uff0c\u5143\u7d20\u662f\u9884\u5148\u5b9a\u4e49\u597d\u7684\u4e00\u4e9b\u6307\u6807\u540d\u79f0\uff1a</p> <pre><code>from sklearn.metrics.scorer import make_scorer\nfrom sklearn.metrics import recall_score\n\nscoring = {'prec_macro': 'precision_macro',\n           'rec_micro': make_scorer(recall_score, average='macro')}\nscores = cross_validate(svc, wine.data, wine.target, scoring=scoring)\nprint(type(scores))\nDataFrame(scores)\n</code></pre> <pre><code>&lt;class 'dict'&gt;\n</code></pre> <pre><code>   fit_time  score_time  test_prec_macro  test_rec_micro\n0  0.112014    0.001981         0.897436        0.904762\n1  0.074024    0.002000         0.944056        0.952381\n2  0.124978    0.001999         0.977778        0.972222\n3  0.097982    0.004998         1.000000        1.000000\n4  0.119018    0.002000         1.000000        1.000000\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u4ece\u6307\u6807\u540d\u79f0\u5bf9\u5e94\u5230\u9884\u5148\u5b9a\u4e49\u597d\u7684\u8bc4\u5206\u51fd\u6570\uff1a</p> <pre><code>scoring = {'prec_macro': 'precision_macro',\n           'rec_micro': make_scorer(recall_score, average='macro')}\nscores = cross_validate(svc, wine.data, wine.target, scoring=scoring)\nprint(type(scores))\nDataFrame(scores)\n</code></pre> <pre><code>&lt;class 'dict'&gt;\n</code></pre> <pre><code>   fit_time  score_time  test_prec_macro  test_rec_micro\n0  0.078000    0.003024         0.897436        0.904762\n1  0.078000    0.002000         0.944056        0.952381\n2  0.095998    0.001001         0.977778        0.972222\n3  0.087999    0.002000         1.000000        1.000000\n4  0.090978    0.186004         1.000000        1.000000\n</code></pre>"},{"location":"Python3/scikit-learn/11.6.%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81.html#cross_val_predict","title":"cross_val_predict\uff1a\u4ea4\u53c9\u9884\u6d4b","text":"<p><code>cross_val_predict</code>\u7684\u4f7f\u7528\u65b9\u6cd5\u7c7b\u4f3c\u4e8e<code>cross_val_score</code>\uff0c\u4f46<code>cross_val_predict</code>\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u4f7f\u7528\u4ea4\u53c9\u9a8c\u8bc1\u5f97\u5230\u7684\u9884\u6d4b\u503c\uff0c\u800c\u4e0d\u662f\u8bc4\u5206\u6807\u51c6\u3002</p> <p>\u5b83\u7684\u8fd0\u884c\u8fc7\u7a0b\u662f\u8fd9\u6837\u7684\uff1a\u4f7f\u7528\u4ea4\u53c9\u9a8c\u8bc1\u7684\u65b9\u6cd5\u8ba1\u7b97\u51fa\u6bcf\u6b21\u5212\u5206\u4e2d\u6d4b\u8bd5\u96c6\u7684\u9884\u6d4b\u503c\uff0c\u76f4\u5230\u6240\u6709\u6570\u636e\u90fd\u6709\u4e86\u9884\u6d4b\u503c\u3002\u5047\u5982\u6570\u636e\u5212\u5206\u4e3a$[1,2,3,4,5]$\u4efd\uff0c\u5b83\u5148\u7528$[1,2,3,4]$\u8bad\u7ec3\u6a21\u578b\uff0c\u8ba1\u7b97\u51fa\u6765\u7b2c$5$\u4efd\u7684\u9884\u6d4b\u503c\uff0c\u7136\u540e\u7528$[1,2,3,5]$\u8ba1\u7b97\u51fa\u7b2c4\u4efd\u7684\u9884\u6d4b\u503c\uff0c\u76f4\u5230\u90fd\u7ed3\u675f\u4e3a\u6b62\u3002</p> <pre><code>from sklearn import datasets, linear_model\nfrom sklearn.model_selection import cross_val_predict\n\ndiabetes = datasets.load_diabetes()\nX = diabetes.data[:150]\ny = diabetes.target[:150]\nlasso = linear_model.Lasso()\ny_pred = cross_val_predict(lasso, X, y, cv=3)\n</code></pre>"},{"location":"Python3/scikit-learn/11.6.%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81.html#permutation_test_score","title":"permutation_test_score\uff1a\u663e\u8457\u6027\u68c0\u9a8c","text":"<p>\u4e3a\u4e86\u68c0\u9a8c\u4ea4\u53c9\u9a8c\u8bc1\u7684\u5f97\u5206\u662f\u5426\u6709\u610f\u4e49\uff0csklearn\u63d0\u4f9b\u4e86\u4e00\u4e2a\u663e\u8457\u6027\u68c0\u9a8c\u7684\u51fd\u6570\uff0c\u5176\u539f\u7406\u5982\u4e0b\uff1a</p> <ol> <li>\u5148\u8fdb\u884c\u4ea4\u53c9\u9a8c\u8bc1\uff0c\u5f97\u51fa\u6a21\u578b\u8bc4\u5206\u3002</li> <li>\u6253\u4e71 y\uff08\u5206\u7c7b\u6807\u7b7e\uff09 \u7684\u6392\u5e8f\uff0c</li> </ol> <p>\u5728\u6807\u7b7e\u968f\u673a\u6392\u5217\u540e\u91cd\u590d\u5206\u7c7b\u8fc7\u7a0b\u7684\u6280\u672f\u3002 \u7136\u540e p \u503c\u7531\u5f97\u5230\u7684\u5206\u6570\u5927\u4e8e\u6700\u521d\u5f97\u5230\u7684\u5206\u7c7b\u5206\u6570\u7684\u5206\u6570\u767e\u5206\u6bd4\u7ed9\u51fa\u3002</p> <pre><code># https://scikit-learn.org/stable/auto_examples/feature_selection/plot_permutation_test_for_classification.html#sphx-glr-auto-examples-feature-selection-plot-permutation-test-for-classification-py\n\n# Author:  Alexandre Gramfort &lt;alexandre.gramfort@inria.fr&gt;\n# License: BSD 3 clause\n\n# print(__doc__)\n\n# import numpy as np\n# import matplotlib.pyplot as plt\n\n# from sklearn.svm import SVC\n# from sklearn.model_selection import StratifiedKFold\n# from sklearn.model_selection import permutation_test_score\n# from sklearn import datasets\n\n\n# # #############################################################################\n# # Loading a dataset\n# iris = datasets.load_iris()\n# X = iris.data\n# y = iris.target\n# n_classes = np.unique(y).size\n\n# # Some noisy data not correlated\n# random = np.random.RandomState(seed=0)\n# E = random.normal(size=(len(X), 2200))\n\n# # Add noisy data to the informative features for make the task harder\n# X = np.c_[X, E]\n\n# svm = SVC(kernel='linear')\n# cv = StratifiedKFold(2)\n\n# score, permutation_scores, pvalue = permutation_test_score(\n#     svm, X, y, scoring=\"accuracy\", cv=cv, n_permutations=100, n_jobs=1)\n\n# print(\"Classification score %s (pvalue : %s)\" % (score, pvalue))\n\n# # #############################################################################\n# # View histogram of permutation scores\n# plt.hist(permutation_scores, 20, label='Permutation scores',\n#          edgecolor='black')\n# ylim = plt.ylim()\n# # BUG: vlines(..., linestyle='--') fails on older versions of matplotlib\n# # plt.vlines(score, ylim[0], ylim[1], linestyle='--',\n# #          color='g', linewidth=3, label='Classification Score'\n# #          ' (pvalue %s)' % pvalue)\n# # plt.vlines(1.0 / n_classes, ylim[0], ylim[1], linestyle='--',\n# #          color='k', linewidth=3, label='Luck')\n# plt.plot(2 * [score], ylim, '--g', linewidth=3,\n#          label='Classification Score'\n#          ' (pvalue %s)' % pvalue)\n# plt.plot(2 * [1. / n_classes], ylim, '--k', linewidth=3, label='Luck')\n\n# plt.ylim(ylim)\n# plt.legend()\n# plt.xlabel('Score')\n# plt.show()\n</code></pre>"},{"location":"Python3/scikit-learn/11.6.%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81.html#validation_curve","title":"validation_curve","text":"<pre><code># https://scikit-learn.org/stable/auto_examples/model_selection/plot_validation_curve.html#sphx-glr-auto-examples-model-selection-plot-validation-curve-py\n</code></pre>"},{"location":"Python3/scikit-learn/11.6.%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81.html#learning_curve","title":"learning_curve","text":"<pre><code># https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.learning_curve.html#sklearn.model_selection.learning_curve\n</code></pre>"},{"location":"Python3/scikit-learn/11.7.%E8%B6%85%E5%8F%82%E6%95%B0%E5%AF%BB%E4%BC%98.html","title":"11.7.\u8d85\u53c2\u6570\u5bfb\u4f18","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.05.10\nsklearn version:  0.22.1\n</code></pre>"},{"location":"Python3/scikit-learn/11.7.%E8%B6%85%E5%8F%82%E6%95%B0%E5%AF%BB%E4%BC%98.html#gridsearchcv","title":"GridSearchCV\uff1a\u7f51\u683c\u641c\u7d22","text":"<pre><code>GridSearchCV(estimator, param_grid, scoring=None, fit_params=None, \n             n_jobs=None, iid='warn', refit=True, cv='warn', verbose=0,\n             pre_dispatch='2*n_jobs', error_score='raise', \n             return_train_score='warn')\n</code></pre> <p>\u53c2\u6570\uff1a</p> <ol> <li><code>estimator</code>\uff1a\u88ab\u5047\u5b9a\u4e3ascikit-learn\u7684\u4f30\u8ba1\u5668\u3002\u4f30\u8ba1\u5668\u9700\u8981\u63d0\u4f9b<code>score</code>\u65b9\u6cd5\uff0c\u5426\u5219\u5fc5\u987b\u4f20\u5165scoring\u53c2\u6570\u3002</li> <li><code>param_grid</code>\uff1adict or list of dictionaries\uff0c\u53c2\u6570\u540d\u5b57\u4f5c\u4e3a\u5b57\u5178\u7684key\uff0c\u53c2\u6570\u503c\u4f5c\u4e3a\u5bf9\u5e94key\u7684value\u3002</li> <li><code>fit_params</code>\uff1a\u4f20\u9012\u7ed9<code>fit</code>\u65b9\u6cd5\u7684\u53c2\u6570</li> <li><code>refit</code>\uff1a\u4f7f\u7528\u6700\u4f73\u53c2\u6570\u91cd\u65b0\u62df\u5408\u4f30\u7b97\u5668\u3002\u5bf9\u4e8e\u591a\u6307\u6807\u8bc4\u4f30\uff0c\u8fd9\u9700\u8981\u662f\u4e00\u4e2a\u8868\u793ascorer\u7684\u5b57\u7b26\u4e32\uff0c\u8be5scorer\u5c06\u7528\u4e8e\u67e5\u627e\u6700\u4f73\u53c2\u6570\u4ee5\u6700\u7ec8\u91cd\u65b0\u62df\u5408\u4f30\u8ba1\u5668\u3002\u8fd8\u53ef\u4ee5\u5c06<code>refit</code>\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u5728\u7ed9\u5b9a<code>cv_results_</code>\u7684\u60c5\u51b5\u4e0b\u8fd4\u56de\u6240\u9009\u7684<code>best_index_</code>\u3002</li> </ol>"},{"location":"Python3/scikit-learn/11.7.%E8%B6%85%E5%8F%82%E6%95%B0%E5%AF%BB%E4%BC%98.html#_1","title":"\u4f8b\u5b50","text":"<pre><code>import sklearn.svm\nfrom sklearn.svm import SVC \nfrom sklearn.datasets import load_iris\nfrom sklearn.model_selection import GridSearchCV\n\nX, y = load_iris(return_X_y=True)\nSVM = SVC(C=1.0, kernel='rbf')\n\nparams = {\"C\":[0.1, 1.0, 5.0, 10.0],\n          \"kernel\":['linear', 'poly', 'rbf']\n    }\n\ngrid_search = GridSearchCV(SVM, params, cv=5)\ngrid_search.fit(X, y)\n\n# \u6a21\u578b\u6700\u9ad8\u5206\uff1a\ngrid_search.score(X, y)\n# \u6700\u4f18\u53c2\u6570\uff1a\ngrid_search.best_params_\n</code></pre> <pre><code>{'C': 0.1, 'kernel': 'poly'}\n</code></pre>"},{"location":"Python3/scikit-learn/11.7.%E8%B6%85%E5%8F%82%E6%95%B0%E5%AF%BB%E4%BC%98.html#_2","title":"\u5c5e\u6027","text":"<p><code>cv_results_</code>\uff1a<code>cv_results_</code>\u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u50a8\u5b58\u4e86\u7f51\u683c\u641c\u7d22\u7684\u8be6\u7ec6\u7ed3\u679c\uff1a</p> <ol> <li><code>mean_fit_time</code>\uff1a\u6bcf\u4e2a\u53c2\u6570\u7ec4\u5408\u5728\u8bad\u7ec3\u6a21\u578b\u4e0a\u7684\u5e73\u5747\u7528\u65f6\u3002</li> <li><code>std_fit_time</code>\uff1a\u5404\u53c2\u6570\u7ec4\u5408\u5728\u8bad\u7ec3\u6a21\u578b\u4e0a\u6240\u7528\u65f6\u95f4\u7684\u6807\u51c6\u5dee\u3002</li> <li><code>mean_test_score</code>\uff1a\u6bcf\u4e2a\u53c2\u6570\u7ec4\u5408\u7684\u5e73\u5747\u5f97\u5206\u3002</li> <li><code>std_test_score</code>\uff1a\u6bcf\u4e2a\u53c2\u6570\u7ec4\u5408\u5f97\u5206\u7684\u6807\u51c6\u5dee\u3002</li> <li><code>mean_score_time</code>\uff1a\u6bcf\u4e2a\u53c2\u6570\u7ec4\u5408\u6253\u5206\u6240\u7528\u65f6\u95f4\u7684\u5e73\u5747\u503c\u3002</li> <li><code>std_score_time</code>\uff1a\u6bcf\u4e2a\u53c2\u6570\u7ec4\u5408\u6253\u5206\u6240\u7528\u65f6\u95f4\u7684\u6807\u51c6\u5dee\u3002</li> <li><code>rank_test_score</code>\uff1a\u5404\u53c2\u6570\u7ec4\u5408\u7684\u5f97\u5206\u6392\u540d\u3002</li> <li><code>params</code>\uff1a\u5404\u4e2a\u53c2\u6570\u7ec4\u5408\u3002</li> <li><code>param_xxx</code>\uff1a\u6a21\u578b\u5404\u4e2a\u8d85\u53c2\u6570\u5728\u6bcf\u4e2a\u53c2\u6570\u7ec4\u5408\u4e2d\u5bf9\u5e94\u7684\u53d6\u503c\u3002</li> <li><code>splitx_test_score</code>\uff1a\u4ea4\u53c9\u9a8c\u8bc1\u6bcf\u6b21\u62c6\u5206\u6570\u636e\u96c6\uff0c\u5404\u4e2a\u53c2\u6570\u7ec4\u5408\u7684\u5f97\u5206\u3002</li> </ol> <p><code>best_index_</code>\uff1a\u6700\u4f73\u5019\u9009\u53c2\u6570\u7ec4\u5408\u5bf9\u5e94\u7684\uff08cv_results_\u6570\u7ec4\u7684\uff09\u7d22\u5f15\u3002</p> <p><code>best_estimator_</code>\uff1a\u5f97\u5206\u6700\u9ad8\u7684 estimator\uff0c\u82e5<code>refit=False</code>\uff0c\u8be5\u5c5e\u6027\u5219\u4e0d\u53ef\u7528\u3002</p> <p><code>best_score_</code>\uff1a\u5f97\u5206\u6700\u9ad8\u7684estimator\u7684\u4ea4\u53c9\u9a8c\u8bc1\u5e73\u5747\u5f97\u5206\u3002</p> <p><code>best_params_</code>\uff1a\u5f97\u5206\u6700\u9ad8\u7684\u53c2\u6570\u7ec4\u5408\u3002\u5bf9\u4e8emulti-metric evaluation\uff0c\u4ec5\u5f53<code>refit</code>\u6307\u5b9a\u65f6\u624d\u53ef\u7528\u3002</p> <p><code>n_splits_</code>\uff1a\u4ea4\u53c9\u9a8c\u8bc1\u62c6\u5206\u7684\u6570\u91cf\u3002</p> <p><code>refit_time_</code>\uff1a\u5728\u6574\u4e2a\u6570\u636e\u96c6\u4e2d\uff0c\u91cd\u65b0\u62df\u5408\u6700\u4f73\u6a21\u578b\u7684\u79d2\u6570\u3002</p> <p><code>multimetric_</code>\uff1a\u903b\u8f91\u503c\uff0c\u662f\u5426\u4f7f\u7528\u591a\u4e2ametric\u8fdb\u884c\u8bc4\u4f30\u3002</p> <p><code>classes_</code>\uff1a\u7c7b\u522b\u3002</p>"},{"location":"Python3/scikit-learn/11.7.%E8%B6%85%E5%8F%82%E6%95%B0%E5%AF%BB%E4%BC%98.html#_3","title":"\u65b9\u6cd5","text":"\u65b9\u6cd5 \u8bf4\u660e <code>decision_function(X)</code> Call decision_function on the estimator with the best found parameters. <code>fit(X[, y, groups])</code> Run fit with all sets of parameters. <code>get_params()</code> Get parameters for this estimator. <code>inverse_transform(Xt)</code> Call inverse_transform on the estimator with the best found params. <code>predict(X)</code> Call predict on the estimator with the best found parameters. <code>predict_log_proba(X)</code> Call predict_log_proba on the estimator with the best found parameters. <code>predict_proba(X)</code> Call predict_proba on the estimator with the best found parameters. <code>score(X[, y])</code> Returns the score on the given data, if the estimator has been refit. <code>set_params(**params)</code> Set the parameters of this estimator. <code>transform(X)</code> Call transform on the estimator with the best found parameters."},{"location":"Python3/scikit-learn/11.7.%E8%B6%85%E5%8F%82%E6%95%B0%E5%AF%BB%E4%BC%98.html#randomizedsearchcv","title":"RandomizedSearchCV\uff1a\u968f\u673a\u641c\u7d22","text":"<p>\u4e0e <code>GridSearchCV</code>\u4e0d\u540c\u7684\u662f\uff0c\u968f\u673a\u641c\u7d22\uff08\u53ef\u80fd\uff09\u4e0d\u4f1a\u5c1d\u8bd5\u6240\u6709\u7684\u53c2\u6570\u7ec4\u5408\uff0c\u800c\u662f\u4ece\u6307\u5b9a\u7684\u5206\u5e03\u4e2d\u91c7\u6837\u56fa\u5b9a\u6570\u91cf\u7684\u53c2\u6570\u7ec4\u5408\u3002 \u5c1d\u8bd5\u7684\u53c2\u6570\u7ec4\u5408\u7684\u6570\u91cf\u662f\u7531 <code>n_iter</code>\u53c2\u6570\u6307\u5b9a\u3002</p> <pre><code>RandomizedSearchCV(estimator, param_distributions, \n                   n_iter=10, scoring=None, n_jobs=None, \n                   iid='deprecated', refit=True, cv=None, \n                   verbose=0, pre_dispatch='2*n_jobs', \n                   random_state=None, error_score=nan, \n                   return_train_score=False)\n</code></pre> <p>\u9664\u4e86<code>n_iter</code>\u53c2\u6570\uff0c<code>RandomizedSearchCV</code>\u4e0e<code>GridSearchCV</code>\u7684\u53c2\u6570\u4e00\u81f4\uff0c\u5c5e\u6027\u548c\u65b9\u6cd5\u4e5f\u662f\u4e00\u81f4\u7684\u3002</p>"},{"location":"Python3/scikit-learn/11.7.%E8%B6%85%E5%8F%82%E6%95%B0%E5%AF%BB%E4%BC%98.html#_4","title":"\u4f8b\u5b50","text":"<pre><code>import sklearn.svm\nfrom sklearn.svm import SVC \nfrom sklearn.datasets import load_iris\nfrom scipy.stats import uniform\nfrom sklearn.model_selection import RandomizedSearchCV\n\nX, y = load_iris(return_X_y=True)\nSVM = SVC(C=1.0, kernel='rbf')\n\n# params = {\"C\":[0.1, 1.0, 5.0, 10.0],\n#           \"kernel\":['linear', 'poly', 'rbf']\n#     }\n\nparams = {\"C\":uniform(loc=0, scale=4),\n          \"kernel\":['linear', 'poly', 'rbf']\n    }\n\nrandom_search = RandomizedSearchCV(SVM, params, cv=5)\nrandom_search.fit(X, y)\n\n# \u6a21\u578b\u6700\u9ad8\u5206\uff1a\nrandom_search.score(X, y)\n# \u6700\u4f18\u53c2\u6570\uff1a\nrandom_search.best_params_\n</code></pre> <pre><code>{'C': 1.2248642986661507, 'kernel': 'rbf'}\n</code></pre>"},{"location":"Python3/scikit-learn/11.7.%E8%B6%85%E5%8F%82%E6%95%B0%E5%AF%BB%E4%BC%98.html#parametergrid","title":"ParameterGrid\uff1a\u53c2\u6570\u7ec4\u5408","text":"<p><code>ParameterGrid</code>\u7c7b\u53ef\u4ee5\u6784\u9020\u51fa\u6240\u6709\u7684\u53c2\u6570\u7ec4\u5408\u3002</p> <pre><code>ParameterGrid(param_grid)\n</code></pre>"},{"location":"Python3/scikit-learn/11.7.%E8%B6%85%E5%8F%82%E6%95%B0%E5%AF%BB%E4%BC%98.html#_5","title":"\u4f8b\u5b50","text":"<pre><code>from sklearn.model_selection import ParameterGrid\nparam_grid = {'a': [1, 2], 'b': [True, False]}\n\nlist(ParameterGrid(param_grid))\n</code></pre> <pre><code>[{'a': 1, 'b': True},\n {'a': 1, 'b': False},\n {'a': 2, 'b': True},\n {'a': 2, 'b': False}]\n</code></pre>"},{"location":"Python3/scikit-learn/11.7.%E8%B6%85%E5%8F%82%E6%95%B0%E5%AF%BB%E4%BC%98.html#parametersampler","title":"ParameterSampler\uff1a\u53c2\u6570\u7ec4\u5408\u968f\u673a\u62bd\u6837","text":"<p><code>ParameterSampler</code>\u7c7b\u6839\u636e\u7ed9\u5b9a\u5206\u5e03\u91c7\u6837\u7684\u53c2\u6570\u751f\u6210\u53c2\u6570\u7ec4\u5408\u3002</p> <pre><code>ParameterSampler(param_distributions, n_iter, random_state=None)\n</code></pre>"},{"location":"Python3/scikit-learn/11.7.%E8%B6%85%E5%8F%82%E6%95%B0%E5%AF%BB%E4%BC%98.html#_6","title":"\u4f8b\u5b50","text":"<pre><code>from sklearn.model_selection import ParameterSampler\n\nparam_grid = {'a': [1, 2], 'b': [True, False]}\nlist(ParameterSampler(param_grid, n_iter=3))\n</code></pre> <pre><code>[{'b': True, 'a': 1}, {'b': False, 'a': 2}, {'b': False, 'a': 1}]\n</code></pre> <pre><code>from scipy.stats import uniform\nfrom sklearn.model_selection import ParameterSampler\n\nparam_grid = {'a': uniform(loc=0, scale=4), 'b': [True, False]}\nlist(ParameterSampler(param_grid, n_iter=4))\n</code></pre> <pre><code>[{'a': 0.716982761404827, 'b': True},\n {'a': 2.6603500613693383, 'b': False},\n {'a': 1.7170489847529042, 'b': False},\n {'a': 2.266735701973464, 'b': True}]\n</code></pre>"},{"location":"Python3/scikit-learn/11.7.%E8%B6%85%E5%8F%82%E6%95%B0%E5%AF%BB%E4%BC%98.html#fit_grid_point","title":"fit_grid_point","text":"<p>\u5bf9\u4e00\u7ec4\u53c2\u6570\u8fdb\u884c\u62df\u5408\uff0c\u8fd4\u56de\u8fd9\u7ec4\u53c2\u6570\u7684\u5f97\u5206\uff0c\u5df2\u7ecf\u6d4b\u8bd5\u6837\u672c\u7684\u6570\u91cf\u3002</p> <pre><code>fit_grid_point(X, y, estimator, parameters, \n               train, test, scorer, verbose, \n               error_score=nan, fit_params)\n</code></pre>"},{"location":"Python3/scikit-learn/11.7.%E8%B6%85%E5%8F%82%E6%95%B0%E5%AF%BB%E4%BC%98.html#_7","title":"\u4f8b\u5b50","text":"<pre><code>from sklearn.svm import SVC \nfrom sklearn.datasets import load_iris\nfrom sklearn.metrics import accuracy_score, f1_score, make_scorer\nfrom sklearn.model_selection import fit_grid_point\n\nX, y = load_iris(return_X_y=True)\nSVM = SVC(C=1.0, kernel='rbf')\n\nparams = {\"C\": 1.0,\n          \"kernel\": 'linear'\n    }\n\nfit_grid_point(X, y, SVM, params, train=slice(0,100,1), \n               test=slice(100,150,1), \n               scorer=make_scorer(f1_score), verbose=1)\n</code></pre> <pre><code>(0.0, {'C': 1.0, 'kernel': 'linear'}, 50)\n</code></pre>"},{"location":"Python3/scikit-learn/11.8.%E4%BF%9D%E5%AD%98%E6%A8%A1%E5%9E%8B.html","title":"11.8.\u4fdd\u5b58\u6a21\u578b","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.05.10\nsklearn version:  0.22.1\n</code></pre> <pre><code>import pickle\nimport joblib\nfrom sklearn import svm\nfrom sklearn import datasets\n\nclf = svm.SVC()\niris = datasets.load_iris()\nX, y = iris.data, iris.target\nclf.fit(X, y)\n</code></pre> <pre><code>SVC(C=1.0, break_ties=False, cache_size=200, class_weight=None,\ncoef0=0.0,\n    decision_function_shape='ovr', degree=3, gamma='scale',\nkernel='rbf',\n    max_iter=-1, probability=False, random_state=None, shrinking=True,\n    tol=0.001, verbose=False)\n</code></pre>"},{"location":"Python3/scikit-learn/11.8.%E4%BF%9D%E5%AD%98%E6%A8%A1%E5%9E%8B.html#pickle","title":"pickle","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 Python \u7684\u5185\u7f6e\u6301\u4e45\u5316\u6a21\u578b\u5c06\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u4fdd\u5b58\u5728 scikit \u4e2d\uff0c\u5b83\u540d\u4e3a pickle:</p> <pre><code># \u5e8f\u5217\u5316\u4e3a bytes\nmodel = pickle.dumps(clf)\n\n# \u4ece bytes \u52a0\u8f7d\u6a21\u578b\nclf2 = pickle.loads(data=model, fix_imports=True,\n                   encoding='ASCII', errors='strict')\n\n\n# \u4fdd\u5b58\u5230\u6587\u4ef6\nsvm.model = pickle.dump(obj=clf, file=\"svm.model\", \n                        protocol=None, fix_imports=True)\n\n# \u4ece\u6587\u4ef6\u52a0\u8f7d\u6a21\u578b\nclf2 = pickle.load(file=\"svm.model\", fix_imports=True,\n                   encoding='ASCII', errors='strict')\n</code></pre>"},{"location":"Python3/scikit-learn/11.8.%E4%BF%9D%E5%AD%98%E6%A8%A1%E5%9E%8B.html#joblib","title":"joblib","text":"<p>\u4f7f\u7528 joblib \u6765\u66ff\u6362 pickle \u53ef\u80fd\u4f1a\u66f4\u6709\u610f\u601d\uff0c\u8fd9\u5bf9\u4e8e\u5185\u90e8\u5e26\u6709 numpy \u6570\u7ec4\u7684\u5bf9\u8c61\u6765\u8bf4\u66f4\u4e3a\u9ad8\u6548\uff0c \u901a\u5e38\u60c5\u51b5\u4e0b\u9002\u5408 scikit-learn estimators\uff08\u9884\u4f30\u5668\uff09\uff0c\u4f46\u662f\u4e5f\u53ea\u80fd\u662f\u4f7f\u7528 pickle \u4fdd\u5b58\u6a21\u578b\u5230\u786c\u76d8\u7684\u60c5\u51b5\uff0c\u800c\u4e0d\u662fpickle \u4fdd\u5b58\u6a21\u578b\u5230\u5b57\u7b26\u4e32\u3002</p> <pre><code>joblib.dump(value=clf, filename=\"svm.model\",\n            compress=0, protocol=None, cache_size=None)\n\njoblib.load(filename=\"svm.model\")\n</code></pre>"},{"location":"Python3/scikit-learn/11.8.%E4%BF%9D%E5%AD%98%E6%A8%A1%E5%9E%8B.html#_1","title":"\u5b89\u5168\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u7684\u5c40\u9650\u6027","text":"<p>pickle\uff08\u548c\u901a\u8fc7\u6269\u5c55\u7684 joblib\uff09\uff0c\u5728\u5b89\u5168\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u65b9\u9762\u5b58\u5728\u4e00\u4e9b\u95ee\u9898\u3002 \u6709\u4ee5\u4e0b\u539f\u56e0\uff1a</p> <ul> <li>\u7edd\u5bf9\u4e0d\u8981\u4f7f\u7528\u672a\u7ecf pickle \u7684\u4e0d\u53d7\u4fe1\u4efb\u7684\u6570\u636e\uff0c\u56e0\u4e3a\u5b83\u53ef\u80fd\u4f1a\u5728\u52a0\u8f7d\u65f6\u6267\u884c\u6076\u610f\u4ee3\u7801\u3002</li> <li>\u867d\u7136\u4e00\u4e2a\u7248\u672c\u7684 scikit-learn \u6a21\u578b\u53ef\u4ee5\u5728\u5176\u4ed6\u7248\u672c\u4e2d\u52a0\u8f7d\uff0c\u4f46\u8fd9\u5b8c\u5168\u4e0d\u5efa\u8bae\u5e76\u4e14\u4e5f\u662f\u4e0d\u53ef\u53d6\u7684\u3002 \u8fd8\u5e94\u8be5\u4e86\u89e3\u5230\uff0c\u5bf9\u4e8e\u8fd9\u4e9b\u6570\u636e\u6267\u884c\u7684\u64cd\u4f5c\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e0d\u540c\u53ca\u610f\u60f3\u4e0d\u5230\u7684\u7ed3\u679c\u3002</li> </ul> <p>\u4e3a\u4e86\u7528\u4ee5\u540e\u7248\u672c\u7684 scikit-learn \u6765\u91cd\u6784\u7c7b\u4f3c\u7684\u6a21\u578b, \u989d\u5916\u7684\u5143\u6570\u636e\u5e94\u8be5\u968f\u7740 pickled model \u4e00\u8d77\u88ab\u4fdd\u5b58\uff1a</p> <ul> <li>\u8bad\u7ec3\u6570\u636e\uff0c\u4f8b\u5982\uff1a\u5f15\u7528\u4e0d\u53ef\u53d8\u7684\u5feb\u7167</li> <li>\u7528\u4e8e\u751f\u6210\u6a21\u578b\u7684 python \u6e90\u4ee3\u7801</li> <li>scikit-learn \u7684\u5404\u7248\u672c\u4ee5\u53ca\u5404\u7248\u672c\u5bf9\u5e94\u7684\u4f9d\u8d56\u5305</li> <li>\u5728\u8bad\u7ec3\u6570\u636e\u7684\u57fa\u7840\u4e0a\u83b7\u5f97\u7684\u4ea4\u53c9\u9a8c\u8bc1\u5f97\u5206</li> </ul> <p>\u8fd9\u6837\u53ef\u4ee5\u68c0\u67e5\u4ea4\u53c9\u9a8c\u8bc1\u5f97\u5206\u662f\u5426\u4e0e\u4ee5\u524d\u76f8\u540c\u3002</p> <p>\u7531\u4e8e\u6a21\u578b\u5185\u90e8\u8868\u793a\u53ef\u80fd\u5728\u4e24\u79cd\u4e0d\u540c\u67b6\u6784\u4e0a\u4e0d\u4e00\u6837\uff0c\u56e0\u6b64\u4e0d\u652f\u6301\u5728\u4e00\u4e2a\u67b6\u6784\u4e0a\u8f6c\u50a8\u6a21\u578b\u5e76\u5c06\u5176\u52a0\u8f7d\u5230\u53e6\u4e00\u4e2a\u4f53\u7cfb\u67b6\u6784\u4e0a\u3002</p> <p>\u5982\u679c\u60a8\u60f3\u8981\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u8fd9\u4e9b\u95ee\u9898\u4ee5\u53ca\u5176\u5b83\u53ef\u80fd\u7684\u5e8f\u5217\u5316\u65b9\u6cd5\uff0c\u8bf7\u53c2\u9605\u8fd9\u4e2a Alex Gaynor \u7684\u6f14\u8bb2\u3002</p>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html","title":"11.9.\u7279\u5f81\u5904\u7406","text":"<pre><code>Linux 5.4.0-74-generic\nPython 3.9.5 @ GCC 7.3.0\nLatest build date 2021.06.22\nsklearn version:  0.24.2\n</code></pre> <pre><code>from toolkit import H\nfrom sklearn.preprocessing import (StandardScaler, MinMaxScaler, MaxAbsScaler,\n                                   RobustScaler, Normalizer, Binarizer,\n                                   KBinsDiscretizer, OrdinalEncoder,\n                                   OneHotEncoder, PolynomialFeatures,\n                                   FunctionTransformer)\n</code></pre>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#_1","title":"\u5171\u540c\u7684\u65b9\u6cd5","text":"<p>\u6240\u6709\u8f6c\u6362\u5668\u90fd\u5177\u6709\u4ee5\u4e0b\u65b9\u6cd5\uff1a</p> <ul> <li><code>fit(X, y=None)</code> \uff1a\u57fa\u4e8e\u8bad\u7ec3\u96c6 <code>X</code> \u8ba1\u7b97\u8f6c\u6362\u6240\u9700\u7684\u53c2\u6570\uff0c\u53c2\u6570\u503c\u4f1a\u4fdd\u5b58\u5728\u8f6c\u6362\u5668\u5b9e\u4f8b\u4e2d\uff0c<code>transform</code>\u65b9\u6cd5\u88ab\u8c03\u7528\u65f6\uff0c\u53c2\u6570\u503c\u5c06\u88ab\u4f7f\u7528\u3002</li> <li><code>transform(X)</code>\uff1a\u5bf9\u6570\u636e\u96c6<code>X</code>\u6267\u884c\u8f6c\u6362\uff0c\u5e76\u8fd4\u8fd8\u8f6c\u6362\u540e\u7684\u7ed3\u679c\u3002</li> <li><code>fit_transform(X, y=None[, fit_params])</code>\uff1a\u4e00\u4e2a\u5feb\u6377\u65b9\u5f0f\uff0c\u5148\u8c03\u7528<code>fit</code>\u65b9\u6cd5\u8ba1\u7b97\u6240\u9700\u53c2\u6570\u503c\uff0c\u518d\u8c03\u7528<code>transform</code>\u65b9\u6cd5\u8fd4\u8fd8\u8f6c\u6362\u7ed3\u679c\u3002</li> </ul> <p>\u5927\u90e8\u5206\u8f6c\u6362\u5668\u90fd\u5177\u6709\u4ee5\u4e0b\u65b9\u6cd5\uff1a</p> <ul> <li><code>inverse_transform(X)</code>\uff1a\u5c06\u8f6c\u6362\u540e\u7684\u6570\u636e <code>X</code> \u8fd8\u539f\u6210\u539f\u59cb\u6570\u636e\u3002</li> </ul> <p><code>MaxAbsScaler</code>\u3001<code>MinMaxScaler</code>\u3001<code>StandardScaler</code>\u8f6c\u6362\u5668\u5177\u6709\u4ee5\u4e0b\u65b9\u6cd5\uff1a</p> <ul> <li><code>partial_fit(X, y=None[, sample_weight=None])</code>\uff1a\u6839\u636e\u90e8\u5206\u6570\u636e\u8ba1\u7b97\u6240\u9700\u53c2\u6570\u503c\uff0c\u4e3a\u540e\u7eed\u7684\u8f6c\u6362\u505a\u51c6\u5907\u3002\u8be5\u65b9\u6cd5\u652f\u6301\u6279\u91cf\u5b66\u4e60\uff08\u589e\u91cf\u5b66\u4e60\uff09\uff0c\u8fd9\u6837\u5bf9\u4e8e\u5185\u5b58\u66f4\u53cb\u597d\u3002\u8fd9\u9002\u7528\u4e8e\u6837\u672c\u91cf\u8fc7\u5927\u6216\u8005\u6d41\u5f0f\u8bfb\u53d6X\u7684\u60c5\u51b5\u3002</li> </ul>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#standardscaler","title":"\u6807\u51c6\u5316 StandardScaler","text":"<p>\u6570\u636e\u96c6\u7684\u6807\u51c6\u5316\u5bf9 scikit-learn \u4e2d\u5b9e\u73b0\u7684\u5927\u591a\u6570\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u6765\u8bf4\u662f\u5e38\u89c1\u7684\u8981\u6c42\u3002\u5982\u679c\u4e2a\u522b\u7279\u5f81\u6216\u591a\u6216\u5c11\u770b\u8d77\u6765\u4e0d\u662f\u5f88\u50cf\u6807\u51c6\u6b63\u6001\u5206\u5e03(\u5177\u6709\u96f6\u5747\u503c\u548c\u5355\u4f4d\u65b9\u5dee)\uff0c\u90a3\u4e48\u7b97\u6cd5\u7684\u6027\u80fd\u53ef\u80fd\u4f1a\u8f83\u5dee\u3002</p> <p>\u8bb8\u591a\u673a\u4e60\u7b97\u6cd5\u7684\u76ee\u6807\u51fd\u6570\u4e2d\u5305\u542b\u7684\u5143\u7d20\uff08\u4f8b\u5982 SVM \u7684 RBF \u5185\u6838\u6216\u7ebf\u6027\u6a21\u578b\u7684 l1 \u548c l2 \u6b63\u5219\u5316\u9879\uff09\u90fd\u662f\u5047\u8bbe\u6240\u6709\u7279\u5f81\u90fd\u662f\u96f6\u5747\u503c\u5e76\u4e14\u5177\u6709\u76f8\u540c\u9636\u6570\u7684\u65b9\u5dee\u3002\u5982\u679c\u67d0\u4e2a\u7279\u5f81\u7684\u65b9\u5dee\u6bd4\u5176\u4ed6\u7279\u5f81\u5927\u51e0\u4e2a\u6570\u91cf\u7ea7\uff0c\u90a3\u4e48\u5728\u7b97\u6cd5\u6c42\u89e3\u6700\u4f18\u53c2\u6570\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5b83\u4f1a\u5360\u636e\u4e3b\u5bfc\u4f4d\u7f6e\uff0c\u5bfc\u81f4\u5b66\u4e60\u5668\u65e0\u6cd5\u6309\u9884\u671f\u4ece\u5176\u4ed6\u7279\u5f81\u4e2d\u6b63\u786e\u5b66\u4e60\u3002</p> <p>\u5728\u5b9e\u8df5\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u4f1a\u5ffd\u7565\u7279\u5f81\u7684\u5206\u5e03\u5f62\u72b6\uff0c\u76f4\u63a5\u5220\u9664\u6bcf\u4e2a\u7279\u5f81\u7684\u5e73\u5747\u503c\u6765\u5b9e\u73b0\u7279\u5f81\u6570\u636e\u4e2d\u5fc3\u5316\uff0c\u7136\u540e\u9664\u4ee5\u975e\u5e38\u91cf\u7279\u5f81\u7684\u6807\u51c6\u5dee\u6765\u7f29\u653e\u6570\u636e\u3002</p> <p><code>StandardScaler</code> \u5b9e\u73b0\u4e86 <code>z-score</code> \u6807\u51c6\u5316\uff1a</p> <p>$$ z = \\frac{x-\\mu}{s} $$</p> <p>\u5176\u4e2d\uff0c$\\mu$ \u662f\u8bad\u7ec3\u6570\u636e\u7684\u5747\u503c\uff1b$s$ \u662f\u8bad\u7ec3\u6570\u636e\u7684\u6807\u51c6\u5dee\u3002</p> <code>StandardScaler(copy=True, with_mean=True, with_std=True)</code><ul> <li><code>copy</code>\uff1a\u662f\u5426\u62f7\u8d1d\u6570\u636e\u3002</li> <li><code>with_mean</code>\uff1a\u8f6c\u6362\u65f6\u662f\u5426\u6267\u884c\u4e2d\u5fc3\u5316\u3002\u82e5\u4e3a<code>True</code>\uff0c\u5219\u7f29\u653e\u4e4b\u524d\u5148\u5c06\u7279\u5f81\u6570\u636e\u51cf\u53bb\u5747\u503c\u3002 \u5982\u679c\u6570\u636e\u662f\u7a00\u758f\u77e9\u9635\u7684\u683c\u5f0f\uff0c\u5219\u4e0d\u80fd\u6307\u5b9a<code>with_mean=True</code>\u3002</li> <li><code>with_std</code>\uff1a\u662f\u5426\u65b9\u5dee\u5f52\u4e00\u5316\u3002\u5982\u679c\u4e3a<code>True</code>\uff0c\u5219\u7f29\u653e\u6bcf\u4e2a\u7279\u5f81\u5230\u5355\u4f4d\u65b9\u5dee\u3002</li> </ul> <p>\u8c03\u7528<code>fit</code>\u65b9\u6cd5\u4e4b\u540e\u624d\u5b58\u5728\u4ee5\u4e0b\u5c5e\u6027</p> <ul> <li><code>scale_</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u7ed9\u51fa\u4e86\u6bcf\u4e2a\u7279\u5f81\u7684\u7f29\u653e\u500d\u6570\u7684\u5012\u6570\u3002</li> <li><code>mean_</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u7ed9\u51fa\u4e86\u539f\u59cb\u6570\u636e\u6bcf\u4e2a\u7279\u5f81\u7684\u5747\u503c\u3002</li> <li><code>var_</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u7ed9\u51fa\u4e86\u539f\u59cb\u6570\u636e\u6bcf\u4e2a\u7279\u5f81\u7684\u65b9\u5dee\u3002</li> <li><code>n_samples_seen_</code>\uff1a\u4e00\u4e2a\u6574\u6570\uff0c\u7ed9\u51fa\u4e86\u5f53\u524d\u5df2\u7ecf\u5904\u7406\u7684\u6837\u672c\u7684\u6570\u91cf\uff08\u7528\u4e8e\u5206\u6279\u8bad\u7ec3\uff09\u3002</li> </ul> <pre><code>from sklearn.preprocessing import StandardScaler\n\ndata = [[0, 0], [0, 0], [1, 1], [1, 1]]\nscaler = StandardScaler()\n\nscaler.fit(data)\n\nprint(scaler.mean_)\nprint(scaler.transform(data))\nprint(scaler.transform([[2, 2]]))\n</code></pre> <pre><code>[0.5 0.5]\n[[-1. -1.]\n [-1. -1.]\n [ 1.  1.]\n [ 1.  1.]]\n[[3. 3.]]\n</code></pre>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#minmaxscaler","title":"\u5f52\u4e00\u5316 MinMaxScaler","text":"<p><code>MinMaxScaler</code>\u4f30\u8ba1\u5668\u5206\u522b\u7f29\u653e\u548c\u8f6c\u6362\u6bcf\u4e2a\u7279\u5f81\uff0c\u4ee5\u4f7f\u5176\u5904\u4e8e\u8bad\u7ec3\u96c6\u7684\u7ed9\u5b9a\u8303\u56f4\u5185\u3002\u8be5\u8f6c\u6362\u5e38\u5e38\u4f5c\u4e3a\u96f6\u5747\u503c\u3001\u5355\u4f4d\u65b9\u5dee\u7f29\u653e\u7684\u4ee3\u66ff\u3002</p> <code>MinMaxScaler(feature_range=(0, 1), copy=True, clip=False)</code><ul> <li><code>feature_range</code>\uff1a\u4e00\u4e2a\u5143\u7ec4<code>(min,max)</code>\uff0c\u6307\u5b9a\u4e86\u6267\u884c\u53d8\u6362\u4e4b\u540e\u7279\u5f81\u7684\u53d6\u503c\u8303\u56f4\u3002</li> </ul> <p>\u5c5e\u6027</p> <ul> <li><code>min_</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u7ed9\u51fa\u4e86\u6bcf\u4e2a\u7279\u5f81\u7684\u539f\u59cb\u6700\u5c0f\u503c\u7684\u8c03\u6574\u503c\u3002\u8bbe\u7279\u5f81 \u7684\u539f\u59cb\u6700\u5c0f\u503c\u4e3a \uff0c\u539f\u59cb\u6700\u5927\u503c\u4e3a \u3002\u5219\u7279\u5f81 \u7684\u539f\u59cb\u6700\u5c0f\u503c\u7684\u8c03\u6574\u503c\u4e3a\uff1a \u3002</li> <li><code>scale_</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u7ed9\u51fa\u4e86\u6bcf\u4e2a\u7279\u5f81\u7684\u7f29\u653e\u500d\u6570 \u3002</li> <li><code>data_min_</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u7ed9\u51fa\u4e86\u6bcf\u4e2a\u7279\u5f81\u7684\u539f\u59cb\u6700\u5c0f\u503c \u3002</li> <li><code>data_max_</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u7ed9\u51fa\u4e86\u6bcf\u4e2a\u7279\u5f81\u7684\u539f\u59cb\u6700\u5927\u503c\u3002</li> <li><code>data_range_</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u7ed9\u51fa\u4e86\u6bcf\u4e2a\u7279\u5f81\u7684\u539f\u59cb\u7684\u8303\u56f4\uff08\u6700\u5927\u503c\u51cf\u6700\u5c0f\u503c\uff09\u3002</li> </ul> <p>\u5728 0 \u548c 1 \u4e4b\u95f4\u7684\u7f29\u653e\uff0c\u8f6c\u6362\u516c\u5f0f\u5982\u4e0b\uff1a</p> <p>$$ X_{std} = \\frac{X - \\min(X)}{\\max(X)-\\min(X)} \\\\ X_{scaled} = X_{std} \\times (\\max-\\min) + \\min $$</p> <p>\u5176\u4e2d\uff0c<code>min, max = feature_range</code>\u3002</p> <p>\u5bf9\u4e8e\u4e00\u822c\u7684\u60c5\u51b5\uff0c\u8f6c\u6362\u516c\u5f0f\u5982\u4e0b\uff1a $$ X_{scaled} = \\frac{\\max-\\min}{\\max(X)-\\min(X)} \\times X + \\min - \\frac{\\max-\\min}{\\max(X)-\\min(X)}\\min(X) $$</p> <pre><code>from sklearn.preprocessing import MinMaxScaler\ndata = [[-1, 2], [-0.5, 6], [0, 10], [1, 18]]\nscaler = MinMaxScaler()\nscaler.fit(data)\n\nprint(scaler.data_max_)\nprint(scaler.transform(data))\nprint(scaler.transform([[2, 2]]))\n</code></pre> <pre><code>[ 1. 18.]\n[[0.   0.  ]\n [0.25 0.25]\n [0.5  0.5 ]\n [1.   1.  ]]\n[[1.5 0. ]]\n</code></pre>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#maxabsscaler","title":"MaxAbsScaler","text":"<p><code>MaxAbsScaler</code> \u5b9e\u73b0\u4e86<code>max-abs</code> \u6807\u51c6\u5316\uff1a</p> <code>MaxAbsScaler(copy=True)</code><p>\u5c5e\u6027</p> <ul> <li><code>scale_</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u7ed9\u51fa\u4e86\u6bcf\u4e2a\u7279\u5f81\u7684\u7f29\u653e\u500d\u6570\u7684\u5012\u6570\u3002</li> <li><code>max_abs_</code>\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u7ed9\u51fa\u4e86\u6bcf\u4e2a\u7279\u5f81\u7684\u7edd\u5bf9\u503c\u7684\u6700\u5927\u503c\u3002</li> <li><code>n_samples_seen_</code>\uff1a\u4e00\u4e2a\u6574\u6570\uff0c\u7ed9\u51fa\u4e86\u5f53\u524d\u5df2\u7ecf\u5904\u7406\u7684\u6837\u672c\u7684\u6570\u91cf\uff08\u7528\u4e8e\u5206\u6279\u8bad\u7ec3\uff09\u3002</li> </ul> <p><code>MaxAbsScaler</code>\u7684\u5de5\u4f5c\u539f\u7406\u4e0e<code>MinMaxScaler</code>\u975e\u5e38\u76f8\u4f3c\uff0c\u4f46\u662f\u5b83\u53ea\u901a\u8fc7\u9664\u4ee5\u6bcf\u4e2a\u7279\u5f81\u7684\u6700\u5927\u7edd\u5bf9\u503c\u5c06\u8bad\u7ec3\u6570\u636e\u7279\u5f81\u7f29\u653e\u81f3 <code>[-1, 1]</code> \u8303\u56f4\u5185\uff1a</p> <p>$$ X_{scaled} = \\frac{X}{\\max(\\text{abs}(X))} $$</p> <p><code>MaxAbsScaler</code> \u4e0d\u4f1a\u79fb\u52a8\u6216\u5c45\u4e2d\u6570\u636e\uff0c\u56e0\u6b64\u4e0d\u4f1a\u7834\u574f\u4efb\u4f55\u7a00\u758f\u6027\u3002\u8be5\u7f29\u653e\u5668\u53ef\u4ee5\u5e94\u7528\u4e8e\u7a00\u758fCSR\u6216CSC\u77e9\u9635\u3002</p> <pre><code>from sklearn.preprocessing import MaxAbsScaler\n\nX = [[1., -1., 2.],\n     [2., 0., 0.],\n     [0., 1., -1.]]\ntransformer = MaxAbsScaler().fit(X)\ntransformer.transform(X)\n</code></pre> <pre><code>array([[ 0.5, -1. ,  1. ],\n       [ 1. ,  0. ,  0. ],\n       [ 0. ,  1. , -0.5]])\n</code></pre>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#robustscaler","title":"\u7f29\u653e\u5b58\u5728\u79bb\u7fa4\u503c\u7684\u6570\u636e RobustScaler","text":"<p>\u5982\u679c\u6570\u636e\u5305\u542b\u8bb8\u591a\u5f02\u5e38\u503c\uff0c\u4f7f\u7528\u5747\u503c\u548c\u65b9\u5dee\u7f29\u653e\u53ef\u80fd\u5e76\u4e0d\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u9009\u62e9\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u53ca <code>RobustScaler</code> \u4f5c\u4e3a\u66ff\u4ee3\u54c1\u3002\u5b83\u5bf9\u5e26\u6709\u79bb\u7fa4\u503c\u7684\u6570\u636e\u7684\u4e2d\u5fc3\u548c\u8303\u56f4\u6709\u9c81\u68d2\u6027\u7684\u4f30\u8ba1\u3002</p> <pre><code>from sklearn.preprocessing import RobustScaler\n</code></pre>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#_2","title":"\u7f29\u653e\u51fd\u6570","text":"<pre><code>scale(X, axis=0, with_mean=True, with_std=True, copy=True)\nminmax_scale(X, feature_range=(0, 1), axis=0, copy=True)\nmaxabs_scale(X, axis=0, copy=True)\nrobust_scale(X, axis=0, with_centering=True, with_scaling=True, \n             quantile_range=(25.0, 75.0), copy=True)\n</code></pre> <p><code>scale</code>\u3001<code>minmax_scale</code>\u3001<code>maxabs_scale</code>\u3001<code>robust_scale</code>\u5206\u522b\u662f<code>StandardScaler</code>\u3001<code>MinMaxScaler</code>\u3001<code>MaxAbsScaler</code>\u3001<code>RobustScaler</code>\u56db\u4e2aestimator\u7684\u7b49\u6548\u51fd\u6570\u3002\u5982\u679c\u4f60\u4e0d\u60f3\u521b\u5efa\u5bf9\u8c61\uff0c\u6216\u8005\u4e0d\u9700\u8981\u4f7f\u7528estimator\uff0c\u8fd9\u56db\u4e2a\u51fd\u6570\u63d0\u4f9b\u4e86\u65b9\u4fbf\u7684\u529f\u80fd\u3002</p>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#_3","title":"\u7f29\u653e\u7a00\u758f\u77e9\u9635","text":"<p>\u4e2d\u5fc3\u5316\u7a00\u758f\u77e9\u9635\u4f1a\u7834\u574f\u6570\u636e\u7684\u7a00\u758f\u7ed3\u6784\uff0c\u56e0\u6b64\u5f88\u5c11\u6709\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002\u4f46\u662f\u7f29\u653e\u7a00\u758f\u77e9\u9635\u662f\u6709\u610f\u4e49\u7684\uff0c\u5c24\u5176\u662f\u5f53\u51e0\u4e2a\u7279\u5f81\u5728\u4e0d\u540c\u7684\u91cf\u7ea7\u8303\u56f4\u65f6\u3002</p> <p><code>MaxAbsScaler</code>\u4ee5\u53ca <code>maxabs_scale</code> \u662f\u4e13\u4e3a\u7f29\u653e\u6570\u636e\u800c\u8bbe\u8ba1\u7684\uff0c\u5e76\u4e14\u662f\u7f29\u653e\u6570\u636e\u7684\u63a8\u8350\u65b9\u6cd5\u3002\u4f7f\u7528\u8fd9\u79cd\u7f29\u653e\u7684\u76ee\u7684\u5305\u62ec\u5b9e\u73b0\u7279\u5f81\u6781\u5c0f\u65b9\u5dee\u7684\u9c81\u68d2\u6027\u4ee5\u53ca\u5728\u7a00\u758f\u77e9\u9635\u4e2d\u4fdd\u7559\u96f6\u5143\u7d20\u3002\u4f46\u662f\uff0c <code>scale</code>\u548c<code>StandardScaler</code>\u4e5f\u80fd\u591f\u63a5\u53d7<code>scipy.sparse</code>\u4f5c\u4e3a\u8f93\u5165\uff0c\u53ea\u8981\u8bbe\u7f6e\u53c2\u6570<code>with_mean=False</code>\u3002\u5426\u5219\u4f1a\u51fa\u73b0 <code>ValueError</code> \u7684\u9519\u8bef\uff0c\u56e0\u4e3a\u9ed8\u8ba4\u7684\u4e2d\u5fc3\u5316\u4f1a\u7834\u574f\u7a00\u758f\u6027\uff0c\u5e76\u4e14\u7ecf\u5e38\u4f1a\u56e0\u4e3a\u5206\u914d\u8fc7\u591a\u7684\u5185\u5b58\u800c\u4f7f\u6267\u884c\u5d29\u6e83\u3002 <code>RobustScaler</code> \u4e0d\u80fd\u9002\u5e94\u7a00\u758f\u8f93\u5165\uff0c\u4f46\u4f60\u53ef\u4ee5\u5728\u7a00\u758f\u8f93\u5165\u4f7f\u7528 <code>transform</code> \u65b9\u6cd5\u3002</p> <p>\u6ce8\u610f\uff0c\u7f29\u653e\u5668\u540c\u65f6\u63a5\u53d7\u538b\u7f29\u7684\u7a00\u758f\u884c\u548c\u7a00\u758f\u5217(\u53c2\u89c1 <code>scipy.sparse.csr_matrix</code> \u4ee5\u53ca <code>scipy.sparse.csc_matrix</code> )\u3002\u4efb\u4f55\u5176\u4ed6\u7a00\u758f\u8f93\u5165\u90fd\u4f1a\u88ab\u8f6c\u5316\u4e3a\u538b\u7f29\u7a00\u758f\u884c\u8868\u793a \u3002\u4e3a\u4e86\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u5185\u5b58\u590d\u5236\uff0c\u5efa\u8bae\u5c06\u8f93\u5165\u7684\u6570\u636e\u8868\u793a\u4e3aCSR\u6216CSC\u7684\u5f62\u5f0f\u3002</p> <p>\u6700\u540e\uff0c\u5982\u679c\u7a00\u758f\u77e9\u9635\u4e2d\u5fc3\u5316\u540e\u7684\u6570\u636e\u5e76\u4e0d\u662f\u5f88\u5927\uff0c\u4f7f\u7528 <code>toarray</code> \u65b9\u6cd5\u5c06\u8f93\u5165\u7684\u7a00\u758f\u77e9\u9635\u663e\u5f0f\u8f6c\u6362\u4e3a\u6570\u7ec4\u662f\u53e6\u4e00\u79cd\u9009\u62e9\u3002</p>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#_4","title":"\u6b63\u5219\u5316","text":"<p>\u8fd9\u91cc\u8bf4\u7684\u6b63\u5219\u5316\u662f\u7f29\u653e\u5355\u4e2a\u6837\u672c\u4ee5\u5177\u6709\u5355\u4f4d\u8303\u6570\u7684\u8fc7\u7a0b\u3002\u5982\u679c\u4f60\u8ba1\u5212\u4f7f\u7528\u4e8c\u6b21\u5f62\u5f0f\uff08\u5982\u70b9\u79ef\u6216\u4efb\u4f55\u5176\u4ed6\u6838\u51fd\u6570\uff09\u6765\u91cf\u5316\u4efb\u4f55\u6837\u672c\u95f4\u7684\u76f8\u4f3c\u5ea6\uff0c\u5219\u6b64\u8fc7\u7a0b\u5c06\u975e\u5e38\u6709\u7528\u3002\u8fd9\u4e2a\u89c2\u70b9\u57fa\u4e8e \u5411\u91cf\u7a7a\u95f4\u6a21\u578b(Vector Space Model) \uff0c\u7ecf\u5e38\u5728\u6587\u672c\u5206\u7c7b\u548c\u5185\u5bb9\u805a\u7c7b\u4e2d\u4f7f\u7528\u3002</p> <p><code>Normalizer</code>\u7c7b\u548c<code>normalizer</code>\u51fd\u6570\u5b9e\u73b0\u4e86\u6570\u636e\u6b63\u5219\u5316\uff1a</p> <pre><code>Normalizer(norm='l2', copy=True)\n\nnormalizer(X, norm='l2', axis=1, copy=True, return_norm=False)\n</code></pre> <ul> <li> <p><code>norm</code>\uff1a\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6307\u5b9a\u6b63\u5219\u5316\u65b9\u6cd5\u3002\u53ef\u4ee5\u4e3a\uff1a</p> <ul> <li> <p><code>'l1'</code>\uff1a\u91c7\u7528 $L_1$ \u8303\u6570\u6b63\u5219\u5316\u3002</p> </li> <li> <p><code>'l2'</code>\uff1a\u91c7\u7528 $L_2$ \u8303\u6570\u6b63\u5219\u5316\u3002</p> </li> <li> <p><code>'max'</code>\uff1a\u91c7\u7528 $L_\\infty$ \u8303\u6570\u6b63\u5219\u5316\u3002</p> </li> </ul> </li> </ul> <p><code>Normalizer</code>\u7c7b\u7684\u65b9\u6cd5\uff1a</p> <ul> <li><code>fit(X[, y])</code> \uff1a\u4e0d\u505a\u4efb\u4f55\u4e8b\u60c5\uff0c\u4e3b\u8981\u7528\u4e8e\u4e3a\u6d41\u6c34\u7ebf<code>Pipeline</code> \u63d0\u4f9b\u63a5\u53e3\u3002</li> <li><code>transform(X[, y, copy])</code> \uff1a\u5c06\u6bcf\u4e00\u4e2a\u6837\u672c\u6b63\u5219\u5316\u4e3a\u8303\u6570\u7b49\u4e8e\u5355\u4f4d1\u3002</li> <li><code>fit_transform(X[, y])</code> \uff1a\u5c06\u6bcf\u4e00\u4e2a\u6837\u672c\u6b63\u5219\u5316\u4e3a\u8303\u6570\u7b49\u4e8e\u5355\u4f4d1\u3002</li> </ul> <p>\u51fd\u6570 <code>normalize</code> \u4ee5\u53ca\u7c7b <code>Normalizer</code> \u63a5\u6536 \u6765\u81eascipy.sparse\u7684\u5bc6\u96c6\u7c7b\u6570\u7ec4\u6570\u636e\u548c\u7a00\u758f\u77e9\u9635 \u4f5c\u4e3a\u8f93\u5165\u3002\u5bf9\u4e8e\u7a00\u758f\u8f93\u5165\uff0c\u6570\u636e\u88ab \u8f6c\u5316\u4e3a\u538b\u7f29\u7684\u7a00\u758f\u884c\u5f62\u5f0f \u3002\u4e3a\u4e86\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u5185\u5b58\u590d\u5236\uff0c\u63a8\u8350\u5728\u4e0a\u6e38\u9009\u62e9CSR\u8868\u793a\u3002</p> <pre><code>from sklearn.preprocessing import normalize, Normalizer\n\nX = np.array([[1,2]])\n\nprint(normalize(X, norm='l1'))\nprint(normalize(X, norm='l2'))\n</code></pre> <pre><code>[[0.33333333 0.66666667]]\n[[0.4472136  0.89442719]]\n</code></pre>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#_5","title":"\u6570\u503c\u7279\u5f81\u79bb\u6563\u5316","text":""},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#_6","title":"\u4e8c\u503c\u5316","text":"<p><code>Binarizer</code> \u6839\u636e\u9608\u503c\u5bf9\u6570\u636e\u8fdb\u884c\u4e8c\u503c\u5316\uff08\u5c06\u7279\u5f81\u503c\u8bbe\u7f6e\u4e3a0\u62161\uff09\uff1a</p> <pre><code>Binarizer(threshold=0.0, copy=True)\n</code></pre> <ul> <li><code>threshold</code>\uff1a\u8f6c\u6362\u7684\u9608\u503c\uff1a\u4f4e\u4e8e\u6b64\u9608\u503c\u7684\u503c\u8f6c\u6362\u4e3a0\uff0c\u9ad8\u4e8e\u6b64\u9608\u503c\u7684\u503c\u8f6c\u6362\u4e3a 1\u3002</li> </ul> <p>\u65b9\u6cd5\uff1a</p> <ul> <li><code>fit(X[, y])</code> \uff1a\u4e0d\u4f5c\u4efb\u4f55\u4e8b\u60c5\uff0c\u4e3b\u8981\u7528\u4e8e\u4e3a\u6d41\u6c34\u7ebf<code>Pipeline</code> \u63d0\u4f9b\u63a5\u53e3\u3002</li> <li><code>transform(X[, copy])</code> \uff1a\u5c06\u6bcf\u4e2a\u6837\u672c\u7684\u7279\u5f81\u4e8c\u5143\u5316\u3002</li> <li><code>fit_transform(X[, y])</code> \uff1a\u5c06\u6bcf\u4e2a\u6837\u672c\u7684\u7279\u5f81\u4e8c\u5143\u5316\u3002</li> </ul> <p>\u9884\u5904\u7406\u6a21\u5757\u63d0\u4f9b\u4e86\u4e00\u4e2a\u76f8\u4f3c\u7684\u51fd\u6570 <code>binarize</code> \uff0c\u4ee5\u4fbf\u4e0d\u9700\u8981\u8f6c\u6362\u63a5\u53e3\u65f6\u4f7f\u7528\u3002</p> <p><code>binarize</code> \u4ee5\u53ca <code>Binarizer</code> \u90fd\u53ef\u4ee5\u63a5\u6536\u6765\u81eascipy.sparse\u7684\u7a20\u5bc6\u77e9\u9635\u6216\u7a00\u758f\u77e9\u9635\u4f5c\u4e3a\u8f93\u5165\u3002#' \u5bf9\u4e8e\u7a00\u758f\u8f93\u5165\uff0c\u6570\u636e\u88ab\u8f6c\u5316\u4e3a\u538b\u7f29\u7684\u7a00\u758f\u884c\u5f62\u5f0f (\u53c2\u89c1 <code>scipy.sparse.csr_matrix</code> )\u3002\u4e3a\u4e86\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u5185\u5b58\u590d\u5236\uff0c\u63a8\u8350\u5728\u4e0a\u6e38\u9009\u62e9CSR\u8868\u793a\u3002</p> <pre><code>from sklearn.preprocessing import Binarizer\nimport numpy as np\n\nbins = Binarizer(threshold=0.5)\nX = np.array([[1, 2], [0.4, 0.3]])\n\nbins.transform(X)\n</code></pre> <pre><code>array([[1., 1.],\n       [0., 0.]])\n</code></pre>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#k-bins","title":"K-bins \u79bb\u6563\u5316","text":"<p>\u5c06\u8fde\u7eed\u6570\u636e\u5206\u6210K\u4e2a\u95f4\u9694\u3002</p> <pre><code>KBinsDiscretizer(n_bins=5, encode='onehot', strategy='quantile')\n</code></pre> <ul> <li><code>n_bins</code>\uff1a</li> <li> <p><code>encode</code>\uff1a\u6307\u5b9a\u7528\u4e8e\u7f16\u7801\u8f6c\u6362\u7ed3\u679c\u7684\u65b9\u6cd5\u3002</p> <ul> <li> <p><code>onehot</code>\uff1aonehot\u7f16\u7801\uff0c\u8fd4\u56de\u7a00\u758f\u77e9\u9635\u3002</p> </li> <li> <p><code>onehot-dense</code>\uff1aonehot\u7f16\u7801\uff0c\u8fd4\u56de\u7a20\u5bc6\u77e9\u9635\u3002</p> </li> <li> <p><code>ordinal</code>\uff1a\u6bcf\u4e2abin\u88ab\u7f16\u7801\u6210\u4e00\u4e2a\u552f\u4e00\u7684\u6574\u6570\u503c\u3002</p> </li> </ul> </li> <li> <p><code>strategy</code>\uff1a\u6307\u5b9a\u4e0d\u540c\u7684 bin \u7b56\u7565\u3002</p> <ul> <li> <p><code>uniform</code>\uff1a\u7279\u5f81\u7684bins\u5177\u6709\u76f8\u540c\u7684\u5bbd\u5ea6\u3002 </p> </li> <li> <p><code>quantile</code>\uff1a\u7279\u5f81\u7684\u5404\u4e2a\u7684bins\u5177\u6709\u76f8\u540c\u6570\u91cf\u7684\u70b9\u3002</p> </li> <li> <p><code>kmeans</code>\uff1a\u6bcf\u4e2abin\u4e2d\u7684\u503c\u5177\u6709\u4e00\u7ef4k-means\u7c07\u7684\u6700\u8fd1\u4e2d\u5fc3\u3002</p> </li> </ul> </li> </ul> <p><code>KBinsDiscretizer</code>\u4f7f\u7528k\u4e2a\u7b49\u5bbd\u7684bins\u628a\u7279\u5f81\u79bb\u6563\u5316</p> <pre><code>from sklearn.preprocessing import KBinsDiscretizer\nimport numpy as np\n\nX = np.array([[ -3., 5., 15 ],\n              [  0., 6., 14 ],\n              [  6., 3., 11 ]])\nKBinsDiscretizer(n_bins=[3, 2, 2], encode='ordinal').fit_transform(X)\n</code></pre> <pre><code>array([[0., 1., 1.],\n       [1., 1., 1.],\n       [2., 0., 0.]])\n</code></pre> <pre><code>KBinsDiscretizer(n_bins=[3, 2, 2], encode='onehot-dense').fit_transform(X)\n</code></pre> <pre><code>array([[1., 0., 0., 0., 1., 0., 1.],\n       [0., 1., 0., 0., 1., 0., 1.],\n       [0., 0., 1., 1., 0., 1., 0.]])\n</code></pre> <p>\u8fd9\u4e9b\u533a\u95f4\u95f4\u9694\u88ab\u5b9a\u4e49\u5982\u4e0b:</p> <ul> <li>\u7279\u5f81 1:<code>[-\u221e,-1], [-1,2), [2,\u221e)</code></li> <li>\u7279\u5f81 2:<code>[-\u221e,5), [5,\u221e)</code></li> <li>\u7279\u5f81 3:<code>[-\u221e,14], [14,\u221e)</code></li> </ul> <p>\u7531\u6b64\u4ea7\u751f\u7684\u6570\u636e\u96c6\u5305\u542b\u4e86\u6709\u5e8f\u5c5e\u6027(ordinal attributes)\uff0c\u53ef\u4ee5\u88ab\u8fdb\u4e00\u6b65\u7528\u5728 <code>sklearn.pipeline.Pipeline</code> \u4e2d\u3002</p> <p>\u79bb\u6563\u5316 (Discretization) \u7c7b\u4f3c\u4e8e\u4e3a\u8fde\u7eed\u6570\u636e\u6784\u5efa\u76f4\u65b9\u56fe(histograms)\u3002 \u7136\u800c\uff0c\u76f4\u65b9\u56fe\u805a\u7126\u4e8e\u7edf\u8ba1\u7279\u5f81\u843d\u5728\u7279\u5b9a\u7684bins\u91cc\u9762\u7684\u6570\u91cf\uff0c\u800c\u79bb\u6563\u5316\u805a\u7126\u4e8e\u7ed9\u8fd9\u4e9bbins\u5206\u914d\u7279\u5f81\u53d6\u503c\u3002</p> <p>\u66f4\u591a\u793a\u4f8b</p> <ul> <li>Using KBinsDiscretizer to discretize continuous features</li> <li>Feature discretization</li> <li>Demonstrating the different strategies of KBinsDiscretizer</li> </ul>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#_7","title":"\u7c7b\u522b\u7279\u5f81\u7f16\u7801","text":""},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#_8","title":"\u6574\u6570\u7f16\u7801","text":"<p>\u8981\u628a\u7c7b\u522b\u7279\u5f81 (categorical features) \u8f6c\u6362\u4e3a\u6574\u6570\u7f16\u7801 (integer codes)\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>OrdinalEncoder</code> \u3002 \u8fd9\u4e2a\u4f30\u8ba1\u5668\u628a\u6bcf\u4e00\u4e2a\u7c7b\u522b\u7279\u5f81\u53d8\u6362\u6210 \u4e00\u4e2a\u65b0\u7684\u6574\u6570\u6570\u5b57\u7279\u5f81 (0 \u5230 n_categories - 1)\uff1a</p> <pre><code>OrdinalEncoder(categories='auto', dtype=&lt;class 'numpy.float64'&gt;)\n</code></pre> <pre><code>from sklearn.preprocessing import OrdinalEncoder\n\nenc = OrdinalEncoder()\nX = [['male', 'from US', 'uses Safari'], \n     ['female', 'from Europe', 'uses Firefox']]\n\nenc.fit(X)\nenc.transform(X)\n</code></pre> <pre><code>array([[1., 1., 1.],\n       [0., 0., 0.]])\n</code></pre> <p>\u8fd9\u6837\u7684\u6574\u6570\u7279\u5f81\u8868\u793a\u5e76\u4e0d\u80fd\u5728scikit-learn\u7684\u4f30\u8ba1\u5668\u4e2d\u76f4\u63a5\u4f7f\u7528\uff0c\u56e0\u4e3a\u8fd9\u6837\u7684\u8fde\u7eed\u8f93\u5165\uff0c\u4f30\u8ba1\u5668\u4f1a\u8ba4\u4e3a\u7c7b\u522b\u4e4b\u95f4\u662f\u6709\u5e8f\u7684\uff0c\u4f46\u5b9e\u9645\u5374\u662f\u65e0\u5e8f\u7684\u3002(\u4f8b\u5982\uff1a\u6d4f\u89c8\u5668\u7684\u7c7b\u522b\u6570\u636e\u662f\u4efb\u610f\u6392\u5e8f\u7684)\u3002</p>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#onehot","title":"onehot \u7f16\u7801","text":"<p>\u53e6\u5916\u4e00\u79cd\u5c06\u7c7b\u522b\u7279\u5f81\u8f6c\u6362\u4e3a\u80fd\u591f\u88abscikit-learn\u6a21\u578b\u4f7f\u7528\u7684\u7f16\u7801\u662f one-of-K\uff0c\u53c8\u79f0\u4e3a\u72ec\u70ed\u7f16\u7801\u6216dummy encoding\u3002 onehot \u7f16\u7801\u7531<code>OneHotEncoder</code> \u5b9e\u73b0\u3002\u8be5\u7c7b\u628a\u6bcf\u4e00\u4e2a\u5177\u6709n_categories\u4e2a\u53ef\u80fd\u53d6\u503c\u7684categorical\u7279\u5f81\u53d8\u6362\u4e3a\u957f\u5ea6\u4e3an_categories\u7684\u4e8c\u8fdb\u5236\u7279\u5f81\u5411\u91cf\uff0c\u91cc\u9762\u53ea\u6709\u4e00\u4e2a\u5730\u65b9\u662f1\uff0c\u5176\u4f59\u4f4d\u7f6e\u90fd\u662f0\u3002</p> <pre><code>OneHotEncoder(categories='auto', drop=None, sparse=True, \n              dtype=&lt;class 'numpy.float64'&gt;, \n              handle_unknown='error')\n</code></pre> <pre><code>from sklearn.preprocessing import OneHotEncoder\n\nenc = OneHotEncoder()\nX = [['male', 'from US', 'uses Safari'], \n     ['female', 'from Europe', 'uses Firefox']]\nenc.fit(X)\nenc.transform(X).toarray()\n</code></pre> <pre><code>array([[0., 1., 0., 1., 0., 1.],\n       [1., 0., 1., 0., 1., 0.]])\n</code></pre> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a\u7279\u5f81\u4f7f\u7528\u51e0\u7ef4\u7684\u6570\u503c\u53ef\u4ee5\u4ece\u6570\u636e\u96c6\u81ea\u52a8\u63a8\u65ad\u3002\u800c\u4e14\u4e5f\u53ef\u4ee5\u5728\u5c5e\u6027<code>categories_</code>\u4e2d\u627e\u5230:</p> <pre><code>enc.categories_\n</code></pre> <pre><code>[array(['female', 'male'], dtype=object),\n array(['from Europe', 'from US'], dtype=object),\n array(['uses Firefox', 'uses Safari'], dtype=object)]\n</code></pre>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#categories","title":"categories \u53c2\u6570","text":"<p>\u53ef\u4ee5\u4f7f\u7528\u53c2\u6570<code>categories</code>\u663e\u5f0f\u5730\u6307\u5b9a\u8fd9\u4e00\u70b9\u3002\u4e0b\u9762\u7684\u6570\u636e\u96c6\u4e2d\u6709\u4e24\u79cd\u6027\u522b\u3001\u56db\u4e2a\u6d32\u548c\u56db\u79cdweb\u6d4f\u89c8\u5668:</p> <pre><code>genders = ['female', 'male']\nlocations = ['from Africa', 'from Asia', 'from Europe', 'from US']\nbrowsers = ['uses Chrome', 'uses Firefox', 'uses IE', 'uses Safari']\nenc = OneHotEncoder(categories=[genders, locations, browsers])\n\n# Note that for there are missing categorical values for the 2nd and 3rd\n# feature\nX = [['male', 'from US', 'uses Safari'], \n     ['female', 'from Europe', 'uses Firefox']]\nenc.fit(X)\n\nenc.transform([['female', 'from Asia', 'uses Chrome']]).toarray()\n</code></pre> <pre><code>array([[1., 0., 0., 1., 0., 0., 1., 0., 0., 0.]])\n</code></pre>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#handle_unknown","title":"handle_unknown \u53c2\u6570","text":"<p>\u5982\u679c\u8bad\u7ec3\u6570\u636e\u53ef\u80fd\u7f3a\u5c11\u7c7b\u522b\u7279\u6027\uff0c\u6700\u597d\u6307\u5b9a<code>handle_unknown</code>='ignore'\uff0c\u800c\u4e0d\u662f\u50cf\u4e0a\u9762\u90a3\u6837\u624b\u52a8\u8bbe\u7f6e\u7c7b\u522b\u3002\u5f53\u6307\u5b9a<code>handle_unknown='ignore'</code>\uff0c\u5e76\u4e14\u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\u9047\u5230\u672a\u77e5\u7c7b\u522b\u65f6\uff0c\u4e0d\u4f1a\u4ea7\u751f\u9519\u8bef\uff0c\u4f46\u662f\u5b58\u5728\u672a\u77e5\u7c7b\u522b\u7684\u7279\u5f81\u751f\u6210\u7684onehot\u7f16\u7801\u5217\u5c06\u5168\u90e8\u4e3a\u96f6(<code>handle_unknown='ignore'</code>\u53ea\u652f\u6301onehot\u7f16\u7801):</p> <pre><code>enc = OneHotEncoder(handle_unknown='ignore')\nX = [['male', 'from US', 'uses Safari'], \n     ['female', 'from Europe', 'uses Firefox']]\nenc.fit(X)\nenc.transform([['female', 'from Asia', 'uses Chrome']]).toarray()\n</code></pre> <pre><code>array([[1., 0., 0., 0., 0., 0.]])\n</code></pre>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#drop","title":"drop \u53c2\u6570","text":"<p>\u8fd8\u53ef\u4ee5\u4f7f\u7528<code>drop</code>\u53c2\u6570\u5c06\u6bcf\u4e2a\u5217\u7f16\u7801\u4e3an_categories-1\u5217\uff0c\u800c\u4e0d\u662fn_categories\u5217\u3002\u6b64\u53c2\u6570\u5141\u8bb8\u7528\u6237\u4e3a\u8981\u5220\u9664\u7684\u6bcf\u4e2a\u7279\u5f81\u6307\u5b9a\u7c7b\u522b\u3002\u8fd9\u5bf9\u4e8e\u907f\u514d\u67d0\u4e9b\u5206\u7c7b\u5668\u4e2d\u8f93\u5165\u77e9\u9635\u7684\u5171\u7ebf\u6027\u662f\u6709\u7528\u7684\u3002\u4f8b\u5982\uff0c\u5f53\u4f7f\u7528\u975e\u6b63\u5219\u5316\u56de\u5f52(\u7ebf\u6027\u56de\u5f52)\u65f6\uff0c\u8fd9\u79cd\u529f\u80fd\u662f\u6709\u7528\u7684\uff0c\u56e0\u4e3a\u5171\u7ebf\u6027\u4f1a\u5bfc\u81f4\u534f\u65b9\u5dee\u77e9\u9635\u662f\u4e0d\u53ef\u9006\u7684\u3002\u5f53\u8fd9\u4e2a\u53c2\u6570\u4e0d\u662fNone\u65f6\uff0c<code>handle_unknown</code>\u5fc5\u987b\u8bbe\u7f6e\u4e3aerror:</p> <pre><code>X = [['male', 'from US', 'uses Safari'], \n     ['female', 'from Europe', 'uses Firefox']]\ndrop_enc = OneHotEncoder(drop='first').fit(X)\nprint(drop_enc.categories_)\n\ndrop_enc.transform(X).toarray()\n</code></pre> <pre><code>[array(['female', 'male'], dtype=object), array(['from Europe', 'from\nUS'], dtype=object), array(['uses Firefox', 'uses Safari'],\ndtype=object)]\n</code></pre> <pre><code>array([[1., 1., 1.],\n       [0., 0., 0.]])\n</code></pre> <pre><code>no_drop_enc = OneHotEncoder(drop=None).fit(X)\nprint(no_drop_enc.categories_)\n\nno_drop_enc.transform(X).toarray()\n</code></pre> <pre><code>[array(['female', 'male'], dtype=object), array(['from Europe', 'from\nUS'], dtype=object), array(['uses Firefox', 'uses Safari'],\ndtype=object)]\n</code></pre> <pre><code>array([[0., 1., 0., 1., 0., 1.],\n       [1., 0., 1., 0., 1., 0.]])\n</code></pre> <p>\u7c7b\u522b\u7279\u5f81\u6709\u65f6\u662f\u7528\u5b57\u5178\u6765\u8868\u793a\u7684\uff0c\u800c\u4e0d\u662f\u6807\u91cf\uff0c\u5177\u4f53\u8bf7\u53c2\u9605\u4ece\u5b57\u5178\u4e2d\u52a0\u8f7d\u7279\u5f81\u3002</p>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#_9","title":"\u7279\u5f81\u751f\u6210","text":""},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#_10","title":"\u751f\u6210\u591a\u9879\u5f0f\u7279\u5f81","text":"<p>\u5728\u673a\u5668\u5b66\u4e60\u4e2d\uff0c\u901a\u8fc7\u589e\u52a0\u4e00\u4e9b\u8f93\u5165\u6570\u636e\u7684\u975e\u7ebf\u6027\u7279\u5f81\u6765\u589e\u52a0\u6a21\u578b\u7684\u590d\u6742\u5ea6\u901a\u5e38\u662f\u6709\u6548\u7684\u3002\u4e00\u4e2a\u7b80\u5355\u901a\u7528\u7684\u529e\u6cd5\u662f\u4f7f\u7528\u591a\u9879\u5f0f\u7279\u5f81\uff0c\u8fd9\u53ef\u4ee5\u83b7\u5f97\u7279\u5f81\u7684\u66f4\u9ad8\u7ef4\u5ea6\u548c\u4ea4\u4e92\u9879\u3002\u8fd9\u5728 <code>PolynomialFeatures</code> \u4e2d\u5b9e\u73b0:</p> <pre><code>PolynomialFeatures(degree=2, interaction_only=False, include_bias=True, \n                   order='C')\n</code></pre> <ul> <li><code>interaction_only</code>\uff1a\u53ea\u4fdd\u7559\u4ea4\u4e92\u9879\u3002</li> </ul> <pre><code>import numpy as np\nfrom sklearn.preprocessing import PolynomialFeatures\n\nX = np.arange(6).reshape(3, 2)\nX                                            \n\npoly = PolynomialFeatures(2)\npoly.fit_transform(X)\n</code></pre> <pre><code>array([[ 1.,  0.,  1.,  0.,  0.,  1.],\n       [ 1.,  2.,  3.,  4.,  6.,  9.],\n       [ 1.,  4.,  5., 16., 20., 25.]])\n</code></pre> <p>X \u7684\u7279\u5f81\u5df2\u7ecf\u4ece $(X_1, X_2)$\u8f6c\u6362\u4e3a$(1,X_1,X_2\uff0cX^2_1,X_1X_2, X^2_2)$\u3002</p> <p>\u5728\u4e00\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ea\u9700\u8981\u7279\u5f81\u95f4\u7684\u4ea4\u4e92\u9879\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e <code>interaction_only=True</code> \u6765\u5f97\u5230:</p> <pre><code>poly = PolynomialFeatures(degree=2, interaction_only=True)\npoly.fit_transform(X)\n</code></pre> <pre><code>array([[ 1.,  0.,  1.,  0.],\n       [ 1.,  2.,  3.,  6.],\n       [ 1.,  4.,  5., 20.]])\n</code></pre> <p>X \u7684\u7279\u5f81\u5df2\u7ecf\u4ece $(X_1, X_2)$\u8f6c\u6362\u4e3a$(1,X_1,X_2\uff0cX_1X_2)$\u3002</p> <p>\u6ce8\u610f\uff0c\u5f53\u4f7f\u7528\u591a\u9879\u7684 <code>Kernel functions</code> \u65f6 \uff0c\u591a\u9879\u5f0f\u7279\u5f81\u88ab\u9690\u5f0f\u5730\u5728\u6838\u51fd\u6570\u4e2d\u88ab\u8c03\u7528(\u6bd4\u5982\uff0c <code>sklearn.svm.SVC</code> \uff0c <code>sklearn.decomposition.KernelPCA</code> )\u3002</p> <p>\u521b\u5efa\u5e76\u4f7f\u7528\u591a\u9879\u5f0f\u7279\u5f81\u7684\u5cad\u56de\u5f52\u5b9e\u4f8b\u8bf7\u89c1 Polynomial interpolation \u3002</p>"},{"location":"Python3/scikit-learn/11.9.%E7%89%B9%E5%BE%81%E5%A4%84%E7%90%86.html#_11","title":"\u81ea\u5b9a\u4e49\u8f6c\u6362\u5668","text":"<p>\u5728\u673a\u5668\u5b66\u4e60\u4e2d\uff0c\u60f3\u8981\u5c06\u4e00\u4e2a\u5df2\u6709\u7684 Python \u51fd\u6570\u8f6c\u5316\u4e3a\u4e00\u4e2a\u8f6c\u6362\u5668\u6765\u534f\u52a9\u6570\u636e\u6e05\u7406\u6216\u5904\u7406\u3002\u53ef\u4ee5\u4f7f\u7528 <code>FunctionTransformer</code> \u4ece\u4efb\u610f\u51fd\u6570\u4e2d\u5b9e\u73b0\u4e00\u4e2a\u8f6c\u6362\u5668\u3002\u4f8b\u5982\uff0c\u5728\u4e00\u4e2a\u7ba1\u9053\u4e2d\u6784\u5efa\u4e00\u4e2a\u5b9e\u73b0\u65e5\u5fd7\u8f6c\u6362\u7684\u8f6c\u5316\u5668\uff0c\u8fd9\u6837\u505a:</p> <pre><code>import numpy as np\nfrom sklearn.preprocessing import FunctionTransformer\n\ntransformer = FunctionTransformer(np.log1p, validate=True)\nX = np.array([[0, 1], [2, 3]])\ntransformer.transform(X)\n</code></pre> <pre><code>array([[0.        , 0.69314718],\n       [1.09861229, 1.38629436]])\n</code></pre> <p>\u901a\u8fc7\u8bbe\u7f6e<code>check_reverse</code>=True\u5e76\u5728\u8f6c\u6362\u4e4b\u524d\u8c03\u7528<code>fit</code>\uff0c\u53ef\u4ee5\u786e\u4fdd<code>func</code>\u548c<code>inverse_func</code>\u662f\u5f7c\u6b64\u7684\u62df\u8fc7\u7a0b\u3002\u8bf7\u6ce8\u610f\uff0c\u8bf7\u6ce8\u610f\u4e00\u4e2a<code>warning</code>\u4f1a\u88ab\u629b\u51fa\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528<code>filterwarnings</code>\u5c06\u5176\u8f6c\u4e3a\u4e00\u4e2a<code>error</code></p> <p>\u4f7f\u7528\u4e00\u4e2a <code>FunctionTransformer</code> \u7c7b\u6765\u505a\u5b9a\u5236\u5316\u7279\u5f81\u9009\u62e9\u7684\u793a\u4f8b\uff0c\u8bf7\u89c1 Using FunctionTransformer to select columns \u3002</p>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html","title":"conda","text":"<p>conda \u7684\u53ef\u7528\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>usage: conda-script.py [-h] [-V] command ...\n\nconda\u662f\u7528\u4e8e\u7ba1\u7406\u548c\u90e8\u7f72\u5e94\u7528\u7a0b\u5e8f\u3001\u73af\u5883\u548c\u7a0b\u5e8f\u5305\u7684\u5de5\u5177\n\nOptions:\n\npositional arguments:\n  command\n    clean       \u5220\u9664\u672a\u4f7f\u7528\u7684\u5305\u548c\u7f13\u5b58\n    config      \u4fee\u6539.condarc\u6587\u4ef6\u4e2d\u7684\u914d\u7f6e\u503c\n    create      \u4ece\u6307\u5b9a\u7684package\u5217\u8868\u4e2d\u521b\u5efa\u4e00\u4e2a\u65b0\u7684conda\u73af\u5883\n    help        \u663e\u793a\u53ef\u7528\u7684conda\u547d\u4ee4\u53ca\u5176\u5e2e\u52a9\u5b57\u7b26\u4e32\u7684\u5217\u8868\n    info        \u663e\u793a\u6709\u5173\u5f53\u524d\u5b89\u88c5\u7684conda\u7684\u4fe1\u606f\n    init        \u521d\u59cb\u5316conda\u4ee5\u8fdb\u884cshell\u4ea4\u4e92  [\u5b9e\u9a8c\u6027\u529f\u80fd]\n    install     \u628a\u4e00\u4e2a\u5217\u8868\u4e2d\u5305\u542b\u7684\u5305\u5b89\u88c5\u5230\u6307\u5b9a\u7684conda\u73af\u5883\n    list        \u5217\u51fa\u94fe\u63a5\u5230\u67d0\u4e2aconda\u73af\u5883\u7684\u6240\u6709\u5305\u540d\n    remove      \u4ece\u6307\u5b9a\u7684conda\u73af\u5883\u79fb\u9664\u5217\u8868\u4e2d\u5305\u542b\u7684\u5305\n    uninstall   conda remove\u7684\u522b\u540d\n    run         \u5728 conda \u73af\u5883\u4e2d\u8fd0\u884c\u53ef\u6267\u884c\u6587\u4ef6 [\u5b9e\u9a8c\u6027\u529f\u80fd]\n    search      \u641c\u7d22package\u5e76\u663e\u793a\u76f8\u5173\u4fe1\u606f\u3002\u8f93\u5165\u662fMatchSpec\u8bed\u53e5(conda\u8f6f\u4ef6\u5305\u7684\u67e5\u8be2\u8bed\u8a00)\n    update      \u5c06 conda \u5305\u66f4\u65b0\u4e3a\u6700\u65b0\u7684\u517c\u5bb9\u7248\u672c\n    upgrade     conda update\u7684\u522b\u540d\n\noptional arguments:\n  -h, --help\n  -V, --version\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html#conda_1","title":"conda\u547d\u4ee4","text":""},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html#conda-info","title":"<code>conda info</code>","text":"<p>\u8be5\u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u5f53\u524d\u5b89\u88c5\u7684 conda \u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec conda \u7248\u672c\u3001python \u7248\u672c\u3001\u8f6f\u4ef6\u5305\u4ed3\u5e93\u5730\u5740\u3001\u65b0\u5efa\u73af\u5883\u7684\u5b58\u653e\u8def\u5f84\u7b49\u3002</p> <pre><code>usage: conda-script.py info [-h] [--json] [-v] [-q] [-a] [--base] [-e] [-s]\n[--unsafe-channels]\n\nDisplay information about current conda install.\n\nOptions:\n\noptional arguments:\n  -h, --help         -a, --all          \u663e\u793a\u6240\u6709\u4fe1\u606f\n  --base             \u663e\u793a base \u73af\u5883\u7684\u8def\u5f84\n  -e, --envs         \u5217\u51fa\u6240\u6709\u5df2\u77e5\u7684Conda\u73af\u5883\n  -s, --system       \u5217\u51fa\u73af\u5883\u53d8\u91cf\n  --unsafe-channels  \u5217\u51fa\u66b4\u9732token\u7684channel\n\nOutput, Prompt, and Flow Control Options:\n  --json             \u4ee5json\u683c\u5f0f\u8f93\u51fa\uff0c\u9002\u5408\u4ee5\u7f16\u7a0b\u65b9\u5f0f\u4f7f\u7528conda\u7684\u60c5\u51b5\n  -v, --verbose      \u8f93\u5165\u4e00\u6b21\u7528\u4e8einfo\uff0c\u4e24\u6b21\u7528\u4e8edebug\uff0c\u4e09\u6b21\u7528\u4e8etrace\n  -q, --quiet        \u4e0d\u663e\u793a\u8fdb\u5ea6\u6761\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html#conda-create","title":"<code>conda create</code>","text":"<pre><code>usage: conda-script.py create [-h] [--clone ENV] [-n ENVIRONMENT | -p PATH]\n[-c CHANNEL] [--use-local] [--override-channels]\n[--repodata-fn REPODATA_FNS]\n[--strict-channel-priority]\n[--no-channel-priority]\n[--no-deps | --only-deps] [--no-pin] [--copy]\n[--no-shortcuts] [-C] [-k] [--offline] [-d]\n[--json] [-q] [-v] [-y] [--download-only]\n[--show-channel-urls] [--file FILE]\n[--no-default-packages] [--dev]\n[package_spec [package_spec ...]]\n\nCreate a new conda environment from a list of specified packages.\n\nOptions:\n\npositional arguments:\n  package_spec          \u5728\u65b0conda\u73af\u5883\u9700\u8981\u5b89\u88c5\u6216\u66f4\u65b0\u7684\u5305\n\noptional arguments:\n  -h, --help            --clone ENV           \u901a\u8fc7\u514b\u9686\u5176\u4ed6\u73af\u5883\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u73af\u5883\uff0c'ENV'\u53ef\u4ee5\u662f\u672c\u5730\u73af\u5883\u7684\u8def\u5f84\u6216\u540d\u79f0\n  --file FILE           \u4ece\u6587\u4ef6\u521b\u5efa\u73af\u5883\uff0c\u53ef\u4f20\u5165\u591a\u4e2a\u6587\u4ef6(e.g. --file=file1 --file=file2)\n--dev                 \u4f7f\u7528'sys.executable -m conda'\u800c\u4e0d\u662fCONDA_EXE\uff0c\u4e3b\u8981\u7528\u4e8e\u6d4b\u8bd5\n\nTarget Environment Specification:\n  -n ENVIRONMENT, --name ENVIRONMENT\n                        \u65b0\u73af\u5883\u7684\u540d\u5b57\n  -p PATH, --prefix PATH\n                        \u73af\u5883\u76ee\u5f55\u7684\u5b8c\u6574\u8def\u5f84\n\nChannel Customization:\n  -c CHANNEL, --channel CHANNEL\n                        \u6dfb\u52a0\u989d\u5916\u7684Channel\u7528\u4e8e\u641c\u7d22\u5305\uff0c\u53ef\u6307\u5b9a\u672c\u5730\u76ee\u5f55\u3002\u6309\u987a\u5e8f\u5728\u6307\u5b9a\u7684Channel\n                        \u8fdb\u884c\u641c\u7d22\uff0c\"defaults\"\u548c.condarc\u7684Channel\u4f1a\u5148\u88ab\u641c\u7d22\uff0c\u9664\u975e\u63d0\u4f9b\u4e86\n                        '--override-channels'\u53c2\u6570\n  --use-local           \u4f7f\u7528\u672c\u5730\u6784\u5efa\u7684\u5305\uff0c\u7b49\u540c\u4e8e\"-c local\"\n--override-channels   \u4e0d\u4f7f\u7528\"defaults\"\u548c.condarc\u7684Channel\n                        \u8981\u6c42\u63d0\u4f9b'--channel'\u53c2\u6570\n  --repodata-fn REPODATA_FNS\n\nSolver Mode Modifiers:\n  --strict-channel-priority\n                        \u4f18\u5148\u8003\u8651\u8f83\u9ad8\u4f18\u5148\u7ea7\u7684channel\u7684\u7a0b\u5e8f\u5305\n  --no-channel-priority\n                        \u4f18\u5148\u8003\u8651\u8f83\u9ad8\u7248\u672c\u7684\u8f6f\u4ef6\u7248\uff0c\u800c\u4e0d\u8003\u8651channel\u7684\u4f18\u5148\u7ea7\n                        \u8fd9\u5c06\u8986\u76d6'conda config --show channel_priority'\u7ed9\u5b9a\u7684\u503c\n  --no-deps             \u4e0d\u5b89\u88c5\u3001\u66f4\u65b0\u3001\u5220\u9664\u6216\u66f4\u6539\u4f9d\u8d56\u6027\u3002\u8fd9\u5c06\u7834\u574f\u73af\u5883\uff0c\u98ce\u9669\u81ea\u8d1f\n  --only-deps           \u4ec5\u5b89\u88c5\u4f9d\u8d56\n  --no-pin              \u5ffd\u7565pinned\u6587\u4ef6\n  --no-default-packages\n                        \u5ffd\u7565.condarc\u914d\u7f6e\u6587\u4ef6\u7684'create_default_packages'\u8bbe\u7f6e\n\nPackage Linking and Install-time Options:\n  --copy                \u4f7f\u7528\u526f\u672c\u800c\u4e0d\u662f\u786c\u94fe\u63a5\u6216\u8f6f\u94fe\u63a5\u6765\u5b89\u88c5\u6240\u6709\u8f6f\u4ef6\u5305\n  --no-shortcuts        \u4e0d\u5b89\u88c5\u5f00\u59cb\u83dc\u5355\u5feb\u6377\u65b9\u5f0f\n\nNetworking Options:\n  -C, --use-index-cache\n                        \u5373\u4f7fchannel\u7684\u7d22\u5f15\u6587\u4ef6\u5df2\u8fc7\u671f\uff0c\u4e5f\u4f7f\u7528\u5176\u7f13\u5b58\n  -k, --insecure        \u5141\u8bb8conda\u6267\u884c\u4e0d\u5b89\u5168\u7684SSL\u8fde\u63a5\u548c\u4f20\u8f93\n                        \u7b49\u6548\u4e8e\u5c06'ssl_verify'\u8bbe\u7f6e\u4e3a'false'\n--offline             \u79bb\u7ebf\u6a21\u5f0f\uff0c\u4e0d\u8fde\u63a5\u7f51\u7edc\n\nOutput, Prompt, and Flow Control Options:\n  -d, --dry-run         \u4ec5\u663e\u793a\u5c06\u8981\u5b8c\u6210\u7684\u64cd\u4f5c\n  --json                -q, --quiet           -v, --verbose         -y, --yes             \u9ed8\u8bb8\u6240\u6709\u64cd\u4f5c\uff0c\u4e0d\u8981\u6c42\u786e\u8ba4\n  --download-only       --show-channel-urls   \u663e\u793achannel\u7684url\n                        \u8986\u76d6`conda config --show show_channel_urls`\u7684\u503c\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html#conda_2","title":"conda\u5e38\u7528\u547d\u4ee4","text":""},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html#_1","title":"\u67e5\u770b\u4fe1\u606f","text":"<pre><code># \u67e5\u770b\u5f53\u524d\u5b89\u88c5\u7684 conda \u7684\u8be6\u7ec6\u4fe1\u606f\n# \u5176\u4e2d\u5305\u62ec conda \u7248\u672c\u3001python \u7248\u672c\u3001\u8f6f\u4ef6\u5305\u4ed3\u5e93\u5730\u5740\u3001\u65b0\u5efa\u73af\u5883\u7684\u5b58\u653e\u8def\u5f84\u7b49\nconda info\n\n# \u67e5\u770bconda\u7248\u672c\u4fe1\u606f\nconda -V\nconda --version </code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html#_2","title":"\u73af\u5883\u7ba1\u7406","text":""},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html#_3","title":"\u67e5\u770b\u73af\u5883\u4fe1\u606f","text":"<pre><code># \u67e5\u770b\u5f53\u524d conda \u4e2d\u6240\u6709\u5df2\u521b\u5efa\u7684\u73af\u5883\u5217\u8868\n# \u5904\u4e8e\u6fc0\u6d3b\u72b6\u6001\u7684\u73af\u5883\u65c1\u8fb9\u4f1a\u6709\u4e00\u4e2a*\u7684\u6807\u8bb0\nconda env list\nconda info --envs\nconda info -e\n\n# \u67e5\u770b Conda \u76f8\u5173\u7684\u73af\u5883\u53d8\u91cf\u4fe1\u606f\nconda info --system\nconda info -s\n\n# \u67e5\u770b\u73af\u5883\u7cfb\u7edf\u66f4\u52a0\u8be6\u7ec6\u7684\u4fe1\u606f\nconda info --all\nconda info -a\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html#_4","title":"\u6fc0\u6d3b\u73af\u5883","text":"<pre><code># \u8fdb\u5165\u6307\u5b9a\u73af\u5883\nconda activate &lt;env&gt;\n\n# \u9000\u51fa\u73af\u5883\nconda deactivate\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html#_5","title":"\u5bfc\u51fa\u73af\u5883","text":"<pre><code># \u9ed8\u8ba4\u5bfc\u51fa\u5f53\u524d\u73af\u5883\u7684\u4f9d\u8d56\u5305\nconda list -e &gt; package-list.txt\nconda list -e &gt; package-list.yml\n# \u5bfc\u51fa\u6307\u5b9a\u73af\u5883\u7684\u4f9d\u8d56\u5305\nconda list -n &lt;env&gt; -e &gt; package-list.yml\n# \u6216\u8005\u8fd9\u6837\nconda env export --name base --file base_bunnies.yml\n## \u8fd9\u4f1a\u5c06\u5f53\u524d\u73af\u5883\u4e2d\u7531 conda \u7ba1\u7406\u7684\u5305\u548c\u7531 pip \u5b89\u88c5\u7684\u5305\u540c\u65f6\u5bfc\u51fa\u5230\u6587\u4ef6\u4e2d\n## \u6240\u4ee5\u5f53\u6839\u636e\u6587\u4ef6\u521b\u5efa\u73af\u5883\u65f6\uff0c\u65e0\u9700\u91cd\u65b0\u5b89\u88c5 pip \u7684\u5305\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html#_6","title":"\u521b\u5efa\u73af\u5883","text":"<pre><code># \u65b0\u5efa\u4e00\u4e2a\u540d\u4e3a newenv \u7684\u73af\u5883\uff0c\u5e76\u6307\u5b9a\u65b0\u73af\u5883\u4e2d\u7684 python \u7248\u672c\u4e3a3.6\n# \u521b\u5efa\u51fa\u6765\u7684\u73af\u5883\u4e2d\u53ea\u5e26\u6709\u6700\u57fa\u672c\u7684\u5305\nconda create --name newenv python=3.6\n# \u4e5f\u53ef\u4ee5\u5728\u521b\u5efa\u73af\u5883\u65f6\u5019\uff0c\u5305\u542b\u67d0\u4e9b\u7a0b\u5e8f\u6216\u8005\u5305 \nconda create --name newenv python=3.6 biopython ipython # \u901a\u8fc7\u514b\u9686\u521b\u5efa\u4e00\u4e2a\u65b0\u73af\u5883\nconda create --name newenv -clone base\n\n# \u4ece\u6587\u4ef6\u521b\u5efa\u73af\u5883\n## \u5982\u679c\u662f\u7528 conda env export --name \u5bfc\u51fa\u7684\u6587\u4ef6\uff0c\u5219\u53ef\u7528\u4e0b\u5217\u547d\u4ee4\u521b\u5efa\uff1a\nconda env create -f package-list.yml\n## \u5982\u679c\u662f\u7528 conda list -e \u5bfc\u51fa\u7684\u6587\u4ef6\uff0c\u5219\u7528\u5982\u4e0b\u65b9\u5f0f\u521b\u5efa\uff1a\nconda create --name &lt;env&gt; --file &lt;deps file&gt;\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html#_7","title":"\u66f4\u65b0\u73af\u5883","text":"<pre><code># \u66f4\u65b0\u73af\u5883\nconda env update --name &lt;env&gt; -file=&lt;deps file&gt;\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html#_8","title":"\u5220\u9664\u73af\u5883","text":"<pre><code># \u5220\u9664\u73af\u5883\u4e2d\u6307\u5b9a\u7684\u5305\nconda remove --name &lt;env&gt; ipython biopython\n\n# \u5f7b\u5e95\u5220\u9664\u73af\u5883\nconda env remove --name &lt;env&gt;\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html#_9","title":"\u4ece\u6307\u5b9a\u8def\u5f84\u5b89\u88c5\u73af\u5883","text":"<p>conda \u521b\u5efa\u51fa\u6765\u7684\u73af\u5883\u9ed8\u8ba4\u653e\u5728<code>/User/&lt;yourname&gt;/anaconda/env</code>\u76ee\u5f55\u4e0b\uff0c\u4f60\u53ef\u4ee5\u5c06\u5176\u4e2d\u7684\u67d0\u4e2a\u73af\u5883\u6587\u4ef6\u5939\u6574\u4f53\u62f7\u8d1d\u8d70\uff0c\u590d\u5236\u5230\u53e6\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u7136\u540e\u57fa\u4e8e\u6b64\u6587\u4ef6\u5939\u521b\u5efa\u73af\u5883\u3002</p>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html#_10","title":"\u5305\u7ba1\u7406","text":"<pre><code>conda list                      # \u67e5\u770b\u5df2\u7ecf\u5b89\u88c5\u7684\u5305\nconda update conda              # \u5347\u7ea7conda\u81ea\u8eab\nconda search requests           # \u67e5\u8be2\u67d0\u4e2a\u5305\nconda install requests          # \u5b89\u88c5\u65b0\u5305\nconda install -n base requests  # \u5c06\u5305\u5b89\u88c5\u5230\u6307\u5b9a\u73af\u5883\nconda update --all              # \u66f4\u65b0\u6240\u6709\u5305\nconda update requests           # \u5347\u7ea7\u5305\nconda remove requests           # \u79fb\u9664\u5305\nconda remove -n base requests   # \u4ece\u6307\u5b9a\u73af\u5883\u4e2d\u79fb\u9664\u5305\n</code></pre> <p>conda \u4e0d\u63d0\u4f9b\u68c0\u67e5\u53ef\u66f4\u65b0\u7684\u5305\u7684\u547d\u4ee4\uff0cupdate \u6240\u6709\u5305\u65f6\u4f1a\u6709\u63d0\u793a\uff0c\u5217\u51fa\u6240\u6709\u53ef\u66f4\u65b0\u7684\u5305\uff0c\u5e76\u8ba9\u7528\u6237\u786e\u8ba4\u662f\u5426\u5168\u90e8\u66f4\u65b0\u3002</p>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.1.conda%E7%AC%94%E8%AE%B0.html#conda_3","title":"\u4e3a conda \u6307\u5b9a\u56fd\u5185\u955c\u50cf\u6e90","text":"<pre><code>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/\nconda config --set show_channel_urls yes\n</code></pre> <p>\u4f7f\u7528<code>conda config --show channels</code>\u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u5f53\u524d\u7684\u6e90\u4ed3\u5e93\u5730\u5740\u3002</p>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.2.pip%E7%AC%94%E8%AE%B0.html","title":"5.2.pip\u7b14\u8bb0","text":"<p>pip \u662f Python \u5b98\u65b9\u7684 package \u7ba1\u7406\u7a0b\u5e8f\uff08package installer for Python\uff09\uff0c\u4e3b\u8981\u7528\u4e8e\u5b89\u88c5\u3001\u5378\u8f7d\u6216\u4e0b\u8f7d Python package\u3002pypi\uff08Python Package Index\uff09\u662fPython \u5b98\u65b9 package \u4ed3\u5e93\uff0c\u53ef\u4ee5\u4f7f\u7528 pip \u4ece pypi \u5b89\u88c5 package\u3002pip \u53ea\u80fd\u5b89\u88c5 Python package\uff0c\u4e0d\u80fd\u5b89\u88c5\u975e Python package\uff0c\u4e5f\u4e0d\u80fd\u521b\u5efa Python \u865a\u62df\u73af\u5883\u3002</p>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.2.pip%E7%AC%94%E8%AE%B0.html#pip","title":"pip \u955c\u50cf\u6e90","text":"<ol> <li>\u963f\u91cc\u4e91\uff1ahttps://mirrors.aliyun.com/pypi/simple</li> <li>\u7f51\u6613\u4e91\uff1ahttps://mirrors.163.com/pypi/simple</li> <li>\u534e\u4e3a\u4e91\uff1ahttps://repo.huaweicloud.com/repository/pypi/simple</li> <li>\u817e\u8baf\u4e91\uff1ahttps://mirrors.cloud.tencent.com/pypi/simple</li> <li>\u6e05\u534e\u5927\u5b66\uff1ahttps://pypi.tuna.tsinghua.edu.cn/simple</li> <li>\u5317\u4eac\u5916\u56fd\u8bed\u5927\u5b66\uff1ahttps://mirrors.bfsu.edu.cn/pypi/web/simple</li> </ol>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.2.pip%E7%AC%94%E8%AE%B0.html#pip_1","title":"\u4e3a pip \u6307\u5b9a\u955c\u50cf\u6e90","text":""},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.2.pip%E7%AC%94%E8%AE%B0.html#_1","title":"\u4e34\u65f6\u4f7f\u7528","text":"<pre><code>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple some-package\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.2.pip%E7%AC%94%E8%AE%B0.html#_2","title":"\u8bbe\u4e3a\u9ed8\u8ba4","text":"<p>\u5347\u7ea7 pip \u5230\u6700\u65b0\u7684\u7248\u672c (&gt;=10.0.0) \u540e\u8fdb\u884c\u914d\u7f6e\uff1a</p> <pre><code>pip install pip -U\npip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple\n</code></pre> <p>\u4e34\u65f6\u4f7f\u7528\u6e05\u534e\u955c\u50cf\u7ad9\u6765\u5347\u7ea7 pip\uff1a</p> <pre><code>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pip -U\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.2.pip%E7%AC%94%E8%AE%B0.html#package","title":"\u5b89\u88c5 package","text":"<pre><code># \u4ece\u6307\u5b9a\u7684requirements\u6587\u4ef6\u5b89\u88c5\u9700\u8981\u7684package\npip install -r\npip install --requirement\n\n# \u66f4\u65b0package\npip install -U\npip install --upgrade\n\n# \u66f4\u65b0package\u65f6\u6307\u5b9a\u5904\u7406\u4f9d\u8d56\u7684\u7b56\u7565\n## \u6240\u6709\u4f9d\u8d56\u4f1a\u88ab\u66f4\u65b0\npip install --upgrade-strategy eager\n## \u5982\u679c\u4f9d\u8d56\u4f9d\u7136\u6ee1\u8db3\u8981\u6c42 \u5219\u4e0d\u4f1a\u66f4\u65b0\u4f9d\u8d56\npip install --upgrade-strategy only-if-needed\n\n# \u5f3a\u5236\u91cd\u88c5package\npip install --force-reinstall\n\n# \u4ece\u6307\u5b9a\u7684Python Package Index \u5b89\u88c5package\npip install -i https://pypi.tuna.tsinghua.edu.cn/simple\n\n# \u4ece\u672c\u5730\u76ee\u5f55\u5b89\u88c5package\npip install -r &lt;file&gt; --no-index --find-links &lt;local path&gt;\n\n# \u4e0d\u5b89\u88c5\u8f6f\u4ef6\u5305\u4f9d\u8d56\u9879\npip install --no-deps\n\n# \u5c06\u8f6f\u4ef6\u5305\u5b89\u88c5\u5230\u5f53\u524d\u7cfb\u7edf\u5e73\u53f0\u7684\u7528\u6237\u5b89\u88c5\u76ee\u5f55\npip install --user\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.2.pip%E7%AC%94%E8%AE%B0.html#package-index","title":"\u8bbe\u7f6e Package Index","text":"<pre><code>-i, --index-url &lt;url&gt;      \u6307\u5b9a Package Index URL\n--extra-index-url &lt;url&gt;    \u9664\u4e86\u4f7f\u7528 --index-url \u6307\u5b9a\u7684 URL\n                           \u8fd8\u4f7f\u7528 --extra-index-url \u6307\u5b9a\u7684 URL\n--no-index                 \u5ffd\u7565package index \u4ec5\u5728 --find-links \u6307\u5b9a\u7684URL\u4e2d\u67e5\u627e\u5305\n-f, --find-links &lt;url&gt;     \u53ef\u4ee5\u662f\u4e00\u4e2a\u7f51\u5740\uff0c\u6216\u8005\u50a8\u5b58\u4e86package\u7684\u672c\u5730\u76ee\u5f55\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.2.pip%E7%AC%94%E8%AE%B0.html#package_1","title":"\u4e0b\u8f7d package","text":"<pre><code># \u4ece\u6e05\u534e\u955c\u50cf\u4e0b\u8f7d requirements \u6587\u4ef6\u6307\u5b9a\u7684 package \u5230\u5f53\u524d\u76ee\u5f55\npip download -r &lt;file&gt; -d . -i https://pypi.tuna.tsinghua.edu.cn/simple\n\npip download --only-binary=:all: \\\n--platform macosx-10_10_x86_64 \\\n--python-version 27 \\\n--implementation cp \\\nSomePackage\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.2.pip%E7%AC%94%E8%AE%B0.html#_3","title":"\u68c0\u67e5\u4f9d\u8d56\u662f\u5426\u6ee1\u8db3","text":"<pre><code># \u68c0\u67e5numpy\u7684\u4f9d\u8d56\u662f\u5426\u6ee1\u8db3\npip check numpy\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.2.pip%E7%AC%94%E8%AE%B0.html#package_2","title":"\u663e\u793a\u5df2\u5b89\u88c5\u7684 package \u7684\u4fe1\u606f","text":"<pre><code># \u53ef\u4ee5\u663e\u793a \u7248\u672c\u4fe1\u606f\u3001\u5b89\u88c5\u4f4d\u7f6e\u3001\u4f9d\u8d56\u8be5package\u7684packages \u7b49\u7b49\npip show numpy\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.2.pip%E7%AC%94%E8%AE%B0.html#pypi-package","title":"\u5728 PyPi \u641c\u7d22 package","text":"<pre><code>pip search numpy\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.2.pip%E7%AC%94%E8%AE%B0.html#package_3","title":"\u8f93\u51fa\u5b89\u88c5\u7684 package \u5217\u8868","text":"<pre><code># \u9ed8\u8ba4\u4e3a columns \u683c\u5f0f\npip list\n# \u4ee5freeze\u683c\u5f0f\u8f93\u51fa\npip list --format freeze\n# \u4ee5json\u683c\u5f0f\u8f93\u51fa\npip list --format json\n\n# \u4ee5 freeze \u683c\u5f0f\u8f93\u51fa\npip freeze\n# \u8f93\u51fa\u5230\u6587\u4ef6\npip freeze &gt; &lt;file&gt;\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.2.pip%E7%AC%94%E8%AE%B0.html#pip_2","title":"\u66f4\u65b0 pip","text":"<pre><code>python -m pip install --upgrade pip -i https://pypi.tuna.tsinghua.edu.cn/simple\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.2.pip%E7%AC%94%E8%AE%B0.html#_4","title":"\u7f13\u5b58\u7ba1\u7406","text":"<pre><code># \u67e5\u770b\u5f53\u524d\u7f13\u5b58\u76ee\u5f55\npip cache dir\n# \u663e\u793a\u7f13\u5b58\u7684\u76f8\u5173\u4fe1\u606f\npip cache info\n# \u5217\u51fa\u7f13\u5b58\u4e2d\u7684 package \u540d\u5b57\npip cache list\n# \u4ece\u7f13\u5b58\u4e2d\u79fb\u9664\u6307\u5b9a package\npip cache remove\n# \u5220\u9664\u6240\u6709 package \u7684\u7f13\u5b58\npip cache purge\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.3.pip%E5%AF%B9%E6%AF%94conda.html","title":"5.3.pip\u5bf9\u6bd4conda","text":""},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.3.pip%E5%AF%B9%E6%AF%94conda.html#conda-and-pip","title":"\u4e86\u89e3conda and pip\u7684\u5f02\u540c","text":"\u2014\u2014 \u672c\u6587\u7ffb\u8bd1\u81ea\uff1aUnderstanding Conda and Pip      \u539f\u6587\u4f5c\u8005\uff1aJonathan Helmus \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0  <p>Conda \u548c pip \u8fd9\u4e24\u4e2a\u5de5\u5177\u6709\u4e00\u4e9b\u91cd\u53e0\u7684\u529f\u80fd\uff0c\u56e0\u6b64\u5b83\u4eec\u5e38\u5e38\u88ab\u8ba4\u4e3a\u662f\u6ca1\u4ec0\u4e48\u533a\u522b\u7684\uff0c\u4f46\u5b9e\u9645\u4e0a\u5b83\u4eec\u88ab\u8bbe\u8ba1\u7528\u4e8e\u4e0d\u540c\u7684\u76ee\u7684\u3002pip \u662f Python Packaging Authority \u63a8\u8350\u7684\u4ece Python Package Index (PyPI) \u5b89\u88c5\u5305\u7684\u5de5\u5177\u3002 pip \u53ef\u4ee5\u5b89\u88c5\u6253\u5305\u4e3a wheels \u683c\u5f0f\u7684\u5305\uff0c\u6216\u8005\u76f4\u63a5\u4ece\u6e90\u4ee3\u7801\u7f16\u8bd1\u5b89\u88c5\u3002\u4ece\u6e90\u4ee3\u7801\u6587\u4ef6\u5b89\u88c5\u53ef\u80fd\u9700\u8981\u7cfb\u7edf\u5b89\u88c5\u517c\u5bb9\u7684\u7f16\u8bd1\u5668\u548c\u76f8\u5e94\u7684\u5e931\u3002</p> <p>Conda \u662f\u8de8\u5e73\u53f0\u7684\u5305\u548c\u73af\u5883\u7ba1\u7406\u5668\uff0c\u53ef\u4ee5\u5b89\u88c5\u548c\u7ba1\u7406\u6765\u81ea Anaconda repository \u548c Anaconda Cloud \u7684 conda \u5305\u3002Conda \u5305\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u4e0d\u9700\u8981\u4f7f\u7528\u7f16\u8bd1\u5668\u6765\u5b89\u88c5\u3002\u53e6\u5916\uff0cconda \u5305\u4e0d\u9650\u4e8e Python\u5305\uff0c\u8fd8\u53ef\u4ee5\u5305\u542b C \u6216 C++ \u5e93\u3001R\u5305\u6216\u4efb\u4f55\u5176\u4ed6\u8f6f\u4ef6\u3002</p> <p>\u8fd9\u662f conda \u548c pip \u7684\u5173\u952e\u533a\u522b\u3002pip \u53ea\u80fd\u5b89\u88c5 Python \u5305\uff0c\u800c conda \u5b89\u88c5\u7684\u5305\u53ef\u4ee5\u662f\u7528\u4efb\u4f55\u8bed\u8a00\u7f16\u5199\u7684\u3002\u4f8b\u5982\uff0c\u5728\u4f7f\u7528 pip \u4e4b\u524d\uff0c\u5fc5\u987b\u901a\u8fc7\u201d\u7cfb\u7edf\u7a0b\u5e8f\u7ba1\u7406\u5668\u201c\u6216\u201d\u4e0b\u8f7d\u5e76\u8fd0\u884c\u5b89\u88c5\u7a0b\u5e8f\u201c\u6765\u5b89\u88c5 Python \u89e3\u91ca\u5668\uff0c\u800c Conda \u53ef\u4ee5\u76f4\u63a5\u5b89\u88c5 Python \u5305\u548c Python \u89e3\u91ca\u5668\u3002</p> <p>\u8fd9\u4e24\u4e2a\u5de5\u5177\u7684\u53e6\u4e00\u4e2a\u663e\u8457\u533a\u522b\u662f conda \u53ef\u4ee5\u4e3a\u4e0d\u540c\u7248\u672c\u7684 python \u6216 package \u521b\u5efa\u9694\u79bb\u7684\u73af\u5883\u3002\u8fd9\u5728\u4f7f\u7528\u6570\u636e\u79d1\u5b66\u5de5\u5177\u65f6\u975e\u5e38\u6709\u7528\uff0c\u56e0\u4e3a\u4e0d\u540c\u7684\u5de5\u5177\u53ef\u80fd\u5305\u542b\u51b2\u7a81\u7684\u4f9d\u8d56\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5b83\u4eec\u4e0d\u9002\u5408\u5b89\u88c5\u5230\u76f8\u540c\u7684\u73af\u5883\u4e2d\u3002pip \u6ca1\u6709\u5185\u7f6e\u7684\u73af\u5883\u7ba1\u7406\u529f\u80fd\uff0c\u800c\u662f\u4f9d\u8d56\u4e8e virtualenv \u6216 venv  \u7b49\u5176\u4ed6\u5de5\u5177\u6765\u521b\u5efa\u9694\u79bb\u73af\u5883\u3002pipenv\u3001poetry\u3001hatch wrap pip\u3001virtualenv \u7b49\u5de5\u5177\u63d0\u4f9b\u4e86\u7edf\u4e00\u7684\u65b9\u6cd5\u6765\u521b\u5efa\u5355\u72ec\u7684\u73af\u5883\u3002</p> <p>pip \u548c conda \u5728\u5982\u4f55\u5b9e\u73b0\u73af\u5883\u4e2d\u7684\u4f9d\u8d56\u5173\u7cfb\u65b9\u9762\u4e5f\u6709\u6240\u4e0d\u540c\u3002\u5b89\u88c5\u5305\u65f6\uff0cpip \u4f1a\u5728\u9012\u5f52\u7684\u4e32\u884c\u5faa\u73af\u4e2d\u5b89\u88c5\u4f9d\u8d56\u9879\uff0c\u6ca1\u6709\u52aa\u529b\u786e\u4fdd\u540c\u65f6\u6ee1\u8db3\u6240\u6709\u5305\u7684\u4f9d\u8d56\u6027\u3002\u5982\u679c\u8f83\u65e9\u5b89\u88c5\u7684\u5305\u4e0e\u7a0d\u540e\u5b89\u88c5\u7684\u5305\u5177\u6709\u4e0d\u517c\u5bb9\u7684\u4f9d\u8d56\uff0c\u73af\u5883\u5c31\u4f1a\u88ab\u7834\u574f\u3002\u76f8\u53cd\u7684\uff0cconda \u4f7f\u7528\u4e00\u4e2a satisfiability (SAT) \u7684\u5904\u7406\u7a0b\u5e8f\u53bb\u68c0\u67e5\u73af\u5883\u4e2d\u7684\u6240\u6709\u5305\u7684\u4f9d\u8d56\u662f\u5426\u90fd\u5f97\u5230\u6ee1\u8db3\u3002\u6b64\u68c0\u67e5\u53ef\u80fd\u9700\u8981\u989d\u5916\u7684\u65f6\u95f4\uff0c\u4f46\u53ef\u4ee5\u9632\u6b62\u521b\u5efa\u4e00\u4e2a\u88ab\u7834\u574f\u7684\u73af\u5883\u3002\u53ea\u8981\u5305\u542b\u4f9d\u8d56\u5173\u7cfb\u7684 package metadata \u662f\u6b63\u786e\u7684\uff0cconda \u5c31\u53ef\u4ee5\u521b\u5efa\u6709\u6548\u7684\u73af\u5883\u3002</p> <p>\u8003\u8651\u5230 conda \u548c pip \u4e4b\u95f4\u7684\u76f8\u4f3c\u6027\uff0c\u6709\u4e9b\u4eba\u8bd5\u56fe\u5c06\u8fd9\u4e9b\u5de5\u5177\u7ed3\u5408\u8d77\u6765\u521b\u5efa\u6570\u636e\u79d1\u5b66\u73af\u5883\u4e5f\u5c31\u4e0d\u8db3\u4e3a\u5947\u4e86\u3002\u5c06 pip \u4e0e conda \u7ed3\u5408\u7684\u4e3b\u8981\u539f\u56e0\u662f\u6709\u4e9b\u5305\u53ea\u80fd\u901a\u8fc7 pip \u5b89\u88c5\u3002\u5728 Anaconda repository \u4e2d\u67091500\u591a\u4e2a\u5305\u53ef\u7528\uff0c\u5176\u4e2d\u6db5\u76d6\u4e86\u6700\u6d41\u884c\u7684\u6570\u636e\u79d1\u5b66\u3001\u673a\u5668\u5b66\u4e60\u548cAI\u6846\u67b6\u3002\u53e6\u5916\uff0c\u5728 conda-forge \u548c bioconda \u7684 channel \u8fd8\u6709\u6570\u4ee5\u5343\u8ba1\u7684\u5305\u53ef\u4ee5\u4f7f\u7528 conda \u5b89\u88c5\u3002\u5c3d\u7ba1 Anaconda cloud \u6709\u5927\u91cf\u7684\u5305\uff0c\u4f46\u4e0e PyPI \u4e0a\u53ef\u63d0\u4f9b\u7684 150,000 \u591a\u4e2a\u5305\u76f8\u6bd4\uff0c\u6570\u91cf\u4ecd\u7136\u5f88\u5c11\u3002\u6709\u65f6\u5019\u9700\u8981\u7684\u5305\u6ca1\u6709\u76f8\u5e94\u7684 conda \u5305\uff0c\u4f46\u5728 PyPI \u4e0a\u6709\u5b89\u88c5\u6587\u4ef6\uff0c\u5219\u53ef\u4ee5\u7528 pip \u5b89\u88c5\u3002</p>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.3.pip%E5%AF%B9%E6%AF%94conda.html#_1","title":"\u8865\u5145","text":"<ul> <li> <p>conda \u5b89\u88c5\u5305\u8def\u5f84\u662f <code>\\Anaconda3\\pkgs</code></p> </li> <li> <p>pip \u5b89\u88c5\u5305\u8def\u5f84\u5728\u865a\u62df\u73af\u5883\u4e0b\u662f <code>\\Anaconda3\\envs\\Lib\\site-packages</code></p> </li> <li>pip\u53ef\u80fd\u4f1a\u751f\u6210\u5b58\u5728\u51b2\u7a81\u7684\u73af\u5883\uff0c\u800cconda\u4e0d\u4f1a</li> <li>conda\u4e0d\u4f1a\u91cd\u590d\u5b89\u88c5\u5df2\u7ecf\u5b89\u88c5\u7684\u4f9d\u8d56\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cpip\u4e5f\u5982\u6b64</li> <li>pip\u5b89\u88c5\u7684\u5305\u4e0d\u4f1a\u663e\u793a\u5728anaconda navigation\u7684\u73af\u5883\u4e2d</li> <li>conda \u4e3a\u591a\u4e2a\u73af\u5883\u5b89\u88c5\u5305\u65f6\uff0c\u5bf9\u4e8e\u540c\u4e00\u4e2a\u5305\u53ea\u5b89\u88c5\u4e00\u6b21\uff0c\u7531conda\u96c6\u4e2d\u7ba1\u7406</li> <li>pip \u4e3a\u591a\u4e2a\u73af\u5883\u5b89\u88c5\u5305\u65f6\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u73af\u5883\u5b89\u88c5\u5305\u4f7f\u7528\u7684pip\u5728\u4e0d\u540c\u7684\u8def\u5f84\u4e0b\uff0c\u56e0\u6b64\u4f1a\u91cd\u590d\u5b89\u88c5</li> </ul> <p>\u5173\u4e8ePython\u5305\u7ba1\u7406\u5de5\u5177\u7684\u53d1\u5c55\u5386\u53f2\u53ef\u4ee5\u53c2\u8003Python's New Package Landscape (andrew)\uff0c\u5176\u4e2d\u6587\u7ffb\u8bd1\u7248\u672c\u5728\u8fd9\u3002\u63d2\u56fe\u6765\u81eahttps://www.xkcd.com/1987/\u3002</p> <p>\u5efa\u8bae\u4f7f\u7528conda\u521b\u5efa\u548c\u5220\u9664Python\u73af\u5883\uff0c\u5355\u72ec\u4f7f\u7528pip\u5b89\u88c5Python Package\u3002\u539f\u56e0\u6709\u5982\u4e0b\u4e09\u70b9\uff1a</p> <p>\u968f\u7740conda\u7684\u66f4\u65b0\uff0c\u4ee5\u4e0b\u60c5\u51b5\u6709\u53ef\u80fd\u6539\u53d8\u3002</p> <ol> <li>\u6df7\u7528conda\u548cpip\u5b89\u88c5package\u6709\u53ef\u80fd\u4ea7\u751f\u51b2\u7a81\u3002</li> <li>\u867d\u7136\u4f7f\u7528conda\u4e00\u822c\u4e0d\u4f1a\u4ea7\u751f\u4f9d\u8d56\u51b2\u7a81\uff0c\u4f46\u662f\u4f9d\u7136\u6709\u53ef\u80fd\u7834\u73afPython\u73af\u5883\uff0c\u4f8b\u5982\u4f7f\u7528conda\u5b89\u88c5package\u65f6\uff0c\u5982\u679c\u4e0d\u6ce8\u610f\uff0c\u67d0\u4e9b\u4f9d\u8d56\u9879\u4f1a\u88ab\u81ea\u52a8\u66f4\u65b0\uff0c\u4f46\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u9879\u76ee\u4ee3\u7801 break down\u3002</li> <li>\u56e0\u4e3aconda\u4e0d\u4f1a\u4e3a\u4e0d\u540c\u7684\u73af\u5883\u91cd\u590d\u5b89\u88c5\u76f8\u540c\u7684package\uff0c\u6240\u4ee5\u4e0d\u540c\u73af\u5883\u4e4b\u95f4\u6709\u53ef\u80fd\u4ea7\u751f\u51b2\u7a81\uff08\u4e0d\u786e\u5b9a\uff09\u3002</li> </ol> <ol> <li> <p>\u7f16\u8bd1\u5668\u548c\u5e93\u7528\u4e8e\u7f16\u8bd1\u6e90\u4ee3\u7801\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.4.anaconda.html","title":"5.4.anaconda","text":""},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.4.anaconda.html#anaconda","title":"Anaconda\u4e0b\u5404\u4e2a\u6587\u4ef6\u5939\u4f5c\u7528","text":"<ol> <li> <p><code>anacoda3/conda-meta/history</code>\uff1a\u8bb0\u5f55\u7528\u6237\u4f7f\u7528conda\u547d\u4ee4\u5b89\u88c5\u3001\u5378\u8f7d\u3001\u5347\u7ea7\u5305\u7684\u64cd\u4f5c</p> </li> <li> <p><code>anaconda3/pkgs/urls.txt</code>\uff1a\u8bb0\u5f55\u7528\u6237\u4f7f\u7528conda\u547d\u4ee4\u4e0b\u8f7d\u5305\u7684\u5730\u5740\uff0c\u76f4\u63a5\u590d\u5236\u5730\u5740\u5230\u6d4f\u89c8\u5668\u4e2d\u4e5f\u53ef\u4ee5\u4e0b\u8f7d</p> </li> <li> <p><code>anaconda3/conda-meta/</code>\uff1a\u6587\u4ef6\u5939\u91cc\u4fdd\u5b58\u7740\u4e0e\u5404\u4e2a\u5305\u540c\u540d\u7684.json\u6587\u4ef6\uff08\u6709\u4e9b\u5305\u4f1a\u6709\u591a\u4e2a.json\u6587\u4ef6\uff09\uff0c\u8fd9\u4e9bjson\u6587\u4ef6\u4f1a\u8bb0\u5f55\u5bf9\u5e94\u7684\u5305\u7684\u7248\u672c\u3001\u5b58\u653e\u4f4d\u7f6e\u3001md5\u503c\u7b49\u4fe1\u606f</p> </li> <li> <p><code>anaconda3/pkgs/</code>\uff1a\u8fd9\u4e2a\u6587\u4ef6\u5939\u91cc\u5b58\u653e\u4e86\u6bcf\u4e2a\u5305\u521a\u4e0b\u8f7d\u6765\u7684\u6587\u4ef6\uff0c\u683c\u5f0f\u662f.tar.gz2\uff0c\u53e6\u5916\u4e5f\u4f1a\u81ea\u52a8\u89e3\u538b\u5230\u8fd9\u4e2a\u6587\u4ef6\u5939\u91cc\u3002\u6bd4\u5982\u4f60\u4e0b\u8f7d\u4e86six\u8fd9\u4e2a\u5305\uff0canaconda3/pkgs/\u8fd9\u4e2a\u6587\u4ef6\u5939\u91cc\u4f1a\u591a\u51fa\u5982\u4e0b2\u4e2a\u6587\u4ef6\u3002\u53e6\u5916\uff0c\u5f53\u4f60\u5378\u8f7d\u5305\u7684\u65f6\u5019\uff0c\u8fd9\u91cc\u76842\u4e2a\u6587\u4ef6\u662f\u4e0d\u4f1a\u88ab\u5220\u9664\u7684</p> </li> <li> <p><code>anaconda3/lib/python3.6/site-packages/</code>\uff1a\u5305\u7684\u5b58\u653e\u76ee\u5f55</p> </li> <li> <p><code>anaconda3/bin</code>\uff1a\u5b89\u88c5\u4e00\u4e9b\u5305\u7684\u65f6\u5019\u4f1a\u5f80\u91cc\u6dfb\u52a0\u4e00\u4e9b\u53ef\u6267\u884c\u6587\u4ef6</p> </li> <li> <p><code>anaconda3/lib</code>\uff1a\u5b89\u88c5\u4e00\u4e9b\u5305\u7684\u65f6\u5019\u4f1a\u5f80\u91cc\u6dfb\u52a0\u4e00\u4e9b.so\u6587\u4ef6</p> </li> <li> <p><code>anaconda3/include</code>\uff1a\u5b89\u88c5\u4e00\u4e9b\u5305\u7684\u65f6\u5019\u4f1a\u5f80\u91cc\u6dfb\u52a0\u4e86\u4e00\u4e9b\u6587\u4ef6</p> </li> <li> <p><code>anaconda3/man</code>\uff1a\u5b89\u88c5\u4e00\u4e9b\u5305\u7684\u65f6\u5019\u4f1a\u5f80\u91cc\u91cc\u6dfb\u52a0\u4e86\u4e00\u4e9b\u6587\u4ef6</p> </li> <li> <p><code>anaconda3/share</code>\uff1a\u5b89\u88c5\u4e00\u4e9b\u5305\u7684\u65f6\u5019\u4f1a\u5f80\u91cc\u91cc\u6dfb\u52a0\u4e86\u4e00\u4e9b\u6587\u4ef6</p> </li> </ol>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.5.jupyter%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0.html","title":"5.5.jupyter\u4f7f\u7528\u7b14\u8bb0","text":""},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.5.jupyter%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0.html#_1","title":"\u5b89\u88c5","text":"<p>anaconda \u96c6\u6210\u4e86 jupyter notebook\uff0c\u76f4\u63a5\u5b89\u88c5 anaconda \u662f\u4f7f\u7528 jupyter \u7684\u6700\u7b80\u5355\u65b9\u6cd5\u3002\u5982\u679c\u89c9\u5f97 anaconda \u592a\u91cd\u4e86\uff0c\u76f4\u63a5\u4f7f\u7528 conda \u6216\u8005 pip \u5b89\u88c5jupyter\u4e5f\u662f\u6ca1\u95ee\u9898\u7684\u3002\u5177\u4f53\u7684\u5b89\u88c5\u8fc7\u7a0b\u53c2\u8003 jupyter \u7684\u5b98\u7f51\u7684\u6559\u7a0b\uff1aInstalling the Jupyter Software\u3002</p>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.5.jupyter%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0.html#_2","title":"\u8ba9\u4ee3\u7801\u7a97\u53e3\u8f93\u51fa\u5168\u90e8\u7ed3\u679c","text":"<ul> <li>\u5c06\u6b64\u4ee3\u7801\u653e\u7f6e\u5728jupyter\u5355\u5143\u4e2d\uff1a</li> </ul> <p><pre><code>from IPython.core.interactiveshell import InteractiveShell \nInteractiveShell.ast_node_interactivity = \"all\" \n</code></pre> - \u4fee\u6539\u5168\u5c40\u8bbe\u7f6e</p> <p>\u5728Windows\u4e2d\uff0c\u4ee5\u4e0b\u6b65\u9aa4\u4f1a\u4f7f\u66f4\u6539\u6c38\u4e45\u751f\u6548\u3002\u5e94\u8be5\u9002\u7528\u4e8e\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7edf\u3002\u60a8\u53ef\u80fd\u5fc5\u987b\u66f4\u6539\u8def\u5f84\u3002</p> <p><code>C:\\Users\\your_profile\\\\.ipython\\profile_default</code></p> <p>\u505a\u4e00\u4e2aipython_config.py\u6587\u4ef6\u4e0e\u4e0b\u9762\u7684\u4ee3\u7801profile_defaults\uff1a <pre><code>c = get_config() \nc.InteractiveShell.ast_node_interactivity = \"all\" \n</code></pre> - \u4f7f\u7528<code>print</code>\u51fd\u6570</p>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.5.jupyter%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0.html#_3","title":"\u5feb\u6377\u952e\u4f7f\u7528\u6307\u5357","text":"<p>Jupyter Notebook \u6709\u4e24\u79cd\u952e\u76d8\u8f93\u5165\u6a21\u5f0f\u3002\u5373\u547d\u4ee4\u6a21\u5f0f\u548c\u7f16\u8f91\u6a21\u5f0f\uff0c\u8fd9\u4e0e Vim \u6709\u4e9b\u7c7b\u4f3c\u3002\u5728\u7f16\u8f91\u6a21\u5f0f\u4e0b\uff0c\u53ef\u4ee5\u5f80cell\u4e2d\u952e\u5165\u4ee3\u7801\u6216\u6587\u672c\uff0c\u6b64\u65f6\u547d\u4ee4\u6a21\u5f0f\u4e0b\u7684\u5feb\u6377\u952e\u4e0d\u751f\u6548\u3002\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\uff0c\u53ef\u4ee5\u7528\u5feb\u6377\u952e\u547d\u4ee4\u8fd0\u884c\u5355\u5143\u683c\uff0c\u79fb\u52a8\u5355\u5143\u683c\uff0c\u5207\u6362\u5355\u5143\u683c\u7f16\u8f91\u72b6\u6001\u7b49\u7b49\uff0c\u6b64\u65f6\u7f16\u8f91\u6a21\u5f0f\u4e0b\u7684\u5feb\u6377\u952e\u4e0d\u751f\u6548\u3002</p> <p>\u4ece\u547d\u4ee4\u6a21\u5f0f\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f\u9700\u6309 <code>Enter</code> \u952e\uff0c\u4ece\u7f16\u8f91\u6a21\u5f0f\u5207\u6362\u5230\u547d\u4ee4\u6a21\u5f0f\u9700\u6309 <code>Esc</code> \u952e\u3002</p> <p>\u4ee5\u4e0b\u4e24\u8868\u5206\u522b\u662f\u5bf9\u547d\u4ee4\u548c\u7f16\u8f91\u4e24\u79cd\u6a21\u5f0f\u4e0b\u5feb\u6377\u952e\u7684\u7b80\u5355\u8bf4\u660e\uff1a</p>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.5.jupyter%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0.html#esc","title":"\u547d\u4ee4\u6a21\u5f0f\u5feb\u6377\u952e\uff08\u6309 Esc \u952e\u5f00\u542f\uff09","text":"\u5feb\u6377\u952e \u4f5c\u7528 \u8bf4\u660e Enter \u8f6c\u5165\u7f16\u8f91\u6a21\u5f0f Shift-Enter \u8fd0\u884c\u672c\u5355\u5143\uff0c\u9009\u4e2d\u4e0b\u4e2a\u5355\u5143 \u65b0\u5355\u5143\u9ed8\u8ba4\u4e3a\u547d\u4ee4\u6a21\u5f0f Ctrl-Enter \u8fd0\u884c\u672c\u5355\u5143 Alt-Enter \u8fd0\u884c\u672c\u5355\u5143\uff0c\u5728\u5176\u4e0b\u63d2\u5165\u65b0\u5355\u5143 \u65b0\u5355\u5143\u9ed8\u8ba4\u4e3a\u7f16\u8f91\u6a21\u5f0f Y \u5355\u5143\u8f6c\u5165\u4ee3\u7801\u72b6\u6001 M \u5355\u5143\u8f6c\u5165 markdown \u72b6\u6001 R \u5355\u5143\u8f6c\u5165 raw \u72b6\u6001 1 \u8bbe\u5b9a 1 \u7ea7\u6807\u9898 \u4ec5\u5728 markdown \u72b6\u6001\u4e0b\u65f6\u5efa\u8bae\u4f7f\u7528\u6807\u9898\u76f8\u5173\u5feb\u6377\u952e\uff0c\u5982\u679c\u5355\u5143\u5904\u4e8e\u5176\u4ed6\u72b6\u6001\uff0c\u5219\u4f1a\u5f3a\u5236\u5207\u6362\u5230 markdown \u72b6\u6001 2 \u8bbe\u5b9a 2 \u7ea7\u6807\u9898 3 \u8bbe\u5b9a 3 \u7ea7\u6807\u9898 4 \u8bbe\u5b9a 4 \u7ea7\u6807\u9898 5 \u8bbe\u5b9a 5 \u7ea7\u6807\u9898 6 \u8bbe\u5b9a 6 \u7ea7\u6807\u9898 Up \u9009\u4e2d\u4e0a\u65b9\u5355\u5143 K \u9009\u4e2d\u4e0a\u65b9\u5355\u5143 Down \u9009\u4e2d\u4e0b\u65b9\u5355\u5143 J \u9009\u4e2d\u4e0b\u65b9\u5355\u5143 Shift-K \u8fde\u7eed\u9009\u62e9\u4e0a\u65b9\u5355\u5143 Shift-J \u8fde\u7eed\u9009\u62e9\u4e0b\u65b9\u5355\u5143 A \u5728\u4e0a\u65b9\u63d2\u5165\u65b0\u5355\u5143 B \u5728\u4e0b\u65b9\u63d2\u5165\u65b0\u5355\u5143 X \u526a\u5207\u9009\u4e2d\u7684\u5355\u5143 C \u590d\u5236\u9009\u4e2d\u7684\u5355\u5143 Shift-V \u7c98\u8d34\u5230\u4e0a\u65b9\u5355\u5143 V \u7c98\u8d34\u5230\u4e0b\u65b9\u5355\u5143 Z \u6062\u590d\u5220\u9664\u7684\u6700\u540e\u4e00\u4e2a\u5355\u5143 D,D \u5220\u9664\u9009\u4e2d\u7684\u5355\u5143 \u8fde\u7eed\u6309\u4e24\u4e2a D \u952e Shift-M \u5408\u5e76\u9009\u4e2d\u7684\u5355\u5143 Ctrl-S \u4fdd\u5b58\u5f53\u524d NoteBook S \u4fdd\u5b58\u5f53\u524d NoteBook L \u5f00\u5173\u884c\u53f7 \u7f16\u8f91\u6846\u7684\u884c\u53f7\u662f\u53ef\u4ee5\u5f00\u542f\u548c\u5173\u95ed\u7684 O \u8f6c\u6362\u8f93\u51fa Shift-O \u8f6c\u6362\u8f93\u51fa\u6eda\u52a8 Esc \u5173\u95ed\u9875\u9762 Q \u5173\u95ed\u9875\u9762 H \u663e\u793a\u5feb\u6377\u952e\u5e2e\u52a9 I,I \u4e2d\u65ad NoteBook \u5185\u6838 0,0 \u91cd\u542f NoteBook \u5185\u6838 Shift \u5ffd\u7565 Shift-Space \u5411\u4e0a\u6eda\u52a8 Space \u5411\u4e0b\u6eda\u52a8"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.5.jupyter%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0.html#enter","title":"\u7f16\u8f91\u6a21\u5f0f\u5feb\u6377\u952e\uff08 \u6309 Enter \u952e\u542f\u52a8\uff09","text":"\u5feb\u6377\u952e \u4f5c\u7528 \u8bf4\u660e Tab \u4ee3\u7801\u8865\u5168\u6216\u7f29\u8fdb Shift-Tab \u63d0\u793a \u8f93\u51fa\u5e2e\u52a9\u4fe1\u606f\uff0c\u90e8\u5206\u51fd\u6570\u3001\u7c7b\u3001\u65b9\u6cd5\u7b49\u4f1a\u663e\u793a\u5176\u5b9a\u4e49\u539f\u578b\uff0c\u5982\u679c\u5728\u5176\u540e\u52a0 <code>?</code> \u518d\u8fd0\u884c\u4f1a\u663e\u793a\u66f4\u52a0\u8be6\u7ec6\u7684\u5e2e\u52a9 Ctrl-] \u7f29\u8fdb \u5411\u53f3\u7f29\u8fdb Ctrl-[ \u89e3\u9664\u7f29\u8fdb \u5411\u5de6\u7f29\u8fdb Ctrl-A \u5168\u9009 Ctrl-Z \u64a4\u9500 Ctrl-Shift-Z \u91cd\u505a Ctrl-Y \u91cd\u505a Ctrl-Home \u8df3\u5230\u5355\u5143\u5f00\u5934 Ctrl-Up \u8df3\u5230\u5355\u5143\u5f00\u5934 Ctrl-End \u8df3\u5230\u5355\u5143\u672b\u5c3e Ctrl-Down \u8df3\u5230\u5355\u5143\u672b\u5c3e Ctrl-Left \u8df3\u5230\u5de6\u8fb9\u4e00\u4e2a\u5b57\u9996 Ctrl-Right \u8df3\u5230\u53f3\u8fb9\u4e00\u4e2a\u5b57\u9996 Ctrl-Backspace \u5220\u9664\u524d\u9762\u4e00\u4e2a\u5b57 Ctrl-Delete \u5220\u9664\u540e\u9762\u4e00\u4e2a\u5b57 Esc \u5207\u6362\u5230\u547d\u4ee4\u6a21\u5f0f Ctrl-M \u5207\u6362\u5230\u547d\u4ee4\u6a21\u5f0f Shift-Enter \u8fd0\u884c\u672c\u5355\u5143\uff0c\u9009\u4e2d\u4e0b\u4e00\u5355\u5143 \u65b0\u5355\u5143\u9ed8\u8ba4\u4e3a\u547d\u4ee4\u6a21\u5f0f Ctrl-Enter \u8fd0\u884c\u672c\u5355\u5143 Alt-Enter \u8fd0\u884c\u672c\u5355\u5143\uff0c\u5728\u4e0b\u9762\u63d2\u5165\u4e00\u5355\u5143 \u65b0\u5355\u5143\u9ed8\u8ba4\u4e3a\u7f16\u8f91\u6a21\u5f0f Ctrl-Shift-- \u5206\u5272\u5355\u5143 \u6309\u5149\u6807\u6240\u5728\u884c\u8fdb\u884c\u5206\u5272 Ctrl-Shift-Subtract \u5206\u5272\u5355\u5143 Ctrl-S \u4fdd\u5b58\u5f53\u524d NoteBook Shift \u5ffd\u7565 Up \u5149\u6807\u4e0a\u79fb\u6216\u8f6c\u5165\u4e0a\u4e00\u5355\u5143 Down \u5149\u6807\u4e0b\u79fb\u6216\u8f6c\u5165\u4e0b\u4e00\u5355\u5143 Ctrl-/ \u6ce8\u91ca\u6574\u884c/\u64a4\u9500\u6ce8\u91ca \u4ec5\u4ee3\u7801\u72b6\u6001\u6709\u6548 <p>\u6ce8\uff1a \u5982\u679c\u5feb\u6377\u952e\u88ab\u7cfb\u7edf\u4e2d\u7684\u5176\u5b83\u5e94\u7528\u5360\u7528\uff0c\u5219\u53ef\u80fd\u4f1a\u5931\u6548</p>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.5.jupyter%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0.html#notebook","title":"\u5728\u4efb\u610f\u76ee\u5f55\u4e0b\u6253\u5f00notebook","text":"<p>\u5728\u8be5\u76ee\u5f55\u4e0b\uff1ashift + \u53f3\u952e \ud83d\udc49 \u6253\u5f00powershell\uff0c\u8f93\u5165jupter notebook</p>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.5.jupyter%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0.html#_4","title":"\u81ea\u5b9a\u4e49\u4e3b\u9898","text":"<p>\u901a\u8fc7<code>pip</code>\u5b89\u88c5<code>jupyterthemes</code>package\uff1a</p> <p><pre><code># \u5b89\u88c5\npip install jupyterthemes\n# \u66f4\u65b0jupyterthemes\npip install --upgrade jupyterthemes\n</code></pre> \u5b89\u88c5\u597d<code>jupyterthemes</code>package\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u8f93\u5165<code>jupyterthemes</code>\u7684\u547d\u4ee4\uff1a <pre><code># \u5217\u51fa\u6240\u6709\u5b89\u88c5\u597d\u7684\u4e3b\u9898\njt -l\n# \u4f7f\u7528\u5e2e\u52a9\njt -h\n</code></pre></p> <p>\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u53c2\u89c1\uff1ajupyterthemes\u5b98\u65b9\u8bf4\u660e</p>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.5.jupyter%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0.html#_5","title":"\u5b89\u88c5\u6269\u5c55","text":"<p>\u5b89\u88c5<code>jupyter_contrib_nbextensions</code>\u5305\u3002\u8be5\u63d2\u4ef6\u5e76\u4e0d\u662fjupyter notebook\u5b98\u65b9\u7684\u63d2\u4ef6\u3002\u5177\u4f53\u53c2\u8003Unofficial Jupyter Notebook Extensions\u548c\u4e3aJupyter Notebook\u5b89\u88c5\u6269\u5c55\u5e76\u542f\u7528Configurator\u3002</p> <pre><code># \u5b89\u88c5\npip install jupyter_contrib_nbextensions\n# \u6216\u8005\u901a\u8fc7conda\u5b89\u88c5\nconda install -c conda-forge jupyter_contrib_nbextensions\n# \u6fc0\u6d3b\njupyter contrib nbextension install --user\n# \u542f\u7528\njupyter nbextensions_configurator enable --user\n</code></pre>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.5.jupyter%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0.html#pdf","title":"\u8f93\u51fa\u5e26\u6709\u4e2d\u6587\u7684pdf","text":"<p>jupyter notebook\u672c\u8eab\u4e0d\u80fd\u8f93\u51fapdf\uff0c\u8f93\u51fapdf\u4f9d\u8d56\u4e8e$\\LaTeX$\u5f15\u64ce\u3002\u76ee\u524d\uff0c\u5e26\u6709\u4e2d\u6587\u7684ipynb\u6587\u4ef6\u8f93\u51fa\u4e3apdf\u4f1a\u62a5\u9519\uff0c\u4e3b\u8981\u539f\u56e0\u662fjupyter\u7684$\\LaTeX$\u6a21\u677f\u8bbe\u7f6e\u4e86$\\text{pdf}\\LaTeX$\u5f15\u64ce\uff0c\u4f46\u662fPdf$\\LaTeX$\u4e0d\u53ef\u4ee5\u76f4\u63a5\u7f16\u8bd1\u4e2d\u6587\u6587\u6863\u7684\u3002\u56e0\u6b64\uff0c\u9700\u8981\u628ajupyter\u7684$\\LaTeX$\u5f15\u64ce\u6539\u4e3a$\\text{Xe}\\LaTeX$\u5f15\u64ce\u3002</p> <p>\u4fee\u6539\u6a21\u677f\uff0c\u6a21\u677f\u4f4d\u7f6e\u4e3a\uff1a...\\site-packages\\nbconvert\\templates\\latex\\article.tplx\uff0c\u5c06latex\u6a21\u677f\u7c7b\u7531article\u6539\u4e3actexart\u3002</p> <p>\u539f\u6765\u7684\u4ee3\u7801\uff1a</p> <p><pre><code>((* block docclass *))\n\\documentclass[11pt]{article}\n((* endblock docclass *))\n</code></pre> \u4fee\u6539\u540e\u7684\u4ee3\u7801\uff1a <pre><code>((* block docclass *))\n\\documentclass[13pt]{ctexart}\n((* endblock docclass *))\n</code></pre> \u6216\u8005\uff0c\u4f9d\u7136\u4f7f\u7528 PdfLatex\u5f15\u64ce\uff0c\u4f46\u5f15\u5165 xeCJK \u5b8f\u5305\uff1a <pre><code>\\documentclass[11pt]{article}\n\\usepackage{xeCJK}\n% \u5982\u679c\u8bbe\u7f6emainfont\uff0c\u5fc5\u987b\u8bbe\u7f6e\u4e3a\u5df2\u5b89\u88c5\u7684\u4e2d\u6587\u5b57\u4f53\uff0c\u4f8b\u5982\u5fae\u8f6f\u96c5\u9ed1\u3002\n%\\setCJKmainfont{SourceHanSansCN-Light}\n</code></pre> \u60f3\u8981\u4fee\u6539\u8f93\u51fapdf\u7684\u6392\u7248\uff0c\u5219\u9700\u8981\u4fee\u6539\u5176\u9884\u5b9a\u4e49\u7684latex\u6392\u7248\u6a21\u677f\uff0c\u5373base.tplx\u6587\u4ef6\u3002\u4f8b\u5982\u53ef\u4ee5\u5728base.tplx\u52a0\u5165\u5982\u4e0b\u4ee3\u7801\u63a7\u5236\u8f93\u51fa\u7684pdf\u7684\u9875\u8fb9\u8ddd\u3002 <pre><code>\\geometry{a4paper,left=2cm,right=2cm,top=1cm,bottom=1cm}\n</code></pre> \u4f46\u662f\uff0c\u53ef\u80fd\u6539\u4e86jupyter\u7684latex\u6a21\u677f\uff0cjupyter notebook\u8f93\u51fapdf\u4f9d\u7136\u62a5\u9519\u3002\u4f8b\u5982\u4e0b\u9762\u7684\u62a5\u9519\u4fe1\u606f\uff1a <pre><code>nbconvert failed: PDF creating failed, captured latex output:\nThis is XeTeX, Version 3.14159265-2.6-0.99999 (TeX Live 2018/W32TeX) (preloaded format=xelatex)\n restricted \\write18 enabled.\nentering extended mode\n! Undefined control sequence.\n&lt;*&gt; .\\notebook\n              .tex\n? \n! Emergency stop.\n&lt;*&gt; .\\notebook\n              .tex\nNo pages of output.\nTranscript written on ?.\n</code></pre> \u8fd9\u662fjupyter\u4e2d\u63a7\u5236\u8c03\u7528latex\u5f15\u64ce\u7684\u811a\u672cpdf.py\u6709bug\uff0c\u4f4d\u4e8e66\u884c\u3002</p> <p>\u539f\u6765\u7684\u4ee3\u7801\uff1a <pre><code>writer = Instance(\"nbconvert.writers.FilesWriter\", args=(), kw={'build_directory': '.'})\n</code></pre> \u6b63\u786e\u7684\u4ee3\u7801\uff1a <pre><code>writer = Instance(\"nbconvert.writers.FilesWriter\", args=(), kw={'build_directory': ''})\n</code></pre> \u539f\u6765\u7684\u4ee3\u7801\u7ed9xelatex\u5f15\u64ce\u53d1\u9001\u4e86\u9519\u8bef\u7684\u6587\u4ef6\u8def\u5f84\uff1a</p> <p>\u9519\u8bef\u7684\u8def\u5f84\uff1a <pre><code>xelatex .\\notebook.tex\n</code></pre> \u6b63\u786e\u7684\u8def\u5f84\uff1a <pre><code>xelatex notebook.tex\n</code></pre> \u8be6\u7ec6\u5185\u5bb9\u53c2\u8003\u8fd9\u91ccProblem in Converting Jupyter notebook to pdf #144\u3002</p>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.5.jupyter%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0.html#_6","title":"\u7248\u672c\u63a7\u5236","text":"<p>Save and CheckPoint \u548c Revert to CheckPoint\u3002</p>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.5.jupyter%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0.html#python","title":"\u4f7f\u7528\u975ePython\u5185\u6838","text":"<p>jupyter \u4e0d\u4ec5\u4ec5\u53ef\u4ee5\u4f7f\u7528 Python \u5185\u6838\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u8bed\u8a00\u4f5c\u4e3a\u540e\u7aef\u3002</p>"},{"location":"Python3/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/5.5.jupyter%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0.html#cf","title":"C#\u3001F#\u5185\u6838","text":"<p>\u5982\u4f55\u4e3ajupyter\u5b89\u88c5C#\u3001F#\u7684\u5185\u6838\u53ef\u4ee5\u53c2\u8003\u5fae\u8f6f\u7684\u6559\u7a0b\uff1a.NET Core with Jupyter Notebooks \u2013 Available today | Preview 1</p>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.1.DBAPI.html","title":"15.1.DBAPI","text":"<p>\u4e3a\u4e86\u89e3\u51b3Python\u6570\u636e\u5e93\u6a21\u5757\u63a5\u53e3\u4e0d\u7edf\u4e00\u7684\u95ee\u9898\uff0c\u4eba\u4eec\u4e00\u81f4\u540c\u610f\u5f00\u53d1\u4e00\u4e2a\u6807\u51c6\u6570\u636e\u5e93API\u2014\u2014DB API\u3002\u8fd9\u4e2aAPI\u7684\u6700\u65b0\u7248\u672c\u4e3a<code>2.0</code>\uff0c\u5728PEP 249 (Python Database API Specification v2.0) \u4e2d\u5b9a\u4e49 \u3002</p>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.1.DBAPI.html#_1","title":"\u5168\u5c40\u53d8\u91cf","text":"<p>\u6240\u6709\u4e0eDB API2.0\u517c\u5bb9\u7684\u6570\u636e\u5e93\u6a21\u5757\u90fd\u5fc5\u987b\u5305\u542b\u4e09\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u5b83\u4eec\u63cf\u8ff0\u4e86\u6a21\u5757\u7684\u7279\u5f81\u3002\u8fd9\u6837\u505a\u7684\u539f\u56e0\u662f\uff0c\u8fd9\u4e2aAPI\u8bbe\u8ba1\u5f97\u5f88\u7075\u6d3b\uff0c\u65e0\u9700\u8fdb\u884c\u592a\u591a\u5305\u88c5\u5c31\u80fd\u914d\u5408\u591a\u79cd\u4e0d\u540c\u7684\u5e95\u5c42\u673a\u5236\u4f7f\u7528\u3002\u5982\u679c\u8981\u8ba9\u7a0b\u5e8f\u80fd\u591f\u4f7f\u7528\u591a\u79cd\u4e0d\u540c\u7684\u6570\u636e\u5e93\uff0c\u53ef\u80fd\u4f1a\u6bd4\u8f83\u9ebb\u70e6\uff0c\u56e0\u4e3a\u9700\u8981\u8003\u8651\u4f17\u591a\u4e0d\u540c\u7684\u53ef\u80fd\u6027\u3002\u5728\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u4e00\u79cd\u66f4\u73b0\u5b9e\u7684\u505a\u6cd5\u662f\u68c0\u67e5\u8fd9\u4e9b\u53d8\u91cf\uff0c\u770b\u770b\u7ed9\u5b9a\u7684\u6a21\u5757\u662f\u5426\u662f\u7a0b\u5e8f\u80fd\u591f\u63a5\u53d7\u7684\u3002\u5982\u679c\u4e0d\u662f\uff0c\u5c31\u663e\u793a\u5408\u9002\u7684\u9519\u8bef\u6d88\u606f\u5e76\u9000\u51fa\u6216\u8005\u5f15\u53d1\u5f02\u5e38\u3002\u4e0b\u8868\u603b\u7ed3\u4e86\u8fd9\u4e9b\u5168\u5c40\u53d8\u91cf\u3002</p> \u53d8 \u91cf \u540d \u63cf \u8ff0 apilevel \u4f7f\u7528\u7684Python DB API\u7248\u672c threadsafety \u6a21\u5757\u7684\u7ebf\u7a0b\u5b89\u5168\u7a0b\u5ea6\u5982\u4f55 paramstyle \u5728SQL\u67e5\u8be2\u4e2d\u4f7f\u7528\u54ea\u79cd\u53c2\u6570\u98ce\u683c <p>API\u7ea7\u522b\uff08 apilevel \uff09\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u5e38\u91cf\uff0c\u6307\u51fa\u4e86\u4f7f\u7528\u7684API\u7248\u672c\u3002DB API 2.0\u6307\u51fa\uff0c\u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\u4e3a <code>'1.0'</code> \u6216 <code>'2.0'</code> \u3002\u5982\u679c\u6ca1\u6709\u8fd9\u4e2a\u53d8\u91cf\uff0c\u5c31\u8bf4\u660e\u6a21\u5757\u4e0d\u4e0eDB API 2.0\u517c\u5bb9\uff0c\u6b64\u65f6\u5e94\u5047\u5b9a\u6a21\u5757\u4f7f\u7528\u7684\u662fDB API 1.0\u3002\u7f16\u5199\u4ee3\u7801\u65f6\uff0c\u5141\u8bb8\u8fd9\u4e2a\u53d8\u91cf\u4e3a\u5176\u4ed6\u503c\u4e5f\u6ca1\u6709\u5bb3\u5904\uff0c\u56e0\u4e3a\u8bf4\u4e0d\u5b9a\u4ec0\u4e48\u65f6\u5019DB API 3.0\u5c31\u51fa\u6765\u4e86\u3002</p> <p>\u7ebf\u7a0b\u5b89\u5168\u7a0b\u5ea6\uff08 threadsafety \uff09\u662f\u4e00\u4e2a 0~3 \u7684\u6574\u6570\u3002\u5982\u679c\u4f60\u4e0d\u4f7f\u7528\u591a\u7ebf\u7a0b\uff0c\u5219\u4e0d\u5fc5\u5173\u5fc3\u8fd9\u4e2a\u53d8\u91cf\u3002</p> <ul> <li>0 \u8868\u793a\u7ebf\u7a0b\u4e0d\u80fd\u5171\u4eab\u6a21\u5757</li> <li>1 \u8868\u793a\u7ebf\u7a0b\u53ef\u5171\u4eab\u6a21\u5757\u672c\u8eab\uff0c\u4f46\u4e0d\u80fd\u5171\u4eab\u8fde\u63a5</li> <li>2 \u8868\u793a\u7ebf\u7a0b\u53ef\u5171\u4eab\u6a21\u5757\u548c\u8fde\u63a5\uff0c\u4f46\u4e0d\u80fd\u5171\u4eab\u6e38\u6807</li> <li>3 \u8868\u793a\u6a21\u5757\u662f\u7edd\u5bf9\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u6a21\u5757\u3001\u8fde\u63a5\u548c\u6e38\u6807\u90fd\u53ef\u4ee5\u5171\u4eab</li> </ul> <p>\u53c2\u6570\u98ce\u683c\uff08 paramstyle \uff09\u8868\u793a\u5f53\u4f60\u6267\u884c\u591a\u4e2a\u7c7b\u4f3c\u7684\u6570\u636e\u5e93\u67e5\u8be2\u65f6\uff0c\u5982\u4f55\u5728SQL\u67e5\u8be2\u4e2d\u63d2\u5165\u53c2\u6570\u3002</p> <ul> <li> <p><code>'format'</code>\u8868\u793a\u6807\u51c6\u5b57\u7b26\u4e32\u683c\u5f0f\u8bbe\u7f6e\u65b9\u5f0f\uff08\u4f7f\u7528\u57fa\u672c\u7684\u683c\u5f0f\u7f16\u7801\uff09\uff0c\u5982\u5728\u8981\u63d2\u5165\u53c2\u6570\u7684\u5730\u65b9\u63d2\u5165 <code>%s</code></p> </li> <li> <p><code>'pyformat'</code>\u8868\u793a\u6269\u5c55\u7684\u683c\u5f0f\u7f16\u7801\uff0c\u5373\u65e7\u5f0f\u5b57\u5178\u63d2\u5165\u4f7f\u7528\u7684\u683c\u5f0f\u7f16\u7801\uff0c\u5982<code>%(foo)s</code></p> </li> <li> <p><code>'qmark'</code> \u8868\u793a\u4f7f\u7528\u95ee\u53f7</p> </li> <li> <p><code>'numeric'</code> \u8868\u793a\u4f7f\u7528 <code>:1</code>\u548c <code>:2</code> \u8fd9\u6837\u7684\u5f62\u5f0f\u8868\u793a\u5b57\u6bb5\uff08\u5176\u4e2d\u7684\u6570\u5b57\u662f\u53c2\u6570\u7684\u7f16\u53f7\uff09</p> </li> <li> <p><code>'named'</code> \u8868\u793a\u4f7f\u7528 <code>:foobar</code> \u8fd9\u6837\u7684\u5f62\u5f0f\u8868\u793a\u5b57\u6bb5\uff08\u5176\u4e2d foobar \u4e3a\u53c2\u6570\u540d\uff09</p> </li> </ul> <p>\u5176\u4e2d\uff0c<code>'format'</code>\u3001<code>'pyformat'</code>\u5c5e\u4e8ePython\u98ce\u683c\u3002\u5982\u679c\u4f60\u89c9\u5f97\u53c2\u6570\u6837\u5f0f\u4ee4\u4eba\u8ff7\u60d1\uff0c\u4e5f\u4e0d\u7528\u62c5\u5fc3\u3002\u7f16\u5199\u7b80\u5355\u7a0b\u5e8f\u65f6\uff0c\u4e0d\u4f1a\u7528\u5230\u5b83\u4eec\u3002\u5982\u679c\u9700\u8981\u660e\u767d\u7279\u5b9a\u7684\u6570\u636e\u5e93\u662f\u5982\u4f55\u5904\u7406\u53c2\u6570\u7684\uff0c\u53ef\u53c2\u9605\u76f8\u5173\u7684\u6587\u6863\u3002</p>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.1.DBAPI.html#_2","title":"\u5f02\u5e38","text":"<p>DB API\u5b9a\u4e49\u4e86\u591a\u79cd\u5f02\u5e38\uff0c\u8ba9\u4f60\u80fd\u591f\u7ec6\u81f4\u5730\u5904\u7406\u9519\u8bef\u3002\u7136\u800c\uff0c\u8fd9\u4e9b\u5f02\u5e38\u6784\u6210\u4e86\u4e00\u4e2a\u5c42\u6b21\u7ed3\u6784\uff0c\u56e0\u6b64\u4f7f\u7528\u4e00\u4e2a except \u5757\u5c31\u53ef\u6355\u83b7\u591a\u79cd\u5f02\u5e38\u3002\u5f53\u7136\uff0c\u5982\u679c\u4f60\u89c9\u5f97\u4e00\u5207\u90fd\u6b63\u5e38\u8fd0\u884c\uff0c\u4e14\u4e0d\u4ecb\u610f\u51fa\u73b0\u4e0d\u592a\u53ef\u80fd\u51fa\u73b0\u7684\u9519\u8bef\u65f6\u5173\u95ed\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u6839\u672c\u4e0d\u8003\u8651\u8fd9\u4e9b\u5f02\u5e38\u3002\u88681\u8bf4\u660e\u4e86\u8fd9\u4e2a\u5f02\u5e38\u5c42\u6b21\u7ed3\u6784\u3002\u5f02\u5e38\u5e94\u8be5\u5728\u6574\u4e2a\u6570\u636e\u5e93\u6a21\u5757\u4e2d\u90fd\u53ef\u7528\u3002\u6709\u5173\u8fd9\u4e9b\u5f02\u5e38\u7684\u6df1\u5165\u63cf\u8ff0\uff0c\u8bf7\u53c2\u9605DB API\u89c4\u8303\uff08\u524d\u9762\u63d0\u5230\u7684PEP\uff09\u3002 $$ \\begin{array}{lll} &amp; \\text { \u88681   Python DB API \u6307\u5b9a\u7684\u5f02\u5e38 } &amp; \\\\ \\hline \\text { \u5f02    \u5e38} &amp; \\text { \u8d85    \u7c7b} &amp; \\text { \u63cf    \u8ff0 } \\\\ \\hline \\text { StandardError } &amp; &amp; \\text { \u6240\u6709\u5f02\u5e38\u7684\u8d85\u7c7b } \\\\ \\text { Warning } &amp; \\text { StandardError } &amp; \\text { \u53d1\u751f\u975e\u81f4\u547d\u95ee\u984c\u65f6\u5f15\u53d1 } \\\\ \\text { Error } &amp; \\text { StandardError } &amp; \\text { \u6240\u6709\u9519\u8bef\u6761\u4ef6\u7684\u8d85\u7c7b } \\\\ \\text { InterfaceError } &amp; \\text { Error } &amp; \\text { \u4e0e\u63a5\u53e3 ( \u800c\u4e0d\u662f\u6570\u636e\u5e93 }) \\text { \u76f8\u5173\u7684\u9519\u8bef } \\\\ \\text { DatabaseError } &amp; \\text { Error } &amp; \\text { \u4e0e\u6570\u636e\u5e93\u76f8\u5173\u7684\u9519\u8bef\u7684\u8d85\u7c7b } \\\\ \\text { Datafrror } &amp; \\text { DatabaseError } &amp; \\text { \u4e0e\u6570\u636e\u76f8\u5173\u7684\u95ee\u9898, \u5982\u503c\u4e0d\u5728\u5408\u6cd5\u7684\u8303\u56f4\u5185 } \\\\ \\text { OperationalError } &amp; \\text { Databasefror } &amp; \\text { \u6570\u636e\u5e93\u64cd\u4f5c\u5185\u90e8\u7684\u9519\u8bef } \\\\\\ \\text { IntegrityError } &amp; \\text { Databasefror } &amp; \\text { \u5173\u7cfb\u5b8c\u6574\u6027\u9084\u5230\u7834\u574f, \u5982\u952e\u672f\u901a\u8fc7\u68c0\u67e5 } \\\\ \\text { InternalError } &amp; \\text { Databasefror } &amp; \\text { \u6570\u636e\u5e93\u5185\u90e8\u7684\u9519\u8bef, \u5982\u6e38\u6807\u65e0\u6548 } \\\\ \\text { ProgrammingError } &amp; \\text { Databasefror } &amp; \\text { \u7528\u6237\u7f16\u7a0b\u9519\u8bef, \u5982\u672a\u627e\u5230\u6570\u636e\u5e93\u8868 } \\\\ \\text { NotsupportedError } &amp; \\text { Databasefror } &amp; \\text { \u8bf7\u6c42\u4e0d\u652f\u6301\u7684\u529f\u80fd\uff0c\u5982\u56de\u6eda } \\\\ \\hline \\end{array} $$</p>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.1.DBAPI.html#_3","title":"\u8fde\u63a5\u548c\u6e38\u6807","text":"<p>\u8981\u4f7f\u7528\u5e95\u5c42\u7684\u6570\u636e\u5e93\u7cfb\u7edf\uff0c\u5fc5\u987b\u5148\u8fde\u63a5\u5230\u5b83\uff0c\u4e3a\u6b64\u53ef\u4f7f\u7528\u540d\u79f0\u8d34\u5207\u7684\u51fd\u6570 <code>connect</code> \u3002\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7\u591a\u4e2a\u53c2\u6570\uff0c\u5177\u4f53\u662f\u54ea\u4e9b\u53d6\u51b3\u4e8e\u8981\u4f7f\u7528\u7684\u6570\u636e\u5e93\u3002\u4f5c\u4e3a\u6307\u5357\uff0cDB API \u5b9a\u4e49\u4e86\u88682\u6240\u793a\u7684\u53c2\u6570\u3002\u63a8\u8350\u5c06\u8fd9\u4e9b\u53c2\u6570\u5b9a\u4e49\u4e3a\u5173\u952e\u5b57\u53c2\u6570\uff0c\u5e76\u6309\u4e0b\u8868\u6240\u793a\u7684\u987a\u5e8f\u6392\u5217\u3002\u8fd9\u4e9b\u53c2\u6570\u90fd\u5e94\u8be5\u662f\u5b57\u7b26\u4e32\u3002 $$ \\begin{array}{clcc} &amp; \\text { \u88682   \u51fd\u6570 connect \u7684\u5e38\u7528\u53c2\u6570 }  &amp; \\\\ \\hline \\text { \u53c2  \u6570  \u540d} &amp;  \\text { \u63cf  \u8ff0} &amp; \\text { \u662f\u5426\u53ef\u9009 } &amp; \\\\ \\hline \\text { dsn } &amp; \\text { \u6570\u636e\u6e90\u540d\u79f0, \u5177\u4f53\u542b\u4e49\u968f\u6570\u636e\u5e93\u800c\u5f02 } &amp; \\text { \u5426 } \\\\ \\text { user } &amp; \\text { \u7528\u6237\u540d } &amp; \\text { \u662f }  \\\\ \\text { password } &amp; \\text { \u7528\u6237\u5bc6\u7801 } &amp; \\text { \u662f } \\\\ \\text { host } &amp; \\text { \u4e3b\u673a\u540d }  &amp; \\text { \u662f } \\\\ \\text { database } &amp; \\text { \u6570\u636e\u5e93\u540d\u79f0 } &amp; \\text { \u662f } \\\\ \\hline \\end{array} $$ \u51fd\u6570 <code>connect</code> \u8fd4\u56de\u4e00\u4e2a\u8fde\u63a5\u5bf9\u8c61\uff0c\u8868\u793a\u5f53\u524d\u5230\u6570\u636e\u5e93\u7684\u4f1a\u8bdd\u3002\u8fde\u63a5\u5bf9\u8c61\u652f\u6301\u4e0b\u8868\u6240\u793a\u7684\u65b9\u6cd5\u3002 $$ \\begin{array}{ll} &amp;  \\text {\u88683   \u8fde\u63a5\u5bf9\u8c61\u7684\u65b9\u6cd5 } &amp; \\\\ \\hline \\text { \u65b9 \u6cd5 \u540d} &amp; \\text {\u63cf  \u8ff0 } \\\\ \\hline \\text { close() } &amp; \\text{\u5173\u95ed\u8fde\u63a5\u5bf9\u8c61\u3002\u4e4b\u540e, \u8fde\u63a5\u5bf9\u8c61\u53ca\u5176\u6e38\u6807\u5c06\u4e0d\u53ef\u7528} \\\\ \\text { commit() } &amp; \\text{\u63d0\u4ea4\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1, \u5982\u679c\u652f\u6301\u7684\u8bdd\uff1b\u5426\u5219\u4ec0\u4e48\u90fd\u4e0d\u505a} \\\\ \\text { rollback() } &amp; \\text {\u56de\u6eda\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\uff08\u53ef\u80fd\u4e0d\u53ef\u7528\uff09} \\\\ \\text { cursor() } &amp; \\text {\u8fd4\u56de\u8fde\u63a5\u7684\u6e38\u6807\u5bf9\u8c61} \\\\ \\hline\\end{array} $$ \u65b9\u6cd5 <code>rollback</code> \u53ef\u80fd\u4e0d\u53ef\u7528\uff0c\u56e0\u4e3a\u5e76\u975e\u6240\u6709\u7684\u6570\u636e\u5e93\u90fd\u652f\u6301\u4e8b\u52a1\uff08\u4e8b\u52a1\u5176\u5b9e\u5c31\u662f\u4e00\u7cfb\u5217\u64cd\u4f5c\uff09\u3002\u53ef\u7528\u65f6\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u64a4\u9500\u6240\u6709\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\u3002</p> <p>\u65b9\u6cd5 <code>commit</code> \u603b\u662f\u53ef\u7528\u7684\uff0c\u4f46\u5982\u679c\u6570\u636e\u5e93\u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5c31\u4ec0\u4e48\u90fd\u4e0d\u505a\u3002\u5173\u95ed\u8fde\u63a5\u65f6\uff0c\u5982\u679c\u8fd8\u6709\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\uff0c\u5c06\u9690\u5f0f\u5730\u56de\u6eda\u5b83\u4eec\u2014\u2014\u4f46\u4ec5\u5f53\u6570\u636e\u5e93\u652f\u6301\u56de\u6eda\u65f6\u624d\u5982\u6b64\uff01\u5982\u679c\u4f60\u4e0d\u60f3\u4f9d\u8d56\u4e8e\u8fd9\u4e00\u70b9\uff0c\u5e94\u5728\u5173\u95ed\u8fde\u63a5\u524d\u63d0\u4ea4\u3002\u53ea\u8981\u63d0\u4ea4\u4e86\u6240\u6709\u7684\u4e8b\u52a1\uff0c\u5c31\u65e0\u9700\u64cd\u5fc3\u5173\u95ed\u8fde\u63a5\u7684\u4e8b\u60c5\uff0c\u56e0\u4e3a\u4f5c\u4e3a\u5783\u573e\u88ab\u6536\u96c6\u65f6\uff0c\u8fde\u63a5\u4f1a\u81ea\u52a8\u5173\u95ed\u3002\u7136\u800c\uff0c\u4e3a\u5b89\u5168\u8d77\u89c1\uff0c\u8fd8\u662f\u8c03\u7528 <code>close</code> \u5427\uff0c\u56e0\u4e3a\u8fd9\u6837\u505a\u4e0d\u9700\u8981\u957f\u65f6\u95f4\u6572\u51fb\u952e\u76d8\u3002</p> <p>\u8bf4\u5230\u65b9\u6cd5 <code>cursor</code>\uff0c\u5c31\u5fc5\u987b\u8bf4\u8bf4\u53e6\u4e00\u4e2a\u4e3b\u9898\uff1a\u6e38\u6807\u5bf9\u8c61\u3002\u4f60\u4f7f\u7528\u6e38\u6807\u6765\u6267\u884cSQL\u67e5\u8be2\u548c\u67e5\u770b\u7ed3\u679c\u3002 \u6e38\u6807\u652f\u6301\u7684\u65b9\u6cd5\u6bd4\u8fde\u63a5\u591a\uff0c\u5728\u7a0b\u5e8f\u4e2d\u7684\u5730\u4f4d\u4e5f\u53ef\u80fd\u91cd\u8981\u5f97\u591a\u3002\u88684\u6982\u8ff0\u4e86\u6e38\u6807\u7684\u65b9\u6cd5\uff0c\u800c\u88685\u6982\u8ff0\u4e86\u6e38\u6807\u7684\u5c5e\u6027\u3002 $$ \\begin{array}{ll} &amp; \\text { \u88684  \u6e38\u6807\u5bf9\u8c61\u7684\u65b9\u6cd5 } \\\\ \\hline \\text {\u540d  \u79f0} &amp; \\text {\u63cf  \u8ff0} \\\\ \\hline \\text { callproc(name[, params]) } &amp; \\text { \u4f7f\u7528\u6307\u5b9a\u7684\u53c2\u6570\u8c03\u7528\u6307\u5b9a\u7684\u6570\u636e\u5e93\u8fc7\u7a0b }(\\text { \u53ef\u9009 }) \\\\ \\text { close() } &amp; \\text { \u5173\u95ed\u6e38\u6807\u3002\u5173\u95ed\u540e\u6e38\u6807\u4e0d\u53ef\u7528 } \\\\ \\text { execute(oper[, params]) } &amp; \\text { \u6267\u884c\u4e00\u4e2aSQL\u64cd\u4f5c\u4e00\u4e00\u53ef\u80fd\u6307\u5b9a\u53c2\u6570 } \\\\ \\text { executemany(oper, pseq) } &amp; \\text { \u6267\u884c\u6307\u5b9a\u7684SQL\u64cd\u4f5c\u591a\u6b21, \u6bcf\u6b21\u90fd\u5e8f\u5217\u4e2d\u7684\u4e00\u7ec4\u53c2\u6570 } \\\\ \\text { fetchone() } &amp; \\text { \u4ee5\u5e8f\u5217\u7684\u65b9\u5f0f\u53d6\u56de\u67e5\u8be2\u7ed3\u679c\u4e2d\u7684\u4e0b\u4e00\u884c } ; \\text { \u5982\u679c\u6ca1\u6709\u66f4\u591a\u7684\u884c, \u5c31\u8fd4\u56deNone } \\\\ \\text { fetchmany([size]) } &amp; \\text { \u53d6\u56de\u67e5\u8be2\u7ed3\u679c\u4e2d\u7684\u591a\u884c, \u5176\u4e2d\u53c2\u6570size\u7684\u503c\u9ed8\u8ba4\u4e3aarraysize } \\\\ \\text { fetchall() } &amp; \\text { \u4ee5\u5e8f\u5217\u7684\u5e8f\u5217\u7684\u65b9\u5f0f\u53d6\u56de\u4f59\u4e0b\u7684\u6240\u6709\u884c } \\\\ \\text { nextset() } &amp; \\text { \u8df3\u5230\u4e0b\u4e00\u4e2a\u7ed3\u679c\u96c6\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u53ef\u9009\u7684 } \\\\ \\text { setinputsizes(sizes) } &amp; \\text { \u7528\u4e8e\u4e3a\u53c2\u6570\u9876\u5b9a\u4e49\u5185\u5b58\u533a\u57df } \\\\ \\text { setoutputsize(size[, col]) } &amp; \\text { \u4e3a\u53d6\u56de\u5927\u91cf\u6570\u636e\u800c\u8bbe\u7f6e\u7f13\u51b2\u533a\u957f\u5ea6 } \\\\ \\hline \\end{array} $$</p> <p>$$ \\begin{array}{cc} &amp;\\hspace{-7em} \\text{\u88685  \u6e38\u6807\u5bf9\u8c61\u7684\u5c5e\u6027 }\\\\ \\hline \\text { \u540d  \u79f0 } &amp; \\text { \u63cf  \u8ff0 } \\\\ \\hline \\text { description } &amp; \\text { \u7531\u7ed3\u679c\u5217\u63cf\u8ff0\u7ec4\u6210\u7684\u5e8f\u5217 (\u53ea\u8bfb }) &amp; \\\\ \\text { rowcount } &amp; \\text { \u7ed3\u679c\u5305\u542b\u7684\u884c\u6570 ( } \\text { \u53ea\u8bfb }) &amp; \\\\ \\text { arraysize } &amp; \\text { fetchmany\u8fd4\u56de\u7684\u884c\u6570, \u9ed8\u8ba4\u4e3a1 } &amp; \\\\ \\hline \\end{array} $$</p>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.1.DBAPI.html#_4","title":"\u7c7b\u578b","text":"<p>\u5bf9\u4e8e\u63d2\u5165\u5230\u67d0\u4e9b\u7c7b\u578b\u7684\u5217\u4e2d\u7684\u503c\uff0c\u5e95\u5c42SQL\u6570\u636e\u5e93\u53ef\u80fd\u8981\u6c42\u5b83\u4eec\u6ee1\u8db3\u4e00\u5b9a\u7684\u6761\u4ef6\u3002\u4e3a\u4e86\u80fd\u591f\u4e0e\u5e95\u5c42SQL\u6570\u636e\u5e93\u6b63\u786e\u5730\u4e92\u64cd\u4f5c\uff0cDB API\u5b9a\u4e49\u4e86\u4e00\u4e9b\u6784\u9020\u51fd\u6570\u548c\u5e38\u91cf\uff08\u5355\u4f8b\uff09\uff0c\u7528\u4e8e\u63d0\u4f9b\u7279\u6b8a\u7684\u7c7b\u578b\u548c\u503c\u3002\u4f8b\u5982\uff0c\u8981\u5728\u6570\u636e\u5e93\u4e2d\u6dfb\u52a0\u65e5\u671f\uff0c\u5e94\u4f7f\u7528\u76f8\u5e94\u6570\u636e\u5e93\u8fde\u63a5\u6a21\u5757\u4e2d\u7684\u6784\u9020\u51fd\u6570 Date \u6765\u521b\u5efa\u5b83\uff0c\u8fd9\u8ba9\u8fde\u63a5\u6a21\u5757\u80fd\u591f\u5728\u5e55\u540e\u6267\u884c\u5fc5\u8981\u7684\u8f6c\u6362\u3002\u6bcf\u4e2a\u6a21\u5757\u90fd\u5fc5\u987b\u5b9e\u73b0\u88686\u6240\u793a\u7684\u6784\u9020\u51fd\u6570\u548c\u7279\u6b8a\u503c\u3002\u6709\u4e9b\u6a21\u5757\u53ef\u80fd\u6ca1\u6709\u5b8c\u5168\u9075\u5b88\u8fd9\u4e00\u70b9\u3002\u4f8b\u5982\uff0csqlite3 \u5c31\u6ca1\u6709\u5bfc\u51fa\u88686\u4e2d\u7279\u6b8a\u503c\uff08\u4ece STRING \u5230 ROWID\uff09\u3002</p> <p>$$ \\begin{array}{ll} &amp; \\hspace{-5em} \\text{ \u88686  DB API\u6784\u9020\u51fd\u6570\u548c\u7279\u6b8a\u503c } \\\\ \\hline \\text { \u540d  \u79f0 } &amp; \\text { \u63cf \u8ff0} \\\\ \\hline \\text { Date( year, month, day }) \\\\ \\text { Time( hour, minute, second) } &amp; \\text { \u521b\u5efa\u5305\u542b\u65e5\u671f\u503c\u7684\u5bf9\u8c61 } \\\\ \\text { Timestamp( y, mon, d, h, min, s} ) &amp; \\text { \u521b\u5efa\u542b\u65f6\u95f4\u503c\u7684\u5bf9\u8c61 } \\\\ \\text { DateFromTicks( ticks ) } &amp; \\text { \u6839\u636e\u4ece\u65b0\u7eaa\u5143\u5f00\u59cb\u8fc7\u53bb\u7684\u79d2\u6570\u521b\u5efa\u5305\u542b\u65e5\u671f\u503c\u7684\u5bf9\u8c61 } \\\\ \\text { TimeFromTicks( ticks ) } &amp; \\text { \u6839\u636e\u4ece\u65b0\u7eaa\u5143\u5f00\u59cb\u8fc7\u53bb\u7684\u79d2\u6570\u521b\u5efa\u5305\u542b\u65f6\u95f4\u503c\u7684\u5bf9\u8c61 } \\\\ \\text { imestampFromTicks( ticks ) } &amp; \\text { \u6839\u636e\u4ece\u65b0\u7eaa\u5143\u5f00\u59cb\u8fc7\u53bb\u7684\u79d2\u6570\u521b\u5efa\u5305\u542b\u65f6\u95f4\u6233\u7684\u5bf9\u8c61 } \\\\ \\text { Binary( string ) } &amp; \\text { \u521b\u5efa\u5305\u542b\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32\u503c\u7684\u5bf9\u8c61 } &amp; \\\\ \\text { STRING } &amp; \\text { \u63cf\u8ff0\u57fa\u4e8e\u5b57\u7b26\u4e32\u7684\u5217 }(\\text { \u5982CHAR }) &amp; \\\\ \\text { BINARY } &amp; \\text { \u63cf\u8ff0\u4e8c\u8fdb\u5236\u5217 }(\\text { \u5982LONG\u6216RAW }) &amp; \\\\ \\text { NUMBER } &amp; \\text { \u63cf\u8ff0\u6570\u5b57\u5217 } \\\\ \\text { DATETIME } &amp; \\text { \u63cf\u8ff0\u65e5\u671f/\u65f6\u95f4\u5217 } \\\\ \\text { ROWID } &amp; \\text { \u63cf\u8ff0\u884cID\u5217 } \\\\ \\hline \\end{array} $$</p>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.2.PostgreSQL.html","title":"15.2.PostgreSQL","text":"<pre><code>import psycopg2\n</code></pre>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.2.PostgreSQL.html#sql","title":"SQL \u64cd\u4f5c","text":"<p>create a connection</p> <pre><code># Connect to an existing database\n# key parameter format\nconn = psycopg2.connect(host=\"localhost\", port=\"5433\",\n                        user=\"postgres\", password=password,\n                        database=\"study\")\n</code></pre> <pre><code># DATABASE_URL format\ndb_url = \"postgresql://username:password@host:port/database_name\"\nconn = psycopg2.connect(db_url)\n\n# another string format\nstring = \"dbname=postgres user=postgres password=9464275 port=5433\"\nconn = psycopg2.connect(string)\n</code></pre> <p>open a cursor to execute SQL</p> <pre><code># Open a cursor to perform database operations\ncur = conn.cursor()\n\n# Execute a command\ncur.execute(\"SELECT version();\")\n# cur.executemany()\n\ncur.fetchall()\n# fetchone\n# fetchmany\n</code></pre> <pre><code>[('PostgreSQL 12.0, compiled by Visual C++ build 1914, 64-bit',)]\n</code></pre> <pre><code>cur.execute(\"SELECT current_user;\")\ncur.fetchall()\n</code></pre> <pre><code>[('postgres',)]\n</code></pre> <pre><code>cur.execute(\"SELECT * FROM product;\")\ncur.fetchall()\n</code></pre> <pre><code>[('0001', 'T\u6064', '\u8863\u670d', 1000, 500, datetime.date(2009, 9, 20)),\n ('0002', '\u6253\u5b54\u5668', '\u529e\u516c\u7528\u54c1', 500, 320, datetime.date(2009, 9, 11)),\n ('0003', '\u8fd0\u52a8T\u6064', '\u8863\u670d', 4000, 2800, None),\n ('0004', '\u83dc\u5200', '\u53a8\u623f\u7528\u5177', 3000, 2800, datetime.date(2009, 9, 20)),\n ('0005', '\u9ad8\u538b\u9505', '\u53a8\u623f\u7528\u5177', 6800, 5000, datetime.date(2009, 1, 15)),\n ('0006', '\u53c9\u5b50', '\u53a8\u623f\u7528\u5177', 500, None, datetime.date(2009, 9, 20)),\n ('0007', '\u64e6\u83dc\u677f', '\u53a8\u623f\u7528\u5177', 880, 790, datetime.date(2008, 4, 28)),\n ('0008', '\u5706\u73e0\u7b14', '\u529e\u516c\u7528\u54c1', 100, None, datetime.date(2009, 11, 11)),\n ('0009', '\u5e73\u677f\u7535\u8111', '\u529e\u516c\u7528\u54c1', 4000, 2500, datetime.date(2009, 11, 12)),\n ('0010', 'kindle', '\u529e\u516c\u7528\u54c1', 500, 400, datetime.date(2009, 11, 15)),\n ('0011', 'ipad', '\u529e\u516c\u7528\u54c1', 6500, 4000, datetime.date(2009, 12, 5))]\n</code></pre> <p>commit and close connection</p> <pre><code># Make the changes to the database persistent\nconn.commit()\n\n# Close communication with the database\ncur.close()\nconn.close()\n</code></pre>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.2.PostgreSQL.html#postgresql","title":"\u68c0\u67e5 postgresql \u6570\u636e\u5e93\u662f\u5426\u53ef\u7528","text":"<pre><code>from psycopg2 import OperationalError as PsOperationalError\n\n\ndef check_postgresql_connection(host, username, password, database,\n                                port=\"5432\"):\n\"\"\"\n    Check for PostgreSQL database available.\n    \"\"\"\n    db_url = f\"postgresql://{username}:{password}@{host}:{port}/{database}\"\n    try:\n        conn = psycopg2.connect(db_url)\n        cur = conn.cursor()\n        cur.execute(\"SELECT 1;\")\n        cur.fetchall()\n        conn.commit()\n        cur.close()\n        conn.close()\n        return \"database available\"\n    except PsOperationalError as e:\n        error_str = e.__str__()\n        host_port_error_str_1 = \\\n            \"could not connect to server: Connection refused\"\n        host_port_error_str_2 = \\\n            f'Is the server running on host \"{host}\" and accepting\\n\\t' \\\n            f'TCP/IP connections on port {port}?'\n        authentication_error_str = \\\n            f'FATAL:  password authentication failed for user \"{username}\"'\n        database_error_str = f'FATAL:  database \"{database}\" does not exist'\n\n        if host_port_error_str_1 in error_str \\\n                and host_port_error_str_2 in error_str:\n            return \"Incorrect IP address or port\"\n        elif authentication_error_str in error_str:\n            return \"Incorrect username or password\"\n        elif database_error_str in error_str:\n            return f\"Database {database} does not exist\"\n        else:\n            return \"An error occurred while connecting to the database\"\n    except Exception as e:\n        return \"An error occurred while connecting to the database\"\n</code></pre>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.3.MSSQL.html","title":"15.3.MSSQL","text":"<pre><code>import pymssql\n</code></pre> <pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.06.30\npymssql version:  2.2.1\n</code></pre>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.3.MSSQL.html#sql","title":"SQL \u64cd\u4f5c","text":"<p>create a connection</p> <p>\u4f3c\u4e4e <code>pymssql</code> \u5e93\u4e0d\u80fd\u4f7f\u7528 DATABASE_URL format\u3002</p> <pre><code># Connect to an existing database\ntry:\n    # DATABASE_URL format\n    db_url = f\"mssql://{user}:{password}@{host}:{port}/{database}\"\n    conn = pymssql.connect(db_url)\nexcept Exception as e:\n    # key parameter format\n    conn = pymssql.connect(host=host, port=port,\n                           user=user, password=password,\n                           database=database)\n</code></pre> <p>open a cursor to execute SQL</p> <pre><code># Open a cursor to perform database operations\ncur = conn.cursor()\n\n# Execute a command\ncur.execute(\"SELECT @@version\")\n# cur.executemany()\n\ncur.fetchall()\n# fetchone\n# fetchmany\n</code></pre> <pre><code>[('Microsoft SQL Server 2016 (RTM) - 13.0.1601.5 (X64) \\n\\tApr 29 2016\n23:23:58 \\n\\tCopyright (c) Microsoft Corporation\\n\\tDeveloper Edition\n(64-bit) on Windows Server 2016 Datacenter 6.3 &lt;X64&gt; (Build 14393: )\n(Hypervisor)\\n',)]\n</code></pre> <pre><code>cur.execute(\"SELECT current_user;\")\ncur.fetchall()\n</code></pre> <pre><code>[('dbo',)]\n</code></pre> <p>commit and close connection</p> <pre><code># Make the changes to the database persistent\nconn.commit()\n\n# Close communication with the database\ncur.close()\nconn.close()\n</code></pre>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.3.MSSQL.html#server-sql","title":"\u68c0\u67e5 server SQL \u6570\u636e\u5e93\u662f\u5426\u53ef\u7528","text":"<pre><code>from pymssql import OperationalError as MsOperationalError\n\n\ndef check_sql_server_connection(host, username, password, database,\n                                port=\"1433\"):\n\"\"\"Check for SQL server database available.\n\n    Defect: Cannot distinguish specific error messages\n            from return result of pymssql library.\n            Maybe should use other library to connect SQL server.\n    \"\"\"\n    try:\n        conn = pymssql.connect(host=host, port=port,\n                               user=username, password=password,\n                               database=database, charset=\"utf8\", timeout=10)\n        cur = conn.cursor()\n        cur.execute(\"select 1;\")\n        cur.fetchall()\n        conn.commit()\n        cur.close()\n        conn.close()\n        return \"database available\"\n    except MsOperationalError as e:\n        error_str = e.__str__()\n        host_port_error_str = \\\n            f\"Unable to connect: Adaptive Server is unavailable or \" \\\n            f\"does not exist ({host}:{port})\"\n        authentication_error_str = f\"Login failed for user '{username}'\"\n        if host_port_error_str in error_str:\n            return \"Incorrect IP address or port\"\n        elif authentication_error_str in error_str:\n            return \"Incorrect username or password\"\n        else:\n            return \"An error occurred while connecting to the database\"\n    except Exception as e:\n        return \"An error occurred while connecting to the database\"\n</code></pre>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.4.SQLite.html","title":"15.4.SQLite","text":"<pre><code>import sqlite3\n</code></pre> <pre><code>Windows 10\nPython 3.8.8 @ MSC v.1928 64 bit (AMD64)\nLatest build date 2021.05.13\nsqlite3 version:  2.6.0\nSQLite version:  3.33.0\n</code></pre>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.4.SQLite.html#_1","title":"\u4f7f\u7528\u793a\u4f8b","text":"<p>create a connection</p> <pre><code># create database from a local file\n# db_url = f\"example.db\"\n# create database from memory\ndb_url = \":memory:\"\nconn = sqlite3.connect(db_url)\n</code></pre> <p>open a cursor to execute SQL</p> <pre><code># Open a cursor to perform database operations\ncur = conn.cursor()\n\n# Execute a command\ncur.execute(\"select * from sqlite_master;\")\n# cur.executemany()\n\ncur.fetchall()\n# fetchone\n# fetchmany\n</code></pre> <pre><code>[]\n</code></pre> <p>commit and close connection</p> <pre><code># Make the changes to the database persistent\nconn.commit()\n\n# Close communication with the database\ncur.close()\nconn.close()\n</code></pre>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.4.SQLite.html#_2","title":"\u5360\u4f4d\u7b26","text":"<p>\u4e00\u822c\u6765\u8bf4\uff0cSQL \u64cd\u4f5c\u8bed\u53e5\u53ef\u80fd\u4f1a\u4f7f\u7528 Python \u53d8\u91cf\u7684\u503c\u3002\u5b9e\u9645\u4e0a\uff0c\u4e0d\u5e94\u8be5\u4f7f\u7528 Python \u7684\u5b57\u7b26\u4e32\u64cd\u4f5c\u6765\u7ec4\u5408 SQL \u8bed\u53e5\uff0c\u56e0\u4e3a\u8fd9\u6837\u505a\u4f1a\u4f7f\u7a0b\u5e8f\u5bb9\u6613\u53d7\u5230 SQL \u6ce8\u5165\u653b\u51fb\u7684\u5f71\u54cd\uff08\u53ef\u4ee5\u53c2\u8003xkcd Webcomic\uff09\u3002</p> <pre><code># Never do this -- insecure!\nsymbol = 'RHAT'\ncur.execute(\"SELECT * FROM stocks WHERE symbol = '%s'\" % symbol)\n</code></pre> <p>\u5e94\u8be5\u4f7f\u7528 DB-API \u7684\u53c2\u6570\u66ff\u6362\u65b9\u5f0f\uff0c\u5c06\u5360\u4f4d\u7b26\u653e\u5728\u8981\u4f7f\u7528\u503c\u7684\u4efb\u4f55\u4f4d\u7f6e\uff0c\u7136\u540e\u5c06\u63d0\u4f9b\u503c\u7684\u5143\u7ec4\u4f5c\u4e3a<code>execute()</code>\u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002</p> <p>SQL\u8bed\u53e5\u53ef\u4ee5\u4f7f\u7528\u4e24\u79cd\u98ce\u683c\u7684\u5360\u4f4d\u7b26\uff1a\u95ee\u53f7\uff08qmark style\uff09\u6216\u547d\u540d\u7684\u5360\u4f4d\u7b26\uff08named style\uff09\u3002\u5bf9\u4e8eqmark style\uff0c\u53c2\u6570\u5fc5\u987b\u4e3a\u5e8f\u5217\uff1b\u5bf9\u4e8enamed style\uff0c\u5b83\u53ef\u4ee5\u662f\u5e8f\u5217\u6216\u5b57\u5178\u3002\u5e8f\u5217\u7684\u957f\u5ea6\u5fc5\u987b\u4e0e\u5360\u4f4d\u7b26\u7684\u6570\u91cf\u5339\u914d\uff0c\u5426\u5219\u5c06\u5f15\u53d1<code>ProgrammingError</code>\u3002\u5982\u679c\u4f20\u5165\u5b57\u5178\u4f5c\u4e3a\u53c2\u6570\uff0c\u5219\u5b83\u5fc5\u987b\u5305\u542b\u6240\u6709\u547d\u540d\u53c2\u6570\u7684\u952e\u3002\u4efb\u4f55\u591a\u4f59\u7684\u9879\u76ee\u90fd\u5c06\u88ab\u5ffd\u7565\u3002\u8fd9\u662f\u4e24\u79cd\u6837\u5f0f\u7684\u793a\u4f8b\uff1a</p> <pre><code>import sqlite3\n\ncon = sqlite3.connect(\":memory:\")\ncur = con.cursor()\ncur.execute(\"create table lang (lang_name, lang_age)\")\n\n# This is the qmark style:\ncur.execute(\"insert into lang values (?, ?)\", (\"C\", 49))\n\n# The qmark style used with executemany():\nlang_list = [\n    (\"Fortran\", 64),\n    (\"Python\", 30),\n    (\"Go\", 11),\n]\ncur.executemany(\"insert into lang values (?, ?)\", lang_list)\n\n# And this is the named style:\ncur.execute(\"select * from lang where lang_name=:name and lang_age=:age\",\n            {\"name\": \"C\", \"age\": 49})\nprint(cur.fetchall())\n\ncon.close()\n</code></pre> <pre><code>[('C', 49)]\n</code></pre>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.4.SQLite.html#_3","title":"\u9876\u5c42\u51fd\u6570","text":""},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.4.SQLite.html#sqlite3connect","title":"<code>sqlite3.connect</code>","text":"<pre><code>sqlite3.connect(database[, timeout, detect_types, isolation_level,\n                check_same_thread, factory, cached_statements, uri])\n</code></pre> <ul> <li> <p><code>database</code>\uff1a\u4e00\u4e2a<code>path-like</code>\u5bf9\u8c61\uff0c\u4e0d\u4ec5\u4ec5\u662f\u5b57\u7b26\u4e32\uff08Python3.7\u65b0\u589e\uff09\uff0c\u7ed9\u51fa\u4e86\u8981\u6253\u5f00\u7684SQLite\u6570\u636e\u5e93\u7684\u8def\u5f84\u3002\u4e5f\u53ef\u4ee5\u4f20\u5165<code>\":memory:\"</code>\uff0c\u6b64\u65f6\u4f1a\u6253\u5f00\u9a7b\u7559\u5728\u5185\u5b58\u4e2d\u7684\u6570\u636e\u5e93\u3002</p> </li> <li> <p><code>timeout</code>\uff1a\u5f53\u901a\u8fc7\u591a\u4e2a\u8fde\u63a5\u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u5e76\u4e14\u5176\u4e2d\u4e00\u4e2a\u8fdb\u7a0b\u4fee\u6539\u4e86\u6570\u636e\u5e93\u65f6\uff0cSQLite\u6570\u636e\u5e93\u5c06\u88ab\u9501\u5b9a\uff0c\u76f4\u5230\u63d0\u4ea4\u8be5\u4e8b\u52a1\u4e3a\u6b62\u3002<code>timeout</code> \u53c2\u6570\u6307\u5b9a connection \u5e94\u8be5\u7b49\u5f85\u591a\u957f\u65f6\u95f4\u624d\u5f15\u53d1\u5f02\u5e38\u3002\u9ed8\u8ba4\u503c\u4e3a5.0\uff08\u4e94\u79d2\uff09\u3002</p> </li> <li> <p><code>check_same_thread</code>\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c<code>check_same_thread=True</code>\uff0c\u53ea\u6709\u521b\u5efa connection \u7684\u7ebf\u7a0b\u53ef\u4ee5\u4f7f\u7528\u8be5 connection\u3002\u5982\u679c\u8bbe\u7f6e\u4e3a<code>False</code>\uff0c\u5219\u8fd4\u56de\u7684 connection \u53ef\u4ee5\u5728\u591a\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u5171\u4eab\u3002\u5f53\u591a\u4e2a\u7ebf\u7a0b\u4f7f\u7528\u76f8\u540c connection \u65f6\uff0c\u5e94\u8be5\u5bf9\u5199\u5165\u64cd\u4f5c\u8fdb\u884c\u5e8f\u5217\u5316\uff0c\u4ee5\u907f\u514d\u6570\u636e\u635f\u574f\u3002</p> </li> <li> <p><code>cached_statements</code>\uff1asqlite3 \u6a21\u5757\u5728\u5185\u90e8\u4f7f\u7528\u8bed\u53e5\u9ad8\u901f\u7f13\u5b58\u6765\u907f\u514dSQL\u89e3\u6790\u5f00\u9500\u3002\u5982\u679c\u60f3\u8981\u663e\u5f0f\u8bbe\u7f6e\u4e3a\u8fde\u63a5\u7f13\u5b58\u7684\u8bed\u53e5\u6570\uff0c\u5219\u53ef\u4ee5\u8bbe\u7f6e<code>cached_statements</code>\u53c2\u6570\u3002\u9ed8\u8ba4\u662f\u7f13\u5b58100\u6761\u8bed\u53e5\u3002</p> </li> <li> <p><code>url</code>\uff1a\u5982\u679c<code>uri=true</code>\uff0c\u5219\u5c06<code>database</code>\u53c2\u6570\u89e3\u91ca\u4e3aURI\uff0cPython3.4\u6dfb\u52a0\u7684\u53c2\u6570\u3002\u8fd9\u53ef\u4ee5\u7528\u6765\u6307\u5b9a\u4e00\u4e9b\u9009\u9879\u3002\u4f8b\u5982\uff0c\u8981\u4ee5\u53ea\u8bfb\u6a21\u5f0f\u6253\u5f00\u6570\u636e\u5e93\uff1a</p> <pre><code>db = sqlite3.connect('file:path/to/database?mode=ro', uri=True)\n</code></pre> </li> </ul>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.4.SQLite.html#sqlite3register_converter","title":"<code>sqlite3.register_converter</code>","text":"<pre><code>sqlite3.register_converter(typename, callable)\n</code></pre> <p>\u6ce8\u518c\u4e00\u4e2acallable\uff0c\u5c06\u6570\u636e\u5e93\u4e2d\u7684\u5b57\u8282\u4e32\u8f6c\u6362\u4e3a\u81ea\u5b9a\u4e49Python\u7c7b\u578b\u3002\u5373\u4e3a<code>typename</code>\u7c7b\u578b\u7684\u6240\u6709\u6570\u636e\u5e93\u503c\u8c03\u7528callable\u3002\u9700\u8981\u4e3a<code>connect()</code>\u65b9\u6cd5\u4f20\u5165<code>detect_types</code>\u53c2\u6570\uff0c\u5f00\u542f\u7c7b\u578b\u68c0\u6d4b\u529f\u80fd\u3002\u6ce8\u610f\uff0c<code>typename</code>\u548c\u67e5\u8be2\u4e2d\u7c7b\u578b\u540d\u79f0\u5728\u5339\u914d\u65f6\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002</p>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.4.SQLite.html#sqlite3register_adapter","title":"<code>sqlite3.register_adapter</code>","text":"<pre><code>sqlite3.register_adapter(type, callable)\n</code></pre> <p>\u6ce8\u518c\u4e00\u4e2a callable \u4ee5\u5c06\u81ea\u5b9a\u4e49 Python \u7c7b\u578b\u8f6c\u6362\u4e3a SQLite \u652f\u6301\u7684\u7c7b\u578b\u3002callable \u63a5\u53d7 Python \u503c\u4f5c\u4e3a\u5355\u4e2a\u53c2\u6570\uff0c\u5e76\u4e14\u5fc5\u987b\u8fd4\u56de <code>int</code>\u3001<code>float</code>\u3001<code>str</code>\u6216<code>bytes</code>\u7c7b\u578b\u3002</p>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.4.SQLite.html#sqlite3complete_statement","title":"<code>sqlite3.complete_statement</code>","text":"<pre><code>sqlite3.complete_statement(sql)\n</code></pre> <p>\u5982\u679c SQL \u5b57\u7b26\u4e32\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u4ee5\u5206\u53f7\u7ed3\u5c3e\u7684\u5b8c\u6574 SQL \u8bed\u53e5\uff0c\u5219\u8fd4\u56de<code>True</code>\u3002\u5b83\u4e0d\u4f1a\u9a8c\u8bc1 SQL \u8bed\u53e5\u7684\u8bed\u6cd5\u662f\u5426\u6b63\u786e\u3002</p>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.4.SQLite.html#connection","title":"<code>Connection</code>\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5","text":"<p><code>isolation_level</code>\uff1a\u83b7\u53d6\u6216\u8bbe\u7f6e\u5f53\u524d\u7684\u9694\u79bb\u7ea7\u522b\u3002</p> <p><code>in_transaction</code>\uff1a\u5982\u679c\u4e8b\u52a1\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\uff08\u6709\u672a\u63d0\u4ea4\u7684\u66f4\u6539\uff09\uff0c\u5219\u4e3a<code>True</code>\uff1b\u5426\u5219\u4e3a<code>False</code>\u3002</p> <p><code>create_function(name, num_params, func, ***, deterministic=False)</code></p> <p>\u521b\u5efa\u4e00\u4e2a\u540d\u79f0\u4e3a<code>name</code>\u7684\u81ea\u5b9a\u4e49\u51fd\u6570\uff0c\u4e4b\u540e\u4f60\u53ef\u4ee5\u5728SQL\u8bed\u53e5\u4e2d\u4f7f\u7528\u8be5\u51fd\u6570\u3002<code>num_params</code>\u662f\u51fd\u6570\u63a5\u53d7\u7684\u53c2\u6570\u6570\u91cf\uff0c\u5982\u679c<code>num_params=-1</code>\uff0c\u5219\u8be5\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\u4efb\u610f\u6570\u91cf\u7684\u53c2\u6570\u3002<code>func</code>\u662f\u53ef\u8c03\u7528\u7684SQL\u51fd\u6570\u3002\u5982\u679c<code>deterministic=True</code>\uff0c\u5219\u5c06\u521b\u5efa\u7684\u51fd\u6570\u6807\u8bb0\u4e3adeterministic\uff0c\u8fd9\u4f7fSQLite\u53ef\u4ee5\u6267\u884c\u989d\u5916\u7684\u4f18\u5316\u3002SQLite 3.8.3\u6216\u66f4\u9ad8\u7248\u672c\u652f\u6301\u6b64\u6807\u5fd7\uff0c\u5426\u5219\uff0c\u5c06\u5f15\u53d1<code>NotSupportedError</code>\u3002\u8be5\u51fd\u6570\u5e94\u8be5\u8fd4\u56deSQLite\u652f\u6301\u7684\u4efb\u4f55\u7c7b\u578b\uff1a<code>bytes</code>\u3001<code>str</code>\u3001<code>int</code>\u3001<code>float</code>\u548c<code>None</code>\u3002</p> <pre><code>import sqlite3\nimport hashlib\n\ndef md5sum(t):\n    return hashlib.md5(t).hexdigest()\n\ncon = sqlite3.connect(\":memory:\")\ncon.create_function(\"md5\", 1, md5sum)\ncur = con.cursor()\ncur.execute(\"select md5(?)\", (b\"foo\",))\nprint(cur.fetchone()[0])\n\ncon.close()\n</code></pre> <pre><code>acbd18db4cc2f85cedef654fccc4a4d8\n</code></pre> <p><code>create_aggregate(name, num_params, aggregate_class)</code></p> <p>\u521b\u5efa\u4e00\u4e2a\u7528\u6237\u5b9a\u4e49\u7684\u805a\u5408\u51fd\u6570\u3002<code>aggregate_class</code>\u7c7b\u5fc5\u987b\u5b9e\u73b0\u4e00\u4e2a<code>step</code>\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u7684\u53c2\u6570\u6570\u91cf\u4e3a<code>num_params</code>\uff0c\u5982\u679c<code>num_params=-1</code>\uff0c\u5219\u53ef\u4ee5\u63a5\u53d7\u4efb\u610f\u6570\u91cf\u7684\u53c2\u6570\u3002\u8fd8\u9700\u8981\u5b9e\u73b0<code>finalize</code>\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u5c06\u8fd4\u56de\u805a\u5408\u7684\u6700\u7ec8\u7ed3\u679c\u3002<code>finalize</code>\u65b9\u6cd5\u5e94\u8be5\u8fd4\u56deSQLite\u652f\u6301\u7684\u7c7b\u578b\u3002</p> <pre><code>import sqlite3\n\nclass MySum:\n    def __init__(self):\n        self.count = 0\n\n    def step(self, value):\n        self.count += value\n\n    def finalize(self):\n        return self.count\n\ncon = sqlite3.connect(\":memory:\")\ncon.create_aggregate(\"mysum\", 1, MySum)\ncur = con.cursor()\ncur.execute(\"create table test(i)\")\ncur.execute(\"insert into test(i) values (1)\")\ncur.execute(\"insert into test(i) values (2)\")\ncur.execute(\"select mysum(i) from test\")\nprint(cur.fetchone()[0])\n\ncon.close()\n</code></pre> <pre><code>3\n</code></pre> <p><code>create_collation(name, callable)</code></p> <p>\u521b\u5efa\u4e00\u4e2a\u6392\u5e8f\u89c4\u5219\u3002<code>callable</code>\u5bf9\u8c61\u63a5\u6536\u4e24\u4e2a\u5b57\u7b26\u4e32\u53d8\u91cf\uff0c\u5982\u679c\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u6392\u5728\u7b2c\u4e8c\u4e2a\u540e\u9762\uff0c\u8fd4\u56de<code>-1</code>\uff1b\u5982\u679c\u4e24\u8005\u6392\u5e8f\u76f8\u540c\uff0c\u5219\u8fd4\u56de<code>0</code>\uff1b\u5982\u679c\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u6392\u5728\u7b2c\u4e8c\u4e2a\u524d\u9762\uff0c\u5219\u8fd4\u56de<code>1</code>\u3002\u6ce8\u610f\uff0c<code>callable</code>\u5bf9\u8c61\u5c06\u4ee5 Python bytestrings \u7684\u5f62\u5f0f\u83b7\u53d6\u5176\u53c2\u6570\uff0c\u901a\u5e38\u4ee5UTF-8\u8fdb\u884c\u7f16\u7801\u3002</p> <pre><code>import sqlite3\n\ndef collate_reverse(string1, string2):\n    if string1 == string2:\n        return 0\n    elif string1 &gt; string2:\n        return 1\n    else:\n        return -1\n\ncon = sqlite3.connect(\":memory:\")\ncon.create_collation(\"reverse\", collate_reverse)\n\ncur = con.cursor()\ncur.execute(\"create table test(x)\")\ncur.executemany(\"insert into test(x) values (?)\", [(\"a\",), (\"b\",)])\ncur.execute(\"select x from test order by x collate reverse\")\nfor row in cur:\n    print(row)\ncon.close()\n</code></pre> <pre><code>('a',)\n('b',)\n</code></pre> <p><code>interrupt()</code></p> <p>\u53ef\u4ee5\u4ece\u5176\u4ed6\u7ebf\u7a0b\u8c03\u7528\u6b64\u65b9\u6cd5\uff0c\u4ee5\u4e2d\u6b62\u53ef\u80fd\u5728\u8fde\u63a5\u4e0a\u6267\u884c\u7684\u4efb\u4f55\u67e5\u8be2\u3002\u67e5\u8be2\u5c06\u4e2d\u6b62\uff0c\u8c03\u7528\u8be5\u67e5\u8be2\u7684\u5730\u65b9\u5c06\u8fd4\u56de\u5f02\u5e38\u3002</p>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.4.SQLite.html#_4","title":"\u5c06\u8fde\u63a5\u7528\u4f5c\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668","text":"<p>\u8fde\u63a5\u5bf9\u8c61\u53ef\u7528\u4f5c\u81ea\u52a8\u63d0\u4ea4\u6216\u56de\u6eda\u4e8b\u52a1\u7684\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u3002\u5982\u679c\u53d1\u751f\u5f02\u5e38\uff0c\u5219\u4e8b\u52a1\u5c06\u56de\u6eda\u3002</p> <pre><code>import sqlite3\n\ncon = sqlite3.connect(\":memory:\")\ncon.execute(\"create table person (id integer primary key, firstname varchar unique)\")\n\n# Successful, con.commit() is called automatically afterwards\nwith con:\n    con.execute(\"insert into person(firstname) values (?)\", (\"Joe\",))\n\n# con.rollback() is called after the with block finishes with an exception, the\n# exception is still raised and must be caught\ntry:\n    with con:\n        con.execute(\"insert into person(firstname) values (?)\", (\"Joe\",))\nexcept sqlite3.IntegrityError:\n    print(\"couldn't add Joe twice\")\n\n# Connection object used as context manager only commits or rollbacks transactions,\n# so the connection object should be closed manually\ncon.close()\n</code></pre> <pre><code>couldn't add Joe twice\n</code></pre>"},{"location":"Python3/%E6%95%B0%E6%8D%AE%E5%BA%93/15.5.SQLAlchemy.html","title":"15.5.SQLAlchemy","text":"<pre><code># -*- coding: utf-8 -*-\n\"\"\"\nCreated on Tue May 26 20:30:42 2020\n\n@author: Android\n\"\"\"\n\nimport sqlalchemy\nsqlalchemy.__version__\nfrom toolkit import H\n\nh = H(sqlalchemy)\nd = h.dicts\n\n\nfrom sqlalchemy import create_engine\nengine = create_engine('sqlite:///:memory:', echo=True)\n\nfrom sqlalchemy.ext.declarative import declarative_base\n\nBase = declarative_base()\n\n\nfrom sqlalchemy import Column, Integer, String\n\nclass User(Base):\n    __tablename__ = 'users'\n    __table_args__ = {'extend_existing': True}\n\n    id = Column(Integer, primary_key=True)\n    name = Column(String)\n    fullname = Column(String)\n    nickname = Column(String)\n\n    def __repr__(self):\n        return \"&lt;User(name='%s', fullname='%s', nickname='%s')&gt;\" % (\n                            self.name, self.fullname, self.nickname)\n\nimport pprint\n\nUser.__table__\n\nBase.metadata.create_all(engine)\n\nfrom sqlalchemy import Sequence\n\nclass User(Base):\n    __tablename__ = 'users'\n    __table_args__ = {'extend_existing': True}\n\n    id = Column(Integer, Sequence('user_id_seq'), primary_key=True)\n    name = Column(String(50))\n    fullname = Column(String(50))\n    nickname = Column(String(50))\n\n    def __repr__(self):\n        return \"&lt;User(name='%s', fullname='%s', nickname='%s')&gt;\" % (\n                                self.name, self.fullname, self.nickname)\n\n\ned_user = User(name='ed', fullname='Ed Jones', nickname='edsnickname')\ned_user.name\ned_user.nickname\nstr(ed_user.id)\n\n\n\nfrom sqlalchemy.orm import sessionmaker\nSession = sessionmaker(bind=engine)\n\nsession = Session()\n\ned_user = User(name='ed', fullname='Ed Jones', nickname='edsnickname')\nsession.add(ed_user)\n\n\nour_user = session.query(User).filter_by(name='ed').first() \n\nour_user\n\n\nimport time\nfor i in range(10):\n    time.sleep(0.2) \n    print (\"\\r Loading... \"+str(i), end=\"\")\n\n\n\nimport genanki\n\ndir(genanki)\n\nfrom toolkit import H\n\nh = H(genanki)\nd = h.dicts\n</code></pre> <pre><code>module\n2020-06-02 13:03:22,529 INFO sqlalchemy.engine.base.Engine SELECT\nCAST('test plain returns' AS VARCHAR(60)) AS anon_1\n2020-06-02 13:03:22,533 INFO sqlalchemy.engine.base.Engine ()\n2020-06-02 13:03:22,536 INFO sqlalchemy.engine.base.Engine SELECT\nCAST('test unicode returns' AS VARCHAR(60)) AS anon_1\n2020-06-02 13:03:22,538 INFO sqlalchemy.engine.base.Engine ()\n2020-06-02 13:03:22,540 INFO sqlalchemy.engine.base.Engine PRAGMA\nmain.table_info(\"users\")\n2020-06-02 13:03:22,542 INFO sqlalchemy.engine.base.Engine ()\n2020-06-02 13:03:22,545 INFO sqlalchemy.engine.base.Engine PRAGMA\ntemp.table_info(\"users\")\n2020-06-02 13:03:22,547 INFO sqlalchemy.engine.base.Engine ()\n2020-06-02 13:03:22,550 INFO sqlalchemy.engine.base.Engine\nCREATE TABLE users (\n        id INTEGER NOT NULL,\n        name VARCHAR,\n        fullname VARCHAR,\n        nickname VARCHAR,\n        PRIMARY KEY (id)\n)\n\n\n2020-06-02 13:03:22,552 INFO sqlalchemy.engine.base.Engine ()\n2020-06-02 13:03:22,555 INFO sqlalchemy.engine.base.Engine COMMIT\n2020-06-02 13:03:22,562 INFO sqlalchemy.engine.base.Engine BEGIN\n(implicit)\n2020-06-02 13:03:22,564 INFO sqlalchemy.engine.base.Engine INSERT INTO\nusers (name, fullname, nickname) VALUES (?, ?, ?)\n2020-06-02 13:03:22,566 INFO sqlalchemy.engine.base.Engine ('ed', 'Ed\nJones', 'edsnickname')\n2020-06-02 13:03:22,568 INFO sqlalchemy.engine.base.Engine SELECT\nusers.id AS users_id, users.name AS users_name, users.fullname AS\nusers_fullname, users.nickname AS users_nickname\nFROM users\nWHERE users.name = ?\n LIMIT ? OFFSET ?\n2020-06-02 13:03:22,570 INFO sqlalchemy.engine.base.Engine ('ed', 1,\n0)\nC:\\ProgramData\\Anaconda3\\lib\\site-\npackages\\sqlalchemy\\ext\\declarative\\clsregistry.py:129: SAWarning:\nThis declarative base already contains a class with the same class\nname and module name as __main__.User, and will be replaced in the\nstring-lookup table.\n  % (item.__module__, item.__name__)\n  Loading... 0  Loading... 1  Loading... 2  Loading... 3  Loading... 4\nLoading... 5  Loading... 6  Loading... 7  Loading... 8  Loading... 9\n</code></pre> <pre><code>---------------------------------------------------------------------------ModuleNotFoundError\nTraceback (most recent call last)&lt;ipython-input-1-bf4fe48533c7&gt; in\n&lt;module&gt;\n     87\n     88\n---&gt; 89 import genanki\n     90\n     91 dir(genanki)\nModuleNotFoundError: No module named 'genanki'\n</code></pre>"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.2.PDF.html","title":"16.2.PDF","text":"<pre><code>Windows 10\nPython 3.7.7 @ MSC v.1916 64 bit (AMD64)\nLatest build date 2020.09.17\npdfminer version:  20191125\n</code></pre> <p>PDF \u6587\u6863\u867d\u7136\u7ecf\u5e38\u88ab\u7528\u5230\uff0c\u4f46\u662f PDF \u53ef\u4ee5\u8bf4\u662f\u90aa\u6076\u7684\uff0c\u56e0\u4e3a PDF \u683c\u5f0f\u5341\u5206\u590d\u6742\uff0c\u60f3\u901a\u8fc7\u7f16\u7a0b\u7684\u65b9\u5f0f\u7cbe\u786e\u5730\u63d0\u53d6PDF\u6587\u6863\u4e2d\u7684\u4fe1\u606f\u76f8\u5f53\u56f0\u96be\u3002\u7528\u4e8e\u63d0\u53d6PDF\u6587\u6863\u4fe1\u606f\u7684Python\u5e93\u6709\u5f88\u591a\uff0c\u4f46\u662f\u5927\u90e8\u5206\u7684\u5e93\u73b0\u5728\u90fd\u4e0d\u600e\u4e48\u66f4\u65b0\u4e86\uff0c\u5e38\u7528\u7684\u5e93\u6709<code>PyPDF2</code>\u3001<code>pdfminer</code>\u3001<code>pdfminer3k</code>\u7b49\u3002<code>pdfminer</code>\u7684\u6700\u65b0\u7248\u672c\u66f4\u65b0\u65f6\u95f4\u57282019\u5e74\u3002</p> <p><code>pyPdf</code>\u5305\u65e9\u57282005\u5e74\u5c31\u53d1\u5e03\u4e86\uff0c\u5e94\u8be5\u662f\u6700\u65e9\uff08\u8f83\u65e9\uff09\u7528\u4e8e\u89e3\u6790PDF\u7684Python\u5e93\uff0c \u4f46\u662f <code>pyPdf</code> \u57282010\u5e74\u5c31\u505c\u6b62\u66f4\u65b0\uff0c\u4e14\u4e0d\u652f\u6301Python3\u3002 \u5728 <code>pyPDF</code>\u505c\u6b62\u66f4\u65b0\u540e\u7684\u4e00\u5e74\u5de6\u53f3\uff0c\u7531Phasit\u516c\u53f8\u5728 <code>pyPdf</code> \u7684\u57fa\u7840\u4e0a\u5f00\u53d1\u4e86<code>PyPDF2</code>\uff0c \u8be5\u4ee3\u7801\u88ab\u8bbe\u8ba1\u4e3a\u4e0e<code>pyPdf</code>\u517c\u5bb9\uff0c\u6700\u540e\u4e00\u4e2a\u7248\u672c\u53d1\u5e03\u4e8e2016\u5e74\u3002 \u7136\u540e\u57282018\u5e74\u51fa\u73b0\u4e86\u540d\u4e3a <code>PyPDF3</code> \u7684\u5e93\uff0c \u5728\u66f4\u65b0\u4e86\u51e0\u4e2a\u7248\u672c\u4e4b\u540e\uff0c<code>PyPDF3</code> \u9879\u76ee\u88ab\u91cd\u547d\u540d\u4e3a <code>PyPDF4</code>\u3002 \u8fd9\u4e9b\u9879\u76ee\u51e0\u4e4e\u90fd\u505a\u7740\u76f8\u540c\u7684\u4e8b\u60c5\uff0c\u4f46\u662f<code>PyPDF2+</code> \u7684\u9879\u76ee\u6dfb\u52a0\u4e86Python3\u7684\u652f\u6301\u3002</p> <p>\u8fd8\u6709\u4e00\u4e2a\u4ece\u539f\u59cb\u7684<code>pyPdf</code>\u9879\u76eefork\u51fa\u6765\u7684<code>pyPdf</code> for Python 3\u9879\u76ee\uff0c\u4f46\u5df2\u592d\u6298\u591a\u5e74\u3002</p>"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.2.PDF.html#pdfminer","title":"<code>pdfminer</code>","text":"<p><code>pdfminer</code>\u662f\u4e00\u4e2a\u53ef\u4ee5\u4ecePDF\u6587\u6863\u4e2d\u63d0\u53d6\u4fe1\u606f\u7684\u5de5\u5177\u3002\u4e0e\u5176\u4ed6PDF\u76f8\u5173\u7684\u5de5\u5177\u4e0d\u540c\uff0c\u5b83\u6ce8\u91cd\u7684\u662f\u83b7\u53d6\u548c\u5206\u6790\u6587\u672c\u6570\u636e\uff0c\u6240\u4ee5<code>pdfminer</code>\u63d0\u53d6PDF\u7684\u8868\u683c\u548c\u56fe\u7247\u7684\u6548\u679c\u90fd\u4e0d\u592a\u597d\u3002</p> <p><code>pdfminer</code>\u5141\u8bb8\u4f60\u83b7\u53d6\u67d0\u4e00\u9875\u4e2d\u6587\u672c\u7684\u51c6\u786e\u4f4d\u7f6e\u548c\u4e00\u4e9b\u8bf8\u5982\u5b57\u4f53\u3001\u884c\u6570\u7684\u4fe1\u606f\u3002\u5b83\u5305\u62ec\u4e00\u4e2aPDF\u8f6c\u6362\u5668\uff0c\u53ef\u4ee5\u628aPDF\u6587\u4ef6\u8f6c\u6362\u6210HTML\u7b49\u683c\u5f0f\uff0c\u53ea\u662f\u8f6c\u6362\u540e\u7684\u683c\u5f0f\u6ca1\u773c\u770b\u3002\u5b83\u8fd8\u6709\u4e00\u4e2a\u6269\u5c55\u7684PDF\u89e3\u6790\u5668\uff0c\u53ef\u4ee5\u7528\u4e8e\u9664\u6587\u672c\u5206\u6790\u4ee5\u5916\u7684\u5176\u4ed6\u7528\u9014\u3002</p> <p>\u7531\u4e8ePDF\u6587\u4ef6\u5177\u6709\u5e9e\u5927\u548c\u590d\u6742\u7684\u7ed3\u6784\uff0c\u5b8c\u6574\u89e3\u6790 PDF \u6587\u4ef6\u5f88\u8d39\u65f6\u95f4\uff0c<code>pdfminer</code>\u91c7\u7528\u4e86\u4e00\u4e2a\u61d2\u60f0\u5206\u6790\u7684\u7b56\u7565\uff0c\u5373\u663e\u5f0f\u6307\u5b9a\u5206\u6790\u5185\u5bb9\u65f6\u624d\u8fdb\u884c\u5206\u6790\uff0c\u5373\u6839\u636e\u9700\u8981\u53ea\u89e3\u6790\u51fa\u6240\u9700\u7684\u5185\u5bb9\u3002</p> <p>\u4e0b\u9762\u8fd9\u4e2a\u56fe\u8868\u793a\u4e86 <code>pdfminer</code> \u5404\u6a21\u5757\u4e4b\u95f4\u7684\u5173\u7cfb\uff1a</p> <p></p> \u6a21\u5757\u540d \u8bf4\u660e <code>PDFParser</code> \u4ece\u6587\u4ef6\u4e2d\u83b7\u53d6\u6570\u636e <code>PDFDocument</code> \u5b58\u50a8\u6587\u6863\u6570\u636e\u7ed3\u6784\u5230\u5185\u5b58\u4e2d <code>PDFPageInterpreter</code> \u89e3\u6790page\u5185\u5bb9 <code>PDFDevice</code> \u628a\u89e3\u6790\u5230\u7684\u5185\u5bb9\u8f6c\u5316\u4e3a\u4f60\u9700\u8981\u7684\u4e1c\u897f <code>PDFResourceManager</code> \u5b58\u50a8\u5171\u4eab\u8d44\u6e90\uff0c\u4f8b\u5982\u5b57\u4f53\u6216\u56fe\u7247\u7b49"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.2.PDF.html#_1","title":"\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528","text":"<p>\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\u7ed9\u51fa\u4e86<code>pdfminer</code>\u89e3\u6790 PDF \u6587\u6863\u7684\u57fa\u672c\u65b9\u6cd5\u3002\u9996\u5148\u6253\u5f00 PDF \u6587\u4ef6\uff0c\u521b\u5efa\u89e3\u6790\u5bf9\u8c61\uff0c\u5b58\u50a8\u6587\u6863\u7ed3\u6784\uff0c\u521b\u5efa\u8d44\u6e90\u7ba1\u7406\u5bf9\u8c61\u4ee5\u53ca\u5171\u4eab\u8d44\u6e90\uff0c\u7136\u540e\u518d\u521b\u5efa device \u5bf9\u8c61\uff0c\u6700\u540e\u518d\u521b\u5efa\u6587\u6863\u89e3\u6790\u5bf9\u8c61\uff0c\u5e76\u5904\u7406\u6587\u6863\u4e2d\u7684\u6bcf\u4e00\u9875\u3002</p> <pre><code>from pdfminer.pdfparser import PDFParser\nfrom pdfminer.pdfdocument import PDFDocument\nfrom pdfminer.pdfdevice import PDFDevice, PDFTextDevice\nfrom pdfminer.pdfpage import PDFPage, PDFTextExtractionNotAllowed\nfrom pdfminer.pdfinterp import PDFResourceManager\nfrom pdfminer.pdfinterp import PDFPageInterpreter\n\npdf_path = \"datasets/file/\u6bd5\u4e1a\u8bbe\u8ba1-\u9875\u9762-14.pdf\"\nwith open(pdf_path, \"rb\") as f:\n    # Create a PDF parser object associated with the file object.\n    parser = PDFParser(f)\n    # Create a PDF document object associated with the parser object.\n    document = PDFDocument(parser=parser, password=\"\")\n\n    # Check if the PDF is text-based\n    # pdfminer is not working for scanned PDF\n    if not document.is_extractable:\n        raise PDFTextExtractionNotAllowed\n\n    # Create a PDF resource manager object that stores shared resources.\n    pdf_manager = PDFResourceManager()\n    # Create a PDF device object.\n    device = PDFDevice(pdf_manager)\n    # device = PDFTextDevice(pdf_manager)\n    # Create a PDF interpreter object.\n    interpreter = PDFPageInterpreter(pdf_manager, device)\n\n    # Process each page contained in the document.\n    for page in PDFPage.create_pages(document):\n        interpreter.process_page(page)\n</code></pre> <p>\u8fd9\u662f\u5b98\u65b9\u6587\u6863\u7ed9\u51fa\u7684\u793a\u4f8b\u4ee3\u7801\uff0c\u4e0d\u8fc7\u8bf4\u5b9e\u8bdd\uff0c\u6211\u4e0d\u662f\u5f88\u660e\u767d\u8fd9\u6bb5\u4ee3\u7801\u5728\u5e72\u561b\uff0c\u56e0\u4e3a\u4e0a\u9762\u7684\u4ee3\u7801\u597d\u50cf\u6ca1\u529e\u6cd5\u62ff\u5230<code>PDFPageInterpreter</code>\u89e3\u6790\u5f97\u5230\u7684\u7ed3\u679c\u3002\u53ef\u80fd\u8fd9\u6bb5\u793a\u4f8b\u4ee3\u7801\u4ec5\u4ec5\u662f\u5c55\u793a<code>pdfminer</code>\u5904\u7406PDF\u7684\u6d41\u7a0b\u3002</p> <p>\u4e0b\u9762\u662f\u83b7\u53d6\u9875\u9762\u89e3\u6790\u7ed3\u679c\u7684\u793a\u4f8b\u4ee3\u7801\uff1a</p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u6211\u4eec\u9700\u8981\u8c03\u7528<code>PDFDevice</code>\u5bf9\u8c61\u7684<code>get_result</code>\u65b9\u6cd5\u53bb\u83b7\u53d6\u89e3\u6790\u540e\u5f97\u5230\u7684\u5bf9\u8c61\u3002\u7b2c\u4e00\u6bb5\u793a\u4f8b\u4ee3\u7801\u7684 <code>PDFDevice</code> \u5bf9\u8c61\u5e94\u8be5\u53ea\u662f\u4e00\u4e2a\u63a5\u53e3\u7c7b\uff08\u53ea\u662f\u58f0\u660e\u63a5\u53e3\uff0c\u6ca1\u6709\u5177\u4f53\u5b9e\u73b0\uff09\uff0c\u662f\u6ca1\u6709<code>get_result</code>\u65b9\u6cd5\u7684\uff0c\u6240\u4ee5\u7b2c\u4e00\u6bb5\u793a\u4f8b\u4ee3\u7801\u6ca1\u529e\u6cd5\u53d6\u5f97\u89e3\u6790\u7ed3\u679c\u3002<code>PDFPageAggregator</code>\u662f<code>PDFDevice</code> \u7684\u5b50\u7c7b\uff0c\u5177\u6709<code>get_result</code>\u65b9\u6cd5\u3002</p> <pre><code>from pdfminer.pdfparser import PDFParser\nfrom pdfminer.pdfdocument import PDFDocument\nfrom pdfminer.pdfpage import PDFPage, PDFTextExtractionNotAllowed\nfrom pdfminer.converter import PDFPageAggregator\nfrom pdfminer.pdfinterp import PDFResourceManager\nfrom pdfminer.layout import LAParams, LTTextBox, LTTextLine\n\npdf_path = \"datasets/file/\u6bd5\u4e1a\u8bbe\u8ba1-\u9875\u9762-14.pdf\"\nwith open(pdf_path, \"rb\") as f:\n    # Create a PDF parser object associated with the file object.\n    parser = PDFParser(f)\n    # Create a PDF document object associated with the parser object.\n    document = PDFDocument(parser=parser, password=\"\")\n\n    if not document.is_extractable:\n        raise PDFTextExtractionNotAllowed\n\n    # Create a PDF resource manager object that stores shared resources.\n    pdf_manager = PDFResourceManager()\n    # Create a PDF device object.\n    laparams = LAParams()\n    device = PDFPageAggregator(pdf_manager, laparams=laparams)\n    # Create a PDF interpreter object.\n    interpreter = PDFPageInterpreter(pdf_manager, device)\n\n    # Process each page contained in the document.\n    for page in PDFPage.create_pages(document):\n        interpreter.process_page(page)\n        # receive the LTPage object for the page.\n        layout = device.get_result()\n        for num, element in enumerate(layout):\n            if isinstance(element, LTTextBox) or isinstance(element, LTTextLine):\n                print(element.get_text())\n</code></pre> <pre><code>\u54c8\u5c14\u6ee8\u5de5\u4e1a\u5927\u5b66\uff08\u6df1\u5733\uff09\u672c\u79d1\u6bd5\u4e1a\u8bbe\u8ba1\uff08\u8bba\u6587\uff09\n\n\u951a\u6846\u7684\u6a21\u578b CornerNet\u3002CornerNet \u4f7f\u7528\u4e00\u4e2a\u5377\u79ef\u7f51\u7edc\u751f\u6210\u4e24\u7ec4\u7279\u5f81\u56fe\uff0c\u4e00\u4e2a\u8d1f\u8d23\n\u9884\u6d4b\u5de6\u4e0a\u89d2\uff0c\u53e6\u4e00\u7ec4\u8d1f\u8d23\u9884\u6d4b\u53f3\u4e0b\u89d2\uff0c\u4ee5\u4e24\u4e2a\u5173\u952e\u70b9\u751f\u6210\u5019\u9009\u6846\u3002CornerNet \u8fd8\u5f15\n\u5165\u4e86\u4e00\u79cd\u65b0\u578b\u7684 corner pooling \u5e2e\u52a9\u7f51\u7edc\u66f4\u597d\u5730\u5b9a\u4f4d\u8fb9\u754c\u6846\u7684\u89d2\u70b9\u3002\u5355\u9636\u6bb5\u6a21\u578b\u7ed3\n\u6784\u5982\u56fe 1-8 \u6240\u793a\uff1a\n\n\u56fe  1-8  \u5355\u9636\u6bb5\u68c0\u6d4b\u6a21\u578b[14]\n\n\n\n1.2.2  \u5c0f\u76ee\u6807\u68c0\u6d4b\u7684\u7814\u7a76\u73b0\u72b6\n\n\u76ee\u524d\u5b66\u754c\u8fd8\u6ca1\u6709\u7ed9\u5c0f\u76ee\u6807\u4e00\u4e2a\u5177\u4f53\u7684\u5b9a\u4e49\uff0c\u56e0\u4e3a\u5c0f\u548c\u5927\u662f\u4e00\u4e2a\u76f8\u5bf9\u6982\u5ff5\u3002\u540c\u4e00\n\n\u4e2a\u7269\u4f53\u5728\u76f8\u673a\u7684\u8fdc\u5904\u548c\u8fd1\u5904\u62cd\u6444\u5448\u73b0\u7684\u5927\u5c0f\u7ed3\u679c\u662f\u4e0d\u540c\u7684\u3002\u56fe\u7247\u4e2d\u7684\u5c0f\u76ee\u6807\u53ef\u80fd\n\n\u662f\u7269\u4f53\u81ea\u8eab\u7684\u7269\u7406\u5c3a\u5bf8\u8fc7\u5c0f\u6216\u8005\u662f\u62cd\u6444\u8ddd\u79bb\u8f83\u8fdc\u5bfc\u81f4\u7684\u3002\u867d\u7136\u5c0f\u76ee\u6807\u7684\u5224\u5b9a\u6ca1\u6709\n\n\u4e00\u4e2a\u7edf\u4e00\u7684\u6807\u51c6\uff0c\u4f46\u662f\u5728\u7279\u5b9a\u7684\u6570\u636e\u96c6\u5185\uff0c\u5c0f\u76ee\u6807\u53ef\u4ee5\u4eba\u4e3a\u5730\u7ed9\u51fa\u51c6\u786e\u5b9a\u4e49\u3002\u6bd4\n\u5982 MS COCO \u6570\u636e\u96c6\u5185\u89c4\u5b9a\u5c3a\u5bf8\u5728 32 32\uf0b4 \u4e4b\u5185\u7684\u76ee\u6807\u53ef\u4ee5\u8ba4\u4e3a\u662f\u5c0f\u76ee\u6807\u3002\u5982\u8868 1-1\n\u6240\u793a\uff1a\n\n\u8868 1-1    COCO \u6570\u636e\u96c6\u5bf9\u76ee\u6807\u5c3a\u5ea6\u7684\u5b9a\u4e49\n\n\n\n\u5c0f\u5c3a\u5ea6\u76ee\u6807\n\u4e2d\u5c3a\u5ea6\u76ee\u6807\n\u5927\u5c3a\u5ea6\u76ee\u6807\n\n\u6700\u5c0f\u9762\u79ef\n0 0\uf0b4\n32 32\uf0b4\n\n96 96\uf0b4\n\n\n\u6700\u5927\u9762\u79ef\n32 32\uf0b4\n96 96\uf0b4\n\uf0a5\uf0b4 \uf0a5\n\n\n\n\n\n\u4e3a\u4e86\u63d0\u9ad8\u5c0f\u76ee\u6807\u68c0\u6d4b\u7684\u7cbe\u5ea6\uff0c\u5404\u8def\u5b66\u8005\u63d0\u51fa\u4e86\u8bb8\u591a\u884c\u4e4b\u6709\u6548\u7684\u65b9\u6848\u3002\nLin \u7b49[17]\u4ece\u635f\u5931\u51fd\u6570\u65b9\u9762\u51fa\u53d1\uff0c\u63d0\u51fa\u4e86 RetinaNet\u3002RetinaNet \u4e3b\u8981\u89e3\u51b3\u4e86\u5355\u9636\n\u6bb5\u6a21\u578b\u6b63\u8d1f\u6837\u672c\u4e0d\u5e73\u8861\u7684\u95ee\u9898\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e00\u5f20\u56fe\u4ec5\u6709\u51e0\u4e2a\u76ee\u6807\uff0c\u800c\u4ea7\u751f\u7684\u5019\n\n\u9009\u6846\u5374\u662f\u6210\u5343\u4e0a\u767e\uff0c\u8d1f\u6837\u672c\u5bf9\u603b\u4f53\u635f\u5931\u51fd\u6570\u7684\u5f71\u54cd\u8fdc\u8fdc\u5927\u4e8e\u6b63\u6837\u672c\u3002\u5982\u6b64\u4e00\u6765\uff0c\n\n\u6a21\u578b\u4fbf\u4f1a\u8fc7\u5206\u5173\u6ce8\u8d1f\u6837\u672c\uff0c\u4e5f\u66f4\u5bb9\u6613\u53d1\u751f\u5bf9\u6b63\u6837\u672c\u7684\u6f0f\u68c0\u73b0\u8c61\u3002RetinaNet \u4f7f\u7528\u7684\nFocal Loss \u63d0\u9ad8\u4e86\u5bf9\u5c11\u91cf\u6837\u672c\u7684\u5173\u6ce8\uff0c\u5f88\u597d\u5730\u89e3\u51b3\u4e86\u6b63\u8d1f\u6837\u672c\u4e0d\u5e73\u8861\u7684\u95ee\u9898\u3002\n\n- 8 -\n</code></pre> <p>\u4e00\u4e2a\u5e03\u5c40\u5206\u6790\u5668\uff08layout analyzer\uff09\u4e3aPDF\u7684\u6bcf\u4e00\u9875\u8fd4\u56de\u4e00\u4e2a<code>LTPage</code>\u5bf9\u8c61\u3002\u8fd9\u4e2a<code>LTPage</code>\u5bf9\u8c61\u5305\u542b\u4f4d\u4e8e\u9875\u9762\u5185\u7684\u5b50\u5bf9\u8c61\uff0c\u5f62\u6210\u4e00\u4e2a\u6811\u5f62\u7ed3\u6784\u3002</p> <p>\u4e0b\u56fe\u5c55\u793a\u4e86\u8fd9\u4e9b\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb\uff1a</p> <p></p> <p>\u5982\u679c\u6211\u4eec\u60f3\u83b7\u5f97PDF\u4e4b\u4e2d\u7684\u6587\u5b57\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u8fed\u4ee3<code>LTPage</code>\u5bf9\u8c61\u5305\u542b\u7684\u5b50\u5bf9\u8c61\uff0c\u5224\u65ad\u5b50\u5bf9\u8c61\u662f\u5426\u4e3a<code>LTTextBox</code>\u6216<code>LTTextLine</code>\u5bf9\u8c61\uff0c\u5982\u679c\u662f\u7684\u8bdd\uff0c\u5219\u8c03\u7528\u5b50\u5bf9\u8c61\u7684<code>get_text()</code>\u65b9\u6cd5\u83b7\u53d6\u6587\u5b57\u3002</p> <p>\u4e0b\u9762\u7684\u8868\u683c\u662f\u5404\u5bf9\u8c61\u7684\u5177\u4f53\u8bf4\u660e\uff1a</p> \u5bf9\u8c61\u540d \u5bf9\u8c61\u8bf4\u660e \u5907\u6ce8 <code>LTPage</code> \u4ee3\u8868\u4e00\u4e2a\u5b8c\u6574\u7684\u9875\u9762\uff0c\u53ef\u4ee5\u5305\u542b\u5b50\u5bf9\u8c61 \u4f8b\u5982\uff1a<code>LTTextBox</code>, <code>LTFigure</code>, <code>LTImage</code>, <code>LTRect</code>, <code>LTCurve</code>\u548c<code>LTLine</code> <code>LTTextBox</code> \u5b83\u5305\u542b <code>LTTextLine</code>\u5bf9\u8c61\u7684\u5217\u8868\uff0c\u4ee3\u8868\u4e00\u7ec4\u88ab\u5305\u542b\u5728\u77e9\u5f62\u533a\u57df\u4e2d\u7684\u6587\u672c \u6ce8\u610f\uff1a\u8be5box\u662f\u6839\u636e\u51e0\u4f55\u5b66\u5206\u6790\u5f97\u5230\u7684\uff0c\u5e76\u4e0d\u4e00\u5b9a\u51c6\u786e\u5730\u8868\u73b0\u4e3a\u8be5\u6587\u672c\u7684\u903b\u8f91\u8303\u56f4\uff0cget_text()\u65b9\u6cd5\u53ef\u4ee5\u8fd4\u56de\u6587\u672c\u5185\u5bb9 <code>LTTextLine</code> \u5305\u542b\u4e00\u4e2a<code>LTChar</code>\u5bf9\u8c61\u7684\u5217\u8868\uff0c\u8868\u73b0\u4e3a\u5355\u884c\u6587\u672c \u5b57\u7b26\u8868\u73b0\u4e3a\u4e00\u884c\u6216\u4e00\u5217\uff0c\u53d6\u51b3\u4e8e\u6587\u672c\u4e66\u5199\u65b9\u5f0f\uff0cget_text()\u65b9\u6cd5\u8fd4\u56de\u6587\u672c\u5185\u5bb9 <code>LTChar</code> \u8868\u793a\u4e00\u4e2a\u5728\u6587\u672c\u4e2d\u7684\u771f\u5b9e\u7684\u5b57\u6bcd\uff0c\u4f5c\u4e3a\u4e00\u4e2aunicode\u5b57\u7b26\u4e32 <code>LTChar</code> \u5bf9\u8c61\u6709\u771f\u5b9e\u7684\u5206\u9694\u7b26 <code>LTAnno</code> \u8868\u793a\u4e00\u4e2a\u5728\u6587\u672c\u4e2d\u7684\u771f\u5b9e\u7684\u5b57\u6bcd\uff0c\u4f5c\u4e3a\u4e00\u4e2aunicode\u5b57\u7b26\u4e32 <code>LTAnno</code> \u5bf9\u8c61\u6ca1\u6709\uff0c\u662f\u865a\u62df\u5206\u9694\u7b26\uff0c\u6309\u7167\u4e24\u4e2a\u5b57\u7b26\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u5e03\u5c40\u5206\u6790\u5668\u63d2\u5165\u865a\u62df\u5206\u9694\u7b26 <code>LTFigure</code> \u8868\u793a\u4e00\u4e2a\u88ab PDF Form \u5bf9\u8c61\u4f7f\u7528\u7684\u533a\u57df pdf form\u9002\u7528\u4e8e\u76ee\u524d\u7684\u56fe\u8868(present figures)\u6216\u8005\u9875\u9762\u4e2d\u690d\u5165\u7684\u53e6\u4e00\u4e2apdf\u6587\u6863\u56fe\u7247\uff0c<code>LTFigure</code>\u5bf9\u8c61\u53ef\u4ee5\u9012\u5f52 <code>LTImage</code> \u8868\u793a\u4e00\u4e2a\u56fe\u5f62\u5bf9\u8c61\uff0c\u53ef\u4ee5\u662fJPEG\u6216\u8005\u5176\u4ed6\u683c\u5f0f <code>LTLine</code> \u8868\u793a\u4e00\u6839\u76f4\u7ebf \u7528\u6765\u5206\u5272\u6587\u672c\u6216\u56fe\u8868(figures) <code>LTRect</code> \u8868\u793a\u4e00\u4e2a\u77e9\u5f62 \u7528\u6765\u6846\u4f4f\u522b\u7684\u56fe\u7247\u6216\u8005\u56fe\u8868 <code>LTCurve</code> \u4ee3\u8868\u4e00\u4e2a\u8d1d\u585e\u5c14\u66f2\u7ebf"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.2.PDF.html#_2","title":"\u547d\u4ee4\u884c\u5de5\u5177","text":"<p>\u9664\u4e86\u4ee5<code>import</code>\u7684\u65b9\u5f0f\u4f7f\u7528\uff0c<code>pdfminer</code>\u8fd8\u63d0\u4f9b\u4e86\u4e24\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\uff1a<code>pdf2txt.py</code>\u548c<code>dumppdf.py</code>:</p> <ul> <li>pdf2txt.py: \u4ecePDF\u6587\u4ef6\u4e2d\u63d0\u53d6\u6240\u6709\u6587\u672c\u5185\u5bb9\u3002\u4f46\u4e0d\u80fd\u8bc6\u522b\u753b\u6210\u56fe\u7247\u7684\u6587\u672c\u3002\u5bf9\u4e8e\u52a0\u5bc6\u7684PDF\u9700\u8981\u63d0\u4f9b\u5bc6\u7801\u624d\u80fd\u89e3\u6790\uff0c\u5bf9\u4e8e\u6ca1\u6709\u63d0\u53d6\u6743\u9650\u7684PDF\u6587\u6863\u5219\u65e0\u6cd5\u63d0\u53d6\u6587\u672c\u3002</li> <li>dumppdf.py: \u628aPDF\u6587\u4ef6\u5185\u5bb9\u53d8\u6210\u51c6XML\u683c\u5f0f\u3002\u8fd9\u4e2a\u7a0b\u5e8f\u4e3b\u8981\u7528\u4e8edebug\uff0c\u4f46\u662f\u5b83\u4e5f\u53ef\u80fd\u7528\u4e8e\u63d0\u53d6\u4e00\u4e9b\u6709\u610f\u4e49\u7684\u5185\u5bb9\uff08\u6bd4\u5982\u56fe\u7247\uff09\u3002</li> </ul> <p>\u4f7f\u7528\u7c7b\u4f3c\u8fd9\u6837\u7684\u547d\u4ee4\u8c03\u7528\u5c31\u53ef\u4ee5\u4e86\uff1a <code>pdf2txt.py [options] files</code>\u3002</p> <p>\u4e0b\u9762\u662f<code>pdf2txt.py</code>\u7684\u53c2\u6570\u8bf4\u660e\u3002</p> <p>\u5b9e\u9645\u4f7f\u7528\u7684\u53ef\u9009\u53c2\u6570\u53d6\u51b3\u4e8e\u7528\u6237\u4f7f\u7528\u7684\u7248\u672c\uff0c\u548c\u5b98\u7f51\u4e0a\u7684\u53c2\u6570\u53ef\u80fd\u6709\u51fa\u5165\u3002</p> <ul> <li><code>-o</code> value \uff1a\u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u540d\uff0c\u5426\u5219\u6807\u51c6\u8f93\u51fa\u3002\u6ca1\u6709<code>-t</code>\u9009\u9879\u6307\u5b9a\u7c7b\u578b\u65f6\u6839\u636e\u540e\u7f00\u540d\u5224\u5b9a\u7c7b\u578b\u3002</li> <li><code>-t</code> value \uff1a\u6307\u5b9a\u8f93\u51fa\u7c7b\u578b\uff1atext (\u9ed8\u8ba4)\u3001html\u3001xml\u3001tag\u3002\u4e0d\u6307\u5b9a\u4f1a\u6839\u636e\u6587\u4ef6\u540d\u540e\u7f00\u5224\u5b9a\u3002</li> <li><code>-p</code> value \uff1a\u6307\u5b9a\u8f93\u51fa\u67d0\u4e9b\u9875\uff0c\u4f8b\u5982<code>1,2,3</code>\u8f93\u51fa1\u52303\u9875 (\u5206\u9694\u7b26<code>,</code>\u65e0\u7a7a\u683c!).\u9ed8\u8ba4\u5168\u90e8\u9875\u8f93\u51fa\u3002\u5185\u90e8\u4f1a\u8f6c\u6210\u4e00\u4e2aset\u7c7b\u578b\u5bf9\u8c61\u3002</li> <li><code>-m</code> value \uff1a\u6307\u5b9a\u63d0\u53d6\u6700\u591am\u9875\u3002\u9ed8\u8ba4\u63d0\u53d6\u6240\u6709\u3002</li> <li><code>-O</code> value \uff1a\u7ed9ImageWriter\u7684\u53c2\u6570,\u8f93\u51fa\u56fe\u7247\u5230\u76f8\u5e94\u6587\u4ef6\u5939\uff0c\u9ed8\u8ba4\u4e0d\u8f93\u51fa\u56fe\u7247\u3002</li> <li><code>-C</code> \uff1a\u538b\u5236\u4f7f\u7528\u7f13\u5b58\uff0c\u4f1a\u51cf\u5c11\u5185\u5b58\u6d88\u8017\u4f46\u51cf\u6162\u5206\u6790\u8fc7\u7a0b\u3002\u8fd9\u4e2a\u7f13\u5b58\u4f1a\u5728\u591a\u6587\u4ef6\u65f6\u4f7f\u7528\u4e4b\u524d\u7684\u4e00\u4e9b\u4fe1\u606f\uff08\u4f8b\u5982\u683c\u5f0f\u3001\u6587\u5b57\u5927\u5c0f\u7b49\uff09\u4f5c\u4e3a\u672c\u6587\u4ef6\u5904\u7406\uff0c\u53ef\u80fd\u4f1a\u51fa\u95ee\u9898\uff0c\u5efa\u8bae\u538b\u5236\u7f13\u5b58\u3002</li> <li><code>-P</code> value \uff1a\u6307\u5b9a\u64cd\u4f5cpdf\u9700\u8981\u7684\u5bc6\u7801</li> <li><code>-c</code> value \uff1acodec\uff0c\u5c31\u662f\u4f7f\u7528\u7684\u7f16\u7801\uff08\u9ed8\u8ba4<code>utf-8</code>\uff09\u3002</li> <li><code>-d</code> \uff1a\u589e\u52a0debug\u7ea7\u6570\u3002</li> </ul> <p>\u4ee5\u4e0b\u53c2\u6570\u548clayout\u5206\u6790\u76f8\u5173 (\u5b9e\u9645\u4f7f\u7528<code>LAParams</code>\u5bf9\u8c61\u8fdb\u884c\u50a8\u5b58\u53c2\u6570\u5e76\u4f20\u9012\u7ed9\u4e3b\u8981\u7684\u51fd\u6570)</p> <ul> <li><code>-n</code> \uff1a\u53d6\u6d88layout\u5206\u6790\u3002</li> <li><code>-A</code> \uff1a\u5f3a\u5236\u8fdb\u884c\u6240\u6709\u6587\u672c\u5b57\u7b26\u4e32\u7684layout\u5206\u6790\uff0c\u5305\u62ec\u56fe\u7247\u5185\u7684\u3002</li> <li><code>-V</code> \uff1a\u5141\u8bb8\u5782\u76f4\u4e66\u5199\u7684\u7684\u68c0\u6d4b\u3002</li> <li><code>-M</code> value \uff1achar_margin\uff0c\u63a7\u5236\u4f5c\u4e3a\u4e00\u4e2atext chunks\u7684\u6700\u5927\u5b57\u7b26\u95f4\u8ddd. \u5c0f\u4e8e\u8be5\u8ddd\u79bb\u4e3a\u5f52\u4e3a\u4e00\u7ec4\u3002\u5b9e\u9645\u8ddd\u79bb\u503c\u53d6\u51b3\u4e8e\u5b57\u7b26\u5927\u5c0f\u3002</li> <li><code>-L</code> value \uff1aline_margin\uff0c\u63a7\u5236\u4f5c\u4e3a\u4e00\u4e2atext box\u7684\u6700\u5927\u884c\u8ddd. \u5c0f\u4e8e\u8be5\u8ddd\u79bb\u4e3a\u5f52\u4e3a\u4e00\u4e2abox\u3002</li> <li><code>-W</code> value \uff1aword_margin\uff0c\u63a7\u5236\u4e24\u4e2a\u8bcd\u4e4b\u95f4\u662f\u5426\u63d2\u5165\u7a7a\u683c\u7684\u6700\u5c0f\u95f4\u8ddd\u3002</li> <li><code>-F</code> value \uff1aboxes_flow\uff0c\u63a7\u5236box order\uff1f\u503c\u5e94\u8be5\u662f-1 (\u53ea\u8003\u8651\u6c34\u5e73) \u52301 (\u53ea\u8003\u8651\u5782\u76f4)\u4e4b\u95f4\uff0c\u9ed8\u8ba40.5\u3002</li> <li><code>-Y</code> value \uff1a\u8f93\u51fa\u5230HTML\u65f6\u7684layout\u7684\u6a21\u5f0f\uff0c\u9ed8\u8ba4normal(\u4fdd\u6301\u76f8\u5e94\u4f4d\u7f6e\u548c\u6362\u884c)\uff0c\u8fd8\u53ef\u4ee5exact (\u51c6\u786e\u4fdd\u6301\u6bcf\u4e2a\u5b57\u7b26\u4f4d\u7f6e\uff0cHTML\u53d8\u5927\u4e14\u6df7\u4e71)\u548cloose (\u4fdd\u6301text block\u4f4d\u7f6e)\u3002</li> <li><code>-s</code> value \uff1a\u63a7\u5236\u8f93\u51fa\u7684\u7f29\u653e\u6bd4\u4f8b\uff0c\u53ea\u80fd\u7528\u4e8eHTML\u683c\u5f0f\u3002</li> <li><code>-R</code> value \uff1a\u63a7\u5236\u65cb\u8f6c\u5ea6\u6570(360\u5236)\u3002</li> </ul> <ul> <li>\u4e0d\u540c\u7248\u672c\u7684<code>M, L, W</code>\u53c2\u6570\u7684\u9ed8\u8ba4\u503c\u53ef\u80fd\u4e0d\u540c\u3002</li> <li>\u540c\u65f6\u5904\u7406\u591a\u4e2a\u6587\u4ef6\u65f6\uff0c\u4e0d\u4f7f\u7528<code>-C</code>\u53c2\u6570\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e00\u4e9b\u95ee\u9898\u3002</li> </ul>"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.2.PDF.html#_3","title":"\u53c2\u8003","text":"<ol> <li>pdfminer docs</li> <li>\u7b2c107\u5929\uff1a Python \u89e3\u6790 PDF</li> <li>PDFMiner:Python\u89e3\u6790PDF</li> </ol>"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.3.docx.html","title":"16.3.docx","text":"<pre><code>Windows 10\nPython 3.7.7 @ MSC v.1916 64 bit (AMD64)\nLatest build date 2020.09.21\npython-docx version:  0.8.10\n</code></pre> <p><code>python-docx</code>\u662fPython\u64cd\u4f5cword\u6587\u6863\u65f6\u6700\u5e38\u7528\u7684\u5e93\u3002<code>python-docx</code>\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2aword\u6587\u6863\uff0c\u5f80\u6587\u6863\u4e2d\u6dfb\u52a0\u6587\u5b57\u3001\u8868\u683c\u3001\u56fe\u7247\uff0c\u5e76\u4e14\u53ef\u4ee5\u8bbe\u7f6e\u6837\u5f0f\uff1b\u4e5f\u53ef\u4ee5\u4ece\u4e00\u4e2aword\u6587\u6863\u4e2d\u8bfb\u53d6\u6587\u5b57\u3001\u8868\u683c\u3001\u5185\u8054\u7684\u56fe\u7247\u3002</p> <p><code>python-docx</code>\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ol> <li><code>python-docx</code>\u867d\u7136\u53ef\u4ee5\u8bbe\u7f6e\u6837\u5f0f\uff0c\u4f46\u5b83\u7684\u6837\u5f0f\u8bbe\u7f6e\u4e0d\u80fd\u5305\u542bword\u7684\u6240\u6709\u6837\u5f0f\u3002</li> <li>Word\u6709\u6837\u5f0f\u7ba1\u7406\u5668\uff0c<code>python-docx</code>\u53ef\u4ee5\u64cd\u4f5c\u8fd9\u4e2a\u7ba1\u7406\u5668\uff0c\u6dfb\u52a0\u81ea\u5b9a\u4e49\u7684\u6837\u5f0f\u5230\u7ba1\u7406\u5668\u4e2d\uff0c\u6216\u8005\u4ece\u7ba1\u7406\u5668\u9009\u53d6\u4e00\u4e2a\u6837\u5f0f\u52a0\u4ee5\u5e94\u7528\u3002</li> <li><code>python-docx</code>\u53ea\u80fd\u8bfb\u53d6\u5185\u8054\u56fe\u7247\u3002</li> </ol> <p>\u5982\u679c\u5bf9docx\u6587\u6863\u7684\u6837\u5f0f\u8bbe\u7f6e\u6709\u8f83\u9ad8\u8981\u6c42\uff0c\u53ef\u4ee5\u5148\u8bbe\u7f6e\u597d\u4e00\u4e2aword\u6a21\u677f\u6587\u6863\uff0c\u7136\u540e\u7528<code>python-docx</code>\u8bfb\u5165\u8be5\u6a21\u677f\u6587\u6863\uff0c\u64cd\u7eb5\u8be5\u6587\u6863\u7684\u6837\u5f0f\u7ba1\u7406\u5668\u3002\u5982\u679c\u4e0d\u80fd\u7528Word\u81ea\u5b9a\u4e49\u6837\u5f0f\uff0c\u53c8\u5bf9\u6837\u5f0f\u8bbe\u7f6e\u6709\u5f88\u9ad8\u8981\u6c42\uff0c\u53ea\u80fd\u8003\u8651VBA\u3001win32api\u7b49\u529f\u80fd\u9f50\u5168\u7684\u5de5\u5177\u4e86\u3002</p>"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.3.docx.html#docx","title":"\u8bfb\u53d6docx","text":"<pre><code>from docx import Document\n</code></pre>"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.3.docx.html#_1","title":"\u8bfb\u53d6\u6587\u672c","text":"<pre><code># \u6253\u5f00 SQL\u7b14\u8bb0.docx \u6587\u6863\ndoc_path = r\"datasets/file/SQL\u7b14\u8bb0.docx\"\ndoc = Document(doc_path)\n\n# \u8bfb\u53d6\u6bcf\u6bb5\u7684\u6587\u672c\npl = [paragraph.text for paragraph in doc.paragraphs]\nprint(f\"\u4e00\u5171\u6709 {len(pl)} \u4e2aparagraph\")\nprint(pl[100])\n</code></pre> <pre><code>\u4e00\u5171\u6709 835 \u4e2aparagraph\n1986 \u5e74\uff0cANSI \u9996\u6b21\u5236\u5b9a\u4e86 SQL \u7684\u6807\u51c6\u3002\u4fee\u8ba2\u540e\u7684\u6807\u51c6\u4ee5\u4fee\u8ba2\u5e74\u4efd\u6765\u547d\u540d\uff0c\u4f8b\u5982 SQL:1999\u3001SQL:2003\u3001SQL:2008\n\u7b49\u3002\n</code></pre>"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.3.docx.html#_2","title":"\u8bfb\u53d6\u8868\u683c","text":"<pre><code># \u8bfb\u53d6\u6240\u6709\u8868\u683c\ntables = doc.tables\n\n# \u6253\u5370\u7b2c\u4e00\u4e2a\u8868\u683c\u7684\u5185\u5bb9\nfor row in tables[0].rows:\n    for cell in row.cells:\n        print(cell.text, end=' \\t | \\t')\n    print()\n</code></pre> <pre><code>\u542b\u4e49       |      \u8fd0\u7b97\u7b26      |\n\u52a0\u6cd5\u8fd0\u7b97     |      +        |\n\u51cf\u6cd5\u8fd0\u7b97     |      -        |\n\u4e58\u6cd5\u8fd0\u7b97     |      *        |\n\u9664\u6cd5\u8fd0\u7b97     |      /        |\n</code></pre>"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.3.docx.html#_3","title":"\u8bfb\u53d6\u6837\u5f0f","text":"<pre><code># \u83b7\u53d6\u8be5\u6587\u6863\u7684\u6240\u6709\u6837\u5f0f\nstyles = list(doc.styles)\n# \u83b7\u53d6\u7b2c\u4e00\u4e2a\u6837\u5f0f\u7684\u540d\u5b57\nprint(styles[0].name)\n# \u83b7\u53d6\u7b2c\u4e00\u4e2a\u6837\u5f0f\u7684\u5b57\u4f53\nprint(styles[0].font.name)\n# \u83b7\u53d6\u7b2c\u4e00\u4e2a\u6837\u5f0f\u7684\u5b57\u4f53\u7684\u5927\u5c0f\nprint(styles[0].font.size)\n</code></pre> <pre><code>Normal\nTimes New Roman\n139700\n</code></pre>"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.3.docx.html#_4","title":"\u8bfb\u53d6\u5185\u8054\u56fe\u7247","text":"<p><code>python-docx</code> \u8bfb\u53d6\u5185\u8054\u56fe\u7247\u7684\u65b9\u5f0f\u6709\u70b9\u590d\u6742\uff0c\u5b98\u65b9\u6587\u6863\u597d\u50cf\u4e5f\u6ca1\u6709\u63d0\u53ca\u5982\u4f55\u63d0\u53d6\u56fe\u7247\u3002\u5b9e\u9645\u4e0adocx\u6587\u6863\u662f\u5305\u542b\u4e86\u4e00\u4e9bxml\u6587\u4ef6\u548c\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684zip\u538b\u7f29\u6587\u6863\u3002\u6240\u4ee5\uff0c\u53ef\u4ee5\u901a\u8fc7\u5206\u6790xml\u7684\u6807\u7b7e\u6216\u8005\u5c06doc\u89e3\u538b\u7f29\u6765\u83b7\u53d6\u56fe\u7247\u7684\u4fe1\u606f\u3002\u5b9e\u9645\u4e0a\uff0c<code>python-docx</code>\u6b63\u662f\u901a\u8fc7\u89e3\u6790docx\u6587\u6863\u4e2d\u7684xml\u6587\u4ef6\u6765\u63d0\u53d6\u5176\u4e2d\u7684\u4fe1\u606f\u3002</p> <p>document.xml \u6587\u4ef6\u5305\u542b\u4e86docx\u6587\u4ef6\u7684\u4e3b\u8981\u5185\u5bb9\uff0c\u56fe\u7247\u7684\u4fe1\u606f\u4e5f\u5728\u5176\u4e2d\u3002\u5728 document.xml \u4e2d\uff0c\u56fe\u7247\u7684\u51fa\u73b0\u987a\u5e8f\u548c\u56fe\u7247\u5728\u6587\u4ef6\u4e2d\u663e\u793a\u7684\u987a\u5e8f\u662f\u4e00\u81f4\u7684\u3002\u6bcf\u4e2a\u56fe\u7247\u90fd\u6709\u4e00\u4e2a<code>r:id</code>\u7684\u6807\u7b7e\uff1f\u53ef\u4ee5\u8fed\u4ee3<code>Document</code>\u7684<code>inline_shapes</code>\u5bf9\u8c61\uff0c\u4ece\u800c\u83b7\u5f97\u5176\u4e2d\u7684\u6bcf\u4e00\u4e2a<code>inline_shape</code>\u5bf9\u8c61\u7684<code>riD</code>\u503c\u3002</p> <pre><code>rId = []\nfor inline_img in doc.inline_shapes:\n    # pic.blipFill.blip.embed \u8fd9\u4e9b\u90fd\u662f document.xml \u4e2d\u7684\u6807\u7b7e\n    blip = inline_img._inline.graphic.graphicData.pic.blipFill.blip\n    rId.append(blip.embed)\nprint(rId)\n</code></pre> <pre><code>['rId19', 'rId20', 'rId24', 'rId25', 'rId27', 'rId28']\n</code></pre> <p>\u901a\u8fc7 <code>Document.part</code> \u5c5e\u6027\uff0c\u53ef\u4ee5\u83b7\u53d6\u50a8\u5b58\u4e86<code>document.xml</code>\u89e3\u6790\u7ed3\u679c\u7684<code>DocumentPart</code>\u5bf9\u8c61</p> <pre><code>document_part = doc.part\nprint(document_part.partname)\n</code></pre> <pre><code>/word/document.xml\n</code></pre> <p><code>DocumentPart</code>\u5bf9\u8c61\u7684\u5c5e\u6027<code>related_parts</code>\u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u5c06<code>document.xml</code>\u4e2d\u7684\u6bcf\u4e00\u4e2a<code>r:id</code>\u6620\u5c04\u5230\u8be5<code>r:id</code>\u6240\u5728\u7684\u90e8\u5206\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u901a\u8fc7\u5185\u8054\u56fe\u7247\u7684<code>r:id</code>\u4ece\u5c5e\u6027<code>related_parts</code>\u4e2d\u83b7\u53d6\u56fe\u7247\u7684xml\u539f\u59cb\u4fe1\u606f\u3002</p> <pre><code>rid = rId[0]\nimage_part = document_part.related_parts[rid]\nprint(f\"'{rid}'\u5bf9\u5e94\u7684\u56fe\u7247\u6587\u4ef6\u540d:\", image_part.filename)\n</code></pre> <pre><code>'rId19'\u5bf9\u5e94\u7684\u56fe\u7247\u6587\u4ef6\u540d: image.png\n</code></pre> <p>\u7136\u800c\uff0c\u901a\u8fc7<code>.filename</code>\u5c5e\u6027\u83b7\u5f97\u7684\u6587\u4ef6\u540d\u4f3c\u4e4e\u4e0d\u662f\u5b8c\u5168\u6b63\u786e\u7684\uff0c\u5b8c\u6574\u7684\u56fe\u7247\u6587\u4ef6\u540d\u8fd8\u5e26\u6709\u7f16\u53f7\u7684\u3002\u901a\u8fc7<code>.partname</code>\u5c5e\u6027\uff0c\u53ef\u4ee5\u770b\u5230\u56fe\u7247\u5728docx\u538b\u7f29\u6587\u4ef6\u4e2d\u7684\u771f\u5b9e\u6587\u4ef6\u540d\u3002</p> <pre><code>print(f\"'{rid}'\u5bf9\u5e94\u7684\u56fe\u7247\u6587\u4ef6\u540d:\", image_part.partname)\n</code></pre> <pre><code>'rId19'\u5bf9\u5e94\u7684\u56fe\u7247\u6587\u4ef6\u540d: /word/media/image1.png\n</code></pre> <p>\u901a\u8fc7<code>.blob</code>\u5c5e\u6027\uff08blob\u5728\u8ba1\u7b97\u673a\u9886\u57df\u4e2d\uff0c\u4f3c\u4e4e\u662fbinary large object\u7684\u7f29\u5199\uff09\uff0c\u53ef\u4ee5\u83b7\u5f97\u56fe\u7247\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u3002</p> <pre><code>print(type(image_part.blob))\nprint(len(image_part.blob))\n</code></pre> <pre><code>&lt;class 'bytes'&gt;\n23329\n</code></pre> <p>\u4fdd\u5b58\u56fe\u7247\u7684\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u53ef\u4ee5\u5f97\u5230\u56fe\u7247\u6587\u4ef6</p> <pre><code>with open(r\"datasets/file/image1.png\", \"wb\") as f:\n    f.write(image_part.blob)\nos.remove(r\"datasets/file/image1.png\")\n</code></pre> <p>\u6216\u8005\u4f7f\u7528<code>cv2</code>\u5e93\u5c06\u4e8c\u8fdb\u5236\u7684\u56fe\u7247\u6570\u636e\u8f6c\u6362\u4e3a\u6570\u7ec4\uff0c\u901a\u8fc7matplotlib\u53ef\u4ee5\u663e\u793a\u51fa\u8be5\u56fe\u7247\u3002</p> <pre><code>import matplotlib.pyplot as plt\nimport cv2\nimport numpy as np\n\nimg = cv2.imdecode(np.frombuffer(image_part.blob, np.uint8), cv2.IMREAD_COLOR)\nplt.imshow(img)\n</code></pre> <p></p> <p><code>InlineShape</code>\u5bf9\u8c61\u8fd8\u5e26\u6709\u56fe\u7247\u7684\u957f\u5bbd\u4fe1\u606f\uff08\u4f46\u597d\u50cf\u4e0d\u592a\u51c6\uff09\uff1a</p> <pre><code>print(inline_img.height.cm, inline_img.width.cm)\n</code></pre> <pre><code>1.7796 10.591322222222223\n</code></pre> <p><code>InlineShape</code>\u5bf9\u8c61\u8fd8\u5e26\u6709\u4e00\u4e2a<code>name</code>\u6807\u7b7e\uff0c\u4f46\u4e0d\u77e5\u9053\u662f\u4ec0\u4e48\u542b\u4e49\uff1a</p> <pre><code>print(inline_img._inline.graphic.graphicData.pic.nvPicPr.cNvPr.name)\n</code></pre> <pre><code>Picture 237\n</code></pre>"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.3.docx.html#_5","title":"\u53c2\u8003","text":"<ol> <li>\u7b2c105\u5929\uff1a Python \u64cd\u4f5c Word</li> <li>\u4f7f\u7528\u6837\u5f0f\u2014\u2014 \u4f7f\u7528Python\u8bfb\u5199Office\u6587\u6863\u4e4b\u56db</li> <li>python-docx\u4e2d\u6587</li> <li>\u5229\u7528python-docx\u6279\u91cf\u5904\u7406Word\u6587\u4ef6\u2014\u56fe\u7247</li> <li>\u3010\u7b46\u8a18\u3011python docx \u6293\u5716</li> <li>python \u4f7f\u7528cv2\u3001io.BytesIO\u5904\u7406\u56fe\u7247\u4e8c\u8fdb\u5236\u6570\u636e</li> </ol>"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.4.OCR.html","title":"16.4.OCR","text":"<pre><code>Windows 10\nPython 3.7.7 @ MSC v.1916 64 bit (AMD64)\nLatest build date 2020.09.21\npytesseract version:  0.3.6\n</code></pre>"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.4.OCR.html#tesseract","title":"Tesseract","text":"<p>Tesseract\u7684OCR\u5f15\u64ce\u6700\u5148\u7531HP\u5b9e\u9a8c\u5ba4\u4e8e1985\u5e74\u5f00\u59cb\u7814\u53d1\uff0c\u81f31995\u5e74\u65f6\u5df2\u7ecf\u6210\u4e3aOCR\u4e1a\u5185\u6700\u51c6\u786e\u7684\u4e09\u6b3e\u8bc6\u522b\u5f15\u64ce\u4e4b\u4e00\u3002\u7136\u800c\uff0cHP\u4e0d\u4e45\u4fbf\u51b3\u5b9a\u653e\u5f03OCR\u4e1a\u52a1\uff0cTesseract\u4e5f\u4ece\u6b64\u5c18\u5c01\u3002</p> <p>\u6570\u5e74\u4ee5\u540e\uff0cHP\u610f\u8bc6\u5230\uff0c\u4e0e\u5176\u5c06Tesseract\u675f\u4e4b\u9ad8\u9601\uff0c\u4e0d\u5982\u8d21\u732e\u7ed9\u5f00\u6e90\u8f6f\u4f53\u4e1a\uff0c\u8ba9\u5176\u91cd\u7115\u65b0\u751f\u2014\u20142005\u5e74\uff0cTesseract\u7531\u7f8e\u56fd\u5185\u534e\u8fbe\u5dde\u4fe1\u606f\u6280\u672f\u7814\u7a76\u6240\u83b7\u5f97\uff0c\u5e76\u6c42\u8bf8\u4e8eGoogle\u5bf9Tesseract\u8fdb\u884c\u6539\u8fdb\u3001\u6d88\u9664Bug\u3001\u4f18\u5316\u5de5\u4f5c\u3002</p> <p>Tesseract\u76ee\u524d\u5df2\u4f5c\u4e3a\u5f00\u6e90\u9879\u76ee\u53d1\u5e03\u5728Google Project\uff0c\u5e76\u63d0\u4f9b\u4e86\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\u3002\u5b89\u88c5Tesseract\u4e4b\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5728terminal\u6253\u5370Tesseract\u7684\u7248\u672c\u4fe1\u606f\uff1a</p> <pre><code>output = subprocess.check_output(\n    r'\"C:\\Program Files\\Tesseract-OCR\\tesseract.exe\" -v'\n)\nprint(output.decode(\"utf-8\"))\n</code></pre> <pre><code>tesseract v5.0.0-alpha.20200328\n leptonica-1.78.0\n  libgif 5.1.4 : libjpeg 8d (libjpeg-turbo 1.5.3) : libpng 1.6.34 :\nlibtiff 4.0.9 : zlib 1.2.11 : libwebp 0.6.1 : libopenjp2 2.3.0\n Found AVX2\n Found AVX\n Found FMA\n Found SSE\n Found libarchive 3.3.2 zlib/1.2.11 liblzma/5.2.3 bz2lib/1.0.6\nliblz4/1.7.5\n Found libcurl/7.59.0 OpenSSL/1.0.2o (WinSSL) zlib/1.2.11 WinIDN\nlibssh2/1.7.0 nghttp2/1.31.0\n</code></pre> <p>tesseract \u7684\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>\u5355\u4e00\u547d\u4ee4:\n  tesseract --help                # \u663e\u793a\u7b80\u77ed\u7684\u5e2e\u52a9\u6587\u6863\n  tesseract --help-extra          # \u663e\u793a\u5b8c\u6574\u7684\u5e2e\u52a9\u6587\u6863\n  tesseract --help-psm            # \u663e\u793a-psmk\u53ef\u9009\u547d\u4ee4\u7684\u53c2\u6570\u7684\u8bf4\u660e\n  tesseract --help-oem            # \u663e\u793a-oem\u53ef\u9009\u547d\u4ee4\u7684\u53c2\u6570\u7684\u8bf4\u660e\n  tesseract -v, --version         # \u663e\u793a-oem\u7248\u672c\u4fe1\u606f\n  tesseract --list-langs          # \u5217\u51fa\u5f53\u524dtesseract\u5f15\u64ce\u7684\u53ef\u7528\u8bed\u8a00\n  tesseract --print-parameters    # \u6253\u5370tesseract\u7684\u53c2\u6570\n\nOCR\u547d\u4ee4:\n  tesseract \u8fa8\u8bc6\u7684\u56fe\u7247 \u8f93\u51fa\u6587\u6863 [\u53ef\u9009\u547d\u4ee4]\n\n    \u53ef\u9009\u547d\u4ee4:\n      --dpi VALUE           \u6307\u5b9a\u8f93\u5165\u56fe\u7247\u7684DPI\n      -l LANG[+LANG]        \u6307\u5b9aOCR\u65f6\u4f7f\u7528\u7684\u8bed\u8a00\n      --psm NUM             \u6307\u5b9a\u9875\u9762\u5206\u5272\u6a21\u5f0f\n      --oem NUM             \u6307\u5b9aOCR\u5f15\u64ce\u6a21\u5f0f\n</code></pre> <p><code>--psm</code>\u548c<code>--oem</code>\u76f8\u5173\u53c2\u6570\u7684\u8bf4\u660e\u5982\u4e0b\uff1a</p> <pre><code>Page segmentation modes:\n  0    Orientation and script detection (OSD) only.\n  1    Automatic page segmentation with OSD.\n  2    Automatic page segmentation, but no OSD, or OCR. (not implemented)\n  3    Fully automatic page segmentation, but no OSD. (Default)\n  4    Assume a single column of text of variable sizes.\n  5    Assume a single uniform block of vertically aligned text.\n  6    Assume a single uniform block of text.\n  7    Treat the image as a single text line.\n  8    Treat the image as a single word.\n  9    Treat the image as a single word in a circle.\n 10    Treat the image as a single character.\n 11    Sparse text. Find as much text as possible in no particular order.\n 12    Sparse text with OSD.\n 13    Raw line. Treat the image as a single text line,\n       bypassing hacks that are Tesseract-specific.\n\nOCR Engine modes:\n  0    Legacy engine only.\n  1    Neural nets LSTM engine only.\n  2    Legacy + LSTM engines.\n  3    Default, based on what is available.\n</code></pre> <p>tesseract \u652f\u6301\u540c\u65f6\u8bc6\u522b\u591a\u79cd\u8bed\u8a00\uff0c\u4f8b\u5982\u4ee5\u4e0b\u547d\u4ee4\u4ee3\u8868\u540c\u65f6\u8bc6\u522btest.png\u56fe\u7247\u4e2d\u7684\u7b80\u4f53\u4e2d\u6587\u548c\u82f1\u6587\uff1a</p> <pre><code>tesseract -l chi_sim+end test.png\n</code></pre> <p>tesseract\u652f\u6301\u8f93\u51fa\u53ef\u641c\u7d22\u7684pdf\uff1a</p> <pre><code>tesseract -l eng test.png test.pdf pdf\n</code></pre> <p>\u8fd9\u5c06\u521b\u5efa\u5e26\u6709\u56fe\u50cf\u7684pdf\u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u5df2\u8bc6\u522b\u6587\u672c\u7684\u5355\u72ec\u53ef\u641c\u7d22\u6587\u672c\u5c42\u3002</p>"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.4.OCR.html#pytesseract","title":"pytesseract","text":"<p><code>pytesseract</code> \u662f\u4e00\u4e2aPython\u5e93\uff0c\u5b83\u5c01\u88c5\u4e86 <code>Tesseract</code>\uff0c\u5373\u4e3aTesseract\u63d0\u4f9b\u4e86Python\u63a5\u53e3\u3002</p> <pre><code># If you don't have tesseract executable in your PATH, include the following:\ntesseract_path = r\"C:\\Program Files\\Tesseract-OCR\\tesseract.exe\"\npytesseract.pytesseract.tesseract_cmd = tesseract_path\n</code></pre> <p>\u73b0\u5728\u6709\u4e00\u5f20\u540d\u4e3a<code>ocr_sample.png</code>\u7684\u56fe\u7247\u5982\u4e0b\uff1a</p> <p></p> <pre><code># Simple image to string\nprint(pytesseract.image_to_string(Image.open(\"../datasets/file/ocr_sample.png\"),\n                                  lang=\"chi_sim+eng\"))\n</code></pre> <pre><code>\u4e3a\u4e86\u63d0\u9ad8\u5c0f\u76ee\u6807\u68c0\u6d4b\u7684\u7cbe\u5ea6\uff0c\u5404\u8def\u5b66\u8005\u63d0\u51fa\u4e86\u8bb8\u591a\u884c\u4e4b\u6709\u6548\u7684\u65b9\u6848\u3002\n\nLin \u7b49[7\u4ece\u635f\u5931\u51fd\u6570\u65b9\u9762\u51fa\u53d1\uff0c\u63d0\u51fa\u4e86 RetinaNet\u3002RetinaNet \u4e3b\u8981\u89e3\u51b3\u4e86\u5355\u9636\n\u6bb5\u6a21\u578b\u6b63\u8d1f\u6837\u672c\u4e0d\u5e73\u8861\u7684\u95ee\u9898\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e00\u5f20\u56fe\u4ec5\u6709\u51e0\u4e2a\u76ee\u6807\uff0c\u800c\u4ea7\u751f\u7684\u5019\n\u9009\u6846\u5374\u662f\u6210\u5343\u4e0a\u767e\uff0c\u8d1f\u6837\u672c\u5bf9   \u635f\u5931\u51fd\u6570\u7684\u5f71\u54cd\u8fdc\u8fdc\u5927\u4e8e\u6b63\u6837\u672c\u3002\u5982\u6b64\u4e00\u6765\uff0c\n\u6a21\u578b\u4fbf\u4f1a\u8fc7\u5206\u5173\u6ce8\u8d1f\u6837\u672c\uff0c\u4e5f\u66f4\u5bb9\u6613\u53d1\u751f\u5bf9\u6b63\u6837\u672c\u7684\u6f0f\u68c0\u73b0\u8c61\u3002RetinaNet \u4f7f\u7528\u7684\nFocal Loss \u63d0\u9ad8\u4e86\u5bf9\u5c11\u91cf\u6837\u672c\u7684\u5173\u6ce8\uff0c\u5f88\u597d\u5730\u89e3\u51b3\u4e86\u6b63\u8d1f\u6837\u672c\u4e0d\u5e73\u8861\u7684\u95ee\u9898\u3002\n</code></pre> <p>\u53ef\u4ee5\u8bbe\u7f6e<code>timeout</code>\u53c2\u6570\u3002</p> <pre><code># Timeout/terminate the tesseract job after a period of time\ntry:\n    # Timeout after half a second\n    print(pytesseract.image_to_string('test.jpg', timeout=0.5))\nexcept RuntimeError as timeout_error:\n    # Tesseract processing is terminated\n    pass\n</code></pre> <p>\u73b0\u5728\u6709\u4e00\u4e2a\u50a8\u5b58\u7740\u56fe\u7247\u8def\u5f84\u5217\u8868\u7684\u6587\u672c\u6587\u4ef6\uff1a</p> <pre><code>with open(\"../datasets/file/ocr_list.txt\", \"r\") as f:\n    print(f.read())\n</code></pre> <pre><code>../datasets/file/ocr_sample.png\n../datasets/file/ocr_sample.png\n</code></pre> <pre><code># Batch processing with a single file containing the list of multiple image file paths\nprint(pytesseract.image_to_string(\"../datasets/file/ocr_list.txt\",\n                                  lang=\"chi_sim\"))\n</code></pre> <pre><code>\u4e3a\u4e86\u63d0\u9ad8\u5c0f\u76ee\u6807\u68c0\u6d4b\u7684\u7cbe\u5ea6\uff0c\u5404\u8def\u5b66\u8005\u63d0\u51fa\u4e86\u8bb8\u591a\u884c\u4e4b\u6709\u6548\u7684\u65b9\u6848\u3002\n\nLin \u7b49[7\u4ece\u635f\u5931\u51fd\u6570\u65b9\u9762\u51fa\u53d1\uff0c\u63d0\u51fa\u4e86 RetinaNet\u3002RetinaNet \u4e3b\u8981\u89e3\u51b3\u4e86\u5355\u9636\n\u6bb5\u6a21\u578b\u6b63\u8d1f\u6837\u672c\u4e0d\u5e73\u8861\u7684\u95ee\u9898\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e00\u5f20\u56fe\u4ec5\u6709\u51e0\u4e2a\u76ee\u6807\uff0c\u800c\u4ea7\u751f\u7684\u5019\n\u9009\u6846\u5374\u662f\u6210\u5343\u4e0a\u767e\uff0c\u8d1f\u6837\u672c\u5bf9   \u635f\u5931\u51fd\u6570\u7684\u5f71\u54cd\u8fdc\u8fdc\u5927\u4e8e\u6b63\u6837\u672c\u3002\u5982\u6b64\u4e00\u6765\uff0c\n\u6a21\u578b\u4fbf\u4f1a\u8fc7\u5206\u5173\u6ce8\u8d1f\u6837\u672c\uff0c\u4e5f\u66f4\u5bb9\u6613\u53d1\u751f\u5bf9\u6b63\u6837\u672c\u7684\u6f0f\u68c0\u73b0\u8c61\u3002RetinaNet \u4f7f\u7528\u7684\nFocal Loss \u63d0\u9ad8\u4e86\u5bf9\u5c11\u91cf\u6837\u672c\u7684\u5173\u6ce8\uff0c\u5f88\u597d\u5730\u89e3\u51b3\u4e86\u6b63\u8d1f\u6837\u672c\u4e0d\u5e73\u8861\u7684\u95ee\u9898\u3002\n\n\n \u4e3a\u4e86\u63d0\u9ad8\u5c0f\u76ee\u6807\u68c0\u6d4b\u7684\u7cbe\u5ea6\uff0c\u5404\u8def\u5b66\u8005\u63d0\u51fa\u4e86\u8bb8\u591a\u884c\u4e4b\u6709\u6548\u7684\u65b9\u6848\u3002\n\nLin \u7b49[7\u4ece\u635f\u5931\u51fd\u6570\u65b9\u9762\u51fa\u53d1\uff0c\u63d0\u51fa\u4e86 RetinaNet\u3002RetinaNet \u4e3b\u8981\u89e3\u51b3\u4e86\u5355\u9636\n\u6bb5\u6a21\u578b\u6b63\u8d1f\u6837\u672c\u4e0d\u5e73\u8861\u7684\u95ee\u9898\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e00\u5f20\u56fe\u4ec5\u6709\u51e0\u4e2a\u76ee\u6807\uff0c\u800c\u4ea7\u751f\u7684\u5019\n\u9009\u6846\u5374\u662f\u6210\u5343\u4e0a\u767e\uff0c\u8d1f\u6837\u672c\u5bf9   \u635f\u5931\u51fd\u6570\u7684\u5f71\u54cd\u8fdc\u8fdc\u5927\u4e8e\u6b63\u6837\u672c\u3002\u5982\u6b64\u4e00\u6765\uff0c\n\u6a21\u578b\u4fbf\u4f1a\u8fc7\u5206\u5173\u6ce8\u8d1f\u6837\u672c\uff0c\u4e5f\u66f4\u5bb9\u6613\u53d1\u751f\u5bf9\u6b63\u6837\u672c\u7684\u6f0f\u68c0\u73b0\u8c61\u3002RetinaNet \u4f7f\u7528\u7684\nFocal Loss \u63d0\u9ad8\u4e86\u5bf9\u5c11\u91cf\u6837\u672c\u7684\u5173\u6ce8\uff0c\u5f88\u597d\u5730\u89e3\u51b3\u4e86\u6b63\u8d1f\u6837\u672c\u4e0d\u5e73\u8861\u7684\u95ee\u9898\u3002\n</code></pre> <p>\u8fd4\u56de\u53ef\u8bc6\u522b\u5b57\u7b26\u548c\u53ef\u8bc6\u522b\u5b57\u7b26\u7684\u8fb9\u754c\u3002</p> <pre><code># Get bounding box estimates\nboxes = pytesseract.image_to_boxes(Image.open(\"../datasets/file/ocr_sample.png\"),\n                                   lang=\"chi_sim\")\nprint(\"\\n\".join(boxes.split(\"\\n\")[:6]))\n</code></pre> <pre><code>\u4e3a 44 162 72 179 0\n\u4e86 71 153 84 183 0\n\u63d0 83 162 98 179 0\n\u9ad8 101 162 129 179 0\n\u5c0f 131 167 136 174 0\n\u76ee 146 162 164 179 0\n</code></pre> <p>\u83b7\u53d6\u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\uff0c\u5b57\u7b26\u8fb9\u754c\u3001\u7f6e\u4fe1\u5ea6\u3001\u884c\u6570\u3001\u9875\u6570</p> <pre><code># Get verbose data including boxes, confidences, line and page numbers\nmore_info = pytesseract.image_to_data(Image.open(\"../datasets/file/ocr_sample.png\"),\n                                      lang=\"chi_sim\")\nprint(\"\\n\".join(more_info.split(\"\\n\")[:10]))\n</code></pre> <pre><code>level   page_num        block_num       par_num line_num\nword_num        left    top     width   height  conf    text\n1       1       0       0       0       0       0       0       687\n188     -1\n2       1       1       0       0       0       10      9       672\n171     -1\n3       1       1       1       0       0       44      9       557\n17      -1\n4       1       1       1       1       0       44      9       557\n17      -1\n5       1       1       1       1       1       44      9       28\n17      96      \u4e3a\n5       1       1       1       1       2       71      5       13\n30      96      \u4e86\n5       1       1       1       1       3       83      9       46\n17      95      \u63d0\u9ad8\n5       1       1       1       1       4       131     14      5\n7       96      \u5c0f\n5       1       1       1       1       5       146     9       28\n17      96      \u76ee\u6807\n</code></pre> <p>\u83b7\u53d6\u9875\u9762\u6587\u5b57\u65b9\u5411\u4fe1\u606f\u3002</p> <pre><code># Get information about orientation and script detection\nprint(pytesseract.image_to_osd(Image.open(\"../datasets/file/ocr_sample.png\"),\n                               lang=\"chi_sim\"))\n</code></pre> <pre><code>Page number: 0\nOrientation in degrees: 270\nRotate: 90\nOrientation confidence: 170.00\nScript: Latin\nScript confidence: 2.00\n</code></pre> <p>\u751f\u6210\u53ef\u641c\u7d22\u7684PDF\u3002</p> <pre><code># Get a searchable PDF\npdf = pytesseract.image_to_pdf_or_hocr(\"../datasets/file/ocr_sample.png\",\n                                       lang=\"chi_sim\",\n                                       extension=\"pdf\")\nwith open(\"../datasets/file/ocr_sample.pdf\", \"w+b\") as f:\n    f.write(pdf)  # pdf type is bytes by default\nos.remove(\"../datasets/file/ocr_sample.pdf\")\n</code></pre> <p>\u83b7\u53d6 hocr\u683c\u5f0f\u7684\u8f93\u51fa\u3002</p> <p>hOCR\u662f\u4e00\u79cdHTML\u6587\u4ef6\uff0c\u5b83\u5bf9\u6bcf\u4e2a\u8bc6\u522b\u7684\u5b57\u8bcd\u4f1a\u540e\u4e00\u4e9b\u53c2\u6570\u7684\u8bf4\u660e\u3002</p> <pre><code># Get HOCR output\nhocr = pytesseract.image_to_pdf_or_hocr(\"../datasets/file/ocr_sample.png\",\n                                        lang=\"chi_sim\",\n                                        extension=\"hocr\")\n</code></pre> <p>\u83b7\u53d6 ALTO XML \u683c\u5f0f\u7684\u8f93\u51fa\u3002</p> <pre><code># Get ALTO XML output\nxml = pytesseract.image_to_alto_xml(\"../datasets/file/ocr_sample.png\")\n</code></pre>"},{"location":"Python3/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/16.4.OCR.html#_1","title":"\u53c2\u8003","text":"<ol> <li>[ \u5be6\u7528\u5fc3\u5f97 ] Tesseract-OCR</li> <li>\u672c\u5730\u8f6c\u6362\u4e2d\u82f1\u6587\u626b\u63cf\u7248PDF\u4e3a\u53ef\u641c\u7d22\u6587\u4ef6</li> </ol>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.1.string.html","title":"6.1.string","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.1.string.html#template","title":"Template","text":"<p>\u5728 <code>string.Template</code> \u4e2d\uff0c\u901a\u8fc7\u524d\u7f6e <code>$</code> \u6765\u8bc6\u522b\u53d8\u91cf\uff08\u4f8b\u5982\uff0c<code>$var</code>\uff09\u3002\u53e6\u5916\uff0c\u5982\u679c\u6709\u9700\u8981\uff0c\u53ef\u4ee5\u901a\u8fc7\u5927\u62ec\u53f7\u5c06\u5b83\u4eec\u4ece\u5468\u56f4\u7684\u6587\u672c\u4e2d\u5206\u5f00\uff08\u4f8b\u5982\uff0c<code>${var}</code>\uff09\u3002 </p> <p>\u901a\u8fc7\u4f8b\u5b50\u6765\u5bf9\u6bd4\u4e0b\uff1a</p> <pre><code>values = {'var': 'foo'}\n\nt = string.Template(\"\"\"\nVariable        : $var\nEscape          : $$\nVariable in text: ${var}iable\n\"\"\")\nprint('TEMPLATE:', t.substitute(values))\n\n\ns = \"\"\"\nVariable        : %(var)s\nEscape          : %%\nVariable in text: %(var)siable\n\"\"\"\nprint('INTERPOLATION:', s % values)\n\ns = \"\"\"\nVariable        : {var}\nEscape          : {{}}\nVariable in text: {var}iable\n\"\"\"\nprint('FORMAT:', s.format(**values))\n</code></pre> <pre><code>TEMPLATE:\nVariable        : foo\nEscape          : $\nVariable in text: fooiable\n\nINTERPOLATION:\nVariable        : foo\nEscape          : %\nVariable in text: fooiable\n\nFORMAT:\nVariable        : foo\nEscape          : {}\nVariable in text: fooiable\n</code></pre> <p>\u524d\u4e24\u79cd\u60c5\u51b5\uff0c\u89e6\u53d1\u5b57\u7b26\uff08<code>$</code> \u548c <code>%</code>\uff09\u9700\u8981\u91cd\u590d\u4e24\u6b21\u6765\u8f6c\u4e49\u3002\u5bf9\u4e8e\u7b2c\u4e09\u79cd\u683c\u5f0f\u5316\u8bed\u6cd5\uff0c<code>{</code> \u548c <code>}</code> \u90fd\u9700\u8981\u91cd\u590d\u624d\u80fd\u8f6c\u4e49\u3002</p> <p><code>Template</code>\u6ca1\u6709\u53ef\u7528\u7684\u683c\u5f0f\u5316\u9009\u9879\u3002\u4f8b\u5982\uff0c\u65e0\u6cd5\u63a7\u5236\u7528\u6765\u8868\u793a\u6d6e\u70b9\u6570\u7684\u6570\u5b57\u7684\u4e2a\u6570\u3002</p> <p>\u4f7f\u7528 <code>safe_substitute()</code> \u65b9\u6cd5\u53ef\u4ee5\u5e26\u6765\u4e00\u4e2a\u597d\u5904\uff0c\u90a3\u5c31\u662f\u5982\u679c\u6a21\u677f\u9700\u8981\u7684\u503c\u6ca1\u6709\u5168\u90e8\u4f5c\u4e3a\u53c2\u6570\u63d0\u4f9b\u7ed9\u6a21\u677f\u7684\u8bdd\u53ef\u4ee5\u907f\u514d\u53d1\u751f\u5f02\u5e38\u3002</p> <pre><code>values = {'var': 'foo'}\n\nt = string.Template(\"$var is here but $missing is not provided\")\n\ntry:\n    print('substitute()     :', t.substitute(values))\nexcept KeyError as err:\n    print('ERROR:', str(err))\n\nprint('safe_substitute():', t.safe_substitute(values))\n</code></pre> <pre><code>ERROR: 'missing'\nsafe_substitute(): foo is here but $missing is not provided\n</code></pre> <p>\u56e0\u4e3a\u5728 values \u5b57\u5178\u4e2d\u6ca1\u6709\u503c\u63d0\u4f9b\u7ed9 <code>missing</code> , \u6240\u4ee5 <code>substitute()</code> \u4f1a\u629b\u51fa\u4e00\u4e2a <code>KeyError</code> \u5f02\u5e38\u3002\u800c <code>safe_substitute()</code> \u5c06\u6355\u6349\u8fd9\u4e2a\u5f02\u5e38\u5e76\u5c06\u53d8\u91cf\u8868\u8fbe\u5f0f\u5355\u72ec\u7559\u5728\u6587\u672c\u4e2d\u800c\u4e0d\u662f\u629b\u51fa\u5f02\u5e38\u3002</p> <p><code>string.Template</code> \u7f3a\u7701\u8bed\u6cd5\u53ef\u4ee5\u901a\u8fc7\u6539\u53d8\u6b63\u5219\u8868\u8fbe\u5f0f\u6a21\u5f0f\u6765\u8c03\u6574\uff0c\u8fd9\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u4e00\u822c\u662f\u7528\u6765\u5bfb\u627e\u6a21\u677f\u5185\u5bb9\u5185\u53d8\u91cf\u540d\u5b57\u7684\u3002 \u7b80\u5355\u7684\u65b9\u6cd5\u662f\u901a\u8fc7\u6539\u53d8 <code>delimiter</code> \u548c <code>idpattern</code> \u7684\u7c7b\u5c5e\u6027\u6765\u505a\u8c03\u6574\u3002</p> <pre><code>class MyTemplate(string.Template):\n    delimiter = '%'\n    idpattern = '[a-z]+_[a-z]+'\n\ntemplate_text = '''\n  Delimiter : %%\n  Replaced  : %with_underscore\n  Ignored   : %notunderscored\n'''\n\nd = {\n    'with_underscore': 'replaced',\n    'notunderscored': 'not replaced',\n}\n\nt = MyTemplate(template_text)\nprint('Modified ID pattern:')\nprint(t.safe_substitute(d))\n</code></pre> <pre><code>Modified ID pattern:\n\n  Delimiter : %\n  Replaced  : replaced\n  Ignored   : %notunderscored\n</code></pre> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u91cc\uff0c\u66ff\u6362\u89c4\u5219\u8fdb\u884c\u4e86\u53d8\u66f4\uff0c\u5206\u9694\u7b26\u7528 <code>%</code> \u6765\u66ff\u4ee3\u4e86 <code>$</code> \u5e76\u4e14\u53d8\u91cf\u540d\u5b57\u4e2d\u5fc5\u987b\u5305\u542b\u4e0b\u5212\u7ebf\u3002 <code>%notunderscored</code> \u6a21\u5f0f\u5e76\u6ca1\u6709\u88ab\u66ff\u6362\uff0c\u56e0\u4e3a\u5b83\u4e0d\u5305\u62ec\u4e0b\u5212\u7ebf\u5b57\u7b26\u3002</p> <p>\u5bf9\u4e8e\u66f4\u590d\u6742\u7684\u6539\u53d8\uff0c\u53ef\u4ee5\u901a\u8fc7\u8986\u5199 <code>pattern</code> \u5c5e\u6027\u548c\u5b9a\u4e49\u4e00\u4e2a\u5168\u65b0\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5b9e\u73b0\u3002\u8986\u5199\u7684\u6a21\u5f0f\u5fc5\u987b\u63d0\u4f9b\u56db\u4e2a\u547d\u540d\u7ec4\u6765\u83b7\u53d6\u672a\u8bc6\u522b\u7684\u5206\u9694\u7b26\u3001\u547d\u540d\u7684\u53d8\u91cf\u3001\u5927\u62ec\u53f7\u6a21\u5f0f\u7684\u53d8\u91cf\u540d\u79f0\u3001\u548c\u65e0\u6548\u7684\u5206\u9694\u7b26\u6a21\u5f0f\u3002</p> <p><code>t.pattern</code> \u7684\u503c\u662f\u7f16\u8bd1\u597d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u4f46\u662f\u539f\u59cb\u5b57\u7b26\u4e32\u53ef\u4ee5\u901a\u8fc7\u5b83\u7684 <code>pattern</code> \u5c5e\u6027\u6765\u83b7\u53d6</p> <pre><code>t = string.Template('$var')\nprint(t.pattern.pattern)\n</code></pre> <pre><code>    \\$(?:\n      (?P&lt;escaped&gt;\\$) |   # Escape sequence of two delimiters\n      (?P&lt;named&gt;(?a:[_a-z][_a-z0-9]*))      |   # delimiter and a\nPython identifier\n      {(?P&lt;braced&gt;(?a:[_a-z][_a-z0-9]*))}  |   # delimiter and a\nbraced identifier\n      (?P&lt;invalid&gt;)              # Other ill-formed delimiter exprs\n    )\n</code></pre> <p>\u4e0b\u9762\u7684\u793a\u4f8b\u5b9a\u4e49\u4e86\u4e00\u4e2a\u65b0\u7684\u6a21\u5f0f\u6765\u751f\u6210\u4e00\u79cd\u65b0\u7684\u6a21\u677f\uff0c\u4f7f\u7528 <code>{{var}}</code> \u4f5c\u4e3a\u53d8\u91cf\u8bed\u6cd5\u3002</p> <pre><code>import re\nimport string\n\nclass MyTemplate(string.Template):\n    delimiter = '{{'\n    pattern = r'''\n    \\{\\{(?:\n    (?P&lt;escaped&gt;\\{\\{)|\n    (?P&lt;named&gt;[_a-z][_a-z0-9]*)\\}\\}|\n    (?P&lt;braced&gt;[_a-z][_a-z0-9]*)\\}\\}|\n    (?P&lt;invalid&gt;)\n    )\n    '''\n\nt = MyTemplate('''\n{{{{\n{{var}}\n''')\n\nprint('MATCHES:', t.pattern.findall(t.template))\nprint('SUBSTITUTED:', t.safe_substitute(var='replacement'))\n</code></pre> <pre><code>MATCHES: [('{{', '', '', ''), ('', 'var', '', '')]\nSUBSTITUTED:\n{{\nreplacement\n</code></pre> <p><code>named</code> \u548c <code>braced</code> \u4e24\u4e2a\u6a21\u5f0f\u90fd\u5fc5\u987b\u5355\u72ec\u63d0\u4f9b\uff0c\u867d\u7136\u5b83\u4eec\u90fd\u662f\u4e00\u6837\u7684\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.1.string.html#formatter","title":"Formatter","text":"<p><code>Formatter</code> \u7c7b\u7684\u6267\u884c\u6548\u679c\u4e0e <code>str</code> \u7684 <code>format()</code> \u65b9\u6cd5\u4e00\u81f4\uff0c\u5b83\u7684\u7279\u5f81\u5305\u62ec\u578b\u6001\u8f6c\u6362\uff0c\u6392\u5217\uff0c\u5c5e\u6027\u4ee5\u53ca\u5b57\u6bb5\u5f15\u7528\uff0c\u5df2\u547d\u540d\u7279\u5b9a\u4f4d\u7f6e\u7684\u6a21\u677f\u53c2\u6570\uff0c \u4ee5\u53ca\u7279\u5b9a\u7c7b\u578b\u7684\u683c\u5f0f\u5316\u9009\u9879\u3002\u901a\u5e38 <code>format()</code> \u65b9\u6cd5\u5bf9\u4e8e\u8fd9\u4e9b\u7279\u5f81\u662f\u6700\u4fbf\u6377\u7684\u63a5\u53e3\uff0c\u4f46 <code>Formatter</code> \u63d0\u4f9b\u4e86\u5efa\u7acb\u5b50\u7c7b\u7684\u65b9\u6cd5\uff0c\u5728\u9700\u8981\u591a\u6001\u60c5\u51b5\u4e0b\u4f7f\u7528\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.1.string.html#_1","title":"\u5e38\u91cf","text":"<p><code>string</code> \u6a21\u5757\u5305\u542b\u4e86\u4e0e ASCII \u3001\u6570\u5b57\u5b57\u7b26\u76f8\u5173\u7684\u4e00\u7cfb\u5217\u5e38\u91cf\u3002\u8fd9\u4e9b\u5e38\u91cf\u5728\u5904\u7406 ASCII \u6570\u636e\u65f6\u662f\u975e\u5e38\u6709\u6548\u7684\uff0c\u4f46\u662f\u73b0\u5728\u5927\u5bb6\u4f1a\u8d8a\u6765\u8d8a\u591a\u7684\u9047\u5230 Unicode \u7c7b\u578b\u7684\u975e ASCII \u6587\u672c\uff0c\u5728\u8fd9\u4e2a\u60c5\u51b5\u4e0b\u7684\u8fd9\u4e9b\u5e38\u91cf\u7684\u4f5c\u7528\u5c31\u5f88\u6709\u9650\u4e86\u3002</p> <pre><code>import inspect\nimport string\n\ndef is_str(value):\n    return isinstance(value, str)\n\nfor name, value in inspect.getmembers(string, is_str):\n    if name.startswith('_'):\n        continue\n    print('%s=%r\\n' % (name, value))\n</code></pre> <pre><code>ascii_letters='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'\n\nascii_lowercase='abcdefghijklmnopqrstuvwxyz'\n\nascii_uppercase='ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n\ndigits='0123456789'\n\nhexdigits='0123456789abcdefABCDEF'\n\noctdigits='01234567'\n\nprintable='0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\"#$%&amp;\\'()*+,-./:;&lt;=&gt;?@[\\\\]^_`{|}~\n\\t\\n\\r\\x0b\\x0c'\n\npunctuation='!\"#$%&amp;\\'()*+,-./:;&lt;=&gt;?@[\\\\]^_`{|}~'\n\nwhitespace=' \\t\\n\\r\\x0b\\x0c'\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.10.os_path.html","title":"6.10.os.path","text":"<pre><code>import os\n</code></pre> <pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.04.28\n</code></pre> <p>os\u6807\u51c6\u6a21\u5757\u53ea\u6709\u4e00\u4e2a\u5b50\u6a21\u5757\u2014\u2014os.path\u6a21\u5757\u3002os.path \u6a21\u5757\u63d0\u4f9b\u4e86\u8de8\u5e73\u53f0\u5904\u7406\u6587\u4ef6\u8def\u5f84\u7684\u51fd\u6570\u3002\u5b9e\u9645\u4e0a\uff0c\u5728windows\u7cfb\u7edf\u4e0a\uff0cos.path\u6a21\u5757\u662fntpath\u6a21\u5757\u3002\u8fd9\u4e9b\u5904\u7406\u8def\u5f84\u7684\u51fd\u6570\u5e76\u4e0d\u4f9d\u8d56\u4e8e\u771f\u5b9e\u5b58\u5728\u7684\u8def\u5f84\uff0c\u672c\u8d28\u4e0a\u5b83\u4eec\u53ea\u662f\u64cd\u4f5c\u5b57\u7b26\u4e32\u5bf9\u8c61\u3002</p> <p>os.path\u6a21\u5757\u5b9a\u4e49\u4e86\u4e00\u4e9b\u53d8\u91cf\uff0cos.path\u5bf9\u8def\u5f84\u5b57\u7b26\u4e32\u7684\u64cd\u4f5c\u4f9d\u8d56\u4e8e\u8fd9\u4e9b\u53d8\u91cf\u3002</p> explanation code output \u8def\u5f84\u5404\u90e8\u5206\u7684\u5206\u9694\u7b26 os.path.sep <code>\\</code> \u8def\u5f84\u5404\u90e8\u5206\u7684\u53ef\u9009\u5206\u9694\u7b26 os.path.altsep <code>/</code> \u7cfb\u7edf\u53d8\u91cf\u4e2dPATH\u53d8\u91cf\u7684\u5206\u9694\u7b26 os.path.pathsep <code>;</code> \u6587\u4ef6\u540d\u548c\u6269\u5c55\u540d\u4e4b\u95f4\u7684\u5206\u9694\u7b26 os.path.extsep <code>.</code> \u8868\u793a\u5f53\u524d\u76ee\u5f55\u7684\u8def\u5f84\u7ec4\u4ef6 os.path.curdir <code>.</code> \u8868\u793a\u4e0a\u7ea7\u76ee\u5f55\u7684\u8def\u5f84\u7ec4\u4ef6 os.path.pardir <code>..</code> \u7cfb\u7edf\u9ed8\u8ba4\u641c\u7d22\u8def\u5f84 os.path.defpath <code>.;C:\\bin</code> NULL\u8bbe\u5907\u8def\u5f84 os.path.devnull <code>nul</code> \u662f\u5426\u652f\u6301\u4efb\u610fUnicode\u5b57\u7b26\u7528\u4f5c\u6587\u4ef6\u540d os.path.supports_unicode_filenames <code>TRUE</code>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.10.os_path.html#_1","title":"\u62c6\u5206\u8def\u5f84","text":"\u51fd\u6570 \u793a\u4f8b \u8bf4\u660e <code>.basename()</code> <code>C:\\one\\two\\three</code>  \u2192  <code>three</code> \u8fd4\u56de\u8def\u5f84\u7684\u6700\u540e\u4e00\u5c42 <code>.dirname()</code> <code>C:\\one\\two\\three</code>  \u2192  <code>C:\\one\\two</code> \u8fd4\u56de\u8def\u5f84\u7684\u7b2c\u4e00\u5c42\u81f3\u5012\u6570\u7b2c\u4e8c\u5c42 <code>.splitext()</code> <code>one.txt</code>  \u2192  <code>one</code> \u3001<code>txt</code> \u6839\u636e<code>os.extsep</code>\u5206\u5272\u8def\u5f84\u5b57\u7b26\u4e32 <code>.splitdrive()</code> <code>C:/one</code>  \u2192  <code>C:</code> \u3001<code>/one</code> \u5206\u5272\u8def\u5f84\u7684\u76d8\u7b26\u548c\u5176\u4f59\u90e8\u5206 <p><code>.basename()</code>\u8fd4\u56de\u8def\u5f84\u7684\u6700\u540e\u4e00\u5c42</p> <pre><code>os.path.basename(r\"C:\\one\\two\\three\")\n# \u7b49\u4ef7\u4e8e\n# r\"C:\\one\\two\\three\".rsplit(\"\\\\\", maxsplit=1)[1]\n</code></pre> <pre><code>'three'\n</code></pre> <p>\u5982\u679c\u8def\u5f84\u662f\u4ee5\u76ee\u5f55\u5206\u9694\u7b26<code>os.sep</code>\u7ed3\u5c3e\uff0c\u90a3\u4e48\u8fd9\u4e2a\u8def\u5f84\u7684\u57fa\u7840\u90e8\u5206\u5c06\u88ab\u8ba4\u4e3a\u662f\u7a7a\u7684:</p> <pre><code>os.path.basename(r\"C:/one/two/three/\")\n</code></pre> <pre><code>''\n</code></pre> <p><code>.dirname()</code>\u8fd4\u56de\u8def\u5f84\u7684\u7b2c\u4e00\u5c42\u5230\u5012\u6570\u7b2c\u4e8c\u5c42\uff1a</p> <pre><code>os.path.dirname(r\"C:\\one\\two\\three\")\n# \u7b49\u4ef7\u4e8e\n# \"C:/one/two/three/\".rsplit(\"/\", maxsplit=1)[0]\n</code></pre> <pre><code>'C:\\\\one\\\\two'\n</code></pre> <p>\u5c06 <code>basename()</code> \u548c <code>dirname()</code> \u7684\u7ed3\u679c\u7ec4\u5408\u8d77\u6765\uff0c\u5c31\u4f1a\u5f97\u5230\u539f\u59cb\u7684\u8def\u5f84\u3002</p> <p>\u4f7f\u7528<code>.split</code>\u53ef\u4ee5\u540c\u65f6\u5f97\u5230<code>basename()</code> \u548c <code>dirname()</code>\u7684\u7ed3\u679c\uff1a</p> <pre><code>print(os.path.split(p=r\"C:\\one\\two\\three\"))\nprint(os.path.split(p=r\"C:\\one\\two\\three.txt\"))\n</code></pre> <pre><code>('C:\\\\one\\\\two', 'three')\n('C:\\\\one\\\\two', 'three.txt')\n</code></pre> <p><code>.splitext()</code>\u6839\u636e<code>os.extsep</code>\u5206\u5272\u8def\u5f84\u5b57\u7b26\u4e32\uff1a</p> <pre><code>print(os.path.splitext(p=r\"C:/one/two/three.txt\"))\n# \u7b49\u4ef7\u4e8e\nprint(r\"C:/one/two/three.txt\".rsplit(\".\", maxsplit=1))\n</code></pre> <pre><code>('C:/one/two/three', '.txt')\n['C:/one/two/three', 'txt']\n</code></pre> <p>\u67e5\u627e\u6587\u4ef6\u6269\u5c55\u540d\u7684\u65f6\uff0c\u53ea\u4f7f\u7528\u6700\u540e\u4e00\u6b21\u51fa\u73b0\u7684<code>os.extsep</code>\uff1a</p> <pre><code>print(os.path.splitext(p=r\"C:/one/two/three.txt.md\"))\n</code></pre> <pre><code>('C:/one/two/three.txt', '.md')\n</code></pre> <p><code>.splitdrive()</code>\u5c06\u8def\u5f84\u7684\u76d8\u7b26\u548c\u5176\u4f59\u90e8\u5206\u5206\u5f00\uff1a</p> <pre><code>print(os.path.splitdrive(p=r\"C:/one/two/three.txt\"))\nprint(os.path.splitdrive(p=r\"/one/two/three.txt\"))\n</code></pre> <pre><code>('C:', '/one/two/three.txt')\n('', '/one/two/three.txt')\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.10.os_path.html#_2","title":"\u6784\u5efa\u8def\u5f84","text":"\u51fd\u6570 \u793a\u4f8b \u8bf4\u660e <code>.join()</code> <code>one</code>\u3001<code>two</code>\u2192  <code>'one\\\\two</code> \u62fc\u63a5\u8def\u5f84 <code>.expanduser()</code> <code>~</code>  \u2192  <code>C:\\\\Users\\\\Username</code> \u5c06<code>~</code>\u66ff\u6362\u4e3a\u7528\u6237\u76ee\u5f55 <code>.expandvars()</code> <code>$Env_var</code>  \u2192  <code>Env_var</code> \u5c06<code>$Env_var</code>\u66ff\u6362\u4e3a\u73af\u5883\u53d8\u91cf\u7684\u503c <p><code>os.path.join</code>\u53ef\u4ee5\u5c06\u591a\u4e2a\u5b57\u7b26\u4e32\u62fc\u63a5\u4e3a\u4e00\u4e2a\u8def\u5f84\u3002\u5982\u679c\u67d0\u4e2a\u53c2\u6570\u662f\u4ee5 <code>os.sep</code> \u5f00\u5934\uff0c\u90a3\u4e48\u5b83\u4e4b\u524d\u7684\u6240\u6709\u53c2\u6570\u90fd\u5c06\u88ab\u4e22\u5f03\uff0c\u5e76\u4e14\u8fd4\u56de\u503c\u5c06\u4ee5\u5b83\u4f5c\u4e3a\u65b0\u7684\u5f00\u59cb\u3002</p> <pre><code>PATHS = [\n    ('one', 'two', 'three'),\n    ('/', 'one', 'two', 'three'),\n    ('/one', '/two', '/three'),\n]\n\nfor parts in PATHS:\n    print('{0:&lt;30} : {1!r}'.format(str(parts), os.path.join(*parts)))\n</code></pre> <pre><code>('one', 'two', 'three')        : 'one\\\\two\\\\three'\n('/', 'one', 'two', 'three')   : '/one\\\\two\\\\three'\n('/one', '/two', '/three')     : '/three'\n</code></pre> <p><code>.expanduser()</code> \u5c06\u4f1a\u8f6c\u5316\u6ce2\u6d6a\u53f7~\u4e3a\u7528\u6237\u4e3b\u76ee\u5f55\u7684\u540d\u79f0\u3002\u5982\u679c\u6ca1\u6709\u627e\u5230\u7528\u6237\u7684\u4e3b\u76ee\u5f55\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5b57\u7b26\u4e32\u5c06\u88ab\u539f\u6837\u8fd4\u56de\u3002</p> <pre><code>for user in ['', 'dhellmann', 'nosuchuser']:\n    lookup = '~' + user\n    print('{!r:&gt;15} : {!r}'.format(\n        lookup, os.path.expanduser(lookup)))\n</code></pre> <pre><code>            '~' : 'C:\\\\Users\\\\Android'\n   '~dhellmann' : 'C:\\\\Users\\\\dhellmann'\n  '~nosuchuser' : 'C:\\\\Users\\\\nosuchuser'\n</code></pre> <p><code>.expandvars()</code> \u66f4\u4e00\u822c\u5316\uff0c\u5b83\u5c06\u4f1a\u89e3\u6790\u8def\u5f84\u4e2d\u6240\u6709 shell \u73af\u5883\u53d8\u91cf\u3002</p> <pre><code>os.environ['MYVAR'] = 'VALUE'\nos.path.expandvars('/path/to/$MYVAR')\n</code></pre> <pre><code>'/path/to/VALUE'\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.10.os_path.html#_3","title":"\u89c4\u8303\u8def\u5f84","text":"<p>\u4f7f\u7528 <code>.join()</code> \u6216\u8005\u5d4c\u5165\u53d8\u91cf\u7684\u72ec\u7acb\u5b57\u7b26\u4e32\u7ec4\u5408\u7684\u8def\u5f84\u7ed3\u5c3e\u53ef\u80fd\u6709\u989d\u5916\u7684\u8def\u5f84\u5206\u9694\u7b26\u6216\u8005\u76f8\u5bf9\u8def\u5f84\u7ec4\u4ef6\u3002\u4f7f\u7528 <code>.normpath()</code> \u6765\u6e05\u7406\u4ed6\u4eec\uff1a</p> <pre><code>PATHS = [\n    'one//two//three',\n    'one/./two/./three',\n    'one/../alt/two/three',\n]\n\nfor path in PATHS:\n    print('{!r:&gt;22} : {!r}'.format(path, os.path.normpath(path)))\n</code></pre> <pre><code>     'one//two//three' : 'one\\\\two\\\\three'\n   'one/./two/./three' : 'one\\\\two\\\\three'\n'one/../alt/two/three' : 'alt\\\\two\\\\three'\n</code></pre> <p>\u53ef\u4ee5\u53d1\u73b0\uff0cos.curdir \u548c os.pardir \u7ec4\u6210\u7684\u8def\u5f84\u7247\u6bb5\u5c06\u88ab\u6e05\u9664\u3002</p> <p>\u4f7f\u7528 <code>abspath()</code> \u53ef\u4ee5\u5c06\u76f8\u5bf9\u8def\u5f84\u8f6c\u5316\u4e3a\u7edd\u5bf9\u8def\u5f84\u3002\u5b9e\u9645\u4e0a\uff0c\u5c31\u662f\u5c06\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u62fc\u63a5\u5230\u76f8\u5bf9\u8def\u5f84\u4e4b\u524d\u3002</p> <pre><code>absolute path = os.getcwd() + relative path\n</code></pre> <p>\u4f7f\u7528 <code>relpath()</code> \u53ef\u4ee5\u5c06\u7edd\u5bf9\u8def\u5f84\u8f6c\u5316\u4e3a\u76f8\u5bf9\u8def\u5f84\uff0c\u4e5f\u5c31\u662f\u5c06\u8def\u5f84\u5b57\u7b26\u4e32\u4e2d\u7684\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u5254\u9664\u3002</p> <pre><code>relative path = absolute path.replace(os.getcwd(), \"\")\n</code></pre> <p>\u4f7f\u7528 <code>normcase()</code> \u53ef\u4ee5\u5c06\u8def\u5f84\u5b57\u7b26\u4e32\u6240\u6709\u5b57\u7b26\u8f6c\u4e3a\u5c0f\u5199\uff0c\u540c\u65f6\u5c06\u659c\u6760\u7edf\u4e00\u8f6c\u6362\u4e3aos.sep\u3002</p> <pre><code>os.path.normcase('User\\\\Desktop/One')\n</code></pre> <pre><code>'user\\\\desktop\\\\one'\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.10.os_path.html#_4","title":"\u516c\u5171\u8def\u5f84","text":"<p><code>.commonprefix()</code> \u51fd\u6570\u4f1a\u63a5\u53d7\u4e00\u4e2a\u8def\u5f84\u5217\u8868\u4f5c\u4e3a\u53c2\u6570\u800c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\u8868\u793a\u6240\u6709\u8def\u5f84\u4e2d\u7684\u516c\u5171\u524d\u7f00\u3002\u8fd9\u4e2a\u5b57\u7b26\u4e32\u53ef\u80fd\u8868\u793a\u4e00\u4e2a\u5b9e\u9645\u4e0d\u5b58\u5728\u7684\u8def\u5f84\uff0c\u56e0\u4e3a\u8def\u5f84\u5206\u9694\u7b26\u5e76\u6ca1\u6709\u88ab\u8003\u8651\u5728\u5185\uff0c\u6240\u4ee5\u8fd9\u4e2a\u516c\u5171\u524d\u7f00\u53ef\u80fd\u5e76\u6ca1\u6709\u843d\u5728\u5206\u9694\u7b26\u8fb9\u754c\u4e0a\u3002</p> <pre><code>paths = ['/one/two/three/four',\n         '/one/two/threefold',\n         '/one/two/three/',\n         ]\n\nfor path in paths:\n    print('PATH:', path)\n\nprint()\nprint('PREFIX:', os.path.commonprefix(paths))\n</code></pre> <pre><code>PATH: /one/two/three/four\nPATH: /one/two/threefold\nPATH: /one/two/three/\n\nPREFIX: /one/two/three\n</code></pre> <p><code>.commonpath()</code> \u5145\u5206\u8003\u8651\u8def\u5f84\u5206\u9694\u7b26\uff0c\u4f1a\u8fd4\u56de\u8def\u5f84\u5e8f\u5217\u4e2d\u5404\u4e2a\u90e8\u5206\u7684\u6700\u957f\u516c\u5171\u6709\u6548\u5b50\u8def\u5f84\u3002</p> <pre><code>paths = ['/one/two/three/four',\n         '/one/two/threefold',\n         '/one/two/three/',\n         ]\nfor path in paths:\n    print('PATH:', path)\n\nprint()\nprint('PREFIX:', os.path.commonpath(paths))\n</code></pre> <pre><code>PATH: /one/two/three/four\nPATH: /one/two/threefold\nPATH: /one/two/three/\n\nPREFIX: \\one\\two\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.10.os_path.html#_5","title":"\u6587\u4ef6\u4fe1\u606f","text":"\u51fd\u6570 \u8bf4\u660e <code>.getctime()</code> \u8fd4\u56de\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u7684\u521b\u5efa\u65f6\u95f4 <code>.getmtime()</code> \u8fd4\u56de\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u7684\u4fee\u6539\u65f6\u95f4 <code>.getatime()</code> \u8fd4\u56de\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u7684\u8bbf\u95ee\u65f6\u95f4 <code>.getsize()</code> \u8fd4\u56de\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u7684\u5927\u5c0f\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.10.os_path.html#_6","title":"\u68c0\u67e5\u8def\u5f84","text":"\u51fd\u6570 \u8bf4\u660e <code>.samefile(path1, path2)</code> \u5224\u65ad\u76ee\u5f55\u6216\u6587\u4ef6\u662f\u5426\u76f8\u540c\uff08\u4e0d\u662f\u771f\u5b9e\u7684\u8def\u5f84\uff0c\u4f1a\u62a5\u9519\uff09 <code>.sameopenfile(fp1, fp2)</code> \u5224\u65adfp1\u548cfp2\u662f\u5426\u6307\u5411\u540c\u4e00\u6587\u4ef6 <code>.samestat(stat1, stat2)</code> \u5224\u65adstat tuple stat1\u548cstat2\u662f\u5426\u6307\u5411\u540c\u4e00\u4e2a\u6587\u4ef6 <code>.exists(path)</code> \u68c0\u67e5\u8def\u5f84\u662f\u5426\u5b58\u5728 <code>.lexists(path)</code> \u68c0\u67e5\u8def\u5f84\u662f\u5426\u5b58\u5728\uff0c\u5bf9\u4e8ebroken symbolic links\u4e5f\u8fd4\u56deTrue <code>.isabs(path)</code> \u5224\u65ad\u662f\u5426\u4e3a\u7edd\u5bf9\u8def\u5f84 <code>.isfile(path)</code> \u5224\u65ad\u8def\u5f84\u662f\u5426\u4e3a\u6587\u4ef6 <code>.isdir(path)</code> \u5224\u65ad\u8def\u5f84\u662f\u5426\u4e3a\u76ee\u5f55 <code>.islink(path)</code> \u5224\u65ad\u8def\u5f84\u662f\u5426\u4e3asymbolic link\uff0cWindows\u7cfb\u7edf\u4e0b\u603b\u662f\u8fd4\u56deFalse <code>.ismount(path)</code> \u5224\u65ad\u8def\u5f84\u662f\u5426\u4e3a\u6302\u8f7d\u70b9 <pre><code>FILENAMES = [\n    __file__,\n    os.path.dirname(__file__),\n    '/',\n    './broken_link',\n]\n\nfor file in FILENAMES:\n    print('File        : {!r}'.format(file))\n    print('Absolute    :', os.path.isabs(file))\n    print('Is File?    :', os.path.isfile(file))\n    print('Is Dir?     :', os.path.isdir(file))\n    print('Is Link?    :', os.path.islink(file))\n    print('Mountpoint? :', os.path.ismount(file))\n    print('Exists?     :', os.path.exists(file))\n    print('Link Exists?:', os.path.lexists(file))\n    print()\n</code></pre> <pre><code>File        : os.getcwd() + '8.10.\u6807\u51c6\u5e93_os_path.py'\nAbsolute    : True\nIs File?    : True\nIs Dir?     : False\nIs Link?    : False\nMountpoint? : False\nExists?     : True\nLink Exists?: True\n\nFile        : os.getcwd()\nAbsolute    : True\nIs File?    : False\nIs Dir?     : True\nIs Link?    : False\nMountpoint? : False\nExists?     : True\nLink Exists?: True\n\nFile        : '/'\nAbsolute    : True\nIs File?    : False\nIs Dir?     : True\nIs Link?    : False\nMountpoint? : True\nExists?     : True\nLink Exists?: True\n\nFile        : './broken_link'\nAbsolute    : False\nIs File?    : False\nIs Dir?     : False\nIs Link?    : False\nMountpoint? : False\nExists?     : False\nLink Exists?: False\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.11.traceback.html","title":"6.11.traceback","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.08.11\n</code></pre> <pre><code>from toolkit import H\nimport re\nimport numpy as np\nimport traceback\nimport sys\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.11.traceback.html#framesummary","title":"FrameSummary \u7c7b","text":"<p>FrameSummary\u5bf9\u8c61\uff1a\u8868\u793atrace back\u4e2d\u7684\u5355\u4e2aframe\u3002\u5b83\u53ef\u4ee5\u9009\u62e9\u5305\u542b\u4e00\u4e2a\u6846\u67b6\u5c40\u90e8\u53d8\u91cf\u7684\u5b57\u7b26\u4e32\u5316\u7248\u672c\u3002</p> <pre><code>traceback.FrameSummary(filename, lineno, name, lookup_line=True,\n                       locals=None, line=None)\n</code></pre> <ul> <li> <p>\u5982\u679c lookup_line \u662f False \uff0c\u76f4\u5230 FrameSummary \u6709 line \u8bbf\u95ee\u7684\u5c5e\u6027\uff08\u5728\u5c06\u5176\u5f3a\u5236\u8f6c\u6362\u4e3a\u5143\u7ec4\u65f6\u4e5f\u4f1a\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff09\u3002</p> </li> <li> <p>line \u53ef\u4ee5\u76f4\u63a5\u63d0\u4f9b\uff0c\u5e76\u4e14\u53ef\u4ee5\u5b8c\u5168\u963b\u6b62\u884c\u67e5\u627e\u7684\u53d1\u751f\u3002</p> </li> <li> <p>locals \u662f\u53ef\u9009\u7684\u5c40\u90e8\u53d8\u91cf\u5b57\u5178\uff0c\u5982\u679c\u63d0\u4f9b\uff0c\u53d8\u91cf\u8868\u793a\u5f62\u5f0f\u5c06\u5b58\u50a8\u5728\u6458\u8981\u4e2d\u4ee5\u4f9b\u4ee5\u540e\u663e\u793a\u3002</p> </li> </ul> <pre><code># \u83b7\u53d6\u5f53\u524dframe\nframe = sys._getframe()\n# \u5229\u7528\u5f53\u524dframe\u7684\u4fe1\u606f\u521b\u5efa\u4e00\u4e2aFrameSummary\u5bf9\u8c61\ntraceback.FrameSummary(filename=frame.f_code.co_filename,\n                       lineno=frame.f_lineno,\n                       name=frame.f_code.co_name,\n                       lookup_line=True,\n                       locals=frame.f_locals,\n                       line=None)\n</code></pre> <pre><code>&lt;FrameSummary file &lt;ipython-input-1-8a9a38cc1974&gt;, line 2 in &lt;module&gt;&gt;\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.11.traceback.html#stacksummary","title":"StackSummary \u7c7b","text":"<p>StackSummary\u5bf9\u8c61\uff1a\u8868\u793a\u51c6\u5907\u683c\u5f0f\u5316\u7684\u8c03\u7528\u5806\u6808\u3002StackSummary\u5bf9\u8c61\u662f\u5305\u542b\u591a\u4e2aFrameSummary\u5bf9\u8c61\u7684\u53ef\u8fed\u4ee3\u5bb9\u5668\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.11.traceback.html#_1","title":"\u6784\u9020\u65b9\u6cd5","text":"<pre><code>traceback.StackSummary.extract(frame_gen, limit=None,\n                               lookup_lines=True,\n                               capture_locals=False)\n</code></pre> <ul> <li> <p>frame\u751f\u6210\u5668\uff1ae.g. <code>walk_stack()</code> \u6216 <code>walk_tb()</code></p> </li> <li> <p>limit\uff1a\u53ea\u4ece frame_gen \u63d0\u53d6 limit \u4e2a frame \u5bf9\u8c61</p> </li> <li> <p>lookup_lines\uff1a\u5982\u679c\u662fFalse \uff0c\u5219\u8fd4\u56de\u7684FrameSummary\u5bf9\u8c61\u5c1a\u672a\u8bfb\u53d6\u5176\u884c\uff0c\u56e0\u6b64\u521b\u5efa StackSummary \u7684\u4ee3\u4ef7\u6bd4\u8f83\u4f4e\uff08\u5982\u679c\u4e0d\u662f\u771f\u6b63\u683c\u5f0f\u5316\u7684\u8bdd\u53ef\u80fd\u5f88\u6709\u4ef7\u503c\uff09\u3002</p> </li> <li> <p>capture_locals\uff1a\u5982\u679c\u662fTrue \u5219\u6bcf\u4e2aFrameSummary\u7684\u5c40\u90e8\u53d8\u91cf\u4f1a\u88ab\u6355\u83b7\uff0c\u7528\u4e00\u4e2a\u5bf9\u8c61\u8868\u793a\u3002</p> </li> </ul> <pre><code>traceback.StackSummary.from_list(a_list)\n</code></pre> <p>\u4ece\u63d0\u4f9b\u7684\u65e7\u6837\u5f0f\u7684\u5143\u7ec4\u5217\u8868\u6784\u9020\u4e00\u4e2aStackSummary\u5bf9\u8c61\u3002\u6bcf\u4e2a\u5143\u7ec4\u5e94\u8be5\u662ffilename\uff0clineno\uff0cname\uff0cline\u4e3a\u5143\u7d20\u76844\u5143\u7ec4\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.11.traceback.html#_2","title":"\u5176\u4ed6\u65b9\u6cd5","text":"<pre><code>traceback.StackSummary.format(self)\n</code></pre> <p>\u8fd4\u56de\u51c6\u5907\u6253\u5370\u7684\u5b57\u7b26\u4e32\u5217\u8868\u3002</p> <p>\u5217\u8868\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\uff08\u5b57\u7b26\u4e32\uff09\u5bf9\u5e94\u4e8e\u5806\u6808\u4e2d\u7684\u4e00\u4e2aframe\u3002\u6bcf\u4e2a\u5b57\u7b26\u4e32\u4ee5\u6362\u884c\u7b26\u7ed3\u5c3e\uff0c\u5bf9\u4e8e\u5177\u6709\u6e90\u6587\u672c\u884c\u7684\u9879\u76ee\uff0c\u5b57\u7b26\u4e32\u4e5f\u53ef\u4ee5\u5305\u542b\u5185\u90e8\u6362\u884c\u7b26\u3002\u5bf9\u4e8e\u540c\u4e00\u5e27\u548c\u540c\u4e00\u884c\u7684\u957f\u5e8f\u5217\uff0c\u663e\u793a\u524d\u51e0\u6b21\u91cd\u590d\uff0c\u7136\u540e\u663e\u793a\u6458\u8981\u884c\uff0c\u8bf4\u660e\u8fdb\u4e00\u6b65\u91cd\u590d\u7684\u786e\u5207\u6570\u91cf\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.11.traceback.html#frame","title":"\u83b7\u53d6 frame \u5806\u6808","text":"<pre><code>traceback.walk_stack(f)\n</code></pre> <p>\u4ece\u7ed9frame\u4e2d\u8ddf\u8e2a<code>f.f_back</code>\u540e\u7684\u5806\u6808\uff0c\u5f97\u5230\u6bcf\u4e2a\u5e27\u7684\u5e27\u548c\u884c\u53f7\u3002\u5982\u679c<code>f</code>\u4e3aNone\uff0c\u5219\u4f7f\u7528\u5f53\u524d\u5806\u6808\u3002\u5b83\u4e0e<code>StackSummary.extract()</code>\u4e00\u8d77\u4f7f\u7528\u3002</p> <pre><code>traceback.walk_tb(tb)\n</code></pre> <p>\u5728<code>tb_next</code>\u4e4b\u540e\u6267\u884c\u56de\u6eaf\uff0c\u5f97\u5230\u6bcf\u4e2a\u5e27\u7684\u5e27\u548c\u884c\u53f7\u3002\u5b83\u4e0e<code>StackSummary.extract()</code>\u4e00\u8d77\u4f7f\u7528\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.11.traceback.html#_3","title":"\u793a\u4f8b","text":"<pre><code>def call_function(f, recursion_level=2):\n    if recursion_level:\n        return call_function(f, recursion_level - 1)\n    else:\n        return f()\n\ndef f():\n    summary = traceback.StackSummary.extract(\n        traceback.walk_stack(None)\n    )\n    return ''.join(summary.format())\n\ndef format_traceback_str(string):\n    need_replaced = re.findall(r'\"(.*)\"', string)\n    need_replaced_unique = []\n    for i in need_replaced:\n        if i not in need_replaced_unique:\n            need_replaced_unique.append(i)\n\n    num = 1\n    for file_str in need_replaced_unique:\n        if num &gt; 3:\n            output_end_index = string.index(f'\"{num - 1}.py\"')\n            string = string[0:output_end_index]\n            break\n        if not file_str.startswith(\"&lt;ipython-input\"):\n            string = string.replace(file_str, f\"{num}.py\")\n            num += 1\n\n    return string\n\n\nprint('Calling f() directly:')\nstring = f()\nprint(format_traceback_str(string))\n\nprint()\nprint('Calling f() from 3 levels deep:')\nstring = call_function(f)\nprint(format_traceback_str(string))\n</code></pre> <pre><code>Calling f() directly:\n  File \"&lt;ipython-input-1-8548a9dafead&gt;\", line 9, in f\n    traceback.walk_stack(None)\n  File \"&lt;ipython-input-1-8548a9dafead&gt;\", line 34, in &lt;module&gt;\n    string = f()\n  File \"1.py\", line 3331, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"1.py\", line 3254, in run_ast_nodes\n    if (await self.run_code(code, result,  async_=asy)):\n  File \"1.py\", line 3063, in run_cell_async\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"2.py\", line 68, in _pseudo_sync_runner\n    coro.send(None)\n  File \"1.py\", line 2886, in _run_cell\n    return runner(coro)\n  File \"1.py\", line 2858, in run_cell\n    raw_cell, store_history, silent, shell_futures)\n  File\n\nCalling f() from 3 levels deep:\n  File \"&lt;ipython-input-1-8548a9dafead&gt;\", line 9, in f\n    traceback.walk_stack(None)\n  File \"&lt;ipython-input-1-8548a9dafead&gt;\", line 5, in call_function\n    return f()\n  File \"&lt;ipython-input-1-8548a9dafead&gt;\", line 3, in call_function\n    return call_function(f, recursion_level - 1)\n  File \"&lt;ipython-input-1-8548a9dafead&gt;\", line 3, in call_function\n    return call_function(f, recursion_level - 1)\n  File \"&lt;ipython-input-1-8548a9dafead&gt;\", line 39, in &lt;module&gt;\n    string = call_function(f)\n  File \"1.py\", line 3331, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"1.py\", line 3254, in run_ast_nodes\n    if (await self.run_code(code, result,  async_=asy)):\n  File \"1.py\", line 3063, in run_cell_async\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"2.py\", line 68, in _pseudo_sync_runner\n    coro.send(None)\n  File \"1.py\", line 2886, in _run_cell\n    return runner(coro)\n  File \"1.py\", line 2858, in run_cell\n    raw_cell, store_history, silent, shell_futures)\n  File\n</code></pre> <p>\u4e3a\u4e86\u663e\u793a\u66f4\u7b80\u6d01\u7684\u7ed3\u679c\uff0ctrackback\u4fe1\u606f\u4e2d\u7684Python\u6587\u4ef6\u540d\u7528\u6570\u5b57\u4ee3\u66ff\uff0c\u5e76\u4e14\u7701\u7565\u4e00\u4e9b\u672b\u5c3e\u7684trackback\u4fe1\u606f\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u7531<code>format_traceback_str</code>\u51fd\u6570\u5b8c\u6210\u3002\u7701\u7565\u7684\u4fe1\u606f\u5728<code>f()</code>\u548c<code>call_function(f)</code>\u8fd4\u56de\u7684\u7ed3\u679c\u4e2d\u90fd\u662f\u76f8\u540c\u7684\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u81ea\u5b9a\u4e49trackback\u5b57\u7b26\u4e32\u7684\u683c\u5f0f\uff1a</p> <pre><code>import traceback\nimport sys\n\ntemplate = (\n    '\"{fs.filename:&lt;26}\":{fs.lineno}:{fs.name}:\\n'\n    '    {fs.line}'\n)\n\ndef f():\n    summary = traceback.StackSummary.extract(\n        traceback.walk_stack(None)\n    )\n    string = \"\"\n    for fs in summary:\n        string += template.format(fs=fs) + \"\\n\"\n    return string\n\n\nprint('Calling f() directly:')\nstring = f()\nprint(format_traceback_str(string))\n\nprint()\nprint('Calling f() from 3 levels deep:')\nstring = call_function(f)\nprint(format_traceback_str(string))\n</code></pre> <pre><code>Calling f() directly:\n\"&lt;ipython-input-1-4b8f40d1d7c9&gt;\":11:f:\n    traceback.walk_stack(None)\n\"&lt;ipython-input-1-4b8f40d1d7c9&gt;\":20:&lt;module&gt;:\n    string = f()\n\"1.py\":3331:run_code:\n    exec(code_obj, self.user_global_ns, self.user_ns)\n\"1.py\":3254:run_ast_nodes:\n    if (await self.run_code(code, result,  async_=asy)):\n\"1.py\":3063:run_cell_async:\n    interactivity=interactivity, compiler=compiler, result=result)\n\"2.py\":68:_pseudo_sync_runner:\n    coro.send(None)\n\"1.py\":2886:_run_cell:\n    return runner(coro)\n\"1.py\":2858:run_cell:\n    raw_cell, store_history, silent, shell_futures)\n\n\nCalling f() from 3 levels deep:\n\"&lt;ipython-input-1-4b8f40d1d7c9&gt;\":11:f:\n    traceback.walk_stack(None)\n\"&lt;ipython-input-1-8548a9dafead&gt;\":5:call_function:\n    return f()\n\"&lt;ipython-input-1-8548a9dafead&gt;\":3:call_function:\n    return call_function(f, recursion_level - 1)\n\"&lt;ipython-input-1-8548a9dafead&gt;\":3:call_function:\n    return call_function(f, recursion_level - 1)\n\"&lt;ipython-input-1-4b8f40d1d7c9&gt;\":25:&lt;module&gt;:\n    string = call_function(f)\n\"1.py\":3331:run_code:\n    exec(code_obj, self.user_global_ns, self.user_ns)\n\"1.py\":3254:run_ast_nodes:\n    if (await self.run_code(code, result,  async_=asy)):\n\"1.py\":3063:run_cell_async:\n    interactivity=interactivity, compiler=compiler, result=result)\n\"2.py\":68:_pseudo_sync_runner:\n    coro.send(None)\n\"1.py\":2886:_run_cell:\n    return runner(coro)\n\"1.py\":2858:run_cell:\n    raw_cell, store_history, silent, shell_futures)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.11.traceback.html#tracebackexception","title":"TracebackException","text":"<pre><code>import traceback\nimport sys\n\ndef produce_exception(recursion_level=2):\n    sys.stdout.flush()\n    if recursion_level:\n        produce_exception(recursion_level - 1)\n    else:\n        raise RuntimeError()\n\nprint('with no exception:')\nexc_type, exc_value, exc_tb = sys.exc_info()\ntbe = traceback.TracebackException(exc_type, exc_value, exc_tb)\nprint(''.join(tbe.format()))\n\nprint('\\nwith exception:')\ntry:\n    produce_exception()\nexcept Exception as err:\n    exc_type, exc_value, exc_tb = sys.exc_info()\n\n    tbe = traceback.TracebackException(\n        exc_type, exc_value, exc_tb,\n    )\n\n    print(''.join(tbe.format()))\n\n    print('\\nexception only:')\n    print(''.join(tbe.format_exception_only()))\n</code></pre> <pre><code>with no exception:\nNone: None\n\n\nwith exception:\nTraceback (most recent call last):\n  File \"&lt;ipython-input-1-9d9c5e9aab70&gt;\", line 18, in &lt;module&gt;\n    produce_exception()\n  File \"&lt;ipython-input-1-9d9c5e9aab70&gt;\", line 7, in produce_exception\n    produce_exception(recursion_level - 1)\n  File \"&lt;ipython-input-1-9d9c5e9aab70&gt;\", line 7, in produce_exception\n    produce_exception(recursion_level - 1)\n  File \"&lt;ipython-input-1-9d9c5e9aab70&gt;\", line 9, in produce_exception\n    raise RuntimeError()\nRuntimeError\n\n\nexception only:\nRuntimeError\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.11.traceback.html#api","title":"\u5e95\u5c42\u5f02\u5e38 API","text":"<p>\u53e6\u4e00\u4e2a\u5904\u7406\u5f02\u5e38\u62a5\u544a\u7684\u65b9\u6cd5\u662f\u4f7f\u7528<code>print_exc()</code>\u3002\u5b83\u4f7f\u7528<code>sys.exc_info()</code>\u6765\u4e3a\u5f53\u524d\u7ebf\u7a0b\u5b58\u50a8\u5f02\u5e38\u4fe1\u606f\uff0c\u683c\u5f0f\u5316\u7ed3\u679c\uff0c\u6253\u5370\u6587\u672c\u5230\u6587\u4ef6\u53e5\u67c4\uff08\u9ed8\u8ba4\u662f <code>sys.stderr</code>\uff09\u3002</p> <pre><code>traceback.print_exc(limit=None, file=None, chain=True)\n</code></pre> <p><code>print_exc()</code>\u4e0d\u9700\u8981\u4f20\u5165\u53c2\u6570\uff0c\u6240\u4ee5\u5728\u4e00\u4e9b\u573a\u5408<code>print_exc()</code>\u53ef\u80fd\u65e0\u6cd5\u83b7\u5f97\u9884\u671f\u7684\u7ed3\u679c\u3002\u4f8b\u5982\u5728Python 2.x\u4e2d\u6267\u884c\u4e0b\u8ff0\u4ee3\u7801\uff1a</p> <pre><code>import traceback\n\ntry:\n    raise TypeError(\"Oups!\")\nexcept Exception:\n    try:\n        raise TypeError(\"Again !?!\")\n    except:\n        pass\n\n    traceback.print_exc()\n</code></pre> <pre><code>Traceback (most recent call last):\n  File \"&lt;ipython-input-1-057ba94a4e04&gt;\", line 4, in &lt;module&gt;\n    raise TypeError(\"Oups!\")\nTypeError: Oups!\n</code></pre> <p>\u6211\u4eec\u53ef\u80fd\u671f\u5f85<code>print_exc()</code>\u6253\u5370\u51fa<code>raise TypeError(\"Again !?!\")</code>\u8bed\u53e5\u629b\u51fa\u7684\u5f02\u5e38\uff0c\u4f46\u5b9e\u9645\u4e0a\uff0c<code>print_exc()</code>\u53ea\u6253\u5370\u4e86<code>raise TypeError(\"Oups!\")</code>\u8bed\u53e5\u629b\u51fa\u7684\u5f02\u5e38\u3002</p> <p><code>print_exc()</code>\u53ea\u662f<code>print_exception()</code>\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u53ea\u4e0d\u8fc7\u6211\u4eec\u4f7f\u7528\u540e\u8005\u65f6\u9700\u8981\u51c6\u786e\u7684\u53c2\u6570 \u3002<code>print_exception()</code>\u7684\u53c2\u6570\u901a\u8fc7<code>sys.exc_info()</code>\u83b7\u53d6\u5230\u3002</p> <p>\u5982\u679c\u60a8\u786e\u5b9e\u9700\u8981\u8bbf\u95ee\u539f\u59cb\u7684\u8ffd\u6eaf\uff0c\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\u662f\u5c06\u5f02\u5e38\u4fe1\u606f\u4ece<code>exc_info</code>\u672c\u5730\u53d8\u91cf\u4e2d\u8fd4\u56de\uff0c\u5e76\u4f7f\u7528\u6765\u663e\u793a\u5b83<code>print_exception</code>\uff1a    </p> <pre><code>import traceback\nimport sys\n\n\ntry:\n    raise TypeError(\"Oups!\")\nexcept Exception:\n    try:\n        exc_info = sys.exc_info()\n        print(exc_info)\n\n        # do you usefull stuff here\n        # (potentially raising an exception)\n        try:\n            raise TypeError(\"Again !?!\")\n        except:\n            pass\n        # end of useful stuff\n\n    finally:\n        # Display the *original* exception\n        traceback.print_exception(*exc_info)\n        del exc_info\n\n\n# https://stackoverflow.com/questions/3702675/how-to-print-the-full-traceback-without-halting-the-program\n\n# a = []\n# for i in traceback.walk_stack(None):\n#     a.append(i)\n\n# dir(a[0][0])\n# frame.f_back\n\n# a[0][0].f_code\n</code></pre> <pre><code>(&lt;class 'TypeError'&gt;, TypeError('Oups!'), &lt;traceback object at\n0x000001309FD2E308&gt;)\nTraceback (most recent call last):\n  File \"&lt;ipython-input-1-c2358bda325a&gt;\", line 6, in &lt;module&gt;\n    raise TypeError(\"Oups!\")\nTypeError: Oups!\n</code></pre> <p><code>print_exception()</code>\u4f7f\u7528\u7684\u662f<code>format_exception()</code>\u6765\u51c6\u5907\u8981\u6253\u5370\u7684\u6587\u672c\u3002<code>format_exception()</code>\u8981\u4f7f\u7528\u7684\u4e09\u4e2a\u53c2\u6570\u4e0e<code>print_exception()</code>\u4e00\u6837\uff0c\u90fd\u662fexception type, exception value, traceback\u3002</p> <pre><code>import traceback\nimport sys\nfrom pprint import pprint\n\ntry:\n    produce_exception()\nexcept Exception as err:\n    print('format_exception():')\n    exc_type, exc_value, exc_tb = sys.exc_info()\n    pprint(\n        traceback.format_exception(exc_type, exc_value, exc_tb),\n        width=65,\n    )\n</code></pre> <pre><code>format_exception():\n['Traceback (most recent call last):\\n',\n '  File \"&lt;ipython-input-1-564aebc46497&gt;\", line 6, in &lt;module&gt;\\n'\n '    produce_exception()\\n',\n '  File \"&lt;ipython-input-1-9d9c5e9aab70&gt;\", line 7, in '\n 'produce_exception\\n'\n '    produce_exception(recursion_level - 1)\\n',\n '  File \"&lt;ipython-input-1-9d9c5e9aab70&gt;\", line 7, in '\n 'produce_exception\\n'\n '    produce_exception(recursion_level - 1)\\n',\n '  File \"&lt;ipython-input-1-9d9c5e9aab70&gt;\", line 9, in '\n 'produce_exception\\n'\n '    raise RuntimeError()\\n',\n 'RuntimeError\\n']\n</code></pre> <p>\u8981\u60f3\u628a traceback \u7528\u5176\u4ed6\u65b9\u5f0f\u5904\u7406\uff0c\u6bd4\u5982\u5f04\u6210\u4e0d\u540c\u7684\u8f93\u51fa\u683c\u5f0f\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 <code>extract_tb()</code> \u83b7\u53d6\u51fa\u6570\u636e\u3002</p> <pre><code>import traceback\nimport sys\nimport os\n\ntemplate = '{filename:&lt;23}:{linenum}:{funcname}:\\n    {source}'\n\ntry:\n    produce_exception()\nexcept Exception as err:\n    print('format_exception():')\n    exc_type, exc_value, exc_tb = sys.exc_info()\n    for tb_info in traceback.extract_tb(exc_tb):\n        filename, linenum, funcname, source = tb_info\n        if funcname != '&lt;module&gt;':\n            funcname = funcname + '()'\n        print(template.format(\n            filename=os.path.basename(filename),\n            linenum=linenum,\n            source=source,\n            funcname=funcname)\n        )\n</code></pre> <pre><code>format_exception():\n&lt;ipython-input-1-5f837b49071f&gt;:8:&lt;module&gt;:\n    produce_exception()\n&lt;ipython-input-1-9d9c5e9aab70&gt;:7:produce_exception():\n    produce_exception(recursion_level - 1)\n&lt;ipython-input-1-9d9c5e9aab70&gt;:7:produce_exception():\n    produce_exception(recursion_level - 1)\n&lt;ipython-input-1-9d9c5e9aab70&gt;:9:produce_exception():\n    raise RuntimeError()\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.11.traceback.html#api_1","title":"\u5e95\u5c42\u6808 API","text":"<p>\u6709\u51e0\u4e2a\u4e0e traceback \u76f8\u540c\u7684\u51fd\u6570\u6765\u5bf9\u5f53\u524d\u8c03\u7528\u6808\u505a\u76f8\u540c\u7684\u64cd\u4f5c\u3002<code>print_stack()</code> \u4f1a\u6253\u5370\u51fa\u5f53\u524d\u6808\u4f46\u4e0d\u5f15\u53d1\u5f02\u5e38\u3002\u8f93\u51fa\u5f88\u50cf traceback \u4f46\u5e76\u65e0\u9519\u8bef\u4fe1\u606f\u3002</p> <pre><code>import traceback\nimport sys\n\ndef f():\n    traceback.print_stack(file=sys.stdout)\n\nprint('Calling f() directly:')\nf()\n\nprint()\nprint('Calling f() from 3 levels deep:')\ncall_function(f)\n</code></pre> <pre><code>Calling f() directly:\n  File \"setup_m.py\", line 45, in &lt;module&gt;\n    save_dir=save_dir)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-packages\\pweave\\__init__.py\",\nline 62, in weave\n    doc.weave()\n  File \"G:\\Installed\\Anaconda3\\lib\\site-packages\\pweave\\pweb.py\", line\n192, in weave\n    self.run()\n  File \"G:\\Installed\\Anaconda3\\lib\\site-packages\\pweave\\pweb.py\", line\n129, in run\n    proc.run()\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\pweave\\processors\\base.py\", line 46, in run\n    res = self._runcode(chunk)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\pweave\\processors\\base.py\", line 171, in _runcode\n    chunk['result'] = self.loadstring(chunk['content'], chunk=chunk)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\pweave\\processors\\jupyter.py\", line 134, in loadstring\n    return self.run_cell(code_str)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\pweave\\processors\\jupyter.py\", line 58, in run_cell\n    msg_id = self.kc.execute(src.lstrip(), store_history=False)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\ipykernel\\inprocess\\client.py\", line 102, in execute\n    self._dispatch_to_kernel(msg)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\ipykernel\\inprocess\\client.py\", line 170, in\n_dispatch_to_kernel\n    kernel.dispatch_shell(stream, msg_parts)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-packages\\tornado\\gen.py\", line\n209, in wrapper\n    yielded = next(result)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\ipykernel\\kernelbase.py\", line 268, in dispatch_shell\n    yield gen.maybe_future(handler(stream, idents, msg))\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\ipykernel\\inprocess\\ipkernel.py\", line 80, in execute_request\n    super(InProcessKernel, self).execute_request(stream, ident,\nparent)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-packages\\tornado\\gen.py\", line\n209, in wrapper\n    yielded = next(result)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\ipykernel\\kernelbase.py\", line 541, in execute_request\n    user_expressions, allow_stdin,\n  File \"G:\\Installed\\Anaconda3\\lib\\site-packages\\tornado\\gen.py\", line\n209, in wrapper\n    yielded = next(result)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\ipykernel\\ipkernel.py\", line 300, in do_execute\n    res = shell.run_cell(code, store_history=store_history,\nsilent=silent)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\ipykernel\\zmqshell.py\", line 536, in run_cell\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\IPython\\core\\interactiveshell.py\", line 2858, in run_cell\n    raw_cell, store_history, silent, shell_futures)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\IPython\\core\\interactiveshell.py\", line 2886, in _run_cell\n    return runner(coro)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\IPython\\core\\async_helpers.py\", line 68, in\n_pseudo_sync_runner\n    coro.send(None)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\IPython\\core\\interactiveshell.py\", line 3063, in\nrun_cell_async\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\IPython\\core\\interactiveshell.py\", line 3254, in\nrun_ast_nodes\n    if (await self.run_code(code, result,  async_=asy)):\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\IPython\\core\\interactiveshell.py\", line 3331, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"&lt;ipython-input-1-fb615fd1c94c&gt;\", line 8, in &lt;module&gt;\n    f()\n  File \"&lt;ipython-input-1-fb615fd1c94c&gt;\", line 5, in f\n    traceback.print_stack(file=sys.stdout)\n\nCalling f() from 3 levels deep:\n  File \"setup_m.py\", line 45, in &lt;module&gt;\n    save_dir=save_dir)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-packages\\pweave\\__init__.py\",\nline 62, in weave\n    doc.weave()\n  File \"G:\\Installed\\Anaconda3\\lib\\site-packages\\pweave\\pweb.py\", line\n192, in weave\n    self.run()\n  File \"G:\\Installed\\Anaconda3\\lib\\site-packages\\pweave\\pweb.py\", line\n129, in run\n    proc.run()\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\pweave\\processors\\base.py\", line 46, in run\n    res = self._runcode(chunk)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\pweave\\processors\\base.py\", line 171, in _runcode\n    chunk['result'] = self.loadstring(chunk['content'], chunk=chunk)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\pweave\\processors\\jupyter.py\", line 134, in loadstring\n    return self.run_cell(code_str)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\pweave\\processors\\jupyter.py\", line 58, in run_cell\n    msg_id = self.kc.execute(src.lstrip(), store_history=False)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\ipykernel\\inprocess\\client.py\", line 102, in execute\n    self._dispatch_to_kernel(msg)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\ipykernel\\inprocess\\client.py\", line 170, in\n_dispatch_to_kernel\n    kernel.dispatch_shell(stream, msg_parts)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-packages\\tornado\\gen.py\", line\n209, in wrapper\n    yielded = next(result)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\ipykernel\\kernelbase.py\", line 268, in dispatch_shell\n    yield gen.maybe_future(handler(stream, idents, msg))\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\ipykernel\\inprocess\\ipkernel.py\", line 80, in execute_request\n    super(InProcessKernel, self).execute_request(stream, ident,\nparent)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-packages\\tornado\\gen.py\", line\n209, in wrapper\n    yielded = next(result)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\ipykernel\\kernelbase.py\", line 541, in execute_request\n    user_expressions, allow_stdin,\n  File \"G:\\Installed\\Anaconda3\\lib\\site-packages\\tornado\\gen.py\", line\n209, in wrapper\n    yielded = next(result)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\ipykernel\\ipkernel.py\", line 300, in do_execute\n    res = shell.run_cell(code, store_history=store_history,\nsilent=silent)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\ipykernel\\zmqshell.py\", line 536, in run_cell\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\IPython\\core\\interactiveshell.py\", line 2858, in run_cell\n    raw_cell, store_history, silent, shell_futures)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\IPython\\core\\interactiveshell.py\", line 2886, in _run_cell\n    return runner(coro)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\IPython\\core\\async_helpers.py\", line 68, in\n_pseudo_sync_runner\n    coro.send(None)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\IPython\\core\\interactiveshell.py\", line 3063, in\nrun_cell_async\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\IPython\\core\\interactiveshell.py\", line 3254, in\nrun_ast_nodes\n    if (await self.run_code(code, result,  async_=asy)):\n  File \"G:\\Installed\\Anaconda3\\lib\\site-\npackages\\IPython\\core\\interactiveshell.py\", line 3331, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"&lt;ipython-input-1-fb615fd1c94c&gt;\", line 12, in &lt;module&gt;\n    call_function(f)\n  File \"&lt;ipython-input-1-8548a9dafead&gt;\", line 3, in call_function\n    return call_function(f, recursion_level - 1)\n  File \"&lt;ipython-input-1-8548a9dafead&gt;\", line 3, in call_function\n    return call_function(f, recursion_level - 1)\n  File \"&lt;ipython-input-1-8548a9dafead&gt;\", line 5, in call_function\n    return f()\n  File \"&lt;ipython-input-1-fb615fd1c94c&gt;\", line 5, in f\n    traceback.print_stack(file=sys.stdout)\n</code></pre> <p><code>format_stack()</code> \u51c6\u5907\u6808\u8ffd\u8e2a\u7684\u65b9\u5f0f\u4e0e <code>format_exception()</code> \u4e00\u6837\u3002</p> <pre><code>import traceback\nimport sys\nfrom pprint import pprint\n\n\ndef f():\n    return traceback.format_stack()\n\nformatted_stack = call_function(f)\npprint(formatted_stack)\n</code></pre> <pre><code>['  File \"setup_m.py\", line 45, in &lt;module&gt;\\n\nsave_dir=save_dir)\\n',\n '  File \"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\pweave\\\\__init__.py\", '\n 'line 62, in weave\\n'\n '    doc.weave()\\n',\n '  File \"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\pweave\\\\pweb.py\", line '\n '192, in weave\\n'\n '    self.run()\\n',\n '  File \"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\pweave\\\\pweb.py\", line '\n '129, in run\\n'\n '    proc.run()\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\pweave\\\\processors\\\\base.py\", '\n 'line 46, in run\\n'\n '    res = self._runcode(chunk)\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\pweave\\\\processors\\\\base.py\", '\n 'line 171, in _runcode\\n'\n \"    chunk['result'] = self.loadstring(chunk['content'],\nchunk=chunk)\\n\",\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\pweave\\\\processors\\\\jupyter.py\", '\n 'line 134, in loadstring\\n'\n '    return self.run_cell(code_str)\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\pweave\\\\processors\\\\jupyter.py\", '\n 'line 58, in run_cell\\n'\n '    msg_id = self.kc.execute(src.lstrip(), store_history=False)\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\ipykernel\\\\inprocess\\\\client.py\", '\n 'line 102, in execute\\n'\n '    self._dispatch_to_kernel(msg)\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\ipykernel\\\\inprocess\\\\client.py\", '\n 'line 170, in _dispatch_to_kernel\\n'\n '    kernel.dispatch_shell(stream, msg_parts)\\n',\n '  File \"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\tornado\\\\gen.py\", line '\n '209, in wrapper\\n'\n '    yielded = next(result)\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\ipykernel\\\\kernelbase.py\", '\n 'line 268, in dispatch_shell\\n'\n '    yield gen.maybe_future(handler(stream, idents, msg))\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\ipykernel\\\\inprocess\\\\ipkernel.py\", '\n 'line 80, in execute_request\\n'\n '    super(InProcessKernel, self).execute_request(stream, ident,\nparent)\\n',\n '  File \"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\tornado\\\\gen.py\", line '\n '209, in wrapper\\n'\n '    yielded = next(result)\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\ipykernel\\\\kernelbase.py\", '\n 'line 541, in execute_request\\n'\n '    user_expressions, allow_stdin,\\n',\n '  File \"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\tornado\\\\gen.py\", line '\n '209, in wrapper\\n'\n '    yielded = next(result)\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\ipykernel\\\\ipkernel.py\", line '\n '300, in do_execute\\n'\n '    res = shell.run_cell(code, store_history=store_history,\nsilent=silent)\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\ipykernel\\\\zmqshell.py\", line '\n '536, in run_cell\\n'\n '    return super(ZMQInteractiveShell, self).run_cell(*args,\n**kwargs)\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\IPython\\\\core\\\\interactiveshell.py\", '\n 'line 2858, in run_cell\\n'\n '    raw_cell, store_history, silent, shell_futures)\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\IPython\\\\core\\\\interactiveshell.py\", '\n 'line 2886, in _run_cell\\n'\n '    return runner(coro)\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\IPython\\\\core\\\\async_helpers.py\", '\n 'line 68, in _pseudo_sync_runner\\n'\n '    coro.send(None)\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\IPython\\\\core\\\\interactiveshell.py\", '\n 'line 3063, in run_cell_async\\n'\n '    interactivity=interactivity, compiler=compiler,\nresult=result)\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\IPython\\\\core\\\\interactiveshell.py\", '\n 'line 3254, in run_ast_nodes\\n'\n '    if (await self.run_code(code, result,  async_=asy)):\\n',\n '  File '\n '\"G:\\\\Installed\\\\Anaconda3\\\\lib\\\\site-\npackages\\\\IPython\\\\core\\\\interactiveshell.py\", '\n 'line 3331, in run_code\\n'\n '    exec(code_obj, self.user_global_ns, self.user_ns)\\n',\n '  File \"&lt;ipython-input-1-175e8d8ff5b6&gt;\", line 9, in &lt;module&gt;\\n'\n '    formatted_stack = call_function(f)\\n',\n '  File \"&lt;ipython-input-1-8548a9dafead&gt;\", line 3, in call_function\\n'\n '    return call_function(f, recursion_level - 1)\\n',\n '  File \"&lt;ipython-input-1-8548a9dafead&gt;\", line 3, in call_function\\n'\n '    return call_function(f, recursion_level - 1)\\n',\n '  File \"&lt;ipython-input-1-8548a9dafead&gt;\", line 5, in call_function\\n'\n '    return f()\\n',\n '  File \"&lt;ipython-input-1-175e8d8ff5b6&gt;\", line 7, in f\\n'\n '    return traceback.format_stack()\\n']\n</code></pre> <p><code>extract_stack()</code> \u51fd\u6570\u4e0e <code>extract_tb()</code> \u5dee\u4e0d\u591a\u3002</p> <pre><code>import traceback\nimport sys\nimport os\n\n\ntemplate = '{filename:&lt;26}:{linenum}:{funcname}:\\n    {source}'\n\ndef f():\n    return traceback.extract_stack()\n\nstack = call_function(f)\nfor filename, linenum, funcname, source in stack:\n    if funcname != '&lt;module&gt;':\n        funcname = funcname + '()'\n    print(template.format(\n        filename=os.path.basename(filename),\n        linenum=linenum,\n        source=source,\n        funcname=funcname)\n    )\n</code></pre> <pre><code>setup_m.py                :45:&lt;module&gt;:\n    save_dir=save_dir)\n__init__.py               :62:weave():\n    doc.weave()\npweb.py                   :192:weave():\n    self.run()\npweb.py                   :129:run():\n    proc.run()\nbase.py                   :46:run():\n    res = self._runcode(chunk)\nbase.py                   :171:_runcode():\n    chunk['result'] = self.loadstring(chunk['content'], chunk=chunk)\njupyter.py                :134:loadstring():\n    return self.run_cell(code_str)\njupyter.py                :58:run_cell():\n    msg_id = self.kc.execute(src.lstrip(), store_history=False)\nclient.py                 :102:execute():\n    self._dispatch_to_kernel(msg)\nclient.py                 :170:_dispatch_to_kernel():\n    kernel.dispatch_shell(stream, msg_parts)\ngen.py                    :209:wrapper():\n    yielded = next(result)\nkernelbase.py             :268:dispatch_shell():\n    yield gen.maybe_future(handler(stream, idents, msg))\nipkernel.py               :80:execute_request():\n    super(InProcessKernel, self).execute_request(stream, ident,\nparent)\ngen.py                    :209:wrapper():\n    yielded = next(result)\nkernelbase.py             :541:execute_request():\n    user_expressions, allow_stdin,\ngen.py                    :209:wrapper():\n    yielded = next(result)\nipkernel.py               :300:do_execute():\n    res = shell.run_cell(code, store_history=store_history,\nsilent=silent)\nzmqshell.py               :536:run_cell():\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\ninteractiveshell.py       :2858:run_cell():\n    raw_cell, store_history, silent, shell_futures)\ninteractiveshell.py       :2886:_run_cell():\n    return runner(coro)\nasync_helpers.py          :68:_pseudo_sync_runner():\n    coro.send(None)\ninteractiveshell.py       :3063:run_cell_async():\n    interactivity=interactivity, compiler=compiler, result=result)\ninteractiveshell.py       :3254:run_ast_nodes():\n    if (await self.run_code(code, result,  async_=asy)):\ninteractiveshell.py       :3331:run_code():\n    exec(code_obj, self.user_global_ns, self.user_ns)\n&lt;ipython-input-1-ff723ef2e674&gt;:11:&lt;module&gt;:\n    stack = call_function(f)\n&lt;ipython-input-1-8548a9dafead&gt;:3:call_function():\n    return call_function(f, recursion_level - 1)\n&lt;ipython-input-1-8548a9dafead&gt;:3:call_function():\n    return call_function(f, recursion_level - 1)\n&lt;ipython-input-1-8548a9dafead&gt;:5:call_function():\n    return f()\n&lt;ipython-input-1-ff723ef2e674&gt;:9:f():\n    return traceback.extract_stack()\n</code></pre> <p>\u5b83\u8fd8\u53ef\u4ee5\u63a5\u53d7\u53c2\u6570\uff0c\u4f46\u6211\u4eec\u5728\u8fd9\u91cc\u5e76\u672a\u4f7f\u7528\uff0c\u8be5\u53c2\u6570\u7684\u4f5c\u7528\u662f\u4f7f\u5176\u4ece\u5806\u6808\u5e27\u4e2d\u7684\u5176\u4ed6\u4f4d\u7f6e\uff08\u5c42\u7ea7\uff09\u5f00\u59cb\u6216\u9650\u5236\u904d\u5386\u6df1\u5ea6\u3002</p> <pre><code># https://blog.csdn.net/weixin_43193719/article/details/95518650\n# https://www.osgeo.cn/cpython/library/traceback.html\n# https://www.jianshu.com/p/a8cb5375171a\n# https://groups.google.com/forum/#!topic/python-cn/bJHTBI9vhwc\n# https://docs.python.org/3/library/inspect.html\n# https://stackoverflow.com/questions/3702675/how-to-print-the-full-traceback-without-halting-the-program\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.12.enum.html","title":"6.12.enum","text":"<pre><code>from toolkit import H\nimport enum\nimport json\n</code></pre> <pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.11.13\n</code></pre> <p>enum \u6a21\u5757\u63d0\u4f9b\u7684\u7c7b\u548c\u51fd\u6570\u5982\u4e0b\uff1a</p> <pre><code>d = H(enum).dicts\nprint(\"class\", d[\"class\"])\nprint(\"function\", d[\"function\"])\n</code></pre> <pre><code>module\nclass ['Enum', 'EnumMeta', 'Flag', 'IntEnum', 'IntFlag', 'auto']\nfunction ['unique']\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.12.enum.html#_1","title":"\u521b\u5efa\u679a\u4e3e\u7c7b","text":"<p><code>Enum</code> \u7684\u6210\u5458\u5728\u7c7b\u88ab\u89e3\u6790\u7684\u65f6\u5019\u8f6c\u5316\u4e3a\u5b9e\u4f8b\u3002\u6bcf\u4e00\u4e2a\u5b9e\u4f8b\u90fd\u6709\u4e00\u4e2a <code>name</code>\u5c5e\u6027\u5bf9\u5e94\u6210\u5458\u7684\u540d\u79f0\uff0c\u4e00\u4e2a <code>value</code> \u5c5e\u6027\u5bf9\u5e94\u5728\u7c7b\u4e2d\u8d4b\u503c\u7ed9\u6210\u5458\u540d\u79f0\u7684\u503c\u3002</p> <pre><code>class BugStatus(enum.Enum):\n    new = 7\n    incomplete = 6\n    invalid = 5\n    wont_fix = 4\n    in_progress = 3\n    fix_committed = 2\n    fix_released = 1\n\nprint(type(BugStatus))\nprint('Member name: {}'.format(BugStatus.wont_fix.name))\nprint('Member value: {}'.format(BugStatus.wont_fix.value))\n</code></pre> <pre><code>&lt;class 'enum.EnumMeta'&gt;\nMember name: wont_fix\nMember value: 4\n</code></pre> <p>\u4e0d\u80fd\u901a\u8fc7\u76f4\u63a5\u5f15\u7528<code>Enum</code> \u7684\u6210\u5458\u7684\u65b9\u5f0f\u548c\u5176\u503c\u4f5c\u6bd4\u8f83\uff1a</p> <pre><code>print(BugStatus.new == 7)\nprint(BugStatus.new.value == 7)\n</code></pre> <pre><code>False\nTrue\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.12.enum.html#_2","title":"\u8fed\u4ee3","text":"<p>\u6210\u5458\u4ee5\u5b83\u4eec\u5728\u7c7b\u4e2d\u88ab\u5b9a\u4e49\u7684\u987a\u5e8f\u9010\u4e2a\u4ea7\u751f\uff0c \u6210\u5458\u7684\u540d\u79f0\u548c\u503c\u6ca1\u6709\u4ee5\u4efb\u4f55\u65b9\u5f0f\u7528\u6765\u5bf9\u5b83\u4eec\u8fdb\u884c\u6392\u5e8f\u3002</p> <pre><code>import enum\n\nclass BugStatus(enum.Enum):\n    new = 7\n    incomplete = 6\n    invalid = 5\n    wont_fix = 4\n    in_progress = 3\n    fix_committed = 2\n    fix_released = 1\n\nfor status in BugStatus:\n    print('{:15} = {}'.format(status.name, status.value))\n</code></pre> <pre><code>new             = 7\nincomplete      = 6\ninvalid         = 5\nwont_fix        = 4\nin_progress     = 3\nfix_committed   = 2\nfix_released    = 1\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.12.enum.html#enum","title":"Enum \u7c7b\u6210\u5458\u6bd4\u8f83","text":"<p>\u7531\u4e8e\u679a\u4e3e\u6210\u5458\u4e0d\u662f\u6709\u5e8f\u7684\uff0c\u6240\u4ee5\u5b83\u4eec\u53ea\u652f\u6301\u6309 id \u6216\u6309\u503c\u7684\u76f8\u7b49\u6027\u8fdb\u884c\u6bd4\u8f83\u3002\u5bf9\u679a\u4e3e\u6210\u5458\u5e94\u7528\u5927\u4e8e\u548c\u5c0f\u4e8e\u6bd4\u8f83\u64cd\u4f5c\u7b26\u5c06\u629b\u51fa <code>TypeError</code> \u5f02\u5e38\u3002</p> <pre><code>import enum\n\nclass BugStatus(enum.Enum):\n    new = 7\n    incomplete = 6\n    invalid = 5\n    wont_fix = 4\n    in_progress = 3\n    fix_committed = 2\n    fix_released = 1\n\nactual_state = BugStatus.wont_fix\ndesired_state = BugStatus.fix_released\n\nprint('Equality:',\n      actual_state == desired_state,\n      actual_state == BugStatus.wont_fix)\nprint('Identity:',\n      actual_state is desired_state,\n      actual_state is BugStatus.wont_fix)\nprint('Ordered by value:')\ntry:\n    print('\\n'.join('  ' + s.name for s in sorted(BugStatus)))\nexcept TypeError as err:\n    print('  Cannot sort: {}'.format(err))\n</code></pre> <pre><code>Equality: False True\nIdentity: False True\nOrdered by value:\n  Cannot sort: '&lt;' not supported between instances of 'BugStatus' and\n'BugStatus'\n</code></pre> <p>\u82e5\u60f3\u4f7f\u679a\u4e3e\u6210\u5458\u8868\u73b0\u5f97\u66f4\u7c7b\u4f3c\u4e8e\u6570\u5b57 \u2014\u2014 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u8981\u652f\u6301\u5927\u4e8e\u6216\u5c0f\u4e8e\u6bd4\u8f83\uff0c\u5219\u9700\u8981\u4f7f\u7528 IntEnum \u7c7b\u3002</p> <pre><code>import enum\n\nclass BugStatus(enum.IntEnum):\n    new = 7\n    incomplete = 6\n    invalid = 5\n    wont_fix = 4\n    in_progress = 3\n    fix_committed = 2\n    fix_released = 1\n\nprint('Ordered by value:')\nprint('\\n'.join('  ' + s.name for s in sorted(BugStatus)))\n</code></pre> <pre><code>Ordered by value:\n  fix_released\n  fix_committed\n  in_progress\n  wont_fix\n  invalid\n  incomplete\n  new\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.12.enum.html#_3","title":"\u552f\u4e00\u7684\u679a\u4e3e\u503c","text":"<p>\u5177\u6709\u76f8\u540c\u503c\u7684 Enum \u6210\u5458\u4f1a\u88ab\u5f53\u4f5c\u540c\u4e00\u5bf9\u8c61\u7684\u522b\u540d\u5f15\u7528\u8fdb\u884c\u8ddf\u8e2a\u3002\u522b\u540d\u4e0d\u4f1a\u5bfc\u81f4 Enum \u7684\u8fed\u4ee3\u5668\u91cc\u9762\u51fa\u73b0\u91cd\u590d\u503c\u3002</p> <p>Python \u5185\u90e8\u4f1a\u5bf9\u5c0f\u6574\u6570 [-5,257) \u8fdb\u884c\u7f13\u5b58\uff0c\u6240\u6709\u5bf9\u5c0f\u6574\u6570\u7684\u58f0\u660e\u90fd\u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61\u3002\u4f46\u662f\u5728 Enum \u91cc\u9762\u5927\u4e8e 257 \u7684\u91cd\u590d\u6574\u6570\u4e5f\u4f1a\u88ab\u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61\u3002</p> <pre><code>import enum\n\nclass BugStatus(enum.Enum):\n    new = 7\n    incomplete = 6\n    invalid = 5\n    wont_fix = 4\n    in_progress = 3\n    fix_committed = 2\n    fix_released = 1\n\n    by_design = 4\n    closed = 1\n\nfor status in BugStatus:\n    print('{:15} = {}'.format(status.name, status.value))\n\nprint('\\nSame: by_design is wont_fix: ',\n      BugStatus.by_design is BugStatus.wont_fix)\nprint('Same: closed is fix_released: ',\n      BugStatus.closed is BugStatus.fix_released)\n</code></pre> <pre><code>new             = 7\nincomplete      = 6\ninvalid         = 5\nwont_fix        = 4\nin_progress     = 3\nfix_committed   = 2\nfix_released    = 1\n\nSame: by_design is wont_fix:  True\nSame: closed is fix_released:  True\n</code></pre> <p>\u56e0\u4e3a <code>by_design</code> \u548c <code>closed</code> \u662f\u5176\u4ed6\u6210\u5458\u7684\u522b\u540d\uff0c \u5728\u904d\u5386 Enum \u7684\u65f6\u5019\uff0c\u5b83\u4eec\u90fd\u4e0d\u4f1a\u51fa\u73b0\u5728\u8f93\u51fa\u4e2d\u3002\u679a\u4e3e\u6210\u5458\u4e2d\u7b2c\u4e00\u4e2a\u5173\u8054\u5230\u6210\u5458\u503c\u7684\u540d\u79f0\u662f\u89c4\u8303\u540d\u79f0\u3002</p> <p>\u5982\u679c\u60f3\u8981\u679a\u4e3e\u6210\u5458\u53ea\u5305\u542b\u552f\u4e00\u503c\uff0c \u53ef\u4ee5\u5728 Enum \u4e0a\u52a0\u4e0a\u88c5\u9970\u5668 <code>@unique</code>\u3002\u5f53 Enum \u7c7b\u88ab\u89e3\u91ca\u5668\u6267\u884c\u7684\u65f6\u5019\uff0c\u91cd\u590d\u7684\u6210\u5458\u4f1a\u89e6\u53d1\u4e00\u4e2a <code>ValueError</code> \u5f02\u5e38\u3002</p> <pre><code>import enum\n\ntry:\n    @enum.unique\n    class BugStatus(enum.Enum):\n        new = 7\n        incomplete = 6\n        invalid = 5\n        wont_fix = 4\n        in_progress = 3\n        fix_committed = 2\n        fix_released = 1\n\n        # \u8fd9\u91cc\u5c06\u4f1a\u89e6\u53d1\u552f\u4e00\u503c\u9519\u8bef\n        by_design = 4\n        closed = 1\nexcept ValueError as e:\n    print(e)\n</code></pre> <pre><code>duplicate values found in &lt;enum 'BugStatus'&gt;: by_design -&gt; wont_fix,\nclosed -&gt; fix_released\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.12.enum.html#_4","title":"\u52a8\u6001\u521b\u5efa\u679a\u4e3e\u7c7b","text":"<p>\u5728\u67d0\u79cd\u60c5\u51b5\u4e0b\uff0c\u6bd4\u8d77\u4ee5\u7c7b\u5b9a\u4e49\u7684\u65b9\u5f0f\u786c\u7f16\u7801\u679a\u4e3e\uff0c\u7528\u5728\u7f16\u7801\u4e2d\u52a8\u6001\u521b\u5efa\u7684\u679a\u4e3e\u7684\u65b9\u5f0f\u66f4\u52a0\u65b9\u4fbf\u3002\u9488\u5bf9\u8fd9\u79cd\u60c5\u51b5\uff0c Enum \u63d0\u4f9b\u4e86\u5c06\u6210\u5458\u540d\u79f0\u548c\u503c\u4f20\u9012\u5230\u7c7b\u6784\u9020\u5668\u7684\u65b9\u5f0f\u521b\u5efa\u679a\u4e3e\u3002</p> <pre><code>import enum\n\nBugStatus = enum.Enum(\n    value='BugStatus',\n    names=('fix_released fix_committed in_progress '\n           'wont_fix invalid incomplete new'),\n)\n\nprint('Member: {}'.format(BugStatus.new))\n\nprint('\\nAll members:')\nfor status in BugStatus:\n    print('{:15} = {}'.format(status.name, status.value))\n</code></pre> <pre><code>Member: BugStatus.new\n\nAll members:\nfix_released    = 1\nfix_committed   = 2\nin_progress     = 3\nwont_fix        = 4\ninvalid         = 5\nincomplete      = 6\nnew             = 7\n</code></pre> <p>\u4e3a\u4e86\u66f4\u52a0\u65b9\u4fbf\u7684\u63a7\u5236\u679a\u4e3e\u6210\u5458\u7684\u503c\uff0c<code>names</code> \u5b57\u7b26\u4e32\u53ef\u4ee5\u88ab\u66ff\u6362\u6210\u4e8c\u5143\u5143\u7ec4\u7ec4\u6210\u7684\u5e8f\u5217\u6216\u8005\u662f\u7531\u540d\u79f0\u548c\u503c\u7ec4\u6210\u7684\u5b57\u5178\u3002\u8fd9\u6837\u5c31\u4e0d\u9700\u8981\u6309\u987a\u5e8f\u4f20\u5165\u540d\u79f0\u3002</p> <pre><code>import enum\n\nBugStatus = enum.Enum(\n    value='BugStatus',\n    names=[\n        ('new', 7),\n        ('incomplete', 6),\n        ('invalid', 5),\n        ('wont_fix', 4),\n        ('in_progress', 3),\n        ('fix_committed', 2),\n        ('fix_released', 1),\n    ],\n)\n\nprint('All members:')\nfor status in BugStatus:\n    print('{:15} = {}'.format(status.name, status.value))\n</code></pre> <pre><code>All members:\nnew             = 7\nincomplete      = 6\ninvalid         = 5\nwont_fix        = 4\nin_progress     = 3\nfix_committed   = 2\nfix_released    = 1\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.12.enum.html#_5","title":"\u975e\u6574\u6570\u6210\u5458\u503c","text":"<p>\u679a\u4e3e\u6210\u5458\u503c\u5e76\u6ca1\u6709\u9650\u5236\u4e3a\u6574\u6570\u7c7b\u578b\u3002\u5b9e\u9645\u4e0a\uff0c\u679a\u4e3e\u6210\u5458\u53ef\u4ee5\u5173\u8054\u4efb\u4f55\u5bf9\u8c61\u7684\u7c7b\u578b\u3002\u5982\u679c\u503c\u662f\u4e00\u4e2a\u5143\u7ec4\uff0c==\u6210\u5458\u503c\u4f1a\u4f5c\u4e3a\u72ec\u7acb\u7684\u53c2\u6570\u4f20\u9012\u7ed9 <code>__init__()</code> \u51fd\u6570\u3002==\u56e0\u6b64\uff0c\u91cd\u5199 <code>__init__()</code> \u51fd\u6570\u6216 <code>__new__()</code> \u51fd\u6570\u53ef\u4ee5\u4e3a\u6210\u5458\u503c\u6dfb\u52a0\u65b0\u5c5e\u6027\u3002</p> <pre><code>import enum\n\nclass BugStatus(enum.Enum):\n\n    new = (7, ['incomplete',\n               'invalid',\n               'wont_fix',\n               'in_progress'])\n    incomplete = (6, ['new', 'wont_fix'])\n    invalid = (5, ['new'])\n    wont_fix = (4, ['new'])\n    in_progress = (3, ['new', 'fix_committed'])\n    fix_committed = (2, ['in_progress', 'fix_released'])\n    fix_released = (1, ['new'])\n\n    def __init__(self, num, transitions):\n        self.num = num\n        self.transitions = transitions\n\n    def can_transition(self, new_state):\n        return new_state.name in self.transitions\n\nprint('Name:', BugStatus.in_progress)\nprint('Value:', BugStatus.in_progress.value)\nprint('Custom attribute:', BugStatus.in_progress.transitions)\nprint('Using attribute:',\n      BugStatus.in_progress.can_transition(BugStatus.new))\n</code></pre> <pre><code>Name: BugStatus.in_progress\nValue: (3, ['new', 'fix_committed'])\nCustom attribute: ['new', 'fix_committed']\nUsing attribute: True\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c \u6bcf\u4e00\u4e2a\u6210\u5458\u503c\u90fd\u662f\u5305\u542b\u6570\u5b57 ID\uff08\u65b9\u4fbf\u4e8e\u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d\uff09\u548ctransitions\u5217\u8868\u3002</p> <p>\u5bf9\u4e8e\u66f4\u590d\u6742\u7684\u60c5\u51b5\u6765\u8bf4\uff0c\u5143\u7ec4\u53ef\u80fd\u4f1a\u53d8\u5f97\u6bd4\u8f83\u7b28\u62d9\u3002\u7531\u4e8e\u6210\u5458\u503c\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u5b57\u5178\u53ef\u4ee5\u88ab\u7528\u4e8e\u9700\u8981\u8ddf\u8e2a\u6bcf\u4e2a\u679a\u4e3e\u503c\u7684\u72ec\u7acb\u5c5e\u6027\u7684\u60c5\u51b5\u3002\u590d\u6742\u7684\u503c\u4f5c\u4e3a\u9664\u4e86 <code>self</code> \u4e4b\u5916\u552f\u4e00\u7684\u53c2\u6570\u4f20\u9012\u7ed9 <code>__init__()</code></p> <pre><code>import enum\n\nclass BugStatus(enum.Enum):\n\n    new = {\n        'num': 7,\n        'transitions': [\n            'incomplete',\n            'invalid',\n            'wont_fix',\n            'in_progress',\n        ],\n    }\n    incomplete = {\n        'num': 6,\n        'transitions': ['new', 'wont_fix'],\n    }\n    invalid = {\n        'num': 5,\n        'transitions': ['new'],\n    }\n    wont_fix = {\n        'num': 4,\n        'transitions': ['new'],\n    }\n    in_progress = {\n        'num': 3,\n        'transitions': ['new', 'fix_committed'],\n    }\n    fix_committed = {\n        'num': 2,\n        'transitions': ['in_progress', 'fix_released'],\n    }\n    fix_released = {\n        'num': 1,\n        'transitions': ['new'],\n    }\n\n    def __init__(self, vals):\n        self.num = vals['num']\n        self.transitions = vals['transitions']\n\n    def can_transition(self, new_state):\n        return new_state.name in self.transitions\n\nprint('Name:', BugStatus.in_progress)\nprint('Value:', BugStatus.in_progress.value)\nprint('Custom attribute:', BugStatus.in_progress.transitions)\nprint('Using attribute:',\n      BugStatus.in_progress.can_transition(BugStatus.new))\n</code></pre> <pre><code>Name: BugStatus.in_progress\nValue: {'num': 3, 'transitions': ['new', 'fix_committed']}\nCustom attribute: ['new', 'fix_committed']\nUsing attribute: True\n</code></pre> <p>\u91cd\u5199 <code>__new__()</code> \u51fd\u6570\u53ef\u6dfb\u52a0\u5c5e\u6027\u3002</p> <pre><code>class AutoNumber(enum.Enum):\n    def __new__(cls):\n        value = len(cls.__members__) + 1\n        obj = object.__new__(cls)\n        obj.test = value\n        return obj\n\nclass Color(AutoNumber):\n    RED = ()\n    GREEN = ()\n    BLUE = ()\n\nprint(Color.RED.test)\n</code></pre> <pre><code>1\n</code></pre> <p>Note</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <p>$$ \\sum $$</p> <p>$$ \\sum $$</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <p><pre><code>a = 1\n</code></pre> </p> <pre><code>print(\"test\")\n</code></pre> <pre><code>test\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.13.difflib%E2%80%94%E2%80%94%E5%AD%97%E7%AC%A6%E6%AF%94%E8%BE%83.html","title":"6.13.difflib\u2014\u2014\u5b57\u7b26\u6bd4\u8f83","text":"<pre><code>Windows 10\nPython 3.7.7 @ MSC v.1916 64 bit (AMD64)\nLatest build date 2020.08.07\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.13.difflib%E2%80%94%E2%80%94%E5%AD%97%E7%AC%A6%E6%AF%94%E8%BE%83.html#difflib","title":"difflib \u2014 \u5b57\u7b26\u6bd4\u8f83","text":"<p>\u76ee\u6807\uff1a\u5b57\u7b26\u5e8f\u5217\u6bd4\u8f83\uff0c\u7279\u522b\u662f\u6210\u884c\u7684\u6587\u672c\u3002</p> <p><code>difflib</code> \u6a21\u5757\u5305\u542b\u7528\u6765\u8ba1\u7b97\u5b57\u7b26\u5e8f\u5217\u95f4\u4e0d\u540c\u5e76\u8fdb\u884c\u5904\u7406\u7684\u5de5\u5177\u3002\u5b83\u5728\u6bd4\u8f83\u6587\u672c\u65b9\u9762\u5341\u5206\u6709\u6548\uff0c\u540c\u65f6\u8fd8\u5305\u542b\u4e86\u5229\u7528\u82e5\u5e72\u516c\u5171\u5dee\u5f02\u683c\u5f0f\u6765\u751f\u6210\u62a5\u544a\u7684\u51fd\u6570\u3002</p> <pre><code>text1 = \"\"\"Lorem ipsum dolor sit amet, consectetuer adipiscing\nelit. Integer eu lacus accumsan arcu fermentum euismod. Donec\npulvinar porttitor tellus. Aliquam venenatis. Donec facilisis\npharetra tortor.  In nec mauris eget magna consequat\nconvalis. Nam sed sem vitae odio pellentesque interdum. Sed\nconsequat viverra nisl. Suspendisse arcu metus, blandit quis,\nrhoncus ac, pharetra eget, velit. Mauris urna. Morbi nonummy\nmolestie orci. Praesent nisi elit, fringilla ac, suscipit non,\ntristique vel, mauris. Curabitur vel lorem id nisl porta\nadipiscing. Suspendisse eu lectus. In nunc. Duis vulputate\ntristique enim. Donec quis lectus a justo imperdiet tempus.\"\"\"\n\ntext1_lines = text1.splitlines()\n\ntext2 = \"\"\"Lorem ipsum dolor sit amet, consectetuer adipiscing\nelit. Integer eu lacus accumsan arcu fermentum euismod. Donec\npulvinar, porttitor tellus. Aliquam venenatis. Donec facilisis\npharetra tortor. In nec mauris eget magna consequat\nconvalis. Nam cras vitae mi vitae odio pellentesque interdum. Sed\nconsequat viverra nisl. Suspendisse arcu metus, blandit quis,\nrhoncus ac, pharetra eget, velit. Mauris urna. Morbi nonummy\nmolestie orci. Praesent nisi elit, fringilla ac, suscipit non,\ntristique vel, mauris. Curabitur vel lorem id nisl porta\nadipiscing. Duis vulputate tristique enim. Donec quis lectus a\njusto imperdiet tempus.  Suspendisse eu lectus. In nunc.\"\"\"\n\ntext2_lines = text2.splitlines()\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.13.difflib%E2%80%94%E2%80%94%E5%AD%97%E7%AC%A6%E6%AF%94%E8%BE%83.html#_1","title":"\u6bd4\u8f83\u6587\u672c\u4f53","text":"<p><code>Differ</code> \u7c7b\u9002\u7528\u4e8e\u6587\u672c\u884c\u5e8f\u5217\u5e76\u4ea7\u751f\u4eba\u7c7b\u53ef\u8bfb\u7684\u589e\u91cf \uff0c\u6216\u66f4\u6539\u6307\u4ee4\uff0c\u5305\u62ec\u5404\u884c\u5185\u7684\u5dee\u5f02\u3002<code>Differ</code> \u751f\u6210\u7684\u9ed8\u8ba4\u8f93\u51fa\u7c7b\u4f3c\u4e8e Unix \u4e0b\u7684 <code>diff</code> \u547d\u4ee4\u884c\u5de5\u5177\u3002\u5b83\u5305\u62ec\u6765\u81ea\u4e24\u4e2a\u5217\u8868\u7684\u539f\u59cb\u8f93\u5165\u503c\uff08\u5305\u62ec\u516c\u5171\u503c\uff09\u548c\u6807\u8bb0\u6570\u636e\uff0c\u4ee5\u6307\u793a\u8fdb\u884c\u4e86\u54ea\u4e9b\u66f4\u6539\u3002</p> <ul> <li>\u4ee5 <code>-</code> \u4e3a\u524d\u7f00\u7684\u884c\u5728\u7b2c\u4e00\u4e2a\u5e8f\u5217\u4e2d\uff0c\u4f46\u4e0d\u5728\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u4e2d\u3002</li> <li>\u4ee5 <code>+</code> \u4e3a\u524d\u7f00\u7684\u884c\u5728\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u4e2d\uff0c\u4f46\u4e0d\u5728\u7b2c\u4e00\u4e2a\u5e8f\u5217\u4e2d\u3002</li> <li>\u5982\u679c\u67d0\u884c\u5728\u5404\u4e2a\u7248\u672c\u4e4b\u95f4\u5b58\u5728\u589e\u91cf\u5dee\u5f02\uff0c\u5219\u4f7f\u7528\u524d\u7f00\u4e3a <code>?</code> \u7684\u989d\u5916\u884c\u6765\u7a81\u51fa\u663e\u793a\u65b0\u7248\u672c\u4e2d\u7684\u66f4\u6539\u3002</li> <li>\u5982\u679c\u4e00\u884c\u5728\u5404\u7248\u672c\u95f4\u6ca1\u6709\u5dee\u5f02\uff0c\u524d\u7f00\u5219\u4e3a\u4e00\u4e2a\u7a7a\u683c\uff0c\u4f7f\u5176\u4e0e\u5b58\u5728\u5dee\u5f02\u7684\u884c\u5bf9\u9f50\u3002</li> </ul> <p>\u5728\u5c06\u6587\u672c\u4f20\u9012\u7ed9 <code>compare()</code> \u4e4b\u524d\uff0c\u5c06\u6587\u672c\u5206\u89e3\u4e3a\u4e00\u7cfb\u5217\u5355\u72ec\u7684\u884c\u4f1a\u751f\u6210\u6bd4\u4f20\u5165\u5927\u5b57\u7b26\u4e32\u66f4\u53ef\u8bfb\u7684\u8f93\u51fa\u3002</p> <pre><code>import difflib\n\nd = difflib.Differ()\ndiff = d.compare(text1_lines, text2_lines)\nprint('\\n'.join(diff))\n</code></pre> <pre><code>  Lorem ipsum dolor sit amet, consectetuer adipiscing\n  elit. Integer eu lacus accumsan arcu fermentum euismod. Donec\n- pulvinar porttitor tellus. Aliquam venenatis. Donec facilisis\n+ pulvinar, porttitor tellus. Aliquam venenatis. Donec facilisis\n?         +\n\n- pharetra tortor.  In nec mauris eget magna consequat\n?                 -\n\n+ pharetra tortor. In nec mauris eget magna consequat\n- convalis. Nam sed sem vitae odio pellentesque interdum. Sed\n?                 - --\n\n+ convalis. Nam cras vitae mi vitae odio pellentesque interdum. Sed\n?               +++ +++++   +\n\n  consequat viverra nisl. Suspendisse arcu metus, blandit quis,\n  rhoncus ac, pharetra eget, velit. Mauris urna. Morbi nonummy\n  molestie orci. Praesent nisi elit, fringilla ac, suscipit non,\n  tristique vel, mauris. Curabitur vel lorem id nisl porta\n- adipiscing. Suspendisse eu lectus. In nunc. Duis vulputate\n- tristique enim. Donec quis lectus a justo imperdiet tempus.\n+ adipiscing. Duis vulputate tristique enim. Donec quis lectus a\n+ justo imperdiet tempus.  Suspendisse eu lectus. In nunc.\n</code></pre> <p>\u6837\u672c\u6570\u636e\u4e2d\u4e24\u4e2a\u6587\u672c\u6bb5\u7684\u5f00\u5934\u662f\u76f8\u540c\u7684\uff0c\u56e0\u6b64\u7b2c\u4e00\u884c\u6253\u5370\u65f6\u6ca1\u6709\u4efb\u4f55\u989d\u5916\u7684\u6ce8\u91ca\u3002</p> <pre><code>  Lorem ipsum dolor sit amet, consectetuer adipiscing\n  elit. Integer eu lacus accumsan arcu fermentum euismod. Donec\n</code></pre> <p>\u6570\u636e\u7684\u7b2c\u4e09\u884c\u5df2\u66f4\u6539\u4e3a\u5728\u4fee\u6539\u540e\u5305\u542b\u9017\u53f7\u7684\u6587\u672c\u3002 \u8be5\u884c\u7684\u4e24\u4e2a\u7248\u672c\u90fd\u6253\u5370\u51fa\u6765\uff0c\u7b2c 5 \u884c\u7684\u989d\u5916\u4fe1\u606f\u663e\u793a\u4e86\u4fee\u6539\u6587\u672c\u7684\u5217\uff0c\u5305\u62ec\u6dfb\u52a0\u4e86 <code>\uff0c</code> \u5b57\u7b26\u7684\u4e8b\u5b9e\u3002</p> <pre><code>- pulvinar porttitor tellus. Aliquam venenatis. Donec facilisis\n+ pulvinar, porttitor tellus. Aliquam venenatis. Donec facilisis\n?         +\n</code></pre> <p>\u8f93\u51fa\u7684\u4e0b\u51e0\u884c\u663e\u793a\u5220\u9664\u4e86\u989d\u5916\u7684\u7a7a\u95f4\u3002</p> <pre><code>- pharetra tortor.  In nec mauris eget magna consequat\n?                 -\n\n+ pharetra tortor. In nec mauris eget magna consequat\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u8fdb\u884c\u4e86\u66f4\u590d\u6742\u7684\u66f4\u6539\uff0c\u66ff\u6362\u4e86\u77ed\u8bed\u4e2d\u7684\u591a\u4e2a\u5355\u8bcd\u3002</p> <pre><code>- convalis. Nam sed sem vitae odio pellentesque interdum. Sed\n?                 - --\n\n+ convalis. Nam cras vitae mi vitae odio pellentesque interdum. Sed\n?               +++ +++++   +\n</code></pre> <p>\u6bb5\u843d\u4e2d\u7684\u6700\u540e\u4e00\u53e5\u88ab\u663e\u8457\u66f4\u6539\uff0c\u56e0\u6b64\u901a\u8fc7\u5220\u9664\u65e7\u7248\u672c\u5e76\u6dfb\u52a0\u65b0\u7248\u672c\u6765\u8868\u793a\u5dee\u5f02\u3002</p> <pre><code>  consequat viverra nisl. Suspendisse arcu metus, blandit quis,\n  rhoncus ac, pharetra eget, velit. Mauris urna. Morbi nonummy\n  molestie orci. Praesent nisi elit, fringilla ac, suscipit non,\n  tristique vel, mauris. Curabitur vel lorem id nisl porta\n- adipiscing. Suspendisse eu lectus. In nunc. Duis vulputate\n- tristique enim. Donec quis lectus a justo imperdiet tempus.\n+ adipiscing. Duis vulputate tristique enim. Donec quis lectus a\n+ justo imperdiet tempus.  Suspendisse eu lectus. In nunc.\n</code></pre> <p>\u5982\u679c\u6587\u672c\u6ca1\u6709\u88ab\u62c6\u5206\u4e3a\u5355\u72ec\u7684\u884c\uff0c\u5219\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a</p> <pre><code>diff = d.compare(\"abc\", \"cba\")\nprint('\\n'.join(diff))\n</code></pre> <pre><code>+ c\n+ b\n  a\n- b\n- c\n</code></pre> <p><code>ndiff()</code> \u51fd\u6570\u4ea7\u751f\u57fa\u672c\u76f8\u540c\u7684\u8f93\u51fa\u3002\u8be5\u5904\u7406\u4e13\u95e8\u7528\u4e8e\u5904\u7406\u6587\u672c\u6570\u636e\u5e76\u6d88\u9664\u8f93\u5165\u4e2d\u7684 \u201c\u566a\u58f0\u201d\u3002</p> <pre><code>diff = difflib.ndiff(text1_lines, text2_lines)\nprint('\\n'.join(diff))\n</code></pre> <pre><code>  Lorem ipsum dolor sit amet, consectetuer adipiscing\n  elit. Integer eu lacus accumsan arcu fermentum euismod. Donec\n- pulvinar porttitor tellus. Aliquam venenatis. Donec facilisis\n+ pulvinar, porttitor tellus. Aliquam venenatis. Donec facilisis\n?         +\n\n- pharetra tortor.  In nec mauris eget magna consequat\n?                  -\n\n+ pharetra tortor. In nec mauris eget magna consequat\n- convalis. Nam sed sem vitae odio pellentesque interdum. Sed\n?                ------\n\n+ convalis. Nam cras vitae mi vitae odio pellentesque interdum. Sed\n?               +++        +++++++++\n\n  consequat viverra nisl. Suspendisse arcu metus, blandit quis,\n  rhoncus ac, pharetra eget, velit. Mauris urna. Morbi nonummy\n  molestie orci. Praesent nisi elit, fringilla ac, suscipit non,\n  tristique vel, mauris. Curabitur vel lorem id nisl porta\n- adipiscing. Suspendisse eu lectus. In nunc. Duis vulputate\n- tristique enim. Donec quis lectus a justo imperdiet tempus.\n+ adipiscing. Duis vulputate tristique enim. Donec quis lectus a\n+ justo imperdiet tempus.  Suspendisse eu lectus. In nunc.\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.13.difflib%E2%80%94%E2%80%94%E5%AD%97%E7%AC%A6%E6%AF%94%E8%BE%83.html#_2","title":"\u5176\u4ed6\u8f93\u51fa\u683c\u5f0f","text":"<p>\u867d\u7136 <code>Differ</code> \u7c7b\u5c55\u793a\u4e86\u6240\u6709\u7684\u8f93\u5165\u884c\uff0cunified diff \u4ec5\u5305\u62ec\u4fee\u6539\u8fc7\u7684\u884c\u548c\u4e00\u4e9b\u4e0a\u4e0b\u6587\u3002<code>unified_diff()</code> \u51fd\u6570\u4ea7\u751f\u8fd9\u79cd\u8f93\u51fa\u3002</p> <pre><code>import difflib\n\ndiff = difflib.unified_diff(text1_lines, text2_lines, n=0, lineterm='')\nprint('\\n'.join(diff))\n</code></pre> <pre><code>---\n+++\n@@ -3,3 +3,3 @@\n-pulvinar porttitor tellus. Aliquam venenatis. Donec facilisis\n-pharetra tortor.  In nec mauris eget magna consequat\n-convalis. Nam sed sem vitae odio pellentesque interdum. Sed\n+pulvinar, porttitor tellus. Aliquam venenatis. Donec facilisis\n+pharetra tortor. In nec mauris eget magna consequat\n+convalis. Nam cras vitae mi vitae odio pellentesque interdum. Sed\n@@ -10,2 +10,2 @@\n-adipiscing. Suspendisse eu lectus. In nunc. Duis vulputate\n-tristique enim. Donec quis lectus a justo imperdiet tempus.\n+adipiscing. Duis vulputate tristique enim. Donec quis lectus a\n+justo imperdiet tempus.  Suspendisse eu lectus. In nunc.\n</code></pre> <p>\u4f7f\u7528 <code>context_diff()</code> \u4ea7\u751f\u7c7b\u4f3c\u7684\u53ef\u8bfb\u8f93\u51fa\u3002</p> <pre><code>diff = difflib.context_diff(text1_lines, text2_lines, n=0, lineterm='')\nprint('\\n'.join(diff))\n</code></pre> <pre><code>***\n---\n***************\n*** 3,5 ****\n! pulvinar porttitor tellus. Aliquam venenatis. Donec facilisis\n! pharetra tortor.  In nec mauris eget magna consequat\n! convalis. Nam sed sem vitae odio pellentesque interdum. Sed\n--- 3,5 ----\n! pulvinar, porttitor tellus. Aliquam venenatis. Donec facilisis\n! pharetra tortor. In nec mauris eget magna consequat\n! convalis. Nam cras vitae mi vitae odio pellentesque interdum. Sed\n***************\n*** 10,11 ****\n! adipiscing. Suspendisse eu lectus. In nunc. Duis vulputate\n! tristique enim. Donec quis lectus a justo imperdiet tempus.\n--- 10,11 ----\n! adipiscing. Duis vulputate tristique enim. Donec quis lectus a\n! justo imperdiet tempus.  Suspendisse eu lectus. In nunc.\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.13.difflib%E2%80%94%E2%80%94%E5%AD%97%E7%AC%A6%E6%AF%94%E8%BE%83.html#_3","title":"\u5783\u573e\u6570\u636e","text":"<p>\u751f\u6210\u5dee\u5f02\u5e8f\u5217\u7684\u6240\u6709\u51fd\u6570\u90fd\u63a5\u53d7\u53c2\u6570\uff0c\u4ee5\u6307\u793a\u5e94\u5ffd\u7565\u54ea\u4e9b\u884c\u4ee5\u53ca\u5e94\u5ffd\u7565\u884c\u4e2d\u7684\u54ea\u4e9b\u5b57\u7b26\u3002\u4f8b\u5982\uff0c\u8fd9\u4e9b\u53c2\u6570\u53ef\u7528\u4e8e\u8df3\u8fc7\u4e00\u4e2a\u6587\u4ef6\u7684\u4e24\u4e2a\u7248\u672c\u4e2d\u7684\u6807\u8bb0\u6216\u7a7a\u767d\u53d8\u5316\u3002</p> <pre><code># \u8fd9\u4e2a\u4f8b\u5b50\u6539\u7f16\u81ea difflib.py \u6e90\u7801\u3002\n\nfrom difflib import SequenceMatcher\n\ndef show_results(match):\n    print('  a    = {}'.format(match.a))\n    print('  b    = {}'.format(match.b))\n    print('  size = {}'.format(match.size))\n    i, j, k = match\n    print('  A[a:a+size] = {!r}'.format(A[i:i + k]))\n    print('  B[b:b+size] = {!r}'.format(B[j:j + k]))\n\nA = \" abcd\"\nB = \"abcd abcd\"\n\nprint('A = {!r}'.format(A))\nprint('B = {!r}'.format(B))\n\nprint('\\nWithout junk detection:')\ns1 = SequenceMatcher(None, A, B)\nmatch1 = s1.find_longest_match(0, len(A), 0, len(B))\nshow_results(match1)\n\nprint('\\nTreat spaces as junk:')\ns2 = SequenceMatcher(lambda x: x == \" \", A, B)\nmatch2 = s2.find_longest_match(0, len(A), 0, len(B))\nshow_results(match2)\n</code></pre> <pre><code>A = ' abcd'\nB = 'abcd abcd'\n\nWithout junk detection:\n  a    = 0\n  b    = 4\n  size = 5\n  A[a:a+size] = ' abcd'\n  B[b:b+size] = ' abcd'\n\nTreat spaces as junk:\n  a    = 1\n  b    = 0\n  size = 4\n  A[a:a+size] = 'abcd'\n  B[b:b+size] = 'abcd'\n</code></pre> <p><code>Differ</code> \u7684\u9ed8\u8ba4\u8bbe\u7f6e\u662f\u4e0d\u8981\u5ffd\u7565\u4efb\u4f55\u884c\u6216\u660e\u786e\u7684\u5b57\u7b26\uff0c\u800c\u662f\u4f9d\u8d56\u4e8e <code>SequenceMatcher</code> \u68c0\u6d4b\u566a\u58f0\u7684\u80fd\u529b\u3002<code>ndiff()</code> \u9ed8\u8ba4\u5ffd\u7565\u7a7a\u767d\u7b26\u548c\u5236\u8868\u7b26\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.13.difflib%E2%80%94%E2%80%94%E5%AD%97%E7%AC%A6%E6%AF%94%E8%BE%83.html#_4","title":"\u6bd4\u8f83\u4efb\u610f\u7c7b\u578b","text":"<p><code>SequenceMatcher</code> \u7c7b\u6bd4\u8f83\u4efb\u610f\u7c7b\u578b\u7684\u4e24\u4e2a\u5e8f\u5217\uff0c\u53ea\u8981\u503c\u662f\u53ef\u6563\u5217\u7684\u3002 \u5b83\u4f7f\u7528\u4e00\u79cd\u7b97\u6cd5\u6765\u8bc6\u522b\u5e8f\u5217\u4e2d\u6700\u957f\u7684\u8fde\u7eed\u5339\u914d\u5757\uff0c\u6d88\u9664\u4e86\u5bf9\u771f\u5b9e\u6570\u636e\u6ca1\u7528\u7684 \u201c\u5783\u573e\u201d \u503c\u3002</p> <p>\u51fd\u6570 <code>get_opcodes()</code> \u8fd4\u56de\u4e00\u4e2a\u6307\u4ee4\u5217\u8868\uff0c\u7528\u4e8e\u4fee\u6539\u7b2c\u4e00\u4e2a\u5e8f\u5217\u4ee5\u4f7f\u5176\u4e0e\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u5339\u914d\u3002\u6307\u4ee4\u88ab\u7f16\u7801\u4e3a\u4e94\u5143\u7d20\u5143\u7ec4\uff0c\u5305\u62ec\u4e00\u4e2a\u5b57\u7b26\u4e32\u6307\u4ee4\uff08\u300c\u64cd\u4f5c\u7801\u300d\uff0c\u89c1\u4e0b\u8868\uff09\u548c\u4e24\u5bf9\u5f00\u59cb\u548c\u505c\u6b62\u7d22\u5f15\u5230\u5e8f\u5217\u4e2d\uff08\u8868\u793a\u4e3a <code>i1</code>\uff0c<code>i2</code>\uff0c<code>j1</code>\uff0c\u548c <code>j2</code>\uff09\u3002</p> \u64cd\u4f5c\u7801 \u5b9a\u4e49 <code>'replace'</code> \u5c06 <code>a[i1:i2]</code> \u66ff\u6362\u4e3a <code>b[j1:j2]</code> <code>'delete'</code> \u5b8c\u5168\u79fb\u9664 <code>a[i1:i2]</code> <code>'insert'</code> \u5c06 <code>b[j1:j2]</code> \u63d2\u5165\u5230 <code>a[i1:i1]</code> <code>'equal'</code> \u5b50\u5e8f\u5217\u5b8c\u5168\u76f8\u7b49 <pre><code>import difflib\n\ns1 = [1, 2, 3, 5, 6, 4]\ns2 = [2, 3, 5, 4, 6, 1]\n\nprint('Initial data:')\nprint('s1 =', s1)\nprint('s2 =', s2)\nprint('s1 == s2:', s1 == s2)\nprint()\n\nmatcher = difflib.SequenceMatcher(None, s1, s2)\nfor tag, i1, i2, j1, j2 in reversed(matcher.get_opcodes()):\n\n    if tag == 'delete':\n        print('Remove {} from positions [{}:{}]'.format(\n            s1[i1:i2], i1, i2))\n        print('  before =', s1)\n        del s1[i1:i2]\n\n    elif tag == 'equal':\n        print('s1[{}:{}] and s2[{}:{}] are the same'.format(\n            i1, i2, j1, j2))\n\n    elif tag == 'insert':\n        print('Insert {} from s2[{}:{}] into s1 at {}'.format(\n            s2[j1:j2], j1, j2, i1))\n        print('  before =', s1)\n        s1[i1:i2] = s2[j1:j2]\n\n    elif tag == 'replace':\n        print(('Replace {} from s1[{}:{}] '\n               'with {} from s2[{}:{}]').format(\n                   s1[i1:i2], i1, i2, s2[j1:j2], j1, j2))\n        print('  before =', s1)\n        s1[i1:i2] = s2[j1:j2]\n\n    print('   after =', s1, '\\n')\n\nprint('s1 == s2:', s1 == s2)\n</code></pre> <pre><code>Initial data:\ns1 = [1, 2, 3, 5, 6, 4]\ns2 = [2, 3, 5, 4, 6, 1]\ns1 == s2: False\n\nReplace [4] from s1[5:6] with [1] from s2[5:6]\n  before = [1, 2, 3, 5, 6, 4]\n   after = [1, 2, 3, 5, 6, 1]\n\ns1[4:5] and s2[4:5] are the same\n   after = [1, 2, 3, 5, 6, 1]\n\nInsert [4] from s2[3:4] into s1 at 4\n  before = [1, 2, 3, 5, 6, 1]\n   after = [1, 2, 3, 5, 4, 6, 1]\n\ns1[1:4] and s2[0:3] are the same\n   after = [1, 2, 3, 5, 4, 6, 1]\n\nRemove [1] from positions [0:1]\n  before = [1, 2, 3, 5, 4, 6, 1]\n   after = [2, 3, 5, 4, 6, 1]\n\ns1 == s2: True\n</code></pre> <p>\u6b64\u793a\u4f8b\u6bd4\u8f83\u4e24\u4e2a\u6574\u6570\u5217\u8868\uff0c\u5e76\u4f7f\u7528 <code>get_opcodes()</code> \u6d3e\u751f\u5c06\u539f\u59cb\u5217\u8868\u8f6c\u6362\u4e3a\u8f83\u65b0\u7248\u672c\u7684\u6307\u4ee4\u3002\u4ee5\u76f8\u53cd\u7684\u987a\u5e8f\u4fee\u6539\uff0c\u4ee5\u4fbf\u5728\u6dfb\u52a0\u548c\u5220\u9664\u9879\u76ee\u540e\u5217\u8868\u7d22\u5f15\u4fdd\u6301\u51c6\u786e\u3002</p> <p><code>SequenceMatcher</code> \u9002\u7528\u4e8e\u81ea\u5b9a\u4e49\u7c7b\u4ee5\u53ca\u5185\u7f6e\u7c7b\u578b\uff0c\u53ea\u8981\u5b83\u4eec\u662f\u53ef\u6563\u5217\u7684\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html","title":"6.14.logging","text":"<pre><code>from toolkit import H\nimport logging\n</code></pre> <pre><code>Windows 10\nPython 3.7.7 @ MSC v.1916 64 bit (AMD64)\nLatest build date 2020.08.14\nlogging version:  0.5.1.2\n</code></pre> <pre><code>h = H(logging)\nd = h.dicts\n</code></pre> <pre><code>module\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#_1","title":"\u5e38\u91cf","text":"<pre><code>sort_func = lambda k: eval(f\"logging.{k}\") \\\n    if (isinstance(eval(f\"logging.{k}\"), int) and eval(f\"logging.{k}\") != 1) \\\n    else 100\n\nd[\"attr\"].sort(key=sort_func)\n\nprint(\"{0:&lt;20} {1}\\n\".format(\"field\", \"value\"))\nfor constant in d[\"attr\"]:\n    value = eval(f\"logging.{constant}\")\n    print(\"{0:&lt;20}:{1}\".format(constant, value))\n</code></pre> <pre><code>field                value\n\nNOTSET              :0\nDEBUG               :10\nINFO                :20\nWARN                :30\nWARNING             :30\nERROR               :40\nCRITICAL            :50\nFATAL               :50\nBASIC_FORMAT        :%(levelname)s:%(name)s:%(message)s\nlastResort          :&lt;_StderrHandler stderr (WARNING)&gt;\nlogMultiprocessing  :True\nlogProcesses        :True\nlogThreads          :True\nraiseExceptions     :True\nroot                :&lt;RootLogger root (WARNING)&gt;\n</code></pre> <p>\u65e5\u5fd7\u7ea7\u522b\u8d8a\u9ad8\u6253\u5370\u7684\u65e5\u5fd7\u8d8a\u5c11\uff0c\u9ed8\u8ba4\u7684\u7ea7\u522b\u662f<code>WARNING</code>\uff0c\u610f\u5473\u7740\u53ea\u4f1a\u8ffd\u8e2a\u8be5\u7ea7\u522b\u53ca\u4ee5\u4e0a\u7684\u4e8b\u4ef6\u3002<code>notset</code>\u7b49\u540c\u4e8e<code>debug</code>\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#_2","title":"\u8bb0\u5f55\u65e5\u5fd7\u7684\u6a21\u5757\u51fd\u6570","text":"<p>Logging \u6a21\u5757\u63d0\u4f9b\u4e86\u4e24\u79cd\u65e5\u5fd7\u8bb0\u5f55\u65b9\u5f0f\uff1a</p> <ul> <li>\u4f7f\u7528 Logging \u63d0\u4f9b\u7684\u6a21\u5757\u7ea7\u522b\u7684\u51fd\u6570</li> <li>\u4f7f\u7528 Logging \u65e5\u5fd7\u7cfb\u7edf\u7684\u56db\u5927\u7ec4\u4ef6</li> </ul> <pre><code>logging.debug('Python debug')\nlogging.debug('Python debug')\nlogging.info('Python info')\n# logging.warn is deprecated\nlogging.warning('Python warning')\nlogging.error('Python Error')\nlogging.critical('Python critical')\nlogging.fatal('Python fatal')\nlogging.log(logging.WARNING, \"log function\")\ntry:\n    1/0\nexcept Exception as e:\n    logging.exception(e)\n</code></pre> <p>\u65e5\u5fd7\u8f93\u51fa\u7ed3\u679c\uff1a</p> <pre><code>WARNING:root:Python warning\nERROR:root:Python Error\nCRITICAL:root:Python critical\nCRITICAL:root:Python fatal\nWARNING:root:log function\nERROR:root:division by zero\nTraceback (most recent call last):\n  File \"&lt;ipython-input-16-d24461d1cf55&gt;\", line 11, in &lt;module&gt;\n    1/0\nZeroDivisionError: division by zero\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#_3","title":"\u8bbe\u7f6e\u65e5\u5fd7\u663e\u793a\u7ea7\u522b","text":"<p>\u901a\u8fc7 <code>logging.basicConfig()</code> \u53ef\u4ee5\u8bbe\u7f6e root \u7684\u65e5\u5fd7\u7ea7\u522b\u548c\u65e5\u5fd7\u8f93\u51fa\u683c\u5f0f\u3002</p> <p>logging.basicConfig() \u5173\u952e\u5b57\u53c2\u6570\uff1a</p> <p>\u6ce8\u610f\uff1a<code>logging.basicConfig()</code>\u9700\u8981\u5728\u5f00\u5934\u5c31\u8bbe\u7f6e\uff0c\u5728\u4e2d\u95f4\u8bbe\u7f6e\u5e76\u65e0\u4f5c\u7528</p> \u5173\u952e\u5b57 \u63cf\u8ff0 filename \u521b\u5efa\u4e00\u4e2a FileHandler\uff0c\u4f7f\u7528\u6307\u5b9a\u7684\u6587\u4ef6\u540d\uff0c\u800c\u4e0d\u662f\u4f7f\u7528 StreamHandler\u3002 filemode \u5982\u679c\u6307\u660e\u4e86\u6587\u4ef6\u540d\uff0c\u6307\u660e\u6253\u5f00\u6587\u4ef6\u7684\u6a21\u5f0f\uff08\u5982\u679c\u6ca1\u6709\u6307\u660e filemode\uff0c\u9ed8\u8ba4\u4e3a \u2018a\u2019\uff09\u3002 format handler \u4f7f\u7528\u6307\u660e\u7684\u683c\u5f0f\u5316\u5b57\u7b26\u4e32\u3002 datefmt handler \u4f7f\u7528\u6307\u660e\u7684\u683c\u5f0f\u5316\u5b57\u7b26\u4e32\u3002 level \u6307\u660e\u6839 logger \u7684\u7ea7\u522b\u3002 stream \u4f7f\u7528\u6307\u660e\u7684\u6d41\u6765\u521d\u59cb\u5316 StreamHandler\u3002\u8be5\u53c2\u6570\u4e0e \u2018filename\u2019 \u4e0d\u517c\u5bb9\uff0c\u5982\u679c\u4e24\u4e2a\u90fd\u6709\uff0c\u2019stream\u2019 \u88ab\u5ffd\u7565\u3002 <p>format \u683c\u5f0f</p> \u683c\u5f0f \u63cf\u8ff0 %(levelno)s \u6253\u5370\u65e5\u5fd7\u7ea7\u522b\u7684\u6570\u503c %(levelname)s \u6253\u5370\u65e5\u5fd7\u7ea7\u522b\u540d\u79f0 %(pathname)s \u6253\u5370\u5f53\u524d\u6267\u884c\u7a0b\u5e8f\u7684\u8def\u5f84 %(filename)s \u6253\u5370\u5f53\u524d\u6267\u884c\u7a0b\u5e8f\u540d\u79f0 %(funcName)s \u6253\u5370\u65e5\u5fd7\u7684\u5f53\u524d\u51fd\u6570 %(lineno)d \u6253\u5370\u65e5\u5fd7\u7684\u5f53\u524d\u884c\u53f7 %(asctime)s \u6253\u5370\u65e5\u5fd7\u7684\u65f6\u95f4 %(thread)d \u6253\u5370\u7ebf\u7a0b ID %(threadName)s \u6253\u5370\u7ebf\u7a0b\u540d\u79f0 %(process)d \u6253\u5370\u8fdb\u7a0b ID %(message)s \u6253\u5370\u65e5\u5fd7\u4fe1\u606f <pre><code>import logging\n\n#\u3000\u6253\u5370\u65e5\u5fd7\u7ea7\u522b\ndef test():\n    logging.basicConfig(level=logging.DEBUG)\n    logging.debug('Python debug')\n    logging.info('Python info')\n    logging.warning('Python warning')\n    logging.error('Python Error')\n    logging.critical('Python critical')\n    logging.log(2, 'test')\ntest()\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>DEBUG:root:Python debug\nINFO:root:Python info\nWARNING:root:Python warning\nERROR:root:Python Error\nCRITICAL:root:Python critical\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#_4","title":"\u5c06\u65e5\u5fd7\u4fe1\u606f\u8bb0\u5f55\u5230\u6587\u4ef6","text":"<pre><code># \u65e5\u5fd7\u4fe1\u606f\u8bb0\u5f55\u5230\u6587\u4ef6\nlogging.basicConfig(filename='example.log', level=logging.DEBUG)\nlogging.debug('This message should go to the log file')\nlogging.info('So should this')\nlogging.warning('And this, too')\n</code></pre> <p>\u5728\u76f8\u5e94\u7684\u8def\u5f84\u4e0b\u4f1a\u6709 example.log \u65e5\u5fd7\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>DEBUG:root:This message should go to the log file\nINFO:root:So should this\nWARNING:root:And this, too\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#_5","title":"\u591a\u4e2a\u6a21\u5757\u8bb0\u5f55\u65e5\u5fd7\u4fe1\u606f","text":"<p>\u5982\u679c\u7a0b\u5e8f\u5305\u542b\u591a\u4e2a\u6a21\u5757\uff0c\u5219\u7528\u4ee5\u4e0b\u5b9e\u4f8b\u6765\u663e\u793a\u65e5\u5fd7\u4fe1\u606f\uff1a \u5b9e\u4f8b\u4e2d\u6709\u4e24\u4e2a\u6a21\u5757\uff0c\u4e00\u4e2a\u6a21\u5757\u901a\u8fc7\u5bfc\u5165\u53e6\u4e00\u4e2a\u6a21\u5757\u7684\u65b9\u5f0f\u7528\u65e5\u5fd7\u663e\u793a\u53e6\u4e00\u4e2a\u6a21\u5757\u7684\u4fe1\u606f\uff1a</p> <p>myapp.py \u6a21\u5757</p> <pre><code>import logging\nimport mylib\ndef main():\n    logging.basicConfig(filename='myapp.log',level=logging.DEBUG)\n    logging.info('Started')\n    mylib.do_something()\n    logging.info('Finished')\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>mylib.py \u6a21\u5757</p> <pre><code>import logging\n\ndef do_something():\n    logging.info('Doing something')\n</code></pre> <p>\u6267\u884c myapp.py \u6a21\u5757\u4f1a\u6253\u5370\u76f8\u5e94\u65e5\u5fd7\uff0c\u5728\u6587\u4ef6 myapp.log \u4e2d\u663e\u793a\u4fe1\u606f\u5982\u4e0b\uff1a</p> <pre><code>INFO:root:Started\nINFO:root:Doing something\nINFO:root:Finishe\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#logging","title":"logging \u6a21\u5757\u56db\u5927\u7ec4\u4ef6","text":"\u7ec4\u4ef6\u540d\u79f0 \u5bf9\u5e94\u7c7b\u540d \u529f\u80fd\u63cf\u8ff0 \u65e5\u5fd7\u5668 Logger \u66b4\u9732\u51fd\u6570\u7ed9\u5e94\u7528\u7a0b\u5e8f\uff0c\u57fa\u4e8e\u65e5\u5fd7\u8bb0\u5f55\u5668\u548c\u8fc7\u6ee4\u5668\u7ea7\u522b\u51b3\u5b9a\u54ea\u4e9b\u65e5\u5fd7\u6709\u6548 \u5904\u7406\u5668 Handler \u5c06 logger \u521b\u5efa\u7684\u65e5\u5fd7\u8bb0\u5f55\u53d1\u9001\u5230\u5408\u9002\u7684\u76ee\u7684\u8f93\u51fa \u8fc7\u6ee4\u5668 Filter \u63d0\u4f9b\u4e86\u66f4\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236\u5de5\u5177\u6765\u51b3\u5b9a\u8f93\u51fa\u54ea\u6761\u65e5\u5fd7\u8bb0\u5f55\uff0c\u4e22\u5f03\u54ea\u6761\u65e5\u5fd7\u8bb0\u5f55 \u683c\u5f0f\u5668 Formatter \u51b3\u5b9a\u65e5\u5fd7\u8bb0\u5f55\u7684\u6700\u7ec8\u8f93\u51fa\u683c\u5f0f"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#-logger","title":"\u65e5\u5fd7\u5668 - Logger","text":"<p>Logger \u6301\u6709\u65e5\u5fd7\u8bb0\u5f55\u5668\u7684\u65b9\u6cd5\uff0c\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u901a\u8fc7Logger\u5bf9\u8c61\u8c03\u7528\u65e5\u5fd7\u63a5\u53e3\uff0c\u65e5\u5fd7\u8bb0\u5f55\u5668\u4e0d\u76f4\u63a5\u5b9e\u4f8b\u5316\uff0c\u800c\u662f\u901a\u8fc7\u6a21\u5757\u7ea7\u51fd\u6570<code>logging.getLogger(name)</code> \u6765\u5b9e\u4f8b\u5316\u3002</p> <pre><code>logger = logging.getLogger(logger_name)\n</code></pre> <p><code>getLogger()</code> \u51fd\u6570\u6700\u597d\u52a0\u4e0a\u65e5\u5fd7\u6240\u8bb0\u5f55\u7684\u6a21\u5757\u7684\u540d\u5b57\uff0c\u914d\u7f6e\u6587\u4ef6\u548c\u6253\u5370\u65e5\u5fd7\u683c\u5f0f\u4e2d\u7684<code>%(name)s</code>\u5bf9\u5e94\u7684\u662f\u8fd9\u91cc\u7684\u6a21\u5757\u540d\u5b57\uff0c\u5982\u679c\u4e0d\u6307\u5b9aname\u5219\u8fd4\u56deroot\u5bf9\u8c61\u3002</p> <p>\u4f7f\u7528\u76f8\u540c\u7684\u540d\u79f0\u591a\u6b21\u8c03\u7528 <code>getLogger()</code> \u603b\u662f\u4f1a\u8fd4\u56de\u5bf9\u76f8\u540c Logger \u5bf9\u8c61\u7684\u5f15\u7528\u3002</p> <p>Logger\u6700\u5e38\u7528\u7684\u64cd\u4f5c\u6709\u4e24\u7c7b\uff1a\u914d\u7f6e\u548c\u53d1\u9001\u65e5\u5fd7\u6d88\u606f\u3002</p> <pre><code>logger = logging.getLogger(__name__)\n# \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b\nlogger.setLevel(logging.DEBUG)\n# \u4e3a Logger \u5b9e\u4f8b\u589e\u52a0\u4e00\u4e2a\u5904\u7406\u5668\nlogger.addHandler(handler_name)\n# \u4e3a Logger \u5b9e\u4f8b\u5220\u9664\u4e00\u4e2a\u5904\u7406\u5668\nlogger.removeHandler(handler_name)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#-handler","title":"\u5904\u7406\u5668 - Handler","text":"<p>Handler \u5904\u7406\u5668\u7c7b\u578b\u6709\u5f88\u591a\u79cd\uff0c\u6bd4\u8f83\u5e38\u7528\u7684\u6709\u4e09\u4e2a</p> <ol> <li><code>StreamHandler</code></li> <li><code>FileHandler</code></li> <li><code>NullHandler</code></li> </ol>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#streamhandler","title":"StreamHandler","text":"<p>\u521b\u5efa<code>StreamHandler</code>\u4e4b\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b\uff0c\u8bbe\u7f6e\u683c\u5f0f\u5316\u5668<code>Formatter</code>\uff0c\u589e\u52a0\u6216\u5220\u9664\u8fc7\u6ee4\u5668<code>Filter</code>\uff1a</p> <pre><code># \u521b\u5efa StreamHandler \u5b9e\u4f8b\nsh = logging.StreamHandler(stream=None)\n# \u6307\u5b9a\u65e5\u5fd7\u7ea7\u522b\uff0c\u4f4e\u4e8eWARN\u7ea7\u522b\u7684\u65e5\u5fd7\u5c06\u88ab\u5ffd\u7565\nsh.setLevel(logging.WARN)\n# \u8bbe\u7f6e\u4e00\u4e2a\u683c\u5f0f\u5316\u5668formatter\nsh.setFormatter(formatter_name)\n# \u589e\u52a0\u4e00\u4e2a\u8fc7\u6ee4\u5668\uff0c\u53ef\u4ee5\u589e\u52a0\u591a\u4e2a\nsh.addFilter(filter_name)\n# \u5220\u9664\u4e00\u4e2a\u8fc7\u6ee4\u5668\nch.removeFilter(filter_name)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#-filter","title":"\u8fc7\u6ee4\u5668 - Filter","text":"<p>Handlers \u548c Loggers \u53ef\u4ee5\u4f7f\u7528 Filters \u6765\u5b8c\u6210\u6bd4\u7ea7\u522b\u66f4\u590d\u6742\u7684\u8fc7\u6ee4\u3002 Filter \u57fa\u7c7b\u53ea\u5141\u8bb8\u7279\u5b9a Logger \u5c42\u6b21\u4ee5\u4e0b\u7684\u4e8b\u4ef6\u3002 \u4f8b\u5982\u7528 \u2018A.B\u2019 \u521d\u59cb\u5316\u7684 Filter \u5141\u8bb8Logger \u2018A.B\u2019, \u2018A.B.C\u2019, \u2018A.B.C.D\u2019, \u2018A.B.D\u2019 \u7b49\u8bb0\u5f55\u7684\u4e8b\u4ef6\uff0clogger\u2018A.BB\u2019, \u2018B.A.B\u2019 \u7b49\u5c31\u4e0d\u884c\u3002 \u5982\u679c\u7528\u7a7a\u5b57\u7b26\u4e32\u6765\u521d\u59cb\u5316\uff0c\u6240\u6709\u7684\u4e8b\u4ef6\u90fd\u63a5\u53d7\u3002</p> <pre><code>filter = logging.Filter(name='')\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#-formatter","title":"\u683c\u5f0f\u5668 - Formatter","text":"<p>\u4f7f\u7528Formatter\u5bf9\u8c61\u8bbe\u7f6e\u65e5\u5fd7\u4fe1\u606f\u6700\u540e\u7684\u89c4\u5219\u3001\u7ed3\u6784\u548c\u5185\u5bb9\uff0c\u9ed8\u8ba4\u7684\u65f6\u95f4\u683c\u5f0f\u4e3a<code>%Y-%m-%d %H:%M:%S</code>\u3002</p> <pre><code>formatter = logging.Formatter(fmt=None, datefmt=None)\n</code></pre> <p>\u5176\u4e2d\uff0c<code>fmt</code>\u662f\u6d88\u606f\u7684\u683c\u5f0f\u5316\u5b57\u7b26\u4e32\uff0c<code>datefmt</code>\u662f\u65e5\u671f\u5b57\u7b26\u4e32\u3002\u5982\u679c\u4e0d\u6307\u660e<code>datefmt</code>\uff0c\u5c06\u4f7f\u7528<code>\u2018%(message)s\u2019</code> \u3002\u5982\u679c\u4e0d\u6307\u660e<code>datefmt</code>\uff0c\u5c06\u4f7f\u7528 ISO8601 \u65e5\u671f\u683c\u5f0f\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#_6","title":"\u7ec4\u4ef6\u4e4b\u95f4\u7684\u5173\u7cfb","text":"<ul> <li>\u65e5\u5fd7\u5668\uff08logger\uff09\u9700\u8981\u901a\u8fc7\u5904\u7406\u5668\uff08handler\uff09\u5c06\u65e5\u5fd7\u4fe1\u606f\u8f93\u51fa\u5230\u76ee\u6807\u4f4d\u7f6e\uff0c\u4e0d\u540c\u7684\u5904\u7406\u5668\uff08handler\uff09\u53ef\u4ee5\u5c06\u65e5\u5fd7\u8f93\u51fa\u5230\u4e0d\u540c\u7684\u4f4d\u7f6e\u3002</li> <li>\u65e5\u5fd7\u5668\uff08logger\uff09\u53ef\u4ee5\u8bbe\u7f6e\u591a\u4e2a\u5904\u7406\u5668\uff08handler\uff09\u5c06\u540c\u4e00\u6761\u65e5\u5fd7\u8bb0\u5f55\u8f93\u51fa\u5230\u4e0d\u540c\u7684\u4f4d\u7f6e\u3002</li> <li>\u6bcf\u4e2a\u5904\u7406\u5668\uff08handler\uff09\u90fd\u53ef\u4ee5\u8bbe\u7f6e\u81ea\u5df1\u7684\u8fc7\u6ee4\u5668\uff08filter\uff09\u5b9e\u73b0\u65e5\u5fd7\u8fc7\u6ee4\uff0c\u4ece\u800c\u53ea\u4fdd\u7559\u611f\u5174\u8da3\u7684\u65e5\u5fd7\u3002</li> <li> <p>\u6bcf\u4e2a\u5904\u7406\u5668\uff08handler\uff09\u90fd\u53ef\u4ee5\u8bbe\u7f6e\u81ea\u5df1\u7684\u683c\u5f0f\u5668\uff08formatter\uff09\u5b9e\u73b0\u540c\u4e00\u6761\u65e5\u5fd7\u4ee5\u4e0d\u540c\u7684\u683c\u5f0f\u8f93\u51fa\u5230\u4e0d\u540c\u7684\u5730\u65b9\u3002</p> </li> <li> <p>\u4e00\u4e2a Logger \u5bf9\u8c61\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a Handler \u548c Filter\u3002</p> </li> <li>\u4e00\u4e2a Handler \u5bf9\u8c61\u53ef\u4ee5\u65b0\u589e\u591a\u4e2a\u683c\u5f0f\u5316\u5668\u6216\u591a\u4e2a\u8fc7\u6ee4\u5668\uff0c\u800c\u4e14\u65e5\u5fd7\u7ea7\u522b\u5c06\u4f1a\u7ee7\u627f\u3002</li> </ul>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#logging_1","title":"\u914d\u7f6e logging","text":"<p>\u867d\u7136\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528 Logger\u3001Handler\u3001Filter\u3001Formatter \u5bf9\u8c61\u4e2d\u7684\u65b9\u6cd5\u5728\u4ee3\u7801\u4e2d\u6765\u663e\u5f0f\u914d\u7f6elogging\uff0c\u4f46\u8fd9\u79cd\u786c\u7f16\u7801\u7684\u65b9\u5f0f\u4e0d\u662f\u597d\u7684\u7f16\u7a0b\u89c4\u8303\u3002\u5728 Python2.7 \u4e4b\u540e\uff0c\u53ef\u4ee5\u4ece\u4e00\u4e2a\u5b57\u5178\u52a0\u8f7d logging \u914d\u7f6e\uff0c\u8fd9\u610f\u5473\u7740\u53ef\u4ee5\u4ece JSON \u6216 YAML \u6587\u4ef6\u4e2d\u52a0\u8f7d logging \u914d\u7f6e\u3002\u867d\u7136\u4e5f\u53ef\u4ee5\u901a\u8fc7 old.ini \u65b9\u5f0f\u52a0\u8f7d logging \u914d\u7f6e\uff0c\u4f46\u662f\u8fd9\u5bf9\u4e8e\u53ef\u8bfb\u6027\u548c\u53ef\u7f16\u8f91\u6765\u8bf4\u662f\u56f0\u96be\u7684\u3002\u4ece\u6700\u4f73\u5b9e\u8df5\u7684\u89d2\u5ea6\u6765\u8bf4\uff0clogging \u6a21\u5757\u652f\u6301\u4e09\u79cd\u914d\u7f6e\u65b9\u5f0f\uff1a</p> <p><code>logging.config</code>\u6a21\u5757\u8d1f\u8d23\u914d\u7f6elogging\u3002</p> <ol> <li> <p><code>dictConfig</code>\uff1a\u901a\u8fc7\u4e00\u4e2a\u5b57\u5178\u8fdb\u884c\u914d\u7f6e</p> </li> <li> <p><code>fileConfig</code>\uff1a\u901a\u8fc7\u4e00\u4e2a\u6587\u4ef6\u8fdb\u884c\u914d\u7f6e</p> </li> <li> <p><code>listen</code>\uff1a\u76d1\u542c\u4e00\u4e2a\u7f51\u7edc\u7aef\u53e3\uff0c\u901a\u8fc7\u63a5\u6536\u7f51\u7edc\u6570\u636e\u6765\u8fdb\u884c\u914d\u7f6e\u3002</p> </li> </ol>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#fileconfig","title":"FileConfig","text":"<p><code>logging.config</code>\u6a21\u5757\u63d0\u4f9b\u4e86<code>logging.config.fileConfig()</code>\u65b9\u6cd5\u53ef\u4ee5\u4ece\u914d\u7f6e\u6587\u4ef6\u4e2d\u8fdb\u884c\u65e5\u5fd7\u914d\u7f6e\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#ini","title":"ini \u6587\u4ef6","text":"<p>\u5148\u521b\u5efa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6 <code>logconfig.ini</code>\uff0c\u914d\u7f6e\u6587\u4ef6\u7684\u683c\u5f0f\u5177\u6709\u5982\u4e0b\u7684\u5f62\u5f0f\uff1a</p> <pre><code>[loggers]\nkeys=root\n\n[handlers]\nkeys=fileHandler, errorFileHandler\n\n[formatters]\nkeys=simpleFormatter\n\n[logger_root]\nlevel=DEBUG\nhandlers=fileHandler, errorFileHandler\n\n[handler_fileHandler]\nclass=FileHandler\nlevel=DEBUG\nformatter=simpleFormatter\nargs=('example.log', 'a')\n\n[handler_errorFileHandler]\nclass=FileHandler\nlevel=ERROR\nformatter=simpleFormatter\nargs=('example-error.log', 'a')\n\n[formatter_simpleFormatter]\nformat=%(name)s - %(levelname)s - %(message)s\n</code></pre> <p><code>[loggers]</code> \u914d\u7f6e\u9879\u6307\u5b9a\u9700\u8981\u914d\u7f6e\u7684logger\uff0c<code>root</code> \u662flogging\u7cfb\u7edf\u9ed8\u8ba4logger\u3002\u82e5\u6709\u591a\u4e2a\u503c\uff0c\u7528\u9017\u53f7\u5206\u9694<code>keys=root, testLogger</code>\u3002\u7136\u540e\u5728<code>[logger_%(name)s]</code> \u914d\u7f6e\u9879\u914d\u7f6e\u5404\u4e2alogger\u7684\u5177\u4f53\u914d\u7f6e\u4fe1\u606f\u3002</p> <p>\u7a0b\u5e8f\u8c03\u7528\u914d\u7f6e\u6587\u4ef6\uff1a</p> <pre><code>import logging\nimport logging.config\n\n# \u6587\u4ef6\u7684\u540e\u7f00\u540d\u4f3c\u4e4e\u4e0d\u5fc5\u987b\u4e3a.ini\nlogging.config.fileConfig('logconfig.ini')\n# create logger\nlogger = logging.getLogger('simpleExample')\n\n# application code\nlogger.debug('debug message')\nlogger.info('info message')\nlogger.warning('warn message')\nlogger.error('error message')\nlogger.critical('critical message')\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#yaml","title":"YAML \u6587\u4ef6","text":"<pre><code>version: 1\ndisable_existing_loggers: False\nformatters:\nsimple:\nformat: \"%(asctime)s - %(name)s - %(levelname)s - %(message)s\"\n\nhandlers:\nconsole:\nclass: logging.StreamHandler\nlevel: DEBUG\nformatter: simple\nstream: ext://sys.stdout\n\ninfo_file_handler:\nclass: logging.handlers.RotatingFileHandler\nlevel: INFO\nformatter: simple\nfilename: info.log\nmaxBytes: 10485760 # 10MB\nbackupCount: 20\nencoding: utf8\n\nerror_file_handler:\nclass: logging.handlers.RotatingFileHandler\nlevel: ERROR\nformatter: simple\nfilename: errors.log\nmaxBytes: 10485760 # 10MB\nbackupCount: 20\nencoding: utf8\n\nloggers:\nmy_module:\nlevel: ERROR\nhandlers: [console]\npropagate: no\n\nroot:\nlevel: INFO\nhandlers: [console, info_file_handler, error_file_handler]\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#json","title":"JSON \u6587\u4ef6","text":"<pre><code>{\n\"version\": 1,\n\"disable_existing_loggers\": false,\n\"formatters\": {\n\"simple\": {\n\"format\": \"%(asctime)s - %(name)s - %(levelname)s - %(message)s\"\n}\n},\n\n\"handlers\": {\n\"console\": {\n\"class\": \"logging.StreamHandler\",\n\"level\": \"DEBUG\",\n\"formatter\": \"simple\",\n\"stream\": \"ext://sys.stdout\"\n},\n\n\"info_file_handler\": {\n\"class\": \"logging.handlers.RotatingFileHandler\",\n\"level\": \"INFO\",\n\"formatter\": \"simple\",\n\"filename\": \"info.log\",\n\"maxBytes\": 10485760,\n\"backupCount\": 20,\n\"encoding\": \"utf8\"\n},\n\n\"error_file_handler\": {\n\"class\": \"logging.handlers.RotatingFileHandler\",\n\"level\": \"ERROR\",\n\"formatter\": \"simple\",\n\"filename\": \"errors.log\",\n\"maxBytes\": 10485760,\n\"backupCount\": 20,\n\"encoding\": \"utf8\"\n}\n},\n\n\"loggers\": {\n\"my_module\": {\n\"level\": \"ERROR\",\n\"handlers\": [\"console\"],\n\"propagate\": \"no\"\n}\n},\n\n\"root\": {\n\"level\": \"INFO\",\n\"handlers\": [\"console\", \"info_file_handler\", \"error_file_handler\"]\n}\n}\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#dictconfig","title":"dictConfig","text":"<p>\u540c\u65f6\u5411\u63a7\u5236\u53f0\u548c\u6587\u4ef6\u8f93\u51fa\u65e5\u5fd7\u3002</p> <pre><code>import logging\nfrom logging.config import dictConfig\n\nlevel = logging.DEBUG\nlogging_config = {\n    'version': 1,\n    'formatters': {\n        'default':\n            {'format': '%(asctime)s [%(process)d] [%(levelname)s] %(message)s',\n                    'datefmt': '%Y-%m-%d %H:%M:%S'}\n    },\n    'handlers': {\n        'console': {\n            'level': level,\n            'class': 'logging.StreamHandler',\n            'formatter': 'default',\n        },\n        'file': {\n            'level': level,\n            'class': 'logging.handlers.RotatingFileHandler',\n            'formatter': 'default',\n            'filename': './log/mtwoai.log',\n            'maxBytes': 1024 * 1024 * 10,\n            'backupCount': 1\n        }\n    },\n    'loggers': {\n        'test': {\n            'level': level,\n            'handlers': ['console', 'file']\n        }\n    },\n    'root': {\n        'level': level,\n        'handlers': ['console', 'file']\n    },\n    'disable_existing_loggers': False\n}\n\ndictConfig(logging_config)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#python","title":"\u5728python\u4ee3\u7801\u4e2d\u914d\u7f6e","text":"<pre><code>import logging\n\nlogger = logging.getLogger()\nhandler = logging.StreamHandler()\nformatter = logging.Formatter(\n        '%(asctime)s %(name)-12s %(levelname)-8s %(message)s')\nhandler.setFormatter(formatter)\nlogger.addHandler(handler)\nlogger.setLevel(logging.DEBUG)\n\nlogger.debug('often makes a very good meal of %s', 'visiting tourists')\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.14.logging.html#_7","title":"\u53c2\u8003","text":"<ol> <li>\u7b2c32\u5929\uff1aPython logging \u6a21\u5757\u8be6\u89e3</li> <li>python \u7684 logging \u6a21\u5757\u65e5\u5fd7\u529f\u80fd\u4f7f\u7528\u8be6\u89e3</li> <li>Python logging \u6a21\u5757\u8be6\u8ff0</li> <li>python logging \u91cd\u590d\u5199\u65e5\u5fd7\u95ee\u9898</li> <li>Python + logging \u8f93\u51fa\u5230\u5c4f\u5e55\uff0c\u5c06log\u65e5\u5fd7\u5199\u5165\u6587\u4ef6</li> <li>logging - Python \u7684 Logging \u5de5\u5177</li> <li>python logging\u8be6\u89e3\u53ca\u81ea\u52a8\u6dfb\u52a0\u4e0a\u4e0b\u6587\u4fe1\u606f</li> <li>Python logging \u6700\u4f73\u5b9e\u8df5-\u8bd1</li> <li>python3\u7684logging\u6a21\u5757\u7684\u6700\u4f73\u5b9e\u8df5</li> </ol>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.15.Compression_Archiving.html","title":"6.15.Compression_Archiving","text":"<pre><code>import gzip\nimport os\nimport shutil\nfrom toolkit.blog.util import get_work_dir\n\nFileDir = os.path.join(get_work_dir(), \"datasets/file\")\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.15.Compression_Archiving.html#gzip","title":"gzip","text":"<p>gzip \u6a21\u5757\u4e2d\u5305\u542b\u4e00\u4e9b\u5e38\u91cf\uff0c\u8fd9\u662f DEFLATE \u7b97\u6cd5\u751f\u6210\u7684\u538b\u7f29\u6587\u4ef6\u7684\u4e00\u4e9b\u6807\u8bb0\u5b57\u6bb5\u3002</p> <pre><code>gzip.FCOMMENT\ngzip.FEXTRA\ngzip.FHCRC\ngzip.FNAME\ngzip.FTEXT\ngzip.GzipFile\ngzip.READ\ngzip.WRITE\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.15.Compression_Archiving.html#_1","title":"\u5904\u7406\u6bd4\u7279\u6d41","text":"<p>\u538b\u7f29\u5185\u5b58\u4e2d\u7684\u6bd4\u7279\u6d41 (\u5b57\u8282\u6d41)\uff1a</p> <pre><code>gzip.compress(b\"this is a test.\")\n</code></pre> <pre><code>b'\\x1f\\x8b\\x08\\x00\\xcc\\x88\\xaa_\\x02\\xff+\\xc9\\xc8,V\\x00\\xa2D\\x85\\x92\\xd4\\xe2\\x12=\\x00\\xc3\\xf7\\x06N\\x0f\\x00\\x00\\x00'\n</code></pre> <p>\u89e3\u538b\u7f29\u5185\u5b58\u4e2d\u7684\u6bd4\u7279\u6d41\uff1a</p> <p>\u8be5\u6bd4\u7279\u6d41\u5fc5\u987b\u662f\u4f7f\u7528 gzip \u5bf9\u5e94\u7684 DEFLATE \u538b\u7f29\u7b97\u6cd5\u5f97\u5230\u7684\u6bd4\u7279\u6d41\uff0c\u5426\u5219\u65e0\u6cd5\u4f7f\u7528\u5bf9\u5e94\u7684\u7b97\u6cd5\u89e3\u538b\u7f29\u3002</p> <pre><code>gzip.decompress(gzip.compress(b\"this is a test.\"))\n</code></pre> <pre><code>b'this is a test.'\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.15.Compression_Archiving.html#gz","title":"\u89e3\u538b <code>.gz</code> \u6587\u4ef6","text":"<p>gzip-1.3.14.tar.gz \u4f1a\u88ab\u89e3\u538b\u4e3a gzip-1.3.14.tar \u6587\u4ef6\u3002</p> <pre><code>gz_file_path = os.path.join(FileDir, \"gzip-1.3.14.tar.gz\")\next_file_path = os.path.join(FileDir, \"gzip-1.3.14.tar\")\n# \u521b\u5efa gzip \u5bf9\u8c61\ngz_file = gzip.GzipFile(gz_file_path)\nwith open(ext_file_path, \"wb+\") as f:\n    f.write(gz_file.read())\ngz_file.close()\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>gzip.open</code> \u51fd\u6570\u6253\u5f00 gz \u6587\u4ef6\uff0c\u5b9e\u9645\u8fd9\u4e5f\u662f\u8c03\u7528 <code>gzip.GzipFile</code> \u7c7b\u3002</p> <pre><code># gzip.open \u76f8\u5f53\u4e8e gzip.GzipFile\nwith gzip.open(gz_file_path, \"rb\") as output:\n    with open(ext_file_path, \"wb\") as f:\n        f.write(output.read())\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.15.Compression_Archiving.html#tarfile","title":"tarfile","text":"<pre><code>import tarfile\nimport time\n</code></pre> <p>\u5224\u65ad\u6587\u4ef6\u662f\u5426\u4e3atar\u6587\u6863\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u4f1a\u5f15\u53d1IO ERROR\u3002</p> <pre><code>tar_file_path = os.path.join(FileDir, \"gzip-1.3.14.tar\")\ntarfile.is_tarfile(tar_file_path)\n</code></pre> <pre><code>True\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.15.Compression_Archiving.html#_2","title":"\u83b7\u53d6\u5143\u6570\u636e","text":"<p>\u4f7f\u7528 <code>.getnames()</code> \u6765\u8bfb\u53d6\u538b\u7f29\u6587\u4ef6\u4e2d\u6240\u6709\u6587\u4ef6\u7684\u6587\u4ef6\u540d\u3002</p> <pre><code>with tarfile.open(tar_file_path, \"r\") as t:\n    print(t.getnames()[0:5])\n</code></pre> <pre><code>['gzip-1.3.14', 'gzip-1.3.14/zgrep.1', 'gzip-1.3.14/configure.ac',\n'gzip-1.3.14/gzexe.1', 'gzip-1.3.14/gunzip.1']\n</code></pre> <p>\u901a\u8fc7 <code>.getmembers()</code> \u548c <code>.getmember()</code> \u51fd\u6570\u6765\u83b7\u53d6\u5143\u6570\u636e\u3002</p> <pre><code>with tarfile.open(tar_file_path, \"r\") as t:\n    for member_info in t.getmembers():\n        print(member_info.name)\n        print(\"  Modified:\", time.ctime(member_info.mtime))\n        print(\"  Mode    :\", oct(member_info.mode))\n        print(\"  Type    :\", member_info.type)\n        print(\"  Size    :\", member_info.size, \"bytes\")\n        print()\n        break\n</code></pre> <pre><code>gzip-1.3.14\n  Modified: Sat Oct 31 02:54:33 2009\n  Mode    : 0o777\n  Type    : b'5'\n  Size    : 0 bytes\n</code></pre> <p>\u5982\u679c\u4e00\u4e2a\u6240\u542b\u6587\u4ef6\u7684\u6587\u4ef6\u540d\u5df2\u77e5\uff0c\u53ef\u4f7f\u7528 <code>getmember()</code> \u51fd\u6570\u83b7\u53d6\u5176\u6240\u5bf9\u5e94\u7684 <code>TarInfo</code> \u5bf9\u8c61\u3002</p> <pre><code>with tarfile.open(tar_file_path, \"r\") as t:\n    for filename in [\"gzip-1.3.14/doc/Makefile.in\",\n                     \"gzip-1.3.14/doc/version.texi\"]:\n        try:\n            info = t.getmember(filename)\n        except KeyError:\n            print(\"ERROR: Did not find {filename} in tar archive\")\n        else:\n            print(f\"{info.name} is {info.size:d} bytes\")\n</code></pre> <pre><code>gzip-1.3.14/doc/Makefile.in is 43510 bytes\ngzip-1.3.14/doc/version.texi is 105 bytes\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.15.Compression_Archiving.html#tar","title":"\u89e3\u538b tar \u6587\u4ef6","text":"<p>\u53ef\u4f7f\u7528 <code>extractfile()</code> \u65b9\u6cd5\u8bfb\u5165\u538b\u7f29\u6587\u6863\u4e2d\u67d0\u4e2a\u6210\u5458\u7684\u6570\u636e\uff1a</p> <pre><code>with tarfile.open(tar_file_path, \"r\") as t:\n    for filename in [\"gzip-1.3.14/doc/Makefile.in\"]:\n        try:\n            # \u89e3\u538b\u5176\u4e2d\u67d0\u4e2a\u6587\u4ef6\u4e3a\u4e8c\u8fdb\u5236\u6570\u636e\n            f = t.extractfile(filename)\n        except KeyError:\n            print(f\"ERROR: Did not find {filename} in tar archive\")\n        else:\n            print(filename, \":\")\n            print(f.read().decode(\"utf-8\")[0:100])\n</code></pre> <pre><code>gzip-1.3.14/doc/Makefile.in :\n# Makefile.in generated by automake 1.11a from Makefile.am.\n# @configure_input@\n\n# Copyright (C) 199\n</code></pre> <p>\u89e3\u538b tar \u538b\u7f29\u6587\u6863\u4e2d\u6587\u4ef6\u5230\u786c\u76d8</p> <pre><code>out_dir = os.path.join(FileDir, \"tar\")\nwith tarfile.open(tar_file_path, \"r\") as t:\n    t.extract(\"gzip-1.3.14/doc/Makefile.in\", out_dir)\nprint(os.listdir(out_dir))\n</code></pre> <pre><code>['gzip-1.3.14']\n</code></pre> <p>\u89e3\u538b\u6574\u4e2a tar \u538b\u7f29\u6587\u6863\u5230\u786c\u76d8\uff1a<code>gzip-1.3.14.tar/gzip-1.3.14/..</code> \u2192 <code>tar/gzip-1.3.14/..</code></p> <p>\u6807\u51c6\u5e93\u6587\u6863\u4e2d\u6709\u4e00\u4e2a\u6ce8\u91ca\u63d0\u5230 <code>extractall()</code> \u65b9\u6cd5\u7684\u5b89\u5168\u6027\u5f3a\u4e8e <code>extract()</code> \uff0c\u5c24\u5176\u9002\u7528\u4e8e\u65e0\u6cd5\u5012\u5e26\u8bfb\u53d6\u8f93\u5165\u7684\u8f83\u65e9\u90e8\u5206\u7684\u6d41\u6570\u636e\uff0c\u6240\u4ee5\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u5e94\u8be5\u4f7f\u7528 <code>extractall()</code>\u3002</p> <pre><code>out_dir = os.path.join(FileDir, \"tar\")\nwith tarfile.open(tar_file_path, \"r\") as t:\n    t.extractall(out_dir)\nprint(os.listdir(out_dir))\n</code></pre> <pre><code>['gzip-1.3.14']\n</code></pre> <p><code>extractall()</code> \u65b9\u6cd5\u4e5f\u53ef\u4ee5\u53ea\u89e3\u538b\u90e8\u5206\u6587\u4ef6\uff0c\u8fd9\u9700\u8981\u5c06\u5f85\u63d0\u53d6\u7684\u6587\u4ef6\u540d\u6216\u8005 <code>TarInfo</code> \u5143\u6570\u636e\u5bb9\u5668\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 <code>extractall()</code>\u3002</p> <pre><code>with tarfile.open(tar_file_path, \"r\") as t:\n    t.extractall(out_dir, members=[t.getmember(\"gzip-1.3.14/doc/Makefile.in\")], )\nprint(os.listdir(out_dir))\n</code></pre> <pre><code>['gzip-1.3.14']\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.15.Compression_Archiving.html#_3","title":"\u5904\u7406\u5176\u4ed6\u538b\u7f29\u6587\u4ef6","text":"<p>\u9664\u4e86\u6b63\u5e38\u7684 tar \u5f52\u6863\u6587\u4ef6\uff0ctarfile \u6a21\u5757\u8fd8\u53ef\u5904\u7406\u901a\u8fc7 gzip \u6216 bzip2 \u534f\u8bae\u538b\u7f29\u7684\u5f52\u6863\u6587\u4ef6\u3002\u8981\u6253\u5f00\u4e00\u4e2a\u538b\u7f29\u7684\u5f52\u6863\u6587\u4ef6\uff0c\u6839\u636e\u4e0d\u540c\u7684\u538b\u7f29\u534f\u8bae\uff0c\u4f20\u5165 <code>\":gz\"</code> \u6216 <code>\":bz2\"</code> \u6a21\u5f0f\u53c2\u6570\u5230<code>open()</code>\u51fd\u6570\u3002</p> <pre><code># gzip-1.3.14.tar.gz/gzip-1.3.14.tar/gzip-1.3.14/..  \u2192  gz/gzip-1.3.14/..\ngz_file_path = os.path.join(FileDir, \"gzip-1.3.14.tar.gz\")\nout_dir = os.path.join(FileDir, \"gz\")\n# \u76f4\u63a5\u89e3\u538b tar.gz \u6587\u4ef6\nwith tarfile.open(gz_file_path, mode=\"r:gz\") as out:\n    out.extractall(out_dir)\nprint(os.listdir(out_dir))\n</code></pre> <pre><code>['gzip-1.3.14']\n</code></pre> <pre><code># gzip.bzip2/gzip/..  \u2192  gzip/..\nbz2_file_path = os.path.join(FileDir, \"gzip.bz2\")\nout_dir = os.path.join(FileDir, \"gzip\")\n# \u76f4\u63a5\u89e3\u538b .bz2 \u6587\u4ef6\nwith tarfile.open(bz2_file_path, mode=\"r:bz2\") as out:\n    out.extractall(out_dir)\nprint(os.listdir(out_dir))\n</code></pre> <pre><code>['.tarball-version', 'aclocal.m4', 'algorithm.doc', 'amiga', 'atari',\n'AUTHORS', 'bits.c', 'build-aux', 'ChangeLog', 'ChangeLog-2007',\n'configure', 'configure.ac', 'COPYING', 'crypt.c', 'crypt.h',\n'deflate.c', 'doc', 'GNUmakefile', 'gunzip.1', 'gunzip.in', 'gzexe.1',\n'gzexe.in', 'gzip.1', 'gzip.c', 'gzip.doc', 'gzip.h', 'inflate.c',\n'INSTALL', 'lib', 'lzw.c', 'lzw.h', 'm4', 'maint.mk', 'Makefile.am',\n'Makefile.in', 'msdos', 'NEWS', 'nt', 'os2', 'primos', 'README',\n'revision.h', 'sample', 'tailor.h', 'tests', 'THANKS', 'TODO',\n'trees.c', 'unlzh.c', 'unlzw.c', 'unpack.c', 'unzip.c', 'util.c',\n'vms', 'zcat.1', 'zcat.in', 'zcmp.1', 'zcmp.in', 'zdiff.1',\n'zdiff.in', 'zegrep.in', 'zfgrep.in', 'zforce.1', 'zforce.in',\n'zgrep.1', 'zgrep.in', 'zip.c', 'zless.1', 'zless.in', 'zmore.1',\n'zmore.in', 'znew.1', 'znew.in']\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.15.Compression_Archiving.html#bz2","title":"bz2","text":""},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.15.Compression_Archiving.html#bz2_1","title":"\u89e3\u538b bz2 \u6587\u4ef6","text":"<pre><code>import bz2\n\nbz2_file_path = os.path.join(FileDir, \"gzip.bz2\")\nout_dir = os.path.join(FileDir, \"gzip\")\n# gzip.bzip2/gzip/..  \u2192  gzip\nwith bz2.open(bz2_file_path, mode=\"rb\") as out:\n    with open(out_dir, \"wb\") as f:\n        f.write(out.read())\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.15.Compression_Archiving.html#zipfile","title":"zipfile","text":""},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.15.Compression_Archiving.html#zip","title":"\u89e3\u538b zip \u6587\u4ef6","text":"<pre><code>import zipfile\n\nzip_file_path = os.path.join(FileDir, \"gzip.zip\")\nout_dir = os.path.join(FileDir, \"zip\")\n# gzip.zip/..  \u2192  zip/..\nwith zipfile.ZipFile(zip_file_path) as zf:\n    zf.extractall(out_dir)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.16.shutil.html","title":"6.16.shutil","text":"<pre><code>import shutil\nimport os\nfrom toolkit import H\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.16.shutil.html#_1","title":"\u590d\u5236\u6587\u4ef6","text":"<pre><code>shutil.copyfile(src, dst, follow_symlinks=True)\n</code></pre> <p><code>copyfile()</code> \u590d\u5236\u6e90\u6587\u4ef6\u7684\u5185\u5bb9\u5230\u76ee\u6807\u4f4d\u7f6e\uff0c\u5982\u679c\u6ca1\u6709\u521b\u5efa\u65b0\u6587\u4ef6\u7684\u6743\u9650\u5c06\u4f1a\u5f15\u53d1 <code>IOError</code>\uff0c\u5982\u679c<code>dst</code>\u5df2\u5b58\u5728\uff0c\u5219\u4f1a\u88ab\u66ff\u6362\u3002<code>src</code>\u3001<code>dst</code> \u4e0d\u80fd\u662f\u76ee\u5f55\u3002\u4e00\u4e9b\u7279\u6b8a\u7684\u6587\u4ef6\uff08\u4f8b\u5982 Unix \u8bbe\u5907\uff09\u662f\u4e0d\u80fd\u4f7f\u7528\u5b83\u8fdb\u884c\u590d\u5236\u7684\uff0c\u56e0\u4e3a <code>copyfile()</code> \u4e0d\u7ba1\u6587\u4ef6\u7684\u7c7b\u578b\u5982\u4f55\uff0c\u90fd\u4f1a\u6253\u5f00\u8fdb\u884c\u8bfb\u53d6\u3002</p> <pre><code>shutil.copyfileobj(fsrc, fdst, length=16384)\n</code></pre> <p><code>copyfile()</code> \u662f\u8c03\u7528\u4f4e\u7ea7\u65b9\u6cd5 <code>copyfileobj()</code> \u5b9e\u73b0\u7684\u3002\u4f46\u4f20\u5165 <code>copyfile()</code> \u7684\u53c2\u6570\u662f\u6587\u4ef6\u540d\u79f0\uff0c\u800c\u4f20\u5165 <code>copyfileobj()</code> \u662f\u6253\u5f00\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002\u53ef\u9009\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u7528\u6765\u8bbe\u7f6e\u8bfb\u53d6\u5757\u7684\u5927\u5c0f\u3002\u9ed8\u8ba4\u884c\u4e3a\u662f\u4f7f\u7528\u5927\u5757\u8bfb\u53d6\u3002\u4f7f\u7528 <code>-1</code> \u4e00\u6b21\u6027\u8bfb\u53d6\u6240\u6709\u8f93\u5165\uff0c\u6216\u8005\u4f7f\u7528\u4e00\u4e2a\u6b63\u6574\u6570\u8bbe\u5b9a\u4e00\u4e2a\u5177\u4f53\u7684\u533a\u5757\u5927\u5c0f\u3002\u4e0b\u9762\u7684\u793a\u4f8b\u4ee3\u7801\u4f7f\u7528\u4e86\u4e0d\u540c\u7684\u5757\u5927\u5c0f\u5c55\u793a\u6548\u679c\u3002</p> <pre><code>import io\n\nclass VerboseStringIO(io.StringIO):\n    def read(self, n=-1):\n        next = io.StringIO.read(self, n)\n        print(f'read({n}) got {len(next)} bytes')\n        return next\n\nlorem_ipsum = '''Lorem ipsum dolor sit amet, consectetuer\nadipiscing elit.  Vestibulum aliquam mollis dolor. Donec\nvulputate nunc ut diam. Ut rutrum mi vel sem. Vestibulum\nante ipsum.\n'''\n\nprint('Default:')\ninput = VerboseStringIO(lorem_ipsum)\noutput = io.StringIO()\nshutil.copyfileobj(input, output)\n\nprint()\n\nprint('All at once:')\ninput = VerboseStringIO(lorem_ipsum)\noutput = io.StringIO()\nshutil.copyfileobj(input, output, -1)\n\nprint()\n\nprint('Blocks of 256:')\ninput = VerboseStringIO(lorem_ipsum)\noutput = io.StringIO()\nshutil.copyfileobj(input, output, 100)\n</code></pre> <pre><code>Default:\nread(16384) got 167 bytes\nread(16384) got 0 bytes\n\nAll at once:\nread(-1) got 167 bytes\nread(-1) got 0 bytes\n\nBlocks of 256:\nread(100) got 100 bytes\nread(100) got 67 bytes\nread(100) got 0 bytes\n</code></pre> <pre><code>shutil.copy(src, dst, follow_symlinks=True)\n</code></pre> <p>\u590d\u5236\u4e00\u4e2a\u6587\u4ef6\u5230\u76ee\u6807\u8def\u5f84\uff0c\u5982\u679c\u76ee\u6807\u8def\u5f84\u662f\u4e00\u4e2a\u76ee\u5f55\uff0c\u800c\u4e0d\u662f\u6587\u4ef6\uff0c\u90a3\u4e48\u5c06\u4f1a\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u4e0e\u6e90\u6587\u4ef6\u540c\u540d\u7684\u65b0\u6587\u4ef6\u3002<code>copy()</code>\u51fd\u6570\u5b9e\u9645\u4e0a\u662f\u5148\u540e\u8c03\u7528\u4e86 <code>copyfile()</code>\u51fd\u6570\u548c<code>copymode()</code>\u51fd\u6570\uff0c\u56e0\u6b64\u6587\u4ef6\u7684\u6743\u9650\u5c06\u4f1a\u968f\u7740\u5185\u5bb9\u4e00\u8d77\u590d\u5236\u3002<code>copy()</code> \u51fd\u6570\u4f1a\u50cf Unix \u547d\u4ee4\u884c\u5de5\u5177 cp \u90a3\u6837\u6253\u5370\u51fa\u65b0\u6587\u4ef6\u7684\u8def\u5f84\u3002</p> <pre><code>shutil.copy2(src, dst, follow_symlinks=True)\n</code></pre> <p><code>copy2()</code> \u7c7b\u4f3c <code>copy()</code> \uff0c\u4f46\u5148\u540e\u8c03\u7528\u7684\u662f <code>copyfile()</code>\u51fd\u6570\u548c<code>copystat()</code>\u51fd\u6570\uff0c\u56e0\u6b64\u5728\u590d\u5236\u65f6\u4f1a\u5305\u542b\u5143\u6570\u636e\u4e2d\u7684\u8bbf\u95ee\u548c\u4fee\u6539\u65f6\u95f4\u3002\u4f46\u65b0\u65e7\u6587\u4ef6\u7684\u6743\u9650\u53ef\u80fd\u4e0d\u4e00\u6837\uff0c\u56e0\u4e3a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cUnix \u4e0a\u521b\u5efa\u4e00\u4e2a\u65b0\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u5b83\u7684\u6743\u9650\u4f9d\u8d56\u4e8e\u5f53\u524d\u7528\u6237\u7684 umask\u3002\u5982\u679c\u8981\u590d\u5236\u6587\u4ef6\u6743\u9650\uff0c\u8bf7\u4f7f\u7528 <code>copymode()</code>\u3002</p> <pre><code>shutil.copymode(src, dst, follow_symlinks=True)\n</code></pre> <p>\u4ecesrc\u590d\u5236\u6743\u9650\u4f4d\u5230dst\u3002\u8be5\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u6240\u6709\u8005\u548c\u7ec4\u4e0d\u53d7\u5f71\u54cd\u3002</p> <pre><code>shutil.copystat(src, dst, follow_symlinks=True)\n</code></pre> <p>\u4ecesrc\u590d\u5236\u6743\u9650\u4f4d\u3001\u6700\u540e\u8bbf\u95ee\u65f6\u95f4\u3001\u6700\u540e\u4fee\u6539\u65f6\u95f4\u3001\u6587\u4ef6\u7684flags\u5230dst\u3002\u8be5\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u6240\u6709\u8005\u548c\u7ec4\u4e0d\u53d7\u5f71\u54cd\u3002\u5728 Linux \u4e2d\uff0c<code>copystat</code> \u4f1a\u5728\u53ef\u80fd\u7684\u60c5\u51b5\u4e0b\u590d\u5236\"extended attributes\"\uff0c</p> <pre><code>shutil.copytree(src, dst, symlinks=False, ignore=None,\n                copy_function=shutil.copy2,\n                ignore_dangling_symlinks=False)\n</code></pre> <p>\u628a src \u76ee\u5f55\u590d\u5236\u5230 dst\uff0csrc \u548c dst \u90fd\u53ea\u80fd\u662f\u76ee\u5f55\uff0c\u4e14 dst \u5fc5\u987b\u4e0d\u5b58\u5728\u3002</p> <p><code>symlinks</code> \u53c2\u6570\u63a7\u5236\u7b26\u53f7\u94fe\u63a5\u662f\u88ab\u590d\u5236\u4e3a\u94fe\u63a5\u8fd8\u662f\u6587\u4ef6\u3002\u9ed8\u8ba4\u4e3a<code>False</code>\uff0c\u4f1a\u5c06\u7b26\u53f7\u94fe\u63a5\u6307\u5411\u7684\u6587\u4ef6\u590d\u5236\u5230 dst\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u7b26\u53f7\u94fe\u63a5\u6307\u5411\u7684\u6587\u4ef6\u5df2\u7ecf\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u5f15\u53d1\u5f02\u5e38\u3002\u5982\u679c\u8fd9\u4e2a\u53c2\u6570\u662f <code>true</code> \uff0c\u5c06\u4f1a\u5728 dst \u4e2d\u521b\u5efa\u65b0\u7684\u7b26\u53f7\u94fe\u63a5\u3002</p> <p><code>ignore_dangling_symlinks</code> \u53c2\u6570\u4e3a<code>True</code>\u65f6\uff0c\u5982\u679c src \u5b58\u5728\u635f\u574f\u7684 symbolic link\uff0c\u4e5f\u4e0d\u4f1a\u629b\u51fa\u5f02\u5e38\u3002</p> <p><code>copytree()</code> \u51fd\u6570\u4f7f\u7528\u4e24\u4e2a\u56de\u8c03\u53c2\u6570\u63a7\u5236\u5b83\u7684\u884c\u4e3a\u3002<code>ignore</code> \u53c2\u6570\u5728\u6bcf\u4e2a\u76ee\u5f55\u6216\u8005\u5b50\u76ee\u5f55\u4ee5\u53ca\u76ee\u5f55\u4e2d\u5185\u5bb9\u88ab\u590d\u5236\u65f6\u8c03\u7528\uff0c\u5b83\u8fd4\u56de\u4e00\u4e2a\u5e94\u8be5\u88ab\u590d\u5236\u7684\u5185\u5bb9\u5217\u8868\u3002<code>copy_function</code> \u53c2\u6570\u7528\u4e8e\u5728\u6587\u4ef6\u5b9e\u9645\u590d\u5236\u65f6\u8c03\u7528\u3002</p> <pre><code>import glob\nimport pprint\nimport shutil\n\ndef verbose_copy(src, dst):\n    print('copying\\n {!r}\\n to {!r}'.format(src, dst))\n    return shutil.copy2(src, dst)\n\nprint('BEFORE:')\npprint.pprint(glob.glob('/tmp/example/*'))\nprint()\n\nshutil.copytree(\n    '../shutil', '/tmp/example',\n    copy_function=verbose_copy,\n    ignore=shutil.ignore_patterns('*.py'),\n)\n\nprint('\\nAFTER:')\npprint.pprint(glob.glob('/tmp/example/*'))\n</code></pre> <p>\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>ignore_patterns()</code> \u7528\u4e8e\u53bb\u521b\u5efa\u4e00\u4e2a\u5ffd\u7565\u65b9\u6cd5\u8df3\u8fc7 Python \u6e90\u6587\u4ef6\u3002<code>verbose_copy()</code> \u6253\u5370\u590d\u5236\u7684\u6587\u4ef6\u540d\u79f0\u7136\u540e\u8c03\u7528 <code>copy2()</code> \u590d\u5236\uff0c\u5b83\u662f\u9ed8\u8ba4\u7684\u590d\u5236\u65b9\u6cd5\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.16.shutil.html#_2","title":"\u5220\u9664\u6587\u4ef6","text":"<pre><code>shutil.rmtree(path, ignore_errors=False, onerror=None)\n</code></pre> <p>\u9519\u8bef\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5f15\u53d1\u4e3a\u5f02\u5e38\uff0c\u4f46\u662f\u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a true \u5c06\u88ab\u5ffd\u7565\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7b2c\u4e09\u4e2a\u53c2\u6570\u63d0\u4f9b\u4e00\u4e2a\u9519\u8bef\u5904\u7406\u65b9\u6cd5\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.16.shutil.html#_3","title":"\u79fb\u52a8\u6587\u4ef6","text":"<pre><code>shutil.move(src, dst, copy_function=shutil.copy2)\n</code></pre> <p>\u539f\u7406\u7c7b\u4f3c\u4e8e Unix \u547d\u4ee4 mv \u3002\u5982\u679c\u6e90\u6587\u4ef6\u548c\u76ee\u6807\u6587\u4ef6\u90fd\u5b58\u5728\uff0c\u6e90\u6587\u4ef6\u5c06\u4f1a\u88ab\u91cd\u547d\u540d\u3002\u5426\u5219\u6e90\u6587\u4ef6\u88ab\u590d\u5236\u5230\u76ee\u7684\u5730\u7136\u540e\u88ab\u5220\u9664\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.16.shutil.html#_4","title":"\u67e5\u627e\u6587\u4ef6","text":"<pre><code>shutil.which(cmd, mode=1, path=None)\n</code></pre> <p><code>which()</code> \u65b9\u6cd5\u4f1a\u6309\u7167\u4e00\u4e2a\u641c\u7d22\u8def\u5f84\u67e5\u627e\u6587\u4ef6\u3002\u5178\u578b\u7684\u4f7f\u7528\u573a\u666f\u662f\u5728\u73af\u5883\u53d8\u91cf <code>PATH</code> \u5b9a\u4e49\u7684\u8def\u5f84\u4e2d\u67e5\u627e\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u6ca1\u6709\u627e\u5230\u6587\u4ef6\uff0c<code>which()</code> \u8fd4\u56de <code>None</code> \u3002</p> <pre><code>print(shutil.which(\"cmd\"))\n</code></pre> <pre><code>C:\\WINDOWS\\system32\\cmd.EXE\n</code></pre> <p><code>which()</code> \u65b9\u6cd5\u63a5\u6536\u53c2\u6570\u4f9d\u636e\u6587\u4ef6\u6743\u9650\u4ee5\u53ca\u641c\u7d22\u8def\u5f84\u8fdb\u884c\u8fc7\u6ee4\u3002<code>path</code> \u53c2\u6570\u9ed8\u8ba4\u662f <code>os.environ('PATH')</code>\uff0c\u4f46\u662f\u53ef\u4ee5\u662f\u4efb\u4f55\u7531 <code>os.pathsep</code> \u5206\u9694\u7684\u5b57\u7b26\u4e32\u3002<code>mode</code> \u53c2\u6570\u5e94\u8be5\u662f\u4e00\u4e2a\u5339\u914d\u6587\u4ef6\u6743\u9650\u7684\u4f4d\u63a9\u7801\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u67e5\u627e\u53ef\u6267\u884c\u6587\u4ef6\u3002\u4e0b\u5217\u7684\u4f8b\u5b50\u4f7f\u7528\u4e86\u53ef\u8bfb\u63a9\u7801\u4ee5\u53ca\u4e00\u4e2a\u641c\u7d22\u8def\u5f84\u53bb\u67e5\u627e\u914d\u7f6e\u6587\u4ef6\u3002</p> <pre><code>path = os.pathsep.join([\n    '.',\n    os.path.expanduser('~/pymotw'),\n])\n\nmode = os.F_OK | os.R_OK\nfilename = shutil.which('config.ini', mode=mode, path=path)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.16.shutil.html#_5","title":"\u89e3\u538b\u7f29","text":"<p>Python \u6807\u51c6\u5e93\u5305\u542b\u4e86\u8bb8\u591a\u6a21\u5757\u7528\u4e8e\u7ba1\u7406\u538b\u7f29\u6587\u4ef6\uff0c\u4f8b\u5982 tarfile \u548c zipfile\u3002shutil \u6a21\u5757\u4e2d\u4e5f\u6709\u51e0\u4e2a\u9ad8\u9636\u65b9\u6cd5\u7528\u4e8e\u89e3\u538b\u7f29\u6587\u4ef6\u3002</p> <p><code>shutil</code> \u6a21\u5757\u7ef4\u62a4\u4e86\u4e00\u4e2a\u53ef\u5728\u5f53\u524d\u7cfb\u7edf\u4e0a\u538b\u7f29\u3001\u89e3\u538b\u7f29\u7684\u683c\u5f0f\u6ce8\u518c\u8868\uff0c\u901a\u8fc7<code>get_archive_formats()</code> \u548c <code>get_unpack_formats()</code> \u8bbf\u95ee\u3002\u652f\u6301\u7684\u683c\u5f0f\u4f9d\u8d56\u4e8e\u54ea\u4e9b\u6a21\u5757\u548c\u5e95\u5c42\u5e93\u53ef\u7528\u3002</p> <pre><code>shutil.get_archive_formats()\n</code></pre> <pre><code>[('bztar', \"bzip2'ed tar-file\"),\n ('gztar', \"gzip'ed tar-file\"),\n ('tar', 'uncompressed tar file'),\n ('xztar', \"xz'ed tar-file\"),\n ('zip', 'ZIP file')]\n</code></pre> <p>\u89e3\u538b\u7f29\u7684\u6ce8\u518c\u8868\u4e0d\u540c\u4e8e\u521b\u5efa\u538b\u7f29\u6587\u4ef6\u7684\u6ce8\u518c\u8868\uff0c\u56e0\u4e3a\u5b83\u8fd8\u5305\u62ec\u7528\u4e8e\u6bcf\u79cd\u683c\u5f0f\u7684\u5e38\u7528\u6587\u4ef6\u6269\u5c55\u540d\uff0c\u4ee5\u4fbf\u89e3\u538b\u65b9\u6cd5\u6839\u636e\u6587\u4ef6\u6269\u5c55\u540d\u731c\u6d4b\u8981\u4f7f\u7528\u7684\u683c\u5f0f\u3002</p> <pre><code>shutil.get_unpack_formats()\n</code></pre> <pre><code>[('bztar', ['.tar.bz2', '.tbz2'], \"bzip2'ed tar-file\"),\n ('gztar', ['.tar.gz', '.tgz'], \"gzip'ed tar-file\"),\n ('tar', ['.tar'], 'uncompressed tar file'),\n ('xztar', ['.tar.xz', '.txz'], \"xz'ed tar-file\"),\n ('zip', ['.zip'], 'ZIP file')]\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>register_archive_format()</code> \u548c <code>register_unpack_format()</code> \u51fd\u6570\u6ce8\u518c\u81ea\u5b9a\u4e49\u7684\u538b\u7f29\u3001\u89e3\u538b\u7f29\u51fd\u6570\u3002</p> <pre><code>shutil.register_archive_format(name, function, extra_args=None,\n                               description='')\n</code></pre> <pre><code>shutil.register_unpack_format(name, extensions, function, extra_args=None,\n                              description='')\n</code></pre> <p>\u6216\u8005\u4f7f\u7528 <code>unregister_archive_format()</code> \u548c <code>unregister_unpack_format()</code> \u51fd\u6570\u53d6\u6d88\u6ce8\u518c\u538b\u7f29\u3001\u89e3\u538b\u7f29\u51fd\u6570\u3002</p> <pre><code>shutil.unregister_archive_format(name)\nshutil.unregister_unpack_format(name)\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528 <code>make_archive()</code> \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u538b\u7f29\u6587\u4ef6\u3002<code>make_archive()</code> \u7684\u53c2\u6570\u4f3c\u4e4e\u6709\u70b9\u6df7\u4e71\uff0c\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u7b80\u5355\u7684\u7528\u6cd5\u3002</p> <pre><code>shutil.make_archive(base_name, format, root_dir=None, base_dir=None,\n                    verbose=0, dry_run=0, owner=None, group=None, logger=None)\n</code></pre> <pre><code>import os, shutil\ndef make_archive(source, destination):\n        base = os.path.basename(destination)\n        name = base.split('.')[0]\n        format = base.split('.')[1]\n        archive_from = os.path.dirname(source)\n        archive_to = os.path.basename(source.strip(os.sep))\n        print(source, destination, archive_from, archive_to)\n        shutil.make_archive(name, format, archive_from, archive_to)\n        shutil.move('%s.%s'%(name,format), destination)\n\nmake_archive('/path/to/folder', '/path/to/folder.zip')\n</code></pre> <p>https://www.thinbug.com/q/45245079</p> <p>\u4f7f\u7528 <code>unpack_archive()</code> \u89e3\u538b\u6587\u4ef6\uff0c\u4f20\u5165\u538b\u7f29\u6587\u4ef6\u540d\u4ee5\u53ca\u53ef\u9009\u7684\u89e3\u538b\u76ee\u5f55\uff0c\u9ed8\u8ba4\u662f\u5f53\u524d\u76ee\u5f55\u3002</p> <pre><code>shutil.unpack_archive(filename, extract_dir=None, format=None)\n</code></pre> <p><code>filename</code> \u662f\u538b\u7f29\u6863\u6848\u7684\u540d\u79f0\u3002<code>extract_dir</code> \u662f\u89e3\u538b\u7684\u76ee\u6807\u76ee\u5f55\u3002\u5982\u679c\u672a\u63d0\u4f9b\uff0c\u5219\u4f7f\u7528\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002<code>format</code> \u662f\u538b\u7f29\u6863\u6848\u683c\u5f0f\uff1azip \u3001tar\u3001gztar\u3001bztar\u3001xztar \u5176\u4e2d\u4e4b\u4e00\uff0c\u6216\u7740\u4efb\u4f55\u5176\u4ed6\u7684\u6ce8\u518c\u683c\u5f0f\u3002\u5982\u679c\u672a\u63d0\u4f9b\uff0c<code>unpack_archive</code> \u5c06\u4f7f\u7528\u6587\u4ef6\u6269\u5c55\u540d\uff0c\u5e76\u67e5\u770b\u662f\u5426\u4e3a\u8be5\u6269\u5c55\u540d\u6ce8\u518c\u4e86\u89e3\u538b\u7a0b\u5e8f\u3002\u5982\u679c\u6ca1\u6709\u627e\u5230\uff0c\u5219\u4f1a\u5f15\u53d1<code>ValueError</code>\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.16.shutil.html#_6","title":"\u6587\u4ef6\u7cfb\u7edf\u7a7a\u95f4","text":"<p><code>disk_usage()</code> \u8fd4\u56de\u4e00\u4e2a\u5143\u7ec4\u8868\u793a\u7cfb\u7edf\u603b\u7a7a\u95f4\uff0c\u5f53\u524d\u4f7f\u7528\u603b\u91cf\u4ee5\u53ca\u5269\u4f59\u603b\u91cf\uff0c\u5176\u5355\u4f4d\u4e3a\u5b57\u8282\u3002</p> <pre><code>shutil.disk_usage(path)\n</code></pre> <pre><code>import shutil\n\ntotal_b, used_b, free_b = shutil.disk_usage('.')\n\ngib = 2 ** 30  # GiB == gibibyte\ngb = 10 ** 9   # GB == gigabyte\n\nprint('Total: {:6.2f} GB  {:6.2f} GiB'.format(\n    total_b / gb, total_b / gib))\nprint('Used : {:6.2f} GB  {:6.2f} GiB'.format(\n    used_b / gb, used_b / gib))\nprint('Free : {:6.2f} GB  {:6.2f} GiB'.format(\n    free_b / gb, free_b / gib))\n</code></pre> <pre><code>Total: 479.88 GB  446.92 GiB\nUsed : 318.18 GB  296.33 GiB\nFree : 161.69 GB  150.59 GiB\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.16.shutil.html#_7","title":"\u83b7\u53d6\u7ec8\u7aef\u7a97\u53e3\u7684\u5927\u5c0f","text":"<pre><code>shutil.get_terminal_size(fallback=(80, 24))\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.16.shutil.html#_8","title":"\u5ffd\u7565\u51fd\u6570","text":"<pre><code>shutil.ignore_patterns(patterns)\n</code></pre> <p><code>ignore_patterns</code> \u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u4f5c <code>copytree()</code> \u7684\u51fd\u6570\u7684 <code>ignore</code> \u53c2\u6570\u3002\u4ee5\u4e0b\u8868\u793a\u5ffd\u7565 python \u6587\u4ef6\u3002</p> <pre><code>shutil.ignore_patterns('*.py')\n</code></pre> <pre><code>&lt;function shutil.ignore_patterns.&lt;locals&gt;._ignore_patterns(path, names)&gt;\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.17.test.html","title":"6.17.test","text":"<p>\ufeff\u8fd9\u662f\u4e00\u4e2a\u6bb5\u843d</p> <p>\u8fd9\u662f\u4e00\u4e2a\u6bb5\u843d</p> <p>Note</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismodnulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctormassa, nec semper lorem quam in massa.</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismodnulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctormassa, nec semper lorem quam in massa.</p> Unordered List <p>Example:</p> <pre><code>* Sed sagittis eleifend rutrum\n* Donec vitae suscipit est\n* Nulla tempor lobortis orci\n</code></pre> <p>Result:</p> <ul> <li>Sed sagittis eleifend rutrum Donec vitae suscipit est Nulla tempor lobortis orci </li> </ul> <p>Note</p> <p>massa, nec semper lorem quam in massa.</p> Unordered List <p>Example:</p> <pre><code>* Sed sagittis eleifend rutrum\n* Donec vitae suscipit est\n* Nulla tempor lobortis orci\n</code></pre> <p>Result:</p> <ul> <li>Sed sagittis eleifend rutrum Donec vitae suscipit est Nulla tempor lobortis orci</li> </ul> <p>Note</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismodnulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctormassa, nec semper lorem quam in massa.</p> <p>$$ \\sum $$</p> Unordered List <p>Example:</p> <pre><code>* Sed sagittis eleifend rutrum\n* Donec vitae suscipit est\n* Nulla tempor lobortis orci\n</code></pre> <p>Result:</p> <ul> <li>Sed sagittis eleifend rutrum Donec vitae suscipit est Nulla tempor lobortis orci</li> </ul> <p>\u8fd9\u662f\u4e00\u4e2a\u6bb5\u843d</p> <p>\u8fd9\u662f\u4e00\u4e2a\u6bb5\u843d</p> Unordered ListOrdered List <p>Example:</p> <pre><code>* Sed sagittis eleifend rutrum\n* Donec vitae suscipit est\n* Nulla tempor lobortis orci\n</code></pre> <p>Result:</p> <ul> <li>Sed sagittis eleifend rutrum</li> <li>Donec vitae suscipit est</li> <li>Nulla tempor lobortis orci</li> </ul> <p>Example:</p> <pre><code>1. Sed sagittis eleifend rutrum\n2. Donec vitae suscipit est\n3. Nulla tempor lobortis orci\n</code></pre> <p>Result:</p> <ol> <li>Sed sagittis eleifend rutrum</li> <li>Donec vitae suscipit est</li> <li>Nulla tempor lobortis orci</li> </ol> <pre><code>a = 1\nb = a\nif a == b:\n    print(True)\n</code></pre> <p>\u8fd9\u662f\u4e00\u4e2a\u6bb5\u843d</p> <p>\u8fd9\u662f\u4e00\u4e2a\u6bb5\u843d</p> inputoutput <pre><code>a = 1\nb = a\nif a == b:\n    print(True)\n</code></pre> <pre><code>a = 1\nb = a\n</code></pre> <p>a = 1 b = a</p> justlist <pre><code>a = 100\nprint(a)\n</code></pre> <pre><code>100\n</code></pre> <p>==\u6211\u4eec\u5728\u8fd9\u91cc\u3002==\u6d4b\u8bd5\u9ad8\u4eae\u3002\u6d4b\u8bd5\u9ad8\u4eae\u3002</p> <p>\u6211\u4eec\u5728\u8fd9\u91cc\u3002 \u6d4b\u8bd5\u9ad8\u4eae\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.2.textwrap.html","title":"6.2.textwrap","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\n</code></pre> <pre><code>import textwrap\nfrom toolkit.Help import Help as H\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.2.textwrap.html#_1","title":"\u5220\u9664\u524d\u5bfc\u7a7a\u683c\u548c\u540e\u7f00\u7a7a\u683c","text":"<p>\u5220\u9664\u7b2c\u4e00\u884c\u7684\u524d\u5bfc\u7a7a\u683c\u548c\u6700\u540e\u4e00\u884c\u7684\u540e\u7f00\u7a7a\u683c\uff0c<code>width</code>\u53c2\u6570\u63a7\u5236\u6bcf\u4e00\u884c\u7684\u5bbd\u5ea6\uff1a</p> <pre><code>sample_text = '''\n    The textwrap module can be used to format text for output in\n    situations where pretty-printing is desired.  It offers\n    programmatic functionality similar to the paragraph wrapping\n    or filling features found in many text editors.\n    '''\n\nprint(sample_text)\nprint(textwrap.fill(sample_text, width=50))\n</code></pre> <pre><code>    The textwrap module can be used to format text for output in\n    situations where pretty-printing is desired.  It offers\n    programmatic functionality similar to the paragraph wrapping\n    or filling features found in many text editors.\n\n     The textwrap module can be used to format\ntext for output in     situations where pretty-\nprinting is desired.  It offers     programmatic\nfunctionality similar to the paragraph wrapping\nor filling features found in many text editors.\n</code></pre> <p>\u7ed3\u679c\u5e76\u4e0d\u5c3d\u5982\u4eba\u610f\u3002\u6587\u672c\u73b0\u5728\u662f\u5de6\u5bf9\u9f50\u7684\uff0c\u53ea\u6709\u7b2c\u4e00\u884c\u4fdd\u7559\u4e86\u7f29\u8fdb\uff0c\u4f46\u662f\u539f\u6765\u7684\u6bcf\u4e00\u884c\u7684\u672b\u5c3e\u548c\u4e0b\u4e00\u884c\u7684\u5f00\u5934\u4e4b\u95f4\u4ecd\u6709\u7a7a\u683c\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.2.textwrap.html#_2","title":"\u79fb\u9664\u6240\u6709\u7a7a\u683c","text":"<p>\u4f7f\u7528 <code>dedent()</code> \u51fd\u6570\u53ef\u4ee5\u79fb\u53bb\u6240\u6709\u884c\u4e2d\u7684\u7a7a\u683c\u524d\u7f00\u548c\u540e\u7f00\uff1a</p> <pre><code>dedented_text = textwrap.dedent(sample_text)\nprint(dedented_text)\n</code></pre> <pre><code>The textwrap module can be used to format text for output in\nsituations where pretty-printing is desired.  It offers\nprogrammatic functionality similar to the paragraph wrapping\nor filling features found in many text editors.\n</code></pre> <p>\u56e0\u4e3a <code>dedent</code> \u662f <code>indent</code> \u7684\u53cd\u4e49\u8bcd\uff0c \u6240\u4ee5\u8f93\u51fa\u7ed3\u679c\u662f\u4e00\u6bb5\u5220\u9664\u4e86\u6bcf\u4e00\u884c\u4e2d\u90fd\u5b58\u5728\u7684\u7f29\u8fdb\u7a7a\u767d\u7684\u6587\u5b57\u3002\u5982\u679c\u67d0\u4e00\u884c\u6bd4\u5176\u4ed6\u884c\u7f29\u8fdb\u7684\u66f4\u591a\uff0c\u591a\u51fa\u7684\u90e8\u5206\u5c06\u4e0d\u4f1a\u88ab\u79fb\u9664\u3002</p> <pre><code>print(textwrap.dedent(\"\"\"\n Line one.\n  Line two.\n   Line three.\n\"\"\"))\n</code></pre> <pre><code>Line one.\n Line two.\n  Line three.\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.2.textwrap.html#_3","title":"\u6dfb\u52a0\u524d\u7f00","text":"<p>\u7528 <code>indent()</code> \u51fd\u6570\u5728\u5b57\u7b26\u4e32\u6bcf\u4e00\u884c\u5f00\u5934\u52a0\u5165\u524d\u7f00\u6587\u672c\u3002\u8fd9\u4e2a\u4f8b\u5b50\u975e\u5e38\u7c7b\u4f3c\u7535\u5b50\u90ae\u4ef6\u56de\u590d\u4e2d\u88ab\u5f15\u7528\u7684\u90e8\u5206\uff0c\u4f7f\u7528 <code>&gt;</code> \u7b26\u53f7\u6765\u505a\u6bcf\u884c\u6587\u5b57\u7684\u524d\u7f00\u3002</p> <pre><code>dedented_text = textwrap.dedent(sample_text)\nwrapped = textwrap.fill(dedented_text, width=50)\nwrapped += '\\n\\nSecond paragraph after a blank line.'\nprint(wrapped)\nfinal = textwrap.indent(wrapped, '&gt; ')\nprint('Quoted block:\\n')\nprint(final)\n</code></pre> <pre><code> The textwrap module can be used to format text\nfor output in situations where pretty-printing is\ndesired.  It offers programmatic functionality\nsimilar to the paragraph wrapping or filling\nfeatures found in many text editors.\n\nSecond paragraph after a blank line.\nQuoted block:\n\n&gt;  The textwrap module can be used to format text\n&gt; for output in situations where pretty-printing is\n&gt; desired.  It offers programmatic functionality\n&gt; similar to the paragraph wrapping or filling\n&gt; features found in many text editors.\n\n&gt; Second paragraph after a blank line.\n</code></pre> <p>\u4e00\u6bb5\u6587\u5b57\u88ab\u5206\u6210\u4e86\u51e0\u884c\uff0c\u6bcf\u4e00\u884c\u6587\u5b57\u524d\u90fd\u52a0\u4e86\u524d\u7f00\uff0c\u7136\u540e\u6bcf\u884c\u6587\u5b57\u91cd\u65b0\u7ec4\u6210\u6574\u4e2a\u6587\u5b57\u6bb5\u843d\u5e76\u8fd4\u56de\u3002</p> <p>\u8981\u63a7\u5236\u7279\u5b9a\u7684\u4e00\u884c\u63a5\u53d7\u65b0\u524d\u7f00\uff0c\u7ed9 <code>indent()</code> \u7684 <code>predicate</code> \u53c2\u6570\u8d4b\u503c\u3002\u8be5\u64cd\u4f5c\u4f1a\u8f6e\u6d41\u904d\u5386\u6bcf\u884c\u7684\u6587\u672c\uff0c\u5f53\u503c\u4e3a\u771f\u65f6\u5c06\u5728\u8be5\u884c\u52a0\u4e0a\u524d\u7f00\u3002</p> <pre><code>def should_indent(line):\n    print('Indent {!r}?'.format(line))\n    return len(line.strip()) % 2 == 0\n\ndedented_text = textwrap.dedent(sample_text)\nwrapped = textwrap.fill(dedented_text, width=50)\nfinal = textwrap.indent(wrapped, 'EVEN ',\n                        predicate=should_indent)\n\nprint('\\nQuoted block:\\n')\nprint(final)\n</code></pre> <pre><code>Indent ' The textwrap module can be used to format text\\n'?\nIndent 'for output in situations where pretty-printing is\\n'?\nIndent 'desired.  It offers programmatic functionality\\n'?\nIndent 'similar to the paragraph wrapping or filling\\n'?\nIndent 'features found in many text editors.'?\n\nQuoted block:\n\nEVEN  The textwrap module can be used to format text\nfor output in situations where pretty-printing is\nEVEN desired.  It offers programmatic functionality\nEVEN similar to the paragraph wrapping or filling\nEVEN features found in many text editors.\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.2.textwrap.html#_4","title":"\u60ac\u6302\u7f29\u8fdb","text":"<p>\u540c\u65f6\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u8f93\u51fa\u6bb5\u843d\u7684\u5bbd\u5ea6\uff0c\u53ef\u4ee5\u5355\u72ec\u63a7\u5236\u9996\u884c\u7684\u7f29\u8fdb\u3002</p> <pre><code>dedented_text = textwrap.dedent(sample_text).strip()\nprint(textwrap.fill(dedented_text,\n                    initial_indent='',\n                    subsequent_indent=' ' * 4,\n                    width=50,\n                    ))\n</code></pre> <pre><code>The textwrap module can be used to format text for\n    output in situations where pretty-printing is\n    desired.  It offers programmatic functionality\n    similar to the paragraph wrapping or filling\n    features found in many text editors.\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.2.textwrap.html#_5","title":"\u51cf\u77ed\u957f\u6587\u672c","text":"<p>\u4e3a\u4e86\u67e5\u770b\u957f\u6587\u672c\u7684\u6458\u8981\u6216\u9884\u89c8\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>shorten()</code> \u3002\u6240\u6709\u7684\u7a7a\u683c\uff0c\u6bd4\u5982\u5236\u8868\u7b26\u3001\u6362\u884c\u7b26\u4ee5\u53ca\u4e00\u7cfb\u5217\u7684\u7a7a\u683c\u90fd\u5c06\u6807\u51c6\u5316\u4e3a\u5355\u4e2a\u7a7a\u683c\u3002\u7136\u540e\u6b64\u6587\u672c\u5c06\u51cf\u77ed\u4e3a\u8981\u6c42\u7684\u957f\u5ea6\u6765\u663e\u793a\uff0c\u5728\u5b57\u8bcd\u8fb9\u754c\u4e4b\u95f4\uff0c\u5c06\u4e0d\u5305\u62ec\u4e0d\u5b8c\u6574\u7684\u8bcd\u3002</p> <pre><code>dedented_text = textwrap.dedent(sample_text)\noriginal = textwrap.fill(dedented_text, width=50)\n\nprint('Original:\\n')\nprint(original)\n\nshortened = textwrap.shorten(original, 100)\nshortened_wrapped = textwrap.fill(shortened, width=50)\n\nprint('\\nShortened:\\n')\nprint(shortened_wrapped)\n</code></pre> <pre><code>Original:\n\n The textwrap module can be used to format text\nfor output in situations where pretty-printing is\ndesired.  It offers programmatic functionality\nsimilar to the paragraph wrapping or filling\nfeatures found in many text editors.\n\nShortened:\n\nThe textwrap module can be used to format text for\noutput in situations where pretty-printing [...]\n</code></pre> <p>\u5982\u679c\u975e\u7a7a\u5b57\u5143\u5728\u539f\u6587\u672c\u4e2d\u88ab\u5f53\u4f5c\u51cf\u77ed\u7684\u90e8\u5206\u88ab\u79fb\u9664\uff0c\u4ed6\u5c06\u66ff\u6362\u4e3a\u5360\u4f4d\u7b26\u3002\u9ed8\u8ba4\u503c <code>[...]</code> \u53ef\u4ee5\u88ab\u66ff\u6362\uff0c\u5728 <code>shorten()</code> \u4e2d\u52a0\u5165 <code>placeholder</code> \u53c2\u6570\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.2.textwrap.html#_6","title":"\u5f3a\u5236\u6362\u884c","text":"<p>\u6bcf\u4e00\u884c\u8d85\u8fc720\u4e2a\u5b57\u7b26\u5c31\u5f3a\u5236\u6362\u884c\uff08\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5355\u8bcd\u88ab\u62c6\u5206\uff09\uff1a</p> <pre><code>textwrap.wrap(sample_text, width=20)\n</code></pre> <pre><code>['     The textwrap',\n 'module can be used',\n 'to format text for',\n 'output in',\n 'situations where',\n 'pretty-printing is',\n 'desired.  It offers',\n 'programmatic',\n 'functionality',\n 'similar to the',\n 'paragraph wrapping',\n 'or filling features',\n 'found in many text',\n 'editors.']\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.3.time.html","title":"6.3.time","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\n</code></pre> <pre><code>import time\nimport textwrap\nimport warnings\n# from tools import Help as H\nwarnings.filterwarnings(\"ignore\")\n</code></pre> <p>\u65f6\u95f4\u6a21\u5757 <code>time</code> \u63d0\u4f9b\u4e86\u51e0\u79cd\u4e0d\u540c\u7c7b\u578b\u65f6\u95f4\u7684\u65b9\u6cd5\uff0c\u6bcf\u4e00\u79cd\u5bf9\u4e0d\u540c\u76ee\u7684\u90fd\u6709\u7528\u3002</p> <ol> <li>\u6807\u51c6\u7cfb\u7edf\u901a\u8fc7\u8c03\u7528 <code>time()</code> \uff08\u6a21\u5757\uff09\u62a5\u544a\u7cfb\u7edf\u6302\u949f\u65f6\u95f4\uff08\"wall clock\" \u4e00\u822c\u6307\u7a0b\u5e8f\u6267\u884c\u65f6\u95f4\uff09\u3002 </li> <li>\u5355\u8c03\u65f6\u949f\u6a21\u5757 <code>monotonic()</code> \u7528\u4e8e\u4f30\u7b97\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u7a0b\u5e8f\u7684\u8fd0\u884c\u65f6\u95f4\uff0c\u56e0\u4e3a\u5373\u4f7f\u7cfb\u7edf\u65f6\u95f4\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u5b83\u4e5f\u4fdd\u8bc1\u4e0d\u4f1a\u540e\u9000\u3002</li> <li>\u5bf9\u4e8e\u7a0b\u5e8f\u6d4b\u8bd5\uff0c<code>perf_counter()</code> \uff08\u6a21\u5757\uff09 \u63d0\u4f9b\u4e86\u9ad8\u5206\u8fa8\u7387\u7684\u65f6\u949f\u8bbf\u95ee\u65b9\u5f0f\uff0c\u4f7f\u77ed\u65f6\u95f4\u7684\u6d4b\u8bd5\u66f4\u51c6\u786e\u3002</li> <li>CPU \u65f6\u95f4\u53ef\u4ee5\u901a\u8fc7 <code>clock()</code> \u83b7\u5f97\uff0c\u800c <code>process_time()</code> \u5219\u4f1a\u8fd4\u56de\u5904\u7406\u5668\u65f6\u95f4\u548c\u7cfb\u7edf\u65f6\u95f4\u7684\u7ec4\u5408\u3002</li> </ol>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.3.time.html#_1","title":"\u5404\u4e2a\u65f6\u949f","text":"<p>\u65f6\u949f\u7684\u5b9e\u73b0\u7ec6\u8282\u56e0\u5e73\u53f0\u800c\u5f02\u3002\u4f7f\u7528 \u201cget_clock_info ()\u201d \u6765\u8bbf\u95ee\u5173\u4e8e\u5f53\u524d\u65b9\u5f0f\u7684\u57fa\u672c\u4fe1\u606f\uff0c\u5305\u62ec\u65f6\u949f\u7684\u5206\u8fa8\u7387\u3002</p> <p>\u5f53\u524dPython\u7248\u672c\u6240\u6709\u53ef\u7528\u7684\u65f6\u949f\u5982\u4e0b\uff1a</p> <pre><code>available_clocks = [\n    ('clock', time.clock),\n    ('monotonic', time.monotonic),\n    ('perf_counter', time.perf_counter),\n    ('process_time', time.process_time),\n    ('time', time.time),\n    ('thread_time', time.thread_time),\n]\n</code></pre> <pre><code>for clock_name, func in available_clocks:\n    print(textwrap.dedent('''\\\n{name}:\n        adjustable    : {info.adjustable}\n        implementation: {info.implementation}\n        monotonic     : {info.monotonic}\n        resolution    : {info.resolution}\n        current       : {current}\n    ''').format(\n        name=clock_name,\n        info=time.get_clock_info(clock_name),\n        current=func())\n    )\n</code></pre> <pre><code>clock:\n    adjustable    : False\n    implementation: QueryPerformanceCounter()\n    monotonic     : True\n    resolution    : 1e-07\n    current       : 516160.6853218\n\nmonotonic:\n    adjustable    : False\n    implementation: GetTickCount64()\n    monotonic     : True\n    resolution    : 0.015625\n    current       : 1123921.625\n\nperf_counter:\n    adjustable    : False\n    implementation: QueryPerformanceCounter()\n    monotonic     : True\n    resolution    : 1e-07\n    current       : 516160.6890105\n\nprocess_time:\n    adjustable    : False\n    implementation: GetProcessTimes()\n    monotonic     : True\n    resolution    : 1e-07\n    current       : 565.125\n\ntime:\n    adjustable    : True\n    implementation: GetSystemTimeAsFileTime()\n    monotonic     : False\n    resolution    : 0.015625\n    current       : 1580735857.8439054\n\nthread_time:\n    adjustable    : False\n    implementation: GetThreadTimes()\n    monotonic     : True\n    resolution    : 1e-07\n    current       : 528.671875\n</code></pre> <p>Windows 10 \u7684\u8f93\u51fa\u663e\u793a\u5176 perf_counter \u548c clocks \u6a21\u5757\u8c03\u7528\u76f8\u540c\u7684\u5e95\u5c42\u3002clocks \u5728Python 3.8\u4f1a\u88ab\u79fb\u9664\u3002        </p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.3.time.html#time","title":"\u6302\u949f\u65f6\u95f4\u2014\u2014time","text":"<p><code>time</code> \u6a21\u5757\u7684\u6838\u5fc3\u51fd\u6570\u4e4b\u4e00\u662f <code>time()</code> \uff0c\u5b83\u53ef\u4ee5\u628a\u4ece \u300cepoch\u300d \u5f00\u59cb\u4e4b\u540e\u7684\u79d2\u6570\u4ee5\u6d6e\u70b9\u6570\u7684\u683c\u5f0f\u8fd4\u56de\u3002</p> <pre><code>print('The time is:', time.time())\nprint('The time is:', time.time_ns())\n</code></pre> <pre><code>The time is: 1580735857.8729014\nThe time is: 1580735857877901000\n</code></pre> <p>\u65f6\u5143 (epoch) \u662f\u6d4b\u91cf\u65f6\u95f4\u7684\u5f00\u59cb\uff0c\u5bf9\u4e8e Unix \u7cfb\u7edf\u6765\u8bf4\uff0c\u65f6\u5143\u662f 1970 \u5e74 1 \u6708 1 \u65e5 0 \u70b9\u3002 \u867d\u7136\u8be5\u6570\u503c\u4e00\u76f4\u662f\u4e00\u4e2a\u6d6e\u70b9\u6570\uff0c\u4f46\u662f\u5b83\u7684\u5b9e\u9645\u7cbe\u5ea6\u662f\u4f9d\u8d56\u4e8e\u5e73\u53f0\u7684\u3002</p> <p>\u867d\u7136\u6d6e\u70b9\u8868\u793a\u5728\u5b58\u50a8\u6216\u8005\u6bd4\u8f83\u65e5\u671f\u65f6\u975e\u5e38\u6709\u6548\uff0c\u4f46\u662f\uff0c\u5728\u751f\u6210\u4eba\u7c7b\u53ef\u8bfb\u7684\u8868\u793a\u65f6\u5c31\u663e\u5f97\u6709\u70b9\u529b\u4e0d\u4ece\u5fc3\u3002\u5bf9\u4e8e\u8bb0\u5f55\u6216\u8005\u6253\u5370\u65f6\u95f4\uff0c <code>ctime()</code> \u53ef\u80fd\u4f1a\u66f4\u6709\u6548\u3002</p> <p><code>ctime()</code>\u5c06\u81eaepoch\u4ee5\u6765\u7684\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\u8f6c\u6362\u4e3a\u672c\u5730\u65f6\u95f4\u7684\u5b57\u7b26\u4e32\u3002\u8fd9\u7b49\u6548\u4e8e<code>asctime(localtime(seconds))</code>\u3002\u5982\u679c\u65f6\u95f4\u5143\u7ec4\u4e0d\u5b58\u5728\uff0c\u5219\u4f7f\u7528localtime()\u8fd4\u56de\u7684\u5f53\u524d\u65f6\u95f4\u3002</p> <pre><code>print('The time is:', time.ctime())\n</code></pre> <pre><code>The time is: Mon Feb  3 21:17:37 2020\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.3.time.html#monotonic","title":"\u5355\u8c03\u65f6\u949f\u2014\u2014monotonic","text":"<p>\u56e0\u4e3a <code>time()</code> \u51fd\u6570\u8fd4\u56de\u7684\u65f6\u95f4\u503c\u662f\u7cfb\u7edf\u65f6\u949f\uff0c\u5e76\u4e14\uff0c\u4e3a\u4e86\u5728\u591a\u53f0\u8ba1\u7b97\u673a\u4e4b\u95f4\u540c\u6b65\u65f6\u949f\uff0c\u7cfb\u7edf\u65f6\u949f\u53ef\u4ee5\u88ab\u7528\u6237\u6216\u8005\u662f\u7cfb\u7edf\u670d\u52a1\u66f4\u6539\uff1b\u6240\u4ee5\uff0c\u5728\u91cd\u590d\u8c03\u7528 <code>time()</code> \u51fd\u6570\u65f6\u4ea7\u751f\u7684\u65f6\u95f4\u503c\u53ef\u80fd\u4f1a\u6709\u524d\u540e\u6ce2\u52a8\u3002\u5728\u6d4b\u91cf\u6301\u7eed\u65f6\u95f4\u6216\u8005\u4f7f\u7528\u8fd9\u4e9b\u65f6\u95f4\u8fdb\u884c\u8ba1\u7b97\u7684\u65f6\u5019\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u610f\u6599\u4e4b\u5916\u7684\u884c\u4e3a\u3002\u901a\u8fc7\u4f7f\u7528 <code>monotonic()</code> \u51fd\u6570\u5c31\u53ef\u4ee5\u907f\u514d\u8fd9\u4e9b\u60c5\u51b5\uff0c\u56e0\u4e3a <code>monotonic()</code> \u51fd\u6570\u603b\u662f\u8fd4\u56de\u524d\u5411\u7684\u65f6\u95f4\u503c\u3002</p> <pre><code>start = time.monotonic()\ntime.sleep(0.1)\nend = time.monotonic()\nprint('start : {:&gt;9.2f}'.format(start))\nprint('end   : {:&gt;9.2f}'.format(end))\nprint('span  : {:&gt;9.2f}'.format(end - start))\n</code></pre> <pre><code>start : 1123921.73\nend   : 1123921.84\nspan  :      0.11\n</code></pre> <p>\u6211\u4eec\u5e76\u6ca1\u6709\u5b9a\u4e49\u5355\u8c03\u65f6\u949f\u7684\u8d77\u59cb\u70b9\u3002\u56e0\u6b64\uff0c\u53ea\u6709\u5728\u4f7f\u7528\u5176\u5b83\u65f6\u949f\u503c\u8fdb\u884c\u8ba1\u7b97\u65f6\uff0c\u5355\u8c03\u65f6\u949f\u7684\u8fd4\u56de\u503c\u624d\u4f1a\u6709\u7528\u3002 \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u7761\u7720\u7684\u6301\u7eed\u65f6\u95f4\u5c31\u662f\u7528 <code>monotonic()</code> \u51fd\u6570\u6d4b\u91cf\u7684\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.3.time.html#_2","title":"\u5904\u7406\u5668\u65f6\u949f\u65f6\u95f4","text":"<p><code>time()</code> \u51fd\u6570\u8fd4\u56de\u7684\u662f\u6302\u949f\u65f6\u95f4\uff0c <code>perf_counter()</code> \u51fd\u6570\u8fd4\u56de\u7684\u662f\u5904\u7406\u5668\u65f6\u949f\u65f6\u95f4\u3002 <code>perf_counter()</code> \u51fd\u6570\u7684\u8fd4\u56de\u503c\u53cd\u6620\u4e86\u7a0b\u5e8f\u8fd0\u884c\u65f6\u4f7f\u7528\u7684\u5b9e\u9645\u65f6\u95f4\u3002</p> <pre><code>for i in range(4):\n    time.sleep(1)\n    print(time.ctime(), ': {:0.3f} {:0.3f}'.format(time.time(), time.perf_counter()))\n</code></pre> <pre><code>Mon Feb  3 21:17:39 2020 : 1580735859.086 516161.933\nMon Feb  3 21:17:40 2020 : 1580735860.087 516162.934\nMon Feb  3 21:17:41 2020 : 1580735861.088 516163.935\nMon Feb  3 21:17:42 2020 : 1580735862.089 516164.936\n</code></pre> <p>\u5982\u679c\u4f60\u60f3\u8981\u5728\u81ea\u5df1\u7684\u7cfb\u7edf\u4e0a\u8fd0\u884c\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u9700\u8981\u60f3\u529e\u6cd5\u589e\u52a0\u5355\u6b21\u5185\u5faa\u73af\u7684\u5faa\u73af\u5468\u671f\u6216\u8005\u663e\u8457\u5730\u589e\u52a0\u5faa\u73af\u7684\u603b\u6b21\u6570\uff0c\u624d\u53ef\u4ee5\u771f\u6b63\u5730\u770b\u5230\u65f6\u95f4\u5dee\u5f02\u3002\uff08\u5982\u679c\u5faa\u73af\u5468\u671f\u592a\u77ed\uff0c\u5faa\u73af\u6b21\u6570\u592a\u5c11\u7684\u8bdd\uff0c\u8fd4\u56de\u7684\u65f6\u95f4\u503c\u53ef\u80fd\u8fd8\u6ca1\u6709\u6765\u5f97\u53ca\u53d8\u5316\uff0c\u6574\u4e2a\u7a0b\u5e8f\u5c31\u7ed3\u675f\u4e86\u3002\uff09</p> <p>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u7a0b\u5e8f\u4ec0\u4e48\u4e8b\u60c5\u6ca1\u6709\u505a\uff0c\u5904\u7406\u5668\u65f6\u949f\u5c31\u4e0d\u4f1a\u6ef4\u7b54\u8ba1\u65f6\uff0c\u6216\u8005\u8ba1\u65f6\u91cf\u5f88\u5c0f\u3002</p> <pre><code>print(time.ctime(), ': {:0.3f} {:0.3f}'.format(time.time(), time.clock()))\nfor i in range(4):\n    print('Sleeping')\n    print(time.ctime(), ': {:0.3f} {:0.3f}'.format(time.time(), time.clock()))\n</code></pre> <pre><code>Mon Feb  3 21:17:42 2020 : 1580735862.112 516164.959\nSleeping\nMon Feb  3 21:17:42 2020 : 1580735862.113 516164.960\nSleeping\nMon Feb  3 21:17:42 2020 : 1580735862.113 516164.961\nSleeping\nMon Feb  3 21:17:42 2020 : 1580735862.114 516164.961\nSleeping\nMon Feb  3 21:17:42 2020 : 1580735862.114 516164.961\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.3.time.html#_3","title":"\u6027\u80fd\u8ba1\u6570\u5668","text":"<p>\u6709\u4e00\u4e2a\u9ad8\u5206\u8fa8\u7387\u7684\u5355\u8c03\u65f6\u949f\u6765\u8861\u91cf\u6027\u80fd\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002\u8981\u60f3\u786e\u5b9a\u6700\u4f73\u65f6\u949f\u6570\u636e\u6e90\uff0c\u9700\u8981\u4e00\u4e9b\u7279\u5b9a\u4e8e\u5e73\u53f0\u7684\u77e5\u8bc6\uff0c\u8fd9\u4e9b\u77e5\u8bc6\u7531 Python \u4e2d\u7684 <code>perf_counter()</code> \u63d0\u4f9b\u3002</p> <p>\u548c <code>monotonic()</code> \u51fd\u6570\u4e00\u6837\uff0c <code>perf_counter()</code> \u51fd\u6570\u7684\u65f6\u5143\uff08epoch\uff09\u662f\u672a\u5b9a\u4e49\u7684\u3002\u5e76\u4e14\uff0c\u51fd\u6570\u7684\u8fd9\u4e9b\u8fd4\u56de\u503c\u7528\u4e8e\u6bd4\u8f83\u548c\u8ba1\u7b97\uff0c\u800c\u4e0d\u662f\u7528\u4f5c\u7edd\u5bf9\u65f6\u95f4\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.3.time.html#struct_time","title":"struct_time","text":"<p>\u6309\u79d2\u8ba1\u6570\uff0c\u628a\u79d2\u4f5c\u4e3a\u5355\u4f4d\u6765\u5b58\u50a8\u65f6\u95f4\u5728\u67d0\u4e9b\u573a\u5408\u5f88\u9002\u7528\uff0c\u4f46\u6709\u65f6\u5019\u7a0b\u5e8f\u9700\u8981\u8bbf\u95ee\u7684\uff08\u6216\u8005\u8bf4\u7a0b\u5e8f\u611f\u5174\u8da3\u7684\uff09\u662f\u65e5\u671f\u7684\u4e0d\u540c\u5355\u4f4d\u6240\u5bf9\u5e94\u7684\u5404\u4e2a\u90e8\u5206\uff08\u6bd4\u5982\uff0c\u67d0\u5e74\u3001\u67d0\u6708\u7b49\uff09\u3002\u4e3a\u4e86\u8ba9\u65e5\u671f\u7684\u5404\u4e2a\u90e8\u5206\u4fbf\u4e8e\u8bbf\u95ee\uff0c <code>time</code> \u6a21\u5757\u5b9a\u4e49\u4e86 <code>struct_time</code> \uff0c\u5b83\u4ee5\u5404\u4e2a\u90e8\u5206\u5206\u79bb\u7684\u683c\u5f0f\u6765\u5b58\u50a8\u65e5\u671f\u548c\u65f6\u95f4\u503c\u3002 \u6709\u4e9b\u51fd\u6570\u4ee5 <code>struct_time</code> \u7c7b\u578b\u7684\u6570\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u800c\u4e0d\u662f\u6d6e\u70b9\u578b\u7684\u6570\u503c\u3002</p> <ol> <li><code>gmtime()</code> \u51fd\u6570\u8fd4\u56de\u5f53\u524d UTC1 \u65f6\u95f4\uff08\u4e16\u754c\u6807\u51c6\u65f6\u95f4\uff09\u3002</li> <li><code>localtime()</code> \u51fd\u6570\u8fd4\u56de\u7684\u662f\u4e0e\u5f53\u524d\u65f6\u533a\u7684\u5f53\u524d\u65f6\u95f4 \u3002</li> </ol> <p><code>mktime()</code> \u63a5\u6536\u4e00\u4e2a <code>struct_time</code> \u578b\u6570\u503c\u5e76\u5c06\u5176\u8f6c\u6362\u4e3a\u6d6e\u70b9\u578b\u6570\u503c\u3002    </p> <pre><code>print(time.gmtime())\nprint(\"\")\nprint(time.localtime())\n</code></pre> <pre><code>time.struct_time(tm_year=2020, tm_mon=2, tm_mday=3, tm_hour=13,\ntm_min=17, tm_sec=42, tm_wday=0, tm_yday=34, tm_isdst=0)\n\ntime.struct_time(tm_year=2020, tm_mon=2, tm_mday=3, tm_hour=21,\ntm_min=17, tm_sec=42, tm_wday=0, tm_yday=34, tm_isdst=0)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.3.time.html#_4","title":"\u4e0e\u65f6\u533a\u76f8\u5173\u7684\u5de5\u4f5c","text":"<p>\u786e\u5b9a\u5f53\u524d\u65f6\u95f4\u7684\u51fd\u6570\u4f9d\u8d56\u4e8e\u65f6\u533a\u8bbe\u7f6e\uff0c\u65f6\u533a\u53ef\u4ee5\u7531\u7a0b\u5e8f\u8bbe\u7f6e\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u7cfb\u7edf\u7684\u9ed8\u8ba4\u65f6\u533a\u8bbe\u7f6e\u3002\u6539\u53d8\u65f6\u533a\u5e76\u4e0d\u4f1a\u6539\u53d8\u5b9e\u9645\u7684\u65f6\u95f4\uff0c\u53ea\u662f\u6539\u53d8\u5b83\u7684\u8868\u73b0\u65b9\u5f0f\u3002<code>time</code>\u6a21\u5757\u67094\u4e2a\u5c5e\u6027\u8bb0\u5f55\u4e86\u65f6\u533a\u7684\u4fe1\u606f\uff1a</p> <pre><code>import os\n\ndef show_zone_info():\n    print('  TZ    :', os.environ.get('TZ', '(not set)'))\n    print('  tzname:', str(time.tzname).encode('latin-1').decode('gbk'))\n    print('  Zone  : {} ({})'.format(time.timezone, (time.timezone / 3600)))\n    print('  DST   :', time.daylight)\n    print('  ALZone  : {} ({})'.format(time.altzone, (time.altzone / 3600)))\n    print('  Time  :', time.ctime())\n    print()\n\nshow_zone_info()\n</code></pre> <pre><code>  TZ    : (not set)\n  tzname: ('\u4e2d\u56fd\u6807\u51c6\u65f6\u95f4', '\u4e2d\u56fd\u590f\u4ee4\u65f6')\n  Zone  : -28800 (-8.0)\n  DST   : 0\n  ALZone  : -32400 (-9.0)\n  Time  : Mon Feb  3 21:17:42 2020\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.3.time.html#_5","title":"\u89e3\u6790\u548c\u683c\u5f0f\u5316\u65f6\u95f4","text":"<p>\u6709\u4e24\u4e2a\u51fd\u6570 \u2014\u2014 <code>strptime()</code> \u548c <code>strftime()</code> \u2014\u2014 \u53ef\u4ee5\u4f7f\u65f6\u95f4\u503c\u5728 <code>struct_time</code> \u8868\u793a\u548c\u5b57\u7b26\u4e32\u8868\u793a\u4e4b\u95f4\u76f8\u4e92\u8f6c\u6362\u3002\u6709\u4e00\u4e2a\u5f88\u957f\u7684\u683c\u5f0f\u8bf4\u660e\u5217\u8868\u53ef\u4ee5\u7528\u6765\u652f\u6301\u4e0d\u540c\u683c\u5f0f\u7684\u8f93\u5165\u548c\u8f93\u51fa\u3002\u5b8c\u6574\u7684\u5217\u8868\u8bb0\u5f55\u5728 <code>time</code> \u6a21\u5757\u7684\u5e93\u6587\u4ef6\u4e2d\u3002</p> <p>\u8fd9\u4e2a\u4f8b\u5b50\u5c06\u5f53\u524d\u65f6\u95f4\u4ece\u5b57\u7b26\u4e32\u683c\u5f0f\u8f6c\u6362\u6210 <code>struct_time</code> \u5b9e\u4f8b\uff0c\u7136\u540e\u53c8\u5c06\u5176\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u683c\u5f0f\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.3.time.html#struct_time_1","title":"struct_time \u2192 \u6d6e\u70b9\u6570\u65f6\u95f4\uff08\u79d2\uff09","text":"<pre><code>struct_time = time.localtime()\nprint(struct_time)\n\nseconds = time.mktime(struct_time)\nprint(seconds)\n</code></pre> <pre><code>time.struct_time(tm_year=2020, tm_mon=2, tm_mday=3, tm_hour=21,\ntm_min=17, tm_sec=42, tm_wday=0, tm_yday=34, tm_isdst=0)\n1580735862.0\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.3.time.html#struct_time_2","title":"\u6d6e\u70b9\u6570\u65f6\u95f4 \u2192 struct_time","text":""},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.3.time.html#_6","title":"\u6d6e\u70b9\u6570\u65f6\u95f4 \u2192 \u5b57\u7b26\u4e32\u65f6\u95f4","text":"<pre><code>print(time.time())\ntime.ctime(time.time())\n</code></pre> <pre><code>1580735862.2027004\n</code></pre> <pre><code>'Mon Feb  3 21:17:42 2020'\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.3.time.html#struct_time_3","title":"\u5b57\u7b26\u4e32\u65f6\u95f4 \u2192 struct_time","text":"<pre><code>print(time.ctime(time.time()))\ntime.strptime(time.ctime(time.time()))\n</code></pre> <pre><code>Mon Feb  3 21:17:42 2020\n</code></pre> <pre><code>time.struct_time(tm_year=2020, tm_mon=2, tm_mday=3, tm_hour=21,\ntm_min=17, tm_sec=42, tm_wday=0, tm_yday=34, tm_isdst=-1)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.3.time.html#struct_time_4","title":"struct_time \u2192 \u5b57\u7b26\u4e32\u65f6\u95f4","text":"<pre><code>print(time.localtime())\ntime.strftime(\"%a %b %d %H:%M:%S %Y\", time.localtime())\n</code></pre> <pre><code>time.struct_time(tm_year=2020, tm_mon=2, tm_mday=3, tm_hour=21,\ntm_min=17, tm_sec=42, tm_wday=0, tm_yday=34, tm_isdst=0)\n</code></pre> <pre><code>'Mon Feb 03 21:17:42 2020'\n</code></pre> <pre><code>time.asctime(time.localtime())\n</code></pre> <pre><code>'Mon Feb  3 21:17:42 2020'\n</code></pre> <ol> <li> <p>0\u65f6\u533a\u7684\u65f6\u95f4\u662fUTC\u65f6\u95f4\uff0cUTC\u65f6\u95f4\u548c\u683c\u6797\u5a01\u6cbb\u6807\u51c6\u65f6\u95f4\uff08GMT\uff09\u5f88\u63a5\u8fd1\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4e24\u8005\u76f8\u4e92\u66ff\u4ee3\u4e0d\u4f1a\u51fa\u95ee\u9898\uff0c\u4f46\u4e25\u683c\u6765\u8bf4UTC\u548cGMT\u5e76\u4e0d\u76f8\u7b49\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html","title":"6.4.datetime","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\n</code></pre> <pre><code># from tools import Help as H\nimport datetime\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#time","title":"time\uff1a\u65f6\u95f4","text":"<p><code>time</code> \u5b9e\u4f8b\u53ea\u4fdd\u5b58\u65f6\u95f4\u503c\uff0c\u800c\u4e0d\u4fdd\u5b58\u4e0e\u65f6\u95f4\u76f8\u5173\u7684\u65e5\u671f\u503c\u3002</p> <pre><code>t = datetime.time(hour=1, minute=2, second=3, microsecond=4, tzinfo=None)\nprint(t)\nprint('hour       :', t.hour)\nprint('minute     :', t.minute)\nprint('second     :', t.second)\nprint('microsecond:', t.microsecond)\nprint('tzinfo     :', t.tzinfo)\n</code></pre> <pre><code>01:02:03.000004\nhour       : 1\nminute     : 2\nsecond     : 3\nmicrosecond: 4\ntzinfo     : None\n</code></pre> <p><code>min</code> \u548c <code>max</code> \u7c7b\u7684\u5c5e\u6027\u4ee3\u8868\u4e00\u5929\u5185\u7684\u6709\u6548\u65f6\u95f4\u8303\u56f4\u3002<code>time</code> \u7684\u7cbe\u5ea6\uff08\u5373 <code>time</code> \u80fd\u591f\u6709\u6548\u8868\u793a\u7684\u6700\u5c0f\u65f6\u95f4\u95f4\u9694\uff09\u88ab\u9650\u5236\u4e3a1\u5fae\u79d2\u3002</p> <pre><code>print(\"\u6700\u5c0f\u65f6\u95f4\")\nprint('min:', datetime.time.min)\nprint(\"\u6700\u5927\u65f6\u95f4\")\nprint('min:', datetime.time.max)\nprint(\"\u6700\u5c0f\u523b\u5ea6\u5355\u4f4d\")\nprint('Resolution:', datetime.time.resolution)\n</code></pre> <pre><code>\u6700\u5c0f\u65f6\u95f4\nmin: 00:00:00\n\u6700\u5927\u65f6\u95f4\nmin: 23:59:59.999999\n\u6700\u5c0f\u523b\u5ea6\u5355\u4f4d\nResolution: 0:00:00.000001\n</code></pre> <p>\u5176\u4ed6\u6784\u9020\u5668\uff1a<code>datetime.date.today()</code>\uff1a</p> <pre><code>datetime.date.today()\n</code></pre> <pre><code>datetime.date(2020, 2, 3)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#date","title":"date\uff1a\u65e5\u671f","text":"<p>\u65e5\u5386\u65e5\u671f\u53ef\u4ee5\u7528 <code>date</code> \u7c7b\u6765\u63cf\u8ff0\u3002<code>date</code> \u7c7b\u5b9e\u4f8b\u5316\u540e\u6709\u5c5e\u6027  <code>year</code>\uff0c <code>month</code>\uff0c\u548c <code>day</code>\u3002</p> <pre><code># \u5982\u679c\u53c2\u6570\u8d85\u51fa\u9650\u5236\u8303\u56f4\uff0c\u629b\u51faValueError\u5f02\u5e38\nMYdate = datetime.date(year=2019,month=3,day=22)\nprint(MYdate)\nprint('year  :', MYdate.year)\nprint('month :', MYdate.month)\nprint('day   :', MYdate.day)\n\nprint(\"\u6700\u5c0f\u65f6\u95f4\")\nprint('min:', datetime.date.min)\nprint(\"\u6700\u5927\u65f6\u95f4\")\nprint('min:', datetime.date.max)\nprint(\"\u6700\u5c0f\u523b\u5ea6\u5355\u4f4d\")\nprint('Resolution:', datetime.date.resolution)\n</code></pre> <pre><code>2019-03-22\nyear  : 2019\nmonth : 3\nday   : 22\n\u6700\u5c0f\u65f6\u95f4\nmin: 0001-01-01\n\u6700\u5927\u65f6\u95f4\nmin: 9999-12-31\n\u6700\u5c0f\u523b\u5ea6\u5355\u4f4d\nResolution: 1 day, 0:00:00\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#_1","title":"\u5176\u4ed6\u6784\u9020\u51fd\u6570","text":"<pre><code>import time\n\nt = time.time()\n</code></pre> <p>\u4ecetimestamp\u6784\u9020date</p> <pre><code>datetime.date.fromtimestamp(t)\n</code></pre> <pre><code>datetime.date(2020, 2, 3)\n</code></pre> <p>\u4eceproleptic Gregorian ordinal\u6784\u9020date</p> <pre><code>datetime.date.fromordinal(737140)\n</code></pre> <pre><code>datetime.date(2019, 3, 22)\n</code></pre> <p>\u4eceISO\u683c\u5f0f\u7684\u65e5\u671f\u6784\u9020date</p> <pre><code>datetime.date.fromisoformat('2019-03-22')\n</code></pre> <pre><code>datetime.date(2019, 3, 22)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#date_1","title":"date \u2192 \u5b57\u7b26\u4e32\u65f6\u95f4","text":"<pre><code>print(datetime.date.ctime(MYdate))\nprint(datetime.date.strftime(MYdate, \"%a %b %d %H:%M:%S %Y\"))\n</code></pre> <pre><code>Fri Mar 22 00:00:00 2019\nFri Mar 22 00:00:00 2019\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#date-struct_time","title":"date \u2192 struct_time","text":"<pre><code>datetime.date.timetuple(MYdate)\n</code></pre> <pre><code>time.struct_time(tm_year=2019, tm_mon=3, tm_mday=22, tm_hour=0,\ntm_min=0, tm_sec=0, tm_wday=4, tm_yday=81, tm_isdst=-1)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#_2","title":"\u65e5\u671f\u51fd\u6570","text":"<p>Return a 3-tuple containing ISO year, week number, and weekday.</p> <pre><code>datetime.date.isocalendar(MYdate)\n</code></pre> <pre><code>(2019, 12, 5)\n</code></pre> <p>Return the date formatted according to ISO.This is 'YYYY-MM-DD'.</p> <pre><code>datetime.date.isoformat(MYdate)\n</code></pre> <pre><code>'2019-03-22'\n</code></pre> <p>\"Return day of the week, where Monday == 1 ... Sunday == 7.\"</p> <pre><code>datetime.date.isoweekday(MYdate)\n</code></pre> <pre><code>5\n</code></pre> <p>\"Return day of the week, where Monday == 0 ... Sunday == 6.\"</p> <pre><code>datetime.date.weekday(MYdate)\n</code></pre> <pre><code>4\n</code></pre> <p>Return proleptic Gregorian ordinal for the year, month and day.</p> <pre><code>datetime.date.toordinal(MYdate)\n</code></pre> <pre><code>737140\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#datetime","title":"datetime\uff1a\u65e5\u671f\u548c\u65f6\u95f4","text":"<pre><code>date_time = datetime.datetime(year=2020, month=3, \n                              day=23, hour=10, \n                              minute=15, second=30,\n                              microsecond=4, tzinfo=None)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#_3","title":"\u5176\u4ed6\u6784\u9020\u51fd\u6570","text":"<pre><code>datetime.datetime.utcnow()\ndatetime.datetime.now()\ndatetime.datetime.today()\ndatetime.datetime.fromisoformat('2019-03-22-10:15:30')\ndatetime.datetime.fromordinal(737140)\ndatetime.datetime.fromtimestamp(time.time())\ndatetime.datetime.utcfromtimestamp(time.time())\n</code></pre> <pre><code>datetime.datetime(2020, 2, 3, 13, 11, 31, 149891)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#datetime-date","title":"datetime \u2192 date","text":"<pre><code>date_time = datetime.datetime.now()\ndatetime.datetime.date(date_time)\n</code></pre> <pre><code>datetime.date(2020, 2, 3)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#datetime-time","title":"datetime \u2192 time","text":"<pre><code>datetime.datetime.time(date_time)\n</code></pre> <pre><code>datetime.time(21, 11, 31, 172888)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#date-and-time-datetime","title":"date and time \u2192 datetime","text":"<pre><code>t1 = datetime.date.today()\nt2 = datetime.time(hour=10, minute=15, second=30)\ndatetime.datetime.combine(t1, t2)\n</code></pre> <pre><code>datetime.datetime(2020, 2, 3, 10, 15, 30)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#datetime-time-string","title":"datetime \u2192 time string","text":"<pre><code>datetime.datetime.ctime(date_time)\nprint(datetime.datetime.strftime(date_time, \"%a %b %d %H:%M:%S %Y\"))\n</code></pre> <pre><code>Mon Feb 03 21:11:31 2020\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#time-string-datetime","title":"time string \u2192 datetime","text":"<pre><code>datetime.datetime.strptime('Mon Feb  3 19:56:21 2020', \"%a %b %d %H:%M:%S %Y\")\n</code></pre> <pre><code>datetime.datetime(2020, 2, 3, 19, 56, 21)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#datetime-timestamp","title":"datetime \u2192 timestamp","text":"<pre><code>datetime.datetime.timestamp(date_time)\n</code></pre> <pre><code>1580735491.172888\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#datetime-timetuple","title":"datetime \u2192 timetuple","text":"<pre><code>datetime.datetime.timetuple(date_time)\ndatetime.datetime.utctimetuple(date_time)\n</code></pre> <pre><code>time.struct_time(tm_year=2020, tm_mon=2, tm_mday=3, tm_hour=21,\ntm_min=11, tm_sec=31, tm_wday=0, tm_yday=34, tm_isdst=0)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#_4","title":"\u5176\u4ed6\u51fd\u6570","text":"<pre><code>datetime.datetime.toordinal(date_time)\ndatetime.datetime.isocalendar(date_time)\ndatetime.datetime.isoformat(date_time)\ndatetime.datetime.isoweekday(date_time)\ndatetime.datetime.weekday(date_time)\n\ndatetime.datetime.astimezone(date_time, tz=None)\ndatetime.datetime.dst(date_time)\n\ndate_time.astimezone(tz=None)\n</code></pre> <pre><code>datetime.datetime(2020, 2, 3, 21, 11, 31, 172888,\ntzinfo=datetime.timezone(datetime.timedelta(seconds=28800),\n'?D1\u00a8\u00b2\u00a1\u00c0\u00a8\u00ba\u00a1\u00c1?\u00a8\u00ba\u00a1\u00c0??'))\n</code></pre> <pre><code>['astimezone', 'dst', 'replace', 'timetz', 'tzname', 'utcoffset']\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#timedelta","title":"timedelta","text":"<p>\u53ef\u4ee5\u4f7f\u7528\u4e24\u4e2a <code>datetime</code> \u5bf9\u8c61\u7684\u57fa\u672c\u8fd0\u7b97\u6765\u8ba1\u7b97\u672a\u6765\u548c\u8fc7\u53bb\u7684\u65e5\u671f\uff0c\u6216\u8005\u662f\u901a\u8fc7\u5c06\u4e00\u4e2a <code>datetime</code> \u5bf9\u8c61\u548c\u4e00\u4e2a <code>timedelta</code> \u5bf9\u8c61\u76f8\u7ed3\u5408\u7684\u65b9\u6cd5\u6765\u8ba1\u7b97\u3002\u4e0d\u540c\u7684\u65e5\u671f\u76f8\u51cf\u4f1a\u4ea7\u751f\u4e00\u4e2a <code>timedelta</code> \uff0c\u4e00\u4e2a\u65e5\u671f\u52a0\u4e0a\u6216\u8005\u51cf\u53bb\u4e00\u4e2a <code>timedelta</code> \u4f1a\u4ea7\u751f\u53e6\u4e00\u4e2a\u65e5\u671f\u3002 <code>timedelta</code> \u7684\u5185\u90e8\u503c\u4ee5\u5929\u3001\u79d2\u548c\u5fae\u79d2\u7684\u5f62\u5f0f\u5b58\u50a8\u3002</p> <pre><code>print('microseconds:', datetime.timedelta(microseconds=1))\nprint('milliseconds:', datetime.timedelta(milliseconds=1))\nprint('seconds     :', datetime.timedelta(seconds=1))\nprint('minutes     :', datetime.timedelta(minutes=1))\nprint('hours       :', datetime.timedelta(hours=1))\nprint('days        :', datetime.timedelta(days=1))\nprint('weeks       :', datetime.timedelta(weeks=1))\n</code></pre> <pre><code>microseconds: 0:00:00.000001\nmilliseconds: 0:00:00.001000\nseconds     : 0:00:01\nminutes     : 0:01:00\nhours       : 1:00:00\ndays        : 1 day, 0:00:00\nweeks       : 7 days, 0:00:00\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528 <code>total_seconds()</code> \u5c06 <code>timedelta</code> \u7684\u6574\u4e2a\u6301\u7eed\u65f6\u95f4\u68c0\u7d22\u4e3a\u79d2\u6570\u3002</p> <pre><code>for delta in [datetime.timedelta(microseconds=1),\n              datetime.timedelta(milliseconds=1),\n              datetime.timedelta(seconds=1),\n              datetime.timedelta(minutes=1),\n              datetime.timedelta(hours=1),\n              datetime.timedelta(days=1),\n              datetime.timedelta(weeks=1),\n              ]:\n    print('{:15} = {:8} seconds'.format(\n        str(delta), delta.total_seconds())\n    )\n</code></pre> <pre><code>0:00:00.000001  =    1e-06 seconds\n0:00:00.001000  =    0.001 seconds\n0:00:01         =      1.0 seconds\n0:01:00         =     60.0 seconds\n1:00:00         =   3600.0 seconds\n1 day, 0:00:00  =  86400.0 seconds\n7 days, 0:00:00 = 604800.0 seconds\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#_5","title":"\u65e5\u671f\u7b97\u672f\u8fd0\u7b97","text":"<pre><code>one_day = datetime.timedelta(days=1)\ntoday = datetime.date.today()\nyesterday = today - one_day\ntomorrow = today + one_day\n\nprint(type(today))\ntype(yesterday) == type(today) == type(tomorrow)\n</code></pre> <pre><code>&lt;class 'datetime.date'&gt;\n</code></pre> <pre><code>True\n</code></pre> <p><code>timedelta</code> \u5bf9\u8c61\u8fd8\u652f\u6301\u4e0e\u6574\u578b\u6570\u3001\u6d6e\u70b9\u6570\u548c\u5176\u5b83 <code>timedelta</code> \u5b9e\u4f8b\u7684\u7b97\u672f\u8fd0\u7b97\u3002</p> <pre><code>one_day = datetime.timedelta(days=1)\nprint('1 day    :', one_day)\nprint('5 days   :', one_day * 5)\nprint('1.5 days :', one_day * 1.5)\nprint('1/4 day  :', one_day / 4)\n\n# \u5047\u8bbe\u5348\u996d\u65f6\u95f4\u4e3a 1 \u5c0f\u65f6\nwork_day = datetime.timedelta(hours=7)\nmeeting_length = datetime.timedelta(hours=1)\nprint('meetings per day :', work_day / meeting_length)\n</code></pre> <pre><code>1 day    : 1 day, 0:00:00\n5 days   : 5 days, 0:00:00\n1.5 days : 1 day, 12:00:00\n1/4 day  : 6:00:00\nmeetings per day : 7.0\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#_6","title":"\u6bd4\u8f83\u6570\u503c","text":"<pre><code>print('Times:')\nt1 = datetime.time(12, 55, 0)\nprint('  t1:', t1)\nt2 = datetime.time(13, 5, 0)\nprint('  t2:', t2)\nprint('  t1 &lt; t2:', t1 &lt; t2)\n\nprint()\nprint('Dates:')\nd1 = datetime.date.today()\nprint('  d1:', d1)\nd2 = datetime.date.today() + datetime.timedelta(days=1)\nprint('  d2:', d2)\nprint('  d1 &gt; d2:', d1 &gt; d2)\n</code></pre> <pre><code>Times:\n  t1: 12:55:00\n  t2: 13:05:00\n  t1 &lt; t2: True\n\nDates:\n  d1: 2020-02-03\n  d2: 2020-02-04\n  d1 &gt; d2: False\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#_7","title":"\u683c\u5f0f\u5316\u548c\u89e3\u6790","text":"<p>datetime \u5bf9\u8c61\u9ed8\u8ba4\u7684\u5b57\u7b26\u4e32\u8868\u793a\u6cd5\u91c7\u7528\u7684\u662f ISO-8601 \u683c\u5f0f (<code>YYYY-MM-DDTHH:MM:SS.mmmmmm</code>)\u3002\u5f53\u7136\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>strftime()</code> \u51fd\u6570\u751f\u6210\u5176\u5b83\u7684\u683c\u5f0f\u3002</p> <pre><code>format = \"%a %b %d %H:%M:%S %Y\"\n\ntoday = datetime.datetime.today()\nprint('ISO     :', today)\n\ns = today.strftime(format)\nprint('strftime:', s)\n\nd = datetime.datetime.strptime(s, format)\nprint('strptime:', d.strftime(format))\n</code></pre> <pre><code>ISO     : 2020-02-03 21:11:31.684806\nstrftime: Mon Feb 03 21:11:31 2020\nstrptime: Mon Feb 03 21:11:31 2020\n</code></pre> <p>\u76f8\u540c\u7684\u683c\u5f0f\u5316\u4ee3\u7801\u53ef\u4ee5\u4e0e Python \u7684 string formatting mini-language \u4e00\u8d77\u4f7f\u7528\uff0c\u65b9\u6cd5\u662f\u5c06\u5b83\u4eec\u653e\u5728\u683c\u5f0f\u5b57\u7b26\u4e32\u7684\u5b57\u6bb5\u89c4\u8303\u4e2d\u7684 <code>:</code> \u540e\u9762\u3002</p> <pre><code>today = datetime.datetime.today()\nprint('ISO     :', today)\nprint('format(): {:%a %b %d %H:%M:%S %Y}'.format(today))\n</code></pre> <pre><code>ISO     : 2020-02-03 21:11:31.729803\nformat(): Mon Feb 03 21:11:31 2020\n</code></pre> <p>\u6bcf\u4e00\u4e2a datetime \u683c\u5f0f\u4ee3\u7801\u5747\u4ee5 <code>%</code> \u4e3a\u524d\u7f00\uff0c\u5e76\u4e14\u540e\u9762\u7684\u5192\u53f7\u88ab\u5f53\u4f5c\u662f\u8981\u8f93\u51fa\u7684\u5b57\u7b26\u3002</p> \u7b26\u53f7 \u542b\u4e49 \u4f8b\u5b50 <code>%a</code> \u661f\u671f\u7684\u7b80\u5199 <code>'Wed'</code> <code>%A</code> \u661f\u671f\u7684\u5b8c\u6574\u5199\u6cd5 <code>'Wednesday'</code> <code>%w</code> \u661f\u671f\u4ee3\u53f7 -- \u4ece 0 (\u5468\u65e5) \u5230 6 (\u5468\u516d) <code>'3'</code> <code>%d</code> \u6708\u7684\u7b2c\u51e0\u65e5 (\u4e2a\u4f4d\u6570\u65f6\uff0c\u5341\u4f4d\u8865 0) <code>'13'</code> <code>%b</code> \u6708\u4efd\u7684\u7b80\u5199 <code>'Jan'</code> <code>%B</code> \u6708\u4efd\u7684\u5b8c\u6574\u5199\u6cd5 <code>'January'</code> <code>%m</code> \u6708\u4efd <code>'01'</code> <code>%y</code> \u5e74\u4efd\u7684\u7f29\u5199 <code>'16'</code> <code>%Y</code> \u5e74\u4efd\u7684\u5b8c\u6574\u5199\u6cd5 <code>'2016'</code> <code>%H</code> \u5c0f\u65f6\uff08 24 \u5c0f\u65f6\u5236\uff09 <code>'17'</code> <code>%I</code> \u5c0f\u65f6\uff08 12 \u5c0f\u65f6\u5236\uff09 <code>'05'</code> <code>%p</code> AM/PM <code>'PM'</code> <code>%M</code> \u5206\u949f <code>'00'</code> <code>%S</code> \u79d2 <code>'00'</code> <code>%f</code> \u5fae\u79d2 <code>'000000'</code> <code>%z</code> \u8bbe\u7f6e\u65f6\u533a\uff08\u9002\u7528\u4e8e\u5bf9\u65f6\u533a\u654f\u611f\u7684\u7c7b\uff09 <code>'-0500'</code> <code>%Z</code> \u65f6\u533a\u540d <code>'EST'</code> <code>%j</code> \u4e00\u5e74\u7684\u7b2c\u51e0\u5929 <code>'013'</code> <code>%W</code> \u4e00\u5e74\u7684\u7b2c\u51e0\u5468 <code>'02'</code> <code>%c</code> \u5f53\u5730\u5f53\u524d\u65e5\u671f\u548c\u65f6\u95f4 <code>'Wed Jan 13 17:00:00 2016'</code> <code>%x</code> \u5f53\u5730\u5f53\u524d\u65e5\u671f <code>'01/13/16'</code> <code>%X</code> \u5f53\u5730\u5f53\u524d\u65f6\u95f4 <code>'17:00:00'</code> <code>%%</code> \u4e00\u4e2a <code>%</code> <code>'%'</code>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.4.datetime.html#_8","title":"\u65f6\u533a","text":"<p>\u5728 <code>datetime</code> \u4e2d\uff0c\u65f6\u533a\u7531 <code>tzinfo</code> \u7684\u5b50\u7c7b\u8868\u793a\u3002\u7531\u4e8e <code>tzinfo</code> \u662f\u4e00\u4e2a\u62bd\u8c61\u57fa\u7c7b\uff0c\u56e0\u6b64\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a\u5b50\u7c7b\u3002\u4e3a\u4e86\u8ba9\u8fd9\u4e2a\u7c7b\u80fd\u7528\uff0c\u5e94\u7528\u7a0b\u5e8f\u8fd8\u8981\u4e3a\u4e00\u4e9b\u65b9\u6cd5\u63d0\u4f9b\u9002\u5f53\u7684\u5b9e\u73b0\u3002</p> <p>\u5728 <code>timezone</code> \u7c7b\u4e2d\uff0c <code>datetime</code> \u786e\u5b9e\u5305\u542b\u4e86\u4e00\u4e2a\u7565\u4e3a\u7b80\u5355\u7684\u5b9e\u73b0\u3002\u5b83\u4f7f\u7528 UTC \u7684\u56fa\u5b9a\u504f\u79fb\u91cf\uff0c\u5e76\u4e14\u4e0d\u652f\u6301\u4e00\u5e74\u4e2d\u4e0d\u540c\u65e5\u671f\u7684\u4e0d\u540c\u504f\u79fb\u91cf\u3002\u6bd4\u5982\uff0c\u4f7f\u7528\u590f\u4ee4\u65f6\u7684\u5730\u65b9\u6216\u8005 UTC \u7684\u504f\u79fb\u91cf\u4f1a\u968f\u65f6\u95f4\u53d8\u5316\u7684\u5730\u65b9\u3002</p> <pre><code>min6 = datetime.timezone(datetime.timedelta(hours=-6))\nplus6 = datetime.timezone(datetime.timedelta(hours=6))\nd = datetime.datetime.now(min6)\n\nprint(min6, ':', d)\nprint(datetime.timezone.utc, ':',\n      d.astimezone(datetime.timezone.utc))\nprint(plus6, ':', d.astimezone(plus6))\n\n# \u8f6c\u6362\u4e3a\u5f53\u524d\u7cfb\u7edf\u65f6\u95f4\nd_system = d.astimezone()\nprint(d_system.tzinfo, '      :', d_system)\n</code></pre> <pre><code>UTC-06:00 : 2020-02-03 07:11:31.756794-06:00\nUTC : 2020-02-03 13:11:31.756794+00:00\nUTC+06:00 : 2020-02-03 19:11:31.756794+06:00\n?D1\u00a8\u00b2\u00a1\u00c0\u00a8\u00ba\u00a1\u00c1?\u00a8\u00ba\u00a1\u00c0??       : 2020-02-03 21:11:31.756794+08:00\n</code></pre> <p>\u8981\u60f3\u5c06 datetime \u503c\u4ece\u4e00\u4e2a\u65f6\u533a\u8f6c\u6362\u5230\u53e6\u4e00\u4e2a\u65f6\u533a\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>astimezone()</code> \u51fd\u6570\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u5728 UTC \u7684\u4e24\u8fb9\u5206\u522b\u663e\u793a\u4e86 6 \u5c0f\u65f6\u7684\u65f6\u533a\uff0c\u5e76\u4e14\u8fd8\u4f7f\u7528 <code>datetime.timezone</code> \u4e2d\u7684 <code>utc</code> \u5b9e\u4f8b\u4f5c\u4e3a\u53c2\u8003\u3002\u6700\u540e\u7684\u8f93\u51fa\u884c\u663e\u793a\u7cfb\u7edf\u65f6\u533a\u4e2d\u7684\u503c\uff0c\u8be5\u503c\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 <code>astimezone()</code> \u51fd\u6570\u83b7\u5f97\uff0c\u8c03\u7528\u65f6\u4e0d\u9700\u8981\u53c2\u6570\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.5.calendar.html","title":"6.5.calendar","text":"<pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\n</code></pre> <pre><code>import calendar\nfrom toolkit.Help import Help as H\n\n\nh = H(calendar)\nd = h.dicts\n\nc = calendar.TextCalendar(calendar.SUNDAY)\nc.prmonth(2017, 7)\n\nH(calendar.TextCalendar).param\n\nd = h.dicts\n</code></pre> <pre><code>module\n     July 2017\nSu Mo Tu We Th Fr Sa\n                   1\n 2  3  4  5  6  7  8\n 9 10 11 12 13 14 15\n16 17 18 19 20 21 22\n23 24 25 26 27 28 29\n30 31\nclass\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html","title":"6.7.urllib","text":"<pre><code>import urllib\n</code></pre> <pre><code>Windows 10\nPython 3.6.9 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.06.13\n</code></pre> <p>\u5728 Python 2 \u4e2d\uff0c\u6709 urllib \u548c urllib2 \u4e24\u4e2a\u5e93\u6765\u5b9e\u73b0\u8bf7\u6c42\u7684\u53d1\u9001\u3002\u800c\u5728 Python 3 \u4e2d\uff0c\u5df2\u7ecf\u4e0d\u5b58\u5728 urllib2 \u8fd9\u4e2a\u5e93\u4e86\uff0c\u7edf\u4e00\u4e3a urllib\uff0c\u8fd9\u662furllib\u7684\u5b98\u65b9\u6587\u6863\u94fe\u63a5\u3002</p> <p>urllib \u5e93\u662f Python \u5185\u7f6e\u7684 HTTP \u8bf7\u6c42\u5e93\uff0c\u5b83\u5305\u542b\u5982\u4e0b 4 \u4e2a\u6a21\u5757\uff1a</p> <ol> <li>request\uff1a\u5b83\u662f\u6700\u57fa\u672c\u7684 HTTP \u8bf7\u6c42\u6a21\u5757\uff0c\u53ef\u4ee5\u7528\u6765\u6a21\u62df\u53d1\u9001\u8bf7\u6c42\u3002\u5c31\u50cf\u5728\u6d4f\u89c8\u5668\u91cc\u8f93\u5165\u7f51\u5740\u7136\u540e\u56de\u8f66\u4e00\u6837\uff0c\u53ea\u9700\u8981\u7ed9\u5e93\u65b9\u6cd5\u4f20\u5165 URL \u4ee5\u53ca\u989d\u5916\u7684\u53c2\u6570\uff0c\u5c31\u53ef\u4ee5\u6a21\u62df\u5b9e\u73b0\u8fd9\u4e2a\u8fc7\u7a0b\u4e86\u3002</li> <li>error\uff1a\u5f02\u5e38\u5904\u7406\u6a21\u5757\uff0c\u5982\u679c\u51fa\u73b0\u8bf7\u6c42\u9519\u8bef\uff0c\u6211\u4eec\u53ef\u4ee5\u6355\u83b7\u8fd9\u4e9b\u5f02\u5e38\uff0c\u7136\u540e\u8fdb\u884c\u91cd\u8bd5\u6216\u5176\u4ed6\u64cd\u4f5c\u4ee5\u4fdd\u8bc1\u7a0b\u5e8f\u4e0d\u4f1a\u610f\u5916\u7ec8\u6b62\u3002</li> <li>parse\uff1a\u4e00\u4e2a\u5de5\u5177\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u8bb8\u591a URL \u5904\u7406\u65b9\u6cd5\uff0c\u6bd4\u5982\u62c6\u5206\u3001\u89e3\u6790\u3001\u5408\u5e76\u7b49\u3002</li> <li>robotparser\uff1a\u4e3b\u8981\u662f\u7528\u6765\u8bc6\u522b\u7f51\u7ad9\u7684 robots.txt \u6587\u4ef6\uff0c\u7136\u540e\u5224\u65ad\u54ea\u4e9b\u7f51\u7ad9\u53ef\u4ee5\u722c\uff0c\u54ea\u4e9b\u7f51\u7ad9\u4e0d\u53ef\u4ee5\u722c\uff0c\u7528\u5f97\u6bd4\u8f83\u5c11\u3002</li> </ol>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#request","title":"request \u6a21\u5757","text":"<p>hurllib.request \u6a21\u5757\u63d0\u4f9b\u4e86\u6700\u57fa\u672c\u7684\u6784\u9020 HTTP \u8bf7\u6c42\u7684\u65b9\u6cd5\uff0c\u5229\u7528\u5b83\u53ef\u4ee5\u6a21\u62df\u6d4f\u89c8\u5668\u7684\u4e00\u4e2a\u8bf7\u6c42\u53d1\u8d77\u8fc7\u7a0b\uff0c\u540c\u65f6\u5b83\u8fd8\u5e26\u6709\u5904\u7406\u6388\u6743\u9a8c\u8bc1\uff08authentication\uff09\u3001\u91cd\u5b9a\u5411\uff08redirection)\u3001\u6d4f\u89c8\u5668 Cookies \u4ee5\u53ca\u5176\u4ed6\u5185\u5bb9\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#urlopen","title":"urlopen","text":"<pre><code>urllib.request.urlopen(url, data=None, [timeout,]*, cafile=None, capath=None,\n                       cadefault=False)\n# data    \u9644\u52a0\u6570\u636e\n# timeout \u8d85\u65f6\u65f6\u95f4\n# context \u5fc5\u987b\u662f ssl.SSLContext \u7c7b\u578b\uff0c\u7528\u6765\u6307\u5b9a SSL \u8bbe\u7f6e\n# cafile \u548c capath \u5206\u522b\u6307\u5b9a CA \u8bc1\u4e66\u548c\u5b83\u7684\u8def\u5f84\uff0c\u8fd9\u4e2a\u5728\u8bf7\u6c42 HTTPS \u94fe\u63a5\u65f6\u4f1a\u6709\u7528\n# cadefault \u73b0\u5728\u5df2\u7ecf\u5f03\u7528\u4e86\uff0c\u5176\u9ed8\u8ba4\u503c\u4e3a False\n</code></pre> <p>\u4f8b\u5982\uff0c\u8981\u8bf7\u6c42 Python \u5b98\u7f51\uff1a</p> <pre><code>import urllib.request  \n\nurl = 'https://www.python.org'\n# response\u662f\u4e00\u4e2a HTTPResposne \u7c7b\u578b\u7684\u5bf9\u8c61\nresponse = urllib.request.urlopen(url=url)\n\n# \u8bfb\u5165\u7f51\u9875\u5185\u5bb9 \u8fd9\u662f\u4e00\u4e2abytes\u5b57\u7b26\u4e32\nresponse.read()\n# \u54cd\u5e94\u7684\u72b6\u6001\u7801\nresponse.status\n# \u54cd\u5e94\u7684\u72b6\u6001\u4fe1\u606f\nresponse.reason\n# \u54cd\u5e94\u7684\u5934\u4fe1\u606f\nresponse.getheaders()\n# \u83b7\u53d6\u54cd\u5e94\u7684\u5934\u4fe1\u606f\u7684\u67d0\u4e2a\u53c2\u6570\nresponse.getheader('Server')\n</code></pre> <pre><code>'nginx'\n</code></pre> <p>\u4e3b\u8981\u5305\u542b readinto\u3001fileno \u7b49\u65b9\u6cd5\uff0c\u4ee5\u53ca msg\u3001version\u3001debuglevel\u3001closed \u7b49\u5c5e\u6027\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#data","title":"data \u53c2\u6570","text":"<p>\u5982\u679c\u8981\u6dfb\u52a0<code>data</code>\u53c2\u6570\uff0c\u9700\u8981\u4f7f\u7528 bytes \u65b9\u6cd5\u5c06\u53c2\u6570\u8f6c\u5316\u4e3a\u5b57\u8282\u6d41\u7f16\u7801\u683c\u5f0f\u7684\u5185\u5bb9\uff0c\u5373 bytes \u7c7b\u578b\u3002\u53e6\u5916\uff0c\u5982\u679c\u4f20\u9012\u4e86\u8fd9\u4e2a\u53c2\u6570\uff0c\u8bf7\u6c42\u65b9\u5f0f\u5c31\u4e0d\u518d\u662f GET \u65b9\u5f0f\uff0c\u800c\u662f POST \u65b9\u5f0f\u3002</p> <pre><code># import urllib.parse  \nimport urllib.request  \n\n# \u4f7f\u7528\u4e86 bytes \u65b9\u6cd5\u7f16\u7801\u6210\u5b57\u8282\u6d41\n# data = bytes(urllib.parse.urlencode({'word': 'hello'}), encoding='utf8')  \ndata = bytes(\"word=hello\", encoding=\"utf-8\")\nresponse = urllib.request.urlopen('http://httpbin.org/post', data=data)  \nprint(response.read().decode(\"utf-8\"))\n</code></pre> <pre><code>{\n  \"args\": {},\n  \"data\": \"\",\n  \"files\": {},\n  \"form\": {\n    \"word\": \"hello\"\n  },\n  \"headers\": {\n    \"Accept-Encoding\": \"identity\",\n    \"Content-Length\": \"10\",\n    \"Content-Type\": \"application/x-www-form-urlencoded\",\n    \"Host\": \"httpbin.org\",\n    \"User-Agent\": \"Python-urllib/3.6\",\n    \"X-Amzn-Trace-Id\": \"Root=1-5ee46694-38358ae8257a47e8d0f88538\"\n  },\n  \"json\": null,\n  \"origin\": \"157.122.62.84\",\n  \"url\": \"http://httpbin.org/post\"\n}\n</code></pre> <p>\u8bf7\u6c42\u7684 URL \u4e3a\uff1ahttp://httpbin.org/post\uff0c\u8fd9\u4e2a\u94fe\u63a5\u53ef\u4ee5\u7528\u6765\u6d4b\u8bd5 POST \u8bf7\u6c42\uff0c\u5b83\u53ef\u4ee5\u8f93\u51fa Request \u7684\u4e00\u4e9b\u4fe1\u606f\uff0c\u5176\u4e2d\u5c31\u5305\u542b\u4f20\u9012\u7684 data \u53c2\u6570\u3002</p> <p>\u6211\u4eec\u4f20\u9012\u7684\u53c2\u6570\u51fa\u73b0\u5728\u4e86 form \u5b57\u6bb5\u4e2d\uff0c\u8fd9\u8868\u660e\u662f\u6a21\u62df\u4e86\u8868\u5355\u63d0\u4ea4\u7684\u65b9\u5f0f\uff0c\u4ee5 POST \u65b9\u5f0f\u4f20\u8f93\u6570\u636e\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#timeout","title":"timeout \u53c2\u6570","text":"<p>timeout \u53c2\u6570\u7528\u4e8e\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2\uff0c\u610f\u601d\u5c31\u662f\u5982\u679c\u8bf7\u6c42\u8d85\u51fa\u4e86\u8bbe\u7f6e\u7684\u8fd9\u4e2a\u65f6\u95f4\uff0c\u8fd8\u6ca1\u6709\u5f97\u5230\u54cd\u5e94\uff0c\u5c31\u4f1a\u629b\u51fa URLError \u5f02\u5e38\uff0cURLError \u5f02\u5e38\u5c5e\u4e8e urllib.error \u6a21\u5757\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u8be5\u53c2\u6570\uff0c\u5c31\u4f1a\u4f7f\u7528\u5168\u5c40\u9ed8\u8ba4\u65f6\u95f4\u3002\u5b83\u652f\u6301 HTTP\u3001HTTPS\u3001FTP \u8bf7\u6c42\u3002</p> <p>\u5168\u5c40\u9ed8\u8ba4\u65f6\u95f4\u53ef\u4ee5\u4e3a<code>None</code>\uff0c\u8868\u793a\u65e0\u8d85\u65f6\u9650\u5236\u3002\u4f46\u5373\u4f7f\u5168\u5c40\u9ed8\u8ba4\u65f6\u95f4\u4e3a<code>None</code>\uff0c\u6700\u540e\u53ef\u80fd\u8fd8\u662f\u4f1a\u53d1\u751f\u8d85\u65f6\uff0c\u6b64\u65f6\u8d85\u65f6\u53ef\u80fd\u662fHTTP\u7f51\u7edc\u8d85\u65f6\u3002\u800c\u4e0d\u662f\u8d85\u8fc7\u4e86\u9650\u5b9a\u7684\u65f6\u95f4\u3002</p> <pre><code>import urllib.request  \n\n# 1\u79d2\u5185\u5f97\u5230\u54cd\u5e94\uff0c\u5219\u4e0d\u4f1a\u629b\u51faURLError \u5f02\u5e38\ntry:\n    response = urllib.request.urlopen('http://httpbin.org/get', timeout=1)  \n    print(response.read().decode(\"utf-8\"))\nexcept:\n    print('TIME OUT')\n</code></pre> <pre><code>{\n  \"args\": {},\n  \"headers\": {\n    \"Accept-Encoding\": \"identity\",\n    \"Host\": \"httpbin.org\",\n    \"User-Agent\": \"Python-urllib/3.6\",\n    \"X-Amzn-Trace-Id\": \"Root=1-5ee46694-4499269c47c50804469a0aea\"\n  },\n  \"origin\": \"157.122.62.84\",\n  \"url\": \"http://httpbin.org/get\"\n}\n</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u8fd9\u4e2a\u8d85\u65f6\u65f6\u95f4\u6765\u63a7\u5236\u4e00\u4e2a\u7f51\u9875\u5982\u679c\u957f\u65f6\u95f4\u672a\u54cd\u5e94\uff0c\u5c31\u8df3\u8fc7\u5b83\u7684\u6293\u53d6\u3002</p> <pre><code># need to fix. output should be 'TIME OUT 1'\nimport socket  \nimport urllib.request  \nimport urllib.error  \n\ntry:  \n    response = urllib.request.urlopen('http://httpbin.org/get', timeout=0.1)  \nexcept urllib.error.URLError as e:\n    if isinstance(e.reason, socket.timeout):  \n        print('TIME OUT 1')\nexcept Exception:\n    print('TIME OUT 2')\n</code></pre> <pre><code>TIME OUT 1\n</code></pre> <p>\u4e00\u822c\u6765\u8bf4\uff0c0.1 \u79d2\u5185\u57fa\u672c\u4e0d\u53ef\u80fd\u5f97\u5230\u670d\u52a1\u5668\u54cd\u5e94\uff0c\u56e0\u6b64\u8f93\u51fa\u4e86 TIME OUT \u7684\u63d0\u793a\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#request_1","title":"Request","text":"<p>\u5229\u7528 urlopen \u65b9\u6cd5\u53ef\u4ee5\u5b9e\u73b0\u6700\u57fa\u672c\u8bf7\u6c42\u7684\u53d1\u8d77\uff0c\u4f46\u8fd9\u51e0\u4e2a\u7b80\u5355\u7684\u53c2\u6570\u5e76\u4e0d\u8db3\u4ee5\u6784\u5efa\u4e00\u4e2a\u5b8c\u6574\u7684\u8bf7\u6c42\u3002\u5982\u679c\u8bf7\u6c42\u4e2d\u9700\u8981\u52a0\u5165 Headers \u7b49\u4fe1\u606f\uff0c\u53ef\u4ee5\u5229\u7528\u66f4\u5f3a\u5927\u7684 Request \u7c7b\u6765\u6784\u5efa\u3002</p> <pre><code>import urllib.request  \n\nrequest = urllib.request.Request('https://python.org')  \nresponse = urllib.request.urlopen(request)  \nprint(response.read().decode('utf-8'))\n</code></pre> <pre><code>&lt;!doctype html&gt;\n&lt;!--[if lt IE 7]&gt;   &lt;html class=\"no-js ie6 lt-ie7 lt-ie8 lt-ie9\"&gt;\n&lt;![endif]--&gt;\n&lt;!--[if IE 7]&gt;      &lt;html class=\"no-js ie7 lt-ie8 lt-ie9\"&gt;\n&lt;![endif]--&gt;\n&lt;!--[if IE 8]&gt;      &lt;html class=\"no-js ie8 lt-ie9\"&gt;\n&lt;![endif]--&gt;\n&lt;!--[if gt IE 8]&gt;&lt;!--&gt;&lt;html class=\"no-js\"\n                         .\n                         .\n                         .\n0be1d290.js\" charset=\"utf-8\"&gt;&lt;/script&gt;\n\n\n    &lt;![endif]--&gt;\n\n\n\n\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u4f9d\u7136\u662f\u7528 urlopen \u65b9\u6cd5\u6765\u53d1\u9001\u8fd9\u4e2a\u8bf7\u6c42\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u6b21\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u4e0d\u518d\u662f URL\uff0c\u800c\u662f\u4e00\u4e2a Request \u7c7b\u578b\u7684\u5bf9\u8c61\u3002\u901a\u8fc7\u6784\u9020\u8fd9\u4e2a\u6570\u636e\u7ed3\u6784\uff0c\u4e00\u65b9\u9762\u6211\u4eec\u53ef\u4ee5\u5c06\u8bf7\u6c42\u72ec\u7acb\u6210\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53e6\u4e00\u65b9\u9762\u53ef\u66f4\u52a0\u4e30\u5bcc\u548c\u7075\u6d3b\u5730\u914d\u7f6e\u53c2\u6570\u3002</p> <p>Request \u7684\u6784\u9020\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>class urllib.request.Request(url, data=None, headers={},   \n                             origin_req_host=None, unverifiable=False,\n                             method=None)\n</code></pre> <p><code>url</code>\uff1a\u7528\u4e8e\u8bf7\u6c42 URL\uff0c\u8fd9\u662f\u5fc5\u4f20\u53c2\u6570\uff0c\u5176\u4ed6\u90fd\u662f\u53ef\u9009\u53c2\u6570\u3002</p> <p><code>data</code>\uff1abytes\uff08\u5b57\u8282\u6d41\uff09\u7c7b\u578b\u3002\u5982\u679c\u5b83\u662f\u5b57\u5178\uff0c\u53ef\u4ee5\u5148\u7528 urllib.parse \u6a21\u5757\u91cc\u7684 urlencode() \u7f16\u7801\u3002</p> <p><code>headers</code>\uff1a\u5b83\u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u4e5f\u5c31\u662f\u8bf7\u6c42\u5934\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u6784\u9020\u8bf7\u6c42\u65f6\u901a\u8fc7 headers \u53c2\u6570\u76f4\u63a5\u6784\u9020\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528\u8bf7\u6c42\u5b9e\u4f8b\u7684 add_header() \u65b9\u6cd5\u6dfb\u52a0\u3002\u6dfb\u52a0\u8bf7\u6c42\u5934\u6700\u5e38\u7528\u7684\u7528\u6cd5\u5c31\u662f\u901a\u8fc7\u4fee\u6539 User-Agent \u6765\u4f2a\u88c5\u6d4f\u89c8\u5668\uff0c\u9ed8\u8ba4\u7684 User-Agent \u662f Python-urllib\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u5b83\u6765\u4f2a\u88c5\u6d4f\u89c8\u5668\u3002\u6bd4\u5982\u8981\u4f2a\u88c5\u706b\u72d0\u6d4f\u89c8\u5668\uff0c\u53ef\u4ee5\u628a\u5b83\u8bbe\u7f6e\u4e3a\uff1a</p> <pre><code>Mozilla/5.0 (X11; U; Linux i686) Gecko/20071127 Firefox/2.0.0.11\n</code></pre> <p><code>origin_req_host</code>\uff1a\u6307\u7684\u662f\u8bf7\u6c42\u65b9\u7684 host \u540d\u79f0\u6216\u8005 IP \u5730\u5740\u3002</p> <p><code>unverifiable</code>\uff1a\u8868\u793a\u8fd9\u4e2a\u8bf7\u6c42\u662f\u5426\u662f\u65e0\u6cd5\u9a8c\u8bc1\u7684\uff0c\u9ed8\u8ba4\u662f False\uff0c\u610f\u601d\u5c31\u662f\u8bf4\u7528\u6237\u6ca1\u6709\u8db3\u591f\u6743\u9650\u6765\u9009\u62e9\u63a5\u6536\u8fd9\u4e2a\u8bf7\u6c42\u7684\u7ed3\u679c\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u8bf7\u6c42\u4e00\u4e2a HTML \u6587\u6863\u4e2d\u7684\u56fe\u7247\uff0c\u4f46\u662f\u6211\u4eec\u6ca1\u6709\u81ea\u52a8\u6293\u53d6\u56fe\u50cf\u7684\u6743\u9650\uff0c\u8fd9\u65f6 unverifiable \u7684\u503c\u5c31\u662f True\u3002</p> <p><code>method</code>\uff1a\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u7528\u6765\u6307\u793a\u8bf7\u6c42\u4f7f\u7528\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982 GET\u3001POST \u548c PUT \u7b49\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u4f20\u5165\u591a\u4e2a\u53c2\u6570\u6784\u5efa\u8bf7\u6c42\u6765\u770b\u4e00\u4e0b\uff1a</p> <pre><code>from urllib import request, parse  \n\nurl = 'http://httpbin.org/post'  \nheaders = {'User-Agent': 'Mozilla/4.0 (compatible; MSIE 5.5; Windows NT)',  \n           'Host': 'httpbin.org'}  \ndict = {'name': 'Germey'}  \ndata = bytes(parse.urlencode(dict), encoding='utf8') # data = b'name=Germey'\nreq = request.Request(url=url, data=data, headers=headers, method='POST')  \nresponse = request.urlopen(req)  \nprint(response.read().decode('utf-8'))\n</code></pre> <pre><code>{\n  \"args\": {},\n  \"data\": \"\",\n  \"files\": {},\n  \"form\": {\n    \"name\": \"Germey\"\n  },\n  \"headers\": {\n    \"Accept-Encoding\": \"identity\",\n    \"Content-Length\": \"11\",\n    \"Content-Type\": \"application/x-www-form-urlencoded\",\n    \"Host\": \"httpbin.org\",\n    \"User-Agent\": \"Mozilla/4.0 (compatible; MSIE 5.5; Windows NT)\",\n    \"X-Amzn-Trace-Id\": \"Root=1-5ee46699-5c8f13e39c460e544f38df00\"\n  },\n  \"json\": null,\n  \"origin\": \"157.122.62.84\",\n  \"url\": \"http://httpbin.org/post\"\n}\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u901a\u8fc7 4 \u4e2a\u53c2\u6570\u6784\u9020\u4e86\u4e00\u4e2a\u8bf7\u6c42\uff0c\u5176\u4e2d url \u5373\u8bf7\u6c42 URL\uff0cheaders \u4e2d\u6307\u5b9a\u4e86 User-Agent \u548c Host\uff0c\u53c2\u6570 data \u7528 urlencode \u548c bytes \u65b9\u6cd5\u8f6c\u6210\u5b57\u8282\u6d41\u3002\u53e6\u5916\uff0c\u6307\u5b9a\u4e86\u8bf7\u6c42\u65b9\u5f0f\u4e3a POST\u3002</p> <p>\u89c2\u5bdf\u7ed3\u679c\u53ef\u4ee5\u53d1\u73b0\uff0c\u6211\u4eec\u6210\u529f\u8bbe\u7f6e\u4e86 data\u3001headers \u548c method\u3002</p> <p>\u53e6\u5916\uff0cheaders \u4e5f\u53ef\u4ee5\u7528 add_header \u65b9\u6cd5\u6765\u6dfb\u52a0\uff1a</p> <pre><code>req = request.Request(url=url, data=data, method='POST')\nreq.add_header('User-Agent', 'Mozilla/4.0 (compatible; MSIE 5.5; Windows NT)')\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#handler","title":"Handler","text":"<p>\u5728\u4e0a\u9762\u7684\u8fc7\u7a0b\u4e2d\uff0c\u867d\u7136\u53ef\u4ee5\u6784\u9020\u8bf7\u6c42\uff0c\u4f46\u5982\u679c\u8981\u5904\u7406\u4e00\u4e9b\u66f4\u9ad8\u7ea7\u7684\u64cd\u4f5c\uff08\u6bd4\u5982 Cookies \u5904\u7406\u3001\u4ee3\u7406\u8bbe\u7f6e\u7b49\uff09\uff0c\u5219\u9700\u8981 Handler \u3002\u6211\u4eec\u53ef\u4ee5\u628a Handler \u7406\u89e3\u4e3a\u5404\u79cd\u5904\u7406\u5668\uff0c\u6709\u4e13\u95e8\u5904\u7406\u767b\u5f55\u9a8c\u8bc1\u7684\uff0c\u6709\u5904\u7406 Cookies \u7684\uff0c\u6709\u5904\u7406\u4ee3\u7406\u8bbe\u7f6e\u7684\u3002\u5229\u7528\u5b83\u4eec\uff0c\u6211\u4eec\u51e0\u4e4e\u53ef\u4ee5\u505a\u5230 HTTP \u8bf7\u6c42\u4e2d\u6240\u6709\u7684\u4e8b\u60c5\u3002</p> <p>urllib.request \u6a21\u5757\u91cc\u7684 BaseHandler \u7c7b\u662f\u6240\u6709\u5176\u4ed6 Handler \u7684\u7236\u7c7b\uff0c\u5b83\u63d0\u4f9b\u4e86\u6700\u57fa\u672c\u7684\u65b9\u6cd5\uff0c\u4f8b\u5982 default_open\u3001protocol_request \u7b49\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u5c31\u6709\u5404\u79cd Handler \u5b50\u7c7b\u7ee7\u627f\u8fd9\u4e2a BaseHandler \u7c7b\uff0c\u4e3e\u4f8b\u5982\u4e0b\uff1a</p> <ul> <li>HTTPDefaultErrorHandler \u7528\u4e8e\u5904\u7406 HTTP \u54cd\u5e94\u9519\u8bef\uff0c\u9519\u8bef\u90fd\u4f1a\u629b\u51fa HTTPError \u7c7b\u578b\u7684\u5f02\u5e38\u3002</li> <li>HTTPRedirectHandler \u7528\u4e8e\u5904\u7406\u91cd\u5b9a\u5411\u3002</li> <li>HTTPCookieProcessor \u7528\u4e8e\u5904\u7406 Cookies\u3002</li> <li>ProxyHandler \u7528\u4e8e\u8bbe\u7f6e\u4ee3\u7406\uff0c\u9ed8\u8ba4\u4ee3\u7406\u4e3a\u7a7a\u3002</li> <li>HTTPPasswordMgr \u7528\u4e8e\u7ba1\u7406\u5bc6\u7801\uff0c\u5b83\u7ef4\u62a4\u4e86\u7528\u6237\u540d\u5bc6\u7801\u7684\u8868\u3002</li> <li>HTTPBasicAuthHandler \u7528\u4e8e\u7ba1\u7406\u8ba4\u8bc1\uff0c\u5982\u679c\u4e00\u4e2a\u94fe\u63a5\u6253\u5f00\u65f6\u9700\u8981\u8ba4\u8bc1\uff0c\u90a3\u4e48\u53ef\u4ee5\u7528\u5b83\u6765\u89e3\u51b3\u8ba4\u8bc1\u95ee\u9898\u3002</li> </ul> <p>\u53e6\u5916\u8fd8\u6709\u5176\u4ed6\u7684 Handler \u7c7b\uff0c\u5728\u8fd9\u4e0d\u4e00\u4e00\u5217\u4e3e\u4e86\uff0c\u8be6\u60c5\u53ef\u4ee5\u53c2\u8003\u5b98\u65b9\u6587\u6863\uff1a https://docs.python.org/3/library/urllib.request.html#urllib.request.BaseHandler</p> <p>\u5173\u4e8e\u600e\u4e48\u4f7f\u7528\u5b83\u4eec\uff0c\u73b0\u5728\u5148\u4e0d\u7528\u7740\u6025\uff0c\u540e\u9762\u4f1a\u6709\u5b9e\u4f8b\u6f14\u793a\u3002</p> <p>\u53e6\u4e00\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u7c7b\u5c31\u662f OpenerDirector\uff0c\u6211\u4eec\u53ef\u4ee5\u79f0\u4e3a Opener\u3002\u6211\u4eec\u4e4b\u524d\u7528\u8fc7 urlopen \u8fd9\u4e2a\u65b9\u6cd5\uff0c\u5b9e\u9645\u4e0a\u5b83\u5c31\u662f urllib \u4e3a\u6211\u4eec\u63d0\u4f9b\u7684\u4e00\u4e2a Opener\u3002</p> <p>\u90a3\u4e48\uff0c\u4e3a\u4ec0\u4e48\u8981\u5f15\u5165 Opener \u5462\uff1f\u56e0\u4e3a\u9700\u8981\u5b9e\u73b0\u66f4\u9ad8\u7ea7\u7684\u529f\u80fd\u3002\u4e4b\u524d\u4f7f\u7528\u7684 Request \u548c urlopen \u76f8\u5f53\u4e8e\u7c7b\u5e93\u4e3a\u4f60\u5c01\u88c5\u597d\u4e86\u6781\u5176\u5e38\u7528\u7684\u8bf7\u6c42\u65b9\u6cd5\uff0c\u5229\u7528\u5b83\u4eec\u53ef\u4ee5\u5b8c\u6210\u57fa\u672c\u7684\u8bf7\u6c42\uff0c\u4f46\u662f\u73b0\u5728\u4e0d\u4e00\u6837\u4e86\uff0c\u6211\u4eec\u9700\u8981\u5b9e\u73b0\u66f4\u9ad8\u7ea7\u7684\u529f\u80fd\uff0c\u6240\u4ee5\u9700\u8981\u6df1\u5165\u4e00\u5c42\u8fdb\u884c\u914d\u7f6e\uff0c\u4f7f\u7528\u66f4\u5e95\u5c42\u7684\u5b9e\u4f8b\u6765\u5b8c\u6210\u64cd\u4f5c\uff0c\u6240\u4ee5\u8fd9\u91cc\u5c31\u7528\u5230\u4e86 Opener\u3002</p> <p>Opener \u53ef\u4ee5\u4f7f\u7528 open \u65b9\u6cd5\uff0c\u8fd4\u56de\u7684\u7c7b\u578b\u548c urlopen \u5982\u51fa\u4e00\u8f99\u3002\u90a3\u4e48\uff0c\u5b83\u548c Handler \u6709\u4ec0\u4e48\u5173\u7cfb\u5462\uff1f\u7b80\u800c\u8a00\u4e4b\uff0c\u5c31\u662f\u5229\u7528 Handler \u6765\u6784\u5efa Opener\u3002</p> <p>\u4e0b\u9762\u7528\u51e0\u4e2a\u5b9e\u4f8b\u6765\u770b\u770b\u5b83\u4eec\u7684\u7528\u6cd5\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#_1","title":"\u9a8c\u8bc1","text":"<p>\u6709\u4e9b\u7f51\u7ad9\u5728\u6253\u5f00\u65f6\u5c31\u4f1a\u5f39\u51fa\u63d0\u793a\u6846\uff0c\u76f4\u63a5\u63d0\u793a\u4f60\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u9a8c\u8bc1\u6210\u529f\u540e\u624d\u80fd\u67e5\u770b\u9875\u9762\uff0c\u5982\u56fe\u6240\u793a\uff1a</p> <p></p> <p>HTTPBasicAuthHandler \u5c31\u53ef\u4ee5\u8bf7\u6c42\u8fd9\u6837\u7684\u9875\u9762\uff1a</p> <pre><code>from urllib.request import (\n    HTTPPasswordMgrWithDefaultRealm, HTTPBasicAuthHandler, build_opener\n    )\nfrom urllib.error import URLError  \n\nusername = 'name'  \npassword = '12345678'  \nurl = 'https://httpbin.org/basic-auth/name/12345678'  \n\np = HTTPPasswordMgrWithDefaultRealm()  \np.add_password(None, url, username, password)  \nauth_handler = HTTPBasicAuthHandler(p)  \nopener = build_opener(auth_handler)  \n\ntry:  \n    result = opener.open(url)  \n    html = result.read().decode('utf-8')  \n    print(html)  \nexcept URLError as e:  \n    print(e.reason)\n</code></pre> <pre><code>{\n  \"authenticated\": true,\n  \"user\": \"name\"\n}\n</code></pre> <p>\u8fd9\u91cc\u9996\u5148\u5b9e\u4f8b\u5316 HTTPBasicAuthHandler \u5bf9\u8c61\uff0c\u5176\u53c2\u6570\u662f HTTPPasswordMgrWithDefaultRealm \u5bf9\u8c61\uff0c\u5b83\u5229\u7528 add_password \u65b9\u6cd5\u6dfb\u52a0\u8fdb\u53bb\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u8fd9\u6837\u5c31\u5efa\u7acb\u4e86\u4e00\u4e2a\u5904\u7406\u9a8c\u8bc1\u7684 Handler\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u5229\u7528\u8fd9\u4e2a Handler \u5e76\u4f7f\u7528 build_opener \u65b9\u6cd5\u6784\u5efa\u4e00\u4e2a Opener\uff0c\u8fd9\u4e2a Opener \u5728\u53d1\u9001\u8bf7\u6c42\u65f6\u5c31\u76f8\u5f53\u4e8e\u5df2\u7ecf\u9a8c\u8bc1\u6210\u529f\u4e86\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u5229\u7528 Opener \u7684 open \u65b9\u6cd5\u6253\u5f00\u94fe\u63a5\uff0c\u5c31\u53ef\u4ee5\u5b8c\u6210\u9a8c\u8bc1\u4e86\u3002\u8fd9\u91cc\u83b7\u53d6\u5230\u7684\u7ed3\u679c\u5c31\u662f\u9a8c\u8bc1\u540e\u7684\u9875\u9762\u6e90\u7801\u5185\u5bb9\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#_2","title":"\u4ee3\u7406","text":"<p>\u5728\u505a\u722c\u866b\u7684\u65f6\u5019\uff0c\u514d\u4e0d\u4e86\u8981\u4f7f\u7528\u4ee3\u7406\uff0c\u5982\u679c\u8981\u6dfb\u52a0\u4ee3\u7406\uff0c\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a</p> <pre><code>from urllib.error import URLError  \nfrom urllib.request import ProxyHandler, build_opener  \n\nproxy_handler = ProxyHandler({  \n    'http': 'http://127.0.0.1:9743',  \n    'https': 'https://127.0.0.1:9743'  \n})  \nopener = build_opener(proxy_handler)  \ntry:  \n    response = opener.open('https://www.baidu.com')  \n    print(response.read().decode('utf-8'))  \nexcept URLError as e:  \n    print(e.reason)\n</code></pre> <pre><code>[WinError 10061] No connection could be made because the target\nmachine actively refused it\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u5728\u672c\u5730\u642d\u5efa\u4e86\u4e00\u4e2a\u4ee3\u7406\uff0c\u5b83\u8fd0\u884c\u5728 9743 \u7aef\u53e3\u4e0a\u3002</p> <p>\u8fd9\u91cc\u4f7f\u7528\u4e86 ProxyHandler\uff0c\u5176\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u952e\u540d\u662f\u534f\u8bae\u7c7b\u578b\uff08\u6bd4\u5982 HTTP \u6216\u8005 HTTPS \u7b49\uff09\uff0c\u952e\u503c\u662f\u4ee3\u7406\u94fe\u63a5\uff0c\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u4ee3\u7406\u3002</p> <p>\u7136\u540e\uff0c\u5229\u7528\u8fd9\u4e2a Handler \u53ca build_opener \u65b9\u6cd5\u6784\u9020\u4e00\u4e2a Opener\uff0c\u4e4b\u540e\u53d1\u9001\u8bf7\u6c42\u5373\u53ef\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#cookies","title":"Cookies","text":"<p>\u83b7\u53d6\u7f51\u7ad9\u7684 Cookies\uff0c\u76f8\u5173\u4ee3\u7801\u5982\u4e0b\uff1a</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u5fc5\u987b\u58f0\u660e\u4e00\u4e2a CookieJar \u5bf9\u8c61\u3002\u63a5\u4e0b\u6765\uff0c\u5c31\u9700\u8981\u5229\u7528 HTTPCookieProcessor \u6765\u6784\u5efa\u4e00\u4e2a Handler\uff0c\u6700\u540e\u5229\u7528 build_opener \u65b9\u6cd5\u6784\u5efa\u51fa Opener\uff0c\u6267\u884c open \u51fd\u6570\u5373\u53ef\u3002    </p> <pre><code>import http.cookiejar, urllib.request  \n\ncookie = http.cookiejar.CookieJar()  \nhandler = urllib.request.HTTPCookieProcessor(cookie)  \nopener = urllib.request.build_opener(handler)  \nresponse = opener.open('http://www.baidu.com')  \nfor item in cookie:  \n    print(item.name+\"=\"+item.value)\n</code></pre> <pre><code>BAIDUID=A5F653A099838B93FFDFA2E2E5DF2B7F:FG=1\nBIDUPSID=A5F653A099838B93B7152CE45EB47D2A\nH_PS_PSSID=31906_1420_31669_21080_31069_31253_31765_32045_30823_26350\nPSTM=1592026781\nBDSVRTM=0\nBD_HOME=1\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u91cc\u8f93\u51fa\u4e86\u6bcf\u6761 Cookie \u7684\u540d\u79f0\u548c\u503c\u3002</p> <p>\u4e0d\u8fc7\u65e2\u7136\u80fd\u8f93\u51fa\uff0c\u90a3\u53ef\u4e0d\u53ef\u4ee5\u8f93\u51fa\u6210\u6587\u4ef6\u683c\u5f0f\u5462\uff1f\u6211\u4eec\u77e5\u9053 Cookies \u5b9e\u9645\u4e0a\u4e5f\u662f\u4ee5\u6587\u672c\u5f62\u5f0f\u4fdd\u5b58\u7684\u3002</p> <p>\u7b54\u6848\u5f53\u7136\u662f\u80af\u5b9a\u7684\uff0c\u8fd9\u91cc\u901a\u8fc7\u4e0b\u9762\u7684\u5b9e\u4f8b\u6765\u770b\u770b\uff1a</p> <pre><code>filename = 'cookies.txt'  \ncookie = http.cookiejar.MozillaCookieJar(filename)  \nhandler = urllib.request.HTTPCookieProcessor(cookie)  \nopener = urllib.request.build_opener(handler)  \nresponse = opener.open('http://www.baidu.com')  \ncookie.save(ignore_discard=True, ignore_expires=True)\n</code></pre> <p>\u8fd9\u65f6 CookieJar \u5c31\u9700\u8981\u6362\u6210 MozillaCookieJar\uff0c\u5b83\u5728\u751f\u6210\u6587\u4ef6\u65f6\u4f1a\u7528\u5230\uff0c\u662f CookieJar \u7684\u5b50\u7c7b\uff0c\u53ef\u4ee5\u7528\u6765\u5904\u7406 Cookies \u548c\u6587\u4ef6\u76f8\u5173\u7684\u4e8b\u4ef6\uff0c\u6bd4\u5982\u8bfb\u53d6\u548c\u4fdd\u5b58 Cookies\uff0c\u53ef\u4ee5\u5c06 Cookies \u4fdd\u5b58\u6210 Mozilla \u578b\u6d4f\u89c8\u5668\u7684 Cookies \u683c\u5f0f\u3002</p> <p>\u8fd0\u884c\u4e4b\u540e\uff0c\u53ef\u4ee5\u53d1\u73b0\u751f\u6210\u4e86\u4e00\u4e2a cookies.txt \u6587\u4ef6\uff0c\u5176\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code># Netscape HTTP Cookie File  \n# http://curl.haxx.se/rfc/cookie_spec.html  \n# This is a generated file!  Do not edit.  \n\n.baidu.com       TRUE   / FALSE   3622386254    BAIDUID     05AE39B5F56C1DEC474325CDA522D44F:FG=1  \n.baidu.com       TRUE   / FALSE   3622386254    BIDUPSID    05AE39B5F56C1DEC474325CDA522D44F  \n.baidu.com       TRUE   / FALSE                 H_PS_PSSID  19638_1453_17710_18240_21091_18560_17001_  \n                                                            21191_21161  \n.baidu.com       TRUE   / FALSE   3622386254    PSTM        1474902606  \nwww.baidu.com    FALSE  / FALSE                 BDSVRTM     0  \nwww.baidu.com    FALSE  / FALSE                 BD_HOME     0\n</code></pre> <p>\u53e6\u5916\uff0cLWPCookieJar \u540c\u6837\u53ef\u4ee5\u8bfb\u53d6\u548c\u4fdd\u5b58 Cookies\uff0c\u4f46\u662f\u4fdd\u5b58\u7684\u683c\u5f0f\u548c MozillaCookieJar \u4e0d\u4e00\u6837\uff0c\u5b83\u4f1a\u4fdd\u5b58\u6210 libwww-perl(LWP) \u683c\u5f0f\u7684 Cookies \u6587\u4ef6\u3002</p> <p>\u8981\u4fdd\u5b58\u6210 LWP \u683c\u5f0f\u7684 Cookies \u6587\u4ef6\uff0c\u53ef\u4ee5\u5728\u58f0\u660e\u65f6\u5c31\u6539\u4e3a\uff1a</p> <pre><code>cookie = http.cookiejar.LWPCookieJar(filename)\n</code></pre> <p>\u6b64\u65f6\u751f\u6210\u7684\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>#LWP-Cookies-2.0  \nSet-Cookie3: BAIDUID=\"0CE9C56F598E69DB375B7C294AE5C591:FG=1\"; path=\"/\"; domain=\".baidu.com\"; path_spec;   \n    domain_dot; expires=\"2084-10-14 18:25:19Z\"; version=0  \nSet-Cookie3: BIDUPSID=0CE9C56F598E69DB375B7C294AE5C591; path=\"/\"; domain=\".baidu.com\"; path_spec; domain_dot;  \n    expires=\"2084-10-14 18:25:19Z\"; version=0  \nSet-Cookie3: H_PS_PSSID=20048_1448_18240_17944_21089_21192_21161_20929; path=\"/\"; domain=\".baidu.com\";  \n    path_spec; domain_dot; discard; version=0  \nSet-Cookie3: PSTM=1474902671; path=\"/\"; domain=\".baidu.com\"; path_spec; domain_dot; expires=\"2084-10-14  \n    18:25:19Z\"; version=0  \nSet-Cookie3: BDSVRTM=0; path=\"/\"; domain=\"www.baidu.com\"; path_spec; discard; version=0  \nSet-Cookie3: BD_HOME=0; path=\"/\"; domain=\"www.baidu.com\"; path_spec; discard; version=0\n</code></pre> <p>\u7531\u6b64\u770b\u6765\uff0c\u751f\u6210\u7684\u683c\u5f0f\u8fd8\u662f\u6709\u6bd4\u8f83\u5927\u5dee\u5f02\u7684\u3002</p> <p>\u90a3\u4e48\uff0c\u751f\u6210\u4e86 Cookies \u6587\u4ef6\u540e\uff0c\u600e\u6837\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u5e76\u5229\u7528\u5462\uff1f</p> <p>\u4e0b\u9762\u6211\u4eec\u4ee5 LWPCookieJar \u683c\u5f0f\u4e3a\u4f8b\u6765\u770b\u4e00\u4e0b\uff1a</p> <pre><code>cookie = http.cookiejar.LWPCookieJar()  \ncookie.load('cookies.txt', ignore_discard=True, ignore_expires=True)  \nhandler = urllib.request.HTTPCookieProcessor(cookie)  \nopener = urllib.request.build_opener(handler)  \nresponse = opener.open('http://www.baidu.com')  \nprint(response.read().decode('utf-8'))\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u91cc\u8c03\u7528 load \u65b9\u6cd5\u6765\u8bfb\u53d6\u672c\u5730\u7684 Cookies \u6587\u4ef6\uff0c\u83b7\u53d6\u5230\u4e86 Cookies \u7684\u5185\u5bb9\u3002\u4e0d\u8fc7\u524d\u63d0\u662f\u6211\u4eec\u9996\u5148\u751f\u6210\u4e86 LWPCookieJar \u683c\u5f0f\u7684 Cookies\uff0c\u5e76\u4fdd\u5b58\u6210\u6587\u4ef6\uff0c\u7136\u540e\u8bfb\u53d6 Cookies \u4e4b\u540e\u4f7f\u7528\u540c\u6837\u7684\u65b9\u6cd5\u6784\u5efa Handler \u548c Opener \u5373\u53ef\u5b8c\u6210\u64cd\u4f5c\u3002</p> <p>\u8fd0\u884c\u7ed3\u679c\u6b63\u5e38\u7684\u8bdd\uff0c\u4f1a\u8f93\u51fa\u767e\u5ea6\u7f51\u9875\u7684\u6e90\u4ee3\u7801\u3002</p> <p>\u901a\u8fc7\u4e0a\u9762\u7684\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0\u7edd\u5927\u591a\u6570\u8bf7\u6c42\u529f\u80fd\u7684\u8bbe\u7f6e\u4e86\u3002</p> <p>\u8fd9\u4fbf\u662f urllib \u5e93\u4e2d request \u6a21\u5757\u7684\u57fa\u672c\u7528\u6cd5\uff0c\u5982\u679c\u60f3\u5b9e\u73b0\u66f4\u591a\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u53c2\u8003\u5b98\u65b9\u6587\u6863\u7684\u8bf4\u660e\uff1ahttps://docs.python.org/3/library/urllib.request.html#basehandler-objects\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#_3","title":"\u5904\u7406\u5f02\u5e38","text":"<p>urllib \u7684 error \u6a21\u5757\u5b9a\u4e49\u4e86\u7531 request \u6a21\u5757\u4ea7\u751f\u7684\u5f02\u5e38\u3002\u5982\u679c\u51fa\u73b0\u4e86\u95ee\u9898\uff0crequest \u6a21\u5757\u4fbf\u4f1a\u629b\u51fa error \u6a21\u5757\u4e2d\u5b9a\u4e49\u7684\u5f02\u5e38\u3002error \u6a21\u5757\u5b9a\u4e49\u4e86\u4e09\u79cd\u5f02\u5e38:</p> <pre><code>['ContentTooShortError', 'HTTPError', 'URLError']\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#urlerror","title":"URLError","text":"<p>URLError \u7c7b\u6765\u81ea urllib \u5e93\u7684 error \u6a21\u5757\uff0c\u5b83\u7ee7\u627f\u81ea<code>OSError</code>\u7c7b\uff0c\u662f error \u5f02\u5e38\u6a21\u5757\u7684\u57fa\u7c7b\uff0c\u7531 request \u6a21\u5757\u4ea7\u751f\u7684\u5f02\u5e38\u90fd\u53ef\u4ee5\u901a\u8fc7\u6355\u83b7\u8fd9\u4e2a\u7c7b\u6765\u5904\u7406\u3002</p> <p>\u5b83\u5177\u6709\u4e00\u4e2a\u5c5e\u6027 reason\uff0c\u5373\u8fd4\u56de\u9519\u8bef\u7684\u539f\u56e0\u3002</p> <pre><code>from urllib import request, error \ntry:\n    # \u8bf7\u6c42\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u7f51\u9875\n    response = request.urlopen('https://cuiqingcai.com/index.htm')  \nexcept error.URLError as e:  \n    print(e.reason)\n</code></pre> <pre><code>Bad Gateway\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#httperror","title":"HTTPError","text":"<p>\u5b83\u662f <code>URLError</code>\u7684\u5b50\u7c7b\uff0c\u4e13\u95e8\u7528\u6765\u5904\u7406 HTTP \u8bf7\u6c42\u9519\u8bef\uff0c\u6bd4\u5982\u8ba4\u8bc1\u8bf7\u6c42\u5931\u8d25\u7b49\u3002\u5b83\u6709\u5982\u4e0b 3 \u4e2a\u5c5e\u6027\u3002</p> <ul> <li> <p>code\uff1a\u8fd4\u56de HTTP \u72b6\u6001\u7801\uff0c\u6bd4\u5982 404 \u8868\u793a\u7f51\u9875\u4e0d\u5b58\u5728\uff0c500 \u8868\u793a\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef\u7b49\u3002</p> </li> <li> <p>reason\uff1a\u540c\u7236\u7c7b\u4e00\u6837\uff0c\u7528\u4e8e\u8fd4\u56de\u9519\u8bef\u7684\u539f\u56e0\u3002</p> </li> <li> <p>headers\uff1a\u8fd4\u56de\u8bf7\u6c42\u5934\u3002</p> </li> </ul> <pre><code>from urllib import request,error  \ntry:  \n    response = request.urlopen('https://cuiqingcai.com/index.htm')  \nexcept error.HTTPError as e:  \n    print(e.reason, e.code, e.headers, sep='\\n')\n</code></pre> <pre><code>Not Found\n404\nServer: nginx/1.10.3 (Ubuntu)\nDate: Sat, 13 Jun 2020 05:40:02 GMT\nContent-Type: text/html; charset=UTF-8\nTransfer-Encoding: chunked\nConnection: close\nSet-Cookie: PHPSESSID=82bor4hv5of8dd5dbdppp8jut2; path=/\nPragma: no-cache\nVary: Cookie\nExpires: Wed, 11 Jan 1984 05:00:00 GMT\nCache-Control: no-cache, must-revalidate, max-age=0\nLink: &lt;https://cuiqingcai.com/wp-json/&gt;; rel=\"https://api.w.org/\"\n</code></pre> <p>\u4f9d\u7136\u662f\u540c\u6837\u7684\u7f51\u5740\uff0c\u8fd9\u91cc\u6355\u83b7\u4e86 <code>HTTPError</code>\u5f02\u5e38\uff0c\u8f93\u51fa\u4e86 reason\u3001code \u548c headers \u5c5e\u6027\u3002</p> <p>\u56e0\u4e3a <code>URLError</code>\u662f <code>HTTPError</code>\u7684\u7236\u7c7b\uff0c\u6240\u4ee5\u53ef\u4ee5\u5148\u9009\u62e9\u6355\u83b7\u5b50\u7c7b\u7684\u9519\u8bef\uff0c\u518d\u53bb\u6355\u83b7\u7236\u7c7b\u7684\u9519\u8bef\uff0c\u6240\u4ee5\u4e0a\u8ff0\u4ee3\u7801\u66f4\u597d\u7684\u5199\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>from urllib import request, error  \n\ntry:  \n    response = request.urlopen('https://cuiqingcai.com/index.htm')  \nexcept error.HTTPError as e:  \n    print(e.reason, e.code, e.headers, sep='\\n')  \nexcept error.URLError as e:  \n    print(e.reason)  \nelse:  \n    print('Request Successfully')\n</code></pre> <pre><code>Not Found\n404\nServer: nginx/1.10.3 (Ubuntu)\nDate: Sat, 13 Jun 2020 05:40:02 GMT\nContent-Type: text/html; charset=UTF-8\nTransfer-Encoding: chunked\nConnection: close\nSet-Cookie: PHPSESSID=ekbuprp6akme47u5dm53uecti2; path=/\nPragma: no-cache\nVary: Cookie\nExpires: Wed, 11 Jan 1984 05:00:00 GMT\nCache-Control: no-cache, must-revalidate, max-age=0\nLink: &lt;https://cuiqingcai.com/wp-json/&gt;; rel=\"https://api.w.org/\"\n</code></pre> <p>\u8fd9\u6837\u5c31\u53ef\u4ee5\u505a\u5230\u5148\u6355\u83b7 <code>HTTPError</code>\uff0c\u83b7\u53d6\u5b83\u7684\u9519\u8bef\u72b6\u6001\u7801\u3001\u539f\u56e0\u3001headers \u7b49\u4fe1\u606f\u3002\u5982\u679c\u4e0d\u662f <code>HTTPError</code>\u5f02\u5e38\uff0c\u5c31\u4f1a\u6355\u83b7 <code>URLError</code>\u5f02\u5e38\uff0c\u8f93\u51fa\u9519\u8bef\u539f\u56e0\u3002\u6700\u540e\uff0c\u7528 else \u6765\u5904\u7406\u6b63\u5e38\u7684\u903b\u8f91\u3002\u8fd9\u662f\u4e00\u4e2a\u8f83\u597d\u7684\u5f02\u5e38\u5904\u7406\u5199\u6cd5\u3002</p> <p>\u6709\u65f6\u5019\uff0creason \u5c5e\u6027\u8fd4\u56de\u7684\u4e0d\u4e00\u5b9a\u662f\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u80fd\u662f\u4e00\u4e2a\u5bf9\u8c61\u3002\u518d\u770b\u4e0b\u9762\u7684\u5b9e\u4f8b\uff1a</p> <pre><code>import socket  \nimport urllib.request  \nimport urllib.error  \n\ntry:  \n    response = urllib.request.urlopen('https://www.baidu.com', timeout=0.01)  \nexcept urllib.error.URLError as e:  \n    print(type(e.reason))  \n    if isinstance(e.reason, socket.timeout):  \n        print('TIME OUT')\n</code></pre> <pre><code>&lt;class 'socket.timeout'&gt;\nTIME OUT\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u76f4\u63a5\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4\u6765\u5f3a\u5236\u629b\u51fa timeout \u5f02\u5e38\u3002</p> <p>\u53ef\u4ee5\u53d1\u73b0\uff0creason \u5c5e\u6027\u7684\u7ed3\u679c\u662f <code>socket.timeout</code> \u7c7b\u3002\u6240\u4ee5\uff0c\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u7528 <code>isinstance</code>\u65b9\u6cd5\u6765\u5224\u65ad\u5b83\u7684\u7c7b\u578b\uff0c\u4f5c\u51fa\u66f4\u8be6\u7ec6\u7684\u5f02\u5e38\u5224\u65ad\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#_4","title":"\u89e3\u6790\u94fe\u63a5","text":"<p>urllib \u5e93\u7684 parse \u6a21\u5757\uff0c\u5b83\u5b9a\u4e49\u4e86\u5904\u7406 URL \u7684\u6807\u51c6\u63a5\u53e3\uff0c\u4f8b\u5982\u5b9e\u73b0 URL \u5404\u90e8\u5206\u7684\u62bd\u53d6\u3001\u5408\u5e76\u4ee5\u53ca\u94fe\u63a5\u8f6c\u6362\u3002\u5b83\u652f\u6301\u5982\u4e0b\u534f\u8bae\u7684 URL \u5904\u7406\uff1afile\u3001ftp\u3001gopher\u3001hdl\u3001http\u3001https\u3001imap\u3001mailto\u3001 mms\u3001news\u3001nntp\u3001prospero\u3001rsync\u3001rtsp\u3001rtspu\u3001sftp\u3001 sip\u3001sips\u3001snews\u3001svn\u3001svn+ssh\u3001telnet \u548c wais\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#urlparse","title":"urlparse","text":"<p>\u8be5\u65b9\u6cd5\u53ef\u4ee5\u5b9e\u73b0 URL \u7684\u8bc6\u522b\u548c\u5206\u6bb5\uff1a       <pre><code>urllib.parse.urlparse(urlstring, scheme='', allow_fragments=True)\n</code></pre></p> <ul> <li> <p><code>urlstring</code>\uff1a\u5f85\u89e3\u6790\u7684 URL</p> </li> <li> <p><code>scheme</code>\uff1a\u5b83\u662f\u9ed8\u8ba4\u7684\u534f\u8bae\uff08\u6bd4\u5982 http \u6216 https \u7b49\uff09\u3002 scheme \u53c2\u6570\u53ea\u6709\u5728 urlstring \u4e2d\u4e0d\u5305\u542b scheme \u4fe1\u606f\u65f6\u624d\u751f\u6548\u3002</p> </li> <li> <p><code>allow_fragments</code>\uff1a\u662f\u5426\u5ffd\u7565 fragment\u3002 \u5982\u679c\u8bbe\u7f6e\u4e3a False\uff0cfragment \u90e8\u5206\u5c31\u4f1a\u88ab\u5ffd\u7565\uff0c\u5b83\u4f1a\u88ab\u89e3\u6790\u4e3a path\u3001parameters \u6216\u8005 query \u7684\u4e00\u90e8\u5206\uff0c\u800c fragment \u90e8\u5206\u4e3a\u7a7a\u3002\u5f53 URL \u4e2d\u4e0d\u5305\u542b params \u548c query \u65f6\uff0cfragment \u4fbf\u4f1a\u88ab\u89e3\u6790\u4e3a path \u7684\u4e00\u90e8\u5206</p> </li> </ul> <p>\u4f8b\u5b50\uff1a</p> <pre><code>from urllib.parse import urlparse  \n\nresult = urlparse('http://www.baidu.com/index.html;user?id=5#comment')  \nprint(type(result), result)\n</code></pre> <pre><code>&lt;class 'urllib.parse.ParseResult'&gt; ParseResult(scheme='http',\nnetloc='www.baidu.com', path='/index.html', params='user',\nquery='id=5', fragment='comment')\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u8fd4\u56de\u7ed3\u679c\u662f\u4e00\u4e2a <code>ParseResult</code>\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u5b83\u5305\u542b 6 \u4e2a\u90e8\u5206\uff0c\u5206\u522b\u662f scheme\u3001netloc\u3001path\u3001params\u3001query \u548c fragment\u3002</p> <p>\u89c2\u5bdf\u4e00\u4e0b\u8be5\u5b9e\u4f8b\u7684 URL\uff1a</p> <pre><code>http://www.baidu.com/index.html;user?id=5#comment\n</code></pre> <p>\u53ef\u4ee5\u53d1\u73b0\uff0curlparse \u65b9\u6cd5\u5c06\u5176\u62c6\u5206\u6210\u4e86 6 \u4e2a\u90e8\u5206\u3002\u5927\u4f53\u89c2\u5bdf\u53ef\u4ee5\u53d1\u73b0\uff0c\u89e3\u6790\u65f6\u6709\u7279\u5b9a\u7684\u5206\u9694\u7b26\u3002\u6bd4\u5982\uff0c:// \u524d\u9762\u7684\u5c31\u662f scheme\uff0c\u4ee3\u8868\u534f\u8bae\uff1b\u7b2c\u4e00\u4e2a / \u7b26\u53f7\u524d\u9762\u4fbf\u662f netloc\uff0c\u5373\u57df\u540d\uff0c\u540e\u9762\u662f path\uff0c\u5373\u8bbf\u95ee\u8def\u5f84\uff1b\u5206\u53f7\uff1b\u540e\u9762\u662f params\uff0c\u4ee3\u8868\u53c2\u6570\uff1b\u95ee\u53f7\uff1f\u540e\u9762\u662f\u67e5\u8be2\u6761\u4ef6 query\uff0c\u4e00\u822c\u7528\u4f5c GET \u7c7b\u578b\u7684 URL\uff1b\u4e95\u53f7 #\u540e\u9762\u662f\u951a\u70b9\uff0c\u7528\u4e8e\u76f4\u63a5\u5b9a\u4f4d\u9875\u9762\u5185\u90e8\u7684\u4e0b\u62c9\u4f4d\u7f6e\u3002</p> <p>\u6240\u4ee5\uff0c\u53ef\u4ee5\u5f97\u51fa\u4e00\u4e2a\u6807\u51c6\u7684\u94fe\u63a5\u683c\u5f0f\uff0c\u5177\u4f53\u5982\u4e0b\uff1a</p> <pre><code>scheme://netloc/path;params?query#fragment\n</code></pre> <p>\u4e00\u4e2a\u6807\u51c6\u7684 URL \u90fd\u4f1a\u7b26\u5408\u8fd9\u4e2a\u89c4\u5219\uff0c\u5229\u7528 <code>urlparse</code>\u65b9\u6cd5\u53ef\u4ee5\u5c06\u5b83\u62c6\u5206\u5f00\u6765\u3002</p> <p>\u8fd4\u56de\u7ed3\u679c <code>ParseResult</code>\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u5143\u7ec4\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u7d22\u5f15\u987a\u5e8f\u6765\u83b7\u53d6\uff0c\u4e5f\u53ef\u4ee5\u7528\u5c5e\u6027\u540d\u83b7\u53d6\u3002\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>from urllib.parse import urlparse  \n\nresult = urlparse('http://www.baidu.com/index.html#comment', \n                  allow_fragments=False)  \nprint(result.scheme, result[0], result.netloc, result[1], sep='\\n')\n</code></pre> <pre><code>http\nhttp\nwww.baidu.com\nwww.baidu.com\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#urlunparse","title":"urlunparse","text":"<p>\u6709\u4e86 <code>urlparse</code>\u65b9\u6cd5\uff0c\u76f8\u5e94\u5730\u5c31\u6709\u4e86\u5b83\u7684\u5bf9\u7acb\u65b9\u6cd5 <code>urlunparse</code>\u3002\u5b83\u63a5\u53d7\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u4f46\u662f\u5b83\u7684\u957f\u5ea6\u5fc5\u987b\u662f 6\uff0c\u5426\u5219\u4f1a\u629b\u51fa\u53c2\u6570\u6570\u91cf\u4e0d\u8db3\u6216\u8005\u8fc7\u591a\u7684\u95ee\u9898\u3002</p> <pre><code>from urllib.parse import urlunparse  \n\ndata = ['http', 'www.baidu.com', 'index.html', 'user', 'a=6', 'comment']  \nprint(urlunparse(data))\n</code></pre> <pre><code>http://www.baidu.com/index.html;user?a=6#comment\n</code></pre> <p>\u8fd9\u91cc\u53c2\u6570 data \u7528\u4e86\u5217\u8868\u7c7b\u578b\u3002\u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u7528\u5176\u4ed6\u7c7b\u578b\uff0c\u6bd4\u5982\u5143\u7ec4\u6216\u8005\u7279\u5b9a\u7684\u6570\u636e\u7ed3\u6784\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#urlsplit","title":"urlsplit","text":"<p>\u8fd9\u4e2a\u65b9\u6cd5\u548c <code>urlparse</code>\u65b9\u6cd5\u975e\u5e38\u76f8\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u5b83\u4e0d\u518d\u5355\u72ec\u89e3\u6790 <code>params</code>\u8fd9\u4e00\u90e8\u5206\uff0c\u53ea\u8fd4\u56de 5 \u4e2a\u7ed3\u679c\u3002\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684 <code>params</code>\u4f1a\u5408\u5e76\u5230 path \u4e2d\u3002\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>from urllib.parse import urlsplit  \n\nresult = urlsplit('http://www.baidu.com/index.html;user?id=5#comment')  \nprint(result)\n</code></pre> <pre><code>SplitResult(scheme='http', netloc='www.baidu.com',\npath='/index.html;user', query='id=5', fragment='comment')\n</code></pre> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u8fd4\u56de\u7ed3\u679c\u662f <code>SplitResult</code>\uff0c\u5b83\u5176\u5b9e\u4e5f\u662f\u4e00\u4e2a\u5143\u7ec4\u7c7b\u578b\uff0c\u65e2\u53ef\u4ee5\u7528\u5c5e\u6027\u83b7\u53d6\u503c\uff0c\u4e5f\u53ef\u4ee5\u7528\u7d22\u5f15\u6765\u83b7\u53d6\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#urlunsplit","title":"urlunsplit","text":"<p>\u4e0e <code>urlunparse</code>\u65b9\u6cd5\u7c7b\u4f3c\uff0c\u5b83\u4e5f\u662f\u5c06\u94fe\u63a5\u5404\u4e2a\u90e8\u5206\u7ec4\u5408\u6210\u5b8c\u6574\u94fe\u63a5\u7684\u65b9\u6cd5\uff0c\u4f20\u5165\u7684\u53c2\u6570\u4e5f\u662f\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u4f8b\u5982\u5217\u8868\u3001\u5143\u7ec4\u7b49\uff0c\u552f\u4e00\u7684\u533a\u522b\u662f\u957f\u5ea6\u5fc5\u987b\u4e3a 5\u3002\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>from urllib.parse import urlunsplit  \n\ndata = ['http', 'www.baidu.com', 'index.html', 'a=6', 'comment']  \nprint(urlunsplit(data))\n</code></pre> <pre><code>http://www.baidu.com/index.html?a=6#comment\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#urljoin","title":"urljoin","text":"<p>\u6709\u4e86 <code>urlunparse</code>\u548c <code>urlunsplit</code>\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u5b8c\u6210\u94fe\u63a5\u7684\u5408\u5e76\uff0c\u4e0d\u8fc7\u524d\u63d0\u5fc5\u987b\u8981\u6709\u7279\u5b9a\u957f\u5ea6\u7684\u5bf9\u8c61\uff0c\u94fe\u63a5\u7684\u6bcf\u4e00\u90e8\u5206\u90fd\u8981\u6e05\u6670\u5206\u5f00\u3002</p> <p>\u6b64\u5916\uff0c\u751f\u6210\u94fe\u63a5\u8fd8\u6709\u53e6\u4e00\u4e2a\u65b9\u6cd5\uff0c\u90a3\u5c31\u662f <code>urljoin</code>\u65b9\u6cd5\u3002\u6211\u4eec\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a base_url\uff08\u57fa\u7840\u94fe\u63a5\uff09\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u5c06\u65b0\u7684\u94fe\u63a5\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8be5\u65b9\u6cd5\u4f1a\u5206\u6790 base_url \u7684 scheme\u3001netloc \u548c path \u8fd9 3 \u4e2a\u5185\u5bb9\u5e76\u5bf9\u65b0\u94fe\u63a5\u7f3a\u5931\u7684\u90e8\u5206\u8fdb\u884c\u8865\u5145\uff0c\u6700\u540e\u8fd4\u56de\u7ed3\u679c\u3002</p> <pre><code>from urllib.parse import urljoin  \n\nprint(urljoin('http://www.baidu.com', 'FAQ.html'))  \nprint(urljoin('http://www.baidu.com', 'https://cuiqingcai.com/FAQ.html'))  \nprint(urljoin('http://www.baidu.com/about.html', 'https://cuiqingcai.com/FAQ.html'))  \nprint(urljoin('http://www.baidu.com/about.html', 'https://cuiqingcai.com/FAQ.html?question=2'))  \nprint(urljoin('http://www.baidu.com?wd=abc', 'https://cuiqingcai.com/index.php'))  \nprint(urljoin('http://www.baidu.com', '?category=2#comment'))  \nprint(urljoin('www.baidu.com', '?category=2#comment'))  \nprint(urljoin('www.baidu.com#comment', '?category=2'))\n</code></pre> <pre><code>http://www.baidu.com/FAQ.html\nhttps://cuiqingcai.com/FAQ.html\nhttps://cuiqingcai.com/FAQ.html\nhttps://cuiqingcai.com/FAQ.html?question=2\nhttps://cuiqingcai.com/index.php\nhttp://www.baidu.com?category=2#comment\nwww.baidu.com?category=2#comment\nwww.baidu.com?category=2\n</code></pre> <p>\u53ef\u4ee5\u53d1\u73b0\uff0cbase_url \u63d0\u4f9b\u4e86\u4e09\u9879\u5185\u5bb9 scheme\u3001netloc \u548c path\u3002\u5982\u679c\u8fd9 3 \u9879\u5728\u65b0\u7684\u94fe\u63a5\u91cc\u4e0d\u5b58\u5728\uff0c\u5c31\u4e88\u4ee5\u8865\u5145\uff1b\u5982\u679c\u65b0\u7684\u94fe\u63a5\u5b58\u5728\uff0c\u5c31\u4f7f\u7528\u65b0\u7684\u94fe\u63a5\u7684\u90e8\u5206\u3002\u800c base_url \u4e2d\u7684 params\u3001query \u548c fragment \u662f\u4e0d\u8d77\u4f5c\u7528\u7684\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#urlencode","title":"urlencode","text":"<p><code>urlencode</code>\u5728\u6784\u9020 GET \u8bf7\u6c42\u53c2\u6570\u7684\u65f6\u5019\u975e\u5e38\u6709\u7528\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>from urllib.parse import urlencode  \n\nparams = {  \n    'name': 'germey',  \n    'age': 22  \n}  \nbase_url = 'http://www.baidu.com?'  \nurl = base_url + urlencode(params)  \nprint(url)\n</code></pre> <pre><code>http://www.baidu.com?name=germey&amp;age=22\n</code></pre> <p>\u8fd9\u91cc\u9996\u5148\u58f0\u660e\u4e86\u4e00\u4e2a\u5b57\u5178\u6765\u5c06\u53c2\u6570\u8868\u793a\u51fa\u6765\uff0c\u7136\u540e\u8c03\u7528 urlencode \u65b9\u6cd5\u5c06\u5176\u5e8f\u5217\u5316\u4e3a GET \u8bf7\u6c42\u53c2\u6570\u3002</p> <p>\u8fd9\u4e2a\u65b9\u6cd5\u975e\u5e38\u5e38\u7528\u3002\u6709\u65f6\u4e3a\u4e86\u66f4\u52a0\u65b9\u4fbf\u5730\u6784\u9020\u53c2\u6570\uff0c\u6211\u4eec\u4f1a\u4e8b\u5148\u7528\u5b57\u5178\u6765\u8868\u793a\u3002\u8981\u8f6c\u5316\u4e3a URL \u7684\u53c2\u6570\u65f6\uff0c\u53ea\u9700\u8981\u8c03\u7528\u8be5\u65b9\u6cd5\u5373\u53ef\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#parse_qs","title":"parse_qs","text":"<p>\u6709\u4e86\u5e8f\u5217\u5316\uff0c\u5fc5\u7136\u5c31\u6709\u53cd\u5e8f\u5217\u5316\u3002\u5982\u679c\u6211\u4eec\u6709\u4e00\u4e32 GET \u8bf7\u6c42\u53c2\u6570\uff0c\u5229\u7528 <code>parse_qs</code>\u65b9\u6cd5\uff0c\u5c31\u53ef\u4ee5\u5c06\u5b83\u8f6c\u56de\u5b57\u5178\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>from urllib.parse import parse_qs  \n\nquery = 'name=germey&amp;amp;age=22'  \nprint(parse_qs(query))\n</code></pre> <pre><code>{'name': ['germey'], 'age': ['22']}\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u6837\u5c31\u6210\u529f\u8f6c\u56de\u4e3a\u5b57\u5178\u7c7b\u578b\u4e86\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#parse_qsl","title":"parse_qsl","text":"<p>\u8fd8\u6709\u4e00\u4e2a <code>parse_qsl</code>\u65b9\u6cd5\uff0c\u5b83\u7528\u4e8e\u5c06\u53c2\u6570\u8f6c\u5316\u4e3a\u5143\u7ec4\u7ec4\u6210\u7684\u5217\u8868\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>from urllib.parse import parse_qsl  \n\nquery = 'name=germey&amp;amp;age=22'  \nprint(parse_qsl(query))\n</code></pre> <pre><code>[('name', 'germey'), ('age', '22')]\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u8fd0\u884c\u7ed3\u679c\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u800c\u5217\u8868\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u90fd\u662f\u4e00\u4e2a\u5143\u7ec4\uff0c\u5143\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5185\u5bb9\u662f\u53c2\u6570\u540d\uff0c\u7b2c\u4e8c\u4e2a\u5185\u5bb9\u662f\u53c2\u6570\u503c\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#quote","title":"quote","text":"<p>\u8be5\u65b9\u6cd5\u53ef\u4ee5\u5c06\u5185\u5bb9\u8f6c\u5316\u4e3a URL \u7f16\u7801\u7684\u683c\u5f0f\u3002URL \u4e2d\u5e26\u6709\u4e2d\u6587\u53c2\u6570\u65f6\uff0c\u6709\u65f6\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e71\u7801\u7684\u95ee\u9898\uff0c\u6b64\u65f6\u7528\u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u5c06\u4e2d\u6587\u5b57\u7b26\u8f6c\u5316\u4e3a URL \u7f16\u7801\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>from urllib.parse import quote  \n\nkeyword = ' \u58c1\u7eb8 '  \nurl = 'https://www.baidu.com/s?wd=' + quote(keyword)  \nprint(url)\n</code></pre> <pre><code>https://www.baidu.com/s?wd=%20%E5%A3%81%E7%BA%B8%20\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#unquote","title":"unquote","text":"<p>\u6709\u4e86 quote \u65b9\u6cd5\uff0c\u5f53\u7136\u8fd8\u6709 unquote \u65b9\u6cd5\uff0c\u5b83\u53ef\u4ee5\u8fdb\u884c URL \u89e3\u7801\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>from urllib.parse import unquote  \n\nurl = 'https://www.baidu.com/s?wd=% E5% A3%81% E7% BA% B8'  \nprint(unquote(url))\n</code></pre> <pre><code>https://www.baidu.com/s?wd=% E5% A3\ufffd% E7% BA% B8\n</code></pre> <p>\u8fd9\u662f\u4e0a\u9762\u5f97\u5230\u7684 URL \u7f16\u7801\u540e\u7684\u7ed3\u679c\uff0c\u518d\u5229\u7528 unquote \u65b9\u6cd5\u8fd8\u539f\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#robots","title":"\u5206\u6790 Robots \u534f\u8bae","text":"<p>\u5229\u7528 urllib \u7684 robotparser \u6a21\u5757\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0\u7f51\u7ad9 Robots \u534f\u8bae\u7684\u5206\u6790\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#robots_1","title":"Robots \u534f\u8bae","text":"<p>Robots \u534f\u8bae\u4e5f\u79f0\u4f5c\u722c\u866b\u534f\u8bae\u3001\u673a\u5668\u4eba\u534f\u8bae\uff0c\u5b83\u7684\u5168\u540d\u53eb\u4f5c\u7f51\u7edc\u722c\u866b\u6392\u9664\u6807\u51c6\uff08Robots Exclusion Protocol\uff09\uff0c\u7528\u6765\u544a\u8bc9\u722c\u866b\u548c\u641c\u7d22\u5f15\u64ce\u54ea\u4e9b\u9875\u9762\u53ef\u4ee5\u6293\u53d6\uff0c\u54ea\u4e9b\u4e0d\u53ef\u4ee5\u6293\u53d6\u3002\u5b83\u901a\u5e38\u662f\u4e00\u4e2a\u53eb\u4f5c robots.txt \u7684\u6587\u672c\u6587\u4ef6\uff0c\u4e00\u822c\u653e\u5728\u7f51\u7ad9\u7684\u6839\u76ee\u5f55\u4e0b\u3002</p> <p>\u5f53\u641c\u7d22\u722c\u866b\u8bbf\u95ee\u4e00\u4e2a\u7ad9\u70b9\u65f6\uff0c\u5b83\u9996\u5148\u4f1a\u68c0\u67e5\u8fd9\u4e2a\u7ad9\u70b9\u6839\u76ee\u5f55\u4e0b\u662f\u5426\u5b58\u5728 robots.txt \u6587\u4ef6\uff0c\u5982\u679c\u5b58\u5728\uff0c\u641c\u7d22\u722c\u866b\u4f1a\u6839\u636e\u5176\u4e2d\u5b9a\u4e49\u7684\u722c\u53d6\u8303\u56f4\u6765\u722c\u53d6\u3002\u5982\u679c\u6ca1\u6709\u627e\u5230\u8fd9\u4e2a\u6587\u4ef6\uff0c\u641c\u7d22\u722c\u866b\u4fbf\u4f1a\u8bbf\u95ee\u6240\u6709\u53ef\u76f4\u63a5\u8bbf\u95ee\u7684\u9875\u9762\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a robots.txt \u7684\u6837\u4f8b\uff1a</p> <pre><code>User-agent: *  \nDisallow: /  \nAllow: /public/\n</code></pre> <p>\u8fd9\u5b9e\u73b0\u4e86\u5bf9\u6240\u6709\u641c\u7d22\u722c\u866b\u53ea\u5141\u8bb8\u722c\u53d6 public \u76ee\u5f55\u7684\u529f\u80fd\uff0c\u5c06\u4e0a\u8ff0\u5185\u5bb9\u4fdd\u5b58\u6210 robots.txt \u6587\u4ef6\uff0c\u653e\u5728\u7f51\u7ad9\u7684\u6839\u76ee\u5f55\u4e0b\uff0c\u548c\u7f51\u7ad9\u7684\u5165\u53e3\u6587\u4ef6\uff08\u6bd4\u5982 index.php\u3001index.html \u548c index.jsp \u7b49\uff09\u653e\u5728\u4e00\u8d77\u3002</p> <p>\u4e0a\u9762\u7684 User-agent \u63cf\u8ff0\u4e86\u641c\u7d22\u722c\u866b\u7684\u540d\u79f0\uff0c\u8fd9\u91cc\u5c06\u5176\u8bbe\u7f6e\u4e3a * \u5219\u4ee3\u8868\u8be5\u534f\u8bae\u5bf9\u4efb\u4f55\u722c\u53d6\u722c\u866b\u6709\u6548\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u8bbe\u7f6e\uff1a</p> <pre><code>User-agent: Baiduspider\n</code></pre> <p>\u8fd9\u5c31\u4ee3\u8868\u6211\u4eec\u8bbe\u7f6e\u7684\u89c4\u5219\u5bf9\u767e\u5ea6\u722c\u866b\u662f\u6709\u6548\u7684\u3002\u5982\u679c\u6709\u591a\u6761 User-agent \u8bb0\u5f55\uff0c\u5219\u5c31\u4f1a\u6709\u591a\u4e2a\u722c\u866b\u4f1a\u53d7\u5230\u722c\u53d6\u9650\u5236\uff0c\u4f46\u81f3\u5c11\u9700\u8981\u6307\u5b9a\u4e00\u6761\u3002</p> <p>Disallow \u6307\u5b9a\u4e86\u4e0d\u5141\u8bb8\u6293\u53d6\u7684\u76ee\u5f55\uff0c\u6bd4\u5982\u4e0a\u4f8b\u5b50\u4e2d\u8bbe\u7f6e\u4e3a / \u5219\u4ee3\u8868\u4e0d\u5141\u8bb8\u6293\u53d6\u6240\u6709\u9875\u9762\u3002</p> <p>Allow \u4e00\u822c\u548c Disallow \u4e00\u8d77\u4f7f\u7528\uff0c\u4e00\u822c\u4e0d\u4f1a\u5355\u72ec\u4f7f\u7528\uff0c\u7528\u6765\u6392\u9664\u67d0\u4e9b\u9650\u5236\u3002\u73b0\u5728\u6211\u4eec\u8bbe\u7f6e\u4e3a /public/\uff0c\u5219\u8868\u793a\u6240\u6709\u9875\u9762\u4e0d\u5141\u8bb8\u6293\u53d6\uff0c\u4f46\u53ef\u4ee5\u6293\u53d6 public \u76ee\u5f55\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u518d\u6765\u770b\u51e0\u4e2a\u4f8b\u5b50\u3002\u7981\u6b62\u6240\u6709\u722c\u866b\u8bbf\u95ee\u4efb\u4f55\u76ee\u5f55\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>User-agent: *   \nDisallow: /\n</code></pre> <p>\u5141\u8bb8\u6240\u6709\u722c\u866b\u8bbf\u95ee\u4efb\u4f55\u76ee\u5f55\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>User-agent: *  \nDisallow:\n</code></pre> <p>\u53e6\u5916\uff0c\u76f4\u63a5\u628a robots.txt \u6587\u4ef6\u7559\u7a7a\u4e5f\u662f\u53ef\u4ee5\u7684\u3002</p> <p>\u7981\u6b62\u6240\u6709\u722c\u866b\u8bbf\u95ee\u7f51\u7ad9\u67d0\u4e9b\u76ee\u5f55\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>User-agent: *  \nDisallow: /private/  \nDisallow: /tmp/\n</code></pre> <p>\u53ea\u5141\u8bb8\u67d0\u4e00\u4e2a\u722c\u866b\u8bbf\u95ee\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>User-agent: WebCrawler  \nDisallow:  \nUser-agent: *  \nDisallow: /\n</code></pre> <p>\u8fd9\u4e9b\u662f robots.txt \u7684\u4e00\u4e9b\u5e38\u89c1\u5199\u6cd5\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#_5","title":"\u722c\u866b\u540d\u79f0","text":"<p>\u5927\u5bb6\u53ef\u80fd\u4f1a\u7591\u60d1\uff0c\u722c\u866b\u540d\u662f\u54ea\u513f\u6765\u7684\uff1f\u4e3a\u4ec0\u4e48\u5c31\u53eb\u8fd9\u4e2a\u540d\uff1f\u5176\u5b9e\u5b83\u662f\u6709\u56fa\u5b9a\u540d\u5b57\u7684\u4e86\uff0c\u6bd4\u5982\u767e\u5ea6\u7684\u5c31\u53eb\u4f5c BaiduSpider\u3002\u4e0b\u8868\u5217\u51fa\u4e86\u4e00\u4e9b\u5e38\u89c1\u7684\u641c\u7d22\u722c\u866b\u7684\u540d\u79f0\u53ca\u5bf9\u5e94\u7684\u7f51\u7ad9\u3002</p> \u722c\u866b\u540d\u79f0 \u540d\u3000\u3000\u79f0 \u7f51\u3000\u3000\u7ad9 BaiduSpider \u767e\u5ea6 www.baidu.com Googlebot \u8c37\u6b4c www.google.com 360Spider 360 \u641c\u7d22 www.so.com YodaoBot \u6709\u9053 www.youdao.com ia_archiver Alexa www.alexa.cn Scooter altavista www.altavista.com"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.7.urllib.html#robotparser","title":"robotparser","text":"<p>\u4e86\u89e3 Robots \u534f\u8bae\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528 robotparser \u6a21\u5757\u6765\u89e3\u6790 robots.txt \u4e86\u3002\u8be5\u6a21\u5757\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7c7b <code>RobotFileParser</code>\uff0c\u5b83\u53ef\u4ee5\u6839\u636e\u67d0\u7f51\u7ad9\u7684 robots.txt \u6587\u4ef6\u6765\u5224\u65ad\u4e00\u4e2a\u722c\u53d6\u722c\u866b\u662f\u5426\u6709\u6743\u9650\u6765\u722c\u53d6\u8fd9\u4e2a\u7f51\u9875\u3002</p> <p>\u8be5\u7c7b\u7528\u8d77\u6765\u975e\u5e38\u7b80\u5355\uff0c\u53ea\u9700\u8981\u5728\u6784\u9020\u65b9\u6cd5\u91cc\u4f20\u5165 robots.txt \u7684\u94fe\u63a5\u5373\u53ef\u3002\u9996\u5148\u770b\u4e00\u4e0b\u5b83\u7684\u58f0\u660e\uff1a</p> <pre><code>urllib.robotparser.RobotFileParser(url='')\n</code></pre> <pre><code>&lt;urllib.robotparser.RobotFileParser at 0x1dbbcc44d30&gt;\n</code></pre> <p>\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u5728\u58f0\u660e\u65f6\u4e0d\u4f20\u5165\uff0c\u9ed8\u8ba4\u4e3a\u7a7a\uff0c\u6700\u540e\u518d\u4f7f\u7528 <code>set_url()</code>\u65b9\u6cd5\u8bbe\u7f6e\u4e00\u4e0b\u4e5f\u53ef\u3002</p> <p>\u4e0b\u9762\u5217\u51fa\u4e86\u8fd9\u4e2a\u7c7b\u5e38\u7528\u7684\u51e0\u4e2a\u65b9\u6cd5\u3002</p> <ul> <li> <p><code>set_url</code>\uff1a\u7528\u6765\u8bbe\u7f6e robots.txt \u6587\u4ef6\u7684\u94fe\u63a5\u3002\u5982\u679c\u5728\u521b\u5efa <code>RobotFileParser</code>\u5bf9\u8c61\u65f6\u4f20\u5165\u4e86\u94fe\u63a5\uff0c\u90a3\u4e48\u5c31\u4e0d\u9700\u8981\u518d\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u8bbe\u7f6e\u4e86\u3002</p> </li> <li> <p><code>read</code>\uff1a\u8bfb\u53d6 robots.txt \u6587\u4ef6\u5e76\u8fdb\u884c\u5206\u6790\u3002\u6ce8\u610f\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u6267\u884c\u4e00\u4e2a\u8bfb\u53d6\u548c\u5206\u6790\u64cd\u4f5c\uff0c\u5982\u679c\u4e0d\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u63a5\u4e0b\u6765\u7684\u5224\u65ad\u90fd\u4f1a\u4e3a False\uff0c\u6240\u4ee5\u4e00\u5b9a\u8bb0\u5f97\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u3002\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u4f1a\u8fd4\u56de\u4efb\u4f55\u5185\u5bb9\uff0c\u4f46\u662f\u6267\u884c\u4e86\u8bfb\u53d6\u64cd\u4f5c\u3002</p> </li> <li> <p><code>parse</code>\uff1a\u7528\u6765\u89e3\u6790 robots.txt \u6587\u4ef6\uff0c\u4f20\u5165\u7684\u53c2\u6570\u662f robots.txt \u67d0\u4e9b\u884c\u7684\u5185\u5bb9\uff0c\u5b83\u4f1a\u6309\u7167 robots.txt \u7684\u8bed\u6cd5\u89c4\u5219\u6765\u5206\u6790\u8fd9\u4e9b\u5185\u5bb9\u3002</p> </li> <li> <p><code>can_fetch</code>\uff1a\u8be5\u65b9\u6cd5\u4f20\u5165\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f User-agent\uff0c\u7b2c\u4e8c\u4e2a\u662f\u8981\u6293\u53d6\u7684 URL\u3002\u8fd4\u56de\u7684\u5185\u5bb9\u662f\u8be5\u641c\u7d22\u5f15\u64ce\u662f\u5426\u53ef\u4ee5\u6293\u53d6\u8fd9\u4e2a URL\uff0c\u8fd4\u56de\u7ed3\u679c\u662f True \u6216 False\u3002</p> </li> <li> <p><code>mtime</code>\uff1a\u8fd4\u56de\u7684\u662f\u4e0a\u6b21\u6293\u53d6\u548c\u5206\u6790 robots.txt \u7684\u65f6\u95f4\uff0c\u8fd9\u5bf9\u4e8e\u957f\u65f6\u95f4\u5206\u6790\u548c\u6293\u53d6\u7684\u641c\u7d22\u722c\u866b\u662f\u5f88\u6709\u5fc5\u8981\u7684\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u5b9a\u671f\u68c0\u67e5\u6765\u6293\u53d6\u6700\u65b0\u7684 robots.txt\u3002</p> </li> <li> <p><code>modified</code>\uff1a\u5b83\u540c\u6837\u5bf9\u957f\u65f6\u95f4\u5206\u6790\u548c\u6293\u53d6\u7684\u641c\u7d22\u722c\u866b\u5f88\u6709\u5e2e\u52a9\uff0c\u5c06\u5f53\u524d\u65f6\u95f4\u8bbe\u7f6e\u4e3a\u4e0a\u6b21\u6293\u53d6\u548c\u5206\u6790 robots.txt \u7684\u65f6\u95f4\u3002</p> </li> </ul> <p>\u8fd9\u91cc\u4ee5\u7b80\u4e66\u4e3a\u4f8b\uff0c\u9996\u5148\u521b\u5efa <code>RobotFileParser</code>\u5bf9\u8c61\uff0c\u7136\u540e\u901a\u8fc7 <code>set_url</code> \u65b9\u6cd5\u8bbe\u7f6e\u4e86 robots.txt \u7684\u94fe\u63a5\uff1a</p> <pre><code># need to fix\nfrom urllib.robotparser import RobotFileParser\nrp = RobotFileParser()\nrp.set_url('http://www.jianshu.com/robots.txt')\nrp.read()\nprint(rp.can_fetch('*', 'http://www.jianshu.com/p/b67554025d7d'))\nprint(rp.can_fetch('*', \"http://www.jianshu.com/search?q=python&amp;page=1&amp;type=collections\"))\n</code></pre> <pre><code>False\nFalse\n</code></pre> <p>\u5f53\u7136\uff0c\u4e0d\u7528\u8fd9\u4e2a\u65b9\u6cd5\u7684\u8bdd\uff0c\u53ef\u4ee5\u5728\u58f0\u660e\u65f6\u76f4\u63a5\u7528\u5982\u4e0b\u65b9\u6cd5\u8bbe\u7f6e\uff1a</p> <pre><code>rp = RobotFileParser('http://www.jianshu.com/robots.txt')\n</code></pre> <p>\u63a5\u7740\u5229\u7528 can_fetch \u65b9\u6cd5\u5224\u65ad\u4e86\u7f51\u9875\u662f\u5426\u53ef\u4ee5\u88ab\u6293\u53d6\u3002</p> <p>\u8fd9\u91cc\u540c\u6837\u53ef\u4ee5\u4f7f\u7528 parse \u65b9\u6cd5\u6267\u884c\u8bfb\u53d6\u548c\u5206\u6790\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code># need to fix\nfrom urllib.robotparser import RobotFileParser\nfrom urllib.request import urlopen\nrp = RobotFileParser()\nrp.parse(urlopen('http://www.jianshu.com/robots.txt').read().decode('utf-8').split('\\n'))\nprint(rp.can_fetch('*', 'http://www.jianshu.com/p/b67554025d7d'))\nprint(rp.can_fetch('*', \"http://www.jianshu.com/search?q=python&amp;page=1&amp;type=collections\"))\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.8.requests.html","title":"6.8.requests","text":"<pre><code>import requests\n</code></pre> <pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.04.05\nrequests version:  2.22.0\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.9.re.html","title":"6.9.re","text":"<pre><code>import re\nfrom toolkit.Help import Help as H\n</code></pre> <pre><code>Windows 10\nPython 3.7.3 @ MSC v.1915 64 bit (AMD64)\nLatest build date 2020.04.11\nre version:  2.2.1\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.9.re.html#re","title":"re\u6a21\u5757\u7684\u51fd\u6570","text":"<p>re \u6a21\u5757\u5305\u542b12\u4e2a\u51fd\u6570\uff1a</p> <pre><code>h = H(re)\nd = h.dicts\nd[\"function\"]\n</code></pre> <pre><code>module\n</code></pre> <pre><code>['compile',\n 'escape',\n 'findall',\n 'finditer',\n 'fullmatch',\n 'match',\n 'purge',\n 'search',\n 'split',\n 'sub',\n 'subn',\n 'template']\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.9.re.html#match","title":"<code>match</code>","text":"<p>\u5c1d\u8bd5\u5728\u5b57\u7b26\u4e32\u7684\u5f00\u5934\u5339\u914d\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u8fd4\u56deMatch\u5bf9\u8c61\uff0c\u5982\u679c\u627e\u4e0d\u5230\u5339\u914d\u9879\uff0c\u5219\u8fd4\u56deNone\u3002</p> <p>\u6ce8\u610f\uff1a\u5982\u679c\u5728\u5b57\u7b26\u4e32\u7684\u5f00\u5934\u5c31\u5339\u914d\u5931\u8d25\uff0c\u5219\u8fd4\u56deNone\u3002 </p> <pre><code># \u5339\u914d\u90e8\u5206\u5b57\u7b26\u4e32\ncontent = 'Hello 123'\nresult = re.match('^Hello\\s{1}\\d{2}', content)\nresult\n</code></pre> <pre><code>&lt;re.Match object; span=(0, 8), match='Hello 12'&gt;\n</code></pre> <pre><code># \u5728\u5b57\u7b26\u4e32\u7684\u5f00\u5934\u5c31\u5339\u914d\u5931\u8d25\ncontent = 'Hello 123'\nresult = re.match('^hello\\s{1}\\d{2}', content)\nprint(result)\n</code></pre> <pre><code>None\n</code></pre> <p><code>Match</code>\u5bf9\u8c61\u63d0\u4f9b\u4e86\u4e00\u4e9b\u65b9\u6cd5\u7528\u4e8e\u9009\u62e9\u5339\u914d\u7ed3\u679c\uff1a</p> <pre><code>[i for i in dir(re.Match) if \"_\" not in i]\n</code></pre> <pre><code>['end',\n 'endpos',\n 'expand',\n 'group',\n 'groupdict',\n 'groups',\n 'lastgroup',\n 'lastindex',\n 'pos',\n 're',\n 'regs',\n 'span',\n 'start',\n 'string']\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.9.re.html#fullmatch","title":"<code>fullmatch</code>","text":"<p>\u5c1d\u8bd5\u5728\u6574\u4e2a\u5b57\u7b26\u4e32\u5339\u914d\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u8fd4\u56deMatch\u5bf9\u8c61\uff0c\u5982\u679c\u627e\u4e0d\u5230\u5339\u914d\u9879\uff0c\u5219\u8fd4\u56deNone\u3002</p> <p>\u6ce8\u610f\uff1a\u6b63\u5219\u8868\u8fbe\u5f0f\u5fc5\u987b\u80fd\u5339\u914d\u5230\u6574\u4e2a\u5b57\u7b26\u4e32\uff0c\u5426\u5219\u8fd4\u56deNone\u3002</p> <pre><code># \u5339\u914d\u90e8\u5206\u5b57\u7b26\u4e32\ncontent = 'Hello 123'\nresult = re.fullmatch('^Hello\\s{1}\\d{2}', content)\nprint(result)\n</code></pre> <pre><code>None\n</code></pre> <pre><code># \u5339\u914d\u6574\u4e2a\u5b57\u7b26\u4e32\ncontent = 'Hello 123'\nresult = re.fullmatch('^Hello\\s{1}\\d{3}', content)\nresult\n</code></pre> <pre><code>&lt;re.Match object; span=(0, 9), match='Hello 123'&gt;\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.9.re.html#search","title":"<code>search</code>","text":"<p>\u626b\u63cf\u5b57\u7b26\u4e32\u4ee5\u67e5\u627e\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u9879\uff0c\u5e76\u8fd4\u56deMatch\u5bf9\u8c61\uff1b\u5982\u679c\u672a\u627e\u5230\u5339\u914d\u9879\uff0c\u5219\u8fd4\u56deNone\u3002</p> <p>\u6ce8\u610f\uff1a\u53ea\u4f1a\u8fd4\u56de\u7b2c\u4e00\u4e2a\u88ab\u627e\u5230\u7684\u5339\u914d\u9879\u3002</p> <pre><code>content = 'Hello 123'\nresult = re.search('\\d', content)\nprint(result)\n</code></pre> <pre><code>&lt;re.Match object; span=(6, 7), match='1'&gt;\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.9.re.html#findall","title":"<code>findall</code>","text":"<p>\u626b\u63cf\u5b57\u7b26\u4e32\u4ee5\u67e5\u627e\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u9879\uff0c\u5e76\u8fd4\u56de\u5305\u542b\u5339\u914d\u5bf9\u8c61\u7684\u5217\u8868\uff1b\u5982\u679c\u672a\u627e\u5230\u5339\u914d\u9879\uff0c\u5219\u8fd4\u56de\u7a7a\u5217\u8868\u3002</p> <p>\u6ce8\u610f\uff1a\u8fd4\u56de\u6240\u6709\u88ab\u627e\u5230\u7684\u5339\u914d\u9879\u3002</p> <pre><code>content = 'Hello 123'\nresult = re.findall('\\d', content)\nprint(result)\n</code></pre> <pre><code>['1', '2', '3']\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.9.re.html#finditer","title":"<code>finditer</code>","text":"<p>\u626b\u63cf\u5b57\u7b26\u4e32\u4ee5\u67e5\u627e\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u9879\uff0c\u5e76\u8fd4\u56de\u5305\u542bMatch\u5bf9\u8c61\u7684\u8fed\u4ee3\u5668\u3002</p> <p>\u6ce8\u610f\uff1a\u8fd4\u56de\u6240\u6709\u88ab\u627e\u5230\u7684\u5339\u914d\u9879\u3002</p> <pre><code>content = 'Hello 123'\nresult = re.finditer('\\d', content)\nlist(result)\n</code></pre> <pre><code>[&lt;re.Match object; span=(6, 7), match='1'&gt;,\n &lt;re.Match object; span=(7, 8), match='2'&gt;,\n &lt;re.Match object; span=(8, 9), match='3'&gt;]\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.9.re.html#sub","title":"<code>sub</code>","text":"<p>\u626b\u63cf\u5b57\u7b26\u4e32\u67e5\u627e\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u9879\uff0c\u5e76\u5c06\u5339\u914d\u9879\u66ff\u6362\u4e3a\u6307\u5b9a\u7684\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u65b0\u5b57\u7b26\u4e32\u3002</p> <p>\u6ce8\u610f\uff1a\u66ff\u6362\u6240\u6709\u88ab\u627e\u5230\u7684\u5339\u914d\u9879\u3002</p> <pre><code>content = 'Hello 123'\nresult = re.sub('\\d', \"A\", content)\nresult\n</code></pre> <pre><code>'Hello AAA'\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.9.re.html#subn","title":"<code>subn</code>","text":"<p>\u626b\u63cf\u5b57\u7b26\u4e32\u67e5\u627e\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u9879\uff0c\u5e76\u5c06\u5339\u914d\u9879\u66ff\u6362\u4e3a\u6307\u5b9a\u7684\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u65b0\u5b57\u7b26\u4e32\u548c\u66ff\u6362\u6b21\u6570\u3002</p> <p>\u6ce8\u610f\uff1a\u66ff\u6362\u6240\u6709\u88ab\u627e\u5230\u7684\u5339\u914d\u9879\u3002</p> <pre><code>content = 'Hello 123'\nresult = re.subn('\\d', \"A\", content)\nresult\n</code></pre> <pre><code>('Hello AAA', 3)\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.9.re.html#split","title":"<code>split</code>","text":"<p>\u6839\u636e\u6b63\u5219\u8868\u8fbe\u5f0f\u62c6\u5206\u5b57\u7b26\u4e32\uff0c\u5b57\u7b26\u4e32\u5728\u5339\u914d\u9879\u5904\u88ab\u62c6\u5206\u3002</p> <p>\u6ce8\u610f\uff1a\u6240\u6709\u5339\u914d\u9879\u7684\u4f4d\u7f6e\u90fd\u88ab\u62c6\u5206\u3002</p> <pre><code>content = 'Hello 123'\nresult = re.split('[e2]', content)\nresult\n</code></pre> <pre><code>['H', 'llo 1', '3']\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.9.re.html#compile","title":"<code>compile</code>","text":"<p>compile \u51fd\u6570\u53ef\u4ee5\u5c06\u6b63\u5219\u5b57\u7b26\u4e32\u7f16\u8bd1\u6210RegexObject\u5bf9\u8c61\uff0c\u4ee5\u4fbf\u5728\u540e\u9762\u7684\u5339\u914d\u4e2d\u590d\u7528\uff1a</p> <pre><code>content1 = '2016-12-15 12:00'\ncontent2 = '2016-12-17 12:55'\ncontent3 = '2016-12-22 13:21'\npattern = re.compile('\\d{2}:\\d{2}')\n\nresult1 = re.sub(pattern, '', content1)\nresult2 = re.sub(pattern, '', content2)\nresult3 = re.sub(pattern, '', content3)\nprint(result1, result2, result3)\n</code></pre> <pre><code>2016-12-15  2016-12-17  2016-12-22\n</code></pre> <p>\u53e6\u5916\uff0ccompile \u8fd8\u53ef\u4ee5\u4f20\u5165\u4fee\u9970\u7b26\uff0c\u4f8b\u5982 re.S \u7b49\u4fee\u9970\u7b26\uff0c\u8fd9\u6837\u5728 search\u3001findall \u7b49\u65b9\u6cd5\u4e2d\u5c31\u4e0d\u9700\u8981\u989d\u5916\u4f20\u4e86\u3002</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.9.re.html#escape","title":"<code>escape</code>","text":"<p>\u5bf9\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\u7684\u7279\u6b8a\u5b57\u7b26\u8fdb\u884c\u8f6c\u4e49\u3002</p> <pre><code>print(re.escape(\"\\d\"))\n</code></pre> <pre><code>\\\\d\n</code></pre>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.9.re.html#purge","title":"<code>purge</code>","text":"<p>Clear the regular expression caches.</p>"},{"location":"Python3/%E6%A0%87%E5%87%86%E5%BA%93/6.9.re.html#template","title":"<code>template</code>","text":"<p>Compile a template pattern, returning a Pattern object.</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.1.lxml.html","title":"13.1.lxml","text":"<pre><code>Windows 10\nPython 3.7.7 @ MSC v.1916 64 bit (AMD64)\nLatest build date 2020.10.09\nlxml version:  4.5.2\n</code></pre> <p>XPath\uff0c\u5168\u79f0 XML Path Language\uff0c\u5373 XML \u8def\u5f84\u8bed\u8a00\uff0c\u5b83\u662f\u4e00\u95e8\u5728 XML \u6587\u6863\u4e2d\u67e5\u627e\u4fe1\u606f\u7684\u8bed\u8a00\u3002\u5b83\u6700\u521d\u662f\u7528\u6765\u641c\u5bfb XML \u6587\u6863\u7684\uff0c\u4f46\u662f\u5b83\u540c\u6837\u9002\u7528\u4e8e HTML \u6587\u6863\u7684\u641c\u7d22\u3002</p> <p>XPath \u7684\u9009\u62e9\u529f\u80fd\u5341\u5206\u5f3a\u5927\uff0c\u5b83\u63d0\u4f9b\u4e86\u975e\u5e38\u7b80\u6d01\u660e\u4e86\u7684\u8def\u5f84\u9009\u62e9\u8868\u8fbe\u5f0f\u3002\u53e6\u5916\uff0c\u5b83\u8fd8\u63d0\u4f9b\u4e86\u8d85\u8fc7 100 \u4e2a\u5185\u5efa\u51fd\u6570\uff0c\u7528\u4e8e\u5b57\u7b26\u4e32\u3001\u6570\u503c\u3001\u65f6\u95f4\u7684\u5339\u914d\u4ee5\u53ca\u8282\u70b9\u3001\u5e8f\u5217\u7684\u5904\u7406\u7b49\u3002\u51e0\u4e4e\u6240\u6709\u6211\u4eec\u60f3\u8981\u5b9a\u4f4d\u7684\u8282\u70b9\uff0c\u90fd\u53ef\u4ee5\u7528 XPath \u6765\u9009\u62e9\u3002</p> <p>XPath \u4e8e 1999 \u5e74 11 \u6708 16 \u65e5\u6210\u4e3a W3C \u6807\u51c6\uff0c\u5b83\u88ab\u8bbe\u8ba1\u4e3a\u4f9b XSLT\u3001XPointer \u4ee5\u53ca\u5176\u4ed6 XML \u89e3\u6790\u8f6f\u4ef6\u4f7f\u7528\uff0c\u66f4\u591a\u7684\u6587\u6863\u53ef\u4ee5\u8bbf\u95ee\u5176\u5b98\u65b9\u7f51\u7ad9\u3002</p> <p>Python \u7684 lxml \u5e93\u63d0\u4f9b\u4e86\u4f7f\u7528XPath \u8fdb\u884c HTML \u89e3\u6790\u7684\u529f\u80fd\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.1.lxml.html#xpath","title":"XPath \u5e38\u7528\u89c4\u5219","text":"<p>\u4e0b\u8868\u5217\u51fa\u4e86 XPath \u7684\u5e38\u7528\u5339\u914d\u89c4\u5219\uff1a</p> \u8868\u8fbe\u5f0f \u63cf\u8ff0 nodename \u9009\u53d6\u6b64\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9 / \u4ece\u6839\u8282\u70b9\u9009\u53d6\u76f4\u63a5\u5b50\u8282\u70b9 // \u4ece\u5f53\u524d\u8282\u70b9\u9009\u53d6\u76f4\u63a5\u5b50\u8282\u70b9\u548c\u95f4\u63a5\u5b50\u8282\u70b9\uff08\u5305\u62ec\u5f53\u524d\u8282\u70b9\uff09 . \u9009\u53d6\u5f53\u524d\u8282\u70b9 .. \u9009\u53d6\u5f53\u524d\u8282\u70b9\u7684\u7236\u8282\u70b9 @ \u9009\u53d6\u5c5e\u6027 <p>\u6bd4\u5982\uff0c\u4e0b\u9762\u7684 XPath \u89c4\u5219\u7684\u610f\u601d\u662f\uff1a\u9009\u62e9\u6240\u6709\u540d\u79f0\u4e3a title\uff0c\u540c\u65f6\u5c5e\u6027 lang \u7684\u503c\u4e3a eng \u7684\u8282\u70b9\u3002</p> <pre><code>//title[@lang='eng']\n</code></pre>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.1.lxml.html#_1","title":"\u5b9e\u4f8b\u5f15\u5165","text":"<p>\u73b0\u5728\u901a\u8fc7\u5b9e\u4f8b\u6765\u611f\u53d7\u4e00\u4e0b\u4f7f\u7528 XPath \u6765\u5bf9\u7f51\u9875\u8fdb\u884c\u89e3\u6790\u7684\u8fc7\u7a0b\uff0c\u76f8\u5173\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>from lxml import etree\n\ntext = '''\n&lt;div&gt;\n    &lt;ul&gt;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link1.html\"&gt;first item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-inactive\"&gt;&lt;a href=\"link3.html\"&gt;third item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;\n     &lt;/ul&gt;\n &lt;/div&gt;\n'''\n\n# \u8c03\u7528 HTML \u7c7b\u8fdb\u884c\u521d\u59cb\u5316\nhtml = etree.HTML(text)\nresult = etree.tostring(html)\nprint(result.decode('utf-8'))\n</code></pre> <pre><code>&lt;html&gt;&lt;body&gt;&lt;div&gt;\n    &lt;ul&gt;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link1.html\"&gt;first item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-inactive\"&gt;&lt;a href=\"link3.html\"&gt;third item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;\n     &lt;/li&gt;&lt;/ul&gt;\n &lt;/div&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre> <p>\u8fd9\u91cc\u7684HTML \u6587\u672c\u4e2d\u7684\u6700\u540e\u4e00\u4e2a li \u8282\u70b9\u662f\u6ca1\u6709\u95ed\u5408\u7684\uff0c\u4f46\u662f etree \u6a21\u5757\u53ef\u4ee5\u81ea\u52a8\u4fee\u6b63 HTML \u6587\u672c\u3002\u53ef\u4ee5\u770b\u5230\uff0c\u7ecf\u8fc7\u5904\u7406\u4e4b\u540e\uff0cli \u8282\u70b9\u6807\u7b7e\u88ab\u8865\u5168\uff0c\u5e76\u4e14\u8fd8\u81ea\u52a8\u6dfb\u52a0\u4e86 body\u3001html \u8282\u70b9\u3002</p> <p>\u4e5f\u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6\u6587\u672c\u6587\u4ef6\u8fdb\u884c\u89e3\u6790\uff1a</p> <pre><code>from lxml import etree\n\ntest_html_path = '../datasets/file/test.html'\nhtml = etree.parse(test_html_path, etree.HTMLParser())\nresult = etree.tostring(html)\nprint(result.decode('utf-8'))\n</code></pre> <pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\" \"http://www.w3.org/TR/REC-html40/loose.dtd\"&gt;\n&lt;html&gt;&lt;body&gt;&lt;div&gt;&amp;#13;\n    &lt;ul&gt;&amp;#13;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link1.html\"&gt;first item&lt;/a&gt;&lt;/li&gt;&amp;#13;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;&amp;#13;\n         &lt;li class=\"item-inactive\"&gt;&lt;a href=\"link3.html\"&gt;third item&lt;/a&gt;&lt;/li&gt;&amp;#13;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;&amp;#13;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&amp;#13;\n     &lt;/li&gt;&lt;/ul&gt;&amp;#13;\n &lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre> <p>\u8fd9\u6b21\u7684\u8f93\u51fa\u7ed3\u679c\u591a\u4e86\u4e00\u4e2a DOCTYPE \u7684\u58f0\u660e\uff0c\u4e0d\u8fc7\u5bf9\u89e3\u6790\u65e0\u4efb\u4f55\u5f71\u54cd\u3002</p> <p>\u8be5html\u6587\u6863\u7684DOM\u56fe\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.1.lxml.html#_2","title":"\u6240\u6709\u8282\u70b9","text":"<p>\u4e00\u822c\u7528 // \u5f00\u5934\u7684 XPath \u89c4\u5219\u6765\u9009\u53d6\u6240\u6709\u7b26\u5408\u8981\u6c42\u7684\u8282\u70b9\u3002\u8fd9\u91cc\u4ee5\u524d\u9762\u7684 HTML \u6587\u672c\u4e3a\u4f8b\uff0c\u5982\u679c\u8981\u9009\u53d6\u6240\u6709\u8282\u70b9\uff0c\u53ef\u4ee5\u8fd9\u6837\u5b9e\u73b0\uff1a</p> <pre><code>from lxml import etree\n\nhtml = etree.parse(test_html_path, etree.HTMLParser())\nresult = html.xpath('//*')\nresult\n</code></pre> <pre><code>[&lt;Element html at 0x1953a923108&gt;,\n &lt;Element body at 0x1953a973388&gt;,\n &lt;Element div at 0x1953a9734c8&gt;,\n &lt;Element ul at 0x1953a94d088&gt;,\n &lt;Element li at 0x1953a94dec8&gt;,\n &lt;Element a at 0x1953a94d9c8&gt;,\n &lt;Element li at 0x1953a94d488&gt;,\n &lt;Element a at 0x1953a94dd48&gt;,\n &lt;Element li at 0x1953a94d4c8&gt;,\n &lt;Element a at 0x1953a94d288&gt;,\n &lt;Element li at 0x1953a96ee48&gt;,\n &lt;Element a at 0x1953a96ea88&gt;,\n &lt;Element li at 0x1953a96e3c8&gt;,\n &lt;Element a at 0x1953a96e188&gt;]\n</code></pre> <p>\u8fd9\u91cc\u4f7f\u7528 * \u4ee3\u8868\u5339\u914d\u6240\u6709\u8282\u70b9\uff0c\u4e5f\u5c31\u662f\u6574\u4e2a HTML \u6587\u672c\u4e2d\u7684\u6240\u6709\u8282\u70b9\u90fd\u4f1a\u88ab\u83b7\u53d6\u3002</p> <p>\u4e5f\u53ef\u4ee5\u6307\u5b9a\u8282\u70b9\u540d\u79f0\uff0c\u4f8b\u5982\u83b7\u53d6\u6240\u6709 li \u8282\u70b9\uff1a</p> <pre><code>from lxml import etree\n\nhtml = etree.parse(test_html_path, etree.HTMLParser())\nresult = html.xpath('//li')\nresult\n</code></pre> <pre><code>[&lt;Element li at 0x19539828688&gt;,\n &lt;Element li at 0x195398826c8&gt;,\n &lt;Element li at 0x19539906f08&gt;,\n &lt;Element li at 0x19539906ac8&gt;,\n &lt;Element li at 0x19539906cc8&gt;]\n</code></pre>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.1.lxml.html#_3","title":"\u5b50\u8282\u70b9","text":"<p>\u901a\u8fc7 / \u6216 // \u67e5\u627e\u5143\u7d20\u7684\u76f4\u63a5\u5b50\u8282\u70b9\u6216\u6240\u6709\u5b50\u8282\u70b9\u3002\u5047\u5982\u9009\u62e9 li \u8282\u70b9\u7684\u6240\u6709\u76f4\u63a5 a \u5b50\u8282\u70b9\uff1a</p> <pre><code>from lxml import etree\n\nhtml = etree.parse(test_html_path, etree.HTMLParser())\nresult = html.xpath('//li/a')\nresult\n</code></pre> <pre><code>[&lt;Element a at 0x1953a965a08&gt;,\n &lt;Element a at 0x1953a965508&gt;,\n &lt;Element a at 0x1953a965448&gt;,\n &lt;Element a at 0x1953a965988&gt;,\n &lt;Element a at 0x1953a965e88&gt;]\n</code></pre> <p>//li \u7528\u4e8e\u9009\u4e2d\u6240\u6709 li \u8282\u70b9\uff0c/a \u7528\u4e8e\u9009\u4e2d li \u8282\u70b9\u7684\u6240\u6709\u76f4\u63a5\u5b50\u8282\u70b9 a\uff0c\u4e8c\u8005\u7ec4\u5408\u5728\u4e00\u8d77\u5373\u83b7\u53d6\u6240\u6709 li \u8282\u70b9\u7684\u6240\u6709\u76f4\u63a5 a \u5b50\u8282\u70b9\u3002</p> <p>\u540c\u6837\u7684\u7ed3\u679c\u6709\u591a\u79cd\u83b7\u53d6\u65b9\u5f0f\uff0c\u4f8b\u5982\uff0c\u83b7\u53d6 ul \u8282\u70b9\u4e0b\u7684\u6240\u6709 a \u8282\u70b9\u53ef\u4ee5\u5f97\u5230\u76f8\u540c\u7684\u7ed3\u679c\uff1a</p> <pre><code>from lxml import etree\n\nhtml = etree.parse(test_html_path, etree.HTMLParser())\nresult = html.xpath('//ul//a')\nresult\n</code></pre> <pre><code>[&lt;Element a at 0x1953a987888&gt;,\n &lt;Element a at 0x1953a9878c8&gt;,\n &lt;Element a at 0x1953a987908&gt;,\n &lt;Element a at 0x1953a987948&gt;,\n &lt;Element a at 0x1953a987788&gt;]\n</code></pre> <p>\u5982\u679c\u7528 <code>//ul/a</code>\uff0c\u5219\u65e0\u6cd5\u83b7\u53d6\u4efb\u4f55\u7ed3\u679c\u4e86\u3002\u56e0\u4e3a / \u7528\u4e8e\u83b7\u53d6\u76f4\u63a5\u5b50\u8282\u70b9\uff0c\u800c\u5728 ul \u8282\u70b9\u4e0b\u6ca1\u6709\u76f4\u63a5\u7684 a \u5b50\u8282\u70b9\uff0c\u53ea\u6709 li \u8282\u70b9\uff0c\u6240\u4ee5\u65e0\u6cd5\u83b7\u53d6\u4efb\u4f55\u5339\u914d\u7ed3\u679c\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.1.lxml.html#_4","title":"\u7236\u8282\u70b9","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u5b50\u8282\u70b9\uff0c\u4f7f\u7528<code>..</code>\u6765\u67e5\u627e\u7236\u8282\u70b9\u3002</p> <p>\u4f8b\u5982\uff0c\u9996\u5148\u9009\u4e2d <code>href</code> \u5c5e\u6027\u503c\u4e3a <code>link4.html</code> \u7684 a \u8282\u70b9\uff0c\u7136\u540e\u518d\u83b7\u53d6\u5176\u7236\u8282\u70b9\uff0c\u7136\u540e\u518d\u83b7\u53d6\u8be5\u7236\u8282\u70b9\u7684class \u5c5e\u6027\u7684\u503c\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>from lxml import etree  \n\nhtml = etree.parse(test_html_path, etree.HTMLParser())\nresult = html.xpath('//a[@href=\"link4.html\"]/../@class')  \nprint(result)\n</code></pre> <pre><code>['item-1']\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u901a\u8fc7 <code>parent::</code> \u6765\u83b7\u53d6\u7236\u8282\u70b9\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>from lxml import etree\n\nhtml = etree.parse(test_html_path, etree.HTMLParser())\nresult = html.xpath('//a[@href=\"link4.html\"]/parent::*/@class')  \nprint(result)\n</code></pre> <pre><code>['item-1']\n</code></pre>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.1.lxml.html#_5","title":"\u5c5e\u6027\u5339\u914d","text":"<p>\u7b5b\u9009\u8282\u70b9\u65f6\uff0c\u53ef\u4ee5\u7528<code>@</code>\u7b26\u53f7\u8fdb\u884c\u5c5e\u6027\u8fc7\u6ee4\u3002\u4f8b\u5982\uff0c\u8981\u9009\u53d6 class \u4e3a item-0 \u7684 li \u8282\u70b9:</p> <pre><code>from lxml import etree\n\nhtml = etree.parse(test_html_path, etree.HTMLParser())\nresult = html.xpath('//li[@class=\"item-0\"]')  \nresult\n</code></pre> <pre><code>[&lt;Element li at 0x1953a94d588&gt;, &lt;Element li at 0x1953a94dd48&gt;]\n</code></pre>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.1.lxml.html#_6","title":"\u6587\u672c\u83b7\u53d6","text":"<p>XPath \u4e2d\u7684 text \u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6\u8282\u70b9\u4e2d\u7684\u6587\u672c\u3002\u5c1d\u8bd5\u83b7\u53d6 li \u8282\u70b9\u4e2d\u7684\u6587\u672c\uff1a</p> <pre><code>from lxml import etree  \n\nhtml = etree.parse(test_html_path, etree.HTMLParser())\nresult = html.xpath('//li[@class=\"item-0\"]/text()')  \nprint(result)\n</code></pre> <pre><code>['\\r\\n     ']\n</code></pre> <p>\u7ed3\u679c\u663e\u793a\u5e76\u6ca1\u6709\u83b7\u53d6\u5230\u4efb\u4f55\u6587\u672c\uff0c\u53ea\u83b7\u53d6\u5230\u4e86\u4e00\u4e2a\u6362\u884c\u7b26\uff0c\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f</p> <p>\u56e0\u4e3a XPath \u4e2d text \u65b9\u6cd5\u524d\u9762\u662f /\uff0c/ \u7684\u542b\u4e49\u662f\u9009\u53d6\u76f4\u63a5\u5b50\u8282\u70b9\uff0c\u800c li \u7684\u76f4\u63a5\u5b50\u8282\u70b9\u662f a \u8282\u70b9\uff0c\u6587\u672c\u662f\u5728 a \u8282\u70b9\u5185\u90e8\u7684\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u5305\u542b\u5728 li \u8282\u70b9\u7684\u5185\u90e8\u3002\u6240\u4ee5\u8fd9\u91cc\u5339\u914d\u5230\u7684\u7ed3\u679c\u5c31\u662f\u88ab\u4fee\u6b63\u7684\u90a3\u4e2a li \u8282\u70b9\u5185\u90e8\u7684\u6587\u672c\uff0c\u5373\u6362\u884c\u7b26\u3002</p> <p>\u5373\u9009\u4e2d\u7684\u662f\u8fd9\u4e24\u4e2a\u8282\u70b9\uff1a</p> <pre><code>&lt;li class=\"item-0\"&gt;&lt;a href=\"link1.html\"&gt;first item&lt;/a&gt;&lt;/li&gt;\n&lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;\n&lt;/li&gt;\n</code></pre> <p>\u7b2c\u4e00\u4e2ali\u8282\u70b9\u5185\u90e8\u662f\u6ca1\u6709\u6587\u672c\u7684\uff0c\u800c\u7b2c\u4e8c\u4e2ali\u8282\u70b9\u56e0\u4e3a\u88ab\u81ea\u52a8\u4fee\u6b63\uff0c\u5185\u90e8\u88ab\u6dfb\u52a0\u4e86\u6362\u884c\u7b26\u3002</p> <p>\u56e0\u6b64\uff0c\u5982\u679c\u60f3\u83b7\u53d6 li \u8282\u70b9\u7684\u6587\u672c\uff0c\u5c31\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a</p> <ol> <li>\u5148\u9009\u53d6 a \u8282\u70b9\u518d\u83b7\u53d6\u6587\u672c</li> <li>\u4f7f\u7528 //</li> </ol> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6765\u770b\u4e0b\u4e8c\u8005\u7684\u533a\u522b\u3002</p> <p>\u9996\u5148\uff0c\u9009\u53d6\u5230 a \u8282\u70b9\u518d\u83b7\u53d6\u6587\u672c\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>from lxml import etree\n\nhtml = etree.parse(test_html_path, etree.HTMLParser())\nresult = html.xpath('//li[@class=\"item-0\"]/a/text()')  \nprint(result)\n</code></pre> <pre><code>['first item', 'fifth item']\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u91cc\u7684\u8fd4\u56de\u503c\u662f\u4e24\u4e2a\uff0c\u5185\u5bb9\u90fd\u662f\u5c5e\u6027\u4e3a item-0 \u7684 li \u8282\u70b9\u7684\u6587\u672c\uff0c\u8fd9\u4e5f\u5370\u8bc1\u4e86\u524d\u9762\u5c5e\u6027\u5339\u914d\u7684\u7ed3\u679c\u662f\u6b63\u786e\u7684\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u662f\u9010\u5c42\u9009\u53d6\u7684\uff0c\u5148\u9009\u53d6\u4e86 li \u8282\u70b9\uff0c\u53c8\u5229\u7528 / \u9009\u53d6\u4e86\u5176\u76f4\u63a5\u5b50\u8282\u70b9 a\uff0c\u7136\u540e\u518d\u9009\u53d6\u5176\u6587\u672c\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u6070\u597d\u662f\u7b26\u5408\u6211\u4eec\u9884\u671f\u7684\u4e24\u4e2a\u7ed3\u679c\u3002</p> <p>\u518d\u6765\u770b\u4e0b\u7528\u53e6\u4e00\u79cd\u65b9\u5f0f\uff08\u5373\u4f7f\u7528 //\uff09\u9009\u53d6\u7684\u7ed3\u679c\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>from lxml import etree  \n\nhtml = etree.parse(test_html_path, etree.HTMLParser())\nresult = html.xpath('//li[@class=\"item-0\"]//text()')  \nprint(result)\n</code></pre> <pre><code>['first item', 'fifth item', '\\r\\n     ']\n</code></pre> <p>\u8fd9\u91cc\u7684\u8fd4\u56de\u7ed3\u679c\u662f 3 \u4e2a\u3002\u56e0\u4e3a\u8fd9\u91cc\u662f\u9009\u53d6\u5f53\u524d\u8282\u70b9\u4ee5\u53ca\u6240\u6709\u5b50\u8282\u70b9\u7684\u6587\u672c\uff0c\u524d\u4e24\u4e2a\u662f li \u7684\u5b50\u8282\u70b9 a \u8282\u70b9\u5185\u90e8\u7684\u6587\u672c\uff0c\u6700\u540e\u4e00\u4e2a\u662f li \u8282\u70b9\u5185\u90e8\u7684\u6587\u672c\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.1.lxml.html#_7","title":"\u5c5e\u6027\u503c\u83b7\u53d6","text":"<p>\u5176\u5b9e\u5728\u7236\u8282\u70b9\u8fd9\u4e00\u8282\u4e2d\u5df2\u7ecf\u5c55\u793a\u8fc7\u83b7\u53d6\u8282\u70b9\u5c5e\u6027\u503c\u7684\u65b9\u6cd5\uff0c\u5373\u901a\u8fc7@\u7b26\u53f7\u3002\u4f8b\u5982\uff0c\u83b7\u53d6\u6240\u6709 li \u8282\u70b9\u4e0b\u6240\u6709 a \u8282\u70b9\u7684 href \u5c5e\u6027\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>from lxml import etree  \n\nhtml = etree.parse(test_html_path, etree.HTMLParser())\nresult = html.xpath('//li/a/@href')  \nprint(result)\n</code></pre> <pre><code>['link1.html', 'link2.html', 'link3.html', 'link4.html', 'link5.html']\n</code></pre> <p>\u6ce8\u610f\u83b7\u53d6\u5c5e\u6027\u503c\u548c\u5c5e\u6027\u5339\u914d\u7684\u533a\u522b\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.1.lxml.html#_8","title":"\u5c5e\u6027\u591a\u503c\u5339\u914d","text":"<p>\u6709\u65f6\u5019\uff0c\u67d0\u4e9b\u8282\u70b9\u7684\u67d0\u4e2a\u5c5e\u6027\u53ef\u80fd\u6709\u591a\u4e2a\u503c\uff0c\u4f8b\u5982\uff1a</p> <pre><code>from lxml import etree\n\ntext = '''  \n&lt;li class=\"li li-first\"&gt;&lt;a href=\"link.html\"&gt;first item&lt;/a&gt;&lt;/li&gt; \n'''  \nhtml = etree.HTML(text)  \nresult = html.xpath('//li[@class=\"li\"]/a/text()')  \nprint(result)\n</code></pre> <pre><code>[]\n</code></pre> <p>\u8fd9\u91cc HTML \u6587\u672c\u4e2d li \u8282\u70b9\u7684 class \u5c5e\u6027\u6709\u4e24\u4e2a\u503c li \u548c li-first\uff0c\u6b64\u65f6\u5982\u679c\u8fd8\u60f3\u7528\u4e4b\u524d\u7684\u5c5e\u6027\u5339\u914d\u83b7\u53d6\uff0c\u5c31\u65e0\u6cd5\u5339\u914d\u4e86\u3002</p> <p>\u8fd9\u65f6\u9700\u8981\u7528 contains \u65b9\u6cd5\uff1a</p> <pre><code>from lxml import etree\n\ntext = '''  \n&lt;li class=\"li li-first\"&gt;&lt;a href=\"link.html\"&gt;first item&lt;/a&gt;&lt;/li&gt;  \n'''  \nhtml = etree.HTML(text)  \nresult = html.xpath('//li[contains(@class, \"li\")]/a/text()')  \nprint(result)\n</code></pre> <pre><code>['first item']\n</code></pre> <p>contains \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5c5e\u6027\u540d\u79f0\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5c5e\u6027\u503c\uff0c\u53ea\u8981\u6b64\u5c5e\u6027\u5305\u542b\u6240\u4f20\u5165\u7684\u5c5e\u6027\u503c\uff0c\u5c31\u4f1a\u88ab\u5339\u914d\u5230\u3002</p> <p>\u8be5\u65b9\u6cd5\u5728\u67d0\u4e2a\u8282\u70b9\u7684\u67d0\u4e2a\u5c5e\u6027\u6709\u591a\u4e2a\u503c\u65f6\u7ecf\u5e38\u7528\u5230\uff08\u5982\u8282\u70b9\u7684 class \u5c5e\u6027\u503c\u901a\u5e38\u6709\u591a\u4e2a\uff09\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.1.lxml.html#_9","title":"\u591a\u5c5e\u6027\u5339\u914d","text":"<p>\u6709\u65f6\u5019\u9700\u8981\u6839\u636e\u591a\u4e2a\u5c5e\u6027\u786e\u5b9a\u4e00\u4e2a\u8282\u70b9\uff0c\u8fd9\u65f6\u5c31\u9700\u8981\u540c\u65f6\u5339\u914d\u591a\u4e2a\u5c5e\u6027\u3002\u6b64\u65f6\u53ef\u4ee5\u4f7f\u7528\u8fd0\u7b97\u7b26 and \u6765\u8fde\u63a5\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>from lxml import etree\n\ntext = '''  \n&lt;li class=\"li li-first\" name=\"item\"&gt;&lt;a href=\"link.html\"&gt;first item&lt;/a&gt;&lt;/li&gt;\n'''  \nhtml = etree.HTML(text)  \nresult = html.xpath('//li[contains(@class, \"li\") and @name=\"item\"]/a/text()')  \nprint(result)\n</code></pre> <pre><code>['first item']\n</code></pre> <p>\u8fd9\u91cc\u7684 li \u8282\u70b9\u53c8\u589e\u52a0\u4e86\u4e00\u4e2a\u5c5e\u6027 name\u3002\u8981\u786e\u5b9a\u8fd9\u4e2a\u8282\u70b9\uff0c\u9700\u8981\u540c\u65f6\u6839\u636e class \u548c name \u5c5e\u6027\u6765\u9009\u62e9\uff0c\u4e00\u4e2a\u6761\u4ef6\u662f class \u5c5e\u6027\u91cc\u9762\u5305\u542b li \u5b57\u7b26\u4e32\uff0c\u53e6\u4e00\u4e2a\u6761\u4ef6\u662f name \u5c5e\u6027\u4e3a item \u5b57\u7b26\u4e32\uff0c\u4e8c\u8005\u9700\u8981\u540c\u65f6\u6ee1\u8db3\uff0c\u9700\u8981\u7528 and \u64cd\u4f5c\u7b26\u76f8\u8fde\uff0c\u76f8\u8fde\u4e4b\u540e\u7f6e\u4e8e\u4e2d\u62ec\u53f7\u5185\u8fdb\u884c\u6761\u4ef6\u7b5b\u9009\u3002</p> <p>\u8fd9\u91cc\u7684 and \u662f XPath \u7684\u8fd0\u7b97\u7b26\u3002XPath\u8fd8\u6709\u5f88\u591a\u8fd0\u7b97\u7b26\uff0c\u5982 or\u3001mod \u7b49\uff0c\u5728\u6b64\u603b\u7ed3\u4e3a\u4e0b\u8868\u3002</p> XPath\u8fd0\u7b97\u7b26 \u63cf \u8ff0 \u5b9e \u4f8b \u8fd4\u56de\u503c or \u6216 age=19 or age=20 \u5982\u679c age \u662f 19\uff0c\u5219\u8fd4\u56de true\u3002\u5982\u679c age \u662f 21\uff0c\u5219\u8fd4\u56de false and \u4e0e age&gt;19 and age&lt;21 \u5982\u679c age \u662f 20\uff0c\u5219\u8fd4\u56de true\u3002\u5982\u679c age \u662f 18\uff0c\u5219\u8fd4\u56de false mod \u8ba1\u7b97\u9664\u6cd5\u7684\u4f59\u6570 5 mod 2 1 \u8ba1\u7b97\u4e24\u4e2a\u8282\u70b9\u96c6 //book + \u52a0\u6cd5 6 + 4 10 - \u51cf\u6cd5 6 - 4 2 * \u4e58\u6cd5 6 * 4 24 div \u9664\u6cd5 8 div 4 2 = \u7b49\u4e8e age=19 \u5982\u679c age \u662f 19\uff0c\u5219\u8fd4\u56de true\u3002\u5982\u679c age \u662f 20\uff0c\u5219\u8fd4\u56de false != \u4e0d\u7b49\u4e8e age!=19 \u5982\u679c age \u662f 18\uff0c\u5219\u8fd4\u56de true\u3002\u5982\u679c age \u662f 19\uff0c\u5219\u8fd4\u56de false &lt; \u5c0f\u4e8e age&lt;19 \u5982\u679c age \u662f 18\uff0c\u5219\u8fd4\u56de true\u3002\u5982\u679c age \u662f 19\uff0c\u5219\u8fd4\u56de false &lt;= \u5c0f\u4e8e\u6216\u7b49\u4e8e age&lt;=19 \u5982\u679c age \u662f 19\uff0c\u5219\u8fd4\u56de true\u3002\u5982\u679c age \u662f 20\uff0c\u5219\u8fd4\u56de false &gt; \u5927\u4e8e age&gt;19 \u5982\u679c age \u662f 20\uff0c\u5219\u8fd4\u56de true\u3002\u5982\u679c age \u662f 19\uff0c\u5219\u8fd4\u56de false &gt;= \u5927\u4e8e\u6216\u7b49\u4e8e age&gt;=19 \u5982\u679c age \u662f 19\uff0c\u5219\u8fd4\u56de true\u3002\u5982\u679c age \u662f 18\uff0c\u5219\u8fd4\u56de false <p>\u6b64\u8868\u53c2\u8003\u6765\u6e90\uff1ahttp://www.w3school.com.cn/xpath/xpath_operators.asp\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.1.lxml.html#_10","title":"\u6309\u5e8f\u9009\u62e9","text":"<p>\u6709\u65f6\u5019\uff0c\u6211\u4eec\u5728\u9009\u62e9\u7684\u65f6\u5019\u67d0\u4e9b\u5c5e\u6027\u53ef\u80fd\u540c\u65f6\u5339\u914d\u4e86\u591a\u4e2a\u8282\u70b9\uff0c\u4f46\u662f\u53ea\u60f3\u8981\u5176\u4e2d\u7684\u67d0\u4e2a\u8282\u70b9\uff0c\u5982\u7b2c\u4e8c\u4e2a\u8282\u70b9\u6216\u8005\u6700\u540e\u4e00\u4e2a\u8282\u70b9\uff0c\u8fd9\u65f6\u8be5\u600e\u4e48\u529e\u5462\uff1f</p> <p>\u8fd9\u65f6\u53ef\u4ee5\u5229\u7528\u4e2d\u62ec\u53f7\u4f20\u5165\u7d22\u5f15\u7684\u65b9\u6cd5\u83b7\u53d6\u7279\u5b9a\u6b21\u5e8f\u7684\u8282\u70b9\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>from lxml import etree\n\ntext = '''\n&lt;div&gt;\n    &lt;ul&gt;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link1.html\"&gt;first item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-inactive\"&gt;&lt;a href=\"link3.html\"&gt;third item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;\n     &lt;/ul&gt;\n &lt;/div&gt;\n'''\nhtml = etree.HTML(text)\nresult = html.xpath('//li[1]/a/text()')\nprint(result)\nresult = html.xpath('//li[last()]/a/text()')\nprint(result)\nresult = html.xpath('//li[position()&lt;3]/a/text()')\nprint(result)\nresult = html.xpath('//li[last()-2]/a/text()')\nprint(result)\n</code></pre> <pre><code>['first item']\n['fifth item']\n['first item', 'second item']\n['third item']\n</code></pre> <p>\u7b2c\u4e00\u6b21\u9009\u62e9\u65f6\uff0c\u53ea\u9009\u53d6\u7b2c\u4e00\u4e2a li \u8282\u70b9\uff0c\u4e2d\u62ec\u53f7\u4e2d\u4f20\u5165\u6570\u5b57 1 \u5373\u53ef\u3002\u6ce8\u610f\uff0cXpath\u7684\u7d22\u5f15\u662f\u4ee5 1 \u5f00\u59cb\u7684\uff0c\u4e0d\u662f\u4ee5 0 \u5f00\u59cb\u3002</p> <p>\u7b2c\u4e8c\u6b21\u9009\u62e9\u65f6\uff0c\u53ea\u9009\u53d6\u6700\u540e\u4e00\u4e2a li \u8282\u70b9\uff0c\u4e2d\u62ec\u53f7\u4e2d\u8c03\u7528 last \u65b9\u6cd5\u5373\u53ef\uff0c\u8fd4\u56de\u7684\u4fbf\u662f\u6700\u540e\u4e00\u4e2a li \u8282\u70b9\u3002</p> <p>\u7b2c\u4e09\u6b21\u9009\u62e9\u65f6\uff0c\u9009\u53d6\u4f4d\u7f6e\u5c0f\u4e8e 3 \u7684 li \u8282\u70b9\uff0c\u4e5f\u5c31\u662f\u4f4d\u7f6e\u5e8f\u53f7\u4e3a 1 \u548c 2 \u7684\u8282\u70b9\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u5c31\u662f\u524d\u4e24\u4e2a li \u8282\u70b9\u3002</p> <p>\u7b2c\u56db\u6b21\u9009\u62e9\u65f6\uff0c\u9009\u53d6\u5012\u6570\u7b2c\u4e09\u4e2a li \u8282\u70b9\uff0c\u4e2d\u62ec\u53f7\u4e2d\u8c03\u7528 last \u65b9\u6cd5\u518d\u51cf\u53bb 2 \u5373\u53ef\u3002\u56e0\u4e3a last \u65b9\u6cd5\u4ee3\u8868\u6700\u540e\u4e00\u4e2a\uff0c\u5728\u6b64\u57fa\u7840\u51cf 2 \u5c31\u662f\u5012\u6570\u7b2c\u4e09\u4e2a\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e86 last\u3001position \u7b49\u65b9\u6cd5\u3002\u5728 XPath \u4e2d\uff0c\u63d0\u4f9b\u4e86 100 \u591a\u4e2a\u65b9\u6cd5\uff0c\u5305\u62ec\u5b58\u53d6\u3001\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u903b\u8f91\u3001\u8282\u70b9\u3001\u5e8f\u5217\u7b49\u5904\u7406\u529f\u80fd\uff0c\u5b83\u4eec\u7684\u5177\u4f53\u4f5c\u7528\u53ef\u4ee5\u53c2\u8003\uff1ahttp://www.w3school.com.cn/xpath/xpath_functions.asp\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.1.lxml.html#_11","title":"\u8282\u70b9\u8f74\u9009\u62e9","text":"<p>XPath \u63d0\u4f9b\u4e86\u5f88\u591a\u8282\u70b9\u8f74\u9009\u62e9\u65b9\u6cd5\uff0c\u5305\u62ec\u83b7\u53d6\u5b50\u5143\u7d20\u3001\u5144\u5f1f\u5143\u7d20\u3001\u7236\u5143\u7d20\u3001\u7956\u5148\u5143\u7d20\u7b49\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>from lxml import etree\n\ntext = '''\n&lt;div&gt;\n    &lt;ul&gt;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link1.html\"&gt;&lt;span&gt;first item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-inactive\"&gt;&lt;a href=\"link3.html\"&gt;third item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;\n     &lt;/ul&gt;\n &lt;/div&gt;\n'''\nhtml = etree.HTML(text)\nresult = html.xpath('//li[1]/ancestor::*')\nprint(result)\nresult = html.xpath('//li[1]/ancestor::div')\nprint(result)\nresult = html.xpath('//li[1]/attribute::*')\nprint(result)\nresult = html.xpath('//li[1]/child::a[@href=\"link1.html\"]')\nprint(result)\nresult = html.xpath('//li[1]/descendant::span')\nprint(result)\nresult = html.xpath('//li[1]/following::*[2]')\nprint(result)\nresult = html.xpath('//li[1]/following-sibling::*')\nprint(result)\n</code></pre> <pre><code>[&lt;Element html at 0x1953a96e288&gt;, &lt;Element body at 0x1953a8f4b48&gt;,\n&lt;Element div at 0x1953a8f4c48&gt;, &lt;Element ul at 0x195398ea148&gt;]\n[&lt;Element div at 0x1953a8f4c48&gt;]\n['item-0']\n[&lt;Element a at 0x1953a8f4ac8&gt;]\n[&lt;Element span at 0x1953a8f4b48&gt;]\n[&lt;Element a at 0x1953a9330c8&gt;]\n[&lt;Element li at 0x1953a8f4b48&gt;, &lt;Element li at 0x1953a8f4ac8&gt;,\n&lt;Element li at 0x1953a8f4c48&gt;, &lt;Element li at 0x1953a933588&gt;]\n</code></pre> <p>\u7b2c\u4e00\u6b21\u9009\u62e9\u65f6\uff0c\u8c03\u7528\u4e86 ancestor \u8f74\uff0c\u53ef\u4ee5\u83b7\u53d6\u6240\u6709\u7956\u5148\u8282\u70b9\u3002\u5176\u540e\u9700\u8981\u8ddf\u4e24\u4e2a\u5192\u53f7\uff0c\u7136\u540e\u662f\u8282\u70b9\u7684\u9009\u62e9\u5668\uff0c\u8fd9\u91cc\u6211\u4eec\u76f4\u63a5\u4f7f\u7528 *\uff0c\u8868\u793a\u5339\u914d\u6240\u6709\u8282\u70b9\uff0c\u56e0\u6b64\u8fd4\u56de\u7ed3\u679c\u662f\u7b2c\u4e00\u4e2a li \u8282\u70b9\u7684\u6240\u6709\u7956\u5148\u8282\u70b9\uff0c\u5305\u62ec html\u3001body\u3001div \u548c ul\u3002</p> <p>\u7b2c\u4e8c\u6b21\u9009\u62e9\u65f6\uff0c\u53c8\u52a0\u4e86\u9650\u5b9a\u6761\u4ef6\uff0c\u8fd9\u6b21\u5728\u5192\u53f7\u540e\u9762\u52a0\u4e86 div\uff0c\u8fd9\u6837\u5f97\u5230\u7684\u7ed3\u679c\u5c31\u53ea\u6709 div \u8fd9\u4e2a\u7956\u5148\u8282\u70b9\u4e86\u3002</p> <p>\u7b2c\u4e09\u6b21\u9009\u62e9\u65f6\uff0c\u8c03\u7528\u4e86 attribute \u8f74\uff0c\u53ef\u4ee5\u83b7\u53d6\u6240\u6709\u5c5e\u6027\u503c\uff0c\u5176\u540e\u8ddf\u7684\u9009\u62e9\u5668\u8fd8\u662f *\uff0c\u8fd9\u4ee3\u8868\u83b7\u53d6\u8282\u70b9\u7684\u6240\u6709\u5c5e\u6027\uff0c\u8fd4\u56de\u503c\u5c31\u662f li \u8282\u70b9\u7684\u6240\u6709\u5c5e\u6027\u503c\u3002</p> <p>\u7b2c\u56db\u6b21\u9009\u62e9\u65f6\uff0c\u8c03\u7528\u4e86 child \u8f74\uff0c\u53ef\u4ee5\u83b7\u53d6\u6240\u6709\u76f4\u63a5\u5b50\u8282\u70b9\u3002\u8fd9\u91cc\u6211\u4eec\u53c8\u52a0\u4e86\u9650\u5b9a\u6761\u4ef6\uff0c\u9009\u53d6 href \u5c5e\u6027\u4e3a link1.html \u7684 a \u8282\u70b9\u3002</p> <p>\u7b2c\u4e94\u6b21\u9009\u62e9\u65f6\uff0c\u8c03\u7528\u4e86 descendant \u8f74\uff0c\u53ef\u4ee5\u83b7\u53d6\u6240\u6709\u5b50\u5b59\u8282\u70b9\u3002\u8fd9\u91cc\u6211\u4eec\u53c8\u52a0\u4e86\u9650\u5b9a\u6761\u4ef6\u83b7\u53d6 span \u8282\u70b9\uff0c\u6240\u4ee5\u8fd4\u56de\u7684\u7ed3\u679c\u53ea\u5305\u542b span \u8282\u70b9\u800c\u4e0d\u5305\u542b a \u8282\u70b9\u3002</p> <p>\u7b2c\u516d\u6b21\u9009\u62e9\u65f6\uff0c\u8c03\u7528\u4e86 following \u8f74\uff0c\u53ef\u4ee5\u83b7\u53d6\u5f53\u524d\u8282\u70b9\u4e4b\u540e\u7684\u6240\u6709\u8282\u70b9\u3002\u8fd9\u91cc\u6211\u4eec\u867d\u7136\u4f7f\u7528\u7684\u662f * \u5339\u914d\uff0c\u4f46\u53c8\u52a0\u4e86\u7d22\u5f15\u9009\u62e9\uff0c\u6240\u4ee5\u53ea\u83b7\u53d6\u4e86\u7b2c\u4e8c\u4e2a\u540e\u7eed\u8282\u70b9\u3002</p> <p>\u7b2c\u4e03\u6b21\u9009\u62e9\u65f6\uff0c\u8c03\u7528\u4e86 following-sibling \u8f74\uff0c\u53ef\u4ee5\u83b7\u53d6\u5f53\u524d\u8282\u70b9\u4e4b\u540e\u7684\u6240\u6709\u540c\u7ea7\u8282\u70b9\u3002\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 * \u5339\u914d\uff0c\u6240\u4ee5\u83b7\u53d6\u4e86\u6240\u6709\u540e\u7eed\u540c\u7ea7\u8282\u70b9\u3002</p> <p>\u4ee5\u4e0a\u662f XPath \u8f74\u7684\u7b80\u5355\u7528\u6cd5\uff0c\u66f4\u591a\u8f74\u7684\u7528\u6cd5\u53ef\u4ee5\u53c2\u8003\uff1ahttp://www.w3school.com.cn/xpath/xpath_axes.asp\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html","title":"13.3.pyquery","text":"<pre><code>Windows 10\nPython 3.7.7 @ MSC v.1916 64 bit (AMD64)\nLatest build date 2020.10.09\n</code></pre>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#_1","title":"\u521d\u59cb\u5316","text":"<p>\u50cf Beautiful Soup \u4e00\u6837\uff0c\u521d\u59cb\u5316 pyquery \u7684\u65f6\u5019\uff0c\u4e5f\u9700\u8981\u4f20\u5165 HTML \u6587\u672c\u6765\u521d\u59cb\u5316\u4e00\u4e2a PyQuery \u5bf9\u8c61\u3002\u5b83\u7684\u521d\u59cb\u5316\u65b9\u5f0f\u6709\u591a\u79cd\uff0c\u6bd4\u5982\u76f4\u63a5\u4f20\u5165\u5b57\u7b26\u4e32\uff0c\u4f20\u5165 URL\uff0c\u4f20\u5165\u6587\u4ef6\u540d\uff0c\u7b49\u7b49\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#_2","title":"\u5b57\u7b26\u4e32\u521d\u59cb\u5316","text":"<pre><code>html = '''\n&lt;div&gt;\n    &lt;ul&gt;\n         &lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n     &lt;/ul&gt;\n &lt;/div&gt;\n'''\n\nfrom pyquery import PyQuery\ndoc = PyQuery(html)\ndoc('li')\n</code></pre> <pre><code>[&lt;li.item-0&gt;, &lt;li.item-1&gt;, &lt;li.item-0.active&gt;, &lt;li.item-1.active&gt;, &lt;li.item-0&gt;]\n</code></pre>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#url","title":"URL \u521d\u59cb\u5316","text":"<p>\u521d\u59cb\u5316\u7684\u53c2\u6570\u4e0d\u4ec5\u53ef\u4ee5\u4ee5\u5b57\u7b26\u4e32\u7684\u5f62\u5f0f\u4f20\u9012\uff0c\u8fd8\u53ef\u4ee5\u4f20\u5165\u7f51\u9875\u7684 URL\uff0c\u6b64\u65f6\u53ea\u9700\u8981\u6307\u5b9a\u53c2\u6570\u4e3a url \u5373\u53ef\uff1a</p> <pre><code>from pyquery import PyQuery\ndoc = PyQuery(url='https://www.python.org')\nprint(doc('title'))\n</code></pre> <pre><code>&lt;title&gt;Welcome to Python.org&lt;/title&gt;\n</code></pre> <p>PyQuery \u5bf9\u8c61\u4f1a\u9996\u5148\u8bf7\u6c42\u8fd9\u4e2a URL\uff0c\u7136\u540e\u7528\u5f97\u5230\u7684 HTML \u5185\u5bb9\u5b8c\u6210\u521d\u59cb\u5316\uff0c\u8fd9\u5176\u5b9e\u5c31\u76f8\u5f53\u4e8e\u7528\u7f51\u9875\u7684\u6e90\u4ee3\u7801\u4ee5\u5b57\u7b26\u4e32\u7684\u5f62\u5f0f\u4f20\u9012\u7ed9 PyQuery \u7c7b\u6765\u521d\u59cb\u5316\u3002\u5b83\u4e0e\u4e0b\u9762\u7684\u529f\u80fd\u662f\u76f8\u540c\u7684\uff1a</p> <pre><code>from pyquery import PyQuery\nimport requests\ndoc = PyQuery(requests.get('https://www.python.org').text)\nprint(doc('title'))\n</code></pre> <pre><code>&lt;title&gt;Welcome to Python.org&lt;/title&gt;\n</code></pre>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#_3","title":"\u6587\u4ef6\u521d\u59cb\u5316","text":"<p>\u5f53\u7136\u9664\u4e86\u4f20\u9012\u4e00\u4e2a URL\uff0c\u8fd8\u53ef\u4ee5\u4f20\u9012\u672c\u5730\u7684\u6587\u4ef6\u540d\uff0c\u53c2\u6570\u6307\u5b9a\u4e3a filename \u5373\u53ef\uff1a</p> <pre><code>from pyquery import PyQuery\ndoc = PyQuery(filename='../datasets/file/test.html')\nprint(doc('li'))\n</code></pre> <pre><code>&lt;li class=\"item-0\"&gt;&lt;a href=\"link1.html\"&gt;first item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-inactive\"&gt;&lt;a href=\"link3.html\"&gt;third item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;\n     &lt;/li&gt;\n</code></pre> <p>\u9996\u5148\u8bfb\u53d6\u672c\u5730\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u7136\u540e\u7528\u6587\u4ef6\u5185\u5bb9\u4ee5\u5b57\u7b26\u4e32\u7684\u5f62\u5f0f\u4f20\u9012\u7ed9 PyQuery \u7c7b\u6765\u521d\u59cb\u5316\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#css","title":"\u57fa\u672c CSS \u9009\u62e9\u5668","text":"<p>\u6211\u4eec\u9996\u5148\u7528\u4e00\u4e2a\u5b9e\u4f8b\u6765\u611f\u53d7\u4e00\u4e0b pyquery \u7684 CSS \u9009\u62e9\u5668\u7684\u7528\u6cd5\uff1a</p> <pre><code>html = '''\n&lt;div id=\"container\"&gt;\n    &lt;ul class=\"list\"&gt;\n         &lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n     &lt;/ul&gt;\n &lt;/div&gt;\n'''\n\nfrom pyquery import PyQuery\ndoc = PyQuery(html)\nprint(doc('#container .list li'), \"\\n\")\nprint(type(doc('#container .list li')))\n</code></pre> <pre><code>&lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span\nclass=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth\nitem&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n\n\n&lt;class 'pyquery.pyquery.PyQuery'&gt;\n</code></pre> <p>\u521d\u59cb\u5316 PyQuery \u5bf9\u8c61\u4e4b\u540e\uff0c\u4f20\u5165\u4e86\u4e00\u4e2a CSS \u9009\u62e9\u5668<code>#container .list li</code>\uff0c\u5b83\u7684\u610f\u601d\u662f\u5148\u9009\u53d6 id \u4e3a container \u7684\u8282\u70b9\uff0c\u7136\u540e\u518d\u9009\u53d6\u5176\u5185\u90e8\u7684 class \u4e3a list \u7684\u8282\u70b9\u5185\u90e8\u7684\u6240\u6709 li \u8282\u70b9\u3002</p> <p>\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e9b\u5e38\u7528\u7684\u67e5\u8be2\u65b9\u6cd5\uff0c\u8fd9\u4e9b\u51fd\u6570\u548c jQuery \u4e2d\u7684\u65b9\u6cd5\u7528\u6cd5\u4e5f\u5b8c\u5168\u76f8\u540c\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#_4","title":"\u67e5\u627e\u5b50\u8282\u70b9","text":"<p>\u67e5\u627e\u5b50\u8282\u70b9\u9700\u8981\u7528\u5230 find \u65b9\u6cd5\uff0c\u4f20\u5165\u7684\u53c2\u6570\u662f CSS \u9009\u62e9\u5668\uff0c\u6211\u4eec\u8fd8\u662f\u4ee5\u4e0a\u9762\u7684 HTML \u4e3a\u4f8b\uff1a</p> <pre><code>from pyquery import PyQuery\ndoc = PyQuery(html)\nitems = doc('.list')\nprint(type(items), \"\\n\")\nprint(items)\nlis = items.find('li')\nprint(type(lis), \"\\n\")\nprint(lis)\n</code></pre> <pre><code>&lt;class 'pyquery.pyquery.PyQuery'&gt; \n\n&lt;ul class=\"list\"&gt;\n         &lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n     &lt;/ul&gt;\n\n&lt;class 'pyquery.pyquery.PyQuery'&gt; \n\n&lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n</code></pre> <p>\u9996\u5148\u9009\u53d6 class \u4e3a list \u7684\u8282\u70b9\uff0c\u7136\u540e\u8c03\u7528\u4e86 find() \u65b9\u6cd5\uff0c\u4f20\u5165 CSS \u9009\u62e9\u5668\uff0c\u9009\u53d6\u5176\u5185\u90e8\u7684 li \u8282\u70b9\u3002</p> <p>find \u65b9\u6cd5\u7684\u67e5\u627e\u8303\u56f4\u662f\u8282\u70b9\u7684\u6240\u6709\u5b50\u5b59\u8282\u70b9\uff0c\u800c\u5982\u679c\u6211\u4eec\u53ea\u60f3\u67e5\u627e\u5b50\u8282\u70b9\uff0c\u90a3\u53ef\u4ee5\u7528 children \u65b9\u6cd5\uff1a</p> <pre><code>lis = items.children()\nprint(type(lis), \"\\n\")\nprint(lis)\n</code></pre> <pre><code>&lt;class 'pyquery.pyquery.PyQuery'&gt; \n\n&lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n         &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n</code></pre> <p>\u5982\u679c\u8981\u7b5b\u9009\u6240\u6709\u5b50\u8282\u70b9\u4e2d\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9\uff0c\u6bd4\u5982\u60f3\u7b5b\u9009\u51fa\u5b50\u8282\u70b9\u4e2d class \u4e3a active \u7684\u8282\u70b9\uff0c\u53ef\u4ee5\u5411 children() \u65b9\u6cd5\u4f20\u5165 CSS \u9009\u62e9\u5668.active\uff1a</p> <pre><code>lis = items.children('.active')\nprint(lis)\n</code></pre> <pre><code>&lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n         &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u8f93\u51fa\u7684\u7ed3\u679c\u5df2\u7ecf\u505a\u4e86\u7b5b\u9009\uff0c\u7559\u4e0b\u4e86 class \u4e3a active \u7684\u8282\u70b9\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#_5","title":"\u67e5\u627e\u7236\u8282\u70b9","text":"<p>\u53ef\u4ee5\u7528 parent \u65b9\u6cd5\u6765\u83b7\u53d6\u67d0\u4e2a\u8282\u70b9\u7684\u7236\u8282\u70b9\uff1a</p> <pre><code>html = '''\n&lt;div class=\"wrap\"&gt;\n    &lt;div id=\"container\"&gt;\n        &lt;ul class=\"list\"&gt;\n             &lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n             &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n         &lt;/ul&gt;\n     &lt;/div&gt;\n &lt;/div&gt;\n'''\n\nfrom pyquery import PyQuery\ndoc = PyQuery(html)\nitems = doc('.list')\ncontainer = items.parent()\nprint(type(container))\nprint(container)\n</code></pre> <pre><code>&lt;class 'pyquery.pyquery.PyQuery'&gt;\n&lt;div id=\"container\"&gt;\n        &lt;ul class=\"list\"&gt;\n             &lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n             &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n         &lt;/ul&gt;\n     &lt;/div&gt;\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u9996\u5148\u7528.list \u9009\u53d6 class \u4e3a list \u7684\u8282\u70b9\uff0c\u7136\u540e\u8c03\u7528 parent \u65b9\u6cd5\u5f97\u5230\u5176\u7236\u8282\u70b9\uff0c\u5176\u7c7b\u578b\u4f9d\u7136\u662f PyQuery \u7c7b\u578b\u3002</p> <p>\u8fd9\u91cc\u7684\u7236\u8282\u70b9\u662f\u8be5\u8282\u70b9\u7684\u76f4\u63a5\u7236\u8282\u70b9\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b83\u4e0d\u4f1a\u518d\u53bb\u67e5\u627e\u7236\u8282\u70b9\u7684\u7236\u8282\u70b9\uff0c\u5373\u7956\u5148\u8282\u70b9\u3002</p> <p>\u5982\u679c\u60f3\u83b7\u53d6\u7956\u5148\u8282\u70b9\u53ef\u4ee5\u7528 parents \u65b9\u6cd5\uff1a</p> <pre><code>from pyquery import PyQuery\ndoc = PyQuery(html)\nitems = doc('.list')\nparents = items.parents()\nprint(type(parents))\nprint(parents)\n</code></pre> <pre><code>&lt;class 'pyquery.pyquery.PyQuery'&gt;\n&lt;div class=\"wrap\"&gt;\n    &lt;div id=\"container\"&gt;\n        &lt;ul class=\"list\"&gt;\n             &lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n             &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n         &lt;/ul&gt;\n     &lt;/div&gt;\n &lt;/div&gt;&lt;div id=\"container\"&gt;\n        &lt;ul class=\"list\"&gt;\n             &lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n             &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n         &lt;/ul&gt;\n     &lt;/div&gt;\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u8f93\u51fa\u7ed3\u679c\u6709\u4e24\u4e2a\uff1a\u4e00\u4e2a\u662f class \u4e3a wrap \u7684\u8282\u70b9\uff0c\u4e00\u4e2a\u662f id \u4e3a container \u7684\u8282\u70b9\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cparents() \u65b9\u6cd5\u4f1a\u8fd4\u56de\u6240\u6709\u7684\u7956\u5148\u8282\u70b9\u3002</p> <p>\u5982\u679c\u60f3\u8981\u7b5b\u9009\u67d0\u4e2a\u7956\u5148\u8282\u70b9\u7684\u8bdd\uff0c\u53ef\u4ee5\u5411 parents \u65b9\u6cd5\u4f20\u5165 CSS \u9009\u62e9\u5668\uff0c\u8fd9\u6837\u5c31\u4f1a\u8fd4\u56de\u7956\u5148\u8282\u70b9\u4e2d\u7b26\u5408 CSS \u9009\u62e9\u5668\u7684\u8282\u70b9\uff1a</p> <pre><code>parent = items.parents('.wrap')\nprint(parent)\n</code></pre> <pre><code>&lt;div class=\"wrap\"&gt;\n    &lt;div id=\"container\"&gt;\n        &lt;ul class=\"list\"&gt;\n             &lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n             &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n         &lt;/ul&gt;\n     &lt;/div&gt;\n &lt;/div&gt;\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u8f93\u51fa\u7ed3\u679c\u5c11\u4e86\u4e00\u4e2a\u8282\u70b9\uff0c\u53ea\u4fdd\u7559\u4e86 class \u4e3a wrap \u7684\u8282\u70b9\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#_6","title":"\u67e5\u627e\u5144\u5f1f\u8282\u70b9","text":"<p>\u524d\u9762\u6211\u4eec\u8bf4\u660e\u4e86\u5b50\u8282\u70b9\u548c\u7236\u8282\u70b9\u7684\u7528\u6cd5\uff0c\u8fd8\u6709\u4e00\u79cd\u8282\u70b9\uff0c\u90a3\u5c31\u662f\u5144\u5f1f\u8282\u70b9\u3002\u5982\u679c\u8981\u83b7\u53d6\u5144\u5f1f\u8282\u70b9\uff0c\u53ef\u4ee5\u4f7f\u7528 siblings() \u65b9\u6cd5\u3002\u8fd9\u91cc\u8fd8\u662f\u4ee5\u4e0a\u9762\u7684 HTML \u4ee3\u7801\u4e3a\u4f8b\uff1a</p> <pre><code>from pyquery import PyQuery\ndoc = PyQuery(html)\nli = doc('.list .item-0.active')\nprint(li.siblings())\n</code></pre> <pre><code>&lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n             &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n</code></pre> <p>\u8fd9\u91cc\u9996\u5148\u9009\u62e9 class \u4e3a list \u7684\u8282\u70b9\u5185\u90e8 class \u4e3a item-0 \u548c active \u7684\u8282\u70b9\uff0c\u4e5f\u5c31\u662f\u7b2c\u4e09\u4e2a li \u8282\u70b9\u3002\u90a3\u4e48\uff0c\u5f88\u660e\u663e\uff0c\u5b83\u7684\u5144\u5f1f\u8282\u70b9\u6709 4 \u4e2a\uff0c\u90a3\u5c31\u662f\u7b2c\u4e00\u3001\u4e8c\u3001\u56db\u3001\u4e94\u4e2a li \u8282\u70b9\u3002</p> <p>\u5982\u679c\u8981\u7b5b\u9009\u67d0\u4e2a\u5144\u5f1f\u8282\u70b9\uff0c\u6211\u4eec\u4f9d\u7136\u53ef\u4ee5\u5411 siblings \u65b9\u6cd5\u4f20\u5165 CSS \u9009\u62e9\u5668\uff0c\u8fd9\u6837\u5c31\u4f1a\u4ece\u6240\u6709\u5144\u5f1f\u8282\u70b9\u4e2d\u6311\u9009\u51fa\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9\u4e86\uff1a</p> <pre><code>from pyquery import PyQuery\ndoc = PyQuery(html)\nli = doc('.list .item-0.active')\nprint(li.siblings('.active'))\n</code></pre> <pre><code>&lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u7b5b\u9009\u4e86 class \u4e3a active \u7684\u8282\u70b9\uff0c\u901a\u8fc7\u521a\u624d\u7684\u7ed3\u679c\u53ef\u4ee5\u89c2\u5bdf\u5230\uff0cclass \u4e3a active \u7684\u5144\u5f1f\u8282\u70b9\u53ea\u6709\u7b2c\u56db\u4e2a li \u8282\u70b9\uff0c\u6240\u4ee5\u7ed3\u679c\u5e94\u8be5\u662f\u4e00\u4e2a\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#_7","title":"\u904d\u5386","text":"<p>\u521a\u624d\u53ef\u4ee5\u89c2\u5bdf\u5230\uff0cpyquery \u7684\u9009\u62e9\u7ed3\u679c\u53ef\u80fd\u662f\u591a\u4e2a\u8282\u70b9\uff0c\u4e5f\u53ef\u80fd\u662f\u5355\u4e2a\u8282\u70b9\uff0c\u7c7b\u578b\u90fd\u662f PyQuery \u7c7b\u578b\uff0c\u5e76\u6ca1\u6709\u8fd4\u56de\u50cf Beautiful Soup \u90a3\u6837\u7684\u5217\u8868\u3002</p> <p>\u5bf9\u4e8e\u5355\u4e2a\u8282\u70b9\u6765\u8bf4\uff0c\u53ef\u4ee5\u76f4\u63a5\u6253\u5370\u8f93\u51fa\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u8f6c\u6210\u5b57\u7b26\u4e32\uff1a</p> <pre><code>from pyquery import PyQuery\ndoc = PyQuery(html)\nli = doc('.item-0.active')\nprint(li)\nprint(str(li))\n</code></pre> <pre><code>&lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span\nclass=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n\n&lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span\nclass=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n</code></pre> <p>\u5bf9\u4e8e\u591a\u4e2a\u8282\u70b9\u7684\u7ed3\u679c\uff0c\u6211\u4eec\u5c31\u9700\u8981\u904d\u5386\u6765\u83b7\u53d6\u4e86\u3002\u4f8b\u5982\uff0c\u8fd9\u91cc\u628a\u6bcf\u4e00\u4e2a li \u8282\u70b9\u8fdb\u884c\u904d\u5386\uff0c\u9700\u8981\u8c03\u7528 items \u65b9\u6cd5\uff1a</p> <pre><code>from pyquery import PyQuery\ndoc = PyQuery(html)\nlis = doc('li').items()\nprint(type(lis))\nfor li in lis:\n    print(li, type(li))\n</code></pre> <pre><code>&lt;class 'generator'&gt;\n&lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n              &lt;class 'pyquery.pyquery.PyQuery'&gt;\n&lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n              &lt;class 'pyquery.pyquery.PyQuery'&gt;\n&lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span\nclass=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n              &lt;class 'pyquery.pyquery.PyQuery'&gt;\n&lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n              &lt;class 'pyquery.pyquery.PyQuery'&gt;\n&lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n          &lt;class 'pyquery.pyquery.PyQuery'&gt;\n</code></pre> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u8c03\u7528 items() \u65b9\u6cd5\u540e\uff0c\u4f1a\u5f97\u5230\u4e00\u4e2a\u751f\u6210\u5668\uff0c\u904d\u5386\u4e00\u4e0b\uff0c\u5c31\u53ef\u4ee5\u9010\u4e2a\u5f97\u5230 li \u8282\u70b9\u5bf9\u8c61\u4e86\uff0c\u5b83\u7684\u7c7b\u578b\u4e5f\u662f PyQuery \u7c7b\u578b\u3002\u6bcf\u4e2a li \u8282\u70b9\u8fd8\u53ef\u4ee5\u8c03\u7528\u524d\u9762\u6240\u8bf4\u7684\u65b9\u6cd5\u8fdb\u884c\u9009\u62e9\uff0c\u6bd4\u5982\u7ee7\u7eed\u67e5\u8be2\u5b50\u8282\u70b9\uff0c\u5bfb\u627e\u67d0\u4e2a\u7956\u5148\u8282\u70b9\u7b49\uff0c\u975e\u5e38\u7075\u6d3b\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#_8","title":"\u83b7\u53d6\u4fe1\u606f","text":"<p>\u63d0\u53d6\u5230\u8282\u70b9\u4e4b\u540e\uff0c\u6211\u4eec\u7684\u6700\u7ec8\u76ee\u7684\u5f53\u7136\u662f\u63d0\u53d6\u8282\u70b9\u6240\u5305\u542b\u7684\u4fe1\u606f\u4e86\u3002\u6bd4\u8f83\u91cd\u8981\u7684\u4fe1\u606f\u6709\u4e24\u7c7b\uff0c\u4e00\u662f\u83b7\u53d6\u5c5e\u6027\uff0c\u4e8c\u662f\u83b7\u53d6\u6587\u672c\uff0c\u4e0b\u9762\u5206\u522b\u8fdb\u884c\u8bf4\u660e\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#_9","title":"\u83b7\u53d6\u5c5e\u6027","text":"<p>\u63d0\u53d6\u5230\u67d0\u4e2a PyQuery \u7c7b\u578b\u7684\u8282\u70b9\u540e\uff0c\u5c31\u53ef\u4ee5\u8c03\u7528 attr() \u65b9\u6cd5\u6765\u83b7\u53d6\u5c5e\u6027\uff1a</p> <pre><code>html = '''\n&lt;div class=\"wrap\"&gt;\n    &lt;div id=\"container\"&gt;\n        &lt;ul class=\"list\"&gt;\n             &lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n             &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n         &lt;/ul&gt;\n     &lt;/div&gt;\n &lt;/div&gt;\n'''\nfrom pyquery import PyQuery\ndoc = PyQuery(html)\na = doc('.item-0.active a')\nprint(a, type(a))\nprint(a.attr('href'))\n</code></pre> <pre><code>&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt; &lt;class\n'pyquery.pyquery.PyQuery'&gt;\nlink3.html\n</code></pre> <p>\u8fd9\u91cc\u9996\u5148\u9009\u4e2d class \u4e3a item-0 \u548c active \u7684 li \u8282\u70b9\u5185\u7684 a \u8282\u70b9\uff0c\u5b83\u7684\u7c7b\u578b\u662f PyQuery \u7c7b\u578b\u3002</p> <p>\u7136\u540e\u8c03\u7528 attr \u65b9\u6cd5\u3002\u5728\u8fd9\u4e2a\u65b9\u6cd5\u4e2d\u4f20\u5165\u5c5e\u6027\u7684\u540d\u79f0\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u8fd9\u4e2a\u5c5e\u6027\u503c\u4e86\u3002</p> <p>\u6b64\u5916\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 attr \u5c5e\u6027\u6765\u83b7\u53d6\u5c5e\u6027\uff0c\u7528\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>print(a.attr.href)\n</code></pre> <pre><code>link3.html\n</code></pre> <p>\u8fd9\u4e24\u79cd\u65b9\u6cd5\u7684\u7ed3\u679c\u5b8c\u5168\u4e00\u6837\u3002</p> <p>\u5982\u679c\u9009\u4e2d\u7684\u662f\u591a\u4e2a\u5143\u7d20\uff0c\u7136\u540e\u8c03\u7528 attr \u65b9\u6cd5\uff0c\u4f1a\u51fa\u73b0\u600e\u6837\u7684\u7ed3\u679c\u5462\uff1f\u6211\u4eec\u7528\u5b9e\u4f8b\u6765\u6d4b\u8bd5\u4e00\u4e0b\uff1a</p> <pre><code>a = doc('a')\nprint(a, type(a))\nprint(a.attr('href'))\nprint(a.attr.href)\n</code></pre> <pre><code>&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;a href=\"link3.html\"&gt;&lt;span\nclass=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;a href=\"link4.html\"&gt;fourth\nitem&lt;/a&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt; &lt;class\n'pyquery.pyquery.PyQuery'&gt;\nlink2.html\nlink2.html\n</code></pre> <p>\u7167\u7406\u6765\u8bf4\uff0c\u6211\u4eec\u9009\u4e2d\u7684 a \u8282\u70b9\u5e94\u8be5\u6709 4 \u4e2a\uff0c\u800c\u4e14\u6253\u5370\u7ed3\u679c\u4e5f\u5e94\u8be5\u662f 4 \u4e2a\uff0c\u4f46\u662f\u5f53\u6211\u4eec\u8c03\u7528 attr \u65b9\u6cd5\u65f6\uff0c\u8fd4\u56de\u7ed3\u679c\u5374\u53ea\u662f\u7b2c\u4e00\u4e2a\u3002\u8fd9\u662f\u56e0\u4e3a\uff0c\u5f53\u8fd4\u56de\u7ed3\u679c\u5305\u542b\u591a\u4e2a\u8282\u70b9\u65f6\uff0c\u8c03\u7528 attr \u65b9\u6cd5\uff0c\u53ea\u4f1a\u5f97\u5230\u7b2c\u4e00\u4e2a\u8282\u70b9\u7684\u5c5e\u6027\u3002</p> <p>\u90a3\u4e48\uff0c\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\u65f6\uff0c\u5982\u679c\u60f3\u83b7\u53d6\u6240\u6709\u7684 a \u8282\u70b9\u7684\u5c5e\u6027\uff0c\u5c31\u8981\u7528\u5230\u524d\u9762\u6240\u8bf4\u7684\u904d\u5386\u4e86\uff1a</p> <pre><code>from pyquery import PyQuery\ndoc = PyQuery(html)\na = doc('a')\nfor item in a.items():\n    print(item.attr('href'))\n</code></pre> <pre><code>link2.html\nlink3.html\nlink4.html\nlink5.html\n</code></pre> <p>\u56e0\u6b64\uff0c\u5728\u8fdb\u884c\u5c5e\u6027\u83b7\u53d6\u65f6\uff0c\u53ef\u4ee5\u89c2\u5bdf\u8fd4\u56de\u8282\u70b9\u662f\u4e00\u4e2a\u8fd8\u662f\u591a\u4e2a\uff0c\u5982\u679c\u662f\u591a\u4e2a\uff0c\u5219\u9700\u8981\u904d\u5386\u624d\u80fd\u4f9d\u6b21\u83b7\u53d6\u6bcf\u4e2a\u8282\u70b9\u7684\u5c5e\u6027\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#_10","title":"\u83b7\u53d6\u6587\u672c","text":"<p>\u83b7\u53d6\u8282\u70b9\u4e4b\u540e\u7684\u53e6\u4e00\u4e2a\u4e3b\u8981\u64cd\u4f5c\u5c31\u662f\u83b7\u53d6\u5176\u5185\u90e8\u7684\u6587\u672c\u4e86\uff0c\u6b64\u65f6\u53ef\u4ee5\u8c03\u7528 text \u65b9\u6cd5\u6765\u5b9e\u73b0\uff1a</p> <pre><code>html = '''\n&lt;div class=\"wrap\"&gt;\n    &lt;div id=\"container\"&gt;\n        &lt;ul class=\"list\"&gt;\n             &lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n             &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n         &lt;/ul&gt;\n     &lt;/div&gt;\n &lt;/div&gt;\n'''\nfrom pyquery import PyQuery\ndoc = PyQuery(html)\na = doc('.item-0.active a')\nprint(a)\nprint(a.text())\n</code></pre> <pre><code>&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;\nthird item\n</code></pre> <p>\u8fd9\u91cc\u9996\u5148\u9009\u4e2d\u4e00\u4e2a a \u8282\u70b9\uff0c\u7136\u540e\u8c03\u7528 text \u65b9\u6cd5\uff0c\u5c31\u53ef\u4ee5\u83b7\u53d6\u5176\u5185\u90e8\u7684\u6587\u672c\u4fe1\u606f\u3002\u6b64\u65f6\u5b83\u4f1a\u5ffd\u7565\u6389\u8282\u70b9\u5185\u90e8\u5305\u542b\u7684\u6240\u6709 HTML\uff0c\u53ea\u8fd4\u56de\u7eaf\u6587\u5b57\u5185\u5bb9\u3002</p> <p>\u4f46\u5982\u679c\u60f3\u8981\u83b7\u53d6\u8fd9\u4e2a\u8282\u70b9\u5185\u90e8\u7684 HTML \u6587\u672c\uff0c\u5c31\u8981\u7528 html \u65b9\u6cd5\u4e86\uff1a</p> <pre><code>from pyquery import PyQuery as pq\ndoc = pq(html)\nli = doc('.item-0.active')\nprint(li)\nprint(li.html())\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u9009\u4e2d\u4e86\u7b2c\u4e09\u4e2a li \u8282\u70b9\uff0c\u7136\u540e\u8c03\u7528\u4e86 html() \u65b9\u6cd5\uff0c\u5b83\u8fd4\u56de\u7684\u7ed3\u679c\u5e94\u8be5\u662f li \u8282\u70b9\u5185\u7684\u6240\u6709 HTML \u6587\u672c\u3002</p> <p>\u8fd9\u91cc\u540c\u6837\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u5982\u679c\u6211\u4eec\u9009\u4e2d\u7684\u7ed3\u679c\u662f\u591a\u4e2a\u8282\u70b9\uff0ctext() \u6216 html() \u4f1a\u8fd4\u56de\u4ec0\u4e48\u5185\u5bb9\uff1f\u6211\u4eec\u7528\u5b9e\u4f8b\u6765\u770b\u4e00\u4e0b\uff1a</p> <pre><code>html = '''\n&lt;div class=\"wrap\"&gt;\n    &lt;div id=\"container\"&gt;\n        &lt;ul class=\"list\"&gt;\n             &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n         &lt;/ul&gt;\n     &lt;/div&gt;\n &lt;/div&gt;\n'''\nfrom pyquery import PyQuery\ndoc = PyQuery(html)\nli = doc('li')\nprint(li.html())\nprint(li.text())\nprint(type(li.text()))\n</code></pre> <pre><code>&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;\nsecond item third item fourth item fifth item\n&lt;class 'str'&gt;\n</code></pre> <p>\u7ed3\u679c\u53ef\u80fd\u6bd4\u8f83\u51fa\u4e4e\u610f\u6599\uff0chtml \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u7b2c\u4e00\u4e2a li \u8282\u70b9\u7684\u5185\u90e8 HTML \u6587\u672c\uff0c\u800c text \u5219\u8fd4\u56de\u4e86\u6240\u6709\u7684 li \u8282\u70b9\u5185\u90e8\u7684\u7eaf\u6587\u672c\uff0c\u4e2d\u95f4\u7528\u4e00\u4e2a\u7a7a\u683c\u5206\u5272\u5f00\uff0c\u5373\u8fd4\u56de\u7ed3\u679c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002</p> <p>\u6240\u4ee5\u8fd9\u4e2a\u5730\u65b9\u503c\u5f97\u6ce8\u610f\uff0c\u5982\u679c\u5f97\u5230\u7684\u7ed3\u679c\u662f\u591a\u4e2a\u8282\u70b9\uff0c\u5e76\u4e14\u60f3\u8981\u83b7\u53d6\u6bcf\u4e2a\u8282\u70b9\u7684\u5185\u90e8 HTML \u6587\u672c\uff0c\u5219\u9700\u8981\u904d\u5386\u6bcf\u4e2a\u8282\u70b9\u3002\u800c text() \u65b9\u6cd5\u4e0d\u9700\u8981\u904d\u5386\u5c31\u53ef\u4ee5\u83b7\u53d6\uff0c\u5b83\u5c06\u6240\u6709\u8282\u70b9\u53d6\u6587\u672c\u4e4b\u540e\u5408\u5e76\u6210\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#_11","title":"\u8282\u70b9\u64cd\u4f5c","text":"<p>pyquery \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u65b9\u6cd5\u6765\u5bf9\u8282\u70b9\u8fdb\u884c\u52a8\u6001\u4fee\u6539\uff0c\u6bd4\u5982\u4e3a\u67d0\u4e2a\u8282\u70b9\u6dfb\u52a0\u4e00\u4e2a class\uff0c\u79fb\u9664\u67d0\u4e2a\u8282\u70b9\u7b49\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u6709\u65f6\u5019\u4f1a\u4e3a\u63d0\u53d6\u4fe1\u606f\u5e26\u6765\u6781\u5927\u7684\u4fbf\u5229\u3002</p> <p>\u7531\u4e8e\u8282\u70b9\u64cd\u4f5c\u7684\u65b9\u6cd5\u592a\u591a\uff0c\u4e0b\u9762\u4e3e\u51e0\u4e2a\u5178\u578b\u7684\u4f8b\u5b50\u6765\u8bf4\u660e\u5b83\u7684\u7528\u6cd5\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#addclass-removeclass","title":"addClass \u548c removeClass","text":"<p>\u6211\u4eec\u5148\u7528\u4e00\u4e2a\u5b9e\u4f8b\u6765\u611f\u53d7\u4e00\u4e0b\uff1a</p> <pre><code>html = '''\n&lt;div class=\"wrap\"&gt;\n    &lt;div id=\"container\"&gt;\n        &lt;ul class=\"list\"&gt;\n             &lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n             &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n         &lt;/ul&gt;\n     &lt;/div&gt;\n &lt;/div&gt;\n'''\nfrom pyquery import PyQuery\ndoc = PyQuery(html)\nli = doc('.item-0.active')\nprint(li)\nli.removeClass('active')\nprint(li)\nli.addClass('active')\nprint(li)\n</code></pre> <pre><code>&lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n\n&lt;li class=\"item-0\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n\n&lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n</code></pre> <p>\u9996\u5148\u9009\u4e2d\u4e86\u7b2c\u4e09\u4e2a li \u8282\u70b9\uff0c\u7136\u540e\u8c03\u7528 removeClass() \u65b9\u6cd5\uff0c\u5c06 li \u8282\u70b9\u7684 active \u8fd9\u4e2a class \u79fb\u9664\uff0c\u540e\u6765\u53c8\u8c03\u7528 addClass() \u65b9\u6cd5\uff0c\u5c06 class \u6dfb\u52a0\u56de\u6765\u3002\u6bcf\u6267\u884c\u4e00\u6b21\u64cd\u4f5c\uff0c\u5c31\u6253\u5370\u8f93\u51fa\u5f53\u524d li \u8282\u70b9\u7684\u5185\u5bb9\u3002</p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u4e00\u5171\u8f93\u51fa\u4e86 3 \u6b21\u3002\u7b2c\u4e8c\u6b21\u8f93\u51fa\u65f6\uff0cli \u8282\u70b9\u7684 active \u8fd9\u4e2a class \u88ab\u79fb\u9664\u4e86\uff0c\u7b2c\u4e09\u6b21 class \u53c8\u6dfb\u52a0\u56de\u6765\u4e86\u3002</p> <p>\u6240\u4ee5\u8bf4\uff0caddClass \u548c removeClass \u65b9\u6cd5\u53ef\u4ee5\u52a8\u6001\u6539\u53d8\u8282\u70b9\u7684 class \u5c5e\u6027\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#attrtexthtml","title":"attr\u3001text\u3001html","text":"<p>\u5f53\u7136\uff0c\u9664\u4e86\u64cd\u4f5c class \u8fd9\u4e2a\u5c5e\u6027\u5916\uff0c\u4e5f\u53ef\u4ee5\u7528 attr \u65b9\u6cd5\u5bf9\u5c5e\u6027\u8fdb\u884c\u64cd\u4f5c\u3002\u6b64\u5916\uff0c\u8fd8\u53ef\u4ee5\u7528 text \u548c html \u65b9\u6cd5\u6765\u6539\u53d8\u8282\u70b9\u5185\u90e8\u7684\u5185\u5bb9\u3002\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>html = '''\n&lt;ul class=\"list\"&gt;\n     &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n'''\nfrom pyquery import PyQuery\ndoc = PyQuery(html)\nli = doc('.item-0.active')\nprint(li)\nli.attr('name', 'link')\nprint(li)\nli.text('changed item')\nprint(li)\nli.html('&lt;span&gt;changed item&lt;/span&gt;')\nprint(li)\n</code></pre> <pre><code>&lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n\n&lt;li class=\"item-0 active\" name=\"link\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n\n&lt;li class=\"item-0 active\" name=\"link\"&gt;changed item&lt;/li&gt;\n\n&lt;li class=\"item-0 active\" name=\"link\"&gt;&lt;span&gt;changed item&lt;/span&gt;&lt;/li&gt;\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u9996\u5148\u9009\u4e2d li \u8282\u70b9\uff0c\u7136\u540e\u8c03\u7528 attr \u65b9\u6cd5\u6765\u4fee\u6539\u5c5e\u6027\uff0c\u5176\u4e2d\u8be5\u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u5c5e\u6027\u540d\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u5c5e\u6027\u503c\u3002\u63a5\u7740\uff0c\u8c03\u7528 text \u548c html \u65b9\u6cd5\u6765\u6539\u53d8\u8282\u70b9\u5185\u90e8\u7684\u5185\u5bb9\u3002\u4e09\u6b21\u64cd\u4f5c\u540e\uff0c\u5206\u522b\u6253\u5370\u8f93\u51fa\u5f53\u524d\u7684 li \u8282\u70b9\u3002</p> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u8c03\u7528 attr \u65b9\u6cd5\u540e\uff0cli \u8282\u70b9\u591a\u4e86\u4e00\u4e2a\u539f\u672c\u4e0d\u5b58\u5728\u7684\u5c5e\u6027 name\uff0c\u5176\u503c\u4e3a link\u3002\u63a5\u7740\u8c03\u7528 text \u65b9\u6cd5\uff0c\u4f20\u5165\u6587\u672c\u4e4b\u540e\uff0cli \u8282\u70b9\u5185\u90e8\u7684\u6587\u672c\u5168\u88ab\u6539\u4e3a\u4f20\u5165\u7684\u5b57\u7b26\u4e32\u6587\u672c\u4e86\u3002\u6700\u540e\uff0c\u8c03\u7528 html \u65b9\u6cd5\u4f20\u5165 HTML \u6587\u672c\u540e\uff0cli \u8282\u70b9\u5185\u90e8\u53c8\u53d8\u4e3a\u4f20\u5165\u7684 HTML \u6587\u672c\u4e86\u3002</p> <p>\u6240\u4ee5\u8bf4\uff0c\u5982\u679c attr \u65b9\u6cd5\u53ea\u4f20\u5165\u7b2c\u4e00\u4e2a\u53c2\u6570\u7684\u5c5e\u6027\u540d\uff0c\u5219\u662f\u83b7\u53d6\u8fd9\u4e2a\u5c5e\u6027\u503c\uff1b\u5982\u679c\u4f20\u5165\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u53ef\u4ee5\u7528\u6765\u4fee\u6539\u5c5e\u6027\u503c\u3002text \u548c html \u65b9\u6cd5\u5982\u679c\u4e0d\u4f20\u53c2\u6570\uff0c\u5219\u662f\u83b7\u53d6\u8282\u70b9\u5185\u7eaf\u6587\u672c\u548c HTML \u6587\u672c\uff1b\u5982\u679c\u4f20\u5165\u53c2\u6570\uff0c\u5219\u8fdb\u884c\u8d4b\u503c\u3002</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#remove","title":"remove","text":"<p>\u987e\u540d\u601d\u4e49\uff0cremove \u65b9\u6cd5\u5c31\u662f\u79fb\u9664\uff0c\u5b83\u6709\u65f6\u4f1a\u4e3a\u4fe1\u606f\u7684\u63d0\u53d6\u5e26\u6765\u975e\u5e38\u5927\u7684\u4fbf\u5229\u3002\u4e0b\u9762\u6709\u4e00\u6bb5 HTML \u6587\u672c\uff1a</p> <pre><code>html = '''\n&lt;div class=\"wrap\"&gt;\n    Hello, World\n    &lt;p&gt;This is a paragraph.&lt;/p&gt;\n &lt;/div&gt;\n'''\nfrom pyquery import PyQuery\ndoc = PyQuery(html)\nwrap = doc('.wrap')\nprint(wrap.text())\n</code></pre> <pre><code>Hello, World\nThis is a paragraph.\n</code></pre> <p>\u73b0\u5728\u60f3\u63d0\u53d6 Hello, World \u8fd9\u4e2a\u5b57\u7b26\u4e32\uff0c\u800c\u4e0d\u8981 p \u8282\u70b9\u5185\u90e8\u7684\u5b57\u7b26\u4e32\uff0c\u9700\u8981\u600e\u6837\u64cd\u4f5c\u5462\uff1f</p> <p>\u8fd9\u91cc\u76f4\u63a5\u5148\u5c1d\u8bd5\u63d0\u53d6 class \u4e3a wrap \u7684\u8282\u70b9\u7684\u5185\u5bb9\uff0c\u770b\u770b\u662f\u4e0d\u662f\u6211\u4eec\u60f3\u8981\u7684\u3002\u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> <pre><code>Hello, World This is a paragraph.\n</code></pre> <p>\u8fd9\u4e2a\u7ed3\u679c\u8fd8\u5305\u542b\u4e86\u5185\u90e8\u7684 p \u8282\u70b9\u7684\u5185\u5bb9\uff0c\u4e5f\u5c31\u662f\u8bf4 text \u628a\u6240\u6709\u7684\u7eaf\u6587\u672c\u5168\u63d0\u53d6\u51fa\u6765\u4e86\u3002\u5982\u679c\u6211\u4eec\u60f3\u53bb\u6389 p \u8282\u70b9\u5185\u90e8\u7684\u6587\u672c\uff0c\u53ef\u4ee5\u9009\u62e9\u518d\u628a p \u8282\u70b9\u5185\u7684\u6587\u672c\u63d0\u53d6\u4e00\u904d\uff0c\u7136\u540e\u4ece\u6574\u4e2a\u7ed3\u679c\u4e2d\u79fb\u9664\u8fd9\u4e2a\u5b50\u4e32\uff0c\u4f46\u8fd9\u4e2a\u505a\u6cd5\u660e\u663e\u6bd4\u8f83\u70e6\u7410\u3002</p> <p>\u8fd9\u65f6 remove \u65b9\u6cd5\u5c31\u53ef\u4ee5\u6d3e\u4e0a\u7528\u573a\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5\u63a5\u7740\u8fd9\u4e48\u505a:</p> <pre><code>wrap.find('p').remove()\nprint(wrap.text())\n</code></pre> <pre><code>Hello, World\n</code></pre> <p>\u9996\u5148\u9009\u4e2d p \u8282\u70b9\uff0c\u7136\u540e\u8c03\u7528\u4e86 remove() \u65b9\u6cd5\u5c06\u5176\u79fb\u9664\uff0c\u7136\u540e\u8fd9\u65f6 wrap \u5185\u90e8\u5c31\u53ea\u5269\u4e0b Hello, World \u8fd9\u53e5\u8bdd\u4e86\uff0c\u7136\u540e\u518d\u5229\u7528 text() \u65b9\u6cd5\u63d0\u53d6\u5373\u53ef\u3002</p> <p>\u53e6\u5916\uff0c\u5176\u5b9e\u8fd8\u6709\u5f88\u591a\u8282\u70b9\u64cd\u4f5c\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982 append()\u3001empty() \u548c prepend() \u7b49\u65b9\u6cd5\uff0c\u5b83\u4eec\u548c jQuery \u7684\u7528\u6cd5\u5b8c\u5168\u4e00\u81f4\uff0c\u8be6\u7ec6\u7684\u7528\u6cd5\u53ef\u4ee5\u53c2\u8003\u5b98\u65b9\u6587\u6863\uff1ahttp://pyquery.readthedocs.io/en/latest/api.html</p>"},{"location":"Python3/%E7%88%AC%E8%99%AB/13.3.pyquery.html#_12","title":"\u4f2a\u7c7b\u9009\u62e9\u5668","text":"<p>CSS \u9009\u62e9\u5668\u4e4b\u6240\u4ee5\u5f3a\u5927\uff0c\u8fd8\u6709\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u539f\u56e0\uff0c\u90a3\u5c31\u662f\u5b83\u652f\u6301\u591a\u79cd\u591a\u6837\u7684\u4f2a\u7c7b\u9009\u62e9\u5668\uff0c\u4f8b\u5982\u9009\u62e9\u7b2c\u4e00\u4e2a\u8282\u70b9\u3001\u6700\u540e\u4e00\u4e2a\u8282\u70b9\u3001\u5947\u5076\u6570\u8282\u70b9\u3001\u5305\u542b\u67d0\u4e00\u6587\u672c\u7684\u8282\u70b9\u7b49\u3002\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>html = '''\n&lt;div class=\"wrap\"&gt;\n    &lt;div id=\"container\"&gt;\n        &lt;ul class=\"list\"&gt;\n             &lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n             &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0 active\"&gt;&lt;a href=\"link3.html\"&gt;&lt;span class=\"bold\"&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n         &lt;/ul&gt;\n     &lt;/div&gt;\n &lt;/div&gt;\n'''\nfrom pyquery import PyQuery\ndoc = PyQuery(html)\nli = doc('li:first-child')\nprint(li)\nli = doc('li:last-child')\nprint(li)\nli = doc('li:nth-child(2)')\nprint(li)\nli = doc('li:gt(2)')\nprint(li)\nli = doc('li:nth-child(2n)')\nprint(li)\nli = doc('li:contains(second)')\nprint(li)\n</code></pre> <pre><code>&lt;li class=\"item-0\"&gt;first item&lt;/li&gt;\n\n&lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt;&lt;/li&gt;\n\n&lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n\n&lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth\nitem&lt;/a&gt;&lt;/li&gt;\n\n&lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n             &lt;li class=\"item-1 active\"&gt;&lt;a href=\"link4.html\"&gt;fourth\nitem&lt;/a&gt;&lt;/li&gt;\n\n&lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt;\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e86 CSS3 \u7684\u4f2a\u7c7b\u9009\u62e9\u5668\uff0c\u4f9d\u6b21\u9009\u62e9\u4e86\u7b2c\u4e00\u4e2a li \u8282\u70b9\u3001\u6700\u540e\u4e00\u4e2a li \u8282\u70b9\u3001\u7b2c\u4e8c\u4e2a li \u8282\u70b9\u3001\u7b2c\u4e09\u4e2a li \u4e4b\u540e\u7684 li \u8282\u70b9\u3001\u5076\u6570\u4f4d\u7f6e\u7684 li \u8282\u70b9\u3001\u5305\u542b second \u6587\u672c\u7684 li \u8282\u70b9\u3002</p> <p>\u5173\u4e8e CSS \u9009\u62e9\u5668\u7684\u66f4\u591a\u7528\u6cd5\uff0c\u53ef\u4ee5\u53c2\u8003 http://www.w3school.com.cn/css/index.asp\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.1.CPU.html","title":"1.1.CPU","text":""},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.1.CPU.html#_1","title":"\u7b80\u4ecb","text":"<p>\u8ba1\u7b97\u673a\u7684\u5de5\u4f5c\u8fc7\u7a0b\u5c31\u662f\u8ba1\u7b97\u673a\u6267\u884c\u7a0b\u5e8f\u7684\u8fc7\u7a0b\u3002\u7a0b\u5e8f\u662f\u4e00\u4e2a\u6307\u4ee4\u5e8f\u5217\uff0c\u8fd9\u4e2a\u5e8f\u5217\u660e\u786e\u544a\u8bc9\u8ba1\u7b97\u673a\u5e94\u8be5\u6267\u884c\u4ec0\u4e48\u64cd\u4f5c\uff0c\u5728\u4ec0\u4e48\u5730\u65b9\u80fd\u591f\u627e\u5230\u7528\u6765\u64cd\u4f5c\u7684\u6570\u636e\u3002</p> <p>\u4e00\u65e6\u628a\u7a0b\u5e8f\u88c5\u5165\u4e3b\u5b58\u50a8\u5668\uff0c\u8ba1\u7b97\u673a\u5c31\u53ef\u4ee5\u81ea\u52a8\u6267\u884c\u53d6\u51fa\u6307\u4ee4\u548c\u6267\u884c\u6307\u4ee4\u7684\u4efb\u52a1\u3002\u4e13\u95e8\u7528\u6765\u5b8c\u6210\u6b64\u9879\u5de5\u4f5c\u7684\u8ba1\u7b97\u673a\u90e8\u4ef6\u79f0\u4e3a\u4e2d\u592e\u5904\u7406\u5668\uff08Central Processing Unit, CPU\uff09\uff0c\u505a\u6210\u5355\u7247\u96c6\u6210\u7535\u8def\u7684CPU\u901a\u5e38\u53c8\u79f0\u4e3a\u5fae\u5904\u7406\u5668\uff08Microprocessor\uff09\uff0c\u5728\u4e00\u4e2a\u96c6\u6210\u7535\u8def\u4e2d\u96c6\u6210\u4e86\u4e24\u4e2a CPU \u82af\u7247\uff0c\u79f0\u4e4b\u4e3a\u53cc\u6838\uff08dual core\uff09\u5fae\u5904\u7406\u5668\u3002\u73b0\u4ee3\u7684\u4e2a\u4eba\u8ba1\u7b97\u673a\u4e00\u822c\u90fd\u662f\u4f7f\u7528\u5fae\u5904\u7406\u5668\u4f5c\u4e3aCPU\u3002</p> <p>\u6ce8\u610f\uff1aCPU\u4e0d\u662f\u6307\u4e00\u4e2a\u7279\u5b9a\u7684\u67d0\u4e00\u7c7b\u4e1c\u897f\uff0c\u800c\u662f\u5177\u6709\u67d0\u79cd\u529f\u80fd\u7684\u90e8\u4ef6\u7684\u603b\u79f0\u3002 \u6240\u4ee5\uff0c\u4e0d\u7ba1\u662f\u4f55\u79cd\u5f62\u6001\u3001\u8bbe\u8ba1\u3001\u539f\u7406\u7684\u90e8\u4ef6\uff0c\u53ea\u8981\u5b83\u80fd\u5177\u6709\u53d6\u51fa\u6307\u4ee4\u3001\u6267\u884c\u6307\u4ee4\u7684\u529f\u80fd\uff0c\u5b83\u5c31\u662fCPU\u3002 \u7b80\u800c\u8a00\u4e4b\uff0cCPU \u662f\u7528\u6765\u8868\u793a\u8ba1\u7b97\u673a\u5185\u90e8\u5143\u4ef6\u529f\u80fd\u7684\u672f\u8bed\u3002</p>  \u9676\u74f7PGA\u5c01\u88c5\u7684Intel 80486 DX2 CPU <p>\u9876\u89c6\u56fe\u662fCPU\u7684\u9876\u76d6\uff0c\u7528\u6765\u4fdd\u62a4CPU Die\u3002\u5e95\u89c6\u56fe\u662fCPU\u5f15\u811a\uff0c\u5f15\u811a\u7528\u4e8e\u8f93\u5165\u6216\u8f93\u51fa\u7535\u4fe1\u53f7\uff0cCPU\u901a\u8fc7\u5f15\u811a\u63a7\u5236\u6574\u4e2a\u8ba1\u7b97\u673a\u3002</p> <p>\u8ba1\u7b97\u673a\u5de5\u4e1a\u4ece1960W\u5e74\u4ee3\u65e9\u671f\u5f00\u59cb\u4f7f\u7528CPU\u8fd9\u4e2a\u672f\u8bed\u3002\u8fc4\u4eca\u4e3a\u6b62\uff0cCPU\u4ece\u5f62\u6001\u3001\u8bbe\u8ba1\u5230\u5b9e\u73b0\u90fd\u5df2\u53d1\u751f\u4e86\u5de8\u5927\u7684\u53d8\u5316\uff0c\u4f46\u662f\u5176\u57fa\u672c\u5de5\u4f5c\u539f\u7406\u5374\u4e00\u76f4\u6ca1\u6709\u5927\u7684\u53d8\u5316\u3002</p> <p>\u65e9\u671f\u7684CPU\u901a\u5e38\u662f\u4e3a\u5927\u578b\u3001\u7279\u5b9a\u7684\u5e94\u7528\u800c\u5b9a\u5236\u7684\u3002\u76ee\u524d\uff0c\u8fd9\u79cd\u4e3a\u7279\u5b9a\u5e94\u7528\u800c\u8bbe\u8ba1\u5b9a\u5236CPU\u7684\u6602\u8d35\u65b9\u6cd5\uff0c\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u5df2\u7ecf\u8ba9\u4f4d\u4e8e\u53ef\u5927\u89c4\u6a21\u751f\u4ea7\u7684\u901a\u7528\u5904\u7406\u5668\u3002\u8fd9\u79cd\u6807\u51c6\u5316\u8d8b\u52bf\uff0c\u8bde\u751f\u4e8e\u5206\u7acb\u6676\u4f53\u7ba1\u5927\u578b\u8ba1\u7b97\u673a\uff08Mainframe\uff09\u548c\u5c0f\u578b\u8ba1\u7b97\u673a\uff08Minicomputer\uff09\u5e74\u4ee3\uff0c\u5e76\u4e14\u968f\u7740\u96c6\u6210\u7535\u8def\uff08IC\uff09\u7684\u666e\u53ca\u800c\u5927\u5927\u52a0\u901f\u3002</p> <p>\u73b0\u4ee3\u7684CPU\u4f7f\u7528\u96c6\u6210\u7535\u8def\u5236\u4f5c\uff0c\u96c6\u6210\u7535\u8def\u53ef\u4ee5\u628a\u65e5\u76ca\u590d\u6742\u7684CPU\u8bbe\u8ba1\u5236\u9020\u5728\u5f88\u5c0f\u7684\u7a7a\u95f4\u91cc\u3002CPU\u7684\u5c0f\u578b\u5316\u548c\u6807\u51c6\u5316\uff0c\u5927\u5927\u589e\u52a0\u4e86\u8fd9\u4e9b\u6570\u5b57\u5668\u4ef6\u5728\u73b0\u4ee3\u751f\u6d3b\u4e2d\u7684\u5e94\u7528\u8303\u56f4\uff0c\u8fdc\u8fdc\u8d85\u51fa\u4e86\u4e13\u7528\u8fd0\u7b97\u673a\u5668\u8fd9\u4e00\u6709\u9650\u7684\u5e94\u7528\u3002\u73b0\u4ee3\u5fae\u5904\u7406\u5668\u5df2\u7ecf\u968f\u5904\u53ef\u89c1\uff0c\u4ece\u6c7d\u8f66\u5230\u624b\u673a\uff0c\u751a\u81f3\u513f\u7ae5\u73a9\u5177\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.1.CPU.html#cpu","title":"CPU\u5de5\u4f5c\u8fc7\u7a0b","text":"<p>CPU\u548c\u5185\u5b58\u7531\u6570\u5b57\u96c6\u6210\u7535\u8def\uff08\u6570\u5b57\u82af\u7247\uff09\u6784\u6210\uff0c\u96c6\u6210\u7535\u8def\u901a\u5e38\u79f0\u4e3aIC\uff08Integrated Circuit\uff09\uff0c\u5b83\u7531\u6676\u4f53\u7ba1\u7ec4\u6210\uff0c\u6bcf\u4e00\u4e2a\u6676\u4f53\u7ba1\u5177\u6709ON/OFF\u4e24\u4e2a\u72b6\u6001\u3002CPU\u4e2d\u4e0d\u540c\u7684\u6570\u5b57\u7535\u8def\u5b9e\u73b0\u4e0d\u540c\u7684\u8fd0\u7b97\uff0c\u76f8\u540c\u7684\u8fd0\u7b97\u4e5f\u53ef\u4ee5\u7528\u4e0d\u540c\u7684\u6570\u5b57\u7535\u8def\u5b9e\u73b0\u3002CPU\u80fd\u5b9e\u73b0\u7684\u5404\u79cd\u6700\u57fa\u672c\u7684\u8fd0\u7b97\u7edf\u79f0\u4e3a\u6307\u4ee4\u96c6\uff0c\u800c CPU\u81ea\u8eab\u5c31\u662f\u4e00\u79cd\u6307\u4ee4\u96c6\u7684\u5b9e\u73b0\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u4ece\u8ba1\u7b97\u673a\u7ec4\u6210\u7684\u5c42\u6b21\u7ed3\u6784\u770b\uff0c\u8ba1\u7b97\u673a\u6307\u4ee4\u53c8\u5206\u4e3a\u5fae\u6307\u4ee4\u3001\u673a\u5668\u6307\u4ee4\u3001\u5b8f\u6307\u4ee4\u3002</p> <ol> <li> <p>\u5fae\u6307\u4ee4\uff1a\u5fae\u7a0b\u5e8f\u7ea7\u7684\u547d\u4ee4\uff0c\u5c5e\u4e8e\u786c\u4ef6\u3002</p> </li> <li> <p>\u5b8f\u6307\u4ee4\uff1a\u82e5\u5e72\u6761\u673a\u5668\u6307\u4ee4\u7ec4\u6210\u7684\u547d\u4ee4\uff0c\u5c5e\u4e8e\u8f6f\u4ef6\uff08\u6c47\u7f16\u8bed\u8a00\u7684\u5b8f\u6307\u4ee4\uff09\u3002</p> </li> <li> <p>\u673a\u5668\u6307\u4ee4\uff1a\u901a\u5e38\u6240\u8bf4\u7684\u6307\u4ee4\uff0c\u4ecb\u4e8e\u5fae\u6307\u4ee4\u548c\u5b8f\u6307\u4ee4\u4e4b\u524d \uff0c\u53ef\u5b8c\u6210\u4e00\u4e2a\u72ec\u7acb\u7684\u7b97\u672f\u8fd0\u7b97\u6216\u903b\u8f91\u8fd0\u7b97\u64cd\u4f5c\u3002\u673a\u5668\u6307\u4ee4\u662fCPU\u53ef\u4ee5\u76f4\u63a5\u8bc6\u522b\uff08\u6267\u884c\uff09\u7684\u6307\u4ee4\u3002 </p> </li> </ol> <p>CPU\u7684\u57fa\u672c\u5de5\u4f5c\u662f\u6267\u884c\u5185\u5b58\u4e2d\u7684\u6307\u4ee4\u5e8f\u5217\uff0c\u5373\u7a0b\u5e8f\u3002</p> <p>\u51e0\u4e4e\u6240\u6709\u7684\u51af\u8bfa\u4f0a\u66fc\u578b\u8ba1\u7b97\u673a\u7684CPU\uff0c\u5176\u5de5\u4f5c\u90fd\u53ef\u4ee5\u5206\u4e3a5\u4e2a\u9636\u6bb5\uff1a\u53d6\u6307\u4ee4\u3001\u6307\u4ee4\u8bd1\u7801\u3001\u6267\u884c\u6307\u4ee4\u3001\u8bbf\u5b58\u53d6\u6570\u548c\u7ed3\u679c\u5199\u56de\u3002\u5176\u4e2d\u53d6\u6307\u4ee4\u3001\u6307\u4ee4\u8bd1\u7801\u3001\u6267\u884c\u6307\u4ee4\u662f\u4e09\u4e2a\u4e0d\u53ef\u6216\u7f3a\u7684\u9636\u6bb5\u3002</p>  \u6307\u4ee4\u7684\u6267\u884c\u8fc7\u7a0b <p>\u8ba1\u7b97\u673a\u5728\u5de5\u4f5c\u65f6\uff0cCPU\u4f1a\u4e0d\u65ad\u91cd\u590d\u8fd95\u4e2a\u8fc7\u7a0b\uff0c\u9664\u975e\u9047\u5230\u505c\u673a\u6307\u4ee4\u3002</p> <p>1\uff0e\u53d6\u6307\u4ee4</p> <p>\u53d6\u6307\u4ee4\uff08Instruction Fetch\uff0cIF\uff09\u662f\u5c06\u4e00\u6761\u6307\u4ee4\u4ece\u4e3b\u5b58\u4e2d\u53d6\u5230\u6307\u4ee4\u5bc4\u5b58\u5668\u7684\u8fc7\u7a0b\u3002\u6307\u4ee4\u5148\u4ece\u5185\u5b58\u4e2d\u88ab\u53d6\u5230\u6570\u636e\u7f13\u51b2\u5bc4\u5b58\u5668\uff08DR\uff09\uff0c\u7136\u540e\u9001\u5165\u6307\u4ee4\u5bc4\u5b58\u5668\uff08IR\uff09\u3002</p> <p>2\uff0e\u6307\u4ee4\u8bd1\u7801</p> <p>\u53d6\u51fa\u6307\u4ee4\u540e\uff0c\u8ba1\u7b97\u673a\u7acb\u5373\u8fdb\u5165\u6307\u4ee4\u8bd1\u7801\uff08Instruction Decode\uff0cID\uff09\u9636\u6bb5\u3002</p> <p>\u5728\u6307\u4ee4\u8bd1\u7801\u9636\u6bb5\uff0c\u6307\u4ee4\u8bd1\u7801\u5668\uff08ID\uff09\u6309\u7167\u9884\u5b9a\u7684\u6307\u4ee4\u683c\u5f0f\uff0c\u5bf9\u6307\u4ee4\u5bc4\u5b58\u5668\uff08IR\uff09\u4e2d\u7684\u6307\u4ee4\u8fdb\u884c\u62c6\u5206\u548c\u89e3\u91ca\uff0c\u8bc6\u522b\u548c\u533a\u5206\u51fa\u4e0d\u540c\u7684\u6307\u4ee4\u7c7b\u522b\u53ca\u5404\u79cd\u83b7\u53d6\u64cd\u4f5c\u6570\u7684\u65b9\u6cd5\u3002</p> <p>\u5728\u7ec4\u5408\u903b\u8f91\u63a7\u5236\u7684\u8ba1\u7b97\u673a\u4e2d\uff0c\u6307\u4ee4\u8bd1\u7801\u5668\u5bf9\u4e0d\u540c\u7684\u6307\u4ee4\u64cd\u4f5c\u7801\u4ea7\u751f\u4e0d\u540c\u7684\u63a7\u5236\u7535\u4f4d\uff0c\u4ee5\u5f62\u6210\u4e0d\u540c\u7684\u5fae\u64cd\u4f5c\u5e8f\u5217\uff1b\u5728\u5fae\u7a0b\u5e8f\u63a7\u5236\u7684\u8ba1\u7b97\u673a\u4e2d\uff0c\u6307\u4ee4\u8bd1\u7801\u5668\u7528\u6307\u4ee4\u64cd\u4f5c\u7801\u627e\u5230\u6267\u884c\u8be5\u6307\u4ee4\u7684\u5fae\u7a0b\u5e8f\u7684\u5165\u53e3\uff0c\u5e76\u4ece\u6b64\u5165\u53e3\u5f00\u59cb\u6267\u884c\u3002</p> <p>\u5728\u4f20\u7edf\u7684\u8bbe\u8ba1\u91cc\uff0cCPU\u4e2d\u8d1f\u8d23\u6307\u4ee4\u8bd1\u7801\u7684\u90e8\u5206\u662f\u65e0\u6cd5\u6539\u53d8\u7684\u786c\u4ef6\u3002\u4e0d\u8fc7\uff0c\u5728\u4f17\u591a\u8fd0\u7528\u5fae\u7a0b\u5e8f\u63a7\u5236\u6280\u672f\u7684\u65b0\u578bCPU\u4e2d\uff0c\u5fae\u7a0b\u5e8f\u6709\u65f6\u662f\u53ef\u91cd\u5199\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u6210\u54c1CPU\u6765\u6539\u53d8CPU\u7684\u8bd1\u7801\u65b9\u5f0f\u3002</p> <p>3\uff0e\u6267\u884c\u6307\u4ee4\u9636\u6bb5</p> <p>\u5728\u53d6\u6307\u4ee4\u548c\u6307\u4ee4\u8bd1\u7801\u9636\u6bb5\u4e4b\u540e\uff0c\u63a5\u7740\u8fdb\u5165\u6267\u884c\u6307\u4ee4\uff08Execute\uff0cEX\uff09\u9636\u6bb5\u3002</p> <p>\u6b64\u9636\u6bb5\u7684\u4efb\u52a1\u662f\u5b8c\u6210\u6307\u4ee4\u6240\u89c4\u5b9a\u7684\u5404\u79cd\u64cd\u4f5c\uff0c\u5177\u4f53\u5b9e\u73b0\u6307\u4ee4\u7684\u529f\u80fd\u3002\u4e3a\u6b64\uff0cCPU\u7684\u4e0d\u540c\u90e8\u5206\u88ab\u8fde\u63a5\u8d77\u6765\uff0c\u4ee5\u6267\u884c\u6240\u9700\u7684\u64cd\u4f5c\u3002</p> <p>\u4f8b\u5982\uff0c\u5982\u679c\u8981\u6c42\u5b8c\u6210\u4e00\u4e2a\u52a0\u6cd5\u8fd0\u7b97\uff0c\u7b97\u672f\u903b\u8f91\u5355\u5143\uff08ALU\uff09\u5c06\u88ab\u8fde\u63a5\u5230\u4e00\u7ec4\u8f93\u5165\u548c\u4e00\u7ec4\u8f93\u51fa\uff0c\u8f93\u5165\u7aef\u63d0\u4f9b\u9700\u8981\u76f8\u52a0\u7684\u6570\u503c\uff0c\u800c\u8f93\u51fa\u7aef\u5c06\u542b\u6709\u6700\u540e\u7684\u8fd0\u7b97\u7ed3\u679c\u3002</p> <p>4\uff0e\u8bbf\u5b58\u53d6\u6570\u9636\u6bb5</p> <p>\u6839\u636e\u6307\u4ee4\u9700\u8981\uff0c\u6709\u53ef\u80fd\u8981\u8bbf\u95ee\u4e3b\u5b58\uff0c\u8bfb\u53d6\u64cd\u4f5c\u6570\uff0c\u8fd9\u6837\u5c31\u8fdb\u5165\u4e86\u8bbf\u5b58\u53d6\u6570\uff08Memory\uff0cMEM\uff09\u9636\u6bb5\u3002</p> <p>\u6b64\u9636\u6bb5\u7684\u4efb\u52a1\u662f\uff1a\u6839\u636e\u6307\u4ee4\u5730\u5740\u7801\uff0c\u5f97\u5230\u64cd\u4f5c\u6570\u5728\u4e3b\u5b58\u4e2d\u7684\u5730\u5740\uff0c\u5e76\u4ece\u4e3b\u5b58\u4e2d\u8bfb\u53d6\u8be5\u64cd\u4f5c\u6570\u7528\u4e8e\u8fd0\u7b97\u3002</p> <p>5\uff0e\u7ed3\u679c\u5199\u56de\u9636\u6bb5</p> <p>\u4f5c\u4e3a\u6700\u540e\u4e00\u4e2a\u9636\u6bb5\uff0c\u7ed3\u679c\u5199\u56de\uff08Writeback\uff0cWB\uff09\u9636\u6bb5\u628a\u6267\u884c\u6307\u4ee4\u9636\u6bb5\u7684\u8fd0\u884c\u7ed3\u679c\u6570\u636e\u201c\u5199\u56de\u201d\u5230\u67d0\u79cd\u5b58\u50a8\u5f62\u5f0f\u3002\u7ed3\u679c\u6570\u636e\u7ecf\u5e38\u88ab\u5199\u5230CPU\u7684\u5185\u90e8\u5bc4\u5b58\u5668\u4e2d\uff0c\u4ee5\u4fbf\u88ab\u540e\u7eed\u7684\u6307\u4ee4\u5feb\u901f\u5730\u5b58\u53d6\u3002\u5728\u6709\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7ed3\u679c\u6570\u636e\u4e5f\u53ef\u88ab\u5199\u5165\u76f8\u5bf9\u8f83\u6162\u3001\u4f46\u8f83\u5ec9\u4ef7\u4e14\u5bb9\u91cf\u8f83\u5927\u7684\u4e3b\u5b58\u3002\u8bb8\u591a\u6307\u4ee4\u8fd8\u4f1a\u6539\u53d8\u7a0b\u5e8f\u72b6\u6001\u5b57\u5bc4\u5b58\u5668\u4e2d\u6807\u5fd7\u4f4d\u7684\u72b6\u6001\uff0c\u8fd9\u4e9b\u6807\u5fd7\u4f4d\u6807\u8bc6\u7740\u4e0d\u540c\u7684\u64cd\u4f5c\u7ed3\u679c\uff0c\u53ef\u88ab\u7528\u6765\u5f71\u54cd\u7a0b\u5e8f\u7684\u52a8\u4f5c\u3002</p> <p>\u5728\u6307\u4ee4\u6267\u884c\u5b8c\u6bd5\u3001\u7ed3\u679c\u6570\u636e\u5199\u56de\u4e4b\u540e\uff0c\u82e5\u65e0\u610f\u5916\u4e8b\u4ef6\uff08\u5982\u7ed3\u679c\u6ea2\u51fa\u7b49\uff09\u53d1\u751f\uff0c\u8ba1\u7b97\u673a\u5c31\u63a5\u7740\u4ece\u7a0b\u5e8f\u8ba1\u6570\u5668PC\u4e2d\u53d6\u5f97\u4e0b\u4e00\u6761\u6307\u4ee4\u5730\u5740\uff0c\u5f00\u59cb\u65b0\u4e00\u8f6e\u7684\u5faa\u73af\uff0c\u4e0b\u4e00\u4e2a\u6307\u4ee4\u5468\u671f\u5c06\u6b63\u5e38\u5730\u987a\u5e8f\u53d6\u51fa\u4e0b\u4e00\u6761\u6307\u4ee4\u3002</p> <p>\u8bb8\u591a\u65b0\u578bCPU\u53ef\u4ee5\u540c\u65f6\u53d6\u51fa\u3001\u8bd1\u7801\u548c\u6267\u884c\u591a\u6761\u6307\u4ee4\uff0c\u4f53\u73b0\u51fa\u5e76\u884c\u5904\u7406\u7684\u7279\u6027\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.1.CPU.html#cpu_1","title":"CPU\u90e8\u4ef6","text":"CPU\u4e3b\u8981\u903b\u8f91\u7ed3\u6784 <p>\u4ece\u529f\u80fd\u65b9\u9762\u6765\u770b\uff0cCPU\u7684\u5185\u90e8\u7531\u5bc4\u5b58\u5668\u3001\u63a7\u5236\u5668\u3001\u8fd0\u7b97\u5668\u548c\u65f6\u949f\u56db\u4e2a\u90e8\u4ef6\u6784\u6210\uff0c\u5176\u4e2d\uff0c\u63a7\u5236\u5668\u548c\u8fd0\u7b97\u5668\u662fCPU\u4e0d\u53ef\u6216\u7f3a\u7684\u90e8\u4ef6\u3002\u5404\u90e8\u4ef6\u4e4b\u95f4\u7531\u7535\u6d41\u4fe1\u53f7\u76f8\u4e92\u8fde\u901a\u3002</p> <ul> <li> <p>\u5bc4\u5b58\u5668\u7528\u6765\u6682\u5b58\u6307\u4ee4\u3001\u6570\u636e\u7b49\u5904\u7406\u5bf9\u8c61\uff0c\u662f\u50a8\u5b58\u5668\u7684\u4e00\u79cd\u3002\u6839\u636e\u79cd\u7c7b\u7684\u4e0d\u540c\uff0c\u4e00\u4e2a CPU \u5185\u90e8\u4f1a\u670920\uff5e100\u4e2a\u5bc4\u5b58\u5668\u3002</p> </li> <li> <p>\u63a7\u5236\u5668\u8d1f\u8d23\u628a\u5185\u5b58\u4e0a\u7684\u6307\u4ee4\u3001\u6570\u636e\u7b49\u8bfb\u5165\u5bc4\u5b58\u5668\uff0c\u5e76\u6839\u636e\u6307\u4ee4\u7684\u6267\u884c\u7ed3\u679c\u6765\u63a7\u5236\u6574\u4e2a\u8ba1\u7b97\u673a\u3002</p> </li> <li> <p>\u8fd0\u7b97\u5668\u8d1f\u8d23\u8fd0\u7b97\u4ece\u5185\u5b58\u8bfb\u5165\u5bc4\u5b58\u5668\u7684\u6570\u636e\u3002</p> </li> <li> <p>\u65f6\u949f\u8d1f\u8d23\u53d1\u51fa CPU \u5f00\u59cb\u8ba1\u65f6\u7684\u65f6\u949f\u4fe1\u53f7\u3002\u4e0d\u8fc7\uff0c\u4e5f\u6709\u4e9b\u8ba1\u7b97\u673a\u7684\u65f6\u949f\u4f4d\u4e8e CPU \u7684\u5916\u90e8\u3002</p> </li> </ul>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.1.CPU.html#_2","title":"\u5bc4\u5b58\u5668","text":"<p>\u5206\u4e3a\u901a\u7528\u5bc4\u5b58\u5668\u548c\u4e13\u7528\u5bc4\u5b58\u5668\u3002\u4e13\u7528\u5bc4\u5b58\u5668\u4f5c\u7528\u662f\u56fa\u5b9a\u7684\uff0c\u5982\u63a7\u5236\u5668\u548c\u8fd0\u7b97\u5668\u4e2d\u7684\u5bc4\u5b58\u5668\u3002\u800c\u901a\u7528\u5bc4\u5b58\u5668\u53ef\u4ee5\u7531\u7a0b\u5e8f\u5458\u6307\u5b9a\u7528\u9014\u3002</p> <p>\u6839\u636e\u529f\u80fd\u7684\u4e0d\u540c\uff0c\u53ef\u4ee5\u5c06\u5bc4\u5b58\u5668\u5927\u81f4\u5212\u5206\u4e3a\u516b\u7c7b\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\u5bc4\u5b58\u5668\u4e2d\u5b58\u50a8\u7684\u5185\u5bb9\u65e2\u53ef\u4ee5\u662f\u6307\u4ee4\u4e5f\u53ef\u4ee5\u662f\u6570\u636e\u3002\u5176\u4e2d\uff0c\u6570\u636e\u5206\u4e3a\u201c\u7528\u4e8e\u8fd0\u7b97\u7684\u6570\u503c\u201d\u548c\u201c\u8868\u793a\u5185\u5b58\u5730\u5740\u7684\u6570\u503c\u201d\u4e24\u79cd\u3002 \u6570\u636e\u79cd\u7c7b\u4e0d\u540c\uff0c\u5b58\u50a8\u8be5\u6570\u503c\u7684\u5bc4\u5b58\u5668\u4e5f\u4e0d\u540c\u3002CPU \u4e2d\u6bcf\u4e2a\u5bc4\u5b58\u5668\u7684\u529f\u80fd\u90fd\u662f\u4e0d\u540c\u7684\u3002</p> \u79cd\u7c7b \u529f\u80fd \u7d2f\u52a0\u5bc4\u5b58\u5668 accumulator \u5b58\u50a8\u6267\u884c\u8fd0\u7b97\u7684\u6570\u636e\u548c\u8fd0\u7b97\u540e\u7684\u6570\u636e \u6807\u5fd7\u5bc4\u5b58\u5668 flag register \u5b58\u50a8\u8fd0\u7b97\u5904\u7406\u540e\u7684 CPU \u7684\u72b6\u6001 \u7a0b\u5e8f\u8ba1\u6570\u5668 program counter \u5b58\u50a8\u4e0b\u4e00\u6761\u6307\u4ee4\u6240\u5728\u5185\u5b58\u7684\u5730\u5740 \u57fa\u5740\u5bc4\u5b58\u5668 base register \u5b58\u50a8\u6570\u636e\u5185\u5b58\u7684\u8d77\u59cb\u5730\u5740 \u53d8\u5740\u5bc4\u5b58\u5668 index register \u5b58\u50a8\u57fa\u5740\u5bc4\u5b58\u5668\u7684\u76f8\u5bf9\u5730\u5740 \u901a\u7528\u5bc4\u5b58\u5668 general purpose register \u5b58\u50a8\u4efb\u610f\u6570\u636e \u6307\u4ee4\u5bc4\u5b58\u5668 instruction register \u5b58\u50a8\u6307\u4ee4\u3002CPU \u5185\u90e8\u4f7f\u7528\uff0c\u7a0b\u5e8f\u5458\u65e0\u6cd5\u901a\u8fc7\u7a0b\u5e8f\u5bf9\u8be5\u5bc4\u5b58\u5668\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c \u6808\u5bc4\u5b58\u5668 stack register \u5b58\u50a8\u6808\u533a\u57df\u7684\u8d77\u59cb\u5730\u5740 <p>\u5176\u4e2d\u7a0b\u5e8f\u8ba1\u6570\u5668\u3001\u7d2f\u52a0\u5bc4\u5b58\u5668\u3001\u6807\u5fd7\u5bc4\u5b58\u5668\u3001\u6307\u4ee4\u5bc4\u5b58\u5668\u548c\u6808\u5bc4\u5b58\u5668\u90fd\u53ea\u6709\u4e00\u4e2a\uff0c\u5176\u4ed6\u5bc4\u5b58\u5668\u4e00\u822c\u6709\u591a\u4e2a\u3002</p> <p>\u5bc4\u5b58\u5668\u5bf9\u7a0b\u5e8f\u5458\u6765\u8bf4\u6bd4\u8f83\u7279\u6b8a\uff0c\u56e0\u4e3a\u5728\u6c47\u7f16\u8bed\u8a00\u4e2d\uff0c\u7a0b\u5e8f\u5458\u9700\u8981\u76f4\u63a5\u64cd\u7eb5\u5bc4\u5b58\u5668\uff1a</p> <pre><code># \u6c47\u7f16\u8bed\u8a00\u7f16\u5199\u7684\u7a0b\u5e8f\u793a\u4f8b\nmov  eax, dword ptr [ebp-8]    # \u628a\u6570\u503c\u4ece\u5185\u5b58\u590d\u5236\u5230 eax\nadd  eax, dword ptr [ebp-0Ch]  # exa \u7684\u6570\u503c\u548c\u5185\u5b58\u7684\u6570\u503c\u76f8\u52a0\nmov  dword ptr [ebp-4], eax    # \u628a exa \u7684\u6570\u503c\uff08\u4e0a\u4e00\u6b65\u7684\u76f8\u52a0\u7ed3\u679c\uff09\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\n</code></pre> <p>eax \u548c ebp \u662f CPU \u5185\u90e8\u7684\u5bc4\u5b58\u5668\u7684\u540d\u79f0\u3002\u5185\u5b58\u7684\u5b58\u50a8\u573a\u6240\u901a\u8fc7\u5730\u5740\u7f16\u53f7\u6765\u533a\u5206\uff0c\u800c\u5bc4\u5b58\u5668\u7684\u79cd\u7c7b\u5219\u901a\u8fc7\u540d\u5b57\u6765\u533a\u5206\u3002 </p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.1.CPU.html#_3","title":"\u8fd0\u7b97\u5668","text":"<ul> <li>\u7b97\u672f\u903b\u8f91\u5355\u5143\uff08Arithmetic and Logic Unit, <code>ALU</code>\uff09\uff1a\u8d1f\u8d23\u5bf9\u6570\u636e\u8fdb\u884c\u7b97\u672f\u8fd0\u7b97\u548c\u903b\u8f91\u8fd0\u7b97\u3002</li> <li>\u7d2f\u52a0\u5bc4\u5b58\u5668\uff08<code>AC</code>\uff09\uff1a\u7d2f\u52a0\u5668\uff0c\u901a\u7528\u5bc4\u5b58\u5668\uff0c\u4e3a <code>ALU</code>\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5de5\u4f5c\u533a\u3002</li> <li>\u6570\u636e\u7f13\u51b2\u5bc4\u5b58\u5668\uff08<code>DR</code>\uff09\uff1a\u4e3aCPU\u548c\u5185\u5b58\u3001\u5916\u56f4\u8bbe\u5907\u4e4b\u95f4\u6570\u636e\u4f20\u9001\u7684\u4e2d\u8f6c\u7ad9\u3001\u7f13\u51b2\u3002</li> <li>\u72b6\u6001\u6761\u4ef6\u5bc4\u5b58\u5668\uff08<code>PSW</code>\uff09\uff1a\u5305\u62ec\u72b6\u6001\u6807\u51c6\u548c\u63a7\u5236\u6807\u5fd7\uff0c\u4f8b\u5982\u8fdb\u4f4d(C)\u3001\u6ea2\u51fa(V)\u3001\u8fd0\u7b97\u7ed3\u679c\u4e3a0\uff08Z\uff09\u3001\u8fd0\u7b97\u7ed3\u679c\u4e3a\u8d1f\u503c\uff08N\uff09\u3001\u4e2d\u65ad\uff08I\uff09\u7b49\u3002</li> </ul>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.1.CPU.html#_4","title":"\u63a7\u5236\u5668","text":"<p>\u63a7\u5236\u5668\u7528\u4e8e\u63a7\u5236\u6574\u4e2aCPU\u7684\u5de5\u4f5c\u3002\u4e00\u822c\u5305\u62ec\uff1a</p> <ul> <li>\u6307\u4ee4\u5bc4\u5b58\u5668\uff08<code>IR</code>\uff09\uff1a\u5f53CPU\u6267\u884c\u4e00\u6761\u6307\u4ee4\u65f6\uff0c\u5148\u628a\u5b83\u4ece\u5185\u5b58\u4e2d\u53d6\u5230 <code>DR</code>\uff0c\u7136\u540e\u9001\u5165 <code>IR</code>\u6682\u5b58\u3002\u6307\u4ee4\u8bd1\u7801\u5668\u6839\u636e <code>IR</code>\u7684\u5185\u5bb9\u4ea7\u751f\u5404\u79cd\u5fae\u64cd\u4f5c\u6307\u4ee4\uff0c\u63a7\u5236\u5176\u4ed6\u90e8\u4ef6\u5b8c\u6210\u5de5\u4f5c\u3002</li> <li>\u7a0b\u5e8f\u8ba1\u6570\u5668\uff08<code>PC</code>\uff09: \u53c8\u79f0\u4e4b\u4e3a\u6307\u4ee4\u8ba1\u6570\u5668\uff0c<code>PC</code>\u6709\u5bc4\u5b58\u4fe1\u606f\u548c\u8ba1\u6570\u4e24\u4e2a\u529f\u80fd\u3002\u6267\u884c\u6307\u4ee4\u65f6\uff0cCPU\u5c06\u81ea\u52a8\u4fee\u6539 <code>PC</code>\u5185\u5bb9\uff0c\u4f7f\u5176\u4fdd\u6301\u7684\u603b\u662f\u5c06\u8981\u6267\u884c\u7684\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\u3002</li> <li>\u5730\u5740\u5bc4\u5b58\u5668\uff08<code>AR</code>\uff09: \u4fdd\u5b58\u4e86\u5f53\u524dCPU\u6240\u8bbf\u95ee\u5185\u5bb9\u5355\u5143\u7684\u5730\u5740\uff0c\u76f4\u5230\u5bf9\u5185\u5b58\u7684\u8bfb\u5199\u64cd\u4f5c\u5b8c\u6210\u3002</li> <li>\u6307\u4ee4\u8bd1\u7801\u5668\uff08<code>ID</code>\uff09: \u6307\u4ee4\u5206\u4e3a\u64cd\u4f5c\u7801\u548c\u5730\u5740\u7801\u4e24\u90e8\u5206\u3002<code>ID</code>\u662f\u5bf9\u6307\u4ee4\u4e2d\u7684\u64cd\u4f5c\u7801\u5b57\u6bb5\u8fdb\u884c\u5206\u6790\u89e3\u91ca\uff0c\u8bc6\u522b\u6307\u4ee4\u89c4\u5b9a\u7684\u64cd\u4f5c\uff0c\u5411\u64cd\u4f5c\u63a7\u5236\u5668\u53d1\u51fa\u5177\u4f53\u7684\u63a7\u5236\u4fe1\u53f7\uff0c\u63a7\u5236\u5404\u90e8\u4ef6\u5b8c\u6210\u5de5\u4f5c\u3002</li> </ul> <p>\u5176\u4ed6\u8fd8\u5305\u62ec\uff1a</p> <ul> <li>\u65f6\u5e8f\u63a7\u5236\u5668\uff1a\u4e3a\u6bcf\u6761\u6307\u4ee4\u6309\u65f6\u95f4\u987a\u5e8f\u63d0\u4f9b\u6709\u6548\u7684\u63a7\u5236\u4fe1\u53f7\u3002</li> <li>\u603b\u7ebf\u903b\u8f91\uff1a\u4fe1\u606f\u901a\u8def\u7684\u63a7\u5236\u7535\u8def\u3002</li> <li>\u4e2d\u65ad\u63a7\u5236\u5668\uff1a\u7528\u4e8e\u63a7\u5236\u5404\u79cd\u4e2d\u65ad\u8bf7\u6c42\uff0c\u5e76\u6839\u636e\u4f18\u5148\u7ea7\u8fdb\u884c\u6392\u961f\uff0c\u9010\u4e2a\u4ea4\u7ed9CPU\u5904\u7406\u3002</li> <li>e.t.c</li> </ul>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.1.CPU.html#_5","title":"\u6d41\u6c34\u7ebf\u6280\u672f","text":"<p>CPU\u53ef\u4ee5\u6709\u5206\u5f00\u7684\u53d6\u503c\u5355\u5143\u3001\u89e3\u7801\u5355\u5143\u3001\u548c\u6267\u884c\u5355\u5143\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u5fc5\u7b49\u5230\u4e00\u6761\u6307\u4ee4\u4ece\u5934\u5230\u5c3e\u6267\u884c\u5b8c\u6bd5\u540e\u518d\u5f00\u59cb\u5904\u7406\u4e0b\u4e00\u6761\u6307\u4ee4\u3002\u4e09\u7ea7\u6d41\u6c34\u7ebf\u5176\u793a\u610f\u56fe\u4e3a\uff1a</p> <pre><code>// \u6d41\u6c34\u7ebf\u6280\u672f\n^\n|                                           X : \u53d6\u6307\u6d41\u6c34\u7ebf\n|                                           Y : \u89e3\u7801\u6d41\u6c34\u7ebf\n|                                           Z : \u6267\u884c\u6d41\u6c34\u7ebf\n|\n|\n+-------+ +------+------+-----------------+-----+\nX      |  1   |  2   |       ...       |  n  |\n+-------+ +----------+------+-------------+----------+\nY      |      | 1 |  | 2 |      ...          | n  |\n+-------+ |      +------+---------+-----+-----+-+---------+\nZ      |          |  1   |  2  |  3  | ... |      | n  |   \u65f6\u95f4\n+-------+ +-----------------+-----+-----+-----+------------------&gt;\n|XXXXXX|YYY|                               |ZZZZ|\n|XXXXXX|YYY|                               |ZZZZ|\n+----------+                               +----+\n</code></pre> <p>\u5728\u67d0\u4e2a\u65f6\u523b\uff0c\u7b2c\u4e00\u6761\u6307\u4ee4\u53d6\u6307\u5b8c\u6210\uff08\u5bf9\u5e94\u56fe\u4e2dXXXXXX\u6807\u6ce8\u533a\u57df\uff09\uff0c\u89e3\u7801\u6d41\u6c34\u7ebf\u7acb\u5373\u5f00\u59cb\u7b2c\u4e00\u6761\u6307\u4ee4\u7684\u89e3\u7801\uff0c\u540c\u65f6\u53d6\u6307\u6d41\u6c34\u7ebf\u5f00\u59cb\u5bf9\u7b2c\u4e8c\u6761\u6307\u4ee4\u7684\u53d6\u6307\uff1b\u7b2c\u4e00\u6761\u6307\u4ee4\u7684\u89e3\u7801\u64cd\u4f5c\u5b8c\u6210\u4e4b\u540e\uff08\u5bf9\u5e94\u56fe\u4e2dYYYY\u6807\u6ce8\u533a\u57df\uff09\uff0c\u6267\u884c\u6d41\u6c34\u7ebf\u5f00\u59cb\u5bf9\u7b2c\u4e00\u6761\u6307\u4ee4\u7684\u6267\u884c\u64cd\u4f5c\uff0c\u540c\u65f6\u89e3\u7801\u6d41\u6c34\u7ebf\u7b49\u5f85\u7b2c\u4e8c\u6761\u6307\u4ee4\u9001\u8fbe\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.1.CPU.html#_6","title":"\u53c2\u8003","text":"<ol> <li>CPU\u7684\u529f\u80fd\u548c\u7ec4\u6210</li> <li>CPU\u7684\u5de5\u4f5c\u8fc7\u7a0b</li> <li>\u64cd\u4f5c\u7cfb\u7edf\u7b14\u8bb0 \u786c\u4ef6\u57fa\u7840\u2014\u2014CPU</li> </ol>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.2.Memory.html","title":"1.2.Memory","text":"<p>\u901a\u5e38\u6240\u8bf4\u7684\u5185\u5b58\u6307\u7684\u662f\u8ba1\u7b97\u673a\u7684\u4e3b\u5b58\u50a8\u5668\uff08main memory\uff09\uff0c\u7b80\u79f0\u4e3b\u5b58\u3002\u4e3b\u5b58\u901a\u8fc7\u63a7\u5236\u82af\u7247\u7b49\u4e0e CPU \u76f8\u8fde\uff0c \u4e3b\u8981\u8d1f\u8d23\u5b58\u50a8\u6307\u4ee4\u548c\u6570\u636e\u3002\u4e3b\u5b58\u7531\u53ef\u8bfb\u5199\u7684\u5143\u7d20\u6784\u6210\uff0c\u6bcf\u4e2a\u5b57\u8282\uff081 Byte = 8 bit \uff09\u90fd\u5e26\u6709\u4e00\u4e2a\u5730\u5740\u7f16\u53f7\u3002CPU \u53ef\u4ee5\u901a\u8fc7\u8be5\u5730\u5740\u8bfb\u53d6\u4e3b\u5b58\u4e2d\u7684\u6307\u4ee4\u548c\u6570\u636e\uff0c\u4ee5\u53ca\u5199\u5165\u6570\u636e\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.2.Memory.html#_1","title":"\u5982\u4f55\u901a\u8fc7\u5185\u5b58\u7d22\u5f15\u6570\u636e\uff1f","text":"<p>\u5185\u5b58\u7684\u6784\u6210\u5355\u4f4d\u662f\u4e00\u4e2a\u5b57\u8282\uff088\u4f4d\uff09\uff0c\u6bcf\u4e00\u4e2a\u5b57\u8282\u90fd\u6709\u4e00\u4e2a\u5730\u5740\u7f16\u53f7\uff0c\u8fd9\u4e2a\u5730\u5740\u7f16\u53f7\u662f\u5b83\u7684\u903b\u8f91\u5730\u5740\u3002</p> <p>CPU\u4e2d\u7684\u5bc4\u5b58\u5668\uff08\u57fa\u5740\u5bc4\u5b58\u5668\u3001\u53d8\u5740\u5bc4\u5b58\u5668\uff09\u4f1a\u50a8\u5b58\u4e2d\u88ab\u8fd0\u7b97\u7684\u6570\u636e\u7684\u7f16\u53f7\u5730\u5740\u3002CPU\u5bc4\u5b58\u5668\u7684\u7a7a\u95f4\u5927\u5c0f\u51b3\u5b9a\u4e86CPU\u80fd\u8bc6\u522b\u591a\u5927\u7684\u5185\u5b58\u3002</p> <p>\u6bd4\u5982\u8bf4\uff0c\u4e00\u4e2a32\u4f4d\u7684\u5bc4\u5b58\u5668\uff0c\u5b83\u80fd\u8868\u793a\u7684\u6700\u5927\u6570\u4e3a$2{32}-1=4294967295$\uff08\u5341\u8fdb\u5236\u6570\uff0c\u4ece0\u5f00\u59cb\uff1b\u6362\u621016\u8fdb\u5236\u6570\u5c31\u662fFFFFFFFF\uff09\u3002\u4e5f\u5c31\u662f\u8bf4\u5b83\u80fd\u8868\u793a$2=4294967296$\u79cd\u72b6\u6001\u3002\u800c4g\u7684\u5185\u5b58\u4e00\u5171\u6709$4\\times1024\\times1024\\times1024=4294967296$\u4e2abyte\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e00\u4e2a\u5177\u670932\u4f4d\u7684\u5bc4\u5b58\u5668\u7684CPU\u6700\u591a\u80fd\u8bc6\u522b4g\u7684\u5185\u5b58\u3002</p> <p>\u901a\u8fc7\u57fa\u5740\u5bc4\u5b58\u5668\u548c\u53d8\u5740\u5bc4\u5b58\u5668\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u4e3b\u5185\u5b58\u4e0a\u7279\u5b9a\u7684\u5185\u5b58\u533a\u57df\u8fdb\u884c\u5212\u5206\u3002\u9996\u5148\uff0c\u6211\u4eec\u7528\u5341\u516d\u8fdb\u5236\u6570 \u5c06\u8ba1\u7b97\u673a\u5185\u5b58\u4e0a 00000000\uff5eFFFFFFFF\u7684\u5730\u5740\u5212\u5206\u51fa\u6765\u3002\u90a3\u4e48\uff0c\u51e1\u662f\u8be5\u8303\u56f4\u7684\u5185\u5b58\u533a\u57df\uff0c\u53ea\u8981\u6709\u4e00\u4e2a 32 \u4f4d\u7684 \u5bc4\u5b58\u5668\uff0c\u5373\u53ef\u67e5\u770b\u5168\u90e8\u7684\u5185\u5b58\u5730\u5740\u3002</p> <p>CPU\u6240\u751f\u6210\u7684\u5730\u5740\u901a\u5e38\u79f0\u4e3a\u903b\u8f91\u5730\u5740(logical address)\uff0c\u800c\u5185\u5b58\u5355\u5143\u6240\u770b\u5230\u7684\u5730\u5740\uff08\u5373\u52a0\u8f7d\u5230\u5185\u5b58\u5730\u5740\u5bc4\u5b58\u5668(memory-address register)\u4e2d\u7684\u5730\u5740\uff09\u901a\u5e38\u79f0\u4e3a\u7269\u7406\u5730\u5740(physical address)\u3002</p> <p>\u903b\u8f91\u5730\u5740\u4e0e\u7269\u7406\u5730\u5740\u7684\u5bf9\u5e94\u5173\u7cfb\u5e76\u4e0d\u662f\u56fa\u5b9a\u4e0d\u53d8\u7684\uff0c\u8fd9\u53d6\u51b3\u4e8e\u6267\u884c\u7684\u5730\u5740\u7ed1\u5b9a\u65b9\u6848\u3002\u56e0\u6b64\uff0c\u903b\u8f91\u5730\u5740\u53c8\u79f0\u4e3a\u865a\u62df\u5730\u5740\u3002\u865a\u62df\u5730\u5740\u901a\u8fc7\u6620\u5c04\u4e0e\u7269\u7406\u5730\u5740\u5bf9\u5e94\u8d77\u6765\u3002\u5b8c\u6210\u8fd9\u79cd\u6620\u5c04\u7684\u786c\u4ef6\u8bbe\u5907\u662f\u5185\u5b58\u7ba1\u7406\u5355\u5143(memory-management unit, MMU)\uff0c\u5b8c\u6210\u6620\u5c04\u7684\u65b9\u6cd5\u6709\u591a\u79cd\uff0c\u4e5f\u5c31\u662f\u5730\u5740\u7ed1\u5b9a\u65b9\u6848\u6709\u591a\u79cd\u3002\u7a0b\u5e8f\u65e0\u6cd5\u8bbf\u95ee\u7269\u7406\u5730\u5740\uff0c\u53ea\u80fd\u57fa\u4e8e\u865a\u62df\u5730\u5740\u8fdb\u884c\u64cd\u4f5c\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.3.%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html","title":"1.3.\u57fa\u672c\u6982\u5ff5","text":""},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.3.%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#_1","title":"\u7a0b\u5e8f\u548c\u7f16\u7a0b\u8bed\u8a00","text":"<p>\u7a0b\u5e8f\uff08Program\uff09\u544a\u8bc9\u8ba1\u7b97\u673a\u5e94\u5982\u4f55\u5b8c\u6210\u4e00\u4e2a\u8ba1\u7b97\u4efb\u52a1\uff0c\u8fd9\u91cc\u7684\u8ba1\u7b97\u53ef\u4ee5\u662f\u6570\u5b66\u8fd0\u7b97\uff0c\u6bd4\u5982\u89e3\u65b9\u7a0b\uff0c\u4e5f\u53ef\u4ee5\u662f\u7b26\u53f7\u8fd0\u7b97\uff0c\u6bd4\u5982\u67e5\u627e\u548c\u66ff\u6362\u6587\u6863\u4e2d\u7684\u67d0\u4e2a\u5355\u8bcd\u3002\u4ece\u6839\u672c\u4e0a\u8bf4\uff0c\u8ba1\u7b97\u673a\u662f\u7531\u6570\u5b57\u7535\u8def\u7ec4\u6210\u7684\u8fd0\u7b97\u673a\u5668\uff0c\u53ea\u80fd\u5bf9\u6570\u5b57\u505a\u8fd0\u7b97\uff0c\u7a0b\u5e8f\u4e4b\u6240\u4ee5\u80fd\u505a\u7b26\u53f7\u8fd0\u7b97\uff0c\u662f\u56e0\u4e3a\u7b26\u53f7\u5728\u8ba1\u7b97\u673a\u5185\u90e8\u4e5f\u662f\u7528\u6570\u5b57\u8868\u793a\u7684\u3002 \u6b64\u5916\uff0c\u7a0b\u5e8f\u8fd8\u53ef\u4ee5\u5904\u7406\u58f0\u97f3\u548c\u56fe\u50cf\uff0c\u58f0\u97f3\u548c\u56fe\u50cf\u5728\u8ba1\u7b97\u673a\u5185\u90e8\u5fc5\u7136\u4e5f\u662f\u7528\u6570\u5b57\u8868\u793a\u7684\uff0c\u8fd9\u4e9b\u6570\u5b57\u7ecf\u8fc7\u4e13\u95e8\u7684\u786c\u4ef6\u8bbe\u5907\u8f6c\u6362\u6210\u4eba\u53ef\u4ee5\u542c\u5230\u3001\u770b\u5230\u7684\u58f0\u97f3\u548c\u56fe\u50cf\u3002 </p> <p>\u7a0b\u5e8f\u7531\u4e00\u7cfb\u5217\u6307\u4ee4\uff08Instruction\uff09\u7ec4\u6210\uff0c\u6307\u4ee4\u662f\u6307\u793a\u8ba1\u7b97\u673a\u505a\u67d0\u79cd\u8fd0\u7b97\u7684\u547d\u4ee4\uff0c\u901a\u5e38\u5305\u62ec\u4ee5\u4e0b\u51e0\u7c7b\uff1a </p> <ul> <li> <p>\u8f93\u5165\uff08Input\uff09\uff1a\u4ece\u952e\u76d8\u3001\u6587\u4ef6\u6216\u8005\u5176\u5b83\u8bbe\u5907\u83b7\u53d6\u6570\u636e\u3002</p> </li> <li> <p>\u8f93\u51fa\uff08Output\uff09\uff1a\u628a\u6570\u636e\u663e\u793a\u5230\u5c4f\u5e55\uff0c\u6216\u8005\u5b58\u5165\u4e00\u4e2a\u6587\u4ef6\uff0c\u6216\u8005\u53d1\u9001\u5230\u5176\u5b83\u8bbe\u5907\u3002</p> </li> <li> <p>\u57fa\u672c\u8fd0\u7b97\uff1a\u6267\u884c\u6700\u57fa\u672c\u7684\u6570\u5b66\u8fd0\u7b97\uff08\u52a0\u51cf\u4e58\u9664\uff09\u548c\u6570\u636e\u5b58\u53d6\u3002</p> </li> <li> <p>\u6d4b\u8bd5\u548c\u5206\u652f\uff1a\u6d4b\u8bd5\u67d0\u4e2a\u6761\u4ef6\uff0c\u7136\u540e\u6839\u636e\u4e0d\u540c\u7684\u6d4b\u8bd5\u7ed3\u679c\u6267\u884c\u4e0d\u540c\u7684\u540e\u7eed\u6307\u4ee4\u3002</p> </li> <li> <p>\u5faa\u73af\uff1a\u91cd\u590d\u6267\u884c\u4e00\u7cfb\u5217\u64cd\u4f5c\u3002</p> </li> </ul> <p>\u5bf9\u4e8e\u7a0b\u5e8f\u6765\u8bf4\uff0c\u6709\u4e0a\u9762\u8fd9\u51e0\u7c7b\u6307\u4ee4\u5c31\u8db3\u591f\u4e86\u3002\u4efb\u4f55\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u4e0d\u7ba1\u5b83\u6709\u591a\u4e48\u590d\u6742\uff0c\u90fd\u662f\u7531\u8fd9\u51e0\u7c7b\u6307\u4ee4\u7ec4\u6210\u7684\u3002\u7a0b\u5e8f\u662f\u90a3\u4e48\u7684\u590d\u6742\uff0c\u800c\u7f16\u5199\u7a0b\u5e8f\u53ef\u4ee5\u7528\u7684\u6307\u4ee4\u5374\u53ea\u6709\u8fd9\u4e48\u7b80\u5355\u7684\u51e0\u79cd\uff0c\u8fd9\u4e2d\u95f4\u5de8\u5927\u7684\u843d\u5dee\u5c31\u8981\u7531\u7a0b\u5e8f\u5458\u53bb\u586b\u4e86\uff0c\u6240\u4ee5\u7f16\u5199\u7a0b\u5e8f\u7406\u5e94\u662f\u4e00\u4ef6\u76f8\u5f53\u590d\u6742\u7684\u5de5\u4f5c\u3002\u7f16\u5199\u7a0b\u5e8f\u53ef\u4ee5\u8bf4\u5c31\u662f\u8fd9\u6837\u4e00\u4e2a\u8fc7\u7a0b\uff1a\u628a\u590d\u6742\u7684\u4efb\u52a1\u5206\u89e3\u6210\u5b50\u4efb\u52a1\uff0c\u628a\u5b50\u4efb\u52a1\u518d\u5206\u89e3\u6210\u66f4\u7b80\u5355\u7684\u4efb\u52a1\uff0c\u5c42\u5c42\u5206\u89e3\uff0c\u76f4\u5230\u6700\u540e\u7b80\u5355\u5f97\u53ef\u4ee5\u7528\u4ee5\u4e0a\u6307\u4ee4\u6765\u5b8c\u6210\u3002</p> <p>\u6309\u7167\u5bf9\u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\u7684\u62bd\u8c61\u5c42\u6b21\u9ad8\u4f4e\uff0c\u7f16\u7a0b\u8bed\u8a00\uff08Programming Language\uff09\u53ef\u4ee5\u5206\u4e3a\uff1a</p> <ul> <li>\u4f4e\u7ea7\u8bed\u8a00\uff08Low-level Language\uff09\uff1a\u673a\u5668\u8bed\u8a00\uff08Machine Language\uff09\u548c\u6c47\u7f16\u8bed\u8a00\uff08Assembly Language\uff09</li> <li>\u9ad8\u7ea7\u8bed\u8a00\uff08High-level Language\uff09\uff1aC\u3001C++\u3001Java\u3001Python\u7b49</li> </ul> <p>\u4f4e\u7ea7\u8bed\u8a00\u76f4\u63a5\u7528\u673a\u5668\u6307\u4ee4\u7f16\u5199\u7a0b\u5e8f\u3002\u9ad8\u7ea7\u8bed\u8a00\u7528\u8bed\u53e5\uff08Statement\uff09\u7f16\u5199\u7a0b\u5e8f\uff0c\u8bed\u53e5\u662f\u673a\u5668\u6307\u4ee4\u7684\u62bd\u8c61\u8868\u793a\u3002 \u4e3e\u4e2a\u4f8b\u5b50\uff0c\u540c\u6837\u4e00\u4e2a\u8bed\u53e5\u7528C\u8bed\u8a00\u3001\u6c47\u7f16\u8bed\u8a00\u548c\u673a\u5668\u8bed\u8a00\u5206\u522b\u8868\u793a\u5982\u4e0b\uff1a</p> <p></p> <p>\u4e0a\u8868\u4e2d\u7684\u673a\u5668\u8bed\u8a00\u5b8c\u5168\u7531\u5341\u516d\u8fdb\u5236\u6570\u5b57\u7ec4\u6210\u3002</p> <p>\u6700\u65e9\u7684\u7a0b\u5e8f\u5458\u90fd\u662f\u76f4\u63a5\u7528\u673a\u5668\u8bed\u8a00\u7f16\u7a0b\uff0c\u8fd9\u5f88\u9ebb\u70e6\uff0c\u9700\u8981\u67e5\u5927\u91cf\u7684\u8868\u683c\u6765\u786e\u5b9a\u6bcf\u4e2a\u6570\u5b57\u8868\u793a\u4ec0\u4e48\u610f\u601d\uff0c\u7f16\u5199\u51fa\u6765\u7684\u7a0b\u5e8f\u5f88\u4e0d\u76f4\u89c2\uff0c\u800c\u4e14\u5bb9\u6613\u51fa\u9519\uff0c\u4e8e\u662f\u6709\u4e86\u6c47\u7f16\u8bed\u8a00\u3002</p> <p>\u6c47\u7f16\u8bed\u8a00\u628a\u673a\u5668\u8bed\u8a00\u4e2d\u4e00\u7ec4\u4e00\u7ec4\u7684\u6570\u5b57\u7528\u52a9\u8bb0\u7b26\uff08Mnemonic\uff09\u8868\u793a\uff0c\u76f4\u63a5\u7528\u8fd9\u4e9b\u52a9\u8bb0\u7b26\u5199\u51fa\u6c47\u7f16\u7a0b\u5e8f\uff0c\u7136\u540e\u8ba9\u6c47\u7f16\u5668\uff08Assembler\uff09\u53bb\u67e5\u8868\u628a\u52a9\u8bb0\u7b26\u66ff\u6362\u6210\u6570\u5b57\uff0c\u4e5f\u5c31\u628a\u6c47\u7f16\u8bed\u8a00\u7ffb\u8bd1\u6210\u4e86\u673a\u5668\u8bed\u8a00\u3002 </p> <p>\u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\u53ef\u4ee5\u770b\u51fa\uff0c\u6c47\u7f16\u8bed\u8a00\u548c\u673a\u5668\u8bed\u8a00\u7684\u6307\u4ee4\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\uff0c\u6c47\u7f16\u8bed\u8a00\u6709\u4e09\u6761\u6307\u4ee4\uff0c\u673a\u5668\u8bed\u8a00\u4e5f\u6709\u4e09\u6761\u6307\u4ee4\uff0c\u6c47\u7f16\u5668\u5c31\u662f\u505a\u4e00\u4e2a\u7b80\u5355\u7684\u66ff\u6362\u5de5\u4f5c \uff0c\u4f8b\u5982\u5728\u7b2c\u4e00\u6761\u6307\u4ee4\u4e2d\uff0c\u628a<code>movl ?,%eax</code>\u8fd9\u79cd\u683c\u5f0f\u7684\u6307\u4ee4\u66ff\u6362\u6210\u673a\u5668\u7801<code>a1 ?</code>\uff0c?\u8868\u793a\u4e00\u4e2a\u5730\u5740\uff0c\u5728\u6c47\u7f16\u6307\u4ee4\u4e2d\u662f<code>0x804a01c</code>\uff0c\u8f6c\u6362\u6210\u673a\u5668\u7801\u4e4b\u540e\u662f<code>1c a0 04 08</code>\uff08\u8fd9\u662f\u6307\u4ee4\u4e2d\u7684\u5341\u516d\u8fdb\u5236\u6570\u7684\u5c0f\u7aef\u8868\u793a\uff09\u3002</p> <p>\u6c47\u7f16\u8bed\u548c\u673a\u5668\u6307\u4ee4\u4e00\u4e00\u5bf9\u5e94\uff0c\u53ef\u80fd\u53ea\u662f\u4e00\u79cd\u7b3c\u7edf\u7684\u8bf4\u6cd5\uff0c\u5728\u67d0\u4e9b\u6c47\u7f16\u89c4\u8303\u4e2d\uff0c\u53ef\u80fd\u4e24\u8005\u53ef\u80fd\u5e76\u4e0d\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002</p> <p>\u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\u8fd8\u53ef\u4ee5\u770b\u51fa\uff0c\u9ad8\u7ea7\u8bed\u8a00\u7684\u8bed\u53e5\u548c\u4f4e\u7ea7\u8bed\u8a00\u7684\u6307\u4ee4\u4e4b\u95f4\u4e0d\u662f\u7b80\u5355\u7684\u4e00\u4e00\u5bf9\u5e94\u5173\u7cfb\uff0c \u4e00\u6761<code>a=b+1;</code>\u8bed\u53e5\u8981\u7ffb\u8bd1\u6210\u4e09\u6761\u6c47\u7f16\u6216\u673a\u5668\u6307\u4ee4\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4e3a\u7f16\u8bd1\uff08Compile\uff09\uff0c\u7531\u7f16\u8bd1\u5668\uff08Compiler\uff09\u6765\u5b8c\u6210\uff0c\u663e\u7136\u7f16\u8bd1\u5668\u7684\u529f\u80fd\u6bd4\u6c47\u7f16\u5668\u8981\u590d\u6742\u5f97\u591a\u3002\u7528\u9ad8\u7ea7\u8bed\u8a00\u7f16\u5199\u7684\u7a0b\u5e8f\u5fc5\u987b\u7ecf\u8fc7\u7f16\u8bd1\u8f6c\u6210\u673a\u5668\u6307\u4ee4\u624d\u80fd\u88ab\u8ba1\u7b97\u673a\u6267\u884c\uff0c\u7f16\u8bd1\u9700\u8981\u82b1\u4e00\u4e9b\u65f6\u95f4\uff0c\u8fd9\u662f\u7528\u9ad8\u7ea7\u8bed\u8a00\u7f16\u7a0b\u7684\u4e00\u4e2a\u7f3a\u70b9\uff0c\u7136\u800c\u66f4\u591a\u7684\u662f\u4f18\u70b9\u3002\u9996\u5148\uff0c\u7528\u9ad8\u7ea7\u8bed\u8a00\u7f16\u7a0b\u66f4\u5bb9\u6613\uff0c\u5199\u51fa\u6765\u7684\u4ee3\u7801\u66f4\u7d27\u51d1\uff0c\u53ef\u8bfb\u6027\u66f4\u5f3a\uff0c\u51fa\u4e86\u9519\u4e5f\u66f4\u5bb9\u6613\u6539\u6b63\u3002\u5176\u6b21\uff0c\u9ad8\u7ea7\u8bed\u8a00\u662f\u53ef\u79fb\u690d\u7684\uff08Portable\uff09\u6216\u8005\u79f0\u4e3a\u5e73\u53f0\u65e0\u5173\u7684\uff08Platform Independent\uff09\u3002</p> <p>\u6b63\u56e0\u4e3a\u9ad8\u7ea7\u8bed\u8a00\u548c\u5177\u4f53\u7684\u673a\u5668\u6307\u4ee4\u4e0d\u5b58\u5728\u4e00\u4e00\u5bf9\u5e94\u7684\u5173\u7cfb\uff0c\u800c\u662f\u548c\u5b9e\u73b0\u4e0d\u540c\u529f\u80fd\u7684\u673a\u5668\u6307\u4ee4\u96c6\u5408\u4e00\u4e00\u5bf9\u5e94\uff0c\u6240\u4ee5\u9ad8\u7ea7\u8bed\u8a00\u53ef\u4ee5\u5b9e\u73b0\u53ef\u79fb\u690d\u6027\u3002</p> <p>\u5e73\u53f0\u8fd9\u4e2a\u8bcd\u6709\u5f88\u591a\u79cd\u89e3\u91ca\uff0c\u53ef\u4ee5\u6307\u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\uff08Architecture\uff09\uff0c\u4e5f\u53ef\u4ee5\u6307\u64cd\u4f5c\u7cfb\u7edf\uff08Operating System\uff09\uff0c\u4e5f\u53ef\u4ee5\u6307\u5f00\u53d1\u5e73\u53f0\uff08\u7f16\u8bd1\u5668\u3001\u94fe\u63a5\u5668\u7b49\uff09\u3002\u4e0d\u540c\u7684\u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\u6709\u4e0d\u540c\u7684\u6307\u4ee4\u96c6\uff08Instruction Set\uff09\uff0c\u53ef\u4ee5\u8bc6\u522b\u7684\u673a\u5668\u6307\u4ee4\u683c\u5f0f\u662f\u4e0d\u540c\u7684\uff0c\u76f4\u63a5\u7528\u67d0\u79cd\u4f53\u7cfb\u7ed3\u6784\u7684\u6c47\u7f16\u6216\u673a\u5668\u6307\u4ee4\u5199\u51fa\u6765\u7684\u7a0b\u5e8f\u53ea\u80fd\u5728\u8fd9\u79cd\u4f53\u7cfb\u7ed3\u6784\u7684\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\u3002 </p> <p>\u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\u4e5f\u79f0\u4e3a\u6307\u4ee4\u96c6\u4f53\u7cfb\u7ed3\u6784\u3002</p> <p>\u7136\u800c \u5404\u79cd\u4f53\u7cfb\u7ed3\u6784\u7684\u8ba1\u7b97\u673a\u90fd\u6709\u5404\u81ea\u7684C\u7f16\u8bd1\u5668\uff0c\u53ef\u4ee5\u628aC\u7a0b\u5e8f\u7f16\u8bd1\u6210\u5404\u79cd\u4e0d\u540c\u4f53\u7cfb\u7ed3\u6784\u7684\u673a\u5668\u6307\u4ee4\uff0c\u8fd9\u610f\u5473\u7740\u7528C\u8bed\u8a00\u5199\u7684\u7a0b\u5e8f\u53ea\u9700\u7a0d\u52a0\u4fee\u6539\u751a\u81f3\u4e0d\u7528\u4fee\u6539\u5c31\u53ef\u4ee5\u5728\u5404\u79cd\u4e0d\u540c\u7684\u8ba1\u7b97\u673a\u4e0a\u7f16\u8bd1\u8fd0\u884c\u3002\u5404\u79cd\u9ad8\u7ea7\u8bed\u8a00\u90fd\u5177\u6709C\u8bed\u8a00\u7684\u8fd9\u4e9b\u4f18\u70b9\uff0c\u6240\u4ee5\u7edd\u5927\u90e8\u5206\u7a0b\u5e8f\u662f\u7528\u9ad8\u7ea7\u8bed\u8a00\u7f16\u5199\u7684\uff0c\u53ea\u6709\u548c\u786c\u4ef6\u5173\u7cfb\u5bc6\u5207\u7684\u5c11\u6570\u7a0b\u5e8f\uff08\u4f8b\u5982\u9a71\u52a8\u7a0b\u5e8f\uff09\u624d\u4f1a\u7528\u5230\u4f4e\u7ea7\u8bed\u8a00\u3002\u8fd8\u8981\u6ce8\u610f\u4e00\u70b9\uff0c\u5373\u4f7f\u5728\u76f8\u540c\u7684\u4f53\u7cfb\u7ed3\u6784\u548c\u64cd\u4f5c\u7cfb\u7edf\u4e0b\uff0c\u7528\u4e0d\u540c\u7684C\u7f16\u8bd1\u5668\uff08\u6216\u8005\u540c\u4e00\u4e2aC\u7f16\u8bd1\u5668\u7684\u4e0d\u540c\u7248\u672c\uff09\u7f16\u8bd1\u540c\u4e00\u4e2a\u7a0b\u5e8f\u5f97\u5230\u7684\u7ed3\u679c\u4e5f\u6709\u53ef\u80fd\u4e0d\u540c\uff0cC\u8bed\u8a00\u6709\u4e9b\u8bed\u6cd5\u7279\u6027\u5728C\u6807\u51c6\u4e2d\u5e76\u6ca1\u6709\u660e\u786e\u89c4\u5b9a\uff0c\u5404\u7f16\u8bd1\u5668\u6709\u4e0d\u540c\u7684\u5b9e\u73b0\uff0c\u7f16\u8bd1\u51fa\u6765\u7684\u6307\u4ee4\u7684\u884c\u4e3a\u7279\u6027\u4e5f\u4f1a\u4e0d\u540c\uff0c\u5e94\u8be5\u5c3d\u91cf\u907f\u514d\u4f7f\u7528\u4e0d\u53ef\u79fb\u690d\u7684\u8bed\u6cd5\u7279\u6027\u3002 </p> <p>\u603b\u7ed3\u4e00\u4e0b\u7f16\u8bd1\u6267\u884c\u7684\u8fc7\u7a0b\uff0c\u9996\u5148\u4f60\u7528\u6587\u672c\u7f16\u8f91\u5668\u5199\u4e00\u4e2aC\u7a0b\u5e8f\uff0c\u7136\u540e\u4fdd\u5b58\u6210\u4e00\u4e2a\u6587\u4ef6\uff0c\u4f8b\u5982<code>program.c</code>\uff08\u901a\u5e38C\u7a0b\u5e8f\u7684\u6587\u4ef6\u540d\u540e\u7f00\u662f<code>.c</code>\uff09\uff0c\u8fd9\u79f0\u4e3a\u6e90\u4ee3\u7801\uff08Source Code\uff09\u6216\u6e90\u6587\u4ef6\uff0c\u7136\u540e\u8fd0\u884c\u7f16\u8bd1\u5668\u5bf9\u5b83\u8fdb\u884c\u7f16\u8bd1\uff0c\u7f16\u8bd1\u7684\u8fc7\u7a0b\u5e76\u4e0d\u6267\u884c\u7a0b\u5e8f\uff0c\u800c\u662f\u628a\u6e90\u4ee3\u7801\u5168\u90e8\u7ffb\u8bd1\u6210\u673a\u5668\u6307\u4ee4\uff0c\u518d\u52a0\u4e0a\u4e00\u4e9b\u63cf\u8ff0\u4fe1\u606f\uff0c\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\uff0c\u4f8b\u5982<code>a.out</code>\uff0c\u8fd9\u79f0\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u53ef\u6267\u884c\u6587\u4ef6\u53ef\u4ee5\u88ab\u64cd\u4f5c\u7cfb\u7edf\u52a0\u8f7d\u8fd0\u884c\uff0c\u8ba1\u7b97\u673a\u6267\u884c\u8be5\u6587\u4ef6\u4e2d\u7531\u7f16\u8bd1\u5668\u751f\u6210\u7684\u6307\u4ee4\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p> <p></p> <p>\u6709\u4e9b\u9ad8\u7ea7\u8bed\u8a00\u4ee5\u89e3\u91ca\uff08Interpret\uff09\u7684\u65b9\u5f0f\u6267\u884c\uff0c\u89e3\u91ca\u6267\u884c\u8fc7\u7a0b\u548cC\u8bed\u8a00\u7684\u7f16\u8bd1\u6267\u884c\u8fc7\u7a0b\u5f88\u4e0d\u4e00\u6837\u3002\u4f8b\u5982\u7f16\u5199\u4e00\u4e2aShell\u811a\u672c<code>script.sh</code>\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a </p> <pre><code>#! /bin/sh\nVAR=1\nVAR=$(($VAR+1))\necho $VAR\n</code></pre> <p>\u5b9a\u4e49Shell\u53d8\u91cf<code>VAR</code>\u7684\u521d\u59cb\u503c\u662f1\uff0c\u7136\u540e\u81ea\u589e1\uff0c\u7136\u540e\u6253\u5370<code>VAR</code>\u7684\u503c\u3002\u7528Shell\u7a0b\u5e8f<code>/bin/sh</code>\u89e3\u91ca\u6267\u884c\u8fd9\u4e2a\u811a\u672c\uff0c\u7ed3\u679c\u5982\u4e0b\uff1a </p> <pre><code>$ /bin/sh script.sh\n2\n</code></pre> <p>\u8fd9\u91cc\u7684<code>/bin/sh</code>\u79f0\u4e3a\u89e3\u91ca\u5668\uff08Interpreter\uff09\uff0c\u5b83\u628a\u811a\u672c\u4e2d\u7684\u6bcf\u4e00\u884c\u5f53\u4f5c\u4e00\u6761\u547d\u4ee4\u89e3\u91ca\u6267\u884c\uff0c\u800c\u4e0d\u9700\u8981\u5148\u751f\u6210\u5305\u542b\u673a\u5668\u6307\u4ee4\u7684\u53ef\u6267\u884c\u6587\u4ef6\u518d\u6267\u884c\u3002\u5982\u679c\u628a\u811a\u672c\u4e2d\u7684\u8fd9\u4e09\u884c\u5f53\u4f5c\u4e09\u6761\u547d\u4ee4\u76f4\u63a5\u6572\u5230Shell\u63d0\u793a\u7b26\u4e0b\uff0c\u4e5f\u80fd\u5f97\u5230\u540c\u6837\u7684\u7ed3\u679c\uff1a </p> <pre><code>$ VAR=1\n$ VAR=$(($VAR+1))\n$ echo $VAR\n2\n</code></pre> <p></p> <p>\u7f16\u7a0b\u8bed\u8a00\u4ecd\u5728\u53d1\u5c55\u6f14\u5316\u3002\u4ee5\u4e0a\u4ecb\u7ecd\u7684\u673a\u5668\u8bed\u8a00\u79f0\u4e3a\u7b2c\u4e00\u4ee3\u8bed\u8a00\uff081GL\uff0c1st Generation Programming Language\uff09\uff0c\u6c47\u7f16\u8bed\u8a00\u79f0\u4e3a\u7b2c\u4e8c\u4ee3\u8bed\u8a00\uff082GL\uff0c2nd Generation Programming Language\uff09\uff0cC\u3001C++\u3001Java\u3001Python\u7b49\u53ef\u4ee5\u79f0\u4e3a\u7b2c\u4e09\u4ee3\u8bed\u8a00\uff083GL\uff0c3rd Generation Programming Language\uff09\u3002\u76ee\u524d\u5df2\u7ecf\u6709\u4e864GL\uff084th Generation Programming Language\uff09\u548c5GL\uff085th Generation Programming Language\uff09\u7684\u6982\u5ff5\u30023GL\u7684\u7f16\u7a0b\u8bed\u8a00\u867d\u7136\u662f\u7528\u8bed\u53e5\u7f16\u7a0b\u800c\u4e0d\u76f4\u63a5\u7528\u6307\u4ee4\u7f16\u7a0b\uff0c\u4f46\u8bed\u53e5\u4e5f\u5206\u4e3a\u8f93\u5165\u3001\u8f93\u51fa\u3001\u57fa\u672c\u8fd0\u7b97\u3001\u6d4b\u8bd5\u5206\u652f\u548c\u5faa\u73af\u7b49\u51e0\u79cd\uff0c\u548c\u6307\u4ee4\u6709\u76f4\u63a5\u7684\u5bf9\u5e94\u5173\u7cfb\u3002\u800c4GL\u4ee5\u540e\u7684\u7f16\u7a0b\u8bed\u8a00\u66f4\u591a\u662f\u63cf\u8ff0\u8981\u505a\u4ec0\u4e48\uff08Declarative\uff09\u800c\u4e0d\u63cf\u8ff0\u5177\u4f53\u4e00\u6b65\u4e00\u6b65\u600e\u4e48\u505a\uff08Imperative\uff09\uff0c\u5177\u4f53\u4e00\u6b65\u4e00\u6b65\u600e\u4e48\u505a\u5b8c\u5168\u7531\u7f16\u8bd1\u5668\u6216\u89e3\u91ca\u5668\u51b3\u5b9a\uff0c\u4f8b\u5982SQL\u8bed\u8a00\uff08SQL\uff0cStructured Query Language\uff0c\u7ed3\u6784\u5316\u67e5\u8be2\u8bed\u8a00\uff09\u5c31\u662f\u8fd9\u6837\u7684\u4f8b\u5b50\u3002 </p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.3.%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#_2","title":"\u7a0b\u5e8f\u7684\u8c03\u8bd5","text":"<p>\u7f16\u7a0b\u662f\u4e00\u4ef6\u590d\u6742\u7684\u5de5\u4f5c\uff0c\u56e0\u4e3a\u662f\u4eba\u505a\u7684\u4e8b\u60c5\uff0c\u6240\u4ee5\u96be\u514d\u7ecf\u5e38\u51fa\u9519\u3002\u636e\u8bf4\u6709\u8fd9\u6837\u4e00\u4e2a\u5178\u6545\uff1a\u65e9\u671f\u7684\u8ba1\u7b97\u673a\u4f53\u79ef\u90fd\u5f88\u5927\uff0c\u6709\u4e00\u6b21\u4e00\u53f0\u8ba1\u7b97\u673a\u4e0d\u80fd\u6b63\u5e38\u5de5\u4f5c\uff0c\u5de5\u7a0b\u5e08\u4eec\u627e\u4e86\u534a\u5929\u539f\u56e0\u6700\u540e\u53d1\u73b0\u662f\u4e00\u53ea\u81ed\u866b\u94bb\u8fdb\u8ba1\u7b97\u673a\u4e2d\u9020\u6210\u7684\u3002\u4ece\u6b64\u4ee5\u540e\uff0c\u7a0b\u5e8f\u4e2d\u7684\u9519\u8bef\u88ab\u53eb\u505a\u81ed\u866b\uff08Bug\uff09\uff0c\u800c\u627e\u5230\u8fd9\u4e9bBug\u5e76\u52a0\u4ee5\u7ea0\u6b63\u7684\u8fc7\u7a0b\u5c31\u53eb\u505a\u8c03\u8bd5\uff08Debug\uff09\u3002\u6709\u65f6\u5019\u8c03\u8bd5\u662f\u4e00\u4ef6\u975e\u5e38\u590d\u6742\u7684\u5de5\u4f5c\uff0c\u8981\u6c42\u7a0b\u5e8f\u5458\u6982\u5ff5\u660e\u786e\u3001\u903b\u8f91\u6e05\u6670\u3001\u6027\u683c\u6c89\u7a33\uff0c\u8fd8\u9700\u8981\u4e00\u70b9\u8fd0\u6c14\u3002\u7a0b\u5e8f\u7684 Bug \u5206\u4e3a\u4ee5\u4e0b\u4e09\u7c7b\uff1a</p> <ul> <li>\u7f16\u8bd1\u65f6\u9519\u8bef</li> </ul> <p>\u7f16\u8bd1\u5668\u53ea\u80fd\u7ffb\u8bd1\u8bed\u6cd5\u6b63\u786e\u7684\u7a0b\u5e8f\uff0c\u5426\u5219\u5c06\u5bfc\u81f4\u7f16\u8bd1\u5931\u8d25\uff0c\u65e0\u6cd5\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u3002\u5bf9\u4e8e\u81ea\u7136\u8bed\u8a00\u6765\u8bf4\uff0c\u4e00\u70b9\u8bed\u6cd5\u9519\u8bef\u4e0d\u662f\u5f88\u4e25\u91cd\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u6211\u4eec\u4ecd\u7136\u53ef\u4ee5\u8bfb\u61c2\u53e5\u5b50\u3002\u800c\u7f16\u8bd1\u5668\u5c31\u6ca1\u90a3\u4e48\u5bbd\u5bb9\u4e86\uff0c\u53ea\u8981\u6709\u54ea\u6015\u4e00\u4e2a\u5f88\u5c0f\u7684\u8bed\u6cd5\u9519\u8bef\uff0c\u7f16\u8bd1\u5668\u5c31\u4f1a\u8f93\u51fa\u4e00\u6761\u9519\u8bef\u63d0\u793a\u4fe1\u606f\u7136\u540e\u7f62\u5de5\uff0c\u4f60\u5c31\u5f97\u4e0d\u5230\u4f60\u60f3\u8981\u7684\u7ed3\u679c\u3002\u867d\u7136\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u7f16\u8bd1\u5668\u7ed9\u51fa\u7684\u9519\u8bef\u63d0\u793a\u4fe1\u606f\u5c31\u662f\u4f60\u51fa\u9519\u7684\u4ee3\u7801\u884c\uff0c\u4f46\u4e5f\u6709\u4e2a\u522b\u65f6\u5019\u7f16\u8bd1\u5668\u7ed9\u51fa\u7684\u9519\u8bef\u63d0\u793a\u4fe1\u606f\u5e2e\u52a9\u4e0d\u5927\uff0c\u751a\u81f3\u4f1a\u8bef\u5bfc\u4f60\u3002\u5728\u5f00\u59cb\u5b66\u4e60\u7f16\u7a0b\u7684\u524d\u51e0\u4e2a\u661f\u671f\uff0c\u4f60\u53ef\u80fd\u4f1a\u82b1\u5927\u91cf\u7684\u65f6\u95f4\u6765\u7ea0\u6b63\u8bed\u6cd5\u9519\u8bef\u3002\u7b49\u5230\u6709\u4e86\u4e00\u4e9b\u7ecf\u9a8c\u4e4b\u540e\uff0c\u8fd8\u662f\u4f1a\u72af\u8fd9\u6837\u7684\u9519\u8bef\uff0c\u4e0d\u8fc7\u4f1a\u5c11\u5f97\u591a\uff0c\u800c\u4e14\u4f60\u80fd\u66f4\u5feb\u5730\u53d1\u73b0\u9519\u8bef\u539f\u56e0\u3002\u7b49\u5230\u7ecf\u9a8c\u66f4\u4e30\u5bcc\u4e4b\u540e\u4f60\u5c31\u4f1a\u89c9\u5f97\uff0c\u8bed\u6cd5\u9519\u8bef\u662f\u6700\u7b80\u5355\u6700\u4f4e\u7ea7\u7684\u9519\u8bef\uff0c\u7f16\u8bd1\u5668\u7684\u9519\u8bef\u63d0\u793a\u4e5f\u5c31\u90a3\u4e48\u51e0\u79cd\uff0c\u5373\u4f7f\u9519\u8bef\u63d0\u793a\u662f\u6709\u8bef\u5bfc\u7684\u4e5f\u80fd\u591f\u7acb\u523b\u627e\u51fa\u771f\u6b63\u7684\u9519\u8bef\u539f\u56e0\u662f\u4ec0\u4e48\u3002\u76f8\u6bd4\u4e0b\u9762\u4e24\u79cd\u9519\u8bef\uff0c\u8bed\u6cd5\u9519\u8bef\u89e3\u51b3\u8d77\u6765\u8981\u5bb9\u6613\u5f97\u591a\u3002</p> <ul> <li>\u8fd0\u884c\u65f6\u9519\u8bef</li> </ul> <p>\u7f16\u8bd1\u5668\u68c0\u67e5\u4e0d\u51fa\u8fd9\u7c7b\u9519\u8bef\uff0c\u4ecd\u7136\u53ef\u4ee5\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u4f46\u5728\u8fd0\u884c\u65f6\u4f1a\u51fa\u9519\u800c\u5bfc\u81f4\u7a0b\u5e8f\u5d29\u6e83\u3002\u5b66\u4e60\u9759\u6001\u8bed\u8a00\u7684\u65f6\u5019\uff0c\u8981\u7279\u522b\u6ce8\u610f\u533a\u5206\u7f16\u8bd1\u65f6\u548c\u8fd0\u884c\u65f6\u8fd9\u4e24\u4e2a\u6982\u5ff5\uff0c\u6709\u4e9b\u4e8b\u60c5\u5728\u7f16\u8bd1\u65f6\u505a\uff0c\u6709\u4e9b\u4e8b\u60c5\u5219\u5728\u8fd0\u884c\u65f6\u505a\u3002</p> <ul> <li>\u903b\u8f91\u9519\u8bef\u548c\u8bed\u4e49\u9519\u8bef</li> </ul> <p>\u7b2c\u4e09\u7c7b\u9519\u8bef\u662f\u903b\u8f91\u9519\u8bef\u548c\u8bed\u4e49\u9519\u8bef\u3002\u5982\u679c\u7a0b\u5e8f\u91cc\u6709\u903b\u8f91\u9519\u8bef\uff0c\u7f16\u8bd1\u548c\u8fd0\u884c\u90fd\u4f1a\u5f88\u987a\u5229\uff0c\u770b\u4e0a\u53bb\u4e5f\u4e0d\u4ea7\u751f\u4efb\u4f55\u9519\u8bef\u4fe1\u606f\uff0c\u4f46\u662f\u7a0b\u5e8f\u6ca1\u6709\u5e72\u5b83\u8be5\u5e72\u7684\u4e8b\u60c5\uff0c\u800c\u662f\u5e72\u4e86\u522b\u7684\u4e8b\u60c5\u3002\u5f53\u7136\u4e0d\u7ba1\u600e\u4e48\u6837\uff0c\u8ba1\u7b97\u673a\u53ea\u4f1a\u6309\u4f60\u5199\u7684\u7a0b\u5e8f\u53bb\u505a\uff0c\u95ee\u9898\u5728\u4e8e\u4f60\u5199\u7684\u7a0b\u5e8f\u4e0d\u662f\u4f60\u771f\u6b63\u60f3\u8981\u7684\uff0c\u8fd9\u610f\u5473\u7740\u7a0b\u5e8f\u7684\u610f\u601d\uff08\u5373\u8bed\u4e49\uff09\u662f\u9519\u7684\u3002\u627e\u5230\u903b\u8f91\u9519\u8bef\u5728\u54ea\u9700\u8981\u5341\u5206\u6e05\u9192\u7684\u5934\u8111\uff0c\u8981\u901a\u8fc7\u89c2\u5bdf\u7a0b\u5e8f\u7684\u8f93\u51fa\u56de\u8fc7\u5934\u6765\u5224\u65ad\u5b83\u5230\u5e95\u5728\u505a\u4ec0\u4e48\u3002</p> <p>\u8c03\u8bd5\u7684\u8fc7\u7a0b\u53ef\u80fd\u4f1a\u8ba9\u4f60\u611f\u5230\u4e00\u4e9b\u6cae\u4e27\uff0c\u4f46\u8c03\u8bd5\u4e5f\u662f\u7f16\u7a0b\u4e2d\u6700\u9700\u8981\u52a8\u8111\u7684\u3001\u6700\u6709\u6311\u6218\u548c\u4e50\u8da3\u7684\u90e8\u5206\u3002\u4ece\u67d0\u79cd\u89d2\u5ea6\u770b\u8c03\u8bd5\u5c31\u50cf\u4fa6\u63a2\u5de5\u4f5c\uff0c\u6839\u636e\u638c\u63e1\u7684\u7ebf\u7d22\u6765\u63a8\u65ad\u662f\u4ec0\u4e48\u539f\u56e0\u548c\u8fc7\u7a0b\u5bfc\u81f4\u4e86\u4f60\u6240\u770b\u5230\u7684\u7ed3\u679c\u3002\u8c03\u8bd5\u4e5f\u50cf\u662f\u4e00\u95e8\u5b9e\u9a8c\u79d1\u5b66\uff0c\u6bcf\u6b21\u60f3\u5230\u54ea\u91cc\u53ef\u80fd\u6709\u9519\uff0c\u5c31\u4fee\u6539\u7a0b\u5e8f\u7136\u540e\u518d\u8bd5\u4e00\u6b21\u3002\u5982\u679c\u5047\u8bbe\u662f\u5bf9\u7684\uff0c\u5c31\u80fd\u5f97\u5230\u9884\u671f\u7684\u6b63\u786e\u7ed3\u679c\uff0c\u5c31\u53ef\u4ee5\u63a5\u7740\u8c03\u8bd5\u4e0b\u4e00\u4e2aBug\uff0c\u4e00\u6b65\u4e00\u6b65\u903c\u8fd1\u6b63\u786e\u7684\u7a0b\u5e8f\uff1b\u5982\u679c\u5047\u8bbe\u9519\u8bef\uff0c\u53ea\u597d\u53e6\u5916\u518d\u627e\u601d\u8def\u518d\u505a\u5047\u8bbe\u3002\u5f53\u4f60\u628a\u4e0d\u53ef\u80fd\u7684\u5168\u90e8\u5254\u9664\uff0c\u5269\u4e0b\u7684\u5373\u4f7f\u770b\u8d77\u6765\u518d\u600e\u4e48\u4e0d\u53ef\u80fd\uff0c\u4f46\u4e00\u5b9a\u662f\u4e8b\u5b9e\u3002</p> <p>\u4e5f\u6709\u4e00\u79cd\u89c2\u70b9\u8ba4\u4e3a\uff0c\u7f16\u7a0b\u548c\u8c03\u8bd5\u662f\u4e00\u56de\u4e8b\uff0c\u7f16\u7a0b\u7684\u8fc7\u7a0b\u5c31\u662f\u9010\u6b65\u8c03\u8bd5\u76f4\u5230\u83b7\u5f97\u671f\u671b\u7684\u7ed3\u679c\u4e3a\u6b62\u3002\u4f60\u5e94\u8be5\u603b\u662f\u4ece\u4e00\u4e2a\u80fd\u6b63\u786e\u8fd0\u884c\u7684\u5c0f\u89c4\u6a21\u7a0b\u5e8f\u5f00\u59cb\uff0c\u6bcf\u505a\u4e00\u6b65\u5c0f\u7684\u6539\u52a8\u5c31\u7acb\u523b\u8fdb\u884c\u8c03\u8bd5\uff0c\u8fd9\u6837\u7684\u597d\u5904\u662f\u603b\u6709\u4e00\u4e2a\u6b63\u786e\u7684\u7a0b\u5e8f\u505a\u53c2\u8003\uff1a\u5982\u679c\u6b63\u786e\u5c31\u7ee7\u7eed\u7f16\u7a0b\uff0c\u5982\u679c\u4e0d\u6b63\u786e\uff0c\u90a3\u4e48\u4e00\u5b9a\u662f\u521a\u624d\u7684\u5c0f\u6539\u52a8\u51fa\u4e86\u95ee\u9898\u3002\u4f8b\u5982\uff0cLinux\u64cd\u4f5c\u7cfb\u7edf\u5305\u542b\u4e86\u6210\u5343\u4e0a\u4e07\u884c\u4ee3\u7801\uff0c\u4f46\u5b83\u4e5f\u4e0d\u662f\u4e00\u5f00\u59cb\u5c31\u89c4\u5212\u597d\u4e86\u5185\u5b58\u7ba1\u7406\u3001\u8bbe\u5907\u7ba1\u7406\u3001\u6587\u4ef6\u7cfb\u7edf\u3001\u7f51\u7edc\u7b49\u7b49\u5927\u7684\u6a21\u5757\uff0c\u4e00\u5f00\u59cb\u5b83\u4ec5\u4ec5\u662fLinus Torvalds\u7528\u6765\u7422\u78e8Intel 80386\u82af\u7247\u800c\u5199\u7684\u5c0f\u7a0b\u5e8f\u3002\u636eLarry Greenfield \u8bf4\uff0c\u201cLinus\u7684\u65e9\u671f\u5de5\u7a0b\u4e4b\u4e00\u662f\u7f16\u5199\u4e00\u4e2a\u4ea4\u66ff\u6253\u5370AAAA\u548cBBBB\u7684\u7a0b\u5e8f\uff0c\u8fd9\u73a9\u610f\u513f\u540e\u6765\u8fdb\u5316\u6210\u4e86Linux\u3002\u201d\uff08\u5f15\u81eaThe Linux User's Guide Beta1\u7248\uff09</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.3.%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#_3","title":"\u9759\u6001\u7c7b\u578b\u548c\u5f3a\u7c7b\u578b","text":"<p>\u9759\u6001\u7c7b\u578b\u3001\u52a8\u6001\u7c7b\u578b\u548c\u5f3a\u7c7b\u578b\u3001\u5f31\u7c7b\u578b\u662f\u4e24\u5bf9\u76f8\u5bf9\u7684\u6982\u5ff5\u3002\u5b83\u4eec\u5728\u7f16\u7a0b\u7684\u8bdd\u9898\u4e2d\u7ecf\u5e38\u88ab\u63d0\u5230\uff0c\u4e5f\u662f\u5f88\u591a\u4e89\u8bba\u7684\u6765\u6e90\u3002\u5bf9\u5b83\u4eec\u53d1\u8868\u4e0d\u6070\u5f53\u7684\u8a00\u8bba\uff0c\u751a\u81f3\u53ef\u80fd\u4f1a\u5f15\u8d77\u5723\u6218\u3002\u5b83\u4eec\u90fd\u4e0d\u662f\u5177\u6709\u4e25\u8c28\u5b9a\u4e49\u7684\u5b66\u672f\u540d\u8bcd\u3002\u5728\u4e0a\u4e16\u7eaa70\u5e74\u4ee3\uff0c\u9759\u6001\u7c7b\u578b\u3001\u52a8\u6001\u7c7b\u578b\u4e00\u5f00\u59cb\u7684\u8bf4\u6cd5\u662f\u5f3a\u7c7b\u578b\u548c\u5f31\u7c7b\u578b\u3002\u540e\u6765\uff0c\u5f3a\u3001\u5f31\u7c7b\u578b\u7684\u539f\u59cb\u542b\u4e49\u88ab\u9759\u3001\u52a8\u6001\u7c7b\u578b\u6240\u6307\u4ee3\uff0c\u4e8e\u662f\u5f3a\u3001\u5f31\u7c7b\u578b\u53c8\u6709\u4e86\u66f4\u591a\u7684\u542b\u4e49\u3002\u73b0\u5728\uff0c\u5f3a\u7c7b\u578b\uff08strong type\uff09\u53ef\u80fd\u66f4\u591a\u60c5\u51b5\u662f\u610f\u5473\u7740\uff1a\u4e00\u4e2a\u8bed\u8a00\u662f\u5f3a\u5065\u7684\u3001\u5065\u5168\u7684\uff08The language is sound\uff09\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u9759\u3001\u52a8\u6001\u7c7b\u578b\u662f\u4e0d\u592a\u6070\u5f53\u7684\u8bf4\u6cd5\uff0c\u800c\u5f3a\u3001\u5f31\u7c7b\u578b\u7684\u8bf4\u6cd5\u66f4\u662f\u83ab\u540d\u5176\u5999\u3002\u8fd9\u56db\u4e2a\u540d\u8bcd\u90fd\u4e0e\u7a0b\u5e8f\u7684\u5b89\u5168\u6027\u68c0\u67e5\u6709\u5173\uff0c\u5b83\u4eec\u53ef\u4ee5\u901a\u4fd7\u5730\u89e3\u91ca\u5982\u4e0b\uff1a</p> <ul> <li> <p>\u9759\u6001\u7c7b\u578b\uff1a\u7f16\u8bd1\u7684\u65f6\u5019\u8fdb\u884c\u5b89\u5168\u6027\u68c0\u67e5</p> </li> <li> <p>\u52a8\u6001\u7c7b\u578b\uff1a\u8fd0\u884c\u65f6\u624d\u8fdb\u884c\u5b89\u5168\u6027\u68c0\u67e5</p> </li> <li> <p>\u5f3a\u7c7b\u578b\uff1a\u8fdb\u884c\u5b89\u5168\u6027\u68c0\u67e5\u65f6\u53ef\u4ee5\u62d2\u7edd\u6240\u6709\uff08\u5927\u90e8\u5206\uff09\u4e0d\u5b89\u5168\u884c\u4e3a</p> </li> <li> <p>\u5f31\u7c7b\u578b\uff1a\u8fdb\u884c\u5b89\u5168\u6027\u68c0\u67e5\u65f6\u4e0d\u4f1a\u62d2\u7edd\u90e8\u5206\u4e0d\u5b89\u5168\u884c\u4e3a</p> </li> </ul> <p>\u5bf9\u4e8e\u57fa\u4e8e\u7c7b\u578b\u7cfb\u7edf\u7684\u8bed\u8a00\uff0c\u5b89\u5168\u6027\u68c0\u67e5\u5927\u90e8\u5206\u90fd\u662f\u7c7b\u578b\u68c0\u67e5\uff08Type Check\uff09\u3002\u53ef\u4ee5\u53d1\u73b0\uff0c\u8fd9\u56db\u4e2a\u540d\u8bcd\u548c\u201c\u7c7b\u578b\u201d\u6ca1\u6709\u76f4\u63a5\u7684\u5173\u7cfb\uff0c\u5b83\u4eec\u90fd\u662f\u7f16\u8bd1\u5668\u7684\u884c\u4e3a\u3002\u5b83\u4eec\u66f4\u51c6\u786e\u7684\u8bf4\u6cd5\u5e94\u8be5\u662f\uff1a\u9759\u6001\u68c0\u67e5\u3001\u52a8\u6001\u68c0\u67e5\u3001\u5f3a\u68c0\u67e5\u3001\u5f31\u68c0\u67e5\u3002</p> <p>\u9759\u6001\u68c0\u67e5\u548c\u52a8\u6001\u68c0\u67e5\u7684\u533a\u522b\u5728\u4e8e\u5b89\u5168\u6027\u68c0\u67e5\uff08\u7c7b\u578b\u68c0\u67e5\uff09\u53d1\u751f\u7684\u65f6\u673a\u4e0d\u540c\uff0c\u800c\u5f3a\u68c0\u67e5\u548c\u5f31\u68c0\u67e5\u7684\u533a\u522b\u5728\u4e8e\u5b89\u5168\u6027\u68c0\u67e5\u7a0b\u5ea6\u7684\u5f3a\u5f31\uff0c\u81f3\u4e8e\u5f3a\u5f31\u7684\u8fb9\u754c\u5728\u54ea\u91cc\uff0c\u5e76\u6ca1\u6709\u660e\u786e\u3001\u7edf\u4e00\u7684\u5b9a\u4e49\u3002\u6b63\u5982\u4e0a\u9762\u63d0\u5230\u7684\uff0c\u8fd9\u56db\u4e2a\u540d\u8bcd\u7684\u542b\u4e49\u5b58\u5728\u5f88\u591a\u4e89\u8bae\uff0c\u4e0d\u540c\u7684\u4eba\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u770b\u6cd5\u3002</p> <p>\u5bf9\u4e8e\u9759\u3001\u52a8\u6001\u7c7b\u578b\u7684\u533a\u5206\uff0c\u81f3\u5c11\u5b58\u5728\u4ee5\u4e0b\u89c2\u70b9\uff1a</p> <ul> <li>\u80fd\u4e0d\u80fd\u5728\u8fd0\u884c\u65f6\u6539\u53d8\u53d8\u91cf\u7684\u7c7b\u578b</li> <li>\u80fd\u4e0d\u80fd\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u5730\u6269\u5c55\u4e00\u4e2a\u7c7b\u578b</li> </ul> <p>\u5bf9\u4e8e\u5f3a\u3001\u5f31\u6001\u7c7b\u578b\u7684\u533a\u5206\uff0c\u81f3\u5c11\u5b58\u5728\u4ee5\u4e0b\u89c2\u70b9\uff1a</p> <ul> <li> <p>\u80fd\u4e0d\u80fd\u5728\u8fd0\u884c\u65f6\u6539\u53d8\u53d8\u91cf\u7684\u7c7b\u578b</p> <p>\u4f8b\u5982\uff0cC \u8bed\u8a00\u4e4b\u7236 Dennis Ritchie \u66fe\u7ecf\u8bf4 C \u8bed\u8a00\u662f\u4e00\u79cd\u201c\u5f3a\u7c7b\u578b\u4f46\u662f\u5f31\u68c0\u67e5\u201d\u7684\u8bed\u8a00\uff0c\u56e0\u4e3a\u90a3\u65f6\u5019\u8fd8\u6ca1\u6709\u9759\u3001\u52a8\u6001\u7c7b\u578b\u548c\u5f3a\u3001\u5f31\u7c7b\u578b\u4e4b\u5206\u3002</p> </li> <li> <p>\u662f\u5426\u5bf9\u53d8\u91cf\u7c7b\u578b\u8fdb\u884c\u9690\u5f0f\u8f6c\u6362\uff08\u9690\u5f0f\u8f6c\u6362\u53ef\u80fd\u5bfc\u81f4\u5b89\u5168\u6027\u95ee\u9898\uff09</p> </li> </ul> <p>\u5f3a\u3001\u5f31\u7c7b\u578b\u6982\u5ff5\u7684\u51fa\u73b0\u662f\u4e3a\u4e86\u5bf9\u7f16\u7a0b\u8bed\u8a00\u8fdb\u884c\u533a\u5206\uff0c\u4f46\u5b83\u4eec\u7684\u542b\u4e49\u8fc7\u4e8e\u5355\u4e00\u4ee5\u53ca\u8868\u9762\u5316\uff0c\u800c\u7f16\u7a0b\u8bed\u8a00\u7684\u5dee\u5f02\u4f53\u73b0\u5728\u591a\u4e2a\u7ef4\u5ea6\u4e0a\uff0c\u56e0\u6b64\u6709\u4eba\u63d0\u51fa\u4e86\u201ctype safety\u201d\u3001\u201cmemory safety\u201d\u7b49\u533a\u5206\u7ef4\u5ea6\uff0c\u4e5f\u51fa\u73b0\u4e86\u4e0e\u5f3a\u5f31\u7c7b\u578b\u5b58\u5728\u4ea4\u96c6\u7684\u9759\u3001\u52a8\u6001\u7c7b\u578b\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u56db\u4e2a\u540d\u8bcd\u5bf9\u7406\u89e3\u7f16\u7a0b\u8bed\u8a00\u7684\u672c\u8d28\u5e76\u6ca1\u6709\u5e2e\u52a9\uff0c\u56e0\u4e3a\u4e89\u8bba\u4e00\u4e9b\u4e1c\u897f\u53eb\u4ec0\u4e48\u540d\u5b57\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002\u53ea\u8981\u4eba\u4eec\u613f\u610f\uff0c\u6211\u4eec\u751a\u81f3\u53ef\u4ee5\u7ed9\u4e00\u4e9b\u7f16\u7a0b\u8bed\u8a00\u5206\u7c7b\u4e3adogshit typed language\u3002\u56e0\u6b64\u4e4b\u540e\u7684\u6587\u7ae0\u4e0d\u4f1a\u4e13\u95e8\u4f7f\u7528\u8fd9\u56db\u4e2a\u540d\u8bcd\uff0c\u5373\u4f7f\u6709\u63d0\u5230\uff0c\u4e5f\u4f1a\u7528\u9759\u52a8\u6001\u68c0\u67e5\u3001\u5f3a\u5f31\u68c0\u67e5\u66ff\u4ee3\uff0c\u4ee5\u907f\u514d\u6b67\u4e49\u548c\u5723\u6218\u3002</p> <p>\u5173\u4e8e\u8fd9\u56db\u4e2a\u6982\u5ff5\u66f4\u591a\u7684\u8bf4\u660e\uff0c\u53ef\u4ee5\u53c2\u8003\u300aType Systems\u300b\u8bba\u6587 (Luca Cardelli [Microsoft Research], 2004)\u3002\u8fd9\u7bc7\u8bba\u6587\u7814\u7a76\u4e86\u7f16\u7a0b\u8bed\u8a00\u4e0d\u540c\u7684\u7c7b\u578b\u7cfb\u7edf\u3002\u4ee5\u4e0b\u7684\u8bba\u8ff0\u5f15\u7528\u81ea\u8be5\u8bba\u6587\uff0c\u5bf9\u8fd9\u56db\u4e2a\u540d\u8bcd\u4f5c\u4e86\u8f83\u4e3a\u4e25\u8c28\u7684\u5b9a\u4e49\u3002</p> <p></p> <p>\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u7a0b\u5e8f\u7684\u6267\u884c\u9519\u8bef (execution errors) \u53ef\u4ee5\u5206\u4e3a\u5982\u4e0b\u4e24\u79cd\uff1a</p> <ol> <li>trapped errors\uff08\u88ab\u6355\u83b7\u7684\u9519\u8bef\uff09: \u5bfc\u81f4\u7a0b\u5e8f\u7acb\u5373\u7ec8\u6b62\u6267\u884c\u7684\u9519\u8bef\u3002</li> <li>untrapped errors\uff08\u672a\u88ab\u6355\u83b7\u7684\u9519\u8bef\uff09: \u51fa\u9519\u540e\u7a0b\u5e8f\u7ee7\u7eed\u8fd0\u884c\uff0c\u53ef\u80fd\u5bfc\u81f4\u610f\u5916\u7684\u884c\u4e3a\uff08\u5982\u7f13\u51b2\u533a\u6ea2\u51fa\uff09\u3002</li> </ol> <p>\u5bf9\u4e8e\u4efb\u610f\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u53ef\u4ee5\u5c06execution errors\u7684\u67d0\u4e2a\u5b50\u96c6\u5b9a\u4e49\u4e3a forbidden errors\u3002</p> <p>\u4e00\u4e2a\u7a0b\u5e8f\u8fd0\u884c\u65f6\u4e0d\u4f1a\u51fa\u73b0untrapped errors\uff0c\u79f0\u4e3a\u5b89\u5168\u7684 (safe)\u3002\u4e00\u4e2a\u8bed\u8a00\u7684\u6240\u6709\u7a0b\u5e8f\u90fd\u4e0d\u4f1a\u51fa\u73b0untrapped errors\uff0c\u5219\u79f0\u4e3a\u5b89\u5168\u7684\u8bed\u8a00 (safe language)\u3002</p> <p>forbidden errors\uff1a\u5305\u62ec\u6240\u6709untrapped errors\u4ee5\u53catrapped errors\u7684\u67d0\u4e2a\u5b50\u96c6\u3002</p> <p>\u6ce8\u610f\uff1a\u7a7a\u96c6\u662f\u4efb\u610f\u96c6\u5408\u7684\u5b50\u96c6\u3002</p> <p>\u5982\u679c\u7a0b\u5e8f\u5728\u8fd0\u884c\u65f6\u4e0d\u4f1a\u51fa\u73b0\u4efb\u4f55forbidden errors\uff0c\u5219\u79f0\u4e3a good behavior\uff0c\u5426\u5219\u79f0\u4e3a bad behavior\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u8bed\u8a00\u7684\u6240\u6709\u7a0b\u5e8f\u90fd\u662f good behavior \u7684\uff0c\u5219\u79f0\u8be5\u8bed\u8a00\u4e3a strongly checked language\uff0c\u5426\u5219\u4e3aweakly checked language\u3002</p> <p>\u5728\u7f16\u8bd1\u65f6\u62d2\u7edd bad behavior \u7684\u8bed\u8a00\u79f0\u4e3a statically checked language\u3002</p> <p>\u5982\u679c\u5728\u8fd0\u884c\u65f6\u62d2\u7edd bad behavior \u7684\u8bed\u8a00\u79f0\u4e3a dynamically checked language\u3002</p> <p>\u6ce8\u610f\uff1a\u8fd9\u91cc\u8bf4\u62d2\u7edd bad behavior \u662f\u6307\u5b58\u5728\u62d2\u7edd bad behavior \u7684\u884c\u4e3a\uff0c\u4f46\u4e0d\u4e00\u5b9a\u80fd\u62d2\u7edd\u5168\u90e8\u7684 bad behavior\u3002</p> <p>\u5982\u679c\u662f\u57fa\u4e8e\u7c7b\u578b\u7cfb\u7edf\u7684\u8bed\u8a00\uff0cstatic checking \u6216 dynamic checking \u5927\u90e8\u5206\u90fd\u662f\u7c7b\u578b\u68c0\u67e5\uff0c\u56e0\u4e3a\u7c7b\u578b\u7cfb\u7edf\u672c\u8eab\u5c31\u5177\u6709\u4fdd\u969c\u5b89\u5168\u6027\u7684\u529f\u80fd\u3002</p> <p>\u51fa\u4e8e\u6027\u80fd\u7684\u8003\u8651\uff0c\u6709\u4e9b\u8bed\u8a00\u672c\u8eab\u5c31\u88ab\u8bbe\u8ba1\u4e3a\u4e0d\u5b89\u5168\u7684\uff0c\u4f8b\u5982C\u8bed\u8a00\u3002\u5728\u8fd0\u884c\u65f6\u4e3a\u4e86\u786e\u4fdd\u5b89\u5168\u6027\u800c\u8fdb\u884c\u68c0\u67e5\uff0c\u5176\uff08\u6027\u80fd\uff09\u4ee3\u4ef7\u662f\u6602\u8d35\u7684\u3002\u5373\u4f7f\u5728\u7f16\u8bd1\u65f6\u8fdb\u884c\u5927\u91cf\u7684\u9759\u6001\u68c0\u67e5\uff0c\u5b9e\u73b0\u5b89\u5168\u6027\u4e5f\u9700\u8981\u4ed8\u51fa\u4e00\u4e9b\u4ee3\u4ef7\uff0c\u4f8b\u5982\u901a\u5e38\u65e0\u6cd5\u5728\u7f16\u8bd1\u65f6\u5b8c\u5168\u6d88\u9664\u6570\u7ec4\u7d22\u5f15\u51fa\u754c\u7684\u95ee\u9898\u3002\u56e0\u6b64\uff0c\u4e00\u4e9b\u8bed\u8a00\u53ef\u80fd\u4f1a\u540c\u65f6\u4f7f\u7528\u9759\u6001\u68c0\u67e5\u548c\u52a8\u6001\u68c0\u67e5\u3002\u8fd9\u4e9b\u8bed\u8a00\u53ef\u80fd\u4ecd\u7136\u88ab\u79f0\u4e3a\u9759\u6001\u68c0\u67e5\u8bed\u8a00\uff0c\u90e8\u5206\u539f\u56e0\u662f\u5b83\u4eec\u7684\u52a8\u6001\u68c0\u67e5\u662f\u57fa\u4e8e\u9759\u6001\u7c7b\u578b\u7cfb\u7edf\u7684\uff0c\u5373\u52a8\u6001\u68c0\u67e5\u7684\u7b97\u6cd5\u548c\u9759\u6001\u68c0\u67e5\u7684\u7b97\u6cd5\u517c\u5bb9\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.3.%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#_4","title":"\u53d8\u91cf\u53ca\u5176\u884c\u4e3a","text":"<p>\u53d8\u91cf\uff08Variable\uff09\u662f\u7f16\u7a0b\u8bed\u8a00\u6700\u91cd\u8981\u7684\u6982\u5ff5\u4e4b\u4e00\u3002</p> <p>\u53d8\u91cf\u662f\u8ba1\u7b97\u673a\u4e2d\u4e00\u5757\u547d\u540d\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u8be5\u5185\u5b58\u7a7a\u95f4\u7684\u5927\u5c0f\u7531\u53d8\u91cf\u7684\u7c7b\u578b\u51b3\u5b9a\u3002 \u8be5\u5185\u5b58\u7a7a\u95f4\u7528\u4e8e\u5b58\u50a8\u4e00\u4e2a\u503c\uff08Value\uff09\uff0c\u50a8\u5b58\u7684\u503c\u662f\u53ef\u4ee5\u968f\u65f6\u6539\u53d8\u7684\uff0c\u6bd4\u5982\u8fd9\u6b21\u5b58\u50a8\u5b57\u7b26<code>'a'</code>\uff0c\u4e0b\u6b21\u5b58\u50a8\u5b57\u7b26<code>'b'</code>\uff0c\u4f46\u662f\u8be5\u5185\u5b58\u7a7a\u95f4\u7684\u5730\u5740\u662f\u4e0d\u53d8\u7684\u3002\u6b63\u56e0\u5982\u6b64\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u53d8\u91cf\u3002</p> <p>\u5728\u9759\u6001\u8bed\u8a00\u4e2d\uff0c\u53d8\u91cf\u7684\u5185\u5b58\u5730\u5740\u662f\u4e0d\u53d8\u7684\uff0c\u4f46\u5728\u52a8\u6001\u8bed\u8a00\u4e2d\uff0c\u53d8\u91cf\u7684\u5185\u5b58\u5730\u5740\u5f80\u5f80\u662f\u4f1a\u6539\u53d8\u7684\u3002</p> <p>\u6216\u8005\u8bf4\uff0c\u53d8\u91cf\u662f\u4e00\u79cd\u4f7f\u7528\u65b9\u4fbf\u7684\u5360\u4f4d\u7b26\uff0c\u7528\u4e8e\u5f15\u7528\u8ba1\u7b97\u673a\u5185\u5b58\u5730\u5740\uff0c\u5b9e\u9645\u4e0a\u53d8\u91cf\u662f\u5185\u5b58\u53ca\u5176\u5730\u5740\u7684\u62bd\u8c61\u3002\u5728\u6c47\u7f16\u8bed\u8a00\u4e2d\uff0c\u7a0b\u5e8f\u5458\u4e3a\u4e86\u64cd\u4f5c\u5185\u5b58\u9700\u8981\u76f4\u63a5\u4f7f\u7528\u5185\u5b58\u5730\u5740\uff0c\u4f46\u5728\u9ad8\u7ea7\u8bed\u8a00\u4e2d\uff0c\u7a0b\u5e8f\u5458\u53ea\u9700\u8981\u5bf9\u53d8\u91cf\u8fdb\u884c\u64cd\u4f5c\uff0c\u5c31\u53ef\u4ee5\u64cd\u4f5c\u53d8\u91cf\u5bf9\u5e94\u7684\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u5360\u4f4d\u7b26\uff1a\u5148\u5360\u4f4f\u4e00\u4e2a\u56fa\u5b9a\u7684\u4f4d\u7f6e\uff0c\u7b49\u5f85\u503c\u6dfb\u52a0\u5230\u8be5\u4f4d\u7f6e\u7684\u7b26\u53f7\u3002</p> <p>\u53d8\u91cf\u62e5\u6709\u4e00\u4e2a\u6807\u8bc6\u7b26\uff08\u53d8\u91cf\u540d\uff09\u548c\u4e00\u4e2a\u503c\u3002\u8be5\u6807\u8bc6\u7b26\u4f1a\u88ab\u50a8\u5b58\u5728\u7b26\u53f7\u8868\uff08symbol table\uff09\u4e4b\u4e2d\u3002\u7b26\u53f7\u8868\u50a8\u5b58\u4e86\u53d8\u91cf\u7684\u53d8\u91cf\u540d\u3001\u53d8\u91cf\u5bf9\u5e94\u7684\u5185\u5b58\u7a7a\u95f4\u7684\u5730\u5740\u3001\u53d8\u91cf\u503c\u7684\u7c7b\u578b\u3002</p> <p>\u4e0d\u8981\u5f04\u6df7\u53d8\u91cf\u548c\u53d8\u91cf\u540d\uff0c\u53d8\u91cf\u540d\u662f\u6807\u8bc6\u7b26\u7684\u4e00\u79cd\u3002</p> <p>\u53d8\u91cf\u7684\u884c\u4e3a\u4e00\u5171\u6709\u56db\u79cd\uff1a\u58f0\u660e\u3001\u5b9a\u4e49\u3001\u521d\u59cb\u5316\u3001\u8d4b\u503c\u3002</p> <p>\u58f0\u660e\uff1a\u544a\u8bc9\u7f16\u8bd1\u5668/\u89e3\u6790\u5668\u6709\u8fd9\u4e2a\u53d8\u91cf\u7684\u5b58\u5728\uff0c\u8fd9\u4e2a\u884c\u4e3a\u4e0d\u5206\u914d\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u5b9a\u4e49\uff1a\u4e3a\u53d8\u91cf\u5206\u914d\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u4ece\u5e7f\u4e49\u7684\u89d2\u5ea6\u6765\u8bf4\uff0c\u58f0\u660e\u6709\u4e24\u79cd\uff1a</p> <ol> <li> <p>\u5f15\u7528\u6027\u58f0\u660e\uff08defining declaration\uff09\uff1a\u4e0d\u9700\u8981\u5efa\u7acb\u50a8\u5b58\u7a7a\u95f4\u7684\u58f0\u660e\uff0c\u4f8b\u5982<code>extern in a</code>\u4e2d\u7684\u53d8\u91cf<code>a</code>\u5df2\u7ecf\u5728\u522b\u7684\u6587\u4ef6\u4e2d\u88ab\u5b9a\u4e49\u3002</p> </li> <li> <p>\u5b9a\u4e49\u6027\u58f0\u660e\uff08referencing declaration\uff09\uff1a\u9700\u8981\u5efa\u7acb\u50a8\u5b58\u7a7a\u95f4\u7684\u58f0\u660e\uff0c\u4f8b\u5982<code>int a</code>\u5728\u58f0\u660e\u65f6\u5c31\u5efa\u7acb\u4e86<code>a</code>\u7684\u50a8\u5b58\u7a7a\u95f4\u3002</p> </li> </ol> <p>\u53ef\u89c1\u4ece\u5e7f\u4e49\u7684\u89d2\u5ea6\u6765\u8bf4\uff0c\u58f0\u660e\u5305\u542b\u4e86\u5b9a\u4e49\uff0c\u800c\u5e76\u975e\u6240\u6709\u7684\u58f0\u660e\u90fd\u662f\u5b9a\u4e49\u3002\u4e00\u822c\u7684\u60c5\u51b5\u4e0b\u6211\u4eec\u5e38\u5e38\u8fd9\u6837\u53d9\u8ff0\uff0c\u628a\u5efa\u7acb\u7a7a\u95f4\u7684\u58f0\u660e\u79f0\u4e4b\u4e3a\"\u5b9a\u4e49\"\uff0c\u800c\u628a\u4e0d\u9700\u8981\u5efa\u7acb\u5b58\u50a8\u7a7a\u95f4\u79f0\u4e4b\u4e3a\"\u58f0\u660e\"\u3002</p> <p>\u5b9a\u4e49\u548c\u58f0\u660e\u7684\u672c\u8d28\u533a\u522b\u5c31\u662f\uff1a\u5b9a\u4e49\u4f1a\u7ed9\u53d8\u91cf\u5206\u914d\u5185\u5b58\u7a7a\u95f4\uff0c\u800c\u58f0\u660e\u5219\u4e0d\u4f1a\u3002</p> <p>\u521d\u59cb\u5316\uff1a\u5728\u5b9a\u4e49\u53d8\u91cf\u4e4b\u540e\uff0c\u7cfb\u7edf\u4e3a\u53d8\u91cf\u5206\u914d\u7684\u5185\u5b58\u7a7a\u95f4\u5185\u5e76\u6ca1\u6709\u503c\uff0c\u6b64\u65f6\u503c\u662f\u4e0d\u786e\u5b9a\u7684\u3002\u4e3a\u4fdd\u8bc1\u7a0b\u5e8f\u7684\u5b89\u5168\u6027\u548c\u786e\u5b9a\u6027\uff0c\u9700\u8981\u5bf9\u8fd9\u4e2a\u5185\u5b58\u7a7a\u95f4\u8fdb\u884c\u521d\u59cb\u5316\u3002\u521d\u59cb\u5316\u4e00\u822c\u4f34\u968f\u7740\u5b9a\u4e49\u800c\u4ea7\u751f\u3002\u521d\u59cb\u5316\u662f\u4ece\u65e0\u5230\u6709\u7684\u8fc7\u7a0b\u3002</p> <p>\u5982\u679c\u53d8\u91cf\u7684\u5b9a\u4e49\u6ca1\u6709\u521d\u59cb\u5316\uff0c\u90a3\u8fd9\u4e2a\u6700\u521d\u5206\u914d\u7684\u7a7a\u95f4\u7684\u503c\u53ef\u80fd\u662f\u968f\u673a\u7684\uff08\u5185\u5b58\u7a7a\u95f4\u4e0a\u539f\u6765\u5b58\u50a8\u7684\u503c\uff09\uff0c\u4e5f\u53ef\u80fd\u4f1a\u88ab\u8d4b\u4e88\u4e00\u4e2a\u9ed8\u8ba4\u503c\u3002\u8fd9\u53d6\u51b3\u4e8e\u5177\u4f53\u7f16\u7a0b\u8bed\u8a00\u7684\u7279\u6027\u3002\u4e0d\u7ecf\u8fc7\u521d\u59cb\u5316\u7684\u53d8\u91cf\u53ef\u80fd\u4f1a\u4e3a\u7a0b\u5e8f\u5e26\u6765\u4e0d\u5b89\u5168\u4e0e\u4e0d\u786e\u5b9a\u6027\u3002</p> <p>\u8d4b\u503c\uff1a\u8d4b\u503c\u662f\u53d8\u91cf\u503c\u7684\u5237\u65b0\u64cd\u4f5c\u3002\u8d4b\u503c\u662f\u4ece\u65e7\u5230\u65b0\u7684\u8fc7\u7a0b\u3002</p> <p>\u5728\u9759\u6001\u68c0\u67e5\u8bed\u8a00\u548c\u52a8\u6001\u68c0\u67e5\u8bed\u8a00\u4e2d\uff0c\u53d8\u91cf\u7684\u8868\u73b0\u662f\u4e0d\u4e00\u6837\u7684\u3002</p> <p>\u5728\u9759\u6001\u68c0\u67e5\u8bed\u8a00\u4e2d\uff08\u4f8b\u5982\uff1aC\u3001C++\uff09\uff0c\u53d8\u91cf\u867d\u7136\u53ef\u4ee5\u58f0\u660e\u591a\u6b21\uff0c\u4f46\u53ea\u80fd\u5b9a\u4e49\u4e00\u6b21\uff0c\u56e0\u6b64\uff0c\u53d8\u91cf\u5728\u5b9a\u4e49\u540e\uff0c\u5176\u53d8\u91cf\u540d\u548c\u4e00\u4e2a\u7c7b\u578b\u6c38\u4e45\u7ed1\u5b9a\u3002\u8fd9\u6b63\u662f\u9759\u6001\u68c0\u67e5\u8bed\u8a00\u7684\u5173\u952e\u7279\u6027\uff0c\u5982\u679c\u53d8\u91cf\u540d\u53ef\u4ee5\u52a8\u6001\u5730\u548c\u4e0d\u540c\u7684\u7c7b\u578b\u7ed1\u5b9a\uff0c\u7c7b\u578b\u68c0\u67e5\u5c06\u53d8\u5f97\u5f88\u56f0\u96be\u3002\u56e0\u4e3a\u53d8\u91cf\u7684\u65b0\u503c\u548c\u65e7\u503c\u7684\u7c7b\u578b\u662f\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u65b0\u65e7\u503c\u6240\u9700\u7684\u5185\u5b58\u7a7a\u95f4\u5927\u5c0f\u4e5f\u662f\u4e00\u6837\u7684\uff0c\u56e0\u6b64\uff0c\u8d4b\u503c\u53ef\u4ee5\u8986\u76d6\u5185\u5b58\u7a7a\u95f4\u7684\u65e7\u503c\uff0c\u800c\u65e0\u987b\u5206\u914d\u4e00\u4e2a\u65b0\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u4e5f\u4e0d\u4f1a\uff08\u65e0\u9700\uff09\u6539\u53d8\u7b26\u53f7\u8868\u4e2d\u5185\u5b58\u7a7a\u95f4\u5730\u5740\u548c\u53d8\u91cf\u540d\u7684\u6620\u5c04\u5173\u7cfb\u3002</p> <p>\u6240\u4ee5\u5728\u9759\u6001\u68c0\u67e5\u8bed\u8a00\u4e2d\uff0c\u4eba\u4eec\u4e00\u822c\u8bf4\u53d8\u91cf\u662f\u6709\u7c7b\u578b\u7684\u3002</p> <p>\u800c\u5728\u52a8\u6001\u68c0\u67e5\u8bed\u8a00\u4e2d\uff08\u4f8b\u5982Python\u3001Ruby\uff09\uff0c\u5bf9\u53d8\u91cf\u8d4b\u503c\u4e0d\u9700\u8981\u5148\u58f0\u660e\u7c7b\u578b\uff0c\u8d4b\u503c\u53ef\u4ee5\u5c06\u53d8\u91cf\u540d\u4e0e\u65b0\u7684\u7c7b\u578b\u7ed1\u5b9a\u3002\u8fd9\u662f\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\u7684\u5173\u952e\u7279\u6027\u3002\u56e0\u4e3a\u53d8\u91cf\u7684\u65b0\u503c\u548c\u65e7\u503c\u7684\u7c7b\u578b\u4e0d\u4e00\u5b9a\u662f\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u8d4b\u503c\u65f6\u9700\u8981\u5206\u914d\u4e00\u4e2a\u65b0\u7684\u5185\u5b58\u7a7a\u95f4\u50a8\u5b58\u65b0\u503c\uff0c\u540c\u65f6\u7b26\u53f7\u8868\u4e2d\u53d8\u91cf\u540d\u4e0e\u65e7\u503c\u5730\u5740\u7684\u6620\u5c04\u6539\u4e3a\u53d8\u91cf\u540d\u4e0e\u65b0\u503c\u5730\u5740\u7684\u6620\u5c04\u3002</p> <p>\u6240\u4ee5\u5728\u52a8\u6001\u68c0\u67e5\u8bed\u8a00\u4e2d\uff0c\u4eba\u4eec\u4e00\u822c\u8bf4\u53d8\u91cf\u6ca1\u6709\u7c7b\u578b\uff0c\u751a\u81f3\u8bf4\u6ca1\u6709\u53d8\u91cf\u3002\u4f8b\u5982\uff0c\u5728Python\u4e2d\uff0c\u6709\u4e9b\u4eba\u4f1a\u8ba4\u4e3aPython\u6ca1\u6709\u53d8\u91cf\uff0c\u53ea\u6709\u540d\u5b57\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u5f88\u53ef\u80fd\u53ea\u662f\u56e0\u4e3a\u9759\u6001\u8bed\u8a00\u6bd4\u52a8\u6001\u8bed\u8a00\u5148\u51fa\u73b0\uff0c\u5f88\u591a\u4eba\u4e00\u5f00\u59cb\u5b66\u4e60\u7684\u7f16\u7a0b\u8bed\u8a00\u4e5f\u662f\u9759\u6001\u8bed\u8a00\uff0c\u6240\u4ee5\u4ed6\u4eec\u8ba4\u4e3a\u4e00\u4e2a\u53d8\u91cf\u5e94\u8be5\u5177\u6709\u9759\u6001\u8bed\u8a00\u4e2d\u53d8\u91cf\u6240\u5177\u6709\u7684\u7279\u5f81\uff0c\u5426\u5219\u5c31\u4e0d\u80fd\u79f0\u4e3a\u53d8\u91cf\u3002</p> <p>\u5728\u8ba1\u7b97\u673a\u9886\u57df\u4e2d\uff0c\u4eba\u4eec\u5f80\u5f80\u4f1a\u628a\u4e00\u4e2a\u6982\u5ff5\u4e0e\u5177\u4f53\u7684\u5b9e\u73b0\u7ed3\u5408\u8d77\u6765\uff0c\u8ba4\u4e3a\u8fd9\u4e2a\u5177\u4f53\u7684\u5b9e\u73b0\u6240\u5177\u6709\u7684\u7279\u5f81\u662f\u8fd9\u4e2a\u6982\u5ff5\u672c\u8eab\u5e94\u6709\u7684\u7279\u5f81\u3002</p> <p>\u5f62\u8c61\u6765\u8bf4\uff0c\u5bf9\u4e8e\u9759\u6001\u68c0\u67e5\u7684\u8bed\u8a00\uff0c\u53d8\u91cf\u5c31\u50cf\u4e00\u95f4\u623f\u5b50\uff0c\u53d8\u91cf\u540d\u76f8\u5f53\u4e8e\u623f\u5b50\u7684\u95e8\u724c\u53f7\uff0c\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u95e8\u724c\u53f7\u6765\u627e\u5230\u5bf9\u5e94\u7684\u623f\u5b50\u3002\u8fd9\u4e2a\u623f\u5b50\u4eca\u5929\u91cc\u9762\u4f4f\u7740\u7c73\u5947\uff0c\u660e\u5929\u7c73\u5947\u642c\u8d70\u4e86\uff0c\u6362\u6210\u6770\u745e\u4f4f\u8fdb\u6765\uff0c\u56e0\u4e3a\u7c73\u5947\u548c\u6770\u745e\u90fd\u662fmouse\uff0c\u4e0d\u9700\u8981\u5bf9\u623f\u5b50\u8fdb\u884c\u6539\u9020\uff0c\u56e0\u6b64\u623f\u5b50\u7684\u4f4d\u7f6e\u3001\u7a7a\u95f4\u5927\u5c0f\u90fd\u662f\u6ca1\u6709\u6539\u53d8\u7684\u3002\u540e\u6765\uff0c\u6c64\u59c6\u4e5f\u60f3\u4f4f\u8fdb\u623f\u5b50\u91cc\u9762\uff0c\u4e8e\u662f\u628a\u6770\u745e\u8d76\u8dd1\u4e86\uff0c\u4f46\u662f\u6c64\u59c6\u53d1\u73b0\u8fd9\u4e2a\u623f\u5b50\u592a\u5c0f\u4e86\uff0c\u6839\u672c\u4f4f\u4e0d\u4e86\uff0c\u6c64\u59c6\u53ea\u597d\u5728\u522b\u7684\u5730\u65b9\u65b0\u5efa\u4e86\u4e00\u4e2a\u5927\u623f\u5b50\uff0c\u5e76\u8d34\u4e0a\u4e86\u6770\u745e\u623f\u5b50\u7684\u95e8\u724c\u53f7\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.3.%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#_5","title":"\u57fa\u672c\u672f\u8bed\u89e3\u91ca","text":"<p>\u5f15\u7528\uff08reference \uff09\uff1a\u4e00\u4e2a\u53ef\u4ee5\u8ba9\u7a0b\u5f0f\u95f4\u63a5\u5b58\u53d6\u4e8e\u7535\u8111\u8bb0\u5fc6\u4f53\u6216\u5176\u4ed6\u50a8\u5b58\u88c5\u7f6e\u4e2d\u4e00\u7279\u5b9a\u8d44\u6599\u7684\u503c\u3002\u4e00\u822c\u800c\u8a00\uff0c\u5f15\u7528\u4f1a\u662f\u8d44\u6599\u50a8\u5b58\u4e8e\u8bb0\u5fc6\u4f53\u6216\u50a8\u5b58\u88c5\u7f6e\u4e2d\u7684\u5b9e\u4f53\u4f4d\u5740 \u3002\u56e0\u6b64\uff0c\u5f15\u7528\u4ea6\u5e38\u88ab\u79f0\u4e3a \u8be5\u8d44\u6599 \u7684\u6307\u9488\u6216\u5730\u5740\u3002</p> <p>\u6807\u8bc6\u7b26\uff08identifier\uff0c\u7f29\u5199\u4e3aID\uff09\uff1a\u53c8\u79f0\u4e3a\u8bc6\u522b\u7801\uff0c\u662f\u4e00\u4e2a\u7528\u6765\u8bc6\u522b\u4e0d\u540c\u5bf9\u8c61\u7684\u540d\u79f0\u3002</p> <p>\u5728\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff0c\u6807\u8bc6\u7b26\u5c31\u662f\u7a0b\u5e8f\u5458\u81ea\u5df1\u89c4\u5b9a\u7684\u5177\u6709\u7279\u5b9a\u542b\u4e49\u7684\u8bcd\uff0c\u6bd4\u5982\u51fd\u6570\u540d\u3001\u65b9\u6cd5\u540d\u3001\u7c7b\u540d\uff0c\u53d8\u91cf\u540d\u3001\u5e38\u91cf\u540d\u7b49\u3002 </p> <p>\u5bf9\u8c61\uff08object\uff09\uff1a\u662f\u4e00\u4e2a\u5185\u5b58\u7a7a\u95f4\uff0c\u5176\u4e2d\u50a8\u5b58\u7740\u503c\uff0c\u53ef\u80fd\u6709\u6807\u8bc6\u7b26\u6307\u5411\u8be5\u5185\u5b58\u7a7a\u95f4\u7684\u5730\u5740\u3002\u53f0\u6e7e\u5c06\u5176\u8bd1\u4f5c\u7269\u4ef6\u3002\u5bf9\u8c61\u662f\u67d0\u4e2a\u7c7b\u7684\u5b9e\u4f8b\u3002\u6211\u4eec\u5c06\u6570\u636e\u548c\u5bf9\u6570\u636e\u7684\u64cd\u4f5c\u878d\u4e3a\u4e00\u4f53\uff0c\u5f62\u6210\u5177\u6709\u9759\u6001\u4fe1\u606f\u548c\u52a8\u6001\u884c\u4e3a\u7684\u5bf9\u8c61\u3002    </p> <p>\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u5177\u6709\u4e00\u4e2aID\u3001\u4e00\u4e2a\u7c7b\u578b\u3001\u4e00\u4e2a\u503c\u3002\u5bf9\u8c61\u4e00\u65e6\u5efa\u7acb\uff0cID\u4fbf\u4e0d\u4f1a\u6539\u53d8\u3002\u8fd9\u91cc\u6240\u8bf4\u7684ID\u662f\u662f\u5bf9\u8c61\u5728\u5185\u5b58\u4e2d\u7684\u5730\u5740\uff0c\u800c\u4e0d\u662fidentifier\u3002</p> <p>\u5bf9\u8c61\u53ef\u4ee5\u89c6\u4e3a\u5e7f\u4e49\u7684\u6570\u636e\uff0c\u56e0\u6b64\u548c\u666e\u901a\u6570\u636e\u4e00\u6837\u5c5e\u4e8e\u67d0\u79cd\u6570\u636e\u7c7b\u578b\u3002</p> <p>\u6807\u8bc6\u7b26\u5e76\u4e0d\u662f\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u4e00\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u6307\u5411\u4e0d\u540c\u7684\u6807\u8bc6\u7b26\u3002\u800c\u7ba1\u7406\u8fd9\u4e9b\u540d\u5b57\uff08\u6807\u8bc6\u7b26\uff09\u7684\u4e8b\u7269\u5c31\u662f\u201c\u547d\u540d\u7a7a\u95f4\u201d\u3002 </p> <p>\u547d\u540d\u7a7a\u95f4\uff08Namespace\uff09\uff1a\u540d\u5b57\uff08\u6807\u8bc6\u7b26\uff09\u5230\u5bf9\u8c61\u7684 \u6620\u5c04\u3002\u547d\u540d\u7a7a\u95f4\u7684\u4f5c\u7528\u662f\u89e3\u51b3\u53d8\u91cf\u547d\u540d\u51b2\u7a81\u7684\u95ee\u9898\u3002</p> <p>\u5404\u4e2a\u547d\u540d\u7a7a\u95f4\u662f\u72ec\u7acb\u7684\uff0c\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\u7684\uff0c\u6240\u4ee5\u540c\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\u4e2d\u4e0d\u80fd\u6709\u91cd\u540d\u53d8\u91cf\uff0c\u4f46\u4e0d\u540c\u7684\u547d\u540d\u7a7a\u95f4\u53ef\u4ee5\u5b58\u5728\u91cd\u540d\u53d8\u91cf\u800c\u6ca1\u6709\u4efb\u4f55\u5f71\u54cd\u3002 </p> <p>\u4f5c\u7528\u57df\uff08Scope\uff09\uff1a\u672c\u8d28\u662f\u4e00\u5757\u6587\u672c\u533a\u57df\uff0c\u5373\u53d8\u91cf\u6807\u8bc6\u7b26\u7684\u4f5c\u7528\u8303\u56f4\uff0c\u8fd9\u91cc\u7684\u201d\u4f5c\u7528\u201c\u5177\u4f53\u662f\u6307\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u76f8\u5e94\u7684\u547d\u540d\u7a7a\u95f4\u3002\u4f5c\u7528\u57df\u9650\u5b9a\u4e86\u53ef\u4ee5\u8bbf\u95ee\u7684\u547d\u540d\u7a7a\u95f4\uff0c\u540c\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\u53ef\u4ee5\u540c\u65f6\u88ab\u591a\u4e2a\u4f5c\u7528\u57df\u8bbf\u95ee\u3002</p> <p>\u540d\u5b57\u7684\u4f5c\u7528\u57df\uff1a\u8be5\u540d\u5b57\u53ef\u4ee5\u5f71\u54cd\u5230\u7684\u4ee3\u7801\u6587\u672c\u533a\u57df\u3002</p> <p>\u547d\u540d\u7a7a\u95f4\u7684\u4f5c\u7528\u57df\uff1a\u8be5\u547d\u540d\u7a7a\u95f4\u53ef\u4ee5\u5f71\u54cd\u5230\u7684\u4ee3\u7801\u6587\u672c\u533a\u57df\u3002</p> <p>\u76f4\u63a5\u8bbf\u95ee\uff1a\u5728\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff08\u5982Python\uff09\uff0c\u4e0d\u52a0 <code>.</code> \u7684\u8bbf\u95ee\u4e3a\u76f4\u63a5\u8bbf\u95ee\uff0c\u53cd\u4e4b\u4e3a\u5c5e\u6027\u8bbf\u95ee\u3002 </p> <p>\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\uff1a\u57fa\u4e8e\u5bf9\u8c61\u6982\u5ff5\u6765\u5206\u6790\u95ee\u9898\u548c\u8bbe\u8ba1\u7a0b\u5e8f\uff0c\u8fd9\u5c31\u662f\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\uff08object-orientation programming\uff0c\u7b80\u79f0OOP\uff09\u3002\u901a\u8fc7OOP\u6240\u5f97\u5230\u7684\u7a0b\u5e8f\u662f\u4e00\u4e2a\u7531\u5f88\u591a\u5bf9\u8c61\u7ec4\u6210\u7684\u7cfb\u7edf\uff0c\u53ef\u4ee5\u5411\u5bf9\u8c61\u53d1\u9001\u6d88\u606f\u6765\u5b9e\u73b0\u5bf9\u6570\u636e\u7684\u5904\u7406\uff0c\u5168\u4f53\u5bf9\u8c61\u901a\u8fc7\u76f8\u4e92\u534f\u4f5c\u6765\u5b8c\u6210\u7a0b\u5e8f\u7684\u6570\u636e\u5904\u7406\u529f\u80fd\u3002</p> <p>\u9762\u5411\u8fc7\u7a0b\u7f16\u7a0b\uff1a\u5f97\u5230\u7684\u7a0b\u5e8f\u662f\u4e00\u7ec4\u5bf9\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\u7684\u8fc7\u7a0b\uff0c\u901a\u8fc7\u6309\u987a\u5e8f\u6267\u884c\u8fd9\u4e9b\u8fc7\u7a0b\u6765\u5b9e\u73b0\u7a0b\u5e8f\u529f\u80fd\u3002   </p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.3.%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#_6","title":"\u7c7b\u7684\u6982\u5ff5","text":"<p>\u5728\u7f16\u7a0b\u65f6\uff0c\u67d0\u4e00\u6bb5\u4ee3\u7801\u8981\u5904\u7406\u7684\u6570\u636e\u7c7b\u578b\u5f80\u5f80\u662f\u56fa\u5b9a\u7684\uff0c\u6216\u8005\u662f\u7c7b\u4f3c\u7684\u3002\u4e3a\u4e86\u66f4\u65b9\u4fbf\u5730\u64cd\u7eb5\u6570\u636e\uff0c\u4eba\u4eec\u5c06\u6570\u636e\u548c\u64cd\u7eb5\u8be5\u6570\u636e\u7684\u4ee3\u7801\u7ed1\u5b9a\uff0c\u79f0\u4e4b\u4e3a\u7c7b\u3002\u7c7b\u662f\u7c7b\u578b\u6982\u5ff5\u7684\u53d1\u5c55\u3002 \u7c7b\u53ef\u4ee5\u89c6\u4e3a\u5e7f\u4e49\u7684\u6570\u636e\uff0c\u56e0\u6b64\u548c\u666e\u901a\u6570\u636e\u4e00\u6837\u5c5e\u4e8e\u67d0\u79cd\u6570\u636e\u7c7b\u578b\u3002</p> <p>\u7528\u7f16\u7a0b\u8bed\u8a00\u89e3\u51b3\u95ee\u9898\u65f6\uff0c\u9996\u5148\u9700\u8981\u660e\u786e\u95ee\u9898\u4e2d\u6d89\u53ca\u54ea\u4e9b\u6570\u636e\uff0c\u5e76\u5728\u7a0b\u5e8f\u4e2d\u5c06\u8fd9\u4e9b\u6570\u636e\u7528\u7f16\u7a0b\u8bed\u8a00\u63d0\u4f9b\u7684\u6570\u636e\u7c7b\u578b\u8868\u793a\u51fa\u6765\uff0c\u7136\u540e\u518d\u53bb\u8003\u8651\u9700\u8981\u5bf9\u8fd9\u4e9b\u6570\u636e\u6267\u884c\u4f55\u79cd\u64cd\u4f5c\u3002\u8fd9\u662f\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u601d\u60f3\u3002</p> <p>\u6570\u636e\u7c7b\u578b\u662f\u5bf9\u73b0\u5b9e\u4e2d\u7684\u6570\u636e\u7684\u62bd\u8c61\uff0c\u76f8\u540c\u6216\u76f8\u4f3c\u7684\u6570\u636e\u7c7b\u578b\u652f\u6301\u76f8\u540c\u7684\u64cd\u4f5c\uff0c\u4f8b\u5982\u6574\u6570\u7c7b\u578b\u548c\u6d6e\u70b9\u6570\u7c7b\u578b\u7684\u6570\u636e\u90fd\u652f\u6301<code>+</code>\u8fd0\u7b97\u3002</p> <p>\u5927\u591a\u7f16\u7a0b\u8bed\u8a00\u90fd\u63d0\u4f9b\u4e86\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4f8b\u5982\u6574\u6570\u7c7b\u578b\u3001\u6d6e\u70b9\u6570\u7c7b\u578b\u3001\u5b57\u7b26\u7c7b\u578b\u7b49\u7b49\u3002\u4f46\u5b9e\u9645\u95ee\u9898\u4e2d\u5f80\u5f80\u6d89\u53ca\u5f88\u590d\u6742\u7684\u6570\u636e\uff0c\u4e0d\u80fd\u7528\u57fa\u672c\u6570\u636e\u7c7b\u578b\u76f4\u63a5\u8868\u793a\u3002\u4e3a\u4e86\u8868\u793a\u590d\u6742\u6570\u636e\uff0c\u5927\u4f53\u6709\u4e24\u79cd\u529e\u6cd5\uff1a</p> <p>1.\u4e00\u5c06\u590d\u6742\u6570\u636e\u5206\u89e3\u6210\u82e5\u5e72\u4e2a\u7b80\u5355\u6570\u636e\u9879\uff0c\u6bcf\u4e2a\u6570\u636e\u9879\u53ef\u4ee5\u7528\u57fa\u672c\u6570\u636e\u7c7b\u578b\u8868\u793a\u3002</p> <p>\u8fd9\u662fC\u8bed\u8a00\u4e2d\u5e38\u7528\u7684\u65b9\u6cd5\uff0c\u56e0\u4e3aC\u8bed\u8a00\u63d0\u4f9b\u4e86\u4e00\u4e9b\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4f46\u662f\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u7c7b\u578b\u3002</p> <p>2.\u8ba9\u7a0b\u5e8f\u5458\u81ea\u5b9a\u4e49\u65b0\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4ee5\u4fbf\u5bf9\u590d\u6742\u6570\u636e\u8fdb\u884c\u76f4\u63a5\u7684\u3001\u6574\u4f53\u7684\u8868\u793a\u3002</p> <p>\u53ef\u4ee5\u81ea\u5b9a\u7c7b\u578b\u662f\u652f\u6301\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u8303\u5f0f\u7684\u5fc5\u8981\u6761\u4ef6\u3002</p> <p>\u4f8b\u5982\uff0c\u4e00\u4e2a\u5b66\u751f\u7684\u4fe1\u606f\u5305\u62ec\u59d3\u540d\u3001\u5e74\u9f84\u3001\u73ed\u7ea7\u3001\u4f4f\u5740\u7b49\u7b49\u3002\u8fd9\u4e9b\u57fa\u672c\u4fe1\u606f\u53ef\u4ee5\u7528\u591a\u79cd\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff08\u5982\u6574\u6570\u7c7b\u578b\u3001\u5b57\u7b26\u4e32\u7c7b\u578b\uff09\u5206\u522b\u8868\u793a\uff0c\u5982\u56fe1\u3002\u4f46\u8fd9\u4e0d\u662f\u597d\u529e\u6cd5\uff0c\u56e0\u4e3a\u8fd9\u79cd\u8868\u793a\u6cd5\u4e22\u5931\u4e86\u6570\u636e\u7684\u6574\u4f53\u6027\uff0c\u5728\u7ef4\u62a4\u59d3\u540d\u3001\u5e74\u9f84\u3001\u5730\u5740\u7b49\u6570\u636e\u95f4\u7684\u8054\u7cfb\u65f6\u5f88\u9ebb\u70e6\u3002</p> <p>\u7b2c\u4e8c\u79cd\u89e3\u51b3\u529e\u6cd5\u662f\u5c06\u5b66\u751f\u7684\u4fe1\u606f\u89c6\u4e3a\u4e00\u4e2a\u6574\u4f53\uff0c\u7528\u4e00\u79cd\u6570\u636e\u7c7b\u578b\u8868\u793a\uff0c\u5982\u56fe2\u3002\u56e0\u4e3a\u7f16\u7a0b\u8bed\u8a00\u4e2d\u6ca1\u6709\u73b0\u6210\u7684\u7c7b\u578b\u80fd\u591f\u8868\u793a\u8be5\u6570\u636e\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4e3a\u8fd9\u79cd\u6570\u636e\u503c\u5b9a\u4e49\u65b0\u7684\u6570\u636e\u7c7b\u578b\u2014\u2014<code>Student</code>\u7c7b\u578b\u3002</p> <p></p> <p><code>Student</code>\u7c7b\u578b\u5b9e\u9645\u4e0a\u662f\u5728\u5185\u90e8\u5c06<code>string</code>\u3001<code>int</code>\u7c7b\u578b\u7ec4\u5408\u8d77\u6765\uff0c\u8fd9\u53ef\u80fd\u88ab\u79f0\u4e3a\u590d\u5408\u7c7b\u578b\uff08composite data type, aggregate data type\uff09\u3002</p> <p>\u7531\u6b64\uff0c\u6211\u4eec\u4ece\u4f20\u7edf\u7684\u6570\u636e\u7c7b\u578b\u6982\u5ff5\u53d1\u5c55\u51fa\u4e86\u201c\u7c7b\u201d\u7684\u6982\u5ff5\u3002\u7c7b\uff08class\uff09\u662f\u5e7f\u4e49\u7684\u6570\u636e\u7c7b\u578b\uff0c\u80fd\u591f\u5b9a\u4e49\u590d\u6742\u6570\u636e\u7684\u7279\u6027\uff0c\u5305\u62ec\u9759\u6001\u7279\u6027\uff08\u5373\u6570\u636e\uff09\u548c\u52a8\u6001\u7279\u6027\uff08\u5373\u5bf9\u6570\u636e\u7684\u64cd\u4f5c\u65b9\u6cd5\uff09\u3002\u7c7b\u7684\u5b9e\u4f8b\u79f0\u4e3a\u5bf9\u8c61\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.3.%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#_7","title":"\u8fed\u4ee3\u3001\u5faa\u73af\u3001\u9012\u5f52\u3001\u904d\u5386","text":"<p>\u8868\u793a\u91cd\u590d\u7684\u8ba1\u7b97\u673a\u672f\u8bed\u67094\u4e2a\uff1a</p> <ul> <li>\u5faa\u73af\uff08loop\uff09\uff1a\u5728\u6ee1\u8db3\u6761\u4ef6\u7684\u60c5\u51b5\u4e0b\uff0c\u91cd\u590d\u6267\u884c\u540c\u4e00\u6bb5\u4ee3\u7801\u3002\u5faa\u73af\u4fa7\u91cd\u4e8e\u5f3a\u8c03\u6bcf\u6b21\u64cd\u4f5c\u548c\u4e0a\u4e00\u6b21\u64cd\u4f5c\u7684\u76f8\u540c\u4e4b\u5904\u3002</li> <li>\u8fed\u4ee3\uff08iterate\uff09\uff1a\u662f\u4e00\u4e2a\u4e0d\u65ad\u91cd\u590d\u6267\u884c\u7684\u8fc7\u7a0b\uff0c\u6bcf\u6b21\u8fed\u4ee3\u66f4\u65b0\u4e0a\u4e00\u6b21\u8fed\u4ee3\u5f97\u5230\u7684\u67d0\u4e9b\u503c\u3002\u8fed\u4ee3\u4fa7\u91cd\u4e8e\u5f3a\u8c03\u6bcf\u6b21\u64cd\u4f5c\u548c\u4e0a\u4e00\u6b21\u64cd\u4f5c\u7684\u4e0d\u540c\u4e4b\u5904\u3002</li> <li>\u904d\u5386\uff08traversal\uff09\uff1a\u6309\u7167\u4e00\u5b9a\u7684\u89c4\u5219\u8bbf\u95ee\u67d0\u79cd\u590d\u5408\u7684\u6570\u636e\u7ed3\u6784\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\uff0c\u800c\u4e14\u6bcf\u4e2a\u8282\u70b9\u90fd\u53ea\u8bbf\u95ee\u4e00\u6b21\u3002</li> <li>\u9012\u5f52\uff08recursion\uff09\uff1a\u4e00\u4e2a\u51fd\u6570\u4e0d\u65ad\u8c03\u7528\u81ea\u8eab\u7684\u884c\u4e3a\u3002</li> </ul> <p>\u904d\u5386\u548c\u9012\u5f52\u7684\u542b\u4e49\u6bd4\u8f83\u6e05\u6670\uff0c\u4f46\u5faa\u73af\u548c\u8fed\u4ee3\u7684\u542b\u4e49\u6bd4\u8f83\u6df7\u4e71\uff0c\u5b9e\u9645\u4e0a\uff0c\u5927\u591a\u6570\u65f6\u5019\uff0c\u5faa\u73af\u3001\u8fed\u4ee3\u548c\u904d\u5386\u90fd\u662f\u6307\u540c\u4e00\u4e2a\u4e8b\u7269\uff0c\u53ea\u662f\u5b83\u4eec\u6240\u63cf\u8ff0\u7684\u4fa7\u91cd\u70b9\u4e0d\u4e00\u6837\u3002\u6211\u4eec\u4e0d\u5e94\u8be5\u8fc7\u5ea6\u5173\u6ce8\u8fd9\u4e9b\u540d\u8bcd\u7684\u533a\u522b\uff0c\u800c\u5e94\u8be5\u6ce8\u610f\u5230\u4e0d\u540c\u7684\u91cd\u590d\u673a\u5236\u3002</p> <p>\u968f\u7740\u9012\u5f52\u7684\u8fdb\u884c\uff0c\u95ee\u9898\u7684\u89c4\u6a21\u662f\u9010\u6e10\u51cf\u5c0f\u7684\uff0c\u4ece\u800c\u5f97\u5230\u6700\u7ec8\u7684\u89e3\uff1b\u800c\u5728\u8fed\u4ee3\u7684\u8fc7\u7a0b\u4e2d\uff0c\u95ee\u9898\u7684\u89c4\u6a21\uff08\u4e00\u822c\uff09\u662f\u4e0d\u53d8\u7684\uff0c\u4f46\u9010\u6e10\u903c\u8fd1\u95ee\u9898\u7684\u89e3\u3002\u56e0\u4e3a\u51fd\u6570\u90fd\u6709\u81ea\u5df1\u7684\u5c40\u90e8\u4f5c\u7528\u57df\uff0c\u6240\u4ee5\u6bcf\u4e00\u6b21\u9012\u5f52\u90fd\u9700\u8981\u5206\u914d\u4e00\u4efd\u5185\u5b58\u7a7a\u95f4\uff1b\u800c\u5faa\u73af\u5219\u4e0d\u4f1a\u8fd9\u6837\u3002</p> <p>\u6211\u4eec\u901a\u5e38\u4f1a\u501f\u52a9\u5faa\u73af\u5b9e\u73b0\u904d\u5386\u6216\u8fed\u4ee3\uff0c\u8fed\u4ee3\u65f6\u6709\u53ef\u80fd\u4f1a\u904d\u5386\u67d0\u4e2a\u6570\u636e\u7ed3\u6784\uff0c\u4f46\u4e5f\u6709\u53ef\u80fd\u56e0\u4e3a\u8ba1\u7b97\u51fa\u7684\u89e3\u5df2\u7b26\u5408\u6761\u4ef6\u800c\u63d0\u524d\u7ec8\u6b62\u8fed\u4ee3\u3002\u5faa\u73af\u6709\u53ef\u80fd\u53ea\u662f\u5355\u7eaf\u7684\u91cd\u590d\uff0c\u4f8b\u5982\u7a7a\u7684\u6b7b\u5faa\u73af\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.3.%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html#_8","title":"\u53c2\u8003","text":"<ol> <li> <p>Python\u5230\u5e95\u662f\u5f3a\u7c7b\u578b\u8bed\u8a00\uff0c\u8fd8\u662f\u5f31\u7c7b\u578b\u8bed\u8a00\uff1f</p> </li> <li> <p>\u300aType Systems\u300b</p> </li> <li>Strong versus Weak Typing</li> </ol> <ol> <li> <p>\u5177\u4f53\u6765\u8bf4\uff0c\u5c31\u662f\u5185\u5b58\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.4.%E7%BC%96%E8%AF%91%E5%9E%8B%E8%AF%AD%E8%A8%80%E5%92%8C%E8%A7%A3%E9%87%8A%E5%9E%8B%E8%AF%AD%E8%A8%80%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9%E5%AF%B9%E6%AF%94.html","title":"1.4.\u7f16\u8bd1\u578b\u8bed\u8a00 vs \u89e3\u91ca\u578b\u8bed\u8a00","text":""},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.4.%E7%BC%96%E8%AF%91%E5%9E%8B%E8%AF%AD%E8%A8%80%E5%92%8C%E8%A7%A3%E9%87%8A%E5%9E%8B%E8%AF%AD%E8%A8%80%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9%E5%AF%B9%E6%AF%94.html#_1","title":"\u7f16\u8bd1\u578b\u8bed\u8a00\u548c\u89e3\u91ca\u578b\u8bed\u8a00\u7684\u4f18\u7f3a\u70b9\u5bf9\u6bd4","text":"<p>\u7f16\u7a0b\u8bed\u8a00\u53ef\u4ee5\u5206\u4e3a\uff1a\u5b8c\u5168\u7684\u7f16\u8bd1\u578b\uff0c\u7eaf\u7cb9\u7684\u89e3\u91ca\u578b\u6216\u8005\u4e24\u8005\u76f8\u4e92\u6df7\u5408\u7684\u7f16\u7a0b\u8bed\u8a00\u3002\u5b9e\u9645\u4e0a\uff0c\u5927\u90e8\u5206\u73b0\u6709\u7684\u7f16\u7a0b\u8bed\u8a00\u90fd\u540c\u65f6\u62e5\u6709\u5176\u7f16\u8bd1\u578b\u548c\u89e3\u91ca\u578b\u7248\u672c\u3002 \u7f16\u8bd1\u578b\u8bed\u8a00\u548c\u89e3\u91ca\u578b\u8bed\u8a00\u5206\u522b\u6709\u5176\u5404\u81ea\u7684\u4f18\u52bf\u548c\u4e0d\u8db3\u3002\u4e0b\u9762\u4ece\u7f16\u8bd1\u578b\u8bed\u8a00\u5f00\u59cb\u4ecb\u7ecd\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.4.%E7%BC%96%E8%AF%91%E5%9E%8B%E8%AF%AD%E8%A8%80%E5%92%8C%E8%A7%A3%E9%87%8A%E5%9E%8B%E8%AF%AD%E8%A8%80%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9%E5%AF%B9%E6%AF%94.html#_2","title":"\u7f16\u8bd1\u578b\u8bed\u8a00\uff1a","text":"<ol> <li>\u7f16\u8bd1\u578b\u8bed\u8a00\u6700\u5927\u7684\u4f18\u52bf\u4e4b\u4e00\u5c31\u662f\u5176\u6267\u884c\u901f\u5ea6\u3002\u7528C/C++\u7f16\u5199\u7684\u7a0b\u5e8f\u8fd0\u884c\u901f\u5ea6\u8981\u6bd4\u7528Java\u7f16\u5199\u7684\u76f8\u540c\u7a0b\u5e8f\u5feb30%-70%\u3002</li> <li>\u7f16\u8bd1\u578b\u7a0b\u5e8f\u6bd4\u89e3\u91ca\u578b\u7a0b\u5e8f\u6d88\u8017\u7684\u5185\u5b58\u66f4\u5c11\u3002</li> <li>\u4e0d\u5229\u7684\u4e00\u9762\u2014\u2014\u7f16\u8bd1\u5668\u6bd4\u89e3\u91ca\u5668\u8981\u96be\u5199\u5f97\u591a\u3002</li> <li>\u7f16\u8bd1\u5668\u5728\u8c03\u8bd5\u7a0b\u5e8f\u65f6\u63d0\u4f9b\u4e0d\u4e86\u591a\u5c11\u5e2e\u52a9\u2014\u2014\u6709\u591a\u5c11\u6b21\u5728\u4f60\u7684C\u8bed\u8a00\u4ee3\u7801\u4e2d\u9047\u5230\u4e00\u4e2a\u201c\u7a7a\u6307\u9488\u5f02\u5e38\u201d\u65f6\uff0c\u9700\u8981\u82b1\u8d39\u597d\u51e0\u4e2a\u5c0f\u65f6\u6765\u660e\u786e\u9519\u8bef\u5230\u5e95\u5728\u4ee3\u7801\u4e2d\u7684\u4ec0\u4e48\u4f4d\u7f6e\u3002</li> <li>\u53ef\u6267\u884c\u7684\u7f16\u8bd1\u578b\u4ee3\u7801\u8981\u6bd4\u76f8\u540c\u7684\u89e3\u91ca\u578b\u4ee3\u7801\u5927\u8bb8\u591a\u3002\u4f8b\u5982\uff0cC/C++\u7684.exe\u6587\u4ef6\u8981\u6bd4\u540c\u6837\u529f\u80fd\u7684Java\u7684.class\u6587\u4ef6\u5927\u5f88\u591a\u3002</li> <li>\u7f16\u8bd1\u578b\u7a0b\u5e8f\u662f\u9762\u5411\u7279\u5b9a\u5e73\u53f0\u7684\u56e0\u800c\u662f\u5e73\u53f0\u4f9d\u8d56\u7684\u3002</li> <li>\u7f16\u8bd1\u578b\u7a0b\u5e8f\u4e0d\u652f\u6301\u4ee3\u7801\u4e2d\u5b9e\u73b0\u5b89\u5168\u6027\u2014\u2014\u4f8b\u5982\uff0c\u4e00\u4e2a\u7f16\u8bd1\u578b\u7684\u7a0b\u5e8f\u53ef\u4ee5\u8bbf\u95ee\u5185\u5b58\u7684\u4efb\u4f55\u533a\u57df\uff0c\u5e76\u4e14\u53ef\u4ee5\u5bf9\u4f60\u7684PC\u505a\u5b83\u60f3\u505a\u7684\u4efb\u4f55\u4e8b\u60c5\uff08\u5927\u90e8\u5206\u75c5\u6bd2\u662f\u4f7f\u7528\u7f16\u8bd1\u578b\u8bed\u8a00\u7f16\u5199\u7684\uff09</li> <li>\u7531\u4e8e\u677e\u6563\u7684\u5b89\u5168\u6027\u548c\u5e73\u53f0\u4f9d\u8d56\u6027\uff0c\u7f16\u8bd1\u578b\u8bed\u8a00\u4e0d\u592a\u9002\u5408\u5f00\u53d1\u56e0\u7279\u7f51\u6216\u8005\u57fa\u4e8eWeb\u7684\u5e94\u7528\u3002</li> </ol>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.4.%E7%BC%96%E8%AF%91%E5%9E%8B%E8%AF%AD%E8%A8%80%E5%92%8C%E8%A7%A3%E9%87%8A%E5%9E%8B%E8%AF%AD%E8%A8%80%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9%E5%AF%B9%E6%AF%94.html#_3","title":"\u89e3\u91ca\u578b\u8bed\u8a00\uff1a","text":"<ol> <li>\u89e3\u91ca\u578b\u8bed\u8a00\u63d0\u4f9b\u4e86\u6781\u4f73\u7684\u8c03\u8bd5\u652f\u6301\u3002\u4e00\u540dJava\u7a0b\u5e8f\u5458\u53ea\u9700\u8981\u51e0\u5206\u949f\u5c31\u53ef\u4ee5\u5b9a\u4f4d\u5e76\u4fee\u590d\u4e00\u4e2a\u201c\u7a7a\u6307\u9488\u5f02\u5e38\u201d\uff0c\u56e0\u4e3aJava\u8fd0\u884c\u73af\u5883\u4e0d\u4ec5\u6307\u660e\u4e86\u5f02\u5e38\u7684\u6027\u8d28\uff0c\u800c\u4e14\u7ed9\u51fa\u4e86\u5f02\u5e38\u53d1\u751f\u4f4d\u7f6e\u5177\u4f53\u7684\u884c\u53f7\u548c\u51fd\u6570\u8c03\u7528\u987a\u5e8f\uff08\u8457\u540d\u7684\u5806\u6808\u8ddf\u8e2a\u4fe1\u606f\uff09\u3002\u8fd9\u6837\u7684\u4fbf\u5229\u662f\u7f16\u8bd1\u578b\u8bed\u8a00\u6240\u65e0\u6cd5\u63d0\u4f9b\u7684\u3002</li> <li>\u53e6\u4e00\u4e2a\u4f18\u52bf\u662f\u89e3\u91ca\u5668\u6bd4\u7f16\u8bd1\u5668\u5bb9\u6613\u5b9e\u73b0</li> <li>\u89e3\u91ca\u578b\u8bed\u8a00\u6700\u5927\u7684\u4f18\u52bf\u4e4b\u4e00\u662f\u5176\u5e73\u53f0\u72ec\u7acb\u6027</li> <li>\u89e3\u91ca\u578b\u8bed\u8a00\u4e5f\u53ef\u4ee5\u4fdd\u8bc1\u9ad8\u5ea6\u7684\u5b89\u5168\u6027\u2014\u2014\u8fd9\u662f\u4e92\u8054\u7f51\u5e94\u7528\u8feb\u5207\u9700\u8981\u7684</li> <li>\u4e2d\u95f4\u8bed\u8a00\u4ee3\u7801\u7684\u5927\u5c0f\u6bd4\u7f16\u8bd1\u578b\u53ef\u6267\u884c\u4ee3\u7801\u5c0f\u5f88\u591a</li> <li>\u5e73\u53f0\u72ec\u7acb\u6027\uff0c\u4ee5\u53ca\u4e25\u5bc6\u7684\u5b89\u5168\u6027\u662f\u4f7f\u89e3\u91ca\u578b\u8bed\u8a00\u6210\u4e3a\u9002\u5408\u4e92\u8054\u7f51\u548cWeb\u5e94\u7528\u7684\u7406\u60f3\u8bed\u8a00\u76842\u4e2a\u6700\u91cd\u8981\u7684\u56e0\u7d20\u3002</li> <li>\u89e3\u91ca\u578b\u8bed\u8a00\u5b58\u5728\u4e00\u4e9b\u4e25\u91cd\u7684\u7f3a\u70b9\u3002\u89e3\u91ca\u578b\u5e94\u7528\u5360\u7528\u66f4\u591a\u7684\u5185\u5b58\u548cCPU\u8d44\u6e90\u3002\u8fd9\u662f\u7531\u4e8e\uff0c\u4e3a\u4e86\u8fd0\u884c\u89e3\u91ca\u578b\u8bed\u8a00\u7f16\u5199\u7684\u7a0b\u5e8f\uff0c\u76f8\u5173\u7684\u89e3\u91ca\u5668\u5fc5\u987b\u9996\u5148\u8fd0\u884c\u3002\u89e3\u91ca\u5668\u662f\u590d\u6742\u7684\uff0c\u667a\u80fd\u7684\uff0c\u5927\u91cf\u6d88\u8017\u8d44\u6e90\u7684\u7a0b\u5e8f\u5e76\u4e14\u5b83\u4eec\u4f1a\u5360\u7528\u5f88\u591aCPU\u5468\u671f\u548c\u5185\u5b58\u3002</li> <li>\u7531\u4e8e\u89e3\u91ca\u578b\u5e94\u7528\u7684decode-fetch-execute\uff08\u89e3\u7801-\u6293\u53d6-\u6267\u884c\uff09\u7684\u5468\u671f\uff0c\u5b83\u4eec\u6bd4\u7f16\u8bd1\u578b\u7a0b\u5e8f\u6162\u5f88\u591a\u3002</li> <li>\u89e3\u91ca\u5668\u4e5f\u4f1a\u505a\u5f88\u591a\u4ee3\u7801\u4f18\u5316\uff0c\u8fd0\u884c\u65f6\u5b89\u5168\u6027\u68c0\u67e5\uff1b\u8fd9\u4e9b\u989d\u5916\u7684\u6b65\u9aa4\u5360\u7528\u4e86\u66f4\u591a\u7684\u8d44\u6e90\u5e76\u8fdb\u4e00\u6b65\u964d\u4f4e\u4e86\u5e94\u7528\u7684\u8fd0\u884c\u901f\u5ea6\u3002</li> </ol> <p>\u539f\u6587\u94fe\u63a5\uff1ahttp://www.codeproject.com/Articles/1825/The-Common-Language-Runtime-CLR-and-Java-Runtime-E</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.4.%E7%BC%96%E8%AF%91%E5%9E%8B%E8%AF%AD%E8%A8%80%E5%92%8C%E8%A7%A3%E9%87%8A%E5%9E%8B%E8%AF%AD%E8%A8%80%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9%E5%AF%B9%E6%AF%94.html#pros-and-cons-of-compiled-and-interpreted-languages","title":"Pros and cons of compiled and interpreted languages","text":"<p>Languages can be developed either as fully-compiled, pure-interpreted, or hybrid compiled-interpreted. As a matter of fact, most of the current programming languages have both a compiled and interpreted versions available.</p> <p>Both compiled and interpreted approaches have their advantages and disadvantages. I will start with the compiled languages.</p> <p>Compiled languages</p> <ol> <li>One of the biggest advantages of Compiled languages is their execution speed. A program written in C/C++ runs 30-70 % faster then an equivalent program written in Java.</li> <li>Compiled code also takes less memory as compared to an interpreted program.</li> <li>On the down side - a compiler is much more difficult to write than an interpreter.</li> <li>A compiler does not provide much help in debugging a program - how many times have you received a \"Null pointer exception\" in your C code and have spent hours trying to figure out where in your source code did the exception occurred.</li> <li>The executable Compiled code is much bigger in size than an equivalent interpreted code e.g. a C/C++ .exe file is much bigger than an equivalent Java .class file</li> <li>Compiled programs are targeted towards a particular platform and hence are platform dependent.</li> <li>Compiled programs do not allow security to be implemented with in the code - e.g. a compiled program can access any area of the memory, and can do whatever it wants with your PC (most of the viruses are made in compiled languages).</li> <li>Due to loose security and platform dependence - a compiled language is not particularly suited to be used to develop Internet or web-based applications.</li> </ol> <p>Interpreted languages</p> <ol> <li>Interpreted language provides excellent debugging support. A Java programmer only spends a few minutes fixing a \"Null pointer exception\", because Java runtime not only specifies the nature of exception but also gives the exact line number and function call sequence (the famous stack trace information) where the exception occurred. This facility is something that a compiled language can never provide.</li> <li>Another advantage is that Interpreters are much easier to build then a compiler.</li> <li>One of the biggest advantages of Interpreters is that they make platform-independence possible.</li> <li>Interpreted language also allow high degree of security - something badly needed for an Internet application.</li> <li>An intermediate language code size is much smaller than a compiled executable code.</li> <li>Platform independence, and tight security are the two most important factors that make an interpreted language ideally suited for Internet and web-based applications.</li> <li>Interpreted languages have some serious drawbacks. The interpreted applications take up more memory and CPU resources. This is because in order to run a program written in interpreted language; the corresponding interpreter must be run first. Interpreters are sophisticated, intelligent and resource hungry programs and they take up lot of CPU cycles and RAM.</li> <li>Due to interpreted application's decode-fetch-execute cycle; they are much slower than compiled programs.</li> <li>Interpreters also do lot of code-optimization, security violation checking at run-time; these extra steps take up even more resources and further slows the application down.</li> </ol>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html","title":"1.5.\u5b57\u7b26\u7f16\u7801","text":"<p>\u76ee\u524d\uff0c\u5927\u591a\u6570\u8ba1\u7b97\u673a\u7684\u5904\u7406\u5668\u7684\u6838\u5fc3\u90e8\u5206\u90fd\u662f\u57fa\u4e8e\u6570\u5b57\u7535\u8def\u6784\u5efa\u7684\u3002\u8fd9\u4e9b\u6570\u5b57\u96c6\u6210\u7535\u8def\uff08IC\uff09\u53ea\u80fd\u5904\u7406\u6570\u5b57\uff0c\u5e76\u4e14\u4f7f\u7528\u4e8c\u8fdb\u5236\u8868\u793a\u6570\u5b57\u3002\u6362\u800c\u8a00\u4e4b\uff0c\u5bf9\u4e8e\u8ba1\u7b97\u673a\u6765\u8bf4\uff0c\u6240\u6709\u4fe1\u606f\u6700\u7ec8\u90fd\u662f\u4e00\u4e9b\u4e8c\u8fdb\u5236\u7684\u6570\u5b57\u3002\u8ba1\u7b97\u673a\u53ea\u80fd\u5904\u7406\u6570\u5b57\uff0c\u5982\u679c\u8981\u5904\u7406\u6587\u672c\u6216\u56fe\u50cf\uff0c\u90a3\u4e48\u5fc5\u987b\u5148\u5c06\u6587\u672c\u6216\u56fe\u50cf\u8f6c\u6362\u4e3a\u6570\u5b57\u3002</p> <p>\u5bf9\u4e8e\u6587\u672c\u6765\u8bf4\uff0c\u5982\u4f55\u7528\u8f6c\u6362\u4e3a\u6570\u5b57\u6709\u4e00\u4e2a\u7b80\u5355\u7684\u601d\u8def\uff1a\u4e00\u4e2a\u5b57\u7b26\u4e0e\u4e00\u4e2a\u6570\u5b57\u4e00\u4e00\u5bf9\u5e94\u3002ASCII\u7801\u6807\u51c6\u7684\u5236\u5b9a\u5c31\u662f\u57fa\u4e8e\u8fd9\u79cd\u6734\u7d20\u7684\u601d\u60f3\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html#ascii","title":"ASCII\u7801","text":"<p>\u4f17\u6240\u5468\u77e5\uff0c\u7b2c\u4e00\u53f0\u8ba1\u7b97\u673a\u662f\u7f8e\u56fd\u56fd\u7c4d\uff0c\u800cASCII\u7801\u7684\u6807\u51c6\u4e5f\u662f\u7531\u7f8e\u56fd\u5236\u5b9a\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cASCII\u7801\u662f\u9488\u5bf9\u82f1\u8bed\u5236\u5b9a\u7684\u6807\u51c6\uff0c\u6240\u4ee5ASCII\u7801\u53ea\u9700\u8981\u5305\u62ec26\u4e2a\u5c0f\u5199\u5b57\u6bcd\u300126\u4e2a\u5927\u5199\u5b57\u6bcd\u300133\u4e2a\u82f1\u6587\u6807\u70b9\u7b26\u53f7\u300133\u4e2a\u63a7\u5236\u7b26\u4ee5\u53ca10\u4e2a\u6570\u5b57\u5c31\u53ef\u4ee5\u4e86\u3002\u7531\u4e8eASCII \u7801\u4e00\u5171\u53ea\u6709128\u4e2a\u5b57\u7b26\uff0c\u53ea\u9700\u89817\u4f4d\u4e8c\u8fdb\u5236\u6570\u5c31\u53ef\u4ee5\u5b8c\u5168\u8868\u793a\u4e86\uff0c\u800c\u5f53\u65f6\u7684\u4eba\u9009\u62e9\u7528\u4e00\u4e2a\u5b57\u8282\uff088 bit\uff09\u8868\u793a\u4e00\u4e2aASCII\u5b57\u7b26\uff0c\u6240\u4ee5\u4e00\u4e2aASCII\u5b57\u7b26\u53ea\u5360\u4e86\u4e00\u4e2a\u5b57\u8282\u7684\u540e7\u4f4d\uff0c\u7b2c\u4e00\u4f4d\u89c4\u5b9a\u4e3a0\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html#ascii_1","title":"ASCII\u7801\u7684\u5c40\u9650","text":"<p>\u82f1\u8bed\u7528ASCII\u7801\u5c31\u591f\u4e86\uff0c\u4f46\u540e\u6765\u5176\u4ed6\u56fd\u5bb6\u4e5f\u6709\u4e86\u8ba1\u7b97\u673a\uff0cACSII\u7801\u7684\u5c40\u9650\u6027\u4e5f\u663e\u73b0\u51fa\u6765\uff0c\u975e\u82f1\u8bed\u56fd\u5bb6\u7684\u8bed\u8a00\u65e0\u6cd5\u7528ASCII\u7801\u8868\u793a\u3002\u53e6\u5916\uff0c\u5bf9\u4e8e\u5370\u6b27\u8bed\u7cfb\u7684\u8bed\u8a00\uff0c\u5176\u6240\u9700\u5b57\u7b26\u6570\u4e0d\u6b62128\u4e2a\u3002\u56e0\u4e3a\u4e00\u4e2a\u5b57\u8282\u67098\u4f4d\uff0c\u800cASCII\u7801\u53ea\u5360\u7528\u4e86\u540e7\u4f4d\uff0c\u4e8e\u662f\u4e00\u4e9b\u6b27\u6d32\u56fd\u5bb6\u5c31\u51b3\u5b9a\uff0c\u5229\u7528\u5b57\u8282\u4e2d\u95f2\u7f6e\u7684\u6700\u9ad8\u4f4d\u7f16\u5165\u65b0\u7684\u5b57\u7b26\u3002\u8fd9\u6837\uff0c\uff0c\u5728\u517c\u5bb9ASCII\u7801\u540e\uff0c\u8fd8\u53ef\u4ee5\u591a\u6dfb\u52a0128\u4e2a\u5b57\u7b26\u3002</p> <p>\u867d\u7136\u8fd9\u6837\u505a\u89e3\u51b3\u4e86\u5370\u6b27\u8bed\u7cfb\u7684\u8bed\u8a00\u8868\u793a\u95ee\u9898\uff0c\u4f46\u662f\u53c8\u4ea7\u751f\u4e86\u65b0\u95ee\u9898\u3002\u4e0d\u540c\u56fd\u5bb6\u4f7f\u7528\u4e0d\u540c\u7684\u5b57\u6bcd\uff0c\u5373\u4f7f\u8fd9\u4e9b\u56fd\u5bb6\u7684\u7f16\u7801\u90fd\u517c\u5bb9ASCII\u7801\uff0c\u4f46\u8d85\u51faASCII\u7801\u8303\u56f4\u7684\u7801\u4f4d\u4e0d\u80fd\u76f8\u4e92\u517c\u5bb9\u3002\u6bd4\u5982\uff0c130\u5728\u6cd5\u8bed\u7f16\u7801\u4e2d\u4ee3\u8868\u4e86<code>\u00e9</code>\uff0c\u5728\u5e0c\u4f2f\u6765\u8bed\u7f16\u7801\u4e2d\u5374\u4ee3\u8868\u4e86\u5b57\u6bcd<code>Gimel</code> (<code>\u05d2</code>)\uff0c\u5728\u4fc4\u8bed\u7f16\u7801\u4e2d\u53c8\u4f1a\u4ee3\u8868\u53e6\u4e00\u4e2a\u7b26\u53f7\u3002</p> <p>\u867d\u7136\u4e0a\u8ff0\u505a\u6cd5\u89e3\u51b3\u4e86\u5370\u6b27\u8bed\u7cfb\u7684\u8bed\u8a00\u7f16\u7801\u95ee\u9898\uff0c\u4f46\u8fd8\u5f88\u591a\u56fd\u5bb6\u7684\u8bed\u8a00\u7f16\u7801\u4e0d\u80fd\u53ea\u7528\u4e00\u4e2a\u5b57\u8282\u8868\u793a\uff0c\u4f8b\u5982\u4e2d\u6587\u3002\u4e00\u4e2a\u5b57\u8282\u6700\u591a\u8868\u793a258\u4e2a\u5b57\u7b26\uff0c\u800c\u6c49\u5b57\u5374\u53ef\u80fd\u591a\u8fbe10\u4e07\u4e2a\uff0c\u4e00\u4e2a\u5b57\u8282\u5b8c\u5168\u4e0d\u591f\u7528\u3002\u4e8e\u662f\uff0c\u4e2d\u56fd\u5c31\u5236\u5b9a\u4e86\u81ea\u5df1\u7684\u7f16\u7801\u6807\u51c6\u2014\u2014GB2312\u3002GB2312\u7528\u4e24\u4e2a\u5b57\u8282\u8868\u793a\uff0c\u5e76\u4e14\u628a\u6570\u5b66\u7b26\u53f7\u3001\u7f57\u9a6c\u5e0c\u814a\u7684\u5b57\u6bcd\u3001\u65e5\u6587\u7684\u5047\u540d\u4eec\u90fd\u7f16\u8fdb\u53bb\u4e86\uff0c\u8fdeASCII\u7801\u91cc\u9762\u672c\u6765\u5c31\u6709\u7684\u6570\u5b57\u3001\u6807\u70b9\u3001\u5b57\u6bcd\u90fd\u7528\u4e24\u4e2a\u5b57\u8282\u957f\u7684\u7f16\u7801\u8868\u793a\uff0c\u8fd9\u5c31\u662f\u5e38\u8bf4\u7684\u5168\u89d2\u5b57\u7b26\u3002\u4f46\u5f88\u5feb\uff0c\u6211\u4eec\u5c31\u53d1\u73b0GB2312\u4e5f\u4e0d\u591f\u7528\u4e86\uff0c\u56e0\u4e3a\u4e2d\u56fd\u7684\u6c49\u5b57\u5b9e\u5728\u592a\u591a\u4e86\uff0c\u4e8e\u662f\u6211\u4eec\u5728GB2312\u7684\u57fa\u7840\u4e0a\u53c8\u5236\u5b9a\u4e86GBK\u6807\u51c6\u3002</p> <p>\u53ef\u4ee5\u60f3\u8c61\uff0c\u5168\u4e16\u754c\u6709\u4e0a\u767e\u79cd\u8bed\u8a00\uff0c\u65e5\u672c\u628a\u65e5\u6587\u7f16\u5230<code>Shift_JIS</code>\u91cc\uff0c\u97e9\u56fd\u628a\u97e9\u6587\u7f16\u5230<code>Euc-kr</code>\u91cc\uff0c\u5404\u56fd\u6709\u5404\u56fd\u7684\u6807\u51c6\uff0c\u5c31\u4f1a\u4e0d\u53ef\u907f\u514d\u5730\u51fa\u73b0\u51b2\u7a81\u3002\u5728\u591a\u8bed\u8a00\u6df7\u5408\u7684\u6587\u672c\u4e2d\uff0c\u663e\u793a\u51fa\u6765\u53ef\u80fd\u4f1a\u6709\u4e71\u7801\u3002\u6b64\u65f6\uff0c\u4eba\u4eec\u610f\u8bc6\u5230\uff0c\u5fc5\u987b\u5236\u5b9a\u4e00\u79cd\u5305\u542b\u5168\u4e16\u754c\u6240\u6709\u8bed\u8a00\u5b57\u7b26\u7684\u7f16\u7801\u6807\u51c6\uff0c\u624d\u80fd\u89e3\u51b3\u8bed\u8a00\u7684\u8868\u793a\u95ee\u9898\u3002</p> <p>\u540c\u65f6\uff0c\u5982\u679c\u8981\u5236\u5b9a\u66f4\u901a\u7528\u3001\u5305\u542b\u66f4\u591a\u5b57\u7b26\u7684\u7f16\u7801\u6807\u51c6\uff0c\u90a3\u4e00\u4e2a\u5b57\u7b26\u7f16\u7801\u5c31\u9700\u8981\u5360\u7528\u66f4\u591a\u7684\u4e8c\u8fdb\u5236\u4f4d\u3002\u5728\u5c06\u6587\u672c\u50a8\u5b58\u5230\u786c\u76d8\uff0c\u6216\u8005\u5c06\u6587\u672c\u4f20\u8f93\u5230\u7f51\u7edc\u65f6\u5c31\u4f1a\u5b58\u5728\u50a8\u5b58\u7a7a\u95f4\u5229\u7528\u7387\u4f4e\u548c\u5e26\u5bbd\u6d6a\u8d39\u7684\u95ee\u9898\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u4e00\u4e2a\u6c49\u5b57\u7528\u4e24\u4e2a\u5b57\u8282\u8868\u793a\uff0c\u800c\u82f1\u6587\u5b57\u7b26\u4f7f\u7528\u4e00\u4e2a\u5b57\u8282\u5c31\u591f\u4e86\uff0c\u90a3\u4e48\u5bf9\u4e8e\u5305\u542b\u82f1\u6587\u548c\u4e2d\u6587\u7684\u7f16\u7801\u6a21\u578b\uff0c\u5982\u679c\u8868\u793a\u4e00\u4e2a\u82f1\u6587\u5b57\u7b26\u4e5f\u7528\u4e24\u4e2a\u5b57\u8282\u7684\u8bdd\uff0c\u82f1\u6587\u5b57\u7b26\u5360\u7528\u7684\u7a7a\u95f4\u5c31\u4f1a\u6bd4\u539f\u6765\u591a\u51fa\u4e00\u500d\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u7f16\u7801\u6a21\u578b\u7684\u6982\u5ff5\u88ab\u63d0\u51fa\uff0c\u5236\u5b9a\u66f4\u590d\u6742\u3001\u901a\u7528\u7684\u7f16\u7801\u6807\u51c6\u4e0d\u80fd\u518d\u4f7f\u7528ASCII\u7801\u8fd9\u6837\u7684\u6734\u7d20\u601d\u60f3\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html#_1","title":"\u7f16\u7801\u6a21\u578b","text":"<p>\u8ba1\u7b97\u673a\u7684\u7f16\u7801\u6a21\u578b\u8d1f\u8d23\u5c06\u663e\u793a\u5728\u5c4f\u5e55\u7684\u5b57\u7b26\u8f6c\u6362\u6210\u5185\u5b58\u4e2d\u7684\u4e8c\u8fdb\u5236\u6570\u503c\uff0c\u6216\u8005\u5c06\u5185\u5b58\u4e2d\u7684\u4e8c\u8fdb\u5236\u6570\u503c\u8f6c\u6362\u4e3a\u53ef\u8bfb\u7684\u5b57\u7b26\u3002\u7f16\u7801\u6a21\u578b\u6709\u4e24\u79cd\uff1a</p> <ol> <li>\u7b80\u5355\u7f16\u7801\u6a21\u578b\uff0c\u5982ASCII\u7801</li> <li>\u73b0\u4ee3\u7f16\u7801\u6a21\u578b</li> </ol> <p>\u73b0\u4ee3\u7f16\u7801\u6a21\u578b\u81ea\u5e95\u5411\u4e0a\u5206\u4e3a\u4e94\u4e2a\u5c42\u6b21\uff0c\u6bcf\u4e00\u5c42\u90fd\u662f\u4e0a\u4e00\u5c42\u7684\u57fa\u7840\uff1a</p> <ol> <li> <p>\u62bd\u8c61\u5b57\u7b26\u96c6(Abstract Character Repertoire)</p> </li> <li> <p>\u7f16\u7801\u5b57\u7b26\u96c6(Coded Character Set)</p> </li> <li> <p>\u5b57\u7b26\u7f16\u7801\u8868(Character Encoding Form)</p> </li> <li> <p>\u5b57\u7b26\u7f16\u7801\u65b9\u6848(Character Encoding Schema)</p> </li> <li> <p>\u4f20\u8f93\u7f16\u7801\u8bed\u6cd5(Transfer Encoding Syntax)</p> </li> </ol> <p>\u62bd\u8c61\u5b57\u7b26\u96c6\u662f\u73b0\u4ee3\u7f16\u7801\u6a21\u578b\u7684\u6700\u5e95\u5c42\uff0c\u5b83\u662f\u4e00\u4e2a\u96c6\u5408\uff0c\u901a\u8fc7\u679a\u4e3e\u6307\u660e\u4e86\u6240\u5c5e\u7684\u6240\u6709\u62bd\u8c61\u5b57\u7b26\u3002\u56e0\u6b64\uff0c\u5728\u903b\u8f91\u4e0a\uff0c\u62bd\u8c61\u5b57\u7b26\u96c6\u53c8\u53ef\u4ee5\u5206\u4e3a\u4e00\u4e2a\u4e2a\u62bd\u8c61\u5b57\u7b26\u3002\u8981\u4e86\u89e3\u62bd\u8c61\u5b57\u7b26\u96c6\u662f\u4ec0\u4e48\uff0c\u6211\u4eec\u9996\u5148\u6765\u4e86\u89e3\u4ec0\u4e48\u662f\u5b57\u7b26\u4e0e\u62bd\u8c61\u5b57\u7b26</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html#_2","title":"\u5b57\u7b26","text":"<p>\u5b57\u7b26\uff08CHARACTER, CHAR\uff09\u6709\u4e24\u79cd\u542b\u4e49\uff1a</p> <ol> <li>\u5b57\u7b26\u662f\u8868\u793a\u6587\u672c\u6570\u636e\u7684\u4fe1\u606f\u5355\u51431\uff0c\u5177\u6709\u67d0\u79cd\u89c6\u89c9\u8868\u793a\u5f62\u5f0f\u3002</li> <li>\u5728 Unicode \u6587\u6863\u7684\u5927\u591a\u6570\u8bed\u5883\u4e2d\uff0c\u5b57\u7b26\u548c\u62bd\u8c61\u5b57\u7b26\u88ab\u89c6\u4e3a\u540c\u4e49\u8bcd\uff08\u8fd9\u610f\u5473\u7740\u62bd\u8c61\u5b57\u7b26\u5e93\u4e0e\u5b57\u7b26\u5e93(character repertoire)\u4e5f\u88ab\u89c6\u4e3a\u540c\u4e49\u8bcd\uff09\u3002</li> </ol> <p>\u57fa\u4e8e\u7b2c\u4e00\u79cd\u8bed\u4e49\uff0c\u6211\u4eec\u77e5\u9053\u4e00\u4e2a\u5b57\u7b26\u5177\u6709\u67d0\u79cd\u89c6\u89c9\u8868\u793a\u5f62\u5f0f\uff0c\u6240\u8c13\u7684\u89c6\u89c9\u8868\u793a\u5f62\u5f0f\u4e5f\u5c31\u662f\u5b57\u5f62\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html#_3","title":"\u5b57\u7b26\u4e0e\u5b57\u5f62\u7684\u5173\u7cfb","text":"<p>\u5b57\u5f62\uff1a\u5b57\u7684\u5f62\u4f53\u3002\u4f8b\u5982\u4e00\u4e2a\u5b57\u7b26\u53ef\u4ee5\u6709\u6b63\u4f53\u3001\u659c\u4f53\u3001\u624b\u5199\u4f53\u7b49\u7b49\uff0c\u5373\u4e00\u4e2a\u62bd\u8c61\u5b57\u7b26\u53ef\u4ee5\u7ed3\u5408\u4e0d\u540c\u7684\u5b57\u5f62\uff0c\u4ece\u800c\u751f\u6210\u4e0d\u540c\u7684\u5b57\u7b26\u3002\u53ef\u89c1\uff0c\u4e00\u4e2a\u5b57\u7b26\u53ef\u4ee5\u6709\u591a\u4e2a\u5b57\u5f62\u3002</p> <p></p> <p>\u4e00\u4e2a\u5b57\u5f62\u4e5f\u53ef\u80fd\u5bf9\u5e94\u591a\u4e2a\u5b57\u7b26\uff08\u8be5\u5b57\u7b26\u540d\u4e3a fi ligature\uff09\uff1a</p> <p></p> <p>\u6709\u65f6\uff0c\u751a\u81f3\u5b58\u5728\u591a\u4e2a\u5b57\u5f62\u5bf9\u5e94\u591a\u4e2a\u5b57\u7b26\u7684\u60c5\u51b5\u3002\u4f8b\u5982\uff0cfi ligature \u7684\u5b57\u5f62\u4e5f\u53ef\u80fd\u662f\u7531\u4e00\u4e2a\u5b57\u5f62\u5e8f\u5217\u7ec4\u5408\u800c\u6210\u7684\u3002</p> <p></p> <p>\u5728\u663e\u793a\u67d0\u4e00\u5b57\u7b26\u65f6\uff0c\u662f\u4f7f\u7528\u5355\u4e2a\u5b57\u5f62\u8fd8\u662f\u4f7f\u7528\u5b57\u5f62\u5e8f\u5217\uff0c\u662f\u7531\u5b57\u4f53\u548c\u6e32\u67d3\u8f6f\u4ef6\u51b3\u5b9a\u7684\u3002</p> <p>\u4e00\u4e2a\u5b57\u5f62\u4e0d\u4ec5\u53ef\u4ee5\u5bf9\u5e94\u4e00\u4e2a\u5b57\u7b26\uff0c\u4e5f\u53ef\u4ee5\u5bf9\u5e94\u4e00\u4e2a\u5b57\u5f62\u5e8f\u5217\u3002\u4f8b\u5982\uff0c\u91cd\u97f3\uff08accented\uff09\u5b57\u7b26\u53ef\u4ee5\u7531\u5355\u4e2a\u5b57\u5f62\u8868\u793a\uff0c\u4e5f\u53ef\u4ee5\u7531\u4e00\u4e2a\u5b57\u5f62\u5e8f\u5217\u6765\u8868\u793a\u3002\u53e6\u5916\uff0c\u6240\u8981\u8868\u793a\u7684\u5185\u5bb9\u672c\u8eab\u4e5f\u53ef\u80fd\u662f\u7531\u4e00\u4e2a\u5b57\u7b26\u5e8f\u5217\u7ec4\u6210\u7684\uff0c\u5982\u4e0b\u56fe\u4e2d\u7684\u7b2c\u4e8c\u884c\u3002</p> <p></p> <p>\u5728\u6709\u4e9b\u56fd\u5bb6\u7684\u8bed\u8a00\u4e2d\uff0c\u5728\u7ed8\u5236\u5b57\u7b26\u7684\u5177\u4f53\u5f62\u72b6\u65f6\uff0c\u8fd8\u9700\u8981\u8003\u8651\u5176\u5468\u56f4\u7684\u5b57\u5f62\uff0c\u8fd9\u79cd\u5b57\u5f62\u88ab\u79f0\u4f5c contextual forms \u3002\u4f8b\u5982\uff0c\u963f\u62c9\u4f2f\u5b57\u7b26 heh \u5c31\u5177\u6709\u56db\u79cd\u4e0a\u4e0b\u6587\u5b57\u5f62\u3002</p> <p></p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html#_4","title":"\u62bd\u8c61\u5b57\u7b26","text":"<p>\u62bd\u8c61\u5b57\u7b26 (Abstract Character)\uff1a\u7528\u4e8e\u7ec4\u7ec7\u3001\u63a7\u5236\u6216\u8868\u793a\u6587\u672c\u6570\u636e\u7684\u4fe1\u606f\u5355\u5143\u3002</p> <p>\u5728\u8868\u793a\u6570\u636e\u65f6\uff0c\u62bd\u8c61\u5b57\u7b26\u662f\u8c61\u5f81\u6027\u7684\uff0c\u6ca1\u6709\u5177\u4f53\u7684\u5f62\u5f0f\uff0c\u5373\u62bd\u8c61\u5b57\u7b26\u4e0d\u5177\u6709\u5b57\u5f62\uff0c\u540c\u65f6\u62bd\u8c61\u5b57\u7b26\u4e5f\u533a\u522b\u4e8egrapheme\u3002</p> <p>\u4ee5\u4e0a\u6982\u5ff5\u6765\u81ea\u4e8e\uff1a</p> <ol> <li>Glossary of Unicode Terms</li> <li>The Unicode\u00ae Standard Version 13.0 \u2013 Core Specification</li> </ol> <p>\u4ece\u5b57\u7b26\u548c\u62bd\u8c61\u5b57\u7b26\u7684\u5b9a\u4e49\u53ef\u4ee5\u770b\u51fa\uff0c\u5b57\u7b26\u662f\u62bd\u8c61\u5b57\u7b26\u7684\u4e00\u4e2a\u5b50\u96c6\uff0c\u56e0\u4e3a\u5b57\u7b26\u4e0d\u5305\u62ec\u7528\u4e8e\u7ec4\u7ec7\u3001\u63a7\u5236\u6587\u672c\u6570\u636e\u7684\u4fe1\u606f\u5355\u5143\u3002</p> <p>\u6362\u800c\u8a00\u4e4b\uff0c\u5b57\u7b26\u662f\u53ef\u4ee5\u663e\u793a\u51fa\u6765\u7684\u4fe1\u606f\u5355\u5143\uff0c\u800c\u8fd8\u6709\u4e00\u4e9b\u4fe1\u606f\u5355\u5143\u662f\u7a7a\u767d\u7684\uff0c\u751a\u81f3\u662f\u4e0d\u53ef\u6253\u5370\u7684\u3002\u8fd9\u4e9b\u4e0d\u663e\u793a\u51fa\u6765\u7684\u5b57\u7b26\u5c5e\u4e8e\u62bd\u8c61\u5b57\u7b26\uff0c\u4f8b\u5982ASCII\u5b57\u7b26\u96c6\u4e2d\u7684NULL\u3002</p> <p>\u65e0\u6cd5\u663e\u793a\u7684\u5b57\u7b26\u867d\u7136\u4e0d\u663e\u793a\u51fa\u6765\uff0c\u4f46\u4ecd\u7136\u5177\u6709\u67d0\u79cd\u8868\u793a\u5f62\u5f0f\uff0c\u4f8b\u5982<code>\\x00</code>\u3001<code>\\000</code>\u3001<code>NULL</code>\u3001<code>0</code>\u53ef\u80fd\u7528\u4e8e\u8868\u793a ASCII \u5b57\u7b26\u96c6\u7684 NULL\u3002\u8fd9\u4e9b\u8868\u793a\u5f62\u5f0f\u90fd\u662fNULL\u7684\u4e0d\u540c\u5199\u6cd5\uff0c\u800c\u4e0d\u662fNULL\u672c\u8eab\u3002</p> <p>\u62bd\u8c61\u5b57\u7b26\u4e0d\u4e00\u5b9a\u4e0e\u5b57\u7b26\u4e00\u4e00\u5bf9\u5e94\u3002\u56e0\u4e3a\u6709\u4e00\u4e9b\u62bd\u8c61\u5b57\u7b26\u6ca1\u6709\u88ab Unicode \u6807\u51c6\u76f4\u63a5\u7f16\u7801\uff0c\u8fd9\u901a\u5e38\u53ef\u4ee5\u7528\u5b57\u7b26\u5e8f\u5217\u7ec4\u5408\u8d77\u6765\u8868\u793a\u3002</p> <p></p> <p>\u56fe\u7247\u6765\u81ea The Unicode Standard \u7684\u7b2c8\u7248 UnicodeStandard-8.0 P 65\uff0c\u53c2\u8003\u81ea Abstract Character (Unicode) \u3002</p> <p>\u8be5\u56fe\u8bf4\u660e\u4e86\u62bd\u8c61\u5b57\u7b26\u4e0e code points \u7684\u5173\u7cfb\uff0c\u62bd\u8c61\u5b57\u7b26\u53ef\u4ee5\u7531\u4e00\u4e2a\u5b57\u7b26\u7f16\u7801\uff0c\u4e5f\u53ef\u4ee5\u7531\u4e24\u4e2a\u6216\u591a\u4e2a\u5b57\u7b26\u7f16\u7801\u800c\u6210\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html#_5","title":"\u62bd\u8c61\u5b57\u7b26\u96c6","text":"<p>\u62bd\u8c61\u5b57\u7b26\u96c6\uff08Abstract Character Repertoire\uff09\u662f\u62bd\u8c61\u5b57\u7b26\u7684\u65e0\u5e8f\u96c6\u5408\u3002\u62bd\u8c61\u5b57\u7b26\u96c6\u51b3\u5b9a\u4e86\u6574\u4e2a\u5b57\u7b26\u96c6\u80fd\u591f\u4f7f\u7528\u7684\u6240\u6709\u5b57\u7b26\u3002\u5df2\u7ecf\u6709\u4e86\u5f88\u591a\u6807\u51c6\u7684\u5b57\u7b26\u96c6\u5b9a\u4e49\u3002 \u6bd4\u5982 US-ASCII\u3001UCS(Unicode)\u3001GBK \u90fd\u662f\uff08\u6216\u8005\u81f3\u5c11\u662f\uff09\u62bd\u8c61\u5b57\u7b26\u96c6\u3002</p> <p>\u4e00\u4e2a\u5b57\u6bcd\u6216\u6587\u5b57\u53ef\u4ee5\u540c\u65f6\u5c5e\u4e8e\u591a\u4e2a\u5b57\u7b26\u96c6\uff0c\u4f8b\u5982\u82f1\u6587\u5b57\u6bcd<code>A</code>\u540c\u65f6\u5c5e\u4e8eUS-ASCII\u3001UCS\u3001GBK\u8fd9\u4e09\u4e2a\u5b57\u7b26\u96c6\uff0c\u800c \ud83d\ude02 \u4e0d\u5c5e\u4e8eUS-ASCII\u4e0eGBK\u5b57\u7b26\u96c6\uff0c\u4f46\u5c5e\u4e8eUCS\u5b57\u7b26\u96c6\u3002</p> <p>\u62bd\u8c61\u5b57\u7b26\u96c6\u6709\u5f00\u653e\u4e0e\u5c01\u95ed\u4e4b\u5206\u3002ASCII\u62bd\u8c61\u5b57\u7b26\u96c6\u5b9a\u4e49\u4e86128\u4e2a\u62bd\u8c61\u5b57\u7b26\uff0c\u518d\u4e5f\u4e0d\u4f1a\u589e\u52a0\uff0c\u8fd9\u5c31\u662f\u4e00\u4e2a\u5c01\u95ed\u5b57\u7b26\u96c6\u3002Unicode \u5c1d\u8bd5\u6536\u7eb3\u6240\u6709\u7684\u5b57\u7b26\uff0c\u4e00\u76f4\u5728\u4e0d\u65ad\u5730\u6269\u5f20\u4e4b\u4e2d\uff0c\u8fd9\u5c31\u662f\u4e00\u4e2a\u5f00\u653e\u7684\u5b57\u7b26\u96c6\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html#ccs","title":"\u7f16\u7801\u5b57\u7b26\u96c6 CCS","text":"<p>\u7f16\u7801\u5b57\u7b26\u96c6\uff08Coded Character Set\uff09\uff1a\u7ed9\u62bd\u8c61\u5b57\u7b26\u96c6\u4e2d\u6bcf\u4e2a\u62bd\u8c61\u5b57\u7b26\u90fd\u5206\u914d\u4e86\u7801\u4f4d\u7684\u5b57\u7b26\u96c6\u88ab\u79f0\u4e3a\u7f16\u7801\u5b57\u7b26\u96c6\u3002</p> <p>\u4eba\u4eec\u5e38\u5e38\u559c\u6b22\u5c06\u62bd\u8c61\u5b57\u7b26\u96c6\u53eb\u505a\u5b57\u7b26\u96c6\uff0c\u73b0\u5728\u4eba\u4eec\u53c8\u559c\u6b22\u5c06\u7f16\u7801\u5b57\u7b26\u96c6\u7b80\u79f0\u5b57\u7b26\u96c6\u3002\u56e0\u6b64\uff0c\u5f88\u591a\u4ecb\u7ecd\u5b57\u7b26\u7f16\u7801\u7684\u5185\u5bb9\u90fd\u5b58\u5728\u5f88\u5927\u7684\u6df7\u4e71\u4e0e\u6b67\u4e49\uff0c\u771f\u662f\u778e\u53eb\u540d\u5b57\u5bb3\u6b7b\u4eba\u3002\u4e0b\u6587\u5c3d\u91cf\u4e0d\u4f7f\u7528\u5e26\u6709\u6b67\u4e49\u7684\u7b80\u79f0\uff0c\u6709\u4f7f\u7528\u201c\u5b57\u7b26\u96c6\u201d\u7684\u5730\u65b9\uff0c\u4e00\u5f8b\u6307\u4ee3\u62bd\u8c61\u5b57\u7b26\u96c6\u3002</p> <p>\u62bd\u8c61\u5b57\u7b26\u96c6\u662f\u65e0\u5e8f\u7684\uff0c\u65e0\u5e8f\u7684\u96c6\u5408\u6ca1\u6709\u591a\u5927\u7684\u4f5c\u7528\uff0c\u6211\u4eec\u53ea\u80fd\u5224\u65ad\u67d0\u4e2a\u5b57\u7b26\u662f\u5426\u5c5e\u4e8e\u67d0\u4e2a\u62bd\u8c61\u5b57\u7b26\u96c6\uff0c\u4f46\u65e0\u6cd5\u65b9\u4fbf\u5730\u5f15\u7528\u62bd\u8c61\u5b57\u7b26\u96c6\u7684\u5b57\u7b26\u3002\u6240\u4ee5\u4e3a\u4e86\u66f4\u597d\u7684\u63cf\u8ff0\u3001\u64cd\u4f5c\u5b57\u7b26\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u62bd\u8c61\u5b57\u7b26\u96c6\u4e2d\u7684\u6bcf\u4e2a\u5b57\u7b26\u5173\u8054\u4e00\u4e2a\u6570\u5b57\u7f16\u53f7\uff0c\u8fd9\u4e2a\u6570\u5b57\u7f16\u53f7\u79f0\u4e4b\u4e3a\u7801\u4f4d(Code Point)\u3002\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e2a\u6570\u5b57\u7f16\u7801\u662f\u62bd\u8c61\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b83\u5e76\u6ca1\u6709\u89c4\u5b9a\u8ba1\u7b97\u673a\u4f7f\u7528\u54ea\u79cd\u8fdb\u5236\u7cfb\u7edf\u3001\u591a\u5c11\u4e2a\u5b57\u8282\u8868\u793a\u8fd9\u4e2a\u6570\u3002\u6b64\u65f6\uff0c\u7f16\u7801\u5b57\u7b26\u96c6\u66f4\u50cf\u4e00\u4e2a\u5b57\u5178\uff08dictionary\uff09\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u96c6\u5408\u3002</p> <p>\u4e60\u60ef\u4e0a\uff0c\u5206\u914d\u7ed9\u5b57\u7b26\u7684\u7801\u4f4d\u901a\u5e38\u662f\u975e\u8d1f\u6574\u6570\uff0c\u8ba1\u7b97\u673a\u4e00\u822c\u7528\u5341\u516d\u8fdb\u5236\u663e\u793a\u7801\u4f4d\uff0c\u5e76\u4e14\u5b57\u7b26\u548c\u7801\u4f4d\u662f\u53cc\u5c04\u7684 \u3002 \u81f3\u4e8e\u7801\u4f4d\u662f\u6839\u636e\u4ec0\u4e48\u89c4\u5219\u5206\u914d\u7684\uff0c\u5c31\u4e0d\u77e5\u9053\u4e86\uff0c\u53ef\u80fd\u6bcf\u4e2a\u5b57\u7b26\u90fd\u6709\u81ea\u5df1\u7684\u60f3\u6cd5\u3002</p> <p>\u6700\u65e9\u7684\u7f16\u7801\u5b57\u7b26\u96c6\u662fASCII\uff0c\u4f46\u66f4\u51c6\u786e\u6765\u8bf4\uff0cASCII\u4f7f\u7528\u7684\u662f\u7b80\u5355\u7f16\u7801\u6a21\u578b\u3002\u7b80\u5355\u7f16\u7801\u6a21\u578b\u5e76\u6ca1\u6709\u73b0\u4ee3\u7f16\u7801\u6a21\u578b\u8fd9\u4e48\u591a\u6982\u5ff5\u3002\u73b0\u5728\u6700\u5e38\u89c1\u7684\u7f16\u7801\u5b57\u7b26\u96c6\u5c31\u662f UCS\uff08Universal Character Set\uff09\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html#universal-character-set","title":"Universal Character Set","text":"<p>UCS\uff08\u7edf\u4e00\u5b57\u7b26\u96c6\uff09\u662f\u7531 ISO/IEC 10646 \u6240\u5b9a\u4e49\u7684\u7f16\u7801\u5b57\u7b26\u96c6\u3002\u901a\u5e38\u8bf4\u7684 \u201cUnicode\u5b57\u7b26\u96c6\u201c \u6307\u7684\u5c31\u662f\u5b83\u3002\u4e0d\u8fc7Unicode\u672c\u8eab\u6307\u7684\u662f\u4e00\u7cfb\u5217\u7528\u4e8e\u8ba1\u7b97\u673a\u8868\u793a\u6240\u6709\u8bed\u8a00\u5b57\u7b26\u7684\u6807\u51c6\u3002 </p> <p>\u4e16\u754c\u4e0a\u5b58\u5728\u7740\u591a\u79cd\u7f16\u7801\u65b9\u5f0f\uff0c\u540c\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570\u5b57\u53ef\u4ee5\u88ab\u89e3\u91ca\u6210\u4e0d\u540c\u7684\u7b26\u53f7\u3002\u8981\u60f3\u6253\u5f00\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\uff0c\u5c31\u5fc5\u987b\u77e5\u9053\u5b83\u7684\u7f16\u7801\u65b9\u5f0f\uff0c\u5426\u5219\u7528\u9519\u8bef\u7684\u7f16\u7801\u65b9\u5f0f\u89e3\u8bfb\uff0c\u5c31\u4f1a\u51fa\u73b0\u4e71\u7801\u3002\u4eba\u4eec\u610f\u8bc6\u5230\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u4e8e\u662f\uff0cUCS \u5e94\u8fd0\u800c\u751f\u3002UCS \u628a\u6240\u6709\u8bed\u8a00\u90fd\u7edf\u4e00\u5230\u4e00\u5957\u7f16\u7801\u91cc\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u518d\u6709\u4e71\u7801\u95ee\u9898\u4e86\u3002Unicode \u662f\u4e00\u4e2a\u5f88\u5927\u7684\u96c6\u5408\uff0c\u73b0\u5728\u7684\u89c4\u6a21\u53ef\u4ee5\u5bb9\u7eb3100\u591a\u4e07\u4e2a\u7b26\u53f7\uff0c\u800c\u4e14\u8fd8\u5728\u4e0d\u65ad\u53d1\u5c55\u3002\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u548c\u5927\u591a\u6570\u7f16\u7a0b\u8bed\u8a00\u90fd\u76f4\u63a5\u652f\u6301Unicode\u3002\u5404\u4e2aUnicode\u5b57\u7b26\u7684\u7801\u4f4d\u53ef\u4ee5\u5728 unicode.org \u6216 \u6c49\u5b57\u5bf9\u5e94\u8868 \u67e5\u8be2\u3002</p> <p>\u5982\u679c\u6309\u7167 Unicode9.0.0 \u7684\u6807\u51c6\uff0cUCS \u7406\u8bba\u4e0a\u6536\u5f55\u4e86128237\u4e2a\u5b57\u7b26\uff0c\u4f46\u5b9e\u9645\u80fd\u7528\u7684\u6700\u5927\u7684\u7801\u4f4d\u70b9\u662f128720\u3002\u8fd9\u662f\u56e0\u4e3a UCS \u7684\u7801\u4f4d\u4e0d\u662f\u8fde\u7eed\u5206\u914d\u7684\uff0c\u5373\u4e2d\u95f4\u6709\u4e00\u90e8\u5206\u7801\u4f4d\u6ca1\u6709\u5206\u914d\u5bf9\u5e94\u7684\u5b57\u7b26\u3002Unicode \u5b9e\u9645\u5206\u914d\u7684\u7801\u4f4d\u662f <code>0x0000~0x0xD7FF</code> \u4e0e <code>0xE000~0x10FFFF</code> \u8fd9\u4e24\u6bb5\u3002\u4e2d\u95f4<code>0xD800~0xDFFF</code> \u8fd92048\u4e2a\u7801\u4f4d\u7559\u4f5c\u4ed6\u7528\uff0c\u5e76\u4e0d\u5bf9\u5e94\u5b9e\u9645\u7684\u5b57\u7b26\u3002\u5982\u679c\u5728 Python \u4e2d\u76f4\u63a5\u5c1d\u8bd5\u53bb\u8f93\u51fa\u8fd9\u4e2a\u7801\u4f4d\u6bb5\u7684\u5b57\u7b26\uff0cPython \u4f1a\u544a\u8bc9\u4f60\u8fd9\u662f\u4e2a\u975e\u6cd5\u5b57\u7b26\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html#cef","title":"\u5b57\u7b26\u7f16\u7801\u8868 CEF","text":"<p>\u5b57\u7b26\u7f16\u7801\u8868\uff1a\u4e5f\u79f0\u4e3a\"storage format\"\uff0c\u662f\u5c06\u7f16\u7801\u5b57\u7b26\u96c6\u7684\u975e\u8d1f\u6574\u6570\u503c\uff08\u5373\u62bd\u8c61\u7684\u7801\u4f4d\uff09\u8f6c\u6362\u6210 \u6709\u9650\u6bd4\u7279\u957f\u5ea6 \u7684\u6574\u578b\u503c\uff08\u79f0\u4e3a\u7801\u5143code units\uff09\u7684\u5e8f\u5217\u3002</p> <p>Code unit: The minimal bit combination that can represent a unit of encoded text for processing or interchange. </p> <p>\u7801\u5143\u662f\u80fd\u7528\u4e8e\u5904\u7406\u6216\u4ea4\u6362\u7f16\u7801\u6587\u672c\u7684\u6700\u5c0f\u6bd4\u7279\u7ec4\u5408\u3002\u901a\u5e38\u8ba1\u7b97\u673a\u5904\u7406\u5b57\u7b26\u7684\u7801\u5143\u4e3a\u4e00\u5b57\u8282\uff0c\u53738bit\u3002</p> <p>\u56e0\u4e3a\u6211\u4eec\u4e0d\u4ec5\u9700\u8981\u7f16\u7801\uff0c\u4e5f\u8981\u89e3\u7801\uff0c\u6240\u4ee5\u7f16\u7801\u5b57\u7b26\u96c6\u7684\u6574\u6570\u5230\u7801\u5143\u5e8f\u5217\u7684\u6620\u5c04\u5fc5\u987b\u662f\u4e00\u4e00\u6620\u5c04\u7684\u3002</p> <p>\u5b57\u7b26\u7f16\u7801\u8868\u5206\u4e3a\u5b9a\u957f\u7f16\u7801\u548c\u53d8\u957f\u7f16\u7801\u4e24\u79cd\u3002\u5b9a\u957f\u7f16\u7801\u5c31\u662f\u81ea\u8eab\u5230\u81ea\u8eab\u7684\u6620\u5c04\uff08null mapping\uff09\uff1b\u53d8\u957f\u7f16\u7801\u5219\u6bd4\u8f83\u590d\u6742\uff0c\u628a\u4e00\u4e9b\u7801\u4f4d\u6620\u5c04\u5230\u4e00\u4e2a\u7801\u5143\uff0c\u628a\u53e6\u5916\u4e00\u4e9b\u7801\u4f4d\u6620\u5c04\u5230\u7531\u591a\u4e2a\u7801\u5143\u7ec4\u6210\u7684\u5e8f\u5217\u3002ASCII \u5c31\u662f\u4e00\u79cd\u5b9a\u957f\u7f16\u7801\uff0c\u8fd9\u53ef\u4ee5\u7406\u89e3\u4e3a\u7f16\u7801\u5b57\u7b26\u96c6\u7684\u76f4\u63a5\u8868\u793a\u3002\u5bf9\u4e8e Unicode \u5b57\u7b26\u96c6\u6765\u8bf4\uff0c\u8fd9\u79cd\u76f4\u63a5\u8868\u793a\u6cd5\u4e0d\u4ec5\u5f88\u6ca1\u6548\u7387\uff0c\u8fd8\u4f1a\u6709\u5176\u4ed6\u95ee\u9898\uff1a</p> <ol> <li>\u73b0\u5728\u7684Unicode\u5b57\u7b26\u96c6\u81f3\u5c11\u9700\u898121\u4f4d\u4e8c\u8fdb\u5236\u6570\u624d\u80fd\u5b8c\u5168\u8868\u793a\uff0c\u5982\u679c\u82f1\u6587\u5b57\u7b26\u90fd\u752821\u4f4d\u8868\u793a\uff0c\u90a3\u4e48\u4fdd\u5b58\u6216\u4f20\u8f93\u82f1\u6587\u6587\u672c\u5c31\u4f1a\u6bd4\u4f7f\u7528ASCII\u7f16\u7801\u591a\u51fa\u8fd1\u4e4e2\u500d\u7684\u7a7a\u95f4\u6216\u6d41\u91cf\u3002</li> <li>\u5982\u679c\u7528\u5b9a\u957f\u7f16\u7801\uff0c\u90a3\u4e48Unicode\u7f16\u7801\u5219\u65e0\u6cd5\u4e0eASCII\u7f16\u7801\u517c\u5bb9\uff0c\u56e0\u4e3aASCII\u7801\u53ea\u5360\u7528\u4e00\u4e2a\u5b57\u8282\uff0c\u800cUnicode\u7f16\u7801\u9700\u8981\u5360\u7528\u66f4\u591a\u5b57\u8282\u3002</li> <li>Unicode\u5b57\u7b26\u96c6\u662f\u5f00\u653e\u7684\uff0c\u672a\u6765\u53ef\u80fd\u6709\u66f4\u591a\u7684\u5b57\u7b26\u52a0\u5165\u8fdb\u6765\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u7406\u8bba\u4e0aUCS\u9700\u8981\u65e0\u9650\u7684\u7801\u4f4d\uff0c\u4f46\u662f\u8ba1\u7b97\u673a\u7684\u6574\u5f62\u80fd\u8868\u793a\u7684\u6574\u6570\u8303\u56f4\u662f\u6709\u9650\u7684\u3002</li> </ol> <p>\u53d8\u957f\u7f16\u7801\u53ef\u4ee5\u89e3\u51b3\u4ee5\u4e0a\u4e09\u4e2a\u95ee\u9898\u3002\u53d8\u957f\u7f16\u7801\u5c06\u4e00\u4e2a\u201c\u65e0\u9650\u5927\u201d\u7684\u6574\u6570\u96c6\u5408\u6620\u5c04\u4f4d\u6307\u5b9a\u5b57\u5bbd\u7684\u7801\u5143\u5e8f\u5217\u3002\u5728 ISO/IEC 10646 \u4e2d\uff0c\u6307\u5b9a\u4e86\u4e09\u79cd\u6807\u51c6\u7684\u5b57\u7b26\u7f16\u7801\u8868\uff1aUTF-8\u3001UTF-16\u3001UTF-32\uff0c\u5206\u522b\u5c06 Unicode \u6807\u91cf\u503c\u6620\u5c04\u4e3a\u6bd4\u7279\u6570\u4e3a8\u300116\u300132\u7684\u7801\u5143\u7684\u5e8f\u5217\uff0c\u5176\u4e2d UTF-8 \u548c UTF-16 \u662f\u53d8\u957f\u8868\u793a\uff0c\u800c UTF-32 \u662f\u5b9a\u957f\u8868\u793a\u3002\u6b64\u5916\uff0c\u8fd8\u5305\u62ec\u4e86\u4e24\u79cd\u5b9a\u957f\u7f16\u7801\u7684CEF\uff1aUCS-2 \u548c UCS-4\uff0c\u5176\u4e2d UCS-4 \u548c UTF-32 \u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u6837\u7684\u3002\u65e0\u8bba\u662f UTF-8 \u8fd8\u662f UTF-16\uff0c\u672c\u8d28\u601d\u60f3\u90fd\u662f\u901a\u8fc7\u9884\u7559\u6807\u8bb0\u4f4d\u6765\u6307\u793a\u7801\u5143\u5e8f\u5217\u7684\u957f\u5ea6\uff0c\u4ece\u800c\u5b9e\u73b0\u53d8\u957f\u7f16\u7801\u7684\u3002UTF-8 \u662f\u5728\u4e92\u8054\u7f51\u4e0a\u4f7f\u7528\u6700\u5e7f\u7684\u4e00\u79cd Unicode \u7684\u5b9e\u73b0\u65b9\u5f0f\uff0cUTF-16 \u548c UTF-32 \u5219\u7528\u5f97\u5f88\u5c11\u3002</p> <p>Unicode\u5b9a\u4e49\u4e86\u4e09\u79cd\u4e0d\u540c\u7684CEF\u5e94\u8be5\u4e0d\u662f\u5de7\u5408\uff0c\u5b9e\u9645\u4e0a\uff0cchar\u5728\u8ba1\u7b97\u673a\u4e2d\u5c31\u662f\u4e00\u79cd\u6574\u578b\uff0c \u8fd9\u4e09\u79cdCEF\u521a\u597d\u5bf9\u5e94\u4e86\u7f16\u7a0b\u8bed\u8a00\u4e2d\u6700\u5e38\u89c1\u7684\u4e09\u79cd\u6574\u5f62\u957f\u5ea6\uff08uint8\u3001uint16\u3001uint32\uff09</p> <p>\u56e0\u4e3a\u5bf9\u4e8e\u5305\u542b\u5f88\u591a\u5b57\u7b26\u7684CCS\u6765\u8bf4\uff0c\u53d8\u957f\u7f16\u7801\u53ef\u4ee5\u8282\u7701\u50a8\u5b58\u7a7a\u95f4\u548c\u7f51\u7edc\u5e26\u5bbd\uff0c\u6240\u4ee5\u5728\u50a8\u5b58\u548c\u7f51\u7edc\u4f20\u8f93\u65f6\uff0c\u4f1a\u5148\u4f7f\u7528\u53d8\u957f\u7f16\u7801\u5bf9\u5b57\u7b26\u8fdb\u884c\u7f16\u7801\u3002\u4ed4\u7ec6\u60f3\u4e00\u60f3\uff0c\u53ef\u80fd\u4f1a\u89c9\u5f97\u5947\u602a\uff0c\u56e0\u4e3a\u50a8\u5b58\u548c\u53d1\u9001\u5b57\u7b26\u9700\u8981\u5148\u7f16\u7801\uff0c\u90a3\u4e48\u53cd\u8fc7\u6765\uff0c\u5c06\u5b57\u7b26\u52a0\u8f7d\u5230\u5185\u5b58\u6216\u63a5\u6536\u5b57\u7b26\u65f6\u53ef\u80fd\u662f\u9700\u8981\u89e3\u7801\u7684\u3002\u90a3\u4e48\uff0c\u8fd9\u662f\u8981\u89e3\u7801\u6210\u4ec0\u4e48\u5462\uff1f\u800c\u4e14\uff0c\u56e0\u4e3aCEF\u548cCCS\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\uff0c\u7406\u8bba\u4e0a\u76f4\u63a5\u4f7f\u7528CEF\u5c31\u884c\u4e86\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u8981\u89e3\u7801\u548c\u7f16\u7801\u5462\uff1f\u5176\u5b9e\uff0c\u89e3\u91ca\u8fd9\u4e24\u4e2a\u95ee\u9898\u5c31\u662f\u8fd9\u7bc7\u6587\u7ae0\u7684\u4e3b\u8981\u76ee\u7684\u3002</p> <p>\u5982\u679c\u5728\u5185\u5b58\u4e2d\u76f4\u63a5\u4f7f\u7528\u5b57\u7b26\u4e32\u7684\u53d8\u957f\u7f16\u7801\uff0c\u90a3\u4e48\u4e0e\u5b57\u7b26\u4e32\u76f8\u5173\u7684\u7b97\u6cd5\uff08\u6392\u7248\u3001\u6392\u5e8f\u7b49\uff09\u7684\u590d\u6742\u5ea6\u5c31\u4f1a\u4e0a\u5347\u3002\u56e0\u4e3a\u53d8\u957f\u7f16\u7801\u662f\u4e0d\u5b9a\u957f\u7684\uff0c\u4e00\u4e2a\u5b57\u7b26\u53ef\u80fd\u662f1\u4e2a\u5b57\u8282\uff0c\u4e5f\u53ef\u80fd\u662f2\u4e2a\u62163\u4e2a\u5b57\u8282\uff0c\u90a3\u5c31\u6ca1\u6cd5\u529e\u5feb\u901f\u8bbf\u95ee\u67d0\u4e2a\u5b57\u7b26\u7684\u4f4d\u7f6e\uff0c\u4f8b\u5982\u4f60\u6ca1\u6cd5\u786e\u5b9a\u7b2c100\u4e2a\u5b57\u7b26\u4ece\u7b2c\u51e0\u4e2a\u5b57\u8282\u5f00\u59cb\u3002\u5982\u679c\u4f60\u60f3\u627e\u51fa\u7b2c100\u4e2a\u5b57\u7b26\u662f\u4ec0\u4e48\uff0c\u5fc5\u987b\u5148\u7528\u5b9a\u957f\u7f16\u7801\u7684\u89e3\u91ca\u89c4\u5219\uff0c\u4ece\u524d\u5f80\u540e\u626b\u63cf\u6574\u4e2a\u5b57\u8282\u6d41\uff0c\u76f4\u5230\u626b\u5230\u7b2c100\u4e2a\u5b57\u7b26\u7684\u4f4d\u7f6e\u3002\u56e0\u6b64\uff0c\u4e3a\u4e86\u5904\u7406\u5b57\u7b26\u7684\u9ad8\u6548\uff0c\u5728\u5185\u5b58\u4e2d\u4e00\u822c\u4f1a\u4f7f\u7528\u5b9a\u957f\u7f16\u7801\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8eUTF-32\u6765\u8bf4\uff0c\u8981\u627e\u51fa\u7b2c100\u4e2a\u5b57\u7b26\uff0c\u53ea\u9700\u8981\u53d6\u51fa\u7b2c400\u5b57\u8282\u81f3\u7b2c404\u5b57\u8282\u7684\u6570\u636e\u5c31\u884c\u4e86\u3002</p> <p>\u56e0\u4e3a\u5b57\u7b26\u5728\u5185\u5b58\u4e2d\u4f7f\u7528\u5b9a\u957f\u7f16\u7801\uff0c\u800c\u5728\u50a8\u5b58\u548c\u4f20\u8f93\u65f6\u4f7f\u7528\u53d8\u957f\u7f16\u7801\uff0c\u6240\u4ee5\u5c31\u9700\u8981\u7f16\u7801\u8f6c\u6362\uff0c\u8fd9\u5c31\u662f\u9700\u8981\u7f16\u7801\u548c\u89e3\u7801\u7684\u539f\u56e0\u3002\u4e00\u822c\u800c\u8a00\uff0c\u6211\u4eec\u5c06\u50a8\u5b58\u548c\u4f20\u8f93\u65f6\u7684\u7f16\u7801\u8f6c\u6362\u8fc7\u7a0b\u79f0\u4e3a\u201c\u7f16\u7801\u201d\uff08\u52a8\u8bcd\uff09\uff0c\u5c06\u5b57\u7b26\u52a0\u8f7d\u5230\u5185\u5b58\u65f6\u7684\u7f16\u7801\u8f6c\u6362\u8fc7\u7a0b\u79f0\u4e3a\u201c\u89e3\u7801\u201d\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u7f16\u7801\u8f6c\u6362\u4e0d\u662f\u5fc5\u987b\u7684\uff0c\u56e0\u4e3a\u6709\u4e9b\u7a0b\u5e8f\u5728\u5185\u5b58\u4e2d\u5c31\u662f\u76f4\u63a5\u4f7f\u7528\u53d8\u957f\u7f16\u7801\u7684\uff0c\u53ea\u9700\u4ed8\u51fa\u6027\u80fd\u4ee3\u4ef7\u5373\u53ef\u3002\u4f8b\u5982\uff0cRust\u8bed\u8a00\u5c31\u662f\u5728\u5185\u5b58\u4e2d\u76f4\u63a5\u4f7f\u7528 UTF-8 \u7f16\u7801\uff0c\u5728\u8c03\u7528\u5176\u4ed6\u5e93\u7684 API \u65f6\u518d\u8f6c\u6362\u7f16\u7801\u3002\u53e6\u5916\uff0c\u50a8\u5b58\u6216\u4f20\u8f93\u5b57\u7b26\u4e5f\u53ef\u4ee5\u7528\u5b9a\u957f\u7f16\u7801\uff0c\u4f8b\u5982\u7eaf\u82f1\u6587\u6587\u672c\u76f4\u63a5\u7528ASCII\u5c31\u884c\uff0c\u6216\u8005\u4f7f\u7528UCS-2\u3002\u90a3\u80fd\u4e0d\u80fd\u7528UTF-32/UCS-4\u5462\uff1f\u7edd\u5bf9\u662f\u4e0d\u53ef\u4ee5\u7684\uff0c\u56e0\u4e3a\u50a8\u5b58\u548c\u6d41\u91cf\u90fd\u662f\u9700\u8981\u6210\u672c\u7684\uff0c\u4e3a\u4e86\u7ecf\u6d4e\u5229\u76ca\uff0c\u82f1\u8bed\u56fd\u5bb6\u9635\u8425\u4f1a\u7b2c\u4e00\u4e2a\u62d2\u7edd\u4f7f\u7528 UTF-32/UCS-4\uff0c\u5176\u4ed6\u62c9\u4e01\u8bed\u7cfb\u56fd\u5bb6\u4f1a\u662f\u7b2c\u4e8c\u4e2a\u3002</p> <p>\u5176\u5b9e\u4e00\u5f00\u59cb\uff0cUnicode\u7ec4\u7ec7\u60f3\u8981\u63a8\u5e7f\u7684\u56fd\u9645\u6807\u51c6\u7f16\u7801\u662fUCS-2\uff0c\u4f46\u662fUCS-2\u53ea\u4f7f\u752816\u4e2abit\uff0c\u6700\u591a\u53ea\u80fd\u8868\u793a65536\u4e2a\u5b57\u7b26\u3002\u663e\u7136\u8fd9\u8fde\u4e2d\u6587\u90fd\u6ca1\u6cd5\u5b8c\u5168\u8868\u793a\uff0c\u66f4\u522b\u8bf4\u8fd8\u6709\u5176\u4ed6\u56fd\u5bb6\u7684\u8bed\u8a00\u3002\u56e0\u6b64\uff0cUCS-2\u7684\u63a8\u5e7f\u906d\u5230\u4e86\u4e2d\u65e5\u97e9\u4e09\u56fd\u6781\u529b\u53cd\u5bf9\uff0c\u4e3b\u8981\u662f\u5f53\u65f6\u4f5c\u4e3a\u7b2c\u4e8c\u7ecf\u6d4e\u5927\u56fd\u7684\u65e5\u672c\u6b63\u4e0e\u7f8e\u56fd\u5728\u8ba1\u7b97\u673a\u9886\u57df\u7ade\u4e89\u3002\u7531\u4e8e\u4e2d\u65e5\u97e9\u4e09\u56fd\u7ecf\u6d4e\u4f53\u91cf\u8fd8\u7b97\u53ef\u4ee5\uff0c\u6240\u4ee5\u540e\u6765Unicode\u7ec4\u7ec7\u59a5\u534f\uff0c\u5347\u7ea7\u4e86Unicode\u6807\u51c6\uff0c\u8f6c\u800c\u4f7f\u7528UCS-4\uff0c\u4e0d\u7136\u6c49\u5b57\u6587\u5316\u5708\u7684\u5386\u53f2\u6587\u5316\u5c31\u548c\u4e92\u8054\u7f51\u8bf4\u518d\u89c1\u4e86\u3002\u4f46\u6b63\u5982\u4e0a\u9762\u6240\u8bf4\uff0c\u56e0\u4e3a\u6d89\u53ca\u7ecf\u6d4e\u5229\u76ca\uff0c\u63a8\u5e7fUCS-4\u56f0\u96be\u91cd\u91cd\u3002\u56e0\u6b64\uff0c\u540e\u6765\u53c8\u51fa\u73b0\u4e86UTF\uff08Universal Transformation Format\uff0c\u901a\u7528\u4f20\u8f93\u683c\u5f0f\uff09\u3002\u4e4b\u540e\u76f4\u5230\u4e92\u8054\u7f51\u65f6\u4ee3\u7684\u5230\u6765\uff0c\u8de8\u8bed\u8a00\u4fe1\u606f\u4ea4\u4e92\u7a7a\u524d\u9891\u7e41\uff0c\u7edf\u4e00\u7f16\u7801\u5927\u52bf\u6240\u8d8b\uff0cUTF-8 \u7ec8\u4e8e\u88ab\u5e7f\u6cdb\u4f7f\u7528\u3002\u5b9e\u9645\u4e0a\uff0c\u4f7f\u7528UTF-8\u5927\u53d7\u6b22\u8fce\u7684\u4e3b\u8981\u539f\u56e0\u662f\u5bf9\u6b27\u7f8e\u800c\u8a00\uff0cUTF-8\u4e0d\u4ec5\u4fdd\u7559Unicode\u7684\u901a\u7528\u6027\uff0c\u8fd8\u907f\u514d\u4e86\u7a7a\u95f4\u548c\u6d41\u91cf\u7684\u6d6a\u8d39\uff0c\u800c\u5982\u679c\u7f16\u7801\u7eaf\u4e2d\u6587\uff0cUTF-8\u5f80\u5f80\u6bd4UTF-16\u66f4\u9700\u8981\u66f4\u591abit\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html#utf-8","title":"UTF-8","text":"<p>UTF-8 \u6700\u5927\u7684\u4e00\u4e2a\u7279\u70b9\uff0c\u5c31\u662f\u5b83\u662f\u4e00\u79cd\u53d8\u957f\u7684\u7f16\u7801\u65b9\u5f0f\u3002\u5b83\u53ef\u4ee5\u4f7f\u75281~4\u4e2a\u5b57\u8282\u8868\u793a\u4e00\u4e2a\u7b26\u53f7\uff0c\u6839\u636e\u4e0d\u540c\u7684\u7b26\u53f7\u800c\u53d8\u5316\u5b57\u8282\u957f\u5ea6\u3002</p> <p>UTF-8 \u7684\u7f16\u7801\u89c4\u5219\u5f88\u7b80\u5355\uff0c\u53ea\u6709\u4e8c\u6761\uff1a</p> <ol> <li> <p>\u5bf9\u4e8e\u5355\u5b57\u8282\u7684\u7b26\u53f7\uff0c\u5b57\u8282\u7684\u7b2c\u4e00\u4f4d\u8bbe\u4e3a<code>0</code>\uff0c\u540e\u97627\u4f4d\u4e3a\u8fd9\u4e2a\u7b26\u53f7\u7684 Unicode \u7801\u3002\u56e0\u6b64\u5bf9\u4e8e\u82f1\u8bed\u5b57\u6bcd\uff0cUTF-8 \u7f16\u7801\u548c ASCII \u7801\u662f\u76f8\u540c\u7684\u3002</p> </li> <li> <p>\u5bf9\u4e8e<code>n</code>\u5b57\u8282\u7684\u7b26\u53f7\uff08<code>n &gt; 1</code>\uff09\uff0c\u7b2c\u4e00\u4e2a\u5b57\u8282\u7684\u524d<code>n</code>\u4f4d\u90fd\u8bbe\u4e3a<code>1</code>\uff0c\u7b2c<code>n + 1</code>\u4f4d\u8bbe\u4e3a<code>0</code>\uff0c\u540e\u9762\u5b57\u8282\u7684\u524d\u4e24\u4f4d\u4e00\u5f8b\u8bbe\u4e3a<code>10</code>\u3002\u5269\u4e0b\u7684\u6ca1\u6709\u63d0\u53ca\u7684\u4e8c\u8fdb\u5236\u4f4d\uff0c\u5168\u90e8\u4e3a\u8fd9\u4e2a\u7b26\u53f7\u7684 Unicode \u7801\u3002</p> </li> </ol> <p>\u4e0b\u8868\u603b\u7ed3\u4e86\u7f16\u7801\u89c4\u5219\uff0c\u5b57\u6bcd<code>x</code>\u8868\u793a\u53ef\u7528\u7f16\u7801\u7684\u4f4d\u3002</p> <pre><code>Unicode\u7b26\u53f7\u8303\u56f4      |     UTF-8\u7f16\u7801\u65b9\u5f0f\n  (\u5341\u516d\u8fdb\u5236)         |       \uff08\u4e8c\u8fdb\u5236\uff09\n---------------------+---------------------------------------------\n0000 0000-0000 007F  |  0xxxxxxx\n0000 0080-0000 07FF  |  110xxxxx 10xxxxxx\n0000 0800-0000 FFFF  |  1110xxxx 10xxxxxx 10xxxxxx\n0001 0000-0010 FFFF  |  11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n</code></pre> <p>\u4e0b\u9762\u4ee5\u6c49\u5b57<code>\u4e25</code>\u4e3a\u4f8b\uff0c\u6f14\u793a\u5982\u4f55\u5b9e\u73b0 UTF-8 \u7f16\u7801\u3002</p> <p><code>\u4e25</code> \u7684 16\u8fdb\u5236 Unicode \u7801\u4f4d\u662f <code>4E25</code>\uff0c\u6362\u7b97\u4e3a\u4e8c\u8fdb\u5236\u4e3a <code>100111000100101</code>\uff0c\u6839\u636e\u4e0a\u8868\uff0c\u53ef\u4ee5\u53d1\u73b0 <code>4E25</code> \u5904\u5728\u7b2c\u4e09\u884c\u7684\u8303\u56f4\u5185\uff08<code>0000 0800 - 0000 FFFF</code>\uff09\uff0c\u56e0\u6b64<code>\u4e25</code>\u7684 UTF-8 \u7f16\u7801\u9700\u8981\u4e09\u4e2a\u5b57\u8282\uff0c\u5373\u683c\u5f0f\u662f<code>1110xxxx 10xxxxxx 10xxxxxx</code>\u3002\u7136\u540e\uff0c\u4ece<code>\u4e25</code>\u7684\u6700\u540e\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u5f00\u59cb\uff0c\u4f9d\u6b21\u4ece\u540e\u5411\u524d\u586b\u5165\u683c\u5f0f\u4e2d\u7684<code>x</code>\uff0c\u591a\u51fa\u7684\u4f4d\u8865<code>0</code>\u3002\u8fd9\u6837\u5c31\u5f97\u5230\u4e86\uff0c<code>\u4e25</code>\u7684 UTF-8 \u7f16\u7801\u662f<code>11100100 10111000 10100101</code>\uff0c\u8f6c\u6362\u6210\u5341\u516d\u8fdb\u5236\u5c31\u662f<code>E4B8A5</code>\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html#ces","title":"\u5b57\u7b26\u7f16\u7801\u65b9\u6848 CES","text":"<p>\u5b57\u7b26\u7f16\u7801\u65b9\u6848\uff08Character Encoding Scheme\uff09\uff1a\u4e5f\u79f0\u4f5c serialization format\u3002\u5c07\u5b9a\u957f\u7684\u6574\u578b\u503c\uff08\u5373\u7801\u5143\uff09\u6620\u5c04\u52308\u4f4d\u5b57\u8282\u5e8f\u5217\uff0c\u4ee5\u4fbf\u7f16\u7801\u540e\u7684\u6570\u636e\u7684\u6587\u4ef6\u5b58\u50a8\u6216\u7f51\u7edc\u4f20\u8f93\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u6709\u4e86 CEF \u53ef\u80fd\u8fd8\u4e0d\u53ef\u4ee5\u76f4\u63a5\u4f20\u8f93\u6587\u672c\u6570\u636e\uff0c\u56e0\u4e3a\u8fd8\u5b58\u5728\u5927\u5c0f\u7aef\u5e8f\u7684\u95ee\u9898\u3002CES \u6b63\u662f\u4e3a\u4e86\u5728 CEF \u7684\u57fa\u7840\u4e0a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u4e00\u822c\u4f1a\u5728\u7f16\u7801\u5b57\u8282\u5e8f\u5217\u5f00\u59cb\u5904\u52a0\u5165\u4e00\u6bb5\u7279\u6b8a\u7684\u5b57\u8282\u5e8f\u5217\uff0c\u5373\u5b57\u8282\u5e8f\u6807\u8bb0BOM\uff08Byte Order Mark\uff09\uff0c\u7528\u4e8e\u8868\u793a\u6587\u672c\u5e8f\u5217\u7684\u5927\u5c0f\u7aef\u5e8f\u3002\u8fd9\u6837\uff0c\u4e0d\u540c\u7684Unicode\u5b57\u7b26\u7f16\u7801\u8868\u7531\u4e8e\u4f7f\u7528\u4e0d\u540c\u7684\u5927\u5c0f\u7aef\u5e8f\u65b9\u6848\uff0c\u53c8\u4f1a\u7ec6\u5206\u4e3a\u51e0\u4e2a\u7248\u672c\u3002\u56e0\u4e3aUTF-8\u5df2\u7ecf\u91c7\u7528\u5b57\u8282\u4f5c\u4e3a\u7801\u5143\uff0c\u6240\u4ee5UTF-8\u4e0d\u9700\u8981\u989d\u5916\u7684CES\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html#_6","title":"\u4f20\u8f93\u7f16\u7801\u8bed\u6cd5","text":"<p>\u4f20\u8f93\u7f16\u7801\u8bed\u6cd5\u662f\u73b0\u4ee3\u7f16\u7801\u6a21\u578b\u7684\u6700\u9876\u5c42\u3002\u901a\u8fc7 CES\uff0c\u6211\u4eec\u5df2\u7ecf\u53ef\u4ee5\u5c06\u4e00\u4e2a\u5b57\u7b26\u8868\u793a\u4e3a\u4e00\u4e2a\u5b57\u8282\u5e8f\u5217\u3002\u4f46\u6709\u65f6\u5019\uff0c\u5b57\u8282\u5e8f\u5217\u8868\u793a\u8fd8\u4e0d\u591f\uff0c\u4f8b\u5982\u5728 HTTP \u534f\u8bae\u4e2d\uff0c\u4e00\u4e9b\u5b57\u7b26\u662f\u4e0d\u5141\u8bb8\u51fa\u73b0\u5728 URL \u7684\u3002\u6b64\u65f6\uff0c\u5c31\u9700\u8981\u518d\u6b21\u5bf9\u5b57\u8282\u6d41\u8fdb\u884c\u7f16\u7801\u3002\u53e6\u5916\uff0c\u5728 CES \u4e2d\uff0c\u5b57\u8282\u5e8f\u5217\u4ee5 8 bit \u4e3a\u5355\u4f4d\uff0c\u4f46\u6709\u65f6\u5019\u53ef\u80fd\u8fd8\u9700\u8981\u5c068\u4f4d\u7684\u5b57\u8282\u538b\u7f29\u52307\u4f4d\uff0c\u6b64\u65f6\u4e5f\u9700\u8981\u518d\u6b21\u7f16\u7801\u3002</p>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html#python","title":"Python \u9ed8\u8ba4\u5b57\u7b26\u96c6","text":"<p>Python\u7684\u9ed8\u8ba4\u5b57\u7b26\u96c6\u5728\u51e0\u4e2a\u5927\u7248\u672c\u4e2d\u6709\u8fc7\u6539\u53d8\uff0c\u4ee5\u4e0b\u662f\u5404\u4e2a\u7248\u672c\u7684\u9ed8\u8ba4\u5b57\u7b26\u96c6\u5217\u4e3e\uff1a</p> <ul> <li>Python 2.1 \u53ca\u4ee5\u524d\uff1alatin1</li> <li>Python 2.3 \u53ca\u4e4b\u540e\uff0cPython 2.5 \u4ee5\u524d\uff1alatin1\uff08\u4f46\u662f\u4f1a\u5bf9\u975eASCII\u5b57\u7b26\u96c6\u5b57\u7b26\u63d0\u51faWARNING\uff09</li> <li>Python 2.5 \u53ca\u4ee5\u540e\uff1aASCII</li> <li>Python 3 \uff1aUnicode\uff08UTF-8\uff09</li> </ul>"},{"location":"Python3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1.5.%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81.html#_7","title":"\u53c2\u8003","text":"<ol> <li>\u5b57\u7b26\u7f16\u7801\u7b14\u8bb0\uff1aASCII\uff0cUnicode \u548c UTF-8</li> <li>\u5341\u5206\u949f\u641e\u6e05\u5b57\u7b26\u96c6\u548c\u5b57\u7b26\u7f16\u7801</li> <li>\u5173\u4e8ePython\u7684\u9ed8\u8ba4\u5b57\u7b26\u96c6</li> <li>\u73b0\u4ee3\u7f16\u7801\u6a21\u578b</li> <li>\u5f7b\u5e95\u5f04\u61c2Unicode\u7f16\u7801</li> <li>Unicode \u5b57\u7b26\u7f16\u7801\u6a21\u578b_\u62bd\u8c61\u5b57\u7b26\u5e93(ACR)</li> <li>\u5b57\u7b26\u7f16\u7801\u63a0\u5f71\uff1a\u73b0\u4ee3\u7f16\u7801\u6a21\u578b</li> <li>\u4e3a\u4ec0\u4e48Python\u5185\u90e8\u5b9e\u73b0\u8981\u4f7f\u7528UCS2\u7f16\u7801\uff1f</li> <li>UTF-16\u662f\u56fa\u5b9a\u4e24\u4e2a\u5b57\u8282\u957f\u5ea6\u5417\uff1f - \u77e5\u4e4e</li> <li>unicode - How to find out if Python is compiled with UCS-2 or UCS-4? - Stack Overflow</li> <li>Unicode \u548c UTF-8 \u6709\u4ec0\u4e48\u533a\u522b\uff1f - \u77e5\u4e4e</li> <li>\u5f7b\u5e95\u5f04\u61c2Unicode\u7f16\u7801 - \u674e\u5b87\u4ed3 | Li Yucang</li> <li>\u5b57\u8282\u7801\uff1aASCII\u7f16\u7801\uff1a\u5355\u5b57\u8282\u7f16\u7801\uff0cANSI\u7f16\u7801\uff1a\u591a\u5b57\u8282\u7f16\u7801\uff0cUNICODE\u7f16\u7801\uff1a\u5bbd\u5b57\u8282\u7f16\u7801_IT\u5c4a\u7684\u5c0f\u5b66\u751f-CSDN\u535a\u5ba2</li> <li>\u4e3a\u4f55\u5fae\u8f6f\u4e0d\u628a Windows \u7684\u9ed8\u8ba4\u5b57\u7b26\u96c6\u8bbe\u7f6e\u6210 Unicode \uff1f - \u77e5\u4e4e</li> <li>\u4e00\u6587\u641e\u61c2 Python 2 \u5b57\u7b26\u7f16\u7801-\u4e91\u793e\u533a-\u534e\u4e3a\u4e91</li> </ol> <ol> <li> <p>\u4fe1\u606f\u5355\u5143\u5373\u662f\u6307\u7ec4\u6210\u6587\u672c\u8bed\u8a00\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u4f8b\u5982\u4e2d\u6587\u4e2d\u7684\u6bcf\u4e00\u4e2a\u6c49\u5b57\u3001\u6807\u70b9\uff0c\u82f1\u6587\u7684\u6bcf\u4e00\u4e2a\u5b57\u6bcd\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.1.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80.html","title":"7.1.\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\u57fa\u7840","text":"<p>\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\uff08Object-Ori\u00adent\u00aded Pro\u00adgram\u00adming\uff0c\u7f29\u5199\u4e3a OOP\uff09\u662f\u4e00\u79cd\u8303\u5f0f\uff0c\u5176\u57fa\u672c\u7406\u5ff5\u662f\u5c06\u6570\u636e\u5757\u53ca\u4e0e\u6570\u636e\u76f8\u5173\u7684\u884c\u4e3a\u5c01\u88c5\u6210\u4e3a\u7279\u6b8a\u7684\u3001\u540d\u4e3a\u5bf9\u8c61\u7684\u5b9e\u4f53\uff0c \u540c\u65f6\u5bf9\u8c61\u5b9e\u4f53\u7684\u751f\u6210\u57fa\u4e8e\u7c7b\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.1.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80.html#_1","title":"\u9762\u5411\u5bf9\u8c61\u7684\u56db\u4e2a\u6838\u5fc3\u6982\u5ff5","text":"<p>\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\u7684\u56db\u4e2a\u57fa\u672c\u6982\u5ff5\u4f7f\u5176\u533a\u522b\u4e8e\u5176\u4ed6\u7a0b\u5e8f\u8bbe\u8ba1\u8303\u5f0f\u3002</p> <p>\u62bd\u8c61\u80fd\u8ba9\u7a0b\u5e8f\u53d8\u5f97\u66f4\u52a0\u901a\u7528\uff0c\u80fd\u89e3\u51b3\u66f4\u591a\u7684\u95ee\u9898\uff0c\u53e6\u4e00\u65b9\u9762\uff0c\u62bd\u8c61\u4e4b\u540e\u7684\u4ee3\u7801\u66f4\u6613\u8bfb\uff0c\u66f4\u7b26\u5408\u4eba\u7684\u903b\u8f91\u3002 </p> <p>\u8fd9\u56db\u4e2a\u6982\u5ff5\u7684\u5177\u4f53\u4ecb\u7ecd\u53ef\u4ee5\u53c2\u8003\u300a4.1.\u7c7b\u300b\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.1.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80.html#_2","title":"\u7c7b\u5c42\u6b21\u7ed3\u6784","text":"<p>\u901a\u8fc7\u7ee7\u627f\uff0c\u5b50\u7c7b\u548c\u57fa\u7c7b\u53ef\u4ee5\u88ab\u7ec4\u7ec7\u8d77\u6765\u5f62\u6210\u7c7b\u5c42\u6b21\u7ed3\u6784\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.1.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80.html#_3","title":"\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb","text":""},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.1.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80.html#_4","title":"\u4f9d\u8d56","text":"<p>\u4f9d\u8d56\u662f\u7c7b\u4e4b\u95f4\u6700\u57fa\u7840\u7684\u3001 \u4e5f\u662f\u6700\u5fae\u5f31\u7684\u5173\u7cfb\u7c7b\u578b\u3002 \u5982\u679c\u4fee\u6539\u4e00\u4e2a\u7c7b\u7684\u5b9a\u4e49\u53ef\u80fd\u4f1a\u9020\u6210\u53e6\u4e00\u4e2a\u7c7b\u7684\u53d8\u5316\uff0c\u90a3\u4e48\u8fd9\u4e24\u4e2a\u7c7b\u4e4b\u95f4\u5c31\u5b58\u5728\u4f9d\u8d56\u5173\u7cfb\u3002</p> Tip<p>\u56e0\u4e3a\u4f9d\u8d56\u662f\u6700\u57fa\u7840\u3001\u5fae\u5f31\u7684\u5173\u7cfb\uff0c\u6240\u4ee5\u7528\u865a\u7ebf\u8868\u793a\u3002</p> <p>\u5f53\u4f60\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528\u5177\u4f53\u7c7b\u7684\u540d\u79f0\u65f6\uff0c \u901a\u5e38\u610f\u5473\u7740\u5b58\u5728\u4f9d\u8d56\u5173\u7cfb\u3002\u901a\u8fc7\u8ba9\u4ee3\u7801\u4f9d\u8d56\u63a5\u53e3\u6216\u62bd\u8c61\u7c7b \uff08\u800c\u4e0d\u662f\u5177\u4f53\u7c7b\uff09\uff0c \u4f60\u53ef\u4ee5\u964d\u4f4e\u5176\u4f9d\u8d56\u7a0b\u5ea6\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.1.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80.html#_5","title":"\u5173\u8054","text":"<p>\u5173\u8054\u662f\u4e00\u4e2a\u5bf9\u8c61\u4f7f\u7528\u53e6\u4e00\u5bf9\u8c61\u6216\u4e0e\u53e6\u4e00\u5bf9\u8c61\u8fdb\u884c\u4ea4\u4e92\u7684\u5173\u7cfb\u3002\u5173\u8054\u53ef\u4ee5\u662f\u5355\u5411\u7684\uff0c\u4e5f\u53ef\u4ee5\u662f\u53cc\u5411\u7684\u3002</p> <p>\u5173\u8054\u53ef\u89c6\u4e3a\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u4f9d\u8d56\uff0c \u5373\u4e00\u4e2a\u5bf9\u8c61\u603b\u662f\u62e5\u6709\u8bbf\u95ee\u4e0e\u5176\u4ea4\u4e92\u7684\u5bf9\u8c61\u7684\u6743\u9650\uff0c \u800c\u7b80\u5355\u7684\u4f9d\u8d56\u5173\u7cfb\u5e76\u4e0d\u4f1a\u5728\u5bf9\u8c61\u95f4\u5efa\u7acb\u6c38\u4e45\u6027\u7684\u8054\u7cfb\u3002</p> <p>\u4e00\u822c\u6765\u8bf4\uff0c \u4f60\u53ef\u4ee5\u4f7f\u7528\u5173\u8054\u5173\u7cfb\u6765\u8868\u793a\u7c7b\u4f3c\u4e8e\u7c7b\u6210\u5458\u53d8\u91cf\u7684\u4e1c\u897f\u3002 \u8fd9\u4e2a\u5173\u7cfb\u5c06\u4e00\u76f4\u5b58\u5728\uff0c \u56e0\u6b64\u4f60\u603b\u80fd\u901a\u8fc7 \u201c\u8ba2\u5355\u201d \u6765\u83b7\u53d6\u5176 \u201c\u987e\u5ba2\u201d\u3002 \u4f46\u662f\u5b83\u5e76\u975e\u4e00\u5b9a\u662f\u6210\u5458\u53d8\u91cf\u3002 \u5982\u679c\u4f60\u6839\u636e\u63a5\u53e3\u6765\u521b\u5efa\u7c7b\uff0c \u5b83\u4e5f\u53ef\u4ee5\u8868\u793a\u4e3a\u4e00\u4e2a\u53ef\u8fd4\u56de \u201c\u8ba2\u5355\u201d \u7684 \u201c\u987e\u5ba2\u201d \u7684\u65b9\u6cd5\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.1.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80.html#vs","title":"\u5173\u8054 VS \u4f9d\u8d56","text":"<pre><code>class\u00a0Professor:\n    student = Student()\n\n    def teach(c:Course):\n        student.remember(c.getKnowledge())\n</code></pre> <p><code>teach</code> \uff08\u6559\u6388\u77e5\u8bc6\uff09\u65b9\u6cd5\u63a5\u6536\u4e00\u4e2a\u6765\u81ea<code>Course</code>\u7c7b\u7684\u53c2\u6570\u3002 \u5982\u679c\u6709\u4eba\u4fee\u6539\u4e86<code>Course</code>\u7c7b\u7684<code>get-Knowledge</code> \uff08\u83b7\u53d6\u77e5\u8bc6\uff09\u65b9\u6cd5 \uff08\u4fee\u6539\u65b9\u6cd5\u540d\u6216\u6dfb\u52a0\u4e00\u4e9b\u5fc5\u987b\u7684\u53c2\u6570\u7b49\uff09\uff0c \u4ee3\u7801\u5c06\u4f1a\u5d29\u6e83\u3002 \u8fd9\u5c31\u662f\u4f9d\u8d56\u5173\u7cfb\u3002</p> <p>\u73b0\u5728\uff0c \u8ba9\u6211\u4eec\u6765\u770b\u770b\u540d\u4e3a <code>student</code> \u7684\u6210\u5458\u53d8\u91cf\uff0c \u4ee5\u53ca\u5982\u4f55\u5728 <code>teach</code>\u65b9\u6cd5\u4e2d\u4f7f\u7528\u8be5\u53d8\u91cf\u3002 \u6211\u4eec\u53ef\u4ee5\u80af\u5b9a <code>Stu\u00addent</code> \u7c7b\u662f \u6559\u6388\u7c7b\u7684\u4f9d\u8d56\uff1a \u5982\u679c <code>remember</code>  \uff08\u8bb0\u4f4f\uff09 \u65b9\u6cd5\u88ab\u4fee\u6539\uff0c  \u6559\u6388\u7684\u4ee3\u7801\u4e5f\u5c06\u5d29\u6e83\u3002 \u4f46\u7531\u4e8e\u6559\u6388\u7684\u6240\u6709\u65b9\u6cd5\u603b\u80fd\u8bbf\u95ee<code>student</code>\u6210\u5458\u53d8\u91cf\uff0c \u6240\u4ee5 \u5b66\u751f\u7c7b\u5c31\u4e0d\u4ec5\u662f\u4f9d\u8d56\uff0c \u800c\u4e5f\u662f\u5173\u8054\u4e86\u3002 </p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.1.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80.html#_6","title":"\u805a\u5408","text":"<p>\u805a\u5408\u662f\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u5173\u8054\uff0c \u7528\u4e8e\u8868\u793a\u591a\u4e2a\u5bf9\u8c61\u4e4b\u95f4\u7684 \u201c\u4e00\u5bf9\u591a\u201d\u3001  \u201c\u591a\u5bf9\u591a\u201d \u6216 \u201c\u6574\u4f53\u5bf9\u90e8\u5206\u201d \u7684\u5173\u7cfb\u3002 \u666e\u901a\u5173\u8054\u4ec5\u7528\u4e8e\u63cf\u8ff0\u4e24\u4e2a\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb\u3002 </p> <p>\u901a\u5e38\u5728\u805a\u5408\u5173\u7cfb\u4e2d\uff0c \u4e00\u4e2a\u5bf9\u8c61 \u201c\u62e5\u6709\u201d \u4e00\u7ec4\u5176\u4ed6\u5bf9\u8c61\uff0c \u5e76\u626e\u6f14\u7740\u5bb9\u5668\u6216\u96c6\u5408\u7684\u89d2\u8272\u3002 \u7ec4\u4ef6\u53ef\u4ee5\u72ec\u7acb\u4e8e\u5bb9\u5668\u5b58\u5728\uff0c \u4e5f\u53ef\u4ee5\u540c\u65f6\u8fde\u63a5\u591a\u4e2a\u5bb9\u5668\u3002 \u5728 UML \u56fe\u4e2d\uff0c \u805a\u5408\u5173\u7cfb\u4f7f\u7528\u4e00\u7aef\u662f\u7a7a\u5fc3\u83f1\u5f62\uff0c \u53e6\u4e00\u7aef\u6307\u5411\u7ec4\u4ef6\u7684\u7bad\u5934\u6765\u8868\u793a\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.1.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80.html#_7","title":"\u7ec4\u5408","text":"<p>\u7ec4\u5408\u662f\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u805a\u5408\uff0c \u5176\u4e2d\u4e00\u4e2a\u5bf9\u8c61\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u5176\u4ed6\u5bf9\u8c61\u5b9e\u4f8b\u6784\u6210\u3002 \u7ec4\u5408\u4e0e\u805a\u5408\u7684\u533a\u522b\u5728\u4e8e\u7ec4\u4ef6\u4ec5\u80fd\u4f5c\u4e3a\u5bb9\u5668\u7684\u4e00\u90e8\u5206\u5b58\u5728\uff0c\u5bb9\u5668\u9500\u6bc1\u65f6\uff0c\u7ec4\u4ef6\u4e5f\u4f1a\u88ab\u9500\u6bc1\u3002</p> <p>\u5177\u4f53\u6765\u8bf4\uff0c\u6559\u6388\u53ef\u4ee5\u540c\u65f6\u662f\u91d1\u878d\u9662\u7cfb\u548c\u6570\u5b66\u9662\u7cfb\u7684\u6559\u6388\uff0c\u4f46\u662f\u9662\u7cfb\u4e00\u822c\u4e0d\u4f1a\u540c\u65f6\u662f\u591a\u4e2a\u5927\u5b66\u7684\u9662\u7cfb\u3002</p> <p>\u5728 UML \u56fe\u4e2d\uff0c \u7ec4\u5408\u4e0e\u805a\u5408\u5173\u7cfb\u7684\u7b26\u53f7\u76f8\u540c\uff0c \u4f46\u7bad\u5934\u8d77\u59cb\u5904\u7684\u83f1\u5f62\u662f\u5b9e\u5fc3\u7684\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.1.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80.html#_8","title":"\u603b\u7ed3","text":"<ul> <li>\u4f9d\u8d56\uff1a \u5bf9\u7c7b B \u8fdb\u884c\u4fee\u6539\u4f1a\u5f71\u54cd\u5230\u7c7b A \u3002</li> <li>\u5173\u8054\uff1a \u5bf9\u8c61 A \u77e5\u9053\u5bf9\u8c61 B\u3002 \u7c7b A \u4f9d\u8d56\u4e8e\u7c7b B\u3002</li> <li>\u805a\u5408\uff1a \u5bf9\u8c61 A \u77e5\u9053\u5bf9\u8c61 B \u4e14\u7531 B \u6784\u6210\u3002 \u7c7b A \u4f9d\u8d56\u4e8e\u7c7b B\u3002</li> <li>\u7ec4\u5408\uff1a \u5bf9\u8c61 A \u77e5\u9053\u5bf9\u8c61 B\u3001 \u7531 B \u6784\u6210\u800c\u4e14\u7ba1\u7406\u7740 B \u7684\u751f\u547d\u5468\u671f\u3002 \u7c7b A \u4f9d\u8d56\u4e8e\u7c7b B\u3002</li> <li>\u5b9e\u73b0\uff1a \u7c7b A \u5b9a\u4e49\u7684\u65b9\u6cd5\u7531\u63a5\u53e3 B \u58f0\u660e\u3002 \u5bf9\u8c61 A \u53ef\u88ab\u89c6\u4e3a\u5bf9\u8c61 B\u3002 \u7c7b A \u4f9d\u8d56\u4e8e\u7c7b B\u3002</li> <li>\u7ee7\u627f\uff1a \u7c7b A \u7ee7\u627f\u7c7b B \u7684\u63a5\u53e3\u548c\u5b9e\u73b0\uff0c \u4f46\u662f\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u6269\u5c55\u3002 \u5bf9\u8c61 A \u53ef\u88ab\u89c6\u4e3a\u5bf9\u8c61 B\u3002 \u7c7b A \u4f9d\u8d56\u4e8e\u7c7b B\u3002</li> </ul>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.2.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99.html","title":"7.2.\u9762\u5411\u5bf9\u8c61\u8f6f\u4ef6\u8bbe\u8ba1\u539f\u5219","text":""},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.2.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99.html#_1","title":"\u8c01\u53d1\u660e\u4e86\u8bbe\u8ba1\u6a21\u5f0f\uff1f","text":"<p>\u6a21\u5f0f\u7684\u6982\u5ff5\u662f\u7531\u514b\u91cc\u65af\u6258\u4f5b\u00b7\u4e9a\u5386\u5c71\u5927\u5728\u5176\u8457\u4f5c\u300a \u5efa\u7b51\u6a21\u5f0f\u8bed\u8a00\u300b\u4e2d\u9996\u6b21\u63d0\u51fa\u7684\u3002\u672c\u4e66\u4ecb\u7ecd\u4e86\u57ce\u5e02\u8bbe\u8ba1\u7684\u201c\u8bed\u8a00\u201d \uff0c\u800c\u8be5\u8bed\u8a00\u7684\u57fa\u672c\u5355\u5143\u5c31\u662f\u6a21\u5f0f\u3002\u5b83\u4eec\u53ef\u4ee5\u63cf\u8ff0\u7a97\u6237\u5e94\u8be5\u5728\u591a\u9ad8\u3001\u4e00\u5ea7\u5efa\u7b51\u5e94\u8be5\u6709\u591a\u5c11\u5c42\u4ee5\u53ca\u4e00\u7247\u8857\u533a\u5e94\u8be5\u6709\u591a\u5927\u9762\u79ef\u7684\u690d\u88ab\u7b49\u7b49\u3002</p> <p>\u57c3\u91cc\u5e0c\u00b7\u4f3d\u739b\u3001\u7ea6\u7ff0\u00b7\u5f17\u5229\u8d5b\u5fb7\u65af\u3001\u62c9\u5c14\u592b\u00b7\u7ea6\u7ff0\u900a\u548c\u7406\u67e5\u5fb7\u00b7\u8d6b\u5c14\u59c6\u8fd9\u56db\u4f4d\u4f5c\u8005\u63a5\u53d7\u4e86\u6a21\u5f0f\u7684\u6982\u5ff5\u30021994 \u5e74\uff0c\u4ed6\u4eec\u51fa\u7248\u4e86\u300a\u8bbe\u8ba1\u6a21\u5f0f\uff1a\u53ef\u590d\u7528\u9762\u5411\u5bf9\u8c61\u8f6f\u4ef6\u7684\u57fa\u7840\u300b\u4e00\u4e66 \uff0c\u5c06\u8bbe\u8ba1\u6a21\u5f0f\u7684\u6982\u5ff5\u5e94\u7528\u5230\u7a0b\u5e8f\u5f00\u53d1\u9886\u57df\u4e2d\u3002\u8be5\u4e66\u63d0\u4f9b\u4e86 23 \u4e2a\u6a21\u5f0f\u6765\u89e3\u51b3\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\u4e2d\u7684\u5404\u79cd\u95ee\u9898\uff0c\u5f88\u5feb\u4fbf\u6210\u4e3a\u4e86\u7545\u9500\u4e66\u3002\u7531\u4e8e\u4e66\u540d\u592a\u957f\uff0c\u4eba\u4eec\u5c06\u5176\u7b80\u79f0\u4e3a \u201c\u56db\u4eba\u7ec4\uff08Gang of Four\uff0cGoF\uff09\u7684\u4e66\u201d\uff0c\u5e76\u4e14\u5f88\u5feb\u8fdb\u4e00\u6b65\u7b80\u5316\u4e3a \u201cGoF \u7684\u4e66\u201d\u3002\u6b64\u540e\uff0c\u4eba\u4eec\u53c8\u53d1\u73b0\u4e86\u51e0\u5341\u79cd\u9762\u5411\u5bf9\u8c61\u7684\u6a21\u5f0f\u3002\u201c\u6a21\u5f0f\u65b9\u6cd5\u201d \u5f00\u59cb\u5728\u5176\u4ed6\u7a0b\u5e8f\u5f00\u53d1\u9886\u57df\u4e2d\u6d41\u884c\u8d77\u6765\u3002\u5982\u4eca\uff0c\u4eba\u4eec\u8fd8\u5728\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u9886\u57df\u4e4b\u5916\u63d0\u51fa\u4e86\u8bb8\u591a\u5176\u4ed6\u7684\u6a21\u5f0f\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.2.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99.html#_2","title":"\u8f6f\u4ef6\u8bbe\u8ba1\u539f\u5219","text":"<p>\u4f18\u79c0\u7684\u8bbe\u8ba1\u5e94\u8be5\u5177\u6709\u4ee5\u4e0b\u7279\u5f81\uff1a</p> <p>1.\u4ee3\u7801\u590d\u7528</p> <p>\u4ee3\u7801\u590d\u7528\u662f\u51cf\u5c11\u5f00\u53d1\u6210\u672c\u65f6\u6700\u5e38\u7528\u7684\u65b9\u5f0f\u4e4b\u4e00\u3002\u5176\u610f\u56fe\u975e\u5e38\u660e\u663e\uff1a\u4e0e\u5176\u53cd\u590d\u4ece\u5934\u5f00\u53d1\uff0c\u4e0d\u5982\u5728\u65b0\u5bf9\u8c61\u4e2d\u91cd\u7528\u5df2\u6709\u4ee3\u7801\u3002</p> <p>\u8fd9\u4e2a\u60f3\u6cd5\u8868\u9762\u770b\u8d77\u6765\u5f88\u68d2\uff0c\u4f46\u5b9e\u9645\u4e0a\u8981\u8ba9\u5df2\u6709\u4ee3\u7801\u5728\u5168\u65b0\u7684\u4e0a\u4e0b\u6587\u4e2d\u5de5\u4f5c \uff0c\u901a\u5e38\u8fd8\u662f\u9700\u8981\u4ed8\u51fa\u989d\u5916\u52aa\u529b\u3002\u7ec4\u4ef6\u95f4\u7d27\u5bc6\u7684\u8026\u5408\u3001\u5bf9\u5177\u4f53\u7c7b\u800c\u975e\u63a5\u53e3\u7684\u4f9d\u8d56\u548c\u786c\u7f16\u7801\u7684\u884c\u4e3a\u90fd\u4f1a\u964d\u4f4e\u4ee3\u7801\u7684\u7075\u6d3b\u6027\u3002</p> <p>2.\u6269\u5c55\u6027</p> <p>\u6709\u5f88\u591a\u539f\u56e0\u4f1a\u5bfc\u81f4\u8f6f\u4ef6\u7684\u4fee\u6539\uff1a</p> <ul> <li>\u5bf9\u95ee\u9898\u6709\u4e86\u66f4\u597d\u7684\u7406\u89e3\uff0c\u9700\u8981\u91cd\u6784\u4ee3\u7801</li> <li>\u51fa\u73b0\u4e86\u610f\u6599\u4e4b\u5916\u7684\u53d8\u5316</li> <li>\u9700\u6c42\u7684\u53d8\u5316</li> </ul>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.2.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99.html#_3","title":"\u5c01\u88c5\u53d8\u5316\u7684\u5185\u5bb9","text":"<p>\u5c06\u7ecf\u5e38\u53d8\u5316\u7684\u529f\u80fd\u5c01\u88c5\u8fdb\u65b0\u7684\u51fd\u6570\u6216\u8005\u7c7b\uff0c\u8ba9\u5b83\u4eec\u4e13\u95e8\u8d1f\u8d23\u8fd9\u4e9b\u9700\u8981\u7ecf\u5e38\u53d8\u5316\u7684\u5b9e\u73b0\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.2.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99.html#_4","title":"\u9762\u5411\u63a5\u53e3\u8fdb\u884c\u5f00\u53d1\uff0c\u800c\u4e0d\u662f\u9762\u5411\u5b9e\u73b0","text":"<p>\u5de6\u8fb9\u7684\u4ee3\u7801\uff0c<code>Cat.eat()</code>\u65b9\u6cd5\u76f4\u63a5\u4f9d\u8d56\u4e8e<code>Sausage</code>\u7684\u5b9e\u73b0\u3002\u53f3\u8fb9\u7684\u4ee3\u7801\uff0c<code>Cat.eat()</code>\u65b9\u6cd5\u4f9d\u8d56\u4e8e<code>Food</code>\u63a5\u53e3\uff0c\u7531<code>Sausage</code>\u7c7b\u5b9e\u73b0\u4e86\u8be5\u63a5\u53e3\u7684\u529f\u80fd\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.2.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99.html#_5","title":"\u7ec4\u5408\u4f18\u4e8e\u7ee7\u627f","text":"<p>\u7ee7\u627f\u53ef\u80fd\u662f\u7c7b\u4e4b\u95f4\u6700\u660e\u663e\u3001\u6700\u7b80\u4fbf\u7684\u4ee3\u7801\u590d\u7528\u65b9\u5f0f\u3002\u5982\u679c\u4f60\u6709\u4e24\u4e2a\u4ee3\u7801\u76f8\u540c\u7684\u7c7b\uff0c\u5c31\u53ef\u4ee5\u4e3a\u5b83\u4eec\u521b\u5efa\u4e00\u4e2a\u901a\u7528\u7684\u57fa\u7c7b\uff0c\u7136\u540e\u5c06\u76f8\u4f3c\u7684\u4ee3\u7801\u79fb\u52a8\u5230\u5176\u4e2d\u3002\u4e0d\u8fc7\uff0c\u7ee7\u627f\u8fd9\u4ef6\u4e8b\u901a\u5e38\u53ea\u6709\u5728\u7a0b\u5e8f\u4e2d\u5df2\u5305\u542b\u5927\u91cf\u7c7b\uff0c \u4e14\u4fee\u6539\u4efb\u4f55\u4e1c\u897f\u90fd\u975e\u5e38\u56f0\u96be\u65f6\u624d\u4f1a\u5f15\u8d77\u5173\u6ce8\u3002 \u4e0b\u9762\u5c31\u662f\u6b64\u7c7b\u95ee\u9898\u7684\u6e05\u5355\u3002</p> <ul> <li>\u5b50\u7c7b\u4e0d\u80fd\u51cf\u5c11\u8d85\u7c7b\u7684\u63a5\u53e3\u3002 \u4f60\u5fc5\u987b\u5b9e\u73b0\u7236\u7c7b\u4e2d\u6240\u6709\u7684\u62bd\u8c61\u65b9\u6cd5\uff0c \u5373\u4f7f\u5b83\u4eec\u6ca1\u4ec0\u4e48\u7528\u3002</li> <li>\u5728\u91cd\u5199\u65b9\u6cd5\u65f6\uff0c\u4f60\u9700\u8981\u786e\u4fdd\u65b0\u884c\u4e3a\u4e0e\u5176\u57fa\u7c7b\u4e2d\u7684\u7248\u672c\u517c\u5bb9\u3002 \u8fd9\u4e00\u70b9\u5f88\u91cd\u8981\uff0c\u56e0\u4e3a\u5b50\u7c7b\u7684\u6240\u6709\u5bf9\u8c61\u90fd\u53ef\u80fd\u88ab\u4f20\u9012\u7ed9\u4ee5\u8d85\u7c7b\u5bf9\u8c61\u4e3a\u53c2\u6570\u7684\u4efb\u4f55\u4ee3\u7801\uff0c\u76f8\u4fe1\u4f60\u4e0d\u4f1a\u5e0c\u671b\u8fd9\u4e9b\u4ee3\u7801\u5d29\u6e83\u7684\u3002</li> <li>\u7ee7\u627f\u6253\u7834\u4e86\u8d85\u7c7b\u7684\u5c01\u88c5\uff0c\u56e0\u4e3a\u5b50\u7c7b\u62e5\u6709\u8bbf\u95ee\u7236\u7c7b\u5185\u90e8\u8be6\u7ec6\u5185\u5bb9\u7684\u6743\u9650\u3002\u6b64\u5916\u8fd8\u53ef\u80fd\u4f1a\u6709\u76f8\u53cd\u7684\u60c5\u51b5\u51fa\u73b0\uff0c\u90a3\u5c31\u662f\u7a0b\u5e8f\u5458\u4e3a\u4e86\u8fdb\u4e00\u6b65\u6269\u5c55\u7684\u65b9\u4fbf\u800c\u8ba9\u8d85\u7c7b\u77e5\u6653\u5b50\u7c7b\u7684\u5185\u90e8\u8be6\u7ec6\u5185\u5bb9\u3002</li> <li>\u5b50\u7c7b\u4e0e\u8d85\u7c7b\u7d27\u5bc6\u8026\u5408\u3002\u8d85\u7c7b\u4e2d\u7684\u4efb\u4f55\u4fee\u6539\u90fd\u53ef\u80fd\u4f1a\u7834\u574f\u5b50\u7c7b\u7684\u529f\u80fd\u3002</li> <li>\u901a\u8fc7\u7ee7\u627f\u590d\u7528\u4ee3\u7801\u53ef\u80fd\u5bfc\u81f4 \u5e73\u884c\u7ee7\u627f\u4f53\u7cfb \u7684\u4ea7\u751f\u3002 \u7ee7\u627f\u901a\u5e38\u4ec5\u53d1\u751f\u5728\u4e00\u4e2a\u7ef4\u5ea6\u4e2d\u3002\u53ea\u8981\u51fa\u73b0\u4e86\u4e24\u4e2a\u4ee5\u4e0a\u7684\u7ef4\u5ea6\uff0c\u4f60\u5c31\u5fc5\u987b\u521b\u5efa\u6570\u91cf\u5de8\u5927\u7684\u7c7b\u7ec4\u5408\uff0c\u4ece\u800c\u4f7f\u7c7b\u5c42\u6b21\u7ed3\u6784\u81a8\u80c0\u5230\u4e0d\u53ef\u601d\u8bae\u7684\u7a0b\u5ea6\u3002</li> </ul> <p>\u7ec4\u5408\u662f\u4ee3\u66ff\u7ee7\u627f\u7684\u4e00\u79cd\u65b9\u6cd5\u3002\u7ee7\u627f\u4ee3\u8868\u7c7b\u4e4b\u95f4\u7684 \u201c\u662f\u201d \u5173\u7cfb \uff08\u6c7d\u8f66\u662f\u4ea4\u901a\u5de5\u5177\uff09\uff0c \u800c\u7ec4\u5408\u5219\u4ee3\u8868 \u201c\u6709\u201d \u5173\u7cfb\uff08\u6c7d\u8f66\u6709\u4e00\u4e2a\u5f15\u64ce\uff09\u3002</p> <p>\u5fc5\u987b\u4e00\u63d0\u7684\u662f\uff0c\u8fd9\u4e2a\u539f\u5219\u4e5f\u80fd\u5e94\u7528\u4e8e\u805a\u5408\uff08\u4e00\u79cd\u66f4\u677e\u5f1b\u7684\u7ec4\u5408\u53d8\u4f53\uff0c\u4e00\u4e2a\u5bf9\u8c61\u53ef\u5f15\u7528\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4f46\u5e76\u4e0d\u7ba1\u7406\u5176\u751f\u547d\u5468\u671f\uff09\u3002\u4f8b\u5982\uff1a\u4e00\u8f86\u6c7d\u8f66\u4e0a\u6709\u53f8\u673a\uff0c\u4f46\u662f\u53f8\u673a\u4e5f\u53ef\u80fd\u4f1a\u4f7f\u7528\u53e6\u4e00\u8f86\u6c7d\u8f66\uff0c\u6216\u8005\u9009\u62e9\u6b65\u884c\u800c\u4e0d\u4f7f\u7528\u6c7d\u8f66\u3002</p> <p>\u4e0b\u9762\u7684\u793a\u5c55\u793a\u4e86\u4f8b\u7ee7\u627f\u4e2d\u7684\u5e73\u884c\u7ee7\u627f\u4f53\u7cfb\u95ee\u9898\uff08\u5b50\u7c7b\u7206\u70b8\u95ee\u9898\uff09\uff1a</p> <p>\u5047\u5982\u4f60\u9700\u8981\u4e3a\u6c7d\u8f66\u5236\u9020\u5546\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55\u7a0b\u5e8f\u3002\u8be5\u516c\u53f8\u540c\u65f6\u751f\u4ea7\u6c7d\u8f66<code>Car</code>\u548c\u5361\u8f66<code>Truck</code>\uff0c\u8f66\u8f86\u53ef\u80fd\u662f\u7535\u52a8\u8f66<code>Electric</code>\u6216\u6c7d\u6cb9\u8f66<code>Combustion</code>\uff1b\u6240\u6709\u8f66\u578b\u90fd\u914d\u5907\u4e86\u624b\u52a8\u63a7\u5236<code>manual control</code>\u6216\u81ea\u52a8\u9a7e\u9a76<code>Autopilot</code>\u529f\u80fd\u3002</p> <p>\u5728\u591a\u4e2a\u7ef4\u5ea6\u4e0a\u6269\u5c55\u4e00\u4e2a\u7c7b\uff08\u6c7d\u8f66\u7c7b\u578b \u00d7 \u5f15\u64ce\u7c7b\u578b \u00d7 \u9a7e\u9a76\u7c7b\u578b\uff09\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5b50\u7c7b\u7ec4\u5408\u7684\u6570\u91cf\u7206\u70b8\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7ec4\u5408\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff1a</p> <p>\u6c7d\u8f66\u5bf9\u8c61\u53ef\u5c06\u884c\u4e3a\u59d4\u6d3e\u7ed9\u5176\u4ed6\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u81ea\u884c\u5b9e\u73b0\u3002\u8fd8\u6709\u4e00\u4e2a\u597d\u5904\u662f\u4f60\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u5bf9\u884c\u4e3a\u8fdb\u884c\u66ff\u6362\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u91cd\u65b0\u4e3a\u6c7d\u8f66\u5bf9\u8c61\u5206\u914d\u4e00\u4e2a\u4e0d\u540c\u7684\u5f15\u64ce\u5bf9\u8c61\u6765\u66ff\u6362\u5df2\u8fde\u63a5\u81f3\u6c7d\u8f66\u7684\u5f15\u64ce\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.2.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99.html#_6","title":"\u5355\u4e00\u804c\u8d23\u539f\u5219","text":"<p>Single Respon\u00adsi\u00adbil\u00adi\u00adty Prin\u00adci\u00adple</p> <p>\u4fee\u6539\u4e00\u4e2a\u7c7b\u7684\u539f\u56e0\u53ea\u80fd\u6709\u4e00\u4e2a\u3002\u5c3d\u91cf\u8ba9\u6bcf\u4e2a\u7c7b\u53ea\u8d1f\u8d23\u8f6f\u4ef6\u4e2d\u7684\u4e00\u4e2a\u529f\u80fd\uff0c\u5e76\u5c06\u8be5\u529f\u80fd\u5b8c\u5168\u5c01\u88c5\u5728\u8be5\u7c7b\u4e2d\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u7c7b\u8d1f\u8d23\u8fc7\u591a\u7684\u529f\u80fd\uff0c\u5f53\u7a0b\u5e8f\u89c4\u6a21\u4e0d\u65ad\u6269\u5927\u3001\u53d8\u66f4\u4e0d\u65ad\u589e\u52a0\u540e\uff0c\u7c7b\u4f1a\u53d8\u5f97\u8fc7\u4e8e\u5e9e\u5927\uff0c\u4ee5\u81f3\u4e8e\u4f60\u65e0\u6cd5\u8bb0\u4f4f\u5176\u7ec6\u8282\u3002\u67e5\u627e\u4ee3\u7801\u5c06\u53d8\u5f97\u975e\u5e38\u7f13\u6162\uff0c\u4f60\u5fc5\u987b\u6d4f\u89c8\u6574\u4e2a\u7c7b\u3001\u751a\u81f3\u6574\u4e2a\u7a0b\u5e8f\u624d\u80fd\u627e\u5230\u9700\u8981\u7684\u4e1c\u897f\u3002</p> <p>\u8fd8\u6709\u4e00\u70b9\uff1a\u5982\u679c\u7c7b\u8d1f\u8d23\u7684\u4e1c\u897f\u592a\u591a\uff0c\u90a3\u4e48\u5f53\u5176\u4e2d\u4efb\u4f55\u4e00\u4ef6\u4e8b\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u4f60\u90fd\u5fc5\u987b\u5bf9\u7c7b\u8fdb\u884c\u4fee\u6539\u3002\u800c\u5728\u8fdb\u884c\u4fee\u6539\u65f6\uff0c\u4f60\u5c31\u6709\u53ef\u80fd\u6539\u52a8\u7c7b\u4e2d\u81ea\u5df1\u5e76\u4e0d\u5e0c\u671b\u6539\u52a8\u7684\u90e8\u5206\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.2.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99.html#_7","title":"\u5f00\u95ed\u539f\u5219","text":"<p>open/closed Prin\u00adci\u00adple</p> <p>\u5bf9\u4e8e\u6269\u5c55\uff0c\u7c7b\u5e94\u8be5\u662f\u201c\u5f00\u653e\u201d\u7684\uff1b\u5bf9\u4e8e\u4fee\u6539\uff0c\u7c7b\u5219\u5e94\u662f\u201c\u5c01\u95ed\u201d\u7684\u3002</p> <p>\u8fd9\u4e2a\u539f\u5219\u770b\u4e0a\u53bb\u4ee4\u4eba\u56f0\u60d1\uff0c\u56e0\u4e3a\u201d\u5f00\u653e\u201c\u548c\u201d\u5c01\u95ed\u201c\u4e24\u4e2a\u8bcd\u662f\u4e92\u65a5\u7684\u3002\u5b9e\u9645\u4e0a\uff0c\u201c\u5f00\u653e\u201d\u548c\u201c\u5c01\u95ed\u201c\u662f\u9488\u5bf9\u4e0d\u540c\u7684\u4e1c\u897f\u800c\u8a00\uff1a</p> <ul> <li>\u5f00\u653e\uff1a\u5982\u679c\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627f\u5bf9\u4e00\u4e2a\u7c7b\u8fdb\u884c\u6269\u5c55\uff0c\u5e76\u4e14\u8be5\u7c7b\u7684\u5b50\u7c7b\u53ef\u4ee5\u505a\u4efb\u4f55\u4e8b\u60c5\uff08\u5982\u65b0\u589e\u65b9\u6cd5\u6216\u6210\u5458\u53d8\u91cf\u3001\u91cd\u5199\u57fa\u7c7b\u884c\u4e3a\u7b49\uff09\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7c7b\u5c31\u662f\u5f00\u653e\u7684\u3002\u6709\u4e9b\u7f16\u7a0b\u8bed\u8a00\u5141\u8bb8\u4f60\u901a\u8fc7\u7279\u6b8a\u5173\u952e\u5b57\uff08\u4f8b\u5982 final \uff09\u6765\u9650\u5236\u5bf9\u4e8e\u7c7b\u7684\u8fdb\u4e00\u6b65\u6269\u5c55\uff0c\u8fd9\u6837\u7c7b\u5c31\u4e0d\u518d\u662f \u201c\u5f00\u653e\u201d \u7684\u4e86\u3002</li> <li>\u5c01\u95ed\uff1a\u5982\u679c\u67d0\u4e2a\u7c7b\u5df2\u505a\u597d\u4e86\u5145\u5206\u7684\u51c6\u5907\u5e76\u53ef\u4f9b\u5176\u4ed6\u7c7b\u4f7f\u7528\u7684\u8bdd\uff08\u5373\u5176\u63a5\u53e3\u5df2\u660e\u786e\u5b9a\u4e49\u4e14\u4ee5\u540e\u4e0d\u4f1a\u4fee\u6539\uff09\uff0c\u90a3\u4e48\u8be5\u7c7b\u5c31\u662f\u5c01\u95ed\uff08\u4f60\u53ef\u4ee5\u79f0\u4e4b\u4e3a\u5b8c\u6574\uff09\u7684\u3002</li> </ul> <p>\u672c\u539f\u5219\u7684\u4e3b\u8981\u7406\u5ff5\u662f\u65b0\u529f\u80fd\u901a\u8fc7\u589e\u52a0\u65b0\u4ee3\u7801\u5b9e\u73b0\uff0c\u800c\u4e0d\u4fee\u6539\u5df2\u6709\u4ee3\u7801\u3002 \u66f4\u5177\u4f53\u6765\u8bf4\uff0c\u65b0\u529f\u80fd\u901a\u8fc7\u5b50\u7c7b\u5b9e\u73b0\uff0c\u800c\u4e0d\u4fee\u6539\u5df2\u6709\u7684\u57fa\u7c7b\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u7c7b\u5df2\u7ecf\u5b8c\u6210\u5f00\u53d1\u3001\u6d4b\u8bd5\u548c\u5ba1\u6838\u5de5\u4f5c\uff0c\u800c\u4e14\u5c5e\u4e8e\u67d0\u4e2a\u6846\u67b6\u6216\u8005\u53ef\u88ab\u5176\u4ed6\u7c7b\u7684\u4ee3\u7801\u76f4\u63a5\u4f7f\u7528\u7684\u8bdd\uff0c\u5bf9\u5176\u4ee3\u7801\u8fdb\u884c\u4fee\u6539\u5c31\u662f\u6709\u98ce\u9669\u7684\u3002\u4f60\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u5b50\u7c7b\u5e76\u91cd\u5199\u539f\u59cb\u7c7b\u7684\u90e8\u5206\u5185\u5bb9\u4ee5\u5b8c\u6210\u4e0d\u540c\u7684\u884c\u4e3a\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u5bf9\u539f\u59cb\u7c7b\u7684\u4ee3\u7801\u8fdb\u884c\u4fee\u6539\u3002\u8fd9\u6837\u4f60\u65e2\u53ef\u4ee5\u8fbe\u6210\u81ea\u5df1\u7684\u76ee\u6807\uff0c\u4f46\u540c\u65f6\u53c8\u65e0\u9700\u4fee\u6539\u5df2\u6709\u7684\u539f\u59cb\u7c7b\u5ba2\u6237\u7aef\u3002</p> <p>\u8fd9\u6761\u539f\u5219\u5e76\u4e0d\u80fd\u5e94\u7528\u4e8e\u6240\u6709\u5bf9\u7c7b\u8fdb\u884c\u7684\u4fee\u6539\u4e2d\u3002\u5982\u679c\u4f60\u53d1\u73b0\u7c7b\u4e2d\u5b58\u5728\u7f3a\u9677\uff0c\u76f4\u63a5\u5bf9\u5176\u8fdb\u884c\u4fee\u590d\u5373\u53ef\uff0c\u4e0d\u8981\u4e3a\u5b83\u521b\u5efa\u5b50\u7c7b\u3002\u5b50\u7c7b\u4e0d\u5e94\u8be5\u5bf9\u5176\u7236\u7c7b\u7684\u95ee\u9898\u8d1f\u8d23\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.2.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99.html#_8","title":"\u793a\u4f8b","text":"<p>\u4f60\u7684\u7535\u5b50\u5546\u52a1\u7a0b\u5e8f\u4e2d\u5305\u542b\u4e00\u4e2a\u8ba1\u7b97\u8fd0\u8f93\u8d39\u7528\u7684\u8ba2\u5355Order\u7c7b\uff0c\u8be5\u7c7b\u4e2d\u6240\u6709\u8fd0\u8f93\u65b9\u6cd5\u90fd\u4ee5\u786c\u7f16\u7801\u7684\u65b9\u5f0f\u5b9e\u73b0\u3002 \u5982\u679c\u4f60\u9700\u8981\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u8fd0\u8f93\u65b9\u5f0f\uff0c \u90a3\u5c31\u5fc5\u987b\u627f\u62c5\u5bf9\u8ba2\u5355\u7c7b\u9020\u6210\u7834\u574f\u7684\u53ef\u80fd\u98ce\u9669\u6765\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u3002</p> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u5e94\u7528\u7b56\u7565\u6a21\u5f0f\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u9996\u5148\u5c06\u8fd0\u8f93\u65b9\u6cd5\u62bd\u53d6\u5230\u62e5\u6709\u540c\u6837\u63a5\u53e3\u7684\u4e0d\u540c\u7c7b\u4e2d\u3002</p> <p>\u5728Python\u4e2d\uff0c<code>&lt;&lt;interface&gt;&gt;</code> \u4e00\u822c\u901a\u8fc7\u62bd\u8c61\u7c7b\u5b9e\u73b0\uff0c\u6d3e\u751f\u7c7b\u7ee7\u627f\u62bd\u8c61\u7c7b\uff0c\u5e76\u5b9e\u73b0\u63a5\u53e3\u7684\u5177\u4f53\u529f\u80fd\u3002\u6b64\u65f6\uff0c\u901a\u8fc7\u7ee7\u627f\u62bd\u8c61\u7c7b\uff0c\u5e76\u5b9e\u73b0\u63a5\u53e3\uff0c\u8fd9\u79f0\u4e3a\u201c\u5f00\u653e\u201d\uff1b\u4f9d\u8d56\u4e8e\u62bd\u8c61\u7c7b\u63a5\u53e3\u7684\u7c7b\u4e0d\u9700\u8981\u4f5c\u4fee\u6539\uff0c\u8fd9\u79f0\u4e3a\u201c\u5c01\u95ed\u201d\u3002</p> <p>\u73b0\u5728\uff0c\u5f53\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u65b0\u7684\u8fd0\u8f93\u65b9\u5f0f\u65f6\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u6269\u5c55\u8fd0\u8f93\u65b9\u5f0fShipping\u63a5\u53e3\u6765\u65b0\u5efa\u4e00\u4e2a\u7c7b\uff0c\u65e0\u9700\u4fee\u6539\u4efb\u4f55\u8ba2\u5355\u7c7b\u7684\u4ee3\u7801\u3002\u5f53\u7528\u6237\u5728 UI \u4e2d\u9009\u62e9\u8fd9\u79cd\u8fd0\u8f93\u65b9\u5f0f\u65f6\uff0c\u8ba2\u5355\u7c7b\u5ba2\u6237\u7aef\u4ee3\u7801\u4f1a\u5c06\u8ba2\u5355\u94fe\u63a5\u5230\u65b0\u7c7b\u7684\u8fd0\u8f93\u65b9\u5f0f\u5bf9\u8c61\u3002</p> <p>\u6b64\u5916\uff0c\u6839\u636e\u5355\u4e00\u804c\u8d23\u539f\u5219\uff0c\u8fd9\u4e2a\u89e3\u51b3\u65b9\u6848\u80fd\u591f\u8ba9\u4f60\u5c06\u8fd0\u8f93\u65f6\u95f4\u7684\u8ba1\u7b97\u4ee3\u7801\u79fb\u52a8\u5230\u4e0e\u5176\u76f8\u5173\u5ea6\u66f4\u9ad8\u7684\u7c7b\u4e2d\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.2.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99.html#_9","title":"\u91cc\u6c0f\u66ff\u6362\u539f\u5219","text":"<p>Liskov Substitution Principle</p> <p>\u5f53\u6269\u5c55\u4e00\u4e2a\u7c7b\u65f6\uff0c \u5e94\u8be5\u80fd\u5728\u4e0d\u4fee\u6539\u5ba2\u6237\u7aef\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\u5c06\u5b50\u7c7b\u7684\u5bf9\u8c61\u66ff\u4ee3\u7236\u7c7b\u5bf9\u8c61\u8fdb\u884c\u4f20\u9012\u3002\u8fd9\u610f\u5473\u7740\u5b50\u7c7b\u5fc5\u987b\u4fdd\u6301\u4e0e\u7236\u7c7b\u884c\u4e3a\u7684\u517c\u5bb9\u3002 \u5728\u91cd\u5199\u4e00\u4e2a\u65b9\u6cd5\u65f6\uff0c \u4f60\u8981\u5bf9\u57fa\u7c7b\u884c\u4e3a\u8fdb\u884c\u6269\u5c55\uff0c \u800c\u4e0d\u662f\u5c06\u5176\u5b8c\u5168\u66ff\u6362\u3002</p> <p>\u66ff\u4ee3\u539f\u5219\u5305\u542b\u4e00\u7ec4\u5bf9\u5b50\u7c7b \uff08\u7279\u522b\u662f\u5176\u65b9\u6cd5\uff09 \u7684\u5f62\u5f0f\u8981\u6c42\uff1a</p> <ul> <li>\u5b50\u7c7b\u65b9\u6cd5\u7684\u53c2\u6570\u7c7b\u578b\u5fc5\u987b\u4e0e\u5176\u8d85\u7c7b\u7684\u53c2\u6570\u7c7b\u578b\u76f8\u5339\u914d\u6216\u66f4\u52a0\u62bd\u8c611\u3002 </li> </ul> <p>\u5047\u8bbe<code>A</code>\u7c7b\u6709\u4e2a\u65b9\u6cd5\u7528\u4e8e\u7ed9\u732b\u54aa\u5582\u98df\uff1a<code>feed(Cat c)</code>\u3002 \u5ba2\u6237\u7aef\u4ee3\u7801\u603b\u662f\u4f1a\u5c06 <code>cat</code> \u5bf9\u8c61\u4f20\u9012\u7ed9\u8be5\u65b9\u6cd5\u3002</p> <ul> <li>\u597d\u7684\u65b9\u5f0f\uff1a\u5b50\u7c7b<code>B</code>\u7ee7\u627f\u7c7b<code>A</code>\uff0c\u5e76\u5c06<code>feed</code>\u65b9\u6cd5\u91cd\u5199\u4e3a<code>feed(Animal c)</code>\uff0c\u4f7f\u5176\u80fd\u591f\u7ed9\u4efb\u4f55 \u52a8\u7269-animal\uff08\u5373 \u2018\u732b\u2019 \u7684\u8d85\u7c7b\uff09\u5582\u98df\u3002\u5982\u679c\u73b0\u5728\u4f60\u5c06\u7c7b<code>A</code>\u7684\u5bf9\u8c61\u66ff\u6362\u4e3a\u5b50\u7c7b<code>B</code>\u7684\u5bf9\u8c61\uff0c\u7a0b\u5e8f\u4ecd\u5c06\u6b63\u5e38\u5de5\u4f5c\u3002</li> <li>\u4e0d\u597d\u7684\u65b9\u5f0f\uff1a\u5b50\u7c7b<code>B</code>\u7ee7\u627f\u7c7b<code>A</code>\uff0c\u5e76\u5c06<code>feed</code>\u65b9\u6cd5\u91cd\u5199\u4e3a<code>feed(BengalCat c)</code>\uff0c\u5176\u53ea\u80fd\u591f\u7ed9 \u5b5f\u52a0\u62c9\u732b-BengalCat\uff08\u201c\u732b\u201d\u7684\u5b50\u7c7b\uff09\u5582\u98df\u3002\u5982\u679c\u73b0\u5728\u4f60\u5c06\u7c7b<code>A</code>\u7684\u5bf9\u8c61\u66ff\u6362\u4e3a\u5b50\u7c7b<code>B</code>\u7684\u5bf9\u8c61\uff0c\u7531\u4e8e\u8be5\u65b9\u6cd5\u53ea\u80fd\u5bf9\u7279\u6b8a\u79cd\u7c7b\u7684\u732b\u8fdb\u884c\u5582\u98df\uff0c\u56e0\u6b64\u65e0\u6cd5\u4e3a\u4f20\u9012\u7ed9\u5ba2\u6237\u7aef\u7684\u666e\u901a\u732b\u63d0\u4f9b\u670d\u52a1\uff0c\u4ece\u800c\u5c06\u7834\u574f\u6240\u6709\u76f8\u5173\u7684\u529f\u80fd\u3002</li> </ul> <ul> <li>\u5b50\u7c7b\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u5fc5\u987b\u4e0e\u8d85\u7c7b\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u6216\u662f\u5176\u5b50\u7c7b\u522b\u76f8\u5339\u914d\u3002</li> </ul> <p>\u5047\u5982\u4f60\u7684\u4e00\u4e2a\u7c7b\u4e2d\u6709\u4e00\u4e2a\u65b9\u6cd5<code>buyCat(): Cat</code> \u3002\u5ba2\u6237\u7aef\u4ee3\u7801\u6267\u884c\u8be5\u65b9\u6cd5\u540e\u7684\u9884\u671f\u8fd4\u56de\u7ed3\u679c\u662f\u4efb\u610f\u7c7b\u578b\u7684 \u201c\u732b\u201d\u3002</p> <ul> <li> <p>\u597d\u7684\u65b9\u5f0f\uff1a\u5b50\u7c7b\u5c06\u8be5\u65b9\u6cd5\u91cd\u5199\u4e3a\uff1a<code>buyCat(): BengalCat</code>\u3002\u5ba2\u6237\u7aef\u5c06\u83b7\u5f97\u4e00\u53ea \u201c\u5b5f\u52a0\u62c9\u732b\u201d\uff0c\u81ea\u7136\u5b83\u4e5f\u662f\u4e00\u53ea \u201c\u732b\u201d\uff0c\u56e0\u6b64\u4e00\u5207\u6b63\u5e38\u3002</p> </li> <li> <p>\u4e0d\u597d\u7684\u65b9\u5f0f\uff1a\u5b50\u7c7b\u5c06\u8be5\u65b9\u6cd5\u91cd\u5199\u4e3a\uff1a <code>buyCat(): Animal</code>\u3002\u73b0\u5728\u5ba2\u6237\u7aef\u4ee3\u7801\u5c06\u4f1a\u51fa\u9519\uff0c\u56e0\u4e3a\u5b83\u83b7\u5f97\u7684\u662f\u81ea\u5df1\u672a\u77e5\u7684\u52a8\u7269\u79cd\u7c7b\uff0c\u5982\u679c\u8fd4\u56de\u4e00\u53ea\u77ed\u543b\u9cc4\uff0c\u5219\u4e0d\u9002\u7528\u4e8e\u4e3a\u4e00\u53ea \u201c\u732b\u201d \u800c\u8bbe\u8ba1\u7684\u7ed3\u6784\u3002</p> </li> </ul> <ul> <li>\u5b50\u7c7b\u4e2d\u7684\u65b9\u6cd5\u4e0d\u5e94\u629b\u51fa\u57fa\u7840\u65b9\u6cd5\u9884\u671f\u4e4b\u5916\u7684\u5f02\u5e38\u7c7b\u578b\u3002</li> </ul> <p>\u5ba2\u6237\u7aef\u4ee3\u7801\u6355\u6349\u5f02\u5e38\u7684\u4ee3\u7801\u5757\u662f\u9488\u5bf9\u7684\u662f\u57fa\u7840\u65b9\u6cd5\u53ef\u80fd\u629b\u51fa\u7684\u5f02\u5e38\u7c7b\u578b\u3002 \u56e0\u6b64\uff0c \u9884\u671f\u4e4b\u5916\u7684\u5f02\u5e38\u53ef\u80fd\u4f1a\u7a7f\u900f\u5ba2\u6237\u7aef\u7684\u9632\u5fa1\u4ee3\u7801\uff0c \u4ece\u800c\u4f7f\u6574\u4e2a\u5e94\u7528\u5d29\u6e83\u3002</p> <ul> <li>\u5b50\u7c7b\u4e0d\u5e94\u8be5\u52a0\u5f3a\u5176\u524d\u7f6e\u6761\u4ef6\u3002 </li> </ul> <p>\u4f8b\u5982\uff0c\u57fa\u7c7b\u7684\u65b9\u6cd5\u6709\u4e00\u4e2a<code>int</code>\u7c7b\u578b\u7684\u53c2\u6570\u3002\u5982\u679c\u5b50\u7c7b\u91cd\u5199\u8be5\u65b9\u6cd5\u65f6\uff0c\u8981\u6c42\u4f20\u9012\u7ed9\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u503c\u5fc5\u987b\u4e3a\u6b63\u6570\uff08\u5982\u679c\u8be5\u503c\u4e3a\u8d1f\u5219\u629b\u51fa\u5f02\u5e38\uff09\uff0c\u8fd9\u5c31\u662f\u52a0\u5f3a\u4e86\u524d\u7f6e\u6761\u4ef6\u3002\u5ba2\u6237\u7aef\u4ee3\u7801\u4e4b\u524d\u5c06\u8d1f\u6570\u4f20\u9012\u7ed9\u8be5\u65b9\u6cd5\u65f6\u7a0b\u5e8f\u80fd\u591f\u6b63\u5e38\u8fd0\u884c\uff0c\u4f46\u73b0\u5728\u4f7f\u7528\u5b50\u7c7b\u7684\u5bf9\u8c61\u65f6\u4f1a\u4f7f\u7a0b\u5e8f\u51fa\u9519\u3002</p> <ul> <li>\u5b50\u7c7b\u4e0d\u80fd\u524a\u5f31\u5176\u540e\u7f6e\u6761\u4ef6\u3002 </li> </ul> <p>\u5047\u5982\u4f60\u7684\u67d0\u4e2a\u7c7b\u4e2d\u6709\u4e2a\u65b9\u6cd5\u9700\u8981\u4f7f\u7528\u6570\u636e\u5e93\uff0c \u8be5\u65b9\u6cd5\u5e94\u8be5\u5728\u63a5\u6536\u5230\u8fd4\u56de\u503c\u540e\u5173\u95ed\u6240\u6709\u6d3b\u8dc3\u7684\u6570\u636e\u5e93\u8fde\u63a5\u3002</p> <p>\u4f60\u521b\u5efa\u4e86\u4e00\u4e2a\u5b50\u7c7b\u5e76\u5bf9\u5176\u8fdb\u884c\u4e86\u4fee\u6539\uff0c\u4f7f\u5f97\u6570\u636e\u5e93\u4fdd\u6301\u8fde\u63a5\u4ee5\u4fbf\u91cd\u7528\u3002\u4f46\u5ba2\u6237\u7aef\u53ef\u80fd\u5bf9\u4f60\u7684\u610f\u56fe\u4e00\u65e0\u6240\u77e5\u3002\u7531\u4e8e\u5b83\u8ba4\u4e3a\u8be5\u65b9\u6cd5\u4f1a\u5173\u95ed\u6240\u6709\u7684\u8fde\u63a5\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u5728\u8c03\u7528\u8be5\u65b9\u6cd5\u540e\u5c31\u9a6c\u4e0a\u5173\u95ed\u7a0b\u5e8f\uff0c\u4f7f\u5f97\u65e0\u7528\u7684\u6570\u636e\u5e93\u8fde\u63a5\u5bf9\u7cfb\u7edf\u9020\u6210 \u201c\u6c61\u67d3\u201d\u3002</p> <ul> <li>\u8d85\u7c7b\u7684\u4e0d\u53d8\u91cf\u5fc5\u987b\u4fdd\u7559\u3002 \u8fd9\u5f88\u53ef\u80fd\u662f\u6240\u6709\u89c4\u5219\u4e2d\u6700\u4e0d \u201c\u5f62\u5f0f\u201d \u7684\u4e00\u6761\u3002\u4e0d\u53d8\u91cf\u662f\u8ba9\u5bf9\u8c61\u6709\u610f\u4e49\u7684\u6761\u4ef6\u3002</li> </ul> <p>\u4e0d\u53d8\u91cf\u7684\u89c4\u5219\u662f\u6700\u5bb9\u6613\u8fdd\u53cd\u7684\uff0c\u56e0\u4e3a\u4f60\u53ef\u80fd\u4f1a\u8bef\u89e3\u6216\u6ca1\u6709\u610f\u8bc6\u5230\u4e00\u4e2a\u590d\u6742\u7c7b\u4e2d\u7684\u6240\u6709\u4e0d\u53d8\u91cf\u3002\u56e0\u6b64\uff0c\u6269\u5c55\u4e00\u4e2a\u7c7b\u7684\u6700\u5b89\u5168\u505a\u6cd5\u662f\u5f15\u5165\u65b0\u7684\u6210\u5458\u53d8\u91cf\u548c\u65b9\u6cd5\uff0c\u800c\u4e0d\u8981\u53bb\u62db\u60f9\u8d85\u7c7b\u4e2d\u5df2\u6709\u7684\u6210\u5458\u3002\u5f53\u7136\u5728\u5b9e\u9645\u4e2d\uff0c\u8fd9\u5e76\u975e\u603b\u662f\u53ef\u884c\u3002</p> <ul> <li>\u5b50\u7c7b\u4e0d\u80fd\u4fee\u6539\u8d85\u7c7b\u4e2d\u79c1\u6709\u6210\u5458\u53d8\u91cf\u7684\u503c\u3002 </li> </ul> <p>\u6709\u4e9b\u7f16\u7a0b\u8bed\u8a00\u5141\u8bb8\u901a\u8fc7\u53cd\u5c04\u673a\u5236\u6765\u8bbf\u95ee\u7c7b\u7684\u79c1\u6709\u6210\u5458\u3002\u8fd8\u6709\u4e00\u4e9b\u8bed\u8a00 \uff08Python \u548c JavaScript\uff09\u6ca1\u6709\u5bf9\u79c1\u6709\u6210\u5458\u8fdb\u884c\u4efb\u4f55\u4fdd\u62a4\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.2.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99.html#_10","title":"\u63a5\u53e3\u9694\u79bb\u539f\u5219","text":"<p>Interface Segregation Principle</p> <p>\u5ba2\u6237\u7aef\u4e0d\u5e94\u88ab\u5f3a\u8feb\u4f9d\u8d56\u4e8e\u5176\u4e0d\u4f7f\u7528\u7684\u65b9\u6cd5\u3002</p> <p>\u5047\u5982\u4f60\u521b\u5efa\u4e86\u4e00\u4e2a\u7a0b\u5e8f\u5e93\uff0c\u5b83\u80fd\u8ba9\u7a0b\u5e8f\u65b9\u4fbf\u5730\u4e0e\u591a\u79cd\u4e91\u8ba1\u7b97\u4f9b\u5e94\u5546\u8fdb\u884c\u6574\u5408\u3002\u5c3d\u7ba1\u6700\u521d\u7248\u672c\u4ec5\u652f\u6301\u963f\u91cc\u4e91\u670d\u52a1\uff0c\u4f46\u5b83\u4e5f\u8986\u76d6\u4e86\u4e00\u5957\u5b8c\u6574\u7684\u4e91\u670d\u52a1\u548c\u529f\u80fd\u3002</p> <p>\u5047\u8bbe\u6240\u6709\u4e91\u670d\u52a1\u4f9b\u5e94\u5546\u90fd\u4e0e\u963f\u91cc\u4e91\u4e00\u6837\u63d0\u4f9b\u76f8\u540c\u79cd\u7c7b\u7684\u529f\u80fd\u3002\u4f46\u5f53\u4f60\u7740\u624b\u4e3a\u5176\u4ed6\u4f9b\u5e94\u5546\u63d0\u4f9b\u652f\u6301\u65f6\uff0c\u7a0b\u5e8f\u5e93\u4e2d\u7edd\u5927\u90e8\u5206\u7684\u63a5\u53e3\u4f1a\u663e\u5f97\u8fc7\u4e8e\u5bbd\u6cdb\u3002 \u5176\u4ed6\u4e91\u670d\u52a1\u4f9b\u5e94\u5546\u6ca1\u6709\u63d0\u4f9b\u90e8\u5206\u65b9\u6cd5\u6240\u63cf\u8ff0\u7684\u529f\u80fd\u3002</p> <p>\u5c3d\u7ba1\u4f60\u4ecd\u7136\u53ef\u4ee5\u53bb\u5b9e\u73b0\u8fd9\u4e9b\u65b9\u6cd5\u5e76\u653e\u5165\u4e00\u4e9b\u810f\u4ee3\u7801\uff0c\u4f46\u8fd9\u7edd\u4e0d\u662f\u4f18\u826f\u7684\u89e3\u51b3\u65b9\u6848\u3002\u66f4\u597d\u7684\u65b9\u6cd5\u662f\u5c06\u63a5\u53e3\u62c6\u5206\u4e3a\u591a\u4e2a\u90e8\u5206\u3002\u80fd\u591f\u5b9e\u73b0\u539f\u59cb\u63a5\u53e3\u7684\u7c7b\u73b0\u5728\u53ea\u9700\u6539\u4e3a\u5b9e\u73b0\u591a\u4e2a\u7cbe\u7ec6\u7684\u63a5\u53e3\u5373\u53ef\u3002\u5176\u4ed6\u7c7b\u5219\u53ef\u4ec5\u5b9e\u73b0\u5bf9\u81ea\u5df1\u6709\u610f\u4e49\u7684\u63a5\u53e3\u3002</p> <p>\u4e0e\u5176\u4ed6\u539f\u5219\u4e00\u6837\uff0c\u4f60\u53ef\u80fd\u4f1a\u8fc7\u5ea6\u4f7f\u7528\u8fd9\u6761\u539f\u5219\u3002\u4e0d\u8981\u8fdb\u4e00\u6b65\u5212\u5206\u5df2\u7ecf\u975e\u5e38\u5177\u4f53\u7684\u63a5\u53e3\u3002\u8bb0\u4f4f\uff0c\u521b\u5efa\u7684\u63a5\u53e3\u8d8a\u591a\uff0c\u4ee3\u7801\u5c31\u8d8a\u590d\u6742\u3002\u56e0\u6b64\u8981\u4fdd\u6301\u5e73\u8861\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.2.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99.html#_11","title":"\u4f9d\u8d56\u5012\u7f6e\u539f\u5219","text":"<p>Dependency Inversion Principle</p> <p>\u9ad8\u5c42\u6b21\u7684\u7c7b\u4e0d\u5e94\u8be5\u4f9d\u8d56\u4e8e\u4f4e\u5c42\u6b21\u7684\u7c7b\u3002\u4e24\u8005\u90fd\u5e94\u8be5\u4f9d\u8d56\u4e8e\u62bd\u8c61\u63a5\u53e3\u3002\u62bd\u8c61\u63a5\u53e3\u4e0d\u5e94\u4f9d\u8d56\u4e8e\u5177\u4f53\u5b9e\u73b0\u3002\u5177\u4f53\u5b9e\u73b0\u5e94\u8be5\u4f9d\u8d56\u4e8e\u62bd\u8c61\u63a5\u53e3\u3002</p> <p>\u901a\u5e38\u5728\u8bbe\u8ba1\u8f6f\u4ef6\u65f6\uff0c\u4f60\u53ef\u4ee5\u8fa8\u522b\u51fa\u4e0d\u540c\u5c42\u6b21\u7684\u7c7b\uff1a</p> <ul> <li>\u4f4e\u5c42\u6b21\u7684\u7c7b\u5b9e\u73b0\u57fa\u7840\u64cd\u4f5c\uff08\u4f8b\u5982\u78c1\u76d8\u64cd\u4f5c\u3001\u4f20\u8f93\u7f51\u7edc\u6570\u636e\u548c\u8fde\u63a5\u6570\u636e\u5e93\u7b49\uff09\u3002</li> <li>\u9ad8\u5c42\u6b21\u7c7b\u5305\u542b\u590d\u6742\u4e1a\u52a1\u903b\u8f91\u4ee5\u6307\u5bfc\u4f4e\u5c42\u6b21\u7c7b\u6267\u884c\u7279\u5b9a\u64cd\u4f5c\u3002</li> </ul> <p>\u6709\u65f6\u4eba\u4eec\u4f1a\u5148\u8bbe\u8ba1\u4f4e\u5c42\u6b21\u7684\u7c7b\uff0c\u7136\u540e\u624d\u4f1a\u5f00\u53d1\u9ad8\u5c42\u6b21\u7684\u7c7b\u3002\u5f53\u4f60\u5728\u65b0\u7cfb\u7edf\u4e0a\u5f00\u53d1\u539f\u578b\u4ea7\u54c1\u65f6\uff0c\u8fd9\u79cd\u60c5\u51b5\u5f88\u5e38\u89c1\u3002\u7531\u4e8e\u4f4e\u5c42\u6b21\u7684\u4e1c\u897f\u8fd8\u6ca1\u6709\u5b9e\u73b0\u6216\u4e0d\u786e\u5b9a\uff0c\u4f60\u751a\u81f3\u65e0\u6cd5\u786e\u5b9a\u9ad8\u5c42\u6b21\u7c7b\u80fd\u5b9e\u73b0\u54ea\u4e9b\u529f\u80fd\u3002\u5982\u679c\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u4e1a\u52a1\u903b\u8f91\u7c7b\u53ef\u80fd\u4f1a\u66f4\u4f9d\u8d56\u4e8e\u4f4e\u5c42\u539f\u8bed\u7c7b\u3002</p> <p>\u4f9d\u8d56\u5012\u7f6e\u539f\u5219\u5efa\u8bae\u6539\u53d8\u8fd9\u79cd\u4f9d\u8d56\u65b9\u5f0f\uff0c\u5c06\u9ad8\u5c42\u6b21\u7684\u7c7b\u7684\u4f9d\u8d56\u62bd\u8c61\u6210\u63a5\u53e3\uff0c\u8ba9\u4f4e\u5c42\u6b21\u7c7b\u5b9e\u73b0\u63a5\u53e3\uff0c\u800c\u9ad8\u5c42\u6b21\u7c7b\u53ea\u9700\u8981\u8c03\u7528\u63a5\u53e3\uff0c\u4e0d\u9700\u8981\u8c03\u7528\u4f4e\u5c42\u6b21\u7684\u7c7b\u3002\u4f9d\u8d56\u5012\u7f6e\u539f\u5219\u901a\u5e38\u548c \u5f00\u95ed\u539f\u5219 \u5171\u540c\u53d1\u6325\u4f5c\u7528\uff1a\u4f60\u65e0\u9700\u4fee\u6539\u5df2\u6709\u7c7b\u5c31\u80fd\u7528\u4e0d\u540c\u7684\u4e1a\u52a1\u903b\u8f91\u7c7b\u6269\u5c55\u4f4e\u5c42\u6b21\u7684\u7c7b</p> <ol> <li> <p>\u66f4\u901a\u7528\u00a0\u21a9</p> </li> </ol>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.3.%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F.html","title":"7.3.\u521b\u5efa\u578b\u6a21\u5f0f","text":""},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.3.%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F.html#_1","title":"\u5de5\u5382\u65b9\u6cd5","text":"<p>\u573a\u666f\uff1a\u521b\u5efa\u8005\u57fa\u7c7b\u8d1f\u8d23\u5b9e\u73b0\u4e1a\u52a1\u903b\u8f91\uff0c\u4ee5\u53ca\u58f0\u660e\u521b\u5efa\u4ea7\u54c1\u7c7b\u7684\u63a5\u53e3\uff08\u5373\u5de5\u5382\u65b9\u6cd51\uff09\u3002\u8ba9\u521b\u5efa\u8005\u5b50\u7c7b\u91cd\u5199\u5de5\u5382\u65b9\u6cd5\uff0c\u51b3\u5b9a\u5b9e\u4f8b\u5316\u54ea\u4e2a\u4ea7\u54c1\u7c7b\u3002\u4e0d\u540c\u7684\u4ea7\u54c1\u7c7b\u5728\u4e1a\u52a1\u903b\u8f91\u4e2d\u88ab\u7edf\u4e00\u8c03\u7528\uff0c\u4e1a\u52a1\u903b\u8f91\u65e0\u9700\u5173\u5fc3\u88ab\u8c03\u7528\u7684\u4ea7\u54c1\u7c7b\u5177\u4f53\u662f\u54ea\u4e2a\u4ea7\u54c1\uff0c\u56e0\u6b64\u6240\u6709\u4ea7\u54c1\u7c7b\u5fc5\u987b\u63d0\u4f9b\u76f8\u540c\u7684\u63a5\u53e3\u3002</p> <p>\u610f\u56fe\uff1a\u5c06\u4e1a\u52a1\u903b\u8f91\u4ee3\u7801\u548c\u9700\u8981\u4e0d\u65ad\u6269\u5c55\u7684\u4ea7\u54c1\u7c7b\u4ee3\u7801\u9694\u79bb\u3002</p> <ul> <li> <p>\u4ea7\u54c1\uff08Product\uff09\uff1a\u5bf9\u5176\u5b50\u7c7b\u5e94\u6709\u7684\u63a5\u53e3\u8fdb\u884c\u58f0\u660e\uff0c\u8fd9\u4e9b\u63a5\u53e3\u5c06\u88ab\u521b\u5efa\u8005\u7684\u4e1a\u52a1\u903b\u8f91\uff08<code>someOperation</code>\u65b9\u6cd5\uff09\u8c03\u7528\u3002</p> </li> <li> <p>\u5177\u4f53\u4ea7\u54c1\uff08Concrete Products\uff09\uff1a\u662f\u4ea7\u54c1\u63a5\u53e3\u7684\u4e0d\u540c\u5b9e\u73b0\u3002\u8fd9\u662f\u5177\u4f53\u521b\u5efa\u8005\u7684\u5de5\u5382\u65b9\u6cd5\u5c06\u8fd4\u56de\u7684\u5bf9\u8c61\u3002</p> </li> <li> <p>\u521b\u5efa\u8005\u7c7b\uff08Creator\uff09\uff1a\u58f0\u660e\u8fd4\u56de\u4ea7\u54c1\u5bf9\u8c61\u7684\u5de5\u5382\u65b9\u6cd5\uff08<code>createProduct</code>\uff09\u3002Cre\u00adator\u7c7b\u7684\u5de5\u5382\u65b9\u6cd5\u53ef\u4ee5\u58f0\u660e\u4e3a\u62bd\u8c61\u65b9\u6cd5\uff0c\u5f3a\u5236\u5b50\u7c7b\u91cd\u5199\u8be5\u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u9ed8\u8ba4\u7684\u4ea7\u54c1\u5bf9\u8c61\u3002</p> </li> <li> <p>\u5177\u4f53\u521b\u5efa\u8005\uff08Concrete Creator\uff09\uff1a\u91cd\u5199Creator\u7c7b\u7684\u5de5\u5382\u65b9\u6cd5\uff0c\u51b3\u5b9a\u8fd4\u56de\u5177\u4f53\u7684\u4ea7\u54c1\u5bf9\u8c61\u3002\u5305\u542b\u4e00\u4e9b\u4e0e\u4ea7\u54c1\u76f8\u5173\u7684\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\uff0c\u5728\u8fd9\u4e9b\u4e1a\u52a1\u4ee3\u7801\u4e2d\uff0c\u5de5\u5382\u65b9\u6cd5\u5c06\u88ab\u8c03\u7528\uff0c\u83b7\u53d6\u5177\u4f53\u4ea7\u54c1\u5bf9\u8c61\uff0c\u7136\u540e\u5177\u4f53\u4ea7\u54c1\u5bf9\u8c61\u7684\u76f8\u5173\u63a5\u53e3\u5c06\u88ab\u8c03\u7528\uff0c\u4ee5\u5b9e\u73b0\u5177\u4f53\u7684\u4e1a\u52a1\u903b\u8f91\u3002</p> </li> <li> <p>\u5ba2\u6237\u7aef\uff1a\u5ba2\u6237\u7aef\u53ea\u9700\u8981\u8c03\u7528Concrete Creator\u7684\u63a5\u53e3\u3002</p> </li> </ul> <p>\u56e0\u6b64\uff0c\u867d\u7136\u521b\u5efa\u8005\u7684\u540d\u5b57\u662f\u521b\u5efa\u8005\uff0c\u4f46\u5b9e\u9645\u4e0a\uff0c\u521b\u5efa\u8005\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u5b9e\u73b0\u4e1a\u52a1\u903b\u8f91\uff0c\u800c\u4e0d\u662f\u51b3\u5b9a\u521b\u5efa\u54ea\u4e2a\u4ea7\u54c1\u7684\u5bf9\u8c61\u3002 \u5de5\u5382\u65b9\u6cd5\u5c06\u8fd9\u4e9b\u4e1a\u52a1\u903b\u8f91\u4ece\u5177\u4f53\u4ea7\u54c1\u7c7b\u4e2d\u5206\u79bb\u51fa\u6765\u3002</p> <p>\u5e76\u4e0d\u4e00\u5b9a\u6bcf\u6b21\u8c03\u7528\u5de5\u5382\u65b9\u6cd5\u90fd\u4f1a\u521b\u5efa\u65b0\u7684\u5b9e\u4f8b \u3002\u5de5\u5382\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u8fd4\u56de\u7f13\u5b58\u3001\u5bf9\u8c61\u6c60\u6216\u5176\u4ed6\u6765\u6e90\u7684\u5df2\u6709\u5bf9\u8c61\u3002</p> <p>\u53ef\u4ee5\u53ea\u4f7f\u7528\u5355\u4e00\u7684\u5de5\u5382\u65b9\u6cd5\uff08\u4e00\u4e2a\u5177\u4f53\u521b\u5efa\u8005\u5b50\u7c7b\uff09\uff0c\u4f46\u5982\u679c\u4ea7\u54c1\u7c7b\u592a\u591a\u7684\u8bdd\uff0c\u4f1a\u5bfc\u81f4\u5de5\u5382\u65b9\u6cd5\u51fa\u73b0\u592a\u591a\u7684\u5206\u652f\u8bed\u53e5\uff0c\u7528\u4e8e\u9009\u62e9\u5404\u79cd\u9700\u8981\u5b9e\u4f8b\u5316\u7684\u4ea7\u54c1\u7c7b\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.3.%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F.html#_2","title":"\u9002\u7528\u573a\u666f","text":"<p>\u5f53\u4f60\u5728\u7f16\u5199\u4ee3\u7801\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u65e0\u6cd5\u9884\u77e5\u5bf9\u8c61\u786e\u5207\u7c7b\u522b\u53ca\u5176\u4f9d\u8d56\u5173\u7cfb\u65f6\uff0c\u53ef\u4f7f\u7528\u5de5\u5382\u65b9\u6cd5\u3002</p> <p>\u5de5\u5382\u65b9\u6cd5\u5c06\u521b\u5efa\u4ea7\u54c1\u7684\u4ee3\u7801\u4e0e\u5b9e\u9645\u4f7f\u7528\u4ea7\u54c1\u7684\u4ee3\u7801\u5206\u79bb\uff0c\u4ece\u800c\u80fd\u5728\u4e0d\u5f71\u54cd\u5176\u4ed6\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\u6269\u5c55\u4ea7\u54c1\u521b\u5efa\u90e8\u5206\u4ee3\u7801\u3002\u4f8b\u5982\uff0c\u5982\u679c\u9700\u8981\u5411\u5e94\u7528\u4e2d\u6dfb\u52a0\u4e00\u79cd\u65b0\u4ea7\u54c1\uff0c\u4f60\u53ea\u9700\u8981\u5f00\u53d1\u65b0\u7684\u521b\u5efa\u8005\u5b50\u7c7b\uff0c\u7136\u540e\u91cd\u5199\u5176\u5de5\u5382\u65b9\u6cd5\u5373\u53ef\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.3.%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F.html#_3","title":"\u62bd\u8c61\u5de5\u5382","text":"<p>\u62bd\u8c61\u5de5\u5382\u5b9e\u9645\u4e0a\u662f\u4e00\u7ec4\u5de5\u5382\u65b9\u6cd5\u3002</p> <p>\u5982\u4e0b\u56fe\uff0c\u73b0\u5728\u6709\u4e09\u79cd\u5bb6\u5177\uff1a\u6905\u5b50\u3001\u6c99\u53d1\u3001\u5496\u5561\u684c\uff0c\u540c\u65f6\u5bb6\u5177\u53ef\u4ee5\u6709\u4e09\u79cd\u98ce\u683c\uff1a\u73b0\u4ee3\u3001\u7ef4\u591a\u5229\u4e9a\u3001\u88c5\u9970\u98ce\u827a\u672f\u3002</p> \u7cfb\u5217\u4ea7\u54c1\u53ca\u5176\u4e0d\u540c\u53d8\u4f53 <p>\u90a3\u4e48\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u4e09\u79cd\u5bb6\u5177\u521b\u5efa\u57fa\u7c7b\uff0c\u5176\u5b50\u7c7b\u5206\u522b\u662f\u4e09\u79cd\u98ce\u683c\u7684\u5bb6\u5177\u3002</p> \u540c\u4e00\u5bf9\u8c61\u7684\u6240\u6709\u53d8\u4f53\u90fd\u5fc5\u987b\u653e\u7f6e\u5728\u540c\u4e00\u4e2a\u7c7b\u5c42\u6b21\u7ed3\u6784\u4e4b\u4e2d  <p>\u540c\u65f6\u5199\u4e09\u4e2a\u5177\u4f53\u521b\u5efa\u8005\u7c7b\uff0c\u5206\u522b\u5bf9\u5e94\u4e09\u79cd\u98ce\u683c\uff0c\u6bcf\u4e2a\u5177\u4f53\u521b\u5efa\u8005\u90fd\u6709\u4e09\u4e2a\u5de5\u5382\u65b9\u6cd5\uff0c\u5206\u522b\u7528\u4e8e\u521b\u5efa\u5177\u4f53\u98ce\u683c\u7684\u5bb6\u5177\u3002</p> \u6bcf\u4e2a\u5177\u4f53\u5de5\u5382\u7c7b\u90fd\u5bf9\u5e94\u4e00\u4e2a\u7279\u5b9a\u7684\u98ce\u683c  <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5e94\u7528\u7a0b\u5e8f\u4f1a\u5728\u521d\u59cb\u5316\u9636\u6bb5\u521b\u5efa\u5177\u4f53\u5de5\u5382\u5bf9\u8c61 \u3002\u800c\u5728\u6b64\u4e4b\u524d\uff0c\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u6839\u636e\u914d\u7f6e\u6587\u4ef6\u6216\u73af\u5883\u8bbe\u5b9a\u9009\u62e9\u5de5\u5382\u7c7b\u522b\u3002 </p> <ul> <li>\u62bd\u8c61\u4ea7\u54c1\uff08Abstract Prod\u00aduct \uff09\uff1a\u4e3a\u6784\u6210\u7cfb\u5217\u4ea7\u54c1\u7684\u4e00\u7ec4\u4e0d\u540c\u4f46\u76f8\u5173\u7684\u4ea7\u54c1\u58f0\u660e\u63a5\u53e3 \u3002</li> <li>\u5177\u4f53\u4ea7\u54c1\uff08Con\u00adcrete Prod\u00aduct\uff09\uff1a\u662f\u62bd\u8c61\u4ea7\u54c1\u7684\u591a\u79cd\u4e0d\u540c\u7c7b\u578b\u5b9e\u73b0\u3002\u6240\u6709\u53d8\u4f53\uff08\u7ef4\u591a\u5229\u4e9a/\u73b0\u4ee3\uff09\u90fd\u5fc5\u987b\u5b9e\u73b0\u76f8\u5e94\u7684\u62bd\u8c61\u4ea7\u54c1\uff08 \u6905\u5b50/\u6c99\u53d1 \uff09\u3002 </li> <li>\u62bd\u8c61\u5de5\u5382\uff08Abstract Fac\u00adto\u00adry\uff09\uff1a\u63a5\u53e3\u58f0\u660e\u4e86\u4e00\u7ec4\u521b\u5efa\u5404\u79cd\u62bd\u8c61\u4ea7\u54c1\u7684\u65b9\u6cd5\u3002</li> <li>\u5177\u4f53\u5de5\u5382\uff08Con\u00adcrete Fac\u00adto\u00adry\uff09\uff1a\u5b9e\u73b0\u62bd\u8c61\u5de5\u5382\u7684\u6784\u5efa\u65b9\u6cd5\u3002\u6bcf\u4e2a\u5177\u4f53\u5de5\u5382\u90fd\u5bf9\u5e94\u7279\u5b9a\u4ea7\u54c1\u53d8\u4f53\u3002</li> <li>\u5ba2\u6237\u7aef\uff1a\u4e1a\u52a1\u903b\u8f91\u8c03\u7528Con\u00adcrete Fac\u00adto\u00adry\u7684\u5de5\u5382\u65b9\u6cd5\uff0c\u5f97\u5230\u5177\u4f53\u7684\u4ea7\u54c1\u3002</li> </ul>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.3.%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F.html#_4","title":"\u9002\u7528\u573a\u666f","text":"<p>\u5982\u679c\u4ee3\u7801\u9700\u8981\u4e0e\u591a\u4e2a\u4e0d\u540c\u7cfb\u5217\u7684\u76f8\u5173\u4ea7\u54c1\u4ea4\u4e92\uff0c\u4f46\u662f\u7531\u4e8e\u65e0\u6cd5\u63d0\u524d\u83b7\u53d6\u76f8\u5173\u4fe1\u606f\uff0c\u6216\u8005\u51fa\u4e8e\u5bf9\u672a\u6765\u6269\u5c55\u6027\u7684\u8003\u8651\uff0c\u4f60\u4e0d\u5e0c\u671b\u4ee3\u7801\u57fa\u4e8e\u4ea7\u54c1\u7684\u5177\u4f53\u7c7b\u8fdb\u884c\u6784\u5efa\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528\u62bd\u8c61\u5de5\u5382\u3002</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.3.%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F.html#-builder","title":"\u751f\u6210\u5668 - Builder","text":"<p>\u5047\u8bbe\u6709\u8fd9\u6837\u4e00\u4e2a\u590d\u6742\u7684\u4ea7\u54c1\u7c7b\u5bf9\u8c61\uff0c\u5728\u5bf9\u5176\u8fdb\u884c\u6784\u9020\u65f6\u9700\u8981\u5bf9\u8bf8\u591a\u6210\u5458\u53d8\u91cf\u548c\u5d4c\u5957\u5bf9\u8c61\u8fdb\u884c\u7e41\u590d\u7684\u521d\u59cb\u5316\u5de5\u4f5c\u3002\u8fd9\u4e9b\u521d\u59cb\u5316\u4ee3\u7801\u901a\u5e38\u6df1\u85cf\u4e8e\u4e00\u4e2a\u5305\u542b\u4f17\u591a\u53c2\u6570\u4e14\u8ba9\u4eba\u57fa\u672c\u770b\u4e0d\u61c2\u7684\u6784\u9020\u51fd\u6570\u4e2d\uff1b\u751a\u81f3\u8fd8\u6709\u66f4\u7cdf\u7cd5\u7684\u60c5\u51b5\uff0c\u90a3\u5c31\u662f\u8fd9\u4e9b\u4ee3\u7801\u6563\u843d\u5728\u5ba2\u6237\u7aef\u4ee3\u7801\u7684\u591a\u4e2a\u4f4d\u7f6e\u3002</p> <p></p> <ul> <li> <p>\u751f\u6210\u5668\uff08Builder\uff09\uff1a\u63a5\u53e3\u58f0\u660e\u5728\u6240\u6709\u7c7b\u578b\u751f\u6210\u5668\u4e2d\u901a\u7528\u7684\u4ea7\u54c1\u6784\u9020\u6b65\u9aa4\u3002</p> </li> <li> <p>\u5177\u4f53\u751f\u6210\u5668\uff08Concrete Builders\uff09\uff1a\u63d0\u4f9b\u6784\u9020\u8fc7\u7a0b\u7684\u4e0d\u540c\u5b9e\u73b0 \u3002\u5177\u4f53\u751f\u6210\u5668\u4e5f\u53ef\u4ee5\u6784\u9020\u4e0d\u9075\u5faa\u901a\u7528\u63a5\u53e3\u7684\u4ea7\u54c1\u3002</p> </li> <li> <p>\u4ea7\u54c1\uff08Products\uff09\uff1a\u6700\u7ec8\u751f\u6210\u7684\u5bf9\u8c61\u3002 \u7531\u4e0d\u540c\u751f\u6210\u5668\u6784\u9020\u7684\u4ea7\u54c1\u65e0\u9700\u5c5e\u4e8e\u540c\u4e00\u7c7b\u5c42\u6b21\u7ed3\u6784\u6216\u63a5\u53e3</p> </li> <li> <p>\u4e3b\u7ba1\uff08Director \uff09 \u7c7b\uff1a\u5b9a\u4e49\u8c03\u7528\u6784\u9020\u6b65\u9aa4\u7684\u987a\u5e8f \uff0c \u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u521b\u5efa\u548c\u590d\u7528\u7279\u5b9a\u7684\u4ea7\u54c1\u914d\u7f6e \u3002</p> </li> <li> <p>\u5ba2\u6237\u7aef \uff08 Client \uff09 \u5fc5\u987b\u5c06\u67d0\u4e2a\u751f\u6210\u5668\u5bf9\u8c61\u4e0e\u4e3b\u7ba1\u7c7b\u5173\u8054 \u3002 \u4e00\u822c\u60c5\u51b5\u4e0b \uff0c \u4f60\u53ea\u9700\u901a\u8fc7\u4e3b\u7ba1\u7c7b\u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u8fdb\u884c\u4e00\u6b21\u6027\u5173\u8054\u5373\u53ef \u3002 \u6b64\u540e\u4e3b\u7ba1\u7c7b\u5c31\u80fd\u4f7f\u7528\u751f\u6210\u5668\u5bf9\u8c61\u5b8c\u6210\u540e\u7eed\u6240\u6709\u7684\u6784\u9020\u4efb\u52a1 \u3002 \u4f46\u5728\u5ba2\u6237\u7aef\u5c06\u751f\u6210\u5668\u5bf9\u8c61\u4f20\u9012\u7ed9\u4e3b\u7ba1\u7c7b\u5236\u9020\u65b9\u6cd5\u65f6\u8fd8\u6709\u53e6\u4e00\u79cd\u65b9\u5f0f \u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b \uff0c \u4f60\u5728\u4f7f\u7528\u4e3b\u7ba1\u7c7b\u751f\u4ea7\u4ea7\u54c1\u65f6\u6bcf\u6b21\u90fd\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u751f\u6210\u5668</p> </li> </ul> <p>\u5b9e\u9645\u4e0a\uff0c\u5177\u4f53\u751f\u6210\u5668\u8fd8\u9700\u8981\u4f9d\u8d56\u4e00\u4e2a\u539f\u59cb\u4ea7\u54c1\u7c7b\uff0c\u8be5\u539f\u59cb\u4ea7\u54c1\u7c7b\u7ecf\u8fc7\u4e3b\u7ba1\u7c7b\u6240\u5b9a\u4e49\u6784\u9020\u6b65\u9aa4\uff0c\u88ab\u52a0\u5de5\u6210\u6700\u7ec8\u4ea7\u54c1\u5bf9\u8c61\u3002</p> <p>\u4e13\u95e8\u7528\u4e8e\u751f\u4ea7\u4e00\u7cfb\u5217\u76f8\u5173\u5bf9\u8c61\u3002\u62bd\u8c61\u5de5\u5382 \u4f1a\u9a6c\u4e0a\u8fd4\u56de\u4ea7\u54c1\uff0c\u751f\u6210\u5668 \u5219\u5141\u8bb8\u4f60\u5728\u83b7\u53d6\u4ea7\u54c1\u524d\u6267\u884c\u4e00\u4e9b\u989d\u5916\u6784\u9020\u6b65\u9aa4\u3002\u4f60\u53ef\u4ee5\u5728\u521b\u5efa\u590d\u6742 \u7ec4\u5408 \u6811\u65f6\u4f7f\u7528 \u751f\u6210\u5668\uff0c\u56e0\u4e3a\u8fd9\u53ef\u4f7f\u5176\u6784\u9020\u6b65\u9aa4\u4ee5\u9012\u5f52\u7684\u65b9\u5f0f\u8fd0\u884c\u3002\u4f60\u53ef\u4ee5\u7ed3\u5408\u4f7f\u7528 \u751f\u6210\u5668 \u548c \u6865\u63a5 \u6a21\u5f0f\uff1a\u4e3b\u7ba1 \u7c7b\u8d1f\u8d23\u62bd\u8c61\u5de5\u4f5c\uff0c\u5404\u79cd\u4e0d\u540c\u7684\u751f\u6210\u5668</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.3.%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F.html#_5","title":"\u539f\u578b","text":"<p>\u539f\u578b \u662f\u4e00\u79cd\u521b\u5efa\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u4f7f \u4f60\u80fd\u591f\u590d\u5236\u5df2\u6709\u5bf9\u8c61\uff0c\u800c\u53c8\u65e0\u9700 \u4f7f\u4ee3\u7801\u4f9d\u8d56\u5b83\u4eec\u6240\u5c5e\u7684\u7c7b\u3002</p> <p>\u590d\u5236\u4e00\u4e2a\u5bf9\u8c61\u6709\u4e24\u79cd\u65b9\u6cd5\uff1a</p> <ol> <li>\u4ece\u5916\u90e8\u590d\u5236\uff0c\u521b\u5efa\u4e00\u4e2a\u4e0e\u539f\u59cb\u5bf9\u8c61\u5c5e\u4e8e\u76f8\u540c\u7c7b\u7684\u5bf9\u8c61\uff0c\u904d\u5386\u539f\u59cb\u5bf9\u8c61\u7684\u6240\u6709\u6210\u5458\u53d8\u91cf\uff0c\u5e76\u5c06\u6210\u5458\u53d8\u91cf\u7684\u503c\u590d\u5236\u5230\u65b0\u5bf9\u8c61\u4e2d\u3002</li> </ol> <p>\u8fd9\u4f1a\u6709\u4e24\u4e2a\u95ee\u9898\uff1a</p> <p>\u8fd9\u8981\u6c42\u4f60\u5fc5\u987b\u77e5\u9053\u539f\u59cb\u5bf9\u8c61\u6240\u5c5e\u7684\u7c7b\uff0c\u6240\u4ee5\u4ee3\u7801\u5fc5\u987b\u4f9d\u8d56\u8be5\u7c7b\u3002\u5373\u4f7f\u4f60\u53ef\u4ee5\u63a5\u53d7\u989d\u5916\u7684\u4f9d\u8d56\u6027\uff0c\u4f46\u6709\u65f6\u5bf9\u8c61\u7684\u7c7b\u53ef\u80fd\u662f\u4e0d\u77e5\u9053\u7684\u3002</p> <p>\u6709\u4e9b\u5bf9\u8c61\u53ef\u80fd\u62e5\u6709\u79c1\u6709\u6210\u5458\u53d8\u91cf\uff0c\u65e0\u6cd5\u4ece\u5916\u90e8\u8bbf\u95ee\u3002</p> <ol> <li>\u4ece\u5185\u90e8\u590d\u5236\uff1a\u590d\u5236\u8fc7\u7a0b\u7531\u539f\u59cb\u5bf9\u8c61\u5b9e\u73b0\uff0c\u8c03\u7528\u539f\u59cb\u5bf9\u8c61\u7684\u76f8\u5173\u63a5\u53e3\uff0c\u4fbf\u53ef\u8fd4\u56de\u4e00\u4e2a\u514b\u9686\u5bf9\u8c61\u3002\u652f\u6301\u514b\u9686\u7684\u5bf9\u8c61\u4fbf\u79f0\u4e3a\u539f\u578b\u3002</li> </ol> <p>\u5f53\u4f60\u7684\u5bf9\u8c61\u6709\u51e0\u5341\u4e2a\u6210\u5458\u53d8\u91cf\u548c\u51e0\u767e\u79cd\u7c7b\u578b\u65f6\u5bf9\u5176\u8fdb\u884c\u514b\u9686\u751a\u81f3\u53ef\u4ee5\u4ee3\u66ff\u5b50\u7c7b\u7684\u6784\u9020\u3002</p> <p></p> <p>1.\u539f\u578b\uff08 Prototype\uff09\u63a5\u53e3\u5c06\u5bf9\u514b\u9686\u65b9\u6cd5\u8fdb\u884c\u58f0\u660e\u3002\u5728\u7edd\u5927\u591a\u6570\u60c5\u6cc1\u4e0b\uff0c\u5176\u4e2d\u53ea\u4f1a\u6709\u4e00\u4e2a\u540d\u4e3a clone\u514b\u9686\u7684\u65b9\u6cd5\u3002</p> <p>2.\u5177\u4f53\u539f\u578b\uff08 Concrete Prototype\uff09\u7c7b\u5c06\u5b9e\u73b0\u514b\u9686\u65b9\u6cd5\u3002\u9664\u4e86\u5c06\u539f\u59cb\u5bf9\u8c61\u7684\u6570\u636e\u590d\u5236\u5230\u514b\u9686\u4f53\u4e2d\u4e4b\u5916\uff0c\u8be5\u65b9\u6cd5\u6709\u65f6\u8fd8\u9700\u5904\u7406\u514b\u9686\u8fc7\u7a0b\u4e2d\u7684\u6781\u7aef\u60c5\u51b5\uff0c\u4f8b\u5982\u514b\u9686\u5173\u8054\u5bf9\u8c61\u548c\u68b3\u7406\u9012\u5f52\u4f9d\u8d56\u7b49\u7b49\u3002</p> <p>3.\u5ba2\u6237\u7aef\uff08 Client\uff09\u53ef\u4ee5\u590d\u5236\u5b9e\u73b0\u4e86\u539f\u578b\u63a5\u53e3\u7684\u4efb\u4f55\u5bf9\u8c61</p>"},{"location":"Python3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/7.3.%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F.html#_6","title":"\u5355\u4f8b","text":"<p>\u5355\u4f8b\u662f\u4e00\u79cd\u521b\u5efa\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c \u8ba9\u4f60\u80fd\u591f\u4fdd\u8bc1\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5e76\u63d0\u4f9b\u4e00\u4e2a\u8bbf\u95ee\u8be5 \u5b9e\u4f8b\u7684\u5168\u5c40\u8282\u70b9\u3002</p> <ol> <li> <p>\u5de5\u5382\u65b9\u6cd5\u6709\u4e24\u4e2a\u542b\u4e49\uff1a1. \u5177\u4f53\u6307\u4ee3\u521b\u5efa\u8005\u7c7b\u7684\u521b\u5efa\u4ea7\u54c1\u7c7b\u7684\u51fd\u6570\uff1b2.\u6307\u4ee3\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u3002\u9700\u8981\u6839\u636e\u4e0a\u4e0b\u6587\u786e\u5b9a\u662f\u54ea\u4e2a\u542b\u4e49\u3002\u00a0\u21a9</p> </li> </ol>"}]}